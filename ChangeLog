------------------------------------------------------------------------
r23525 | gerald | 2007-11-20 16:09:38 -0800 (Tue, 20 Nov 2007) | 2 lines
Changed paths:
   M /trunk/config.nmake
   M /trunk/configure.in
   M /trunk/docbook/release-notes.xml

Bump the trunk to 0.99.8.

------------------------------------------------------------------------
r23527 | kukosa | 2007-11-21 05:11:13 -0800 (Wed, 21 Nov 2007) | 1 line
Changed paths:
   M /trunk/gtk/proto_draw.c

fix crash caused with memory overwrite (flush buffer into window when we do not have space for next line)
------------------------------------------------------------------------
r23528 | kukosa | 2007-11-21 06:10:55 -0800 (Wed, 21 Nov 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ssl.c

more SSL debug info concerning conversation and ssl_session
------------------------------------------------------------------------
r23529 | gerald | 2007-11-21 09:00:24 -0800 (Wed, 21 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ncp2222.inc

Don't try to overwrite read-only memory.  Fixes bug 2001.

------------------------------------------------------------------------
r23531 | gerald | 2007-11-21 10:32:44 -0800 (Wed, 21 Nov 2007) | 2 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/wiretap/configure.in

Make it easier to change the default behavior of --enable-warnings-as-errors.

------------------------------------------------------------------------
r23532 | stig | 2007-11-21 10:56:05 -0800 (Wed, 21 Nov 2007) | 2 lines
Changed paths:
   M /trunk/gtk/gui_prefs.c
   M /trunk/gtk/gui_prefs.h
   M /trunk/gtk/prefs_dlg.c

Avoid redraw hex dump windows if redissecting.

------------------------------------------------------------------------
r23533 | stig | 2007-11-21 11:00:20 -0800 (Wed, 21 Nov 2007) | 2 lines
Changed paths:
   M /trunk/colorfilters

Cosmetic change to order the icmp.type

------------------------------------------------------------------------
r23534 | sake | 2007-11-21 12:33:50 -0800 (Wed, 21 Nov 2007) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cfm.c

Bug 1994: From Keith Mercer :

This bugfix is focused only in the Sender ID TLV segment of code.  This was to
address the possibility that the Sender ID TLV may not have a Management
Address Domain, and/or a Management Address.  This bug was discovered when
testing the dissector using CFM-enabled Netopia modems.


------------------------------------------------------------------------
r23535 | guy | 2007-11-21 14:16:04 -0800 (Wed, 21 Nov 2007) | 5 lines
Changed paths:
   M /trunk/wiretap/visual.c

Don't use "if it begins with 0xff 0x03 it's PPP, otherwise it's Cisco
HDLC" to try to distinguish Cisco HDLC from PPP packets;
Address-and-Control-Field-Compression can be negotiated on, so there's
no guarantee that PPP frames begin with 0xff 0x03.  Fixes bug 2005.

------------------------------------------------------------------------
r23537 | guy | 2007-11-21 14:47:36 -0800 (Wed, 21 Nov 2007) | 2 lines
Changed paths:
   M /trunk/wiretap/visual.c

Get rid of a no-longer-used variable.

------------------------------------------------------------------------
r23538 | guy | 2007-11-21 14:49:02 -0800 (Wed, 21 Nov 2007) | 3 lines
Changed paths:
   M /trunk/dumpcap.c

Catch SIGINT, SIGHUP, and SIGTERM on UN*X, so we cleanly exit if, for
example, we're ^C'ed.  This should fix bug 2003.

------------------------------------------------------------------------
r23539 | stig | 2007-11-21 15:33:13 -0800 (Wed, 21 Nov 2007) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Added handling of octet-aligned data according to direct_reference.
Implemented handling of ber_callback for tagged type octet-aligned
and arbitrary.  Renamed some functions.

------------------------------------------------------------------------
r23540 | wmeier | 2007-11-21 16:33:22 -0800 (Wed, 21 Nov 2007) | 2 lines
Changed paths:
   M /trunk/dumpcap.c

Rename Windows ConsoleCtrHandlerRoutine --> capture_cleanup to match SVN #23537 change   

------------------------------------------------------------------------
r23541 | guy | 2007-11-21 17:16:57 -0800 (Wed, 21 Nov 2007) | 5 lines
Changed paths:
   M /trunk/capture_loop.c

Don't count packets until we've successfully written them to the capture
file.

If we set the "stop capture" flag, don't process the packet.

------------------------------------------------------------------------
r23542 | guy | 2007-11-21 17:51:16 -0800 (Wed, 21 Nov 2007) | 5 lines
Changed paths:
   M /trunk/capture_loop.c

Have capture_loop_dispatch() calculate the number of packets written
out, and return that; pcap_dispatch() returns the number of packets it
processed, but we might have discarded some or all of them if we hit the
packet limit in the middle of processing them.

------------------------------------------------------------------------
r23543 | guy | 2007-11-21 17:51:51 -0800 (Wed, 21 Nov 2007) | 2 lines
Changed paths:
   M /trunk/tshark.c

If we only captured 1 packet, print "1 packet", not "1 packets".

------------------------------------------------------------------------
r23544 | ulfl | 2007-11-22 01:04:32 -0800 (Thu, 22 Nov 2007) | 1 line
Changed paths:
   M /trunk/packaging/nsis/wireshark.nsi
   M /trunk/packaging/u3/win32/makefile.nmake

don't install the *.exe.manifest and *.dll.manifest files. The manifest is embedded in the exe/dll files, so no need to install them seperately.
------------------------------------------------------------------------
r23545 | sfisher | 2007-11-22 11:02:31 -0800 (Thu, 22 Nov 2007) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fcoe.c


Make previously removed ethertype preference obsolete.  For inclusion in
0.99.7 release.


------------------------------------------------------------------------
r23546 | ulfl | 2007-11-23 00:39:11 -0800 (Fri, 23 Nov 2007) | 1 line
Changed paths:
   M /trunk/test/suite-capture.sh

because of the privilege separation done, read filters won't work by definition now. Comment out the corresponding test case
------------------------------------------------------------------------
r23547 | ulfl | 2007-11-23 00:42:58 -0800 (Fri, 23 Nov 2007) | 1 line
Changed paths:
   M /trunk/test/suite-unittests.sh

fix a comment: manifest files are now embedded into .exe / .dll files, no need to copy them
------------------------------------------------------------------------
r23548 | stig | 2007-11-23 04:22:22 -0800 (Fri, 23 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Moved check for empty choice to make it work correctly.

------------------------------------------------------------------------
r23549 | stig | 2007-11-23 09:48:28 -0800 (Fri, 23 Nov 2007) | 6 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-eap.c
   M /trunk/epan/dissectors/packet-ieee80211.c
   A /trunk/epan/dissectors/packet-wps.c
   A /trunk/epan/dissectors/packet-wps.h
   M /trunk/epan/eap.h

From Jens Braeuer:
Added support for Wifi Simple Config aka Wifi Protected Setup

From me:
Added standard copyright header to packet-wps

------------------------------------------------------------------------
r23550 | guy | 2007-11-23 10:25:39 -0800 (Fri, 23 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common

Include packet-wps.h, so it's part of the source tarball.

------------------------------------------------------------------------
r23551 | stig | 2007-11-23 10:29:00 -0800 (Fri, 23 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wps.c
   M /trunk/epan/dissectors/packet-wps.h

No $Id:$ in new files?

------------------------------------------------------------------------
r23553 | guy | 2007-11-23 10:48:49 -0800 (Fri, 23 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wps.c
   M /trunk/epan/dissectors/packet-wps.h

Set the usual properties on packet-wps.[ch].

------------------------------------------------------------------------
r23555 | gerald | 2007-11-23 12:15:28 -0800 (Fri, 23 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipv6.c

Fix bug 2007 (a loop in IPv6).

------------------------------------------------------------------------
r23557 | gerald | 2007-11-23 15:31:21 -0800 (Fri, 23 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

Catch a bad bLength, which may cause a loop. Fixes bug 2012.

------------------------------------------------------------------------
r23558 | sfisher | 2007-11-23 19:33:18 -0800 (Fri, 23 Nov 2007) | 5 lines
Changed paths:
   M /trunk/wiretap/Makefile.common
   A /trunk/wiretap/commview.c
   A /trunk/wiretap/commview.h
   M /trunk/wiretap/file_access.c
   M /trunk/wiretap/wtap.h


Initial checkin of support to read TamoSoft's CommView packet capture files
per enhancement bug #1795.


------------------------------------------------------------------------
r23559 | etxrab | 2007-11-24 02:55:42 -0800 (Sat, 24 Nov 2007) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml
   M /trunk/diameter/mobileipv4.xml
   M /trunk/diameter/nasreq.xml

Add AVP:s
------------------------------------------------------------------------
r23560 | sake | 2007-11-24 03:38:16 -0800 (Sat, 24 Nov 2007) | 29 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/color_filters.c
   M /trunk/color_filters.h
   M /trunk/doc/wireshark.pod
   M /trunk/docbook/wsug_src/WSUG_chapter_customize.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_use.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_work.xml
   M /trunk/epan/prefs.c
   M /trunk/epan/prefs.h
   M /trunk/gtk/color_dlg.c
   M /trunk/gtk/compat_macros.h
   M /trunk/gtk/main.c
   M /trunk/gtk/main.h
   M /trunk/gtk/menu.c
   M /trunk/gtk/toolbar.c
   M /trunk/help/getting_started.txt

This patch adds (ten) temporary coloring rules which will only live until Wireshark is
quit. Temporary coloring filters can be set by:

- pressing <ctrl>-<digit> will create a conversation coloring filter based on the
  addresses of the currently selected packet (order TCP/UDP/IP/Ethernet)
  This can also be achieved from the "View|Colorize Conversation" menu.

- Rightclicking on a packet in the packet-list will give the option to
  "Colorize Conversation" just as "Conversation Filter" does.

- Rightclicking on an item in the packet-detail-list will give the option to
  "Colorize with filter" which works similar to "Apply as filter"

Temporary filters can be cleared from the same menus or by pressing <ctrl>-<space>.

This patch also adds an item to the above mentioned menu's to add a permanent color filter
in the same way.


The colors for the temporary coloring rules are now hardcoded as I do not know
how to change the color of menu-items and therefore I chose to use icons to
show the actual color of each of the ten temporary coloring rules. Is it at all
possible to have different menu items in different colors?

One other way of solving this is to recreate the icons on the fly after changing
the colors. I will have a look into that once it is clear whether I can use 
different colors within the menu structure.


------------------------------------------------------------------------
r23561 | sake | 2007-11-24 03:41:05 -0800 (Sat, 24 Nov 2007) | 3 lines
Changed paths:
   A /trunk/image/toolbar/icon_color_0.xpm
   A /trunk/image/toolbar/icon_color_1.xpm
   A /trunk/image/toolbar/icon_color_2.xpm
   A /trunk/image/toolbar/icon_color_3.xpm
   A /trunk/image/toolbar/icon_color_4.xpm
   A /trunk/image/toolbar/icon_color_5.xpm
   A /trunk/image/toolbar/icon_color_6.xpm
   A /trunk/image/toolbar/icon_color_7.xpm
   A /trunk/image/toolbar/icon_color_8.xpm
   A /trunk/image/toolbar/icon_color_9.xpm

Whoops... forgot the 'svn add' the icons :-)


------------------------------------------------------------------------
r23562 | gal | 2007-11-24 03:45:51 -0800 (Sat, 24 Nov 2007) | 7 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.nmake
   M /trunk/tools/win32-setup.sh

Support for the automatic configuration of the UPX dll/exe packer.

config.nmake - default UPX to the downloaded version in $WIRESHARK_LIBS
win32-setup.sh - updated to also add executables bit to exes - and also use new tag
Makefile.nmake - to download UPX (and also use new version of user-guide)


------------------------------------------------------------------------
r23563 | morriss | 2007-11-24 07:38:19 -0800 (Sat, 24 Nov 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sccp.c

Fix http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2006 : use 0xffffff (reserved value) for unset xLRs
------------------------------------------------------------------------
r23564 | morriss | 2007-11-24 07:43:39 -0800 (Sat, 24 Nov 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sccp.c

Fix bug http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2011 : check SSN in both Called and Calling addresses even when we know the direction of the messages
------------------------------------------------------------------------
r23565 | morriss | 2007-11-24 08:09:47 -0800 (Sat, 24 Nov 2007) | 1 line
Changed paths:
   M /trunk/plugins/wimaxasncp/wimaxasncp_dict.l

Fix http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1914 when building out of the source tree by not issuing a complaint if the wimaxasncp dictionary is not found. This is ugly but it's how diameter does it, too, and I am not aware of a better way.
------------------------------------------------------------------------
r23566 | etxrab | 2007-11-24 09:39:31 -0800 (Sat, 24 Nov 2007) | 1 line
Changed paths:
   M /trunk/asn1/ros/Makefile.common
   M /trunk/asn1/ros/ros.asn
   M /trunk/asn1/ros/ros.cnf
   M /trunk/epan/dissectors/packet-ros.c
   M /trunk/epan/dissectors/packet-ros.h

Export classes from ROS - hopfully without breaking stuff.
------------------------------------------------------------------------
r23567 | morriss | 2007-11-24 09:56:46 -0800 (Sat, 24 Nov 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sctp.c

Fix crash reported in http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2014 : when adding fragments to the linked list of end fragments, don't check the TSN of the begin fragment--it may not be there.  Looks like a cut-n-pasteo.
------------------------------------------------------------------------
r23568 | gerald | 2007-11-24 11:13:54 -0800 (Sat, 24 Nov 2007) | 2 lines
Changed paths:
   M /trunk/asn1/h225/packet-h225-template.c
   M /trunk/epan/dissectors/packet-h225.c

Make sure h225_pi is never NULL.

------------------------------------------------------------------------
r23569 | stig | 2007-11-24 12:55:03 -0800 (Sat, 24 Nov 2007) | 2 lines
Changed paths:
   M /trunk/gtk/menu.c

Add a cast to make it compile again.

------------------------------------------------------------------------
r23570 | stig | 2007-11-24 14:09:01 -0800 (Sat, 24 Nov 2007) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c
   M /trunk/epan/dissectors/packet-nfs.h

From J. Bruce Fields:
Add basic support for NFSv4.1, as of about draft 13 of the current spec.
The protocol is not completely finished yet, and future patches will be
needed to bring it up to date.

From me:
- Add a check for valid pointers in nfsv4_operation_ett
- Always increase offset when calling dissect_nfs_devices4
- Added a default case in dissect_rpc_secparms4

------------------------------------------------------------------------
r23571 | stig | 2007-11-24 14:45:57 -0800 (Sat, 24 Nov 2007) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

From Alex Burlyga:
It looks like in dissect_nfs_open_claim_delegate_cur4() instead of dissection
stateid we are doing something wierd and dissecting uint64 instead(remnants of 
rfc3010 where stateid was 64 bit number?). We already have function for
dissecting stateids, so just a matter of making a different call. 

From me:
Also deleted the hf_nfs_stateid4_delegate_stateid entry.

------------------------------------------------------------------------
r23572 | stig | 2007-11-24 15:04:49 -0800 (Sat, 24 Nov 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

From Graham Bloice:
Show correct TCP segment data (and length) when multiple pdus.

------------------------------------------------------------------------
r23573 | guy | 2007-11-24 15:43:21 -0800 (Sat, 24 Nov 2007) | 4 lines
Changed paths:
   M /trunk/wiretap/visual.c

From James Menzies: if the per-packet encapsulation hint is 14, the
packets are always PPP, otherwise they're of an unknown type and we use
a heuristic to guess the type.

------------------------------------------------------------------------
r23574 | stig | 2007-11-24 15:51:27 -0800 (Sat, 24 Nov 2007) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_customize.xml

Terminate <para> with </para>.

------------------------------------------------------------------------
r23575 | guy | 2007-11-24 16:23:37 -0800 (Sat, 24 Nov 2007) | 4 lines
Changed paths:
   M /trunk/wiretap/visual.c

Note that the encapsulation type values are SNMP ifType values, and
suggest that perhaps WTAP_ENCAP_PER_PACKET be used for
propPointToPointSerial and HDLC.

------------------------------------------------------------------------
r23576 | guy | 2007-11-24 16:50:49 -0800 (Sat, 24 Nov 2007) | 2 lines
Changed paths:
   M /trunk/wiretap/visual.c

Put in a comment about encapsulation hint values.

------------------------------------------------------------------------
r23577 | stig | 2007-11-24 17:48:01 -0800 (Sat, 24 Nov 2007) | 2 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/wiretap/configure.in

Corrected setting of "warnings_as_errors_default".

------------------------------------------------------------------------
r23578 | stig | 2007-11-24 17:53:45 -0800 (Sat, 24 Nov 2007) | 2 lines
Changed paths:
   M /trunk/wiretap/visual.c

Removed a "/*" within comment.

------------------------------------------------------------------------
r23579 | guy | 2007-11-24 18:06:41 -0800 (Sat, 24 Nov 2007) | 2 lines
Changed paths:
   M /trunk/wiretap/visual.c

Clean up a comment.

------------------------------------------------------------------------
r23580 | stig | 2007-11-24 18:20:41 -0800 (Sat, 24 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wps.c

Set an initial value to make gcc 4.1.3 20070929 (prerelease) on Ubuntu happy.

------------------------------------------------------------------------
r23581 | stig | 2007-11-25 04:15:02 -0800 (Sun, 25 Nov 2007) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fcoe.c
   M /trunk/gtk/main.c

From Joe Eykholt:
Show content even if the trailer is missing.

From me:
Add proto_tree_set_appendix for the checksum and EOF.

------------------------------------------------------------------------
r23582 | sake | 2007-11-25 04:36:33 -0800 (Sun, 25 Nov 2007) | 4 lines
Changed paths:
   M /trunk/color_filters.c
   M /trunk/color_filters.h
   M /trunk/gtk/color_dlg.c

Fixes crashing when opening color filters and pressing OK
(introduced in SVN 23560)


------------------------------------------------------------------------
r23583 | sake | 2007-11-25 06:17:56 -0800 (Sun, 25 Nov 2007) | 5 lines
Changed paths:
   M /trunk/color_filters.c
   M /trunk/color_filters.h
   M /trunk/gtk/main.c
   M /trunk/gtk/menu.c

Reset the temporary coloring filters to defaults instead of doing it
implicitly by calling "color_filters_init()". This should probably
fix the crashes experienced when pressing ctrl-space a couple of times


------------------------------------------------------------------------
r23584 | jake | 2007-11-25 07:36:38 -0800 (Sun, 25 Nov 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-fcoe.c

Based on suggestion from Stig Bj?\195?\184rlykke. Add CRC tree even when CRC is missing.
------------------------------------------------------------------------
r23585 | sake | 2007-11-25 07:55:45 -0800 (Sun, 25 Nov 2007) | 3 lines
Changed paths:
   M /trunk/color_filters.c

Make it possible to "move" a filter around the temporary coloring rules


------------------------------------------------------------------------
r23586 | gal | 2007-11-25 09:46:42 -0800 (Sun, 25 Nov 2007) | 4 lines
Changed paths:
   M /trunk/asn1/p7/MSAbstractService.asn
   A /trunk/asn1/p7/MSAccessProtocol.asn
   M /trunk/asn1/p7/MSGeneralAttributeTypes.asn
   M /trunk/asn1/p7/Makefile.common
   M /trunk/asn1/p7/p7.cnf
   M /trunk/asn1/p7/packet-p7-template.c
   M /trunk/asn1/p7/packet-p7-template.h
   M /trunk/asn1/x411/x411.asn
   M /trunk/asn1/x411/x411.cnf
   M /trunk/epan/dissectors/packet-p7.c
   M /trunk/epan/dissectors/packet-p7.h
   M /trunk/epan/dissectors/packet-x411.c
   M /trunk/epan/dissectors/packet-x411.h

Changes suggested/provided by Anders so that fewer changes are required to the ASN modules.
Also includes the MSAccessProtocol.asn to generate defines for the operation numbers.


------------------------------------------------------------------------
r23587 | sake | 2007-11-25 10:10:01 -0800 (Sun, 25 Nov 2007) | 9 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-nhrp.c

Bug 1997   From Timo Teras:

Patch to do the following:
1) Dissect CIE Lists in NHRP Extensions
2) Dissect original NHRP packet in Error Indication
3) Support for Cisco NAT extensions
4) Support for Cisco NHRP Traffic Indication packet


------------------------------------------------------------------------
r23588 | jake | 2007-11-25 11:20:32 -0800 (Sun, 25 Nov 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

Header field array and whitespace cleanup.
------------------------------------------------------------------------
r23589 | stig | 2007-11-25 13:30:33 -0800 (Sun, 25 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dmp.c

Added checksum.good and checksum.bad items.

------------------------------------------------------------------------
r23590 | stig | 2007-11-25 13:30:57 -0800 (Sun, 25 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-p_mul.c

Added checksum.good and checksum.bad items.

------------------------------------------------------------------------
r23591 | gerald | 2007-11-25 13:33:34 -0800 (Sun, 25 Nov 2007) | 2 lines
Changed paths:
   M /trunk/capture_sync.c

If a child doesn't quit 500ms after sending a QUIT signal, force it to exit.

------------------------------------------------------------------------
r23592 | gerald | 2007-11-25 13:38:18 -0800 (Sun, 25 Nov 2007) | 3 lines
Changed paths:
   M /trunk/capture_loop.c
   M /trunk/capture_loop.h

Move some items back into capture_loop.c (since TShark no longer needs them).
Clean up some of the Windows named pipe code.

------------------------------------------------------------------------
r23593 | gerald | 2007-11-25 15:08:09 -0800 (Sun, 25 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

Fix bug 2019: The SMB dissector was dereferencing a NULL pointer.

------------------------------------------------------------------------
r23594 | sfisher | 2007-11-25 21:34:07 -0800 (Sun, 25 Nov 2007) | 4 lines
Changed paths:
   M /trunk/wiretap/commview.c
   M /trunk/wiretap/commview.h
   M /trunk/wiretap/file_access.c


Add writing support for the CommView file format.


------------------------------------------------------------------------
r23595 | sfisher | 2007-11-26 00:08:51 -0800 (Mon, 26 Nov 2007) | 1 line
Changed paths:
   M /trunk/wiretap/commview.c

Change %G to %Y for year in strftime() so it works on Windows also (%G is an extension found at least on OS X).  Also change from 4 to 5 bytes in each strftime() to allow space for the NULL terminator with 4 character outputs.
------------------------------------------------------------------------
r23596 | sake | 2007-11-26 01:10:37 -0800 (Mon, 26 Nov 2007) | 4 lines
Changed paths:
   M /trunk/gtk/menu.c

Check if a packet is selected before trying to build a display filter based
on the "selected" packet. Fixes bug 2020.


------------------------------------------------------------------------
r23597 | stig | 2007-11-26 03:16:04 -0800 (Mon, 26 Nov 2007) | 3 lines
Changed paths:
   M /trunk/gtk/menu.c

Check current_frame instead of finfo_selected before trying to build a
display filter based on the "selected" package.

------------------------------------------------------------------------
r23598 | standel | 2007-11-26 06:30:40 -0800 (Mon, 26 Nov 2007) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-udp.c

iUpdate error handling of UDP Light Illegal Checksum value 0

  * Adding PI_MALFORMED expert field for this case.
  * Adding an error string in COL_INFO.


------------------------------------------------------------------------
r23599 | standel | 2007-11-26 06:42:38 -0800 (Mon, 26 Nov 2007) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-udp.c

Update error handling of UDP Light Illegal Checksum value 0

  * change expert group from PI_MALFORMED to PI_CHECKSUM (as it should be!!!).
  * set item hf_udp_checksum_[good|bad] as generated


------------------------------------------------------------------------
r23600 | stig | 2007-11-26 08:38:26 -0800 (Mon, 26 Nov 2007) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-spoolss.c

From Kai Blin:
Dissect the PRINTER_INFO structure in the SpoolssEnumPrinters call.

From me:
Add the level info to COL_INFO.

------------------------------------------------------------------------
r23601 | morriss | 2007-11-26 08:40:17 -0800 (Mon, 26 Nov 2007) | 1 line
Changed paths:
   M /trunk/capture_loop.c

Change (yet another--I really need to find a way to automate finding these things) open() to eth_open() to fix http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1987
------------------------------------------------------------------------
r23602 | stig | 2007-11-26 09:03:12 -0800 (Mon, 26 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-spoolss.c

Use correct offset for subtree in dissect_spoolss_relstr.

------------------------------------------------------------------------
r23603 | morriss | 2007-11-26 09:28:12 -0800 (Mon, 26 Nov 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sctp.c

gcc-4.1.1 thinks 'retval' might not get set inside the TRY().  Initialize it.
------------------------------------------------------------------------
r23604 | morriss | 2007-11-26 10:00:21 -0800 (Mon, 26 Nov 2007) | 1 line
Changed paths:
   M /trunk/gtk/uat_gui.c

From Florent Drouin via http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2015 : fix crash when editing UAT tables
------------------------------------------------------------------------
r23605 | morriss | 2007-11-26 10:35:37 -0800 (Mon, 26 Nov 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-kerberos.c
   M /trunk/gtk/capture_file_dlg.c
   M /trunk/gtk/follow_stream.c
   M /trunk/gtk/follow_tcp.c

s/stat/eth_stat/ and s/unlink/eth_unlink/ to avoid non-ASCII filename problems on Windows.
------------------------------------------------------------------------
r23606 | gerald | 2007-11-26 10:38:03 -0800 (Mon, 26 Nov 2007) | 2 lines
Changed paths:
   M /trunk/gtk/about_dlg.c
   M /trunk/gtk/main.c

If the user has G_LOG_LEVEL_INFO enabled, provide startup progress messages.

------------------------------------------------------------------------
r23607 | stig | 2007-11-26 10:51:24 -0800 (Mon, 26 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-spoolss.c

Use the offset and length for the interesting data.

------------------------------------------------------------------------
r23608 | morriss | 2007-11-26 10:55:17 -0800 (Mon, 26 Nov 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-epl.h
   M /trunk/epan/dissectors/packet-jxta.c
   M /trunk/epan/dissectors/packet-wbxml.c
   M /trunk/plugins/profinet/packet-dcerpc-pn-io.c
   M /trunk/plugins/wimax/mac_hd_type1_decoder.c
   M /trunk/plugins/wimax/mac_hd_type2_decoder.c
   M /trunk/plugins/wimax/msg_rep.c
   M /trunk/plugins/wimax/msg_ucd.c
   M /trunk/plugins/wimax/wimax_compact_dlmap_ie_decoder.c
   M /trunk/plugins/wimax/wimax_compact_ulmap_ie_decoder.c
   M /trunk/plugins/wimax/wimax_mac.h
   M /trunk/plugins/wimax/wimax_phy_attributes_decoder.c
   M /trunk/plugins/wimax/wimax_utils.c
   M /trunk/wiretap/k12text.l

Get rid of C++/C99 style comments--not all compilers support them
------------------------------------------------------------------------
r23609 | morriss | 2007-11-26 10:59:32 -0800 (Mon, 26 Nov 2007) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

When we've found C++ style comments, tell which file we found them in.
------------------------------------------------------------------------
r23610 | morriss | 2007-11-26 11:11:26 -0800 (Mon, 26 Nov 2007) | 1 line
Changed paths:
   M /trunk/plugins/wimax/msg_rep.c

Oops, don't put a comment inside a comment
------------------------------------------------------------------------
r23611 | gerald | 2007-11-26 13:54:00 -0800 (Mon, 26 Nov 2007) | 2 lines
Changed paths:
   M /trunk/gtk/about_dlg.c

Disable splash message logging, since it seems to ignore the log level mask.

------------------------------------------------------------------------
r23612 | morriss | 2007-11-26 15:06:07 -0800 (Mon, 26 Nov 2007) | 6 lines
Changed paths:
   M /trunk/asn1/mpeg-audio/packet-mpeg-audio-template.c
   M /trunk/epan/dissectors/packet-mpeg-audio.c
   M /trunk/wiretap/mpeg-audio.c
   M /trunk/wiretap/mpeg-audio.h

Get rid of the global data structures populated by wiretap/mpeg-audio but
used by the mpeg-audio dissector: instead keep the data inside the wiretap
module and add accessor functions.  I think this should fix
http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1677 and anyway it's
cleaner.

------------------------------------------------------------------------
r23613 | gerald | 2007-11-26 16:36:41 -0800 (Mon, 26 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

Make sure we fully initialize a struct. Fixes bug 2021.

------------------------------------------------------------------------
r23614 | gerald | 2007-11-26 17:02:03 -0800 (Mon, 26 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Tuomas Maattanen: Fix a .11e QBSS IE endian error.

------------------------------------------------------------------------
r23615 | guy | 2007-11-26 17:41:42 -0800 (Mon, 26 Nov 2007) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-diameter.c

Check for AVPs with a list of values and a type that's not a 32-bit or
shorter integral type.  Fixes bug 2027.

Rename the "bytes" pointer to "octetstring", and initialize it in a
fashion that makes it clearer that it points to the first of the basic
types, to make it clearer that it's for OctetString.

------------------------------------------------------------------------
r23616 | ulfl | 2007-11-26 17:49:40 -0800 (Mon, 26 Nov 2007) | 1 line
Changed paths:
   M /trunk/wiretap/wtap.def

fix mpa_... problems
------------------------------------------------------------------------
r23617 | sfisher | 2007-11-26 21:43:29 -0800 (Mon, 26 Nov 2007) | 6 lines
Changed paths:
   M /trunk/wiretap/commview.c


Add support for showing wireless LAN info (signal strength / rate / channel)
in Wireshark when reading CommView files.  Also write out these values when
coming from a file format with encapsulation type 802.11 with radio.


------------------------------------------------------------------------
r23618 | jake | 2007-11-26 22:49:48 -0800 (Mon, 26 Nov 2007) | 1 line
Changed paths:
   M /trunk/gtk/rtp_analysis.c

Fix for bug 2000. Make sure that both datalink layer and application layer agree that information is missing before refusing to write a payload.
------------------------------------------------------------------------
r23619 | stig | 2007-11-27 03:21:12 -0800 (Tue, 27 Nov 2007) | 3 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Added tvb_get_ephemeral_faked_unicode and tvb_get_ephemeral_stringz
to epan/libwireshark.def

------------------------------------------------------------------------
r23620 | morriss | 2007-11-27 08:08:24 -0800 (Tue, 27 Nov 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-tpncp.c

Don't attach to any TCP/UDP ports if we weren't able to load the database--and thus the hf_ entries (which are required for dissection).
------------------------------------------------------------------------
r23621 | tuexen | 2007-11-27 09:46:55 -0800 (Tue, 27 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sctp.c

Fix from Stephen Fisher for bug 2028.

------------------------------------------------------------------------
r23622 | gal | 2007-11-27 10:07:00 -0800 (Tue, 27 Nov 2007) | 6 lines
Changed paths:
   M /trunk/packaging/u3/win32/makefile.nmake

Fixes to:
a) Check that UPX is configured correctly and offer solutions;
b) Ignore any errors generated from UPX (e.g. from previously compressed files); and
c) Clean up the tools directory when cleaning the U3 distribtion


------------------------------------------------------------------------
r23623 | guy | 2007-11-27 10:52:51 -0800 (Tue, 27 Nov 2007) | 22 lines
Changed paths:
   M /trunk/airpcap_loader.c
   M /trunk/capture-wpcap.c
   M /trunk/capture_loop.c
   M /trunk/configure.in
   M /trunk/epan/Makefile.am
   M /trunk/epan/crypt/airpdcap.c
   M /trunk/epan/dfilter/semcheck.c
   M /trunk/epan/dissectors/packet-3com-njack.c
   M /trunk/epan/dissectors/packet-afp.c
   M /trunk/epan/dissectors/packet-cigi.c
   M /trunk/epan/dissectors/packet-diameter.c
   M /trunk/epan/dissectors/packet-edonkey.c
   M /trunk/epan/dissectors/packet-giop.c
   M /trunk/epan/dissectors/packet-http.c
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/epan/dissectors/packet-ipsec.c
   M /trunk/epan/dissectors/packet-megaco.c
   M /trunk/epan/dissectors/packet-mgcp.c
   M /trunk/epan/dissectors/packet-multipart.c
   M /trunk/epan/dissectors/packet-pvfs2.c
   M /trunk/epan/dissectors/packet-rtcp.c
   M /trunk/epan/dissectors/packet-rtsp.c
   M /trunk/epan/dissectors/packet-sccp.c
   M /trunk/epan/dissectors/packet-sip.c
   M /trunk/epan/dissectors/packet-smtp.c
   M /trunk/epan/dissectors/packet-sqloracle.c
   M /trunk/epan/dissectors/packet-tftp.c
   M /trunk/epan/dissectors/packet-tivoconnect.c
   M /trunk/epan/dissectors/packet-vnc.c
   M /trunk/epan/dissectors/packet-wbxml.c
   M /trunk/epan/dissectors/packet-wsp.c
   M /trunk/epan/dissectors/packet-xml.c
   M /trunk/epan/dtd_parse.l
   A /trunk/epan/g_ascii_strcasecmp.c
   A /trunk/epan/g_ascii_strcasecmp.h
   M /trunk/epan/prefs.c
   M /trunk/epan/proto.c
   M /trunk/epan/req_resp_hdrs.c
   M /trunk/epan/strutil.c
   M /trunk/epan/tvbuff.c
   M /trunk/epan/tvbuff.h
   M /trunk/gtk/airpcap_dlg.c
   M /trunk/gtk/airpcap_gui_utils.c
   M /trunk/gtk/capture_if_dlg.c
   M /trunk/gtk/decode_as_dlg.c
   M /trunk/gtk/expert_comp_table.c
   M /trunk/gtk/gui_utils.c
   M /trunk/gtk/main.c
   M /trunk/gtk/menu.c
   M /trunk/gtk/mgcp_stat.c
   M /trunk/gtk/prefs_dlg.c
   M /trunk/gtk/recent.c
   M /trunk/gtk/rtp_analysis.c
   M /trunk/gtk/voip_calls.c
   M /trunk/plugins/mgcp/packet-mgcp.c
   M /trunk/tap-mgcpstat.c
   M /trunk/util.c

strcasecmp(), strncasecmp(), g_strcasecmp(), and g_strncasecmp() delenda
est.  Use g_ascii_strcasecmp() and g_ascii_strncasecmp(), and supply our
own versions if they're missing from GLib (as is the case with GLib
1.x).

In the code to build the list of named fields for Diameter, don't use
g_strdown(); do our own g_ascii_-style upper-case to lower-case mapping
in the hash function and use g_ascii_strcasecmp() in the compare
function.

We do this because there is no guarantee that toupper(), tolower(), and
functions that use them will, for example, map between "I" and "i" in
all locales; in Turkish locales, for example, there are, in both
upper case and lower case, versions of "i" with and without a dot, and
the upper-case version of "i" is "I"-with-a-dot and the lower-case
version of "I" is "i"-without-a-dot.  This causes strings that should
match not to match.

This finishes fixing bug 2010 - an earlier checkin prevented the crash
(as there are other ways to produce the same crash, e.g. a bogus
dictionary.xml file), but didn't fix the case-insensitive string matching.

------------------------------------------------------------------------
r23624 | gerald | 2007-11-27 11:57:35 -0800 (Tue, 27 Nov 2007) | 9 lines
Changed paths:
   M /trunk/capture_sync.c
   M /trunk/epan/dissectors/packet-cops.c
   M /trunk/epan/dissectors/packet-ieee80211.c

Fixes from Sam Leffler:

  In capture_sync.c: Don't clobber the DLT value.

  In packet-cops.c (modified by me): Instead of adding an item as a static,
  mis-cast FT_UINT16 to the tree, add it as an FT_NONE.

  In packet-802.11.c: Add the right address to the tree.

------------------------------------------------------------------------
r23625 | gerald | 2007-11-27 12:03:43 -0800 (Tue, 27 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-radiotap.c

From Sam Leffler: Add support for IEEE80211_RADIOTAP_XCHANNEL.

------------------------------------------------------------------------
r23626 | guy | 2007-11-27 12:06:20 -0800 (Tue, 27 Nov 2007) | 3 lines
Changed paths:
   M /trunk/tools/checkAPIs.pl

Ban strcasecmp(), strncasecmp(), g_strcasecmp(), and g_strncasecmp()
while we're at it.  More to come....

------------------------------------------------------------------------
r23627 | etxrab | 2007-11-27 13:23:45 -0800 (Tue, 27 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ethertype.c

Apply yet another of the optimization patches:
- Remove a spurious volatile.
------------------------------------------------------------------------
r23628 | etxrab | 2007-11-27 13:24:39 -0800 (Tue, 27 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-http.c

Apply yet another of the optimization patches:
- Only call functions if they are needed or once.
------------------------------------------------------------------------
r23629 | etxrab | 2007-11-27 13:25:32 -0800 (Tue, 27 Nov 2007) | 1 line
Changed paths:
   M /trunk/tools/lemon/lemon.c

Update to sqlite lemon 1.51
------------------------------------------------------------------------
r23630 | stig | 2007-11-27 14:54:15 -0800 (Tue, 27 Nov 2007) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dmp.c

- Added SEQ/ACK analysis for reports and notifications.
- Identify ack type in COL_INFO.
- No analysis when in error packets.
- Some cleanup in hf_ names.

------------------------------------------------------------------------
r23632 | stig | 2007-11-27 17:04:11 -0800 (Tue, 27 Nov 2007) | 2 lines
Changed paths:
   M /trunk/summary.c

Fixed a bug when adjusting summary marked start time.

------------------------------------------------------------------------
r23633 | stig | 2007-11-27 17:09:02 -0800 (Tue, 27 Nov 2007) | 7 lines
Changed paths:
   M /trunk/gtk/summary_dlg.c
   M /trunk/summary.c
   M /trunk/summary.h

Summary enhancements:
- Added traffic statistics for marked packages.
- Do not show Displayed column unless using it.
- Removed Marked packets line, as this info is in the marked packets column.

Will add documentation changes if keeping this feature.

------------------------------------------------------------------------
r23634 | sahlberg | 2007-11-27 17:20:46 -0800 (Tue, 27 Nov 2007) | 6 lines
Changed paths:
   M /trunk/epan/crypt/airpdcap.c

we must include config.h or else NEED_G_ASCII_STRCASECMP_H will never be 
defined

we must also include g_ascii_strcasecmp.h from the parent directory


------------------------------------------------------------------------
r23635 | sahlberg | 2007-11-27 17:21:33 -0800 (Tue, 27 Nov 2007) | 3 lines
Changed paths:
   M /trunk/epan/g_ascii_strcasecmp.c

we must include glib.h so we know what gchar and gsize is


------------------------------------------------------------------------
r23636 | sahlberg | 2007-11-27 17:23:09 -0800 (Tue, 27 Nov 2007) | 3 lines
Changed paths:
   M /trunk/gtk/capture_if_dlg.c
   M /trunk/gtk/decode_as_dlg.c
   M /trunk/gtk/expert_comp_table.c
   M /trunk/gtk/gui_utils.c
   M /trunk/gtk/main.c
   M /trunk/gtk/menu.c
   M /trunk/gtk/prefs_dlg.c
   M /trunk/gtk/recent.c

fix the path to include g_ascii_strcasecmp.h


------------------------------------------------------------------------
r23637 | sahlberg | 2007-11-27 17:27:07 -0800 (Tue, 27 Nov 2007) | 3 lines
Changed paths:
   M /trunk/gtk/toolbar.c

no need to include those xpm's unless we are building for gtk2


------------------------------------------------------------------------
r23638 | sahlberg | 2007-11-27 17:31:23 -0800 (Tue, 27 Nov 2007) | 3 lines
Changed paths:
   M /trunk/capture_loop.c
   M /trunk/gtk/mgcp_stat.c
   M /trunk/gtk/rtp_analysis.c
   M /trunk/gtk/voip_calls.c
   M /trunk/tap-mgcpstat.c
   M /trunk/util.c

some more path fixes for g_ascii_strcasecmp.h


------------------------------------------------------------------------
r23639 | sfisher | 2007-11-27 18:54:23 -0800 (Tue, 27 Nov 2007) | 5 lines
Changed paths:
   M /trunk/gtk/smb2_stat.c


Fix a problem whereby the smb2 service resposne time statistics filter was
getting a comma added to be beginning of the filter that the user entered.


------------------------------------------------------------------------
r23640 | sfisher | 2007-11-27 19:04:09 -0800 (Tue, 27 Nov 2007) | 5 lines
Changed paths:
   M /trunk/gtk/afp_stat.c
   M /trunk/gtk/camel_srt.c
   M /trunk/gtk/dcerpc_stat.c
   M /trunk/gtk/fc_stat.c
   M /trunk/gtk/gui_stat_util.c
   M /trunk/gtk/ldap_stat.c
   M /trunk/gtk/ncp_stat.c
   M /trunk/gtk/rpc_stat.c
   M /trunk/gtk/scsi_stat.c
   M /trunk/gtk/service_response_time_table.c
   M /trunk/gtk/smb2_stat.c
   M /trunk/gtk/smb_stat.c
   M /trunk/gtk/tap_dfilter_dlg.c


Fix bug #954 for LDAP SRT stats along with the same problem in all the other
SRT code.


------------------------------------------------------------------------
r23641 | sahlberg | 2007-11-27 22:21:28 -0800 (Tue, 27 Nov 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-wkssvc.c
   M /trunk/epan/dissectors/packet-dcerpc-wkssvc.h
   M /trunk/epan/dissectors/pidl/wkssvc.cnf
   M /trunk/epan/dissectors/pidl/wkssvc.idl

update to most recent wkssvc.idl from the samba4 repository


------------------------------------------------------------------------
r23642 | stig | 2007-11-28 01:30:10 -0800 (Wed, 28 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-atalk.c

Fixed a possible infinite loop.

------------------------------------------------------------------------
r23643 | kukosa | 2007-11-28 02:18:16 -0800 (Wed, 28 Nov 2007) | 9 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.nmake
   M /trunk/epan/Makefile.am
   M /trunk/epan/Makefile.nmake
   A /trunk/epan/asm_utils.c
   A /trunk/epan/asm_utils.h
   A /trunk/epan/asm_utils_win32_x86.asm
   M /trunk/epan/dissectors/packet-tpncp.c
   M /trunk/epan/proto.c

Various changes with focus to startup speedup
The startup timeout on Win32 is reduced to 80% without assembler and to 50% with assembler usage (which is optional)
proto.c
 - do not look up in filed tree and inserts in two steps but do it at once
 - next few small speedups
 - some often called elementary functions can be optionally implemented in assembler
 - dispart some functions to see more exact result from profiling
packet-tpnc.c
 - do not reallocate memory for each filed
------------------------------------------------------------------------
r23644 | stig | 2007-11-28 04:30:18 -0800 (Wed, 28 Nov 2007) | 2 lines
Changed paths:
   M /trunk/gtk/menu.c
   M /trunk/gtk/proto_draw.c

Put double click on a frame link back.

------------------------------------------------------------------------
r23645 | kukosa | 2007-11-28 06:39:51 -0800 (Wed, 28 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/Makefile.am

try to fix *nix build environment 
in accordance with asm_utils.c/asm_utils_win32_x86.asm used in Win32
------------------------------------------------------------------------
r23646 | gerald | 2007-11-28 07:55:50 -0800 (Wed, 28 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-atalk.c

Use guints instead of guint8s for counters.

------------------------------------------------------------------------
r23647 | sfisher | 2007-11-28 09:43:42 -0800 (Wed, 28 Nov 2007) | 4 lines
Changed paths:
   M /trunk/epan/asm_utils_win32_x86.asm


Fix filename in comment at top (it's .asm not .c)


------------------------------------------------------------------------
r23648 | sake | 2007-11-28 10:02:01 -0800 (Wed, 28 Nov 2007) | 6 lines
Changed paths:
   M /trunk/file.c

Apply coloring rules also when a frame is marked so that when a frame
is un-marked *after* enabling coloring it is still colored.

Fixes bug 2038


------------------------------------------------------------------------
r23649 | jake | 2007-11-28 10:59:37 -0800 (Wed, 28 Nov 2007) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cfm.c

From Brian W. Antoine:
The Packet decoder for CFM has a couple of small bugs.
1) The frame rate for CCM's is wrong for rate=4, it's shown as 1ms and it should be shown as 1s.
2) The flags display for a LTM packet has the wrong title for bit 7.  It should be UseFDBonly, not RDI.
------------------------------------------------------------------------
r23650 | wmeier | 2007-11-28 11:53:36 -0800 (Wed, 28 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/emem.c

(Somewhat academic): Fix fread related bug (when using GTK1).

------------------------------------------------------------------------
r23651 | wmeier | 2007-11-28 12:06:21 -0800 (Wed, 28 Nov 2007) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.nmake
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/wiretap/file_wrappers.h

Fixes for Windows build w/o ZLIB 

------------------------------------------------------------------------
r23652 | etxrab | 2007-11-28 13:33:01 -0800 (Wed, 28 Nov 2007) | 1 line
Changed paths:
   M /trunk/config.nmake

Add a link to NASM
------------------------------------------------------------------------
r23653 | etxrab | 2007-11-28 13:44:40 -0800 (Wed, 28 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

Didier Gautheron:
icmp dissector must call subdissectors even if tree is NULL
------------------------------------------------------------------------
r23654 | sake | 2007-11-28 14:07:44 -0800 (Wed, 28 Nov 2007) | 3 lines
Changed paths:
   M /trunk/gtk/menu.c

Add sensitivity to some temporary coloring menu items.


------------------------------------------------------------------------
r23655 | wmeier | 2007-11-28 14:13:50 -0800 (Wed, 28 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dfilter/dfvm.c

Fropm Anders: Broman: Fix for bug #2041

------------------------------------------------------------------------
r23656 | gerald | 2007-11-28 14:29:00 -0800 (Wed, 28 Nov 2007) | 3 lines
Changed paths:
   M /trunk/plugins/wimax/mac_mgmt_msg_decoder.c

Tweak the order in which fields are registered, so that they don't
show up as protocols.

------------------------------------------------------------------------
r23657 | sake | 2007-11-28 14:36:53 -0800 (Wed, 28 Nov 2007) | 3 lines
Changed paths:
   M /trunk/gtk/menu.c

Remove "Reset coloring" from context menu's to keep the GUI consistent 


------------------------------------------------------------------------
r23658 | wmeier | 2007-11-28 14:37:33 -0800 (Wed, 28 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dfilter/gencode.c

From Didier Gautheron: Bug #2040: Fix up goto at compilation time in gencode.c

------------------------------------------------------------------------
r23659 | wmeier | 2007-11-28 14:44:37 -0800 (Wed, 28 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dfilter/dfilter-int.h
   M /trunk/epan/dfilter/dfilter.c
   M /trunk/epan/dfilter/dfvm.c
   M /trunk/epan/dfilter/dfvm.h
   M /trunk/epan/dfilter/gencode.c

From Didier Gautheron: Bug #2042: Move constants initialisation at compile time.

------------------------------------------------------------------------
r23660 | gerald | 2007-11-28 14:56:27 -0800 (Wed, 28 Nov 2007) | 4 lines
Changed paths:
   M /trunk/plugins/wimax/mac_hd_generic_decoder.c
   M /trunk/plugins/wimax/mac_hd_type1_decoder.c
   M /trunk/plugins/wimax/mac_hd_type2_decoder.c
   M /trunk/plugins/wimax/mac_mgmt_msg_decoder.c
   M /trunk/plugins/wimax/msg_aas_beam.c
   M /trunk/plugins/wimax/msg_aas_fbck.c
   M /trunk/plugins/wimax/msg_arq.c
   M /trunk/plugins/wimax/msg_clk_cmp.c
   M /trunk/plugins/wimax/msg_dcd.c
   M /trunk/plugins/wimax/msg_dlmap.c
   M /trunk/plugins/wimax/msg_dreg.c
   M /trunk/plugins/wimax/msg_dsa.c
   M /trunk/plugins/wimax/msg_dsc.c
   M /trunk/plugins/wimax/msg_dsd.c
   M /trunk/plugins/wimax/msg_dsx_rvd.c
   M /trunk/plugins/wimax/msg_fpc.c
   M /trunk/plugins/wimax/msg_pkm.c
   M /trunk/plugins/wimax/msg_pmc.c
   M /trunk/plugins/wimax/msg_prc_lt_ctrl.c
   M /trunk/plugins/wimax/msg_reg_req.c
   M /trunk/plugins/wimax/msg_reg_rsp.c
   M /trunk/plugins/wimax/msg_rep.c
   M /trunk/plugins/wimax/msg_res_cmd.c
   M /trunk/plugins/wimax/msg_rng_req.c
   M /trunk/plugins/wimax/msg_rng_rsp.c
   M /trunk/plugins/wimax/msg_sbc.c
   M /trunk/plugins/wimax/msg_ucd.c
   M /trunk/plugins/wimax/msg_ulmap.c
   M /trunk/plugins/wimax/packet-wmx.c
   M /trunk/plugins/wimax/wimax_cdma_code_decoder.c
   M /trunk/plugins/wimax/wimax_compact_dlmap_ie_decoder.c
   M /trunk/plugins/wimax/wimax_compact_ulmap_ie_decoder.c
   M /trunk/plugins/wimax/wimax_fch_decoder.c
   M /trunk/plugins/wimax/wimax_ffb_decoder.c
   M /trunk/plugins/wimax/wimax_hack_decoder.c
   M /trunk/plugins/wimax/wimax_harq_map_decoder.c
   M /trunk/plugins/wimax/wimax_pdu_decoder.c
   M /trunk/plugins/wimax/wimax_phy_attributes_decoder.c
   M /trunk/plugins/wimax/wimax_utils.c

Change each filter prefix to match the protocol name ("wmx"). Add a
"wmx" prefix to each sub-protocol. "wmx"-ize the preferences and
dissector registration.

------------------------------------------------------------------------
r23662 | wmeier | 2007-11-28 16:01:09 -0800 (Wed, 28 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-image-jfif.c

From Didier Gautheron: Fix for Bug #1862: JPEG (JFIF) packet always malformed

------------------------------------------------------------------------
r23665 | etxrab | 2007-11-28 22:28:07 -0800 (Wed, 28 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Didier Gautheron:
Call subdissectors preference for retransmitted frames.
------------------------------------------------------------------------
r23666 | etxrab | 2007-11-28 22:29:20 -0800 (Wed, 28 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-eth.c

Didier Gautheron:
Only call ether_to_str(), get_ether_name() if the tree is visible, they are slow.
------------------------------------------------------------------------
r23667 | stig | 2007-11-28 23:40:08 -0800 (Wed, 28 Nov 2007) | 6 lines
Changed paths:
   M /trunk/proto_hier_stats.c

Count stats for parent if encountering a field not related to a protocol.

This fixes a bug where packets having toplevel tree items for desegmentation
(like [Reassembled TCP Segments]) are not added to the Protocol Hierarchy 
Statistics "End Packets" and "End Bytes" columns.

------------------------------------------------------------------------
r23668 | kukosa | 2007-11-28 23:48:12 -0800 (Wed, 28 Nov 2007) | 1 line
Changed paths:
   M /trunk/epan/proto.c

fix GLIB 1.x compatibility
------------------------------------------------------------------------
r23669 | kukosa | 2007-11-28 23:52:52 -0800 (Wed, 28 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def
   M /trunk/epan/prefs.c
   M /trunk/epan/prefs.h
   M /trunk/gtk/prefs_dlg.c

hide implementation of module list
(it makes easier change from GList to GTree as we have many modules now and GList implementation is slow for searching)
------------------------------------------------------------------------
r23670 | guy | 2007-11-29 00:17:44 -0800 (Thu, 29 Nov 2007) | 5 lines
Changed paths:
   M /trunk/test/suite-capture.sh

Is ping not installed on the Solaris buildbot, or does the path of the
script not include /usr/sbin, or is ping installed somewhere other than
where it is on my Solaris "machine"?  Try explicitly running it as
/usr/sbin/ping on Solaris.

------------------------------------------------------------------------
r23671 | stig | 2007-11-29 00:33:15 -0800 (Thu, 29 Nov 2007) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_statistics.xml

List Conversations before Endpoints to be in sync with the application.

------------------------------------------------------------------------
r23673 | stig | 2007-11-29 09:25:36 -0800 (Thu, 29 Nov 2007) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wps.c

From Jens Braeuer (bug 1999):
This patchs adds the 
- requested check of tlv_len at top of the disection-loop
- length check for fields w/ variable length (expert_add_info_format)

------------------------------------------------------------------------
r23674 | etxrab | 2007-11-29 13:34:38 -0800 (Thu, 29 Nov 2007) | 1 line
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.nmake
   M /trunk/tools/win32-setup.sh

Update to gtk+ 2.14.2 and glib glib-2.14.4
------------------------------------------------------------------------
r23675 | wmeier | 2007-11-29 16:37:15 -0800 (Thu, 29 Nov 2007) | 2 lines
Changed paths:
   M /trunk/tools/win32-setup.sh

Fix script: setting 'executable' bit for dlls/exes now works after downloading a package

------------------------------------------------------------------------
r23676 | gerald | 2007-11-29 16:45:12 -0800 (Thu, 29 Nov 2007) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/aclocal-fallback/libsmi.m4
   M /trunk/configure.in
   M /trunk/epan/Makefile.am

Add a directory argument and some default directories to "configure
--with-libsmi".

------------------------------------------------------------------------
r23677 | wmeier | 2007-11-29 18:39:33 -0800 (Thu, 29 Nov 2007) | 2 lines
Changed paths:
   M /trunk/tools/win32-setup.sh

Fix (really) so all dlls and exes found to set exec bit

------------------------------------------------------------------------
r23678 | wmeier | 2007-11-29 18:45:58 -0800 (Thu, 29 Nov 2007) | 2 lines
Changed paths:
   M /trunk/tools/win32-setup.sh

(Ugh: remove debug cmd from script)

------------------------------------------------------------------------
r23679 | kukosa | 2007-11-30 01:22:01 -0800 (Fri, 30 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/asm_utils.c
   M /trunk/epan/asm_utils.h
   M /trunk/epan/asm_utils_win32_x86.asm
   M /trunk/epan/epan.c
   M /trunk/epan/prefs-int.h
   M /trunk/epan/prefs.c
   M /trunk/epan/prefs.h
   M /trunk/epan/proto.c

Next few improvements to speed up startup about 10%.
- use GTree instead of GList for preference module lists
------------------------------------------------------------------------
r23680 | kukosa | 2007-11-30 03:12:55 -0800 (Fri, 30 Nov 2007) | 2 lines
Changed paths:
   M /trunk/epan/asm_utils.c
   M /trunk/epan/asm_utils.h
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/epan/dissectors/packet-ssl-utils.h
   M /trunk/epan/dissectors/packet-ssl.c
   M /trunk/epan/prefs.c

- fix warnings in prefs.c
- do not flush SSL debug output after each message but only once per packet
------------------------------------------------------------------------
r23681 | kukosa | 2007-11-30 03:46:13 -0800 (Fri, 30 Nov 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-radius.c

use g_strconcat() which should be faster instead of g_strdup_printf()
------------------------------------------------------------------------
r23682 | kukosa | 2007-11-30 04:37:30 -0800 (Fri, 30 Nov 2007) | 1 line
Changed paths:
   M /trunk/asn1/h245/h245.cnf
   M /trunk/asn1/h245/packet-h245-template.c
   M /trunk/epan/dissectors/packet-h245.c

setup SRTP stream if MIKEY is detected in OLC
------------------------------------------------------------------------
r23683 | kukosa | 2007-11-30 04:41:23 -0800 (Fri, 30 Nov 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.h

define ssl_debug_flush() for disabled debug
------------------------------------------------------------------------
r23684 | stig | 2007-11-30 05:28:12 -0800 (Fri, 30 Nov 2007) | 7 lines
Changed paths:
   M /trunk/gtk/summary_dlg.c

More summary enhancements:
- Don't hide columns in the GUI
- Show Packets count first
- Always show values in Packets count
- Don't show Avg. packet size if 1 packet
- Don't show time between packets if 1 packet

------------------------------------------------------------------------
r23685 | stig | 2007-11-30 06:36:18 -0800 (Fri, 30 Nov 2007) | 3 lines
Changed paths:
   M /trunk/gtk/hostlist_table.c

Move the "copy" button down to the button bar, to match the layout in 
the conversations window.

------------------------------------------------------------------------
r23686 | stig | 2007-11-30 07:37:21 -0800 (Fri, 30 Nov 2007) | 2 lines
Changed paths:
   M /trunk/gtk/proto_hier_stats_dlg.c
   M /trunk/proto_hier_stats.c
   M /trunk/proto_hier_stats.h

Show the Display filter in Protocol Hierarchy Statistics.

------------------------------------------------------------------------
r23687 | stig | 2007-11-30 07:55:28 -0800 (Fri, 30 Nov 2007) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rpl.c

From Florent DROUIN:
There is a new check for the length, and the reported_length is added to the
offset, instead of the "theorical" length of the element.

This fixes bug 2052.

------------------------------------------------------------------------
r23688 | stig | 2007-11-30 08:01:08 -0800 (Fri, 30 Nov 2007) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_a.c

From Florent DROUIN:
I just add a test for the index, to check we are in the element table.

This fixes bug 2051.

------------------------------------------------------------------------
r23689 | sake | 2007-11-30 10:55:34 -0800 (Fri, 30 Nov 2007) | 3 lines
Changed paths:
   M /trunk/gtk/graph_analysis.c

Give the flow graph window the correct title.


------------------------------------------------------------------------
r23690 | stig | 2007-11-30 12:50:37 -0800 (Fri, 30 Nov 2007) | 6 lines
Changed paths:
   M /trunk/docbook/wsug_graphics/ws-stats-conversations.png
   M /trunk/docbook/wsug_graphics/ws-stats-endpoints.png
   M /trunk/docbook/wsug_graphics/ws-stats-hierarchy.png
   M /trunk/docbook/wsug_graphics/ws-stats-iographs.png
   M /trunk/docbook/wsug_graphics/ws-stats-summary.png
   M /trunk/docbook/wsug_src/WSUG_chapter_statistics.xml

Update the users guide according to recent changes in the statistics windows:
- New column "Marked" in the summary window
- New label "Capture filter" in the hierarchy window
- Moved Copy button in conversations and endpoints
- Added the zero value on the x-axis in io graphs

------------------------------------------------------------------------
r23691 | ulfl | 2007-11-30 14:01:05 -0800 (Fri, 30 Nov 2007) | 1 line
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/capture-pcap-util.c
   M /trunk/capture-wpcap.c
   M /trunk/capture_ui_utils.c
   M /trunk/config.h.win32
   M /trunk/config.nmake
   M /trunk/version_info.c
   M /trunk/wiretap/libpcap.c

first steps to support MSVC 2008 Express Edition
------------------------------------------------------------------------
r23692 | ulfl | 2007-11-30 14:01:52 -0800 (Fri, 30 Nov 2007) | 1 line
Changed paths:
   M /trunk/epan/libwireshark.vcproj

add libwireshark.def
------------------------------------------------------------------------
r23693 | ulfl | 2007-11-30 15:28:06 -0800 (Fri, 30 Nov 2007) | 1 line
Changed paths:
   M /trunk/gtk/menu.c

move "Display Filter Macros" from View to Analyze menu, just below "Display Filter" - I guess it fit's much better there
------------------------------------------------------------------------
r23694 | gerald | 2007-11-30 17:17:59 -0800 (Fri, 30 Nov 2007) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_introduction.xml

Add a compatibility note from Ethereal(!) bug 1130.

------------------------------------------------------------------------
r23695 | sake | 2007-11-30 18:10:03 -0800 (Fri, 30 Nov 2007) | 5 lines
Changed paths:
   M /trunk/gtk/graph_analysis.c

After taking a closer look at SVN 23089, I believe it was intended only to add the 
file-name to the window title and not change the rest of the name.
(the graph window is both used from "Flow Graph" and from "VoIP calls")


------------------------------------------------------------------------
r23696 | ulfl | 2007-12-02 02:13:57 -0800 (Sun, 02 Dec 2007) | 1 line
Changed paths:
   M /trunk/gtk/expert_comp_table.c

fix bug #1594: compositions must be differentiated by both protocol and summary, not only the summary - otherwise this results in a single entry if two protocols share the same summary, e.g. TCP/UDP "Bad Checksum"
------------------------------------------------------------------------
r23697 | stig | 2007-12-02 06:43:41 -0800 (Sun, 02 Dec 2007) | 2 lines
Changed paths:
   M /trunk/gtk/proto_hier_stats_dlg.c

Changed from Ok button to Close button.

------------------------------------------------------------------------
r23698 | stig | 2007-12-02 06:45:11 -0800 (Sun, 02 Dec 2007) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_graphics/ws-stats-hierarchy.png

Update screenshot according to button change.

------------------------------------------------------------------------
r23699 | kukosa | 2007-12-03 01:59:18 -0800 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   A /trunk/plugins/easy_codec
   A /trunk/plugins/easy_codec/EasyG722
   A /trunk/plugins/easy_codec/EasyG7231
   A /trunk/plugins/easy_codec/EasyG729A
   A /trunk/plugins/easy_codec/Makefile.common
   A /trunk/plugins/easy_codec/Makefile.nmake
   A /trunk/plugins/easy_codec/ReadMe.txt
   A /trunk/plugins/easy_codec/codec-g722.c
   A /trunk/plugins/easy_codec/codec-g722.h
   A /trunk/plugins/easy_codec/codec-g7231.c
   A /trunk/plugins/easy_codec/codec-g7231.h
   A /trunk/plugins/easy_codec/codec-g729a.c
   A /trunk/plugins/easy_codec/codec-g729a.h
   A /trunk/plugins/easy_codec/easy_codec_plugin.c
   A /trunk/plugins/easy_codec/moduleinfo.nmake
   A /trunk/plugins/easy_codec/plugin.rc.in

Codec plugin example. The stub for ImTelephone libraries.
(It is not compiled by default.)
------------------------------------------------------------------------
r23700 | stig | 2007-12-03 04:15:21 -0800 (Mon, 03 Dec 2007) | 7 lines
Changed paths:
   M /trunk/proto_hier_stats.c

Include reassembled protocols, as this probably is the output the user wants.

The Bytes and End Bytes columns will be wrong for reassembled protocols,
as they span across several packets, but I don't see any obvious way to
display such values.  The correct values can be found by looking at the
parent protocols.

------------------------------------------------------------------------
r23701 | martinm | 2007-12-03 04:22:13 -0800 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

My compiler (I think wrongly) says that fnum could be used uninitialised.

------------------------------------------------------------------------
r23702 | kukosa | 2007-12-03 05:48:45 -0800 (Mon, 03 Dec 2007) | 1 line
Changed paths:
   M /trunk/asn1/snmp/snmp.cnf
   M /trunk/epan/dissectors/packet-snmp.c

fix confusion in tag handling
------------------------------------------------------------------------
r23703 | martinm | 2007-12-03 07:47:08 -0800 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Add "soap" -> "http" mapping.

------------------------------------------------------------------------
r23704 | morriss | 2007-12-03 09:32:02 -0800 (Mon, 03 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-mtp3mg.c

Fix http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2063 : there's only 1 octet of FSN in non-ANSI COO/COA's.
------------------------------------------------------------------------
r23705 | morriss | 2007-12-03 10:12:25 -0800 (Mon, 03 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sccp.c

Fix http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2059 : reassemble XUDTS, too
------------------------------------------------------------------------
r23706 | gal | 2007-12-03 11:29:24 -0800 (Mon, 03 Dec 2007) | 6 lines
Changed paths:
   M /trunk/asn1/ros/Remote-Operations-Information-Objects.asn
   M /trunk/asn1/ros/packet-ros-template.c
   M /trunk/asn1/ros/packet-ros-template.h
   M /trunk/asn1/ros/ros.cnf
   M /trunk/epan/dissectors/packet-ros.c
   M /trunk/epan/dissectors/packet-ros.h

Support table-based dissection of ROS operations.
This simplifies the generation of dissectors for ROS-based protocols using the asn2wrs #.TABLE directive.

See the P7 dissector for an example.


------------------------------------------------------------------------
r23707 | gal | 2007-12-03 11:32:28 -0800 (Mon, 03 Dec 2007) | 4 lines
Changed paths:
   M /trunk/asn1/p7/MSAbstractService.asn
   M /trunk/asn1/p7/Makefile.common
   M /trunk/asn1/p7/p7.cnf
   M /trunk/asn1/p7/packet-p7-template.c
   M /trunk/epan/dissectors/packet-p7.c
   M /trunk/epan/dissectors/packet-p7.h

Revised P7 dissector to use #.TABLE directive to generate tables for the ROS dissector from 
the [ABSTRACT] OPERATIONS definitions in the ASN.1 file.


------------------------------------------------------------------------
r23708 | stig | 2007-12-03 11:44:27 -0800 (Mon, 03 Dec 2007) | 5 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Ensure we don't wrap the values when calculating advanced time values.

With default window size the limit for this wrap is ~27 seconds when having
0-50 seconds on the y axis, and decreases greatly on higher window size.  

------------------------------------------------------------------------
r23709 | etxrab | 2007-12-03 12:14:42 -0800 (Mon, 03 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-h264.c
   A /trunk/epan/dissectors/packet-h264.h
   M /trunk/epan/dissectors/packet-sdp.c

Dissect RTP payload of H.264 and SDP profile-leve-id for H.264.
------------------------------------------------------------------------
r23710 | stig | 2007-12-03 12:17:31 -0800 (Mon, 03 Dec 2007) | 3 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Added two more y axis scale values to be able to draw time values up to
200 seconds.

------------------------------------------------------------------------
r23711 | stig | 2007-12-03 12:43:30 -0800 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Add some casts to get the windows compiler happy.

------------------------------------------------------------------------
r23712 | etxrab | 2007-12-03 12:53:26 -0800 (Mon, 03 Dec 2007) | 1 line
Changed paths:
   M /trunk/gtk/io_stat.c

Add another cast.
------------------------------------------------------------------------
r23713 | stig | 2007-12-03 13:33:56 -0800 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

Mark pinfo as unused.

------------------------------------------------------------------------
r23714 | guy | 2007-12-03 13:35:54 -0800 (Mon, 03 Dec 2007) | 3 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Parenthesize the operand of the cast, to make it clearer that we're
casting the result of the entire computation.

------------------------------------------------------------------------
r23716 | guy | 2007-12-03 13:41:06 -0800 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   M /trunk/gtk/webbrowser.c

If CoreFoundation create calls fail, fail, don't drive on.

------------------------------------------------------------------------
r23717 | sahlberg | 2007-12-03 13:52:57 -0800 (Mon, 03 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sdp.c

mark two unused parameters as _U_


------------------------------------------------------------------------
r23718 | sahlberg | 2007-12-03 13:54:27 -0800 (Mon, 03 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h264.h

add end of line to the last line of the file


------------------------------------------------------------------------
r23719 | guy | 2007-12-03 13:55:44 -0800 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   M /trunk/gtk/expert_comp_table.c

Clean up indentation. 

------------------------------------------------------------------------
r23720 | guy | 2007-12-03 13:57:57 -0800 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   M /trunk/gtk/proto_draw.c

Fix indentation.

------------------------------------------------------------------------
r23722 | stig | 2007-12-03 14:11:06 -0800 (Mon, 03 Dec 2007) | 3 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Use same notation for all y axis time labels, so we don't end up having one
in seconds, one in milliseconds and one in microseconds.

------------------------------------------------------------------------
r23723 | etxrab | 2007-12-03 14:22:25 -0800 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   M /trunk/asn1/ansi_map/ansi_map.asn
   M /trunk/epan/dissectors/packet-ansi_map.c
   M /trunk/epan/dissectors/packet-ansi_map.h

Fix bug http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2057
The tag for PSTNTermination is [95].
------------------------------------------------------------------------
r23724 | etxrab | 2007-12-03 14:40:04 -0800 (Mon, 03 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sdp.c

Fetch all fmtp parameters.
------------------------------------------------------------------------
r23725 | sahlberg | 2007-12-03 14:47:23 -0800 (Mon, 03 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/emem.c
   M /trunk/epan/emem.h

add tree traversal functions


------------------------------------------------------------------------
r23726 | guy | 2007-12-03 14:48:49 -0800 (Mon, 03 Dec 2007) | 5 lines
Changed paths:
   M /trunk/epan/proto.h

Make the flags field a guint32, to make it clear that it's 32 bits.

Move the expert information bits to the top of that field, to avoid
collisions (we had a collision with the 0x00000004 bit).

------------------------------------------------------------------------
r23727 | guy | 2007-12-03 15:02:09 -0800 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/proto.c
   M /trunk/epan/proto.h

Severities are unsigned.

------------------------------------------------------------------------
r23728 | gerald | 2007-12-03 16:23:56 -0800 (Mon, 03 Dec 2007) | 4 lines
Changed paths:
   M /trunk/gtk/capture_file_dlg.c

If we're using the native Windows file dialog, don't bother to see if the 
file exists before we try to save it. The Windows file dialog code does that
for us.

------------------------------------------------------------------------
r23729 | stig | 2007-12-03 16:36:39 -0800 (Mon, 03 Dec 2007) | 3 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Simplified y-positions for FBAR and DOT to ensure out-of-graph values are
drawn as they should be.  I hope this is the last fix this time...

------------------------------------------------------------------------
r23730 | sahlberg | 2007-12-03 16:56:11 -0800 (Mon, 03 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/proto.c

#if out a function that is only used when building with glib 2 or later


------------------------------------------------------------------------
r23731 | guy | 2007-12-03 17:26:02 -0800 (Mon, 03 Dec 2007) | 5 lines
Changed paths:
   M /trunk/epan/proto.h

Reserve 20 bits for expert "event groups", to leave room for more. 
Shuffle the expert severities down, and note that we have only 8 bits
available for FI_ flags unless you shrink the set of event groups and
shuffle them and the expert severities up.

------------------------------------------------------------------------
r23732 | stig | 2007-12-03 17:28:38 -0800 (Mon, 03 Dec 2007) | 4 lines
Changed paths:
   M /trunk/gtk/io_stat.c

- Added three more y axis scale values to be able to draw time values
  up to 2000 seconds (maximum when using guint32).
- Combined some common code to draw the y axis values.

------------------------------------------------------------------------
r23733 | sahlberg | 2007-12-03 17:44:05 -0800 (Mon, 03 Dec 2007) | 6 lines
Changed paths:
   M /trunk/epan/emem.c
   M /trunk/epan/emem.h

for nested trees, teach emem about which nodes contain a pointer to a 
subtree and which nodes that contain a pointer to user data

teach emem to be able to traverse nested trees


------------------------------------------------------------------------
r23734 | sahlberg | 2007-12-03 17:45:17 -0800 (Mon, 03 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/prefs-int.h
   M /trunk/epan/prefs.c

remove the use of GTrees and replace these with emem trees instead


------------------------------------------------------------------------
r23735 | sahlberg | 2007-12-03 18:09:37 -0800 (Mon, 03 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/prefs-int.h
   M /trunk/epan/prefs.c

reverse previous patch


------------------------------------------------------------------------
r23736 | sahlberg | 2007-12-03 19:26:50 -0800 (Mon, 03 Dec 2007) | 8 lines
Changed paths:
   M /trunk/epan/emem.c
   M /trunk/epan/emem.h

rework how emem trees indexed by strings  so that traversing the tree 
will traverse the entries in the lexical order of the key.

add a flag to lookup/insert for strings to specify whether a case 
insensitive key should be used instead of a (default) case sensitive 
key.


------------------------------------------------------------------------
r23737 | sahlberg | 2007-12-03 19:27:27 -0800 (Mon, 03 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-alcap.c

update to new signature for string keyed trees


------------------------------------------------------------------------
r23738 | sahlberg | 2007-12-03 19:28:04 -0800 (Mon, 03 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/prefs-int.h
   M /trunk/epan/prefs.c

get rid of GTree and use emem trees instead


------------------------------------------------------------------------
r23739 | jmayer | 2007-12-03 19:48:05 -0800 (Mon, 03 Dec 2007) | 3 lines
Changed paths:
   M /trunk/make-version.pl

Fix for http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1413
Print "SVN Rev unknown" in case the svn command was not found.

------------------------------------------------------------------------
r23740 | guy | 2007-12-03 20:33:44 -0800 (Mon, 03 Dec 2007) | 4 lines
Changed paths:
   M /trunk/gtk/webbrowser.c

Note in a comment the sad truth that CFURLCreateWithString() fails
either because of a bad URL string or a failure to allocate memory, and
that we can't easily determine which of those happened.

------------------------------------------------------------------------
r23741 | etxrab | 2007-12-03 22:00:02 -0800 (Mon, 03 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sdp.c

Use common code for ASCII -> tvb.
------------------------------------------------------------------------
r23742 | jake | 2007-12-03 22:50:11 -0800 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sdp.c

Remove superfluous buffer allocation.

------------------------------------------------------------------------
r23743 | jake | 2007-12-03 23:11:38 -0800 (Mon, 03 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-mp2t.c

Make mpeg2ts over UDP possible. Heuristic and Decode as.
------------------------------------------------------------------------
r23744 | guy | 2007-12-03 23:50:18 -0800 (Mon, 03 Dec 2007) | 3 lines
Changed paths:
   M /trunk/gtk/service_response_time_table.c

Add a break statement - not necessary in this case, but cleaner, and
matches similar code in other files.

------------------------------------------------------------------------
r23745 | guy | 2007-12-03 23:50:44 -0800 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   M /trunk/gtk/conversations_table.c
   M /trunk/gtk/expert_comp_table.c

Clean up indentation.

------------------------------------------------------------------------
r23746 | guy | 2007-12-03 23:53:23 -0800 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   M /trunk/gtk/expert_comp_table.c

More whitespace cleanup.

------------------------------------------------------------------------
r23747 | guy | 2007-12-04 00:27:48 -0800 (Tue, 04 Dec 2007) | 3 lines
Changed paths:
   M /trunk/gtk/expert_comp_table.c

Add macros for various filter actions and types, and to combine them
into a callback argument and split a callback argument up.

------------------------------------------------------------------------
r23748 | kukosa | 2007-12-04 00:33:20 -0800 (Tue, 04 Dec 2007) | 1 line
Changed paths:
   M /trunk/gtk/airpcap_dlg.c

add missing emem.h include (prefs-int.h uses emem structures now)
------------------------------------------------------------------------
r23749 | jmayer | 2007-12-04 03:00:13 -0800 (Tue, 04 Dec 2007) | 2 lines
Changed paths:
   M /trunk/make-version.pl

Next try.

------------------------------------------------------------------------
r23750 | kukosa | 2007-12-04 03:19:29 -0800 (Tue, 04 Dec 2007) | 8 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/acinclude.m4
   M /trunk/capture-pcap-util-int.h
   M /trunk/capture-pcap-util-unix.c
   M /trunk/capture-pcap-util.c
   M /trunk/capture-pcap-util.h
   M /trunk/capture-wpcap.c
   M /trunk/capture_loop.c
   M /trunk/capture_opts.c
   M /trunk/capture_opts.h
   M /trunk/capture_sync.c
   M /trunk/capture_ui_utils.c
   M /trunk/config.h.win32
   M /trunk/config.nmake
   M /trunk/configure.in
   M /trunk/dumpcap.c
   M /trunk/epan/dissectors/packet-ldap.c
   M /trunk/epan/dissectors/packet-ldap.h
   M /trunk/gtk/capture_dlg.c

Support for RPCAP features in GUI (from Boris Misenov, see Bug 1366)
  - retrieving the list of remote PCAP interfaces
  - password authentication support
  - UDP data fransfer
  - packet sampling (available in WinPcap 4.x)
  etc.

fix problem if non-default rpcap port is used
------------------------------------------------------------------------
r23751 | stig | 2007-12-04 06:04:37 -0800 (Tue, 04 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dmp.c

Duplicate packet #  ->  Retransmission #

------------------------------------------------------------------------
r23752 | gmorris | 2007-12-04 08:33:48 -0800 (Tue, 04 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ipp.c

Display textual explanation for printer and job values from RFC 2911.
------------------------------------------------------------------------
r23753 | gerald | 2007-12-04 10:43:40 -0800 (Tue, 04 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/libwireshark.def
   M /trunk/epan/oids.c
   M /trunk/epan/oids.h
   M /trunk/gtk/about_dlg.c

Add an oid_get_default_mib_path() function, and use it to display the MIB
path in About->Folders.

------------------------------------------------------------------------
r23754 | guy | 2007-12-04 11:39:09 -0800 (Tue, 04 Dec 2007) | 4 lines
Changed paths:
   M /trunk/epan/oids.c
   M /trunk/epan/oids.h

Only define oid_get_default_mib_path() if we have libsmi.

Explicitly mark it as having no arguments.

------------------------------------------------------------------------
r23756 | stig | 2007-12-04 15:47:30 -0800 (Tue, 04 Dec 2007) | 4 lines
Changed paths:
   M /trunk/gtk/conversations_table.c
   M /trunk/gtk/hostlist_table.c
   M /trunk/gtk/service_response_time_table.c

Do not create an illegal filter when having an empty display filter and
selecting Apply/Prepare "and/or (not) Selected" in Conversations, Endpoints
and Service Response Time.

------------------------------------------------------------------------
r23757 | wmeier | 2007-12-04 19:23:54 -0800 (Tue, 04 Dec 2007) | 2 lines
Changed paths:
   M /trunk/plugins/Makefile.nmake

Add missing profinet to maintainer-clean

------------------------------------------------------------------------
r23758 | bondolo | 2007-12-04 20:20:21 -0800 (Tue, 04 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-jxta.c


------------------------------------------------------------------------
r23759 | sahlberg | 2007-12-05 00:37:51 -0800 (Wed, 05 Dec 2007) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rpc.c

the GSS Checksum in secure onc-rpc contains the same blobs as GSS Tokens 
does.

make wireshark decode these blobs


------------------------------------------------------------------------
r23760 | guy | 2007-12-05 01:05:52 -0800 (Wed, 05 Dec 2007) | 6 lines
Changed paths:
   M /trunk/epan/ftypes/ftype-integer.c

At least on some LP64 platforms (such as OpenBSD 4.2 on x86-64),
PRI[dux]64 use "ll", but gint64 and guint64 are "long" and "unsigned
long", not "long long" or "unsigned long long", and the compiler warns
about using "%ll[doux]" with "long" or "unsigned long".  Use
G_GINT64_MODIFIER instead.

------------------------------------------------------------------------
r23761 | guy | 2007-12-05 01:31:05 -0800 (Wed, 05 Dec 2007) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ms-mms.c

Make the "protocol" field big enough to hold the 3-character
null-terminated string that the format item used when scanning says it
is - i.e., 4 "char"s, including the null terminator.

(Thanks and a tip of the hat to "gcc (GCC) 3.3.5 (propolice)" on OpenBSD
4.2 for finding this.)

------------------------------------------------------------------------
r23762 | guy | 2007-12-05 01:43:20 -0800 (Wed, 05 Dec 2007) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ptp.c

Clean up indentation.

Use G_GINT64_MODIFIER for gint64 and guint64 values.  Use "u", rather
than "d", for unsigned values.  Put whitespace in the proper place in
format strings.

------------------------------------------------------------------------
r23763 | guy | 2007-12-05 02:17:58 -0800 (Wed, 05 Dec 2007) | 2 lines
Changed paths:
   M /trunk/gtk/hostlist_table.c

Use G_GINT64_MODIFIER for gint64 and guint64 values.

------------------------------------------------------------------------
r23764 | guy | 2007-12-05 02:24:37 -0800 (Wed, 05 Dec 2007) | 5 lines
Changed paths:
   M /trunk/merge.c

The first component of a "wtap_nstime" is a "time_t", which could be an
"int" or a "long"; initialize it with LONG_MAX cast to "time_t".

The second argument is an "int"; initialize it with INT_MAX.

------------------------------------------------------------------------
r23765 | guy | 2007-12-05 02:27:49 -0800 (Wed, 05 Dec 2007) | 3 lines
Changed paths:
   M /trunk/plugins/wimax/packet-wmx.c

To generate a session-lifetime string given a format and va_list, use
se_strdup_vprintf().

------------------------------------------------------------------------
r23766 | guy | 2007-12-05 02:30:38 -0800 (Wed, 05 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/except.c

Use g_vsnprintf(), not vsprintf(), for safety's sake.

------------------------------------------------------------------------
r23767 | guy | 2007-12-05 02:34:01 -0800 (Wed, 05 Dec 2007) | 2 lines
Changed paths:
   M /trunk/tap-afpstat.c
   M /trunk/tap-dcerpcstat.c
   M /trunk/tap-iousers.c

Use G_GINT64_MODIFIER to print gint64's and guint64's.

------------------------------------------------------------------------
r23768 | guy | 2007-12-05 02:35:37 -0800 (Wed, 05 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/except.c

Include <glib.h> to declare g_vsnprintf().

------------------------------------------------------------------------
r23769 | stig | 2007-12-05 05:06:26 -0800 (Wed, 05 Dec 2007) | 2 lines
Changed paths:
   M /trunk/plugins/wimax/packet-wmx.c

I suppose we still need va_start/va_end when using se_strdup_vprintf.

------------------------------------------------------------------------
r23770 | stig | 2007-12-05 05:32:09 -0800 (Wed, 05 Dec 2007) | 3 lines
Changed paths:
   M /trunk/gtk/graph_analysis.c

Do not redraw graph and goto frame 1 if selecting an "item" outside the list
in Graph Analysis list.

------------------------------------------------------------------------
r23771 | etxrab | 2007-12-05 10:09:44 -0800 (Wed, 05 Dec 2007) | 19 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/tools/win32-setup.sh

Use:
GTK+ 2.13.3
Overview of Changes from GTK+ 2.12.2 to 2.12.3
==============================================

 * Win32:
 - Respect viewable drive restrictions 

 * Bugs fixed:
 499868 fix for crash during DnD on Quartz
 500804 null pointer dereference in quartz drawing function
 144269 GtkHPaned flickers and leaves widgets in child panels unr...
 495124 Valgrind error with windows of type GTK_WINDOW_POPUP
 501583 Root window not fully initialized

 * Updated translations:
 Estonian (et)
 French (fr)
 Irish (ga)
------------------------------------------------------------------------
r23772 | wmeier | 2007-12-05 11:43:50 -0800 (Wed, 05 Dec 2007) | 3 lines
Changed paths:
   M /trunk/plugins/Makefile.nmake

Simplify Windows Makefile to improve maintainability
by reducing the number of changes req'd to add a plugin.

------------------------------------------------------------------------
r23773 | morriss | 2007-12-05 11:55:40 -0800 (Wed, 05 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-isup.c

From Cliff Romash: TMR is not a mandatory parameter on an ANSI IAM but USI is.
------------------------------------------------------------------------
r23774 | etxrab | 2007-12-05 12:16:02 -0800 (Wed, 05 Dec 2007) | 2 lines
Changed paths:
   M /trunk/asn1/gsmmap/GSMMAP.asn
   M /trunk/asn1/gsmmap/packet-gsmmap-template.c
   M /trunk/epan/dissectors/packet-gsm_map.c

Insert asn1 code for SendRoutingInfov2 and update template
Partly fixes http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2064 GSM_MAP decodes SendRoutingInfov2 incorrectly
------------------------------------------------------------------------
r23775 | etxrab | 2007-12-05 12:49:46 -0800 (Wed, 05 Dec 2007) | 1 line
Changed paths:
   M /trunk/asn1/gsmmap/packet-gsmmap-template.c
   M /trunk/epan/dissectors/packet-gsm_map.c

Remove debug code.
------------------------------------------------------------------------
r23776 | etxrab | 2007-12-05 13:58:58 -0800 (Wed, 05 Dec 2007) | 5 lines
Changed paths:
   M /trunk/asn1/gsmmap/gsmmap.cnf
   M /trunk/asn1/gsmmap/packet-gsmmap-template.c
   M /trunk/epan/dissectors/packet-gsm_map.c

fixe http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2064 GSM_MAP decodes SendRoutingInfov2 incorrectly

- Add TYPE_ATTR for RoutingInfo ( Fixes the choice problem).
- Dissect ExternalSignalInfo
- Use subtree for AddressStrings
------------------------------------------------------------------------
r23777 | gerald | 2007-12-05 15:50:28 -0800 (Wed, 05 Dec 2007) | 4 lines
Changed paths:
   M /trunk/file.c
   M /trunk/gtk/packet_list.c
   M /trunk/gtk/packet_list.h
   M /trunk/ui_util.h

Make sure the "auto scroll in live capture" toolbar button and menu item
correctly reflect the auto scroll state. Re-enable the ability to use
the auto scroll toolbar button and menu item during a live capture.

------------------------------------------------------------------------
r23778 | jmayer | 2007-12-05 19:41:18 -0800 (Wed, 05 Dec 2007) | 2 lines
Changed paths:
   M /trunk/wireshark.desktop

Update to version 1.0 of spec(s)

------------------------------------------------------------------------
r23779 | jake | 2007-12-06 00:02:58 -0800 (Thu, 06 Dec 2007) | 2 lines
Changed paths:
   M /trunk/doc/README.developer

Update FIELDDESCR with NULL option. 
Example code should never show what not to do.
------------------------------------------------------------------------
r23780 | guy | 2007-12-06 00:22:16 -0800 (Thu, 06 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sctp.c

Squelch a warning about a variable getting clobbered by a longjmp.

------------------------------------------------------------------------
r23781 | guy | 2007-12-06 00:32:38 -0800 (Thu, 06 Dec 2007) | 3 lines
Changed paths:
   M /trunk/tap-protohierstat.c
   M /trunk/tap-rpcprogs.c
   M /trunk/tap-rpcstat.c
   M /trunk/tap-smbstat.c

Use G_GINT64_MODIFIER rather than PRI[duox]64 to print gint64's and
guint64's.

------------------------------------------------------------------------
r23782 | guy | 2007-12-06 00:33:46 -0800 (Thu, 06 Dec 2007) | 3 lines
Changed paths:
   M /trunk/capinfos.c

Use G_GINT64_MODIFIER rather than PRI[duox]64 to print gint64's and
guint64's.

------------------------------------------------------------------------
r23783 | kukosa | 2007-12-06 03:23:35 -0800 (Thu, 06 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ftam.c
   M /trunk/epan/dissectors/packet-ldap.c
   M /trunk/epan/dissectors/packet-q932.c
   M /trunk/epan/dissectors/packet-tcap.c
   M /trunk/epan/dissectors/packet-x411.c
   M /trunk/tools/asn2wrs.py

fix field attributes handling for tagged types
regenerate involved dissectors
------------------------------------------------------------------------
r23784 | jmayer | 2007-12-06 03:51:21 -0800 (Thu, 06 Dec 2007) | 6 lines
Changed paths:
   M /trunk/Makefile.am

Another attempt to fix 
http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1413

We need to make sure that things look the way we expect them,
no matter which language the user is using.

------------------------------------------------------------------------
r23785 | martinm | 2007-12-06 09:47:00 -0800 (Thu, 06 Dec 2007) | 2 lines
Changed paths:
   M /trunk/plugins/wimaxasncp/packet-wimaxasncp.c

Fix some specifier strings (%d -> %u).

------------------------------------------------------------------------
r23786 | stig | 2007-12-06 10:10:35 -0800 (Thu, 06 Dec 2007) | 3 lines
Changed paths:
   M /trunk/gtk/proto_hier_stats_dlg.c
   M /trunk/proto_hier_stats.c
   M /trunk/proto_hier_stats.h

Added "Apply as filter"/"Prepare a filter"/"Find frame"/"Colorize Protocol"
menu.  Simplified getting the Display filter.

------------------------------------------------------------------------
r23787 | gerald | 2007-12-06 10:53:58 -0800 (Thu, 06 Dec 2007) | 4 lines
Changed paths:
   M /trunk/plugins/wimax/msg_dlmap.c
   M /trunk/plugins/wimax/msg_ulmap.c
   M /trunk/plugins/wimax/wimax_bits.h

Change calls to g_ntohs, g_ntohl, g_htons, and g_htonl to their
epan/pint.h equivalents. Add warnings about trying to operate on tvb
data directly.

------------------------------------------------------------------------
r23788 | stig | 2007-12-06 11:42:49 -0800 (Thu, 06 Dec 2007) | 2 lines
Changed paths:
   M /trunk/asn1/ftam/ISO8571-FTAM.asn

Fixed some typos.

------------------------------------------------------------------------
r23789 | martinm | 2007-12-06 16:23:16 -0800 (Thu, 06 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-stun2.c

Make stun2 over udp a new-style dissector, so that it can reject stun frames on the standard port they share (and let the heuristic dissector for stun run).  Otherwise I needed to set UDP to try heuristic dissectors first or disable stun2 altogether...
------------------------------------------------------------------------
r23790 | guy | 2007-12-06 17:18:17 -0800 (Thu, 06 Dec 2007) | 4 lines
Changed paths:
   M /trunk/wiretap/dbs-etherwatch.c

Get rid of 8-bit charcters in the example ETHERWATCH output - they can
cause gastric distress to at least som eversions of MSVC, and possibly
other compilers.

------------------------------------------------------------------------
r23791 | martinm | 2007-12-07 05:26:15 -0800 (Fri, 07 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-stun2.c

Fix build by creating dissect function that tcp_dissect_pdus().  My Windows build didn't miss the mismatched return type...

------------------------------------------------------------------------
r23792 | wmeier | 2007-12-07 09:30:08 -0800 (Fri, 07 Dec 2007) | 2 lines
Changed paths:
   M /trunk/configure.in

From Sjoerd Simons: Fix bug #2077: configuring with --with-plugins not behaving like documented

------------------------------------------------------------------------
r23793 | gerald | 2007-12-07 10:47:03 -0800 (Fri, 07 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/oids.c

Fix a typo.

------------------------------------------------------------------------
r23794 | gerald | 2007-12-07 10:50:41 -0800 (Fri, 07 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc.c
   M /trunk/epan/proto.c

Register the "samr.nt_password" preference as obsolete.

------------------------------------------------------------------------
r23795 | jmayer | 2007-12-07 10:59:32 -0800 (Fri, 07 Dec 2007) | 2 lines
Changed paths:
   M /trunk/configure.in
   A /trunk/runlex.sh (from /trunk/wiretap/runlex.sh:23791)
   D /trunk/wiretap/COPYING
   D /trunk/wiretap/ChangeLog
   D /trunk/wiretap/INSTALL
   D /trunk/wiretap/NEWS
   D /trunk/wiretap/acinclude.m4
   D /trunk/wiretap/configure.in
   D /trunk/wiretap/runlex.sh

Get rid of configure in wiretap. Finally!

------------------------------------------------------------------------
r23796 | guy | 2007-12-07 14:33:46 -0800 (Fri, 07 Dec 2007) | 3 lines
Changed paths:
   M /trunk/autogen.sh

Wiretap no longer has its own configure script, so don't do
automake/autoconf stuff on it.

------------------------------------------------------------------------
r23797 | guy | 2007-12-07 15:38:59 -0800 (Fri, 07 Dec 2007) | 10 lines
Changed paths:
   D /trunk/config.h.win32
   D /trunk/runlex.sh
   M /trunk/wiretap/Makefile.am
   M /trunk/wiretap/Makefile.nmake

Run runlex.sh from the tools directory.  Get rid of the extra copy in
the top-level directory.

Don't build config.h in the wiretap directory - it now uses config.h
from the top-level directory.  Get rid of the template config.h.win32 in
that directory.

Get rid of files that are no longer in the wiretap directory or are no
longer constructed in that directory.

------------------------------------------------------------------------
r23798 | guy | 2007-12-07 15:42:19 -0800 (Fri, 07 Dec 2007) | 4 lines
Changed paths:
   M /trunk/wiretap/libpcap.c

HAVE_PCAP_H is no longer defined; just use HAVE_LIBPCAP.

Fix indentation.

------------------------------------------------------------------------
r23799 | guy | 2007-12-07 15:48:18 -0800 (Fri, 07 Dec 2007) | 2 lines
Changed paths:
   A /trunk/config.h.win32

Deleted the wrong config.h.win32.

------------------------------------------------------------------------
r23800 | guy | 2007-12-07 15:52:21 -0800 (Fri, 07 Dec 2007) | 2 lines
Changed paths:
   D /trunk/config.h.win32

That's not the right way to resuscitate a file.

------------------------------------------------------------------------
r23801 | guy | 2007-12-07 15:52:42 -0800 (Fri, 07 Dec 2007) | 2 lines
Changed paths:
   A /trunk/config.h.win32 (from /trunk/config.h.win32:23796)

Deleted the wrong config.h.win32.

------------------------------------------------------------------------
r23802 | guy | 2007-12-07 15:58:46 -0800 (Fri, 07 Dec 2007) | 6 lines
Changed paths:
   M /trunk/config.h.win32
   M /trunk/config.nmake
   M /trunk/wiretap/Makefile.nmake
   D /trunk/wiretap/config.h.win32

Delete the *right* config.h.win32.

Copy the MSVC++-version-checking stuff from it into the top-level
config.h.win32, and try to set up config.nmake so that MSC_VER_REQUIRED
is defined in all Makefiles that include config.nmake.

------------------------------------------------------------------------
r23803 | guy | 2007-12-07 16:10:33 -0800 (Fri, 07 Dec 2007) | 7 lines
Changed paths:
   M /trunk/wiretap/Makefile.common
   M /trunk/wiretap/libpcap.c
   M /trunk/wiretap/libwiretap.vcproj
   D /trunk/wiretap/wtap-capture.h

Get rid of wtap_process_pcap_packet(); it's no longer used.  Get rid of
no-longer-needed wiretap/wtap-capture.h.

Clean up wiretap/libwiretap.vcproj (note: this isn't going to scale, if
it has to contain a list of all the files, as most committers will be
editing only Makefile.common files).

------------------------------------------------------------------------
r23805 | guy | 2007-12-07 19:22:58 -0800 (Fri, 07 Dec 2007) | 3 lines
Changed paths:
   M /trunk/wiretap/Makefile.nmake

Add .. to the directory in which to look for headers, just as is done
with automake/autoconf, so we pick up config.h.

------------------------------------------------------------------------
r23806 | guy | 2007-12-07 19:57:04 -0800 (Fri, 07 Dec 2007) | 3 lines
Changed paths:
   M /trunk/wiretap/wtap.def

wtap_process_pcap_packet() is gone; remove it from the list of exported
functions.

------------------------------------------------------------------------
r23807 | sfisher | 2007-12-08 01:15:23 -0800 (Sat, 08 Dec 2007) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tivoconnect.c


Fix TiVoConnect dissector, seemingly broken since rev 18415.


------------------------------------------------------------------------
r23808 | jmayer | 2007-12-08 09:45:02 -0800 (Sat, 08 Dec 2007) | 6 lines
Changed paths:
   M /trunk/asn1/mpeg-pes/packet-mpeg-pes-template.c
   M /trunk/epan/dissectors/packet-mpeg-pes.c

Warning fix:
- No comma after last element in enum

Fix:
- Call new_dissector_register for new style dissector.

------------------------------------------------------------------------
r23809 | wmeier | 2007-12-08 12:59:15 -0800 (Sat, 08 Dec 2007) | 4 lines
Changed paths:
   M /trunk/gtk/capture_file_dlg.c

Revert SVN #23728 since change (to fix a Windows issue) is in code not used on Windows
and thus does not actually fix anything.
See Bug #2055 for further info.

------------------------------------------------------------------------
r23810 | sahlberg | 2007-12-08 14:45:30 -0800 (Sat, 08 Dec 2007) | 3 lines
Changed paths:
   M /trunk/gtk/proto_hier_stats_dlg.c

some updates to make it compile with gtk/glib < 2


------------------------------------------------------------------------
r23811 | guy | 2007-12-08 14:51:19 -0800 (Sat, 08 Dec 2007) | 3 lines
Changed paths:
   M /trunk/wiretap

Remove files that are no longer generated (as we no longer have a
separate configure script for Wiretap) from the svn:ignore list.

------------------------------------------------------------------------
r23812 | guy | 2007-12-08 14:52:02 -0800 (Sat, 08 Dec 2007) | 2 lines
Changed paths:
   D /trunk/plugins/gryphon/stamp-h.in

Get rid of unused file.  (No other plugin has it.)

------------------------------------------------------------------------
r23813 | guy | 2007-12-08 14:54:38 -0800 (Sat, 08 Dec 2007) | 2 lines
Changed paths:
   M /trunk/wiretap

Get rid of some more files that are no longer generated.

------------------------------------------------------------------------
r23814 | guy | 2007-12-09 01:02:14 -0800 (Sun, 09 Dec 2007) | 3 lines
Changed paths:
   M /trunk/gtk/expert_comp_table.c

Add extra parenthesization, tweak name of argument to some macros to
more accurately reflect what it is.

------------------------------------------------------------------------
r23815 | guy | 2007-12-09 01:04:39 -0800 (Sun, 09 Dec 2007) | 3 lines
Changed paths:
   M /trunk/gtk/conversations_table.c

Add macros for various filter actions, types, and directions, and to
combine them into a callback argument and split a callback argument up.

------------------------------------------------------------------------
r23816 | guy | 2007-12-09 01:04:58 -0800 (Sun, 09 Dec 2007) | 3 lines
Changed paths:
   M /trunk/gtk/hostlist_table.c
   M /trunk/gtk/proto_hier_stats_dlg.c
   M /trunk/gtk/service_response_time_table.c

Add macros for various filter actions and types, and to combine them
into a callback argument and split a callback argument up.

------------------------------------------------------------------------
r23817 | jake | 2007-12-09 02:59:09 -0800 (Sun, 09 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

From M?\195?\161rton N?\195?\169meth:
When an ISOCHRONOUS URB was captured the packet-usb.c does not handle it.
Case URB_ISOCHRONOUS was added at two different places to handle it also.
------------------------------------------------------------------------
r23818 | etxrab | 2007-12-09 09:41:16 -0800 (Sun, 09 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-megaco.c
   M /trunk/epan/dissectors/packet-mgcp.c
   M /trunk/epan/dissectors/packet-rtsp.c
   M /trunk/epan/dissectors/packet-sip.c
   M /trunk/epan/libwireshark.def
   M /trunk/epan/tvbuff.c
   M /trunk/epan/tvbuff.h

Move the routines tvb_skip_wsp() to tvbuff.c
------------------------------------------------------------------------
r23819 | guy | 2007-12-09 13:10:25 -0800 (Sun, 09 Dec 2007) | 5 lines
Changed paths:
   M /trunk/asn1/ansi_map/packet-ansi_map-template.c
   M /trunk/epan/dissectors/packet-ansi_map.c

Get rid of non-ASCII character in a value_string table.  (They might
upset MSVC++ if the wrong code page is selected, and there's no
guarantee that all forms of output of dissected packets are in any
particular character encoding.)

------------------------------------------------------------------------
r23820 | gerald | 2007-12-09 19:12:11 -0800 (Sun, 09 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cip.c

Make sure we don't try to allocate a negative number.

------------------------------------------------------------------------
r23821 | wmeier | 2007-12-09 19:27:40 -0800 (Sun, 09 Dec 2007) | 10 lines
Changed paths:
   M /trunk/gtk/toolbar.c

Fix Bug #2055: "File Save not working properly";
Change SVN #23487 patch to not use signal_connect each time the
the function of the save button is changed since that
results in multiple callbacks attached to the save button.
Intead: associate data with the save button which species its
current function.
(It sure would be nice if the original problem causing the 
 blank spot on the toolbar could be resolved; the work-around 
is starting to get messy).

------------------------------------------------------------------------
r23822 | jake | 2007-12-09 23:54:57 -0800 (Sun, 09 Dec 2007) | 1 line
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_dissection.xml

Add some discussion about plugins vs build-in dissectors.
------------------------------------------------------------------------
r23823 | kukosa | 2007-12-10 00:35:41 -0800 (Mon, 10 Dec 2007) | 3 lines
Changed paths:
   M /trunk/asn1/acp133/Makefile.common
   M /trunk/asn1/acse/Makefile.common
   M /trunk/asn1/ansi_map/Makefile.common
   M /trunk/asn1/camel/Makefile.common
   M /trunk/asn1/cdt/Makefile.common
   M /trunk/asn1/cmip/Makefile.common
   M /trunk/asn1/cms/Makefile.common
   M /trunk/asn1/dap/Makefile.common
   M /trunk/asn1/disp/Makefile.common
   M /trunk/asn1/dop/Makefile.common
   M /trunk/asn1/dsp/Makefile.common
   M /trunk/asn1/ess/Makefile.common
   M /trunk/asn1/ftam/Makefile.common
   M /trunk/asn1/gnm/Makefile.common
   M /trunk/asn1/gsmmap/Makefile.common
   M /trunk/asn1/gsmmap/gsmmap.cnf
   M /trunk/asn1/h248/Makefile.common
   M /trunk/asn1/inap/Makefile.common
   M /trunk/asn1/ldap/Makefile.common
   M /trunk/asn1/logotype-cert-extn/Makefile.common
   M /trunk/asn1/mms/Makefile.common
   M /trunk/asn1/ns-cert-exts/Makefile.common
   M /trunk/asn1/ocsp/Makefile.common
   M /trunk/asn1/p7/Makefile.common
   M /trunk/asn1/pkcs1/Makefile.common
   M /trunk/asn1/pkcs12/Makefile.common
   M /trunk/asn1/pkinit/Makefile.common
   M /trunk/asn1/pkix1explicit/Makefile.common
   M /trunk/asn1/pkix1implicit/Makefile.common
   M /trunk/asn1/pkixcmp/Makefile.common
   M /trunk/asn1/pkixcrmf/Makefile.common
   M /trunk/asn1/pkixproxy/Makefile.common
   M /trunk/asn1/pkixqualified/Makefile.common
   M /trunk/asn1/pkixtsp/Makefile.common
   M /trunk/asn1/pres/Makefile.common
   M /trunk/asn1/q932/Makefile.common
   M /trunk/asn1/q932-ros/Makefile.common
   M /trunk/asn1/qsig/qsig.cnf
   M /trunk/asn1/ros/Makefile.common
   M /trunk/asn1/rtse/Makefile.common
   M /trunk/asn1/s4406/Makefile.common
   M /trunk/asn1/smrse/Makefile.common
   M /trunk/asn1/snmp/Makefile.common
   M /trunk/asn1/spnego/Makefile.common
   M /trunk/asn1/t125/Makefile.common
   M /trunk/asn1/tcap/Makefile.common
   M /trunk/asn1/wlancertextn/Makefile.common
   M /trunk/asn1/x411/Makefile.common
   M /trunk/asn1/x420/Makefile.common
   M /trunk/asn1/x509af/Makefile.common
   M /trunk/asn1/x509ce/Makefile.common
   M /trunk/asn1/x509if/Makefile.common
   M /trunk/asn1/x509sat/Makefile.common
   M /trunk/epan/dissectors/packet-ansi_tcap.c
   M /trunk/epan/dissectors/packet-ansi_tcap.h
   M /trunk/tools/asn2wrs.py

ANSI TCAP regenerated and tested with -T -X asn2wrs options
asn2wrs has -T (tagged types support) and -X (new BER sttructures) default behavior
remove all -T and -X usage
------------------------------------------------------------------------
r23824 | stig | 2007-12-10 01:22:03 -0800 (Mon, 10 Dec 2007) | 7 lines
Changed paths:
   M /trunk/doc/README.developer

From Michael:
Fixed two typos in ReadMe.Developer documentation:
In the example code given, a comment is not properly closed and a semicolon was
missing in variable definition.

This fixes bug 2085.

------------------------------------------------------------------------
r23825 | stig | 2007-12-10 03:17:48 -0800 (Mon, 10 Dec 2007) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dmp.c

Added option to turn off SEQ/ACK analysis.
Moved some resend expert infos to correct entry.
Small fix in seq/ack analysis for report/notificacion.

------------------------------------------------------------------------
r23826 | wmeier | 2007-12-10 10:09:52 -0800 (Mon, 10 Dec 2007) | 2 lines
Changed paths:
   M /trunk/gtk/toolbar.c

Fix conversions so compiles for both 32-bit and 64-bit

------------------------------------------------------------------------
r23827 | etxrab | 2007-12-10 10:25:44 -0800 (Mon, 10 Dec 2007) | 1 line
Changed paths:
   M /trunk/asn1/h245/packet-h245-template.c
   M /trunk/epan/dissectors/packet-h245.c

Add OID:s related to H264.
------------------------------------------------------------------------
r23828 | jake | 2007-12-10 11:02:43 -0800 (Mon, 10 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-dlm3.c

From Masatake YAMATO:
This dissector supports version 3.0 of the dlm (Distributed Lock Manager) protocol.
Actual implementation for the protocol is in linux kernel. See files under linux/fs/dlm/.
------------------------------------------------------------------------
r23829 | jake | 2007-12-10 11:08:14 -0800 (Mon, 10 Dec 2007) | 1 line
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_dissection.xml

Get the paragraph markers right.
------------------------------------------------------------------------
r23830 | sahlberg | 2007-12-10 12:40:31 -0800 (Mon, 10 Dec 2007) | 4 lines
Changed paths:
   M /trunk/gtk/toolbar.c

If not building for gtk 2.4.0, if out a function that is only used when 
building for 2.4.0


------------------------------------------------------------------------
r23831 | sahlberg | 2007-12-10 13:16:17 -0800 (Mon, 10 Dec 2007) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

add some more names for Query/Set path info levels   and add empty stubs 
for these blobs


------------------------------------------------------------------------
r23832 | etxrab | 2007-12-10 13:25:32 -0800 (Mon, 10 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c
   M /trunk/epan/dissectors/packet-h264.h
   M /trunk/epan/dissectors/packet-sdp.c

Decode more of H264 info in SDP.
------------------------------------------------------------------------
r23833 | stig | 2007-12-10 14:18:53 -0800 (Mon, 10 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

Mark some pinfo unused to make it compile.

------------------------------------------------------------------------
r23835 | stig | 2007-12-10 14:22:15 -0800 (Mon, 10 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dlm3.c

uint16_t -> guint16
uint32_t -> guint32

------------------------------------------------------------------------
r23836 | sfisher | 2007-12-10 20:33:08 -0800 (Mon, 10 Dec 2007) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-enip.c


Make the EtherNet/IP (Industrial Protocol) I/O dissection a new type
of dissector that rejects packets it doesn't recognize (on udp port
2222).


------------------------------------------------------------------------
r23837 | jake | 2007-12-10 23:42:36 -0800 (Mon, 10 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-vlan.c

From Jim Young:
Attached is a patch to packet-vlan.c to add "summary info" to the protocol tree.
------------------------------------------------------------------------
r23838 | kukosa | 2007-12-11 01:33:09 -0800 (Tue, 11 Dec 2007) | 1 line
Changed paths:
   M /trunk/asn1/h460/packet-h460-template.c
   M /trunk/epan/dissectors/packet-h460.c

strings registered to dissector table have to be allocated permanently
------------------------------------------------------------------------
r23839 | kukosa | 2007-12-11 03:54:15 -0800 (Tue, 11 Dec 2007) | 2 lines
Changed paths:
   M /trunk/plugins/easy_codec/codec-g722.c
   M /trunk/plugins/easy_codec/codec-g7231.c

From Ales Kocourek
example plugin updated
------------------------------------------------------------------------
r23840 | stig | 2007-12-11 10:39:34 -0800 (Tue, 11 Dec 2007) | 6 lines
Changed paths:
   M /trunk/doc/README.developer

From Marton Nemeth:
- The "showHex" name cannot be the name paramter. Changing it to "show_hex" should be fine.
- There is also a missing ';' at the end of a line in the example.

This fixes bug 2092.

------------------------------------------------------------------------
r23841 | gerald | 2007-12-11 13:17:55 -0800 (Tue, 11 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/oids.c

Don't free memory that we're going to use later.

------------------------------------------------------------------------
r23843 | jmayer | 2007-12-11 14:03:26 -0800 (Tue, 11 Dec 2007) | 1 line
Changed paths:
   D /trunk/plugins/mgcp

mgcp is now in epan/dissectors/
------------------------------------------------------------------------
r23844 | stig | 2007-12-12 01:31:02 -0800 (Wed, 12 Dec 2007) | 4 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Do not use calc_field unless in advanced y axis (bug 1763).
Register new tap listener (new filter) when going from advanced y axis.
Add parantheses to the filters to ensure they are correct when concatenated.

------------------------------------------------------------------------
r23845 | stig | 2007-12-12 01:38:03 -0800 (Wed, 12 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/wslua

Added svn:ignore for epan/wslua/TAGS

------------------------------------------------------------------------
r23846 | kukosa | 2007-12-12 02:51:09 -0800 (Wed, 12 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtp.c

- register RFC 2198 as RTP dynamic payload type "red"
- display dynamic payload type names inside RFC 2198
------------------------------------------------------------------------
r23847 | etxrab | 2007-12-12 13:50:14 -0800 (Wed, 12 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c
   M /trunk/epan/dissectors/packet-sdp.c
   M /trunk/epan/tvbuff.c

tvbuff.c - fix abug if reading last byte in tvb

Further H.264 decoding in SDP
------------------------------------------------------------------------
r23848 | jake | 2007-12-12 14:10:50 -0800 (Wed, 12 Dec 2007) | 1 line
Changed paths:
   M /trunk/plugins/agentx/Makefile.am
   M /trunk/plugins/agentx/Makefile.common

The referenced sample files should be complete and correct.
------------------------------------------------------------------------
r23849 | gerald | 2007-12-12 14:13:58 -0800 (Wed, 12 Dec 2007) | 2 lines
Changed paths:
   M /trunk/Makefile.am

Add missing files to the distribution.

------------------------------------------------------------------------
r23851 | jmayer | 2007-12-12 15:03:44 -0800 (Wed, 12 Dec 2007) | 4 lines
Changed paths:
   A /trunk/epan/dissectors/packet-airopeek.c

Beginnings of airopeek remote capture support.
The metainformation is not yet decoded, also, there
are problems with QoS frames (extra bytes).

------------------------------------------------------------------------
r23852 | jmayer | 2007-12-12 15:26:39 -0800 (Wed, 12 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-airopeek.c

The extra bytes seem to go away if I call wlan_datapad instead
of wlan.

------------------------------------------------------------------------
r23853 | jmayer | 2007-12-12 15:59:31 -0800 (Wed, 12 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-diameter.c

Update a comment about some flags

------------------------------------------------------------------------
r23854 | jake | 2007-12-13 00:02:29 -0800 (Thu, 13 Dec 2007) | 2 lines
Changed paths:
   M /trunk/plugins/unistim/packet-unistim.c

Fix for bug 2098:
Test that message length is at least the minumum required, otherwise generate expert item..
------------------------------------------------------------------------
r23855 | jmayer | 2007-12-13 03:33:53 -0800 (Thu, 13 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/Makefile.common

Add airopeek dissector
------------------------------------------------------------------------
r23856 | jmayer | 2007-12-13 03:37:03 -0800 (Thu, 13 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ncp2222.inc

Replace // comments
------------------------------------------------------------------------
r23858 | etxrab | 2007-12-13 13:20:52 -0800 (Thu, 13 Dec 2007) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

Finish dissection of 
- NAL unit - Sequence parameter set
- NAL unit - Picture parameter set
for the trace I have and also dissect those NAL units in the RTP stream.
For "elements coded as ue(v), me(v), or se(v) are Exp-Golomb-coded" only ue(v) is implemented.
------------------------------------------------------------------------
r23859 | sfisher | 2007-12-13 14:47:42 -0800 (Thu, 13 Dec 2007) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c


Fix compilation on Unix (unused variable passed to function)


------------------------------------------------------------------------
r23860 | jake | 2007-12-13 23:06:22 -0800 (Thu, 13 Dec 2007) | 1 line
Changed paths:
   M /trunk/gtk/follow_ssl.c
   M /trunk/gtk/menu.c

Source code cleanup.
------------------------------------------------------------------------
r23861 | jmayer | 2007-12-14 06:58:28 -0800 (Fri, 14 Dec 2007) | 2 lines
Changed paths:
   M /trunk/asn1/h282/packet-h282-template.c
   M /trunk/asn1/h283/packet-h283-template.c
   M /trunk/asn1/h501/packet-h501-template.c
   M /trunk/epan/dissectors/packet-h282.c
   M /trunk/epan/dissectors/packet-h283.c
   M /trunk/epan/dissectors/packet-h501.c

If we implement new style dissectors, register them as such.

------------------------------------------------------------------------
r23862 | jmayer | 2007-12-14 07:14:40 -0800 (Fri, 14 Dec 2007) | 1 line
Changed paths:
   M /trunk/color_filters.h
   M /trunk/epan/dissectors/packet-tpncp.c
   M /trunk/epan/dissectors/packet-wlccp.c
   M /trunk/plugins/wimax/mac_hd_generic_decoder.c
   M /trunk/plugins/wimax/msg_ulmap.c
   M /trunk/plugins/wimax/packet-wmx.c
   M /trunk/tshark.c

Warning fixes: function declaration isn?\226?\128?\153t a prototype
------------------------------------------------------------------------
r23863 | stig | 2007-12-14 09:49:53 -0800 (Fri, 14 Dec 2007) | 2 lines
Changed paths:
   M /trunk/Makefile.am

Added icon_color_*.xpm to Makefile.am

------------------------------------------------------------------------
r23864 | stig | 2007-12-14 09:52:53 -0800 (Fri, 14 Dec 2007) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake

Ensure we make $(INSTALL_DIR)/plugins on windows.

------------------------------------------------------------------------
r23865 | gerald | 2007-12-14 11:10:01 -0800 (Fri, 14 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wlancap.c

Wlancap enhancements and fixes from Solomon Peachy.

------------------------------------------------------------------------
r23867 | jake | 2007-12-14 12:14:15 -0800 (Fri, 14 Dec 2007) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c

From Zbigniew Kopek:
Here are additional DHCP Suboptions for Option 43 introduced in new eDOCSIS
Cable Laboratories documentation:
( http://www.cablemodem.com/downloads/specs/CM-SP-eDOCSIS-I13-070803.pdf )
Also display suboptions for Option 43 for OpenCable devices.
------------------------------------------------------------------------
r23868 | etxrab | 2007-12-14 13:27:18 -0800 (Fri, 14 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

Some more dissection added.
------------------------------------------------------------------------
r23869 | stig | 2007-12-14 15:40:42 -0800 (Fri, 14 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

Fixed comments.

------------------------------------------------------------------------
r23870 | etxrab | 2007-12-15 05:06:35 -0800 (Sat, 15 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

- Add col info.
- Small bugfix (duplicated tree info).
- Dissect first few bits for more NAL units
------------------------------------------------------------------------
r23871 | jake | 2007-12-15 05:20:17 -0800 (Sat, 15 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/packet.c

Cleanup call_dissector / call_dissector_only
------------------------------------------------------------------------
r23872 | jake | 2007-12-15 05:21:05 -0800 (Sat, 15 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/proto.h

Clean up header field info comments.
------------------------------------------------------------------------
r23873 | jake | 2007-12-15 05:26:09 -0800 (Sat, 15 Dec 2007) | 1 line
Changed paths:
   M /trunk/gtk/menu.c
   M /trunk/gtk/proto_dlg.c
   M /trunk/gtk/proto_dlg.h

With increasing number of dissectors, heuristics cause sometimes false hits on packets. It's a pain to go through the menu / enabled protocols dialog to temporarily disable such dissector. This change adds an option to the packet detail menu to do a point-and-click style temporary disable of such protocol.
------------------------------------------------------------------------
r23874 | gal | 2007-12-15 07:17:07 -0800 (Sat, 15 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Add missing proto_get_id


------------------------------------------------------------------------
r23875 | gal | 2007-12-15 07:21:25 -0800 (Sat, 15 Dec 2007) | 3 lines
Changed paths:
   A /trunk/asn1/dap/DirectoryAccessProtocol.asn
   M /trunk/asn1/dap/Makefile.common
   M /trunk/asn1/dap/dap.asn
   M /trunk/asn1/dap/dap.cnf
   M /trunk/asn1/dap/packet-dap-template.c
   M /trunk/epan/dissectors/packet-dap.c
   M /trunk/epan/dissectors/packet-dap.h

Revised DAP dissector using latest asn2wrs features (requiring fewer changes the ASN.1 module) and table-driven operations.


------------------------------------------------------------------------
r23876 | martinm | 2007-12-15 10:26:21 -0800 (Sat, 15 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sdp.c

Fix preference text (SDP isn't only carried over SIP).
------------------------------------------------------------------------
r23877 | guy | 2007-12-15 11:36:25 -0800 (Sat, 15 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wbxml.c

Get rid of another non-ASCII character.

------------------------------------------------------------------------
r23878 | sake | 2007-12-15 15:25:05 -0800 (Sat, 15 Dec 2007) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c
   M /trunk/epan/follow.c
   M /trunk/epan/follow.h

Fixes the "follow tcp stream" output when there are frames missing in the
capture file that were actually on the wire. The reassembly code waited for 
the gaps to be filled in by retransmissions, which would never come.

With this fix all acknowledged data will be output with "[xxx bytes missing in 
capture file]" inserted in every gap.


------------------------------------------------------------------------
r23879 | sake | 2007-12-15 15:38:29 -0800 (Sat, 15 Dec 2007) | 8 lines
Changed paths:
   M /trunk/color_filters.c
   M /trunk/color_filters.h
   M /trunk/gtk/menu.c

Changes the name of the menu item "View/Reset Coloring" to
"View/Reset Coloring 1-10" and adds sensitivity to it so that
it will be greyed out when none of the temporary color filters
are used.

(as per discussion on wireshark-dev some time ago)


------------------------------------------------------------------------
r23880 | sake | 2007-12-15 16:35:34 -0800 (Sat, 15 Dec 2007) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-eth.c
   M /trunk/epan/dissectors/packet-eth.h
   M /trunk/epan/dissectors/packet-ethertype.c
   M /trunk/epan/dissectors/packet-ieee8023.c
   M /trunk/epan/dissectors/packet-isl.c

Big 2104 - From Benn Bollay:

This patch adds a heuristic dissector to the ethernet trailer under the
keystring "eth.trailer".  This allows for other protocol plugins which coopt
the ethernet trailer for their own devices to register for trailer traffic
without requiring any further changes to the executable.


------------------------------------------------------------------------
r23881 | gal | 2007-12-16 00:36:16 -0800 (Sun, 16 Dec 2007) | 4 lines
Changed paths:
   M /trunk/packaging/portableapps/win32/makefile.nmake
   M /trunk/packaging/portableapps/win32/readme.txt
   M /trunk/tools/win32-setup.sh

Automatically install the FindProcDll.dll NSIS plug-in required for the WiresharkPortable.exe.
This should allow the builbot to build the PortableApps packaging.


------------------------------------------------------------------------
r23882 | stig | 2007-12-16 05:01:13 -0800 (Sun, 16 Dec 2007) | 7 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/wiretap/libpcap.c

From Marton Nemeth:
Error message when capturing too short WTAP_ENCAP_USB_LINUX type packets
contains a copy-paste typo.

From me:
Fix some addresses in AUTHORS.

------------------------------------------------------------------------
r23883 | stig | 2007-12-16 05:17:37 -0800 (Sun, 16 Dec 2007) | 5 lines
Changed paths:
   M /trunk/epan/uat.c

From Jim Young:
Fixed reading uat personal files before global files.

This fixes bug 2070.

------------------------------------------------------------------------
r23884 | etxrab | 2007-12-16 05:34:33 -0800 (Sun, 16 Dec 2007) | 1 line
Changed paths:
   A /trunk/asn1/s1ap
   A /trunk/asn1/s1ap/Makefile.am
   A /trunk/asn1/s1ap/Makefile.common
   A /trunk/asn1/s1ap/Makefile.nmake
   A /trunk/asn1/s1ap/S1AP-CommonDataTypes.asn
   A /trunk/asn1/s1ap/S1AP-Constants.asn
   A /trunk/asn1/s1ap/S1AP-Containers.asn
   A /trunk/asn1/s1ap/S1AP-IEs.asn
   A /trunk/asn1/s1ap/S1AP-PDU-Contents.asn
   A /trunk/asn1/s1ap/S1AP-PDU-Descriptions.asn
   A /trunk/asn1/s1ap/packet-s1ap-template.c
   A /trunk/asn1/s1ap/s1ap.cnf

Initial work on a E-UTRAN) S1 Application Protocol (S1AP) packet dissector.
------------------------------------------------------------------------
r23885 | stig | 2007-12-16 06:21:37 -0800 (Sun, 16 Dec 2007) | 15 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-ipars.c
   M /trunk/epan/dissectors/packet-lapb.c
   A /trunk/epan/dissectors/packet-sita.c
   A /trunk/epan/dissectors/packet-uts.c
   M /trunk/wiretap/libpcap.c
   M /trunk/wiretap/wtap.c
   M /trunk/wiretap/wtap.h

From Fulko Hew:
1/ patches to support the libpcap/SITA format 'WTAP_ENCAP_SITA'.
2/ patches to the LAPB dissector to accept MLP (Multi-link protocol)
   (although MLP dissection has _not_ been added (yet)).
3/ New protocol dissectors for:
   a) SITA's WAN layer 0 status header,
   b) An airline protocol ALC,
   c) An airline (and other industry) protocol UTS.

These patches are submitted as a set since the new protocol dissectors are not
useful without the libpcap/SITA related changes, and there is no point in
having those changes without the additional dissectors.

This fixes bug/enhancement 2016.

------------------------------------------------------------------------
r23886 | etxrab | 2007-12-16 06:26:18 -0800 (Sun, 16 Dec 2007) | 1 line
Changed paths:
   A /trunk/asn1/x2ap
   A /trunk/asn1/x2ap/Makefile.am
   A /trunk/asn1/x2ap/Makefile.common
   A /trunk/asn1/x2ap/Makefile.nmake
   A /trunk/asn1/x2ap/X2AP-CommonDataTypes.asn
   A /trunk/asn1/x2ap/X2AP-Constants.asn
   A /trunk/asn1/x2ap/X2AP-Containers.asn
   A /trunk/asn1/x2ap/X2AP-IEs.asn
   A /trunk/asn1/x2ap/X2AP-PDU-Contents.asn
   A /trunk/asn1/x2ap/X2AP-PDU-Descriptions.asn
   A /trunk/asn1/x2ap/packet-x2ap-template.c
   A /trunk/asn1/x2ap/x2ap.cnf

Initial work on a E-UTRAN X2 Application Protocol (X2AP) packet dissector.
------------------------------------------------------------------------
r23887 | stig | 2007-12-16 07:10:02 -0800 (Sun, 16 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipars.c
   M /trunk/epan/dissectors/packet-sita.c
   M /trunk/epan/dissectors/packet-uts.c

Set usual properties on packet-sita.c, packet-uts.c and packet-ipars.c

------------------------------------------------------------------------
r23888 | etxrab | 2007-12-16 09:42:35 -0800 (Sun, 16 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

Add a few more bits.
------------------------------------------------------------------------
r23889 | etxrab | 2007-12-16 09:43:10 -0800 (Sun, 16 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

Update comments.
------------------------------------------------------------------------
r23890 | stig | 2007-12-16 10:26:50 -0800 (Sun, 16 Dec 2007) | 2 lines
Changed paths:
   M /trunk/AUTHORS

Add the magic again...

------------------------------------------------------------------------
r23891 | stig | 2007-12-16 12:27:55 -0800 (Sun, 16 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

Comment out unused code.

------------------------------------------------------------------------
r23892 | stig | 2007-12-16 13:04:08 -0800 (Sun, 16 Dec 2007) | 7 lines
Changed paths:
   M /trunk/epan/arptypes.h
   M /trunk/epan/dissectors/packet-sll.c

From Timo Teras:
The attached patch checks sll_hatype field type and if suggest capture on GRE
interface, the packet will be dissected using GRE dissector table. Also prints
physical addresses with length 4 as IPv4 addresses.

This fixes bug 2105.

------------------------------------------------------------------------
r23893 | guy | 2007-12-16 14:33:03 -0800 (Sun, 16 Dec 2007) | 2 lines
Changed paths:
   M /trunk/gtk/menu.c

Temporarily #if 0 out code that was causing crashes.

------------------------------------------------------------------------
r23894 | guy | 2007-12-16 14:46:42 -0800 (Sun, 16 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-gre.c
   A /trunk/epan/dissectors/packet-gre.h
   M /trunk/epan/dissectors/packet-sll.c

For captures on a Linux GRE interface, put a field into the protocol
tree with the GRE protocol type value.

------------------------------------------------------------------------
r23895 | guy | 2007-12-16 15:45:26 -0800 (Sun, 16 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan

Remove from epan's svn:ignore list some items that aren't there any
more.

------------------------------------------------------------------------
r23896 | stig | 2007-12-17 01:00:45 -0800 (Mon, 17 Dec 2007) | 5 lines
Changed paths:
   M /trunk/epan/wslua/wslua_tree.c

From RuudS:
Patch to LUA to implement byte arrays.

This fixes bug 2110.

------------------------------------------------------------------------
r23897 | gram | 2007-12-17 01:42:33 -0800 (Mon, 17 Dec 2007) | 3 lines
Changed paths:
   M /trunk/doc/README.xml-output
   M /trunk/tools/msnchat

Documentation fix. Fix a strangely-worded sentence in README.xml-output
and add some important comments to msnchat.

------------------------------------------------------------------------
r23898 | kukosa | 2007-12-17 04:16:38 -0800 (Mon, 17 Dec 2007) | 3 lines
Changed paths:
   M /trunk/asn1/h245/h245.cnf
   M /trunk/asn1/h245/packet-h245-template.c
   M /trunk/epan/dissectors/packet-h245.c

- use structure instead of many global variables for channel setup
- move channel setup code to one function
- support RFC2198 dynamic payload type setup
------------------------------------------------------------------------
r23899 | morriss | 2007-12-17 11:25:16 -0800 (Mon, 17 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sctp.c

From Kaul: s/SERIAL_NUMBER_LENGTH/SCTP_SERIAL_NUMBER_LENGTH to fix a duplicate definition on Windows (not sure why Kaul is seeing that but oh well).
------------------------------------------------------------------------
r23900 | etxrab | 2007-12-17 11:43:01 -0800 (Mon, 17 Dec 2007) | 1 line
Changed paths:
   M /trunk/asn1/x2ap/X2AP-IEs.asn
   M /trunk/asn1/x2ap/x2ap.cnf

Correct typos
------------------------------------------------------------------------
r23902 | sfisher | 2007-12-17 12:43:38 -0800 (Mon, 17 Dec 2007) | 8 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-rtmpt.c
   M /trunk/epan/dissectors/packet-tcp.c
   M /trunk/epan/dissectors/packet-tcp.h


From metatech:

New dissector for RTMP(T) protocol

via bug #2078


------------------------------------------------------------------------
r23903 | sake | 2007-12-17 15:11:04 -0800 (Mon, 17 Dec 2007) | 12 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ucp.c

Bug 2116 - From  Lawrence Reisler  :

During a regular Wireshark trace of UCP packets running over ethernet, I noted
that Wireshark said the login packet was malformed, even though it looked OK
and the server responded correctly.  After looking at the UCP protocol, it
became clear that Wireshark was parsing a type 60 message which only has one
Reserverd field (RES1) and expecting it to have two Reserved fields (RES1 and
RES2) like a type 61 message.  This is because it is using the same function to
parse both messages, and does not have a conditional for the type 60 field.



------------------------------------------------------------------------
r23904 | jmayer | 2007-12-17 15:35:02 -0800 (Mon, 17 Dec 2007) | 3 lines
Changed paths:
   M /trunk/wiretap/Makefile.am
   M /trunk/wiretap/Makefile.common

_SOURCE has magic meaning and isn't to be used by non-wizards.
Aka: Newer autofoo tools broke because of the _SOURCE ending.

------------------------------------------------------------------------
r23905 | jmayer | 2007-12-17 15:36:41 -0800 (Mon, 17 Dec 2007) | 1 line
Changed paths:
   M /trunk/config.guess
   M /trunk/config.sub

Update config.sub and config.guess to newer versions
------------------------------------------------------------------------
r23906 | jmayer | 2007-12-17 15:38:09 -0800 (Mon, 17 Dec 2007) | 4 lines
Changed paths:
   M /trunk/configure.in

Actually fail if no lex and yacc (derivatives) could be found.

Add -Wextra to extra warnings if supported.

------------------------------------------------------------------------
r23907 | jmayer | 2007-12-17 16:44:49 -0800 (Mon, 17 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-erf.c

Bugfix: Array overflow (found by gcc43)
------------------------------------------------------------------------
r23908 | jmayer | 2007-12-17 16:46:18 -0800 (Mon, 17 Dec 2007) | 2 lines
Changed paths:
   M /trunk/aclocal-fallback/iconv.m4

Fix complaint by newer autofoo tools

------------------------------------------------------------------------
r23909 | jmayer | 2007-12-17 17:00:39 -0800 (Mon, 17 Dec 2007) | 2 lines
Changed paths:
   M /trunk/configure.in

Exit -Wextra again, entry -Woverflow and -Warray-bounds

------------------------------------------------------------------------
r23911 | guy | 2007-12-18 00:01:11 -0800 (Tue, 18 Dec 2007) | 7 lines
Changed paths:
   M /trunk/capture_info.c
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/epan/dissectors/packet-ieee80211.h
   D /trunk/epan/dissectors/packet-prism.c
   D /trunk/epan/dissectors/packet-prism.h
   D /trunk/epan/dissectors/packet-wlancap.c
   D /trunk/epan/dissectors/packet-wlancap.h

Fold the Prism and AVS header dissectors into packet-ieee80211.c, and
have them use least some of the radio-information fields, so that the
same field name can be used for multiple radio header types.  The AVS
header can supply the data rate in bits/second, so have that field be in
those units, and make it 64 bits to leave room for the future, Just In
Case.  Display it as Mb/s, however.

------------------------------------------------------------------------
r23912 | guy | 2007-12-18 00:57:17 -0800 (Tue, 18 Dec 2007) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Interpret the signal and noise values in an AVS header appropriately, as
per the signal type (and as per a noise value of 0xffffffff meaning no
noise value was provided).

------------------------------------------------------------------------
r23913 | guy | 2007-12-18 01:22:17 -0800 (Tue, 18 Dec 2007) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Put radio information from a pseudo-header into its own protocol tree
item, as is done for radio information in a Prism, AVS, or radiotap
header.

------------------------------------------------------------------------
r23914 | guy | 2007-12-18 01:31:54 -0800 (Tue, 18 Dec 2007) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

It appears that some fields in the Prism header might have a DID value
of 0, and that appears to mean that they're not present.  Check for
that, as well as the status.

------------------------------------------------------------------------
r23915 | kukosa | 2007-12-18 01:51:49 -0800 (Tue, 18 Dec 2007) | 1 line
Changed paths:
   M /trunk/asn1/h245/packet-h245-template.c
   M /trunk/epan/dissectors/packet-h245.c

fix bug 2112
------------------------------------------------------------------------
r23916 | kukosa | 2007-12-18 02:15:31 -0800 (Tue, 18 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-per.c

do not align before enumerated extension
------------------------------------------------------------------------
r23917 | jake | 2007-12-18 14:41:25 -0800 (Tue, 18 Dec 2007) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

From Alex Burlyga:
When parsing nfsv4 GETATTR reply in attribute fs_location wireshark displays incorrect content for the attribute value. It looks like instead of parsing as rpc arrays, value gets parsed as 
rpc linked list. This patch which fixes the problem
I also noticed that FATTR4_MOUNTED_ON_FILEID attribute is not getting parsed, so I added parsing for that as well.
------------------------------------------------------------------------
r23918 | jake | 2007-12-18 14:43:29 -0800 (Tue, 18 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sita.c

No extended characters here please.
------------------------------------------------------------------------
r23919 | etxrab | 2007-12-18 21:43:20 -0800 (Tue, 18 Dec 2007) | 2 lines
Changed paths:
   M /trunk/asn1/camel/Makefile.common

Correct the order the .asn files are called - yes it matters.
Grrr took me ages to figure out what the problem was.
------------------------------------------------------------------------
r23920 | stig | 2007-12-19 01:38:03 -0800 (Wed, 19 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dmp.c

Added total retransmission time analysis field.

------------------------------------------------------------------------
r23921 | jmayer | 2007-12-19 02:02:50 -0800 (Wed, 19 Dec 2007) | 3 lines
Changed paths:
   M /trunk/asn1/acp133/Makefile.common
   M /trunk/asn1/acse/Makefile.common
   M /trunk/asn1/ansi-tcap/Makefile.common
   M /trunk/asn1/ansi_map/Makefile.common
   M /trunk/asn1/camel/Makefile.common
   M /trunk/asn1/cdt/Makefile.common
   M /trunk/asn1/cmip/Makefile.common
   M /trunk/asn1/cms/Makefile.common
   M /trunk/asn1/dap/Makefile.common
   M /trunk/asn1/disp/Makefile.common
   M /trunk/asn1/dop/Makefile.common
   M /trunk/asn1/dsp/Makefile.common
   M /trunk/asn1/ess/Makefile.common
   M /trunk/asn1/ftam/Makefile.common
   M /trunk/asn1/gnm/Makefile.common
   M /trunk/asn1/gsmmap/Makefile.common
   M /trunk/asn1/h225/Makefile.common
   M /trunk/asn1/h235/Makefile.common
   M /trunk/asn1/h245/Makefile.common
   M /trunk/asn1/h248/Makefile.common
   M /trunk/asn1/h282/Makefile.common
   M /trunk/asn1/h283/Makefile.common
   M /trunk/asn1/h323/Makefile.common
   M /trunk/asn1/h450/Makefile.common
   M /trunk/asn1/h450-ros/Makefile.common
   M /trunk/asn1/h460/Makefile.common
   M /trunk/asn1/h501/Makefile.common
   M /trunk/asn1/inap/Makefile.common
   M /trunk/asn1/ldap/Makefile.common
   M /trunk/asn1/logotype-cert-extn/Makefile.common
   M /trunk/asn1/mms/Makefile.common
   M /trunk/asn1/mpeg-audio/Makefile.common
   M /trunk/asn1/mpeg-pes/Makefile.common
   M /trunk/asn1/nbap/Makefile.common
   M /trunk/asn1/ns-cert-exts/Makefile.common
   M /trunk/asn1/ocsp/Makefile.common
   M /trunk/asn1/p7/Makefile.common
   M /trunk/asn1/pkcs1/Makefile.common
   M /trunk/asn1/pkcs12/Makefile.common
   M /trunk/asn1/pkinit/Makefile.common
   M /trunk/asn1/pkix1explicit/Makefile.common
   M /trunk/asn1/pkix1implicit/Makefile.common
   M /trunk/asn1/pkixcmp/Makefile.common
   M /trunk/asn1/pkixcrmf/Makefile.common
   M /trunk/asn1/pkixproxy/Makefile.common
   M /trunk/asn1/pkixqualified/Makefile.common
   M /trunk/asn1/pkixtsp/Makefile.common
   M /trunk/asn1/pres/Makefile.common
   M /trunk/asn1/q932/Makefile.common
   M /trunk/asn1/q932-ros/Makefile.common
   M /trunk/asn1/qsig/Makefile.common
   M /trunk/asn1/ranap/Makefile.common
   M /trunk/asn1/rnsap/Makefile.common
   M /trunk/asn1/ros/Makefile.common
   M /trunk/asn1/rrc/Makefile.common
   M /trunk/asn1/rrlp/Makefile.common
   M /trunk/asn1/rtse/Makefile.common
   M /trunk/asn1/s1ap/Makefile.common
   M /trunk/asn1/s4406/Makefile.common
   M /trunk/asn1/sabp/Makefile.common
   M /trunk/asn1/smrse/Makefile.common
   M /trunk/asn1/snmp/Makefile.common
   M /trunk/asn1/spnego/Makefile.common
   M /trunk/asn1/t125/Makefile.common
   M /trunk/asn1/t38/Makefile.common
   M /trunk/asn1/tcap/Makefile.common
   M /trunk/asn1/ulp/Makefile.common
   M /trunk/asn1/wlancertextn/Makefile.common
   M /trunk/asn1/x2ap/Makefile.common
   M /trunk/asn1/x411/Makefile.common
   M /trunk/asn1/x420/Makefile.common
   M /trunk/asn1/x509af/Makefile.common
   M /trunk/asn1/x509ce/Makefile.common
   M /trunk/asn1/x509if/Makefile.common
   M /trunk/asn1/x509sat/Makefile.common

asn1/*/Makefile.nmake were not part of the source package.
Spotted by Tomas Kukosa.

------------------------------------------------------------------------
r23922 | stig | 2007-12-19 02:05:42 -0800 (Wed, 19 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-p_mul.c

- Added first version of P_Mul sequence analysis.
- Added expert info for Discard_Message_PDU.

------------------------------------------------------------------------
r23923 | martinm | 2007-12-19 02:49:22 -0800 (Wed, 19 Dec 2007) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-arp.c

Report duplicate IP addresses based on observed ARP requests & responses.

Turned on by default (otherwise no-one will find it).

------------------------------------------------------------------------
r23924 | stig | 2007-12-19 03:25:47 -0800 (Wed, 19 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-p_mul.c

Added total retransmission time analysis field.

------------------------------------------------------------------------
r23925 | gerald | 2007-12-19 16:42:40 -0800 (Wed, 19 Dec 2007) | 2 lines
Changed paths:
   M /trunk/Makefile.am

TShark doesn't need setuid permissions any more.

------------------------------------------------------------------------
r23926 | sfisher | 2007-12-19 20:21:04 -0800 (Wed, 19 Dec 2007) | 5 lines
Changed paths:
   M /trunk/configure.in


Follow-up to SVN commit 23925: Remove tshark from description of setuid
options in configure script, leaving just dumpcap.


------------------------------------------------------------------------
r23927 | stig | 2007-12-20 05:59:23 -0800 (Thu, 20 Dec 2007) | 5 lines
Changed paths:
   M /trunk/wireshark.desktop

From Peter (bug 2127):
X-KDE-SubstituteUID=true forces kde users to run this program as root, but
since 0.99.7 it is highly suggested to avoid running one point five millions
lines of source code as root. Please remove this line there.

------------------------------------------------------------------------
r23928 | stig | 2007-12-20 06:16:13 -0800 (Thu, 20 Dec 2007) | 2 lines
Changed paths:
   M /trunk/wireshark.desktop

Corrected GenericName for Norwegian (Bokmal) and Norwegian (Nynorsk).

------------------------------------------------------------------------
r23929 | stig | 2007-12-20 06:18:38 -0800 (Thu, 20 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dmp.c

Added Precedence and Importance to COL_INFO.

------------------------------------------------------------------------
r23930 | gerald | 2007-12-20 09:34:39 -0800 (Thu, 20 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-arp.c

Fix some casts.

------------------------------------------------------------------------
r23931 | jake | 2007-12-21 00:16:47 -0800 (Fri, 21 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smpp.c
   M /trunk/epan/dissectors/packet-smpp.h

From Abhik Sarkar:
This patch adds initial support for statistics to the SMPP dissector using the Stats Tree API.
------------------------------------------------------------------------
r23932 | tuexen | 2007-12-21 03:06:21 -0800 (Fri, 21 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-asap.c
   M /trunk/epan/dissectors/packet-enrp.c

Fix the handling of error parameters. Reported by Holger Eppert.

------------------------------------------------------------------------
r23933 | stig | 2007-12-21 05:23:52 -0800 (Fri, 21 Dec 2007) | 2 lines
Changed paths:
   M /trunk/asn1/x411/packet-x411-template.c
   M /trunk/asn1/x411/x411.cnf
   M /trunk/epan/dissectors/packet-x411.c
   M /trunk/epan/dissectors/packet-x411.h

Added type=value to BuiltInDomainDefinedAttributes items.

------------------------------------------------------------------------
r23935 | sfisher | 2007-12-21 13:55:10 -0800 (Fri, 21 Dec 2007) | 6 lines
Changed paths:
   M /trunk/doc/README.stats_tree


From Abhik Sarkar via bug #2130: Mistake in Readme.stats_tree 

Me: Remove change of 0 to NULL in call to stats_tree_create_node from patch


------------------------------------------------------------------------
r23936 | jake | 2007-12-21 14:22:19 -0800 (Fri, 21 Dec 2007) | 1 line
Changed paths:
   M /trunk/gtk/menu.c

Fix menu sensitivity even for text only nodes.
------------------------------------------------------------------------
r23937 | sfisher | 2007-12-21 15:02:00 -0800 (Fri, 21 Dec 2007) | 7 lines
Changed paths:
   M /trunk/epan/Makefile.am


From Peter via bug #1689:

Patch to fix problem where compilation fails if you have libgcrypt installed
without gnutls.


------------------------------------------------------------------------
r23938 | jake | 2007-12-22 02:47:26 -0800 (Sat, 22 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/proto.c
   M /trunk/epan/proto.h

Describe text only field as "Text Item", shown in status bar.
Improve documentation headers.
------------------------------------------------------------------------
r23939 | tuexen | 2007-12-22 12:30:23 -0800 (Sat, 22 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-asap.c
   M /trunk/epan/dissectors/packet-enrp.c

Add handling of "Rejected due to security considerations" error cause.
Reported by Holger Epper.

------------------------------------------------------------------------
r23940 | jake | 2007-12-23 06:18:27 -0800 (Sun, 23 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-frame.c
   M /trunk/epan/dissectors/packet-wsp.c

Use proto functions i.s.o. manipulating node data directly.
------------------------------------------------------------------------
r23941 | jake | 2007-12-23 06:19:48 -0800 (Sun, 23 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-pce.c

From Silvia Cristina Tejedor:
New dissector for the protocol PCE
------------------------------------------------------------------------
r23942 | sfisher | 2007-12-23 11:32:08 -0800 (Sun, 23 Dec 2007) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pce.c


Fix warning/error on Windows buildbot with conversion from unsigned short to
unsigned char at line 1958.


------------------------------------------------------------------------
r23943 | jake | 2007-12-23 12:10:57 -0800 (Sun, 23 Dec 2007) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtp.c

From Andreas St:
In our communication systems, we make use of the RTP header extension to encode
signalling information in the form of a bit mask. To improve our debugging, we
extended the default RTP dissector to call back any subdissector registering
for a particular RTP payload type string. This allows to render the value of
the header extension in a different, more flexible way compared to the default
numeric representation, such as in form of a subtree.
------------------------------------------------------------------------
r23944 | sfisher | 2007-12-23 20:09:56 -0800 (Sun, 23 Dec 2007) | 4 lines
Changed paths:
   M /trunk/doc/wireshark.pod


Add CommView to list of supported capture file formats 


------------------------------------------------------------------------
r23945 | jake | 2007-12-24 03:16:06 -0800 (Mon, 24 Dec 2007) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_sms.c

From Abhik Sarkar:
In packet-gsm_sms.c, in function dis_field_ud_iei, it is assumed that the UDHL
must be greater than 2 (because it is expected that IEIa and IEIDLa will be 
one byte each and the rest will be IEIDa). 
However, there are some cases in which UDHL can be 2. For example, in 3GPP 23.048.
------------------------------------------------------------------------
r23946 | jake | 2007-12-24 08:27:27 -0800 (Mon, 24 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-pce.c

Defining INTERFACE causes a clash with Win32 defines. Moving to ATTR_*
------------------------------------------------------------------------
r23947 | etxrab | 2007-12-25 07:55:19 -0800 (Tue, 25 Dec 2007) | 1 line
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.nmake
   M /trunk/epan/Makefile.nmake
   M /trunk/tools/win32-setup.sh

Build with assembler support  (NASM).
------------------------------------------------------------------------
r23948 | etxrab | 2007-12-25 08:02:59 -0800 (Tue, 25 Dec 2007) | 1 line
Changed paths:
   M /trunk/tools/win32-setup.sh

Typo -- missing "
------------------------------------------------------------------------
r23949 | sake | 2007-12-26 10:28:31 -0800 (Wed, 26 Dec 2007) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-http.c
   M /trunk/epan/dissectors/packet-http.h

Fix for bug 1586: When proxying a tcp connection (mostly used with ssl over an
http proxy), let the proxied protocol take care of reassembly itself.


------------------------------------------------------------------------
r23950 | jake | 2007-12-27 02:38:03 -0800 (Thu, 27 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dhcpv6.c

From Francis Dupont:
DHCPv6 dissector is pretty old, i.e., it needs some updates (provided in the patch).
For instance, RFC 5007 (leasequery) is not taken into account.
------------------------------------------------------------------------
r23951 | jake | 2007-12-27 04:00:45 -0800 (Thu, 27 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pce.c

Fix for bug 2141:
Based on the analysis from Jim Young added some DISSECTOR_ASSERT calls to make sure
the dissection will procede through the packet data.
------------------------------------------------------------------------
r23952 | kukosa | 2007-12-27 05:35:44 -0800 (Thu, 27 Dec 2007) | 1 line
Changed paths:
   M /trunk/wiretap/wtap.def

export more buffer functions from wiretap
------------------------------------------------------------------------
r23953 | guy | 2007-12-27 13:06:47 -0800 (Thu, 27 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

Fix a comment to reflect two possible reasons for a bogus PDU length.

------------------------------------------------------------------------
r23954 | sake | 2007-12-27 17:23:01 -0800 (Thu, 27 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl.c

Preserve can_desegment status when passing the decrypted ssl-data to a subdissector


------------------------------------------------------------------------
r23955 | guy | 2007-12-27 19:06:30 -0800 (Thu, 27 Dec 2007) | 19 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pce.c

Indicate what the current versions of the I-Ds for PCE are; also point
to some RFCS.

Get rid of an unused dissector table and unused dissector handle.

Add #defines for the object header length and the minimum lengths of
various objects.

Don't use DISSECTOR_ASSERT() to check the contents of a packet - it is
by definition a bug in a dissector if DISSECTOR_ASSERT() is called, and
making a dissector call DISSECTOR_ASSERT() if a value that could
conceivably appear in a packet does appear in a packet is introducing a
known bug into a dissector.

Add more length checks - and use checked lengths for items rather than
updating lengths incrementally.

Clean up indentation and a bunch of other stuff.

------------------------------------------------------------------------
r23956 | kukosa | 2007-12-27 23:38:06 -0800 (Thu, 27 Dec 2007) | 1 line
Changed paths:
   M /trunk/wiretap/buffer.c
   M /trunk/wiretap/buffer.h

more buffer functions
------------------------------------------------------------------------
r23957 | jake | 2007-12-28 01:09:09 -0800 (Fri, 28 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-smtp.c

Add submission port dissection.
------------------------------------------------------------------------
r23958 | kukosa | 2007-12-28 02:42:44 -0800 (Fri, 28 Dec 2007) | 3 lines
Changed paths:
   M /trunk/asn1/h225/h225.cnf
   M /trunk/epan/asn1.c
   M /trunk/epan/asn1.h
   M /trunk/epan/dissectors/packet-h225.c
   M /trunk/epan/dissectors/packet-h225.h
   M /trunk/epan/dissectors/packet-per.c
   M /trunk/epan/dissectors/packet-per.h
   M /trunk/tools/asn2wrs.py

support for additionally SIZE constrained Typereference
the support is only semiautomated as this feature does not occur very often
use this feature for the TBCD-STRING in the H.225 dissector
------------------------------------------------------------------------
r23959 | jake | 2007-12-28 02:58:18 -0800 (Fri, 28 Dec 2007) | 1 line
Changed paths:
   M /trunk/wka.tmpl

Two addresses from the 802.1 Plenary 11/2007
------------------------------------------------------------------------
r23960 | guy | 2007-12-28 03:23:23 -0800 (Fri, 28 Dec 2007) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pce.c

Clean up indentation some more.

Don't pass an argument if the argument is overwritten before being used;
make it a local variable instead.

Combine the header and contents of an object into a single tree, as per
a suggestion in bug 1870.

Clean up some flag displays, and put fields into the protocol tree in
the order in which they appear in the packet.

------------------------------------------------------------------------
r23961 | kukosa | 2007-12-28 05:01:55 -0800 (Fri, 28 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/pint.h
   M /trunk/gtk/rtp_analysis.c

save RTP in 16-bit linear PCM instead of 8-bit G.711 u-Law
(preparation for more codecs support via codec plugins)
------------------------------------------------------------------------
r23962 | stig | 2007-12-28 14:19:33 -0800 (Fri, 28 Dec 2007) | 6 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

Fetch ObjectName and its relative oid_info before handling an eventual error
value, so we have valid values to put in the VarBind entry.  Include the error
note text as the label.

This should fix bug 2144.

------------------------------------------------------------------------
r23963 | stig | 2007-12-28 14:31:15 -0800 (Fri, 28 Dec 2007) | 2 lines
Changed paths:
   M /trunk/AUTHORS

Corrected a name in AUTHORS.

------------------------------------------------------------------------
r23964 | guy | 2007-12-28 15:05:22 -0800 (Fri, 28 Dec 2007) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pce.c

The protocol is the "Path Computation Element communication Protocol",
or PCEP; use that rather than PCE, as per a suggestion in bug 1870.

------------------------------------------------------------------------
r23965 | guy | 2007-12-28 15:08:48 -0800 (Fri, 28 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   D /trunk/epan/dissectors/packet-pce.c
   A /trunk/epan/dissectors/packet-pcep.c (from /trunk/epan/dissectors/packet-pce.c:23964)

Rename packet-pce.c to packet-pcep.c to match the protocol name.

------------------------------------------------------------------------
r23966 | jake | 2007-12-28 16:55:01 -0800 (Fri, 28 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-pcep.c

Have a filled COL_INFO, even if tree is NULL
------------------------------------------------------------------------
r23967 | guy | 2007-12-28 16:57:51 -0800 (Fri, 28 Dec 2007) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pcep.c

According to draft-ietf-pce-pcep-09, the LOAD-BALANCING object has no
TLVs, and has a fixed length; fix the dissector for it to check for an
exact length and not to look for TLVs.

------------------------------------------------------------------------
r23968 | sfisher | 2007-12-28 21:40:43 -0800 (Fri, 28 Dec 2007) | 5 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-dplay.c


Add preliminary dissector for network protocol used by Microsoft DirectPlay.
From Kai Blin via bug #2134.


------------------------------------------------------------------------
r23969 | sake | 2007-12-29 01:12:29 -0800 (Sat, 29 Dec 2007) | 7 lines
Changed paths:
   M /trunk/epan/dfilter/dfilter-macro.c

Fix for bug 2068 from Jim Young:

After a new display filter macro (dfmacro) has been defined, the first attempt
to use the dfmacro will result in a crash of Wireshark when the closing "}"
character is entered into the "Filter:" text entry field.


------------------------------------------------------------------------
r23970 | etxrab | 2007-12-29 01:53:48 -0800 (Sat, 29 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dplay.c

Make dplay compile on Windows.
------------------------------------------------------------------------
r23971 | etxrab | 2007-12-29 01:55:02 -0800 (Sat, 29 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

Handle se(v) encoding and minor bug fixes.
------------------------------------------------------------------------
r23972 | stig | 2007-12-29 03:29:36 -0800 (Sat, 29 Dec 2007) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

Initialize se_value to avoid a warning.

------------------------------------------------------------------------
r23973 | stig | 2007-12-29 12:53:10 -0800 (Sat, 29 Dec 2007) | 2 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Add a warning in the IO Graph if too many elements.

------------------------------------------------------------------------
r23974 | stig | 2007-12-29 12:57:15 -0800 (Sat, 29 Dec 2007) | 3 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Add an option to view the X axis as time of day instead of seconds since 
start of capture.

------------------------------------------------------------------------
r23975 | stig | 2007-12-29 15:20:14 -0800 (Sat, 29 Dec 2007) | 3 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Fix a cut'n'paste error for GTK_VERSION < 2 in last commit.
Fixed some indentation.

------------------------------------------------------------------------
r23976 | etxrab | 2007-12-29 16:02:25 -0800 (Sat, 29 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sccp.c

Fix indentation somewhat.
------------------------------------------------------------------------
r23977 | etxrab | 2007-12-29 16:03:10 -0800 (Sat, 29 Dec 2007) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Add more debug info.
------------------------------------------------------------------------
r23978 | stig | 2007-12-29 16:08:02 -0800 (Sat, 29 Dec 2007) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_graphics/ws-stats-iographs.png
   M /trunk/docbook/wsug_src/WSUG_chapter_statistics.xml

Updated wsug according to changes in IO Graphs.

------------------------------------------------------------------------
r23979 | gal | 2008-01-02 01:29:04 -0800 (Wed, 02 Jan 2008) | 3 lines
Changed paths:
   M /trunk/asn1/x411/x411.cnf
   M /trunk/epan/dissectors/packet-x411.c
   M /trunk/epan/dissectors/packet-x411.h

Additional EXPORTS (for X.420 dissector) and a message store (P7) attribute.


------------------------------------------------------------------------
r23980 | gal | 2008-01-02 01:30:45 -0800 (Wed, 02 Jan 2008) | 3 lines
Changed paths:
   M /trunk/asn1/p7/p7.cnf
   M /trunk/asn1/p7/packet-p7-template.c
   M /trunk/asn1/p7/packet-p7-template.h
   M /trunk/epan/dissectors/packet-p7.c
   M /trunk/epan/dissectors/packet-p7.h

Additional EXPORTS for X.420 attributes and general fixes.


------------------------------------------------------------------------
r23981 | gal | 2008-01-02 01:34:34 -0800 (Wed, 02 Jan 2008) | 4 lines
Changed paths:
   A /trunk/asn1/x420/IPMSExtendedBodyPartTypes2.asn
   A /trunk/asn1/x420/IPMSExtendedVoiceBodyPartType.asn
   A /trunk/asn1/x420/IPMSFileTransferBodyPartType.asn
   A /trunk/asn1/x420/IPMSForwardedContentBodyPartType.asn
   A /trunk/asn1/x420/IPMSHeadingExtensions.asn
   A /trunk/asn1/x420/IPMSInformationObjects.asn
   A /trunk/asn1/x420/IPMSMessageStoreAttributes.asn
   A /trunk/asn1/x420/IPMSObjectIdentifiers.asn
   A /trunk/asn1/x420/IPMSSecurityExtensions.asn
   M /trunk/asn1/x420/Makefile.common
   D /trunk/asn1/x420/ftbp.asn
   M /trunk/asn1/x420/packet-x420-template.c
   D /trunk/asn1/x420/x420.asn
   M /trunk/asn1/x420/x420.cnf
   M /trunk/epan/dissectors/packet-x420.c
   M /trunk/epan/dissectors/packet-x420.h

Revised X.420 dissector using separate ASN.1 modules and making the bare minimum changes to those modules that asn2wrs requires.
Also supports the X.420 message store attributes, used over P7.


------------------------------------------------------------------------
r23982 | gal | 2008-01-02 01:36:38 -0800 (Wed, 02 Jan 2008) | 2 lines
Changed paths:
   M /trunk/asn1/x509sat/x509sat.cnf
   M /trunk/epan/dissectors/packet-x509sat.c
   M /trunk/epan/dissectors/packet-x509sat.h

An X.420 message store attribute and an X.420 heading extension.

------------------------------------------------------------------------
r23983 | martinm | 2008-01-02 02:35:20 -0800 (Wed, 02 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-arp.c

Also show duplicate IP address in info column.

------------------------------------------------------------------------
r23984 | kukosa | 2008-01-02 03:07:44 -0800 (Wed, 02 Jan 2008) | 3 lines
Changed paths:
   M /trunk/asn1/h245/h245.cnf
   M /trunk/asn1/h245/packet-h245-template.c
   M /trunk/epan/dissectors/packet-h245.c

update Generic Extensible Framework in H.245
- call subdissector for parameter names
- call subdissector for booleanArray and unsignedMin values
------------------------------------------------------------------------
r23985 | kukosa | 2008-01-02 03:09:36 -0800 (Wed, 02 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

dissect some capability parameters
------------------------------------------------------------------------
r23986 | stig | 2008-01-02 03:34:35 -0800 (Wed, 02 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

Mark some unused parameters with _U_.
Added a missing return value.

------------------------------------------------------------------------
r23987 | etxrab | 2008-01-02 06:05:16 -0800 (Wed, 02 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

Add decoding of most of the generic parameters from H.241 and 3gpp.
------------------------------------------------------------------------
r23988 | stig | 2008-01-02 12:09:20 -0800 (Wed, 02 Jan 2008) | 2 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Initialize io->view_as_time.

------------------------------------------------------------------------
r23989 | stig | 2008-01-02 17:17:47 -0800 (Wed, 02 Jan 2008) | 3 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Never print x axis values outside the graph (we now have "view as time of day").
Fixed calculating first_interval (the scrollbar issue in bug 1763).

------------------------------------------------------------------------
r23990 | jake | 2008-01-02 23:05:05 -0800 (Wed, 02 Jan 2008) | 2 lines
Changed paths:
   M /trunk/colorfilters

Fix for Bug 2151:
Mask out all multicast addresses by their prefix, which is 4 bit wide i.s.o. 24 bit
------------------------------------------------------------------------
r23991 | jake | 2008-01-02 23:29:34 -0800 (Wed, 02 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pim.c

Fix for Bug 2156:
Correct T bit mask.
------------------------------------------------------------------------
r23992 | kukosa | 2008-01-03 00:14:28 -0800 (Thu, 03 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

put capability parameters into a table
------------------------------------------------------------------------
r23993 | kukosa | 2008-01-03 00:18:11 -0800 (Thu, 03 Jan 2008) | 1 line
Changed paths:
   M /trunk/asn1/h460/packet-h460-template.c
   M /trunk/epan/dissectors/packet-h460.c

register into h245.gef.name table which is already implemented
------------------------------------------------------------------------
r23994 | kukosa | 2008-01-03 00:19:27 -0800 (Thu, 03 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-per.c

set actx->created_item for object identifier type
------------------------------------------------------------------------
r23995 | kukosa | 2008-01-03 00:24:33 -0800 (Thu, 03 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/epan/dissectors/packet-ssl-utils.h
   M /trunk/epan/dissectors/packet-ssl.c

From Ales Kocourek
- add ability to read server private key from encrypted PKCS#12 file
- use 0.0.0.0|any|ANY as a wildcard IP address (e.g. if one certificate is used in more servers)
------------------------------------------------------------------------
r23996 | martinm | 2008-01-03 01:01:17 -0800 (Thu, 03 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c

Fix warnings (seen under linux + GCC 3.4.6)

------------------------------------------------------------------------
r23997 | kukosa | 2008-01-03 01:32:12 -0800 (Thu, 03 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.h

fix error if GNUTLS is not available
------------------------------------------------------------------------
r23998 | kukosa | 2008-01-03 02:07:14 -0800 (Thu, 03 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c

fix warning: mark unused parameter
------------------------------------------------------------------------
r23999 | etxrab | 2008-01-03 03:12:38 -0800 (Thu, 03 Jan 2008) | 5 lines
Changed paths:
   M /trunk/asn1/camel/camel.cnf
   M /trunk/asn1/camel/packet-camel-template.c
   M /trunk/asn1/gsmmap/MAP-MS-DataTypes.asn
   M /trunk/epan/dissectors/packet-camel.c
   M /trunk/epan/dissectors/packet-camel.h

- MAP-MS-DataTypes.asn Add Id
- Camel fix bug "bug in CAMEL ApplyCharging message."
http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1719
- get rid of ber_last_created_item()
- add decoding of ServiceInteractionIndicatorsTwo items
------------------------------------------------------------------------
r24000 | etxrab | 2008-01-03 05:00:56 -0800 (Thu, 03 Jan 2008) | 2 lines
Changed paths:
   M /trunk/asn1/ansi_map/packet-ansi_map-template.c
   M /trunk/epan/dissectors/packet-ansi_map.c
   M /trunk/epan/dissectors/packet-ansi_map.h

Wrong string used in g_hash_table_lookup().
Fix bug http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2154
------------------------------------------------------------------------
r24001 | kukosa | 2008-01-03 05:07:17 -0800 (Thu, 03 Jan 2008) | 1 line
Changed paths:
   M /trunk/asn1/snmp/snmp.cnf
   M /trunk/epan/dissectors/packet-snmp.c
   M /trunk/epan/dissectors/packet-snmp.h

get rid of get_ber_last_created_item()
------------------------------------------------------------------------
r24002 | kukosa | 2008-01-03 05:20:10 -0800 (Thu, 03 Jan 2008) | 1 line
Changed paths:
   M /trunk/asn1/pkcs12/pkcs12.cnf
   M /trunk/epan/dissectors/packet-pkcs12.c
   M /trunk/epan/dissectors/packet-pkcs12.h

get rid of get_ber_last_created_item()
------------------------------------------------------------------------
r24003 | etxrab | 2008-01-03 06:35:45 -0800 (Thu, 03 Jan 2008) | 1 line
Changed paths:
   M /trunk/asn1/s1ap/Makefile.common
   M /trunk/asn1/s1ap/packet-s1ap-template.c
   M /trunk/asn1/s1ap/s1ap.cnf
   M /trunk/asn1/x2ap/X2AP-IEs.asn

Fix up compilation errors.
------------------------------------------------------------------------
r24004 | etxrab | 2008-01-03 06:37:02 -0800 (Thu, 03 Jan 2008) | 1 line
Changed paths:
   M /trunk/asn1/Makefile.am
   M /trunk/asn1/Makefile.nmake

Add x2ap and s1ap to asn1 build scripts
------------------------------------------------------------------------
r24005 | etxrab | 2008-01-03 06:44:26 -0800 (Thu, 03 Jan 2008) | 1 line
Changed paths:
   A /trunk/epan/dissectors/packet-s1ap.c

Add s1ap - needs more work, untested as no traces available yet.
------------------------------------------------------------------------
r24006 | etxrab | 2008-01-03 06:45:36 -0800 (Thu, 03 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-x2ap.c

Build x2ap and s1ap - needs more work, untested as no traces available yet.
------------------------------------------------------------------------
r24007 | etxrab | 2008-01-03 09:49:59 -0800 (Thu, 03 Jan 2008) | 1 line
Changed paths:
   M /trunk/asn1/cms/cms.cnf
   M /trunk/asn1/gsmmap/packet-gsmmap-template.c
   M /trunk/epan/dissectors/packet-cms.c
   M /trunk/epan/dissectors/packet-cms.h

Get rid of ber_created_item().
------------------------------------------------------------------------
r24008 | etxrab | 2008-01-04 04:39:52 -0800 (Fri, 04 Jan 2008) | 1 line
Changed paths:
   M /trunk/asn1/dap/dap.cnf
   M /trunk/asn1/gsmmap/gsmmap.cnf
   M /trunk/asn1/gsmmap/packet-gsmmap-template.c
   M /trunk/asn1/ldap/ldap.cnf
   M /trunk/asn1/logotype-cert-extn/logotypecertextn.cnf
   M /trunk/asn1/x420/x420.cnf
   M /trunk/asn1/x509ce/x509ce.cnf
   M /trunk/asn1/x509sat/x509sat.cnf
   M /trunk/epan/dissectors/packet-dap.c
   M /trunk/epan/dissectors/packet-dap.h
   M /trunk/epan/dissectors/packet-gsm_map.c
   M /trunk/epan/dissectors/packet-gsm_map.h
   M /trunk/epan/dissectors/packet-kerberos.c
   M /trunk/epan/dissectors/packet-ldap.c
   M /trunk/epan/dissectors/packet-ldap.h
   M /trunk/epan/dissectors/packet-logotypecertextn.c
   M /trunk/epan/dissectors/packet-logotypecertextn.h
   M /trunk/epan/dissectors/packet-x420.c
   M /trunk/epan/dissectors/packet-x509ce.c
   M /trunk/epan/dissectors/packet-x509ce.h
   M /trunk/epan/dissectors/packet-x509sat.c

Get rid of ber_last_created_item().
------------------------------------------------------------------------
r24009 | etxrab | 2008-01-04 04:53:29 -0800 (Fri, 04 Jan 2008) | 1 line
Changed paths:
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/epan/dissectors/packet-h248.c
   M /trunk/epan/dissectors/packet-h248.h
   M /trunk/epan/dissectors/packet-h248_3gpp.c
   M /trunk/epan/dissectors/packet-h248_annex_c.c

Get rid of ber_last_created_item().
------------------------------------------------------------------------
r24010 | etxrab | 2008-01-04 05:39:24 -0800 (Fri, 04 Jan 2008) | 1 line
Changed paths:
   M /trunk/asn1/h248/h248.cnf
   M /trunk/epan/dissectors/packet-ber.c
   M /trunk/epan/dissectors/packet-ber.h
   M /trunk/epan/dissectors/packet-h248.c
   M /trunk/epan/libwireshark.def

Get rid of ber_last_created_item(). (Final?)
------------------------------------------------------------------------
r24011 | gal | 2008-01-04 06:07:47 -0800 (Fri, 04 Jan 2008) | 5 lines
Changed paths:
   A /trunk/packaging/makefile.nmake
   A /trunk/packaging/ws-manifest.pl

A script to generate a generic manifest file from the nsis/wireshark.nsi.
The U3 and portableapps packaging will use this generic manifest to package the 
correct set of components. Thus all three packages will be kept in sync.


------------------------------------------------------------------------
r24012 | gal | 2008-01-04 06:10:57 -0800 (Fri, 04 Jan 2008) | 7 lines
Changed paths:
   M /trunk/packaging/u3/win32/makefile.nmake
   A /trunk/packaging/u3/win32/makenmake.pl
   M /trunk/packaging/u3/win32/manifest.tmpl
   M /trunk/packaging/u3/win32/u3util.c

Changes to use a generic manifest to determine package contents, and also U3 self-certification fixes e.g. 
* package size (dependent on use of UPX)
* upgrade 
* shortDescription
* vendor


------------------------------------------------------------------------
r24013 | gal | 2008-01-04 06:12:22 -0800 (Fri, 04 Jan 2008) | 4 lines
Changed paths:
   M /trunk/packaging/portableapps/win32/WiresharkPortable.ini
   M /trunk/packaging/portableapps/win32/WiresharkPortable.nsi
   M /trunk/packaging/portableapps/win32/makefile.nmake
   A /trunk/packaging/portableapps/win32/makenmake.pl
   M /trunk/packaging/portableapps/win32/readme.txt

Update to use the generic manifest and make independent of the U3 packaging.
Also tidy up.


------------------------------------------------------------------------
r24014 | gal | 2008-01-04 07:28:44 -0800 (Fri, 04 Jan 2008) | 3 lines
Changed paths:
   M /trunk/packaging/portableapps/win32/makefile.nmake
   M /trunk/packaging/u3/win32/makefile.nmake

UPX compression corrupts the WinPcap installer - so don't UPX it.


------------------------------------------------------------------------
r24015 | etxrab | 2008-01-04 08:21:07 -0800 (Fri, 04 Jan 2008) | 3 lines
Changed paths:
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/asn1/ldap/ldap.cnf
   M /trunk/epan/dissectors/packet-acp133.c
   M /trunk/epan/dissectors/packet-acp133.h
   M /trunk/epan/dissectors/packet-acse.c
   M /trunk/epan/dissectors/packet-acse.h
   M /trunk/epan/dissectors/packet-ber.c
   M /trunk/epan/dissectors/packet-ber.h
   M /trunk/epan/dissectors/packet-camel.c
   M /trunk/epan/dissectors/packet-cdt.c
   M /trunk/epan/dissectors/packet-cdt.h
   M /trunk/epan/dissectors/packet-cmip.c
   M /trunk/epan/dissectors/packet-cmip.h
   M /trunk/epan/dissectors/packet-cmp.c
   M /trunk/epan/dissectors/packet-cmp.h
   M /trunk/epan/dissectors/packet-crmf.c
   M /trunk/epan/dissectors/packet-crmf.h
   M /trunk/epan/dissectors/packet-dap.c
   M /trunk/epan/dissectors/packet-disp.c
   M /trunk/epan/dissectors/packet-disp.h
   M /trunk/epan/dissectors/packet-dop.c
   M /trunk/epan/dissectors/packet-dop.h
   M /trunk/epan/dissectors/packet-dsp.c
   M /trunk/epan/dissectors/packet-dsp.h
   M /trunk/epan/dissectors/packet-ess.c
   M /trunk/epan/dissectors/packet-ess.h
   M /trunk/epan/dissectors/packet-ftam.c
   M /trunk/epan/dissectors/packet-ftam.h
   M /trunk/epan/dissectors/packet-gnm.c
   M /trunk/epan/dissectors/packet-gnm.h
   M /trunk/epan/dissectors/packet-gsm_map.c
   M /trunk/epan/dissectors/packet-h248.c
   M /trunk/epan/dissectors/packet-inap.c
   M /trunk/epan/dissectors/packet-inap.h
   M /trunk/epan/dissectors/packet-kerberos.c
   M /trunk/epan/dissectors/packet-ldap.c
   M /trunk/epan/dissectors/packet-mms.c
   M /trunk/epan/dissectors/packet-mms.h
   M /trunk/epan/dissectors/packet-ns_cert_exts.c
   M /trunk/epan/dissectors/packet-ocsp.c
   M /trunk/epan/dissectors/packet-ocsp.h
   M /trunk/epan/dissectors/packet-p7.c
   M /trunk/epan/dissectors/packet-pkcs1.c
   M /trunk/epan/dissectors/packet-pkcs1.h
   M /trunk/epan/dissectors/packet-pkinit.c
   M /trunk/epan/dissectors/packet-pkinit.h
   M /trunk/epan/dissectors/packet-pkix1explicit.c
   M /trunk/epan/dissectors/packet-pkix1explicit.h
   M /trunk/epan/dissectors/packet-pkix1implicit.c
   M /trunk/epan/dissectors/packet-pkix1implicit.h
   M /trunk/epan/dissectors/packet-pkixproxy.c
   M /trunk/epan/dissectors/packet-pkixproxy.h
   M /trunk/epan/dissectors/packet-pkixqualified.c
   M /trunk/epan/dissectors/packet-pkixqualified.h
   M /trunk/epan/dissectors/packet-pkixtsp.c
   M /trunk/epan/dissectors/packet-pkixtsp.h
   M /trunk/epan/dissectors/packet-pres.c
   M /trunk/epan/dissectors/packet-pres.h
   M /trunk/epan/dissectors/packet-q932-ros.c
   M /trunk/epan/dissectors/packet-q932.c
   M /trunk/epan/dissectors/packet-q932.h
   M /trunk/epan/dissectors/packet-qsig.c
   M /trunk/epan/dissectors/packet-ros.c
   M /trunk/epan/dissectors/packet-ros.h
   M /trunk/epan/dissectors/packet-rtse.c
   M /trunk/epan/dissectors/packet-rtse.h
   M /trunk/epan/dissectors/packet-s4406.c
   M /trunk/epan/dissectors/packet-s4406.h
   M /trunk/epan/dissectors/packet-smrse.c
   M /trunk/epan/dissectors/packet-smrse.h
   M /trunk/epan/dissectors/packet-spnego.c
   M /trunk/epan/dissectors/packet-spnego.h
   M /trunk/epan/dissectors/packet-t125.c
   M /trunk/epan/dissectors/packet-t125.h
   M /trunk/epan/dissectors/packet-tcap.c
   M /trunk/epan/dissectors/packet-tcap.h
   M /trunk/epan/dissectors/packet-wlancertextn.c
   M /trunk/epan/dissectors/packet-wlancertextn.h
   M /trunk/epan/dissectors/packet-x411.c
   M /trunk/epan/dissectors/packet-x420.c
   M /trunk/epan/dissectors/packet-x509af.c
   M /trunk/epan/dissectors/packet-x509af.h
   M /trunk/epan/dissectors/packet-x509ce.c
   M /trunk/epan/dissectors/packet-x509if.c
   M /trunk/epan/dissectors/packet-x509if.h
   M /trunk/epan/dissectors/packet-x509sat.c
   M /trunk/epan/libwireshark.def
   M /trunk/tools/asn2wrs.py

Get rid of dissect_ber_boolean_value() and change the signature of
dissect_ber_boolean() to return a value and update asn2wrs to generate the new signature.
Regenerate all BER dissectors.
------------------------------------------------------------------------
r24016 | jake | 2008-01-06 03:49:32 -0800 (Sun, 06 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtp.c

Fix for bug 2026:
Clean up RTP header extension code. Remove duplicate raw presentation.
------------------------------------------------------------------------
r24017 | jake | 2008-01-06 05:09:33 -0800 (Sun, 06 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/uat.c

Allocate enough space to make proper NULL terminated string in uat_unesc (bug 2169) and uat_unbinstring,
------------------------------------------------------------------------
r24018 | gerald | 2008-01-06 10:58:16 -0800 (Sun, 06 Jan 2008) | 2 lines
Changed paths:
   M /trunk/configure.in

Create makefiles for s1ap and x2ap.

------------------------------------------------------------------------
r24019 | etxrab | 2008-01-06 13:55:30 -0800 (Sun, 06 Jan 2008) | 7 lines
Changed paths:
   M /trunk/asn1/gsmmap/gsmmap.cnf
   M /trunk/asn1/gsmmap/packet-gsmmap-template.c
   M /trunk/epan/dissectors/packet-gsm_map.c

Clear up the decoding of
"USSD-DataCodingScheme ::= OCTET STRING (SIZE (1))
	-- The structure of the USSD-DataCodingScheme is defined by
	-- the Cell Broadcast Data Coding Scheme as described in
	-- TS 3GPP TS 23.038 [25]"
Partly in responce to
http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2158
------------------------------------------------------------------------
r24020 | jmayer | 2008-01-06 16:12:36 -0800 (Sun, 06 Jan 2008) | 6 lines
Changed paths:
   M /trunk/doc/dumpcap.pod
   M /trunk/doc/tshark.pod
   M /trunk/doc/wireshark-filter.pod.template
   M /trunk/doc/wireshark.pod

The syntax for capture filters has been moved from
tcpdump (in the tcpdump package) into its own manpage
(pcap-filter) in the libpcap package in the CVS HEAD
branch. Reference the new and the old location for that
information.

------------------------------------------------------------------------
r24021 | etxrab | 2008-01-07 11:15:43 -0800 (Mon, 07 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Fix Missing -z proto,colinfo,ip,gtp.teid_cp and -z proto,colinfo,ip,gtp.teid_data
http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2136
Copy paseto..
------------------------------------------------------------------------
r24022 | etxrab | 2008-01-07 11:16:26 -0800 (Mon, 07 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-amr.c
   M /trunk/epan/dissectors/packet-h264.c

More Generic parameters.
------------------------------------------------------------------------
r24023 | stig | 2008-01-07 12:44:32 -0800 (Mon, 07 Jan 2008) | 4 lines
Changed paths:
   M /trunk/epan/emem.c

From Jim Young (bug 2162):
Patch for epan/emem.c functions ep_strndup() and se_strndup() to stop valgrind
message "invalid read of size 1".

------------------------------------------------------------------------
r24024 | stig | 2008-01-07 12:56:24 -0800 (Mon, 07 Jan 2008) | 3 lines
Changed paths:
   M /trunk/plugins/ethercat/packet-ethercat-frame.c
   M /trunk/plugins/ethercat/packet-ethercat-frame.h

As noted by David Halik in bug 2172:
Removed an unnamed union member in ethercat.

------------------------------------------------------------------------
r24025 | stig | 2008-01-07 13:16:44 -0800 (Mon, 07 Jan 2008) | 3 lines
Changed paths:
   M /trunk/INSTALL

From Marton Nemeth (bug 2168):
Add reference to Wiki in INSTALL.

------------------------------------------------------------------------
r24026 | stig | 2008-01-07 13:24:23 -0800 (Mon, 07 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/wslua/init_wslua.c
   M /trunk/epan/wslua/wslua.h
   M /trunk/epan/wslua/wslua_proto.c

From Balint Reczey (bug 2146):
Make it possible to write Lua dissectors that use TCP reassembly.

------------------------------------------------------------------------
r24027 | etxrab | 2008-01-07 14:00:26 -0800 (Mon, 07 Jan 2008) | 1 line
Changed paths:
   M /trunk/packaging/nsis/wireshark.nsi

Added missing Eriscsson.xml
------------------------------------------------------------------------
r24028 | stig | 2008-01-07 15:00:09 -0800 (Mon, 07 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/wslua/init_wslua.c

Add a cast.

------------------------------------------------------------------------
r24029 | etxrab | 2008-01-07 21:18:36 -0800 (Mon, 07 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_sms.c

From Shmulik Bezalel:
Add support for ucs2 on ussd string.
(Changing the font from Lucida console to Arial dissplaed all chars correctly).
------------------------------------------------------------------------
r24030 | etxrab | 2008-01-07 21:29:38 -0800 (Mon, 07 Jan 2008) | 3 lines
Changed paths:
   M /trunk/asn1/gsmmap/gsmmap.cnf
   M /trunk/epan/dissectors/packet-gsm_map.c

From Shmulik Bezalel:
Add support for ucs2 on ussd string.
(Changing the font from Lucida console to Arial dissplaed all chars correctly).
------------------------------------------------------------------------
r24031 | jmayer | 2008-01-08 00:07:45 -0800 (Tue, 08 Jan 2008) | 9 lines
Changed paths:
   M /trunk/packaging/portableapps/win32/makefile.nmake

Graeme Lunt:

(The fix is to cd back to "../portableapps/win32", rather than
"../u3/win32", at the end of the nsis-bits target in makefile.nmake.)

Me:

Get rid of some whitespace at the end of lines.

------------------------------------------------------------------------
r24032 | jake | 2008-01-08 05:04:50 -0800 (Tue, 08 Jan 2008) | 2 lines
Changed paths:
   M /trunk/gtk/rtp_player.c

Make RTP player G.729 Annex B compatible.

------------------------------------------------------------------------
r24034 | stig | 2008-01-08 14:54:51 -0800 (Tue, 08 Jan 2008) | 3 lines
Changed paths:
   M /trunk/capture-wpcap.h
   M /trunk/capture_wpcap_packet.h
   M /trunk/disabled_protos.h
   M /trunk/epan/bitswap.c
   M /trunk/epan/dfilter/semcheck.h
   M /trunk/epan/dfilter/sttype-function.h
   M /trunk/epan/dfilter/sttype-integer.c
   M /trunk/epan/dfilter/sttype-pointer.c
   M /trunk/epan/dfilter/sttype-range.h
   M /trunk/epan/dfilter/sttype-string.c
   M /trunk/epan/dfilter/sttype-test.c
   M /trunk/epan/dfilter/sttype-test.h
   M /trunk/epan/dissectors/packet-clearcase.c
   M /trunk/epan/dissectors/packet-clearcase.h
   M /trunk/epan/dissectors/packet-ddtp.h
   M /trunk/epan/dissectors/packet-esis.h
   M /trunk/epan/dissectors/packet-hclnfsd.h
   M /trunk/epan/dissectors/packet-ieee8023.h
   M /trunk/epan/dissectors/packet-ipsec.h
   M /trunk/epan/dissectors/packet-pcnfsd.h
   M /trunk/epan/dissectors/packet-portmap.h
   M /trunk/epan/dissectors/packet-rquota.h
   M /trunk/epan/dissectors/packet-stat.h
   M /trunk/epan/dissectors/packet-tns.h
   M /trunk/epan/dissectors/packet-udp.h
   M /trunk/epan/dissectors/packet-wccp.h
   M /trunk/epan/dissectors/packet-wtls.h
   M /trunk/epan/dissectors/packet-wtp.h
   M /trunk/epan/dissectors/packet-ypbind.h
   M /trunk/epan/dissectors/packet-ypserv.h
   M /trunk/epan/dissectors/packet-ypxfr.c
   M /trunk/epan/dissectors/packet-ypxfr.h
   M /trunk/epan/frame_data.c
   M /trunk/epan/ftypes/Makefile.am
   M /trunk/epan/inet_aton.h
   M /trunk/epan/pint.h
   M /trunk/filters.h
   M /trunk/gtk/capture_dlg.h
   M /trunk/gtk/column_prefs.h
   M /trunk/gtk/dfilter_expr_dlg.h
   M /trunk/gtk/find_dlg.h
   M /trunk/gtk/follow_tcp.h
   M /trunk/gtk/goto_dlg.h
   M /trunk/gtk/gui_prefs.h
   M /trunk/gtk/packet_win.h
   M /trunk/gtk/print_prefs.h
   M /trunk/gtk/proto_dlg.h
   M /trunk/gtk/proto_hier_stats_dlg.h
   M /trunk/gtk/stream_prefs.h
   M /trunk/gtk/summary_dlg.h
   M /trunk/gtk/supported_protos_dlg.h
   M /trunk/strerror.h
   M /trunk/tools/tpg/Makefile.am

Changed email address for Gerald from zing.org to wireshark.org
in a lot of files, which I suppose is correct.

------------------------------------------------------------------------
r24035 | stig | 2008-01-08 15:14:13 -0800 (Tue, 08 Jan 2008) | 2 lines
Changed paths:
   M /trunk/filters.h
   M /trunk/gtk/filter_dlg.h

Fixed some small typos.

------------------------------------------------------------------------
r24036 | stig | 2008-01-08 15:16:10 -0800 (Tue, 08 Jan 2008) | 2 lines
Changed paths:
   M /trunk/asn1/s1ap
   M /trunk/asn1/x2ap

Added svn:ignore targets for asn1/x2ap and asn1/s1ap.

------------------------------------------------------------------------
r24037 | etxrab | 2008-01-08 22:45:32 -0800 (Tue, 08 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_637.c

Make ANSI IS-637-A Teleservice - "ansi_637_tele" and
ANSI IS-637-A Transpor t- "ansi_637_trans" callable by name.
------------------------------------------------------------------------
r24038 | sfisher | 2008-01-09 00:34:58 -0800 (Wed, 09 Jan 2008) | 6 lines
Changed paths:
   M /trunk/gtk/rtp_player.c
   M /trunk/gtk/voip_calls.c
   M /trunk/gtk/voip_calls.h
   M /trunk/gtk/voip_calls_dlg.c


To ease troubleshooting of bug #2017 and for code clarity in the future, use
two different variables for types voip_rtp_stream_info_t (strinfo) and
voip_calls_info_t (callsinfo) instead of using strinfo for both.


------------------------------------------------------------------------
r24039 | jake | 2008-01-09 01:34:19 -0800 (Wed, 09 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c

From Steve Karg:
Wireshark decodes a BACnet ReadRange Ack packet as malformed. The packet itself
is valid as checked with the BACnet 135-2004 specification.
------------------------------------------------------------------------
r24040 | guy | 2008-01-09 03:40:38 -0800 (Wed, 09 Jan 2008) | 6 lines
Changed paths:
   M /trunk/capture_sync.c

Use dup2() rather than eth_close() followed by dup() to ensure that a
given file descriptor get duped to another descriptor.

Handle exec errors in sync_pipe_open_command() the same way they're
handled in sync_pipe_start(); that fixes bug 2177.

------------------------------------------------------------------------
r24041 | guy | 2008-01-09 03:50:22 -0800 (Wed, 09 Jan 2008) | 3 lines
Changed paths:
   M /trunk/capture_sync.c

Exit with 1, not 2, if exec fails, so we don't report an additional
error for the exit status, over and above the one for the exec failure.

------------------------------------------------------------------------
r24042 | martinm | 2008-01-09 04:39:14 -0800 (Wed, 09 Jan 2008) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtcp.c

Explicitly check for missing NULL terminator on RTCP BYE reason string (this bug has been seen on 2 stacks now...).

Fixes bug 2180.

------------------------------------------------------------------------
r24043 | kukosa | 2008-01-09 05:30:31 -0800 (Wed, 09 Jan 2008) | 1 line
Changed paths:
   M /trunk/asn1/h225/h225.cnf
   M /trunk/asn1/h245/h245.cnf
   M /trunk/asn1/h245/packet-h245-template.c
   M /trunk/asn1/h245/packet-h245-template.h
   M /trunk/asn1/t38/packet-t38-template.c
   M /trunk/epan/dissectors/packet-h225.c
   M /trunk/epan/dissectors/packet-h245.c
   M /trunk/epan/dissectors/packet-h245.h
   M /trunk/epan/dissectors/packet-rtcp.c
   M /trunk/epan/dissectors/packet-rtp.c
   M /trunk/epan/dissectors/packet-t38.c
   M /trunk/epan/dissectors/packet-udp.c
   M /trunk/tools/asn2wrs.py

more sophisticated H245 OLC handling focusing on more reliable T.38 establishment
------------------------------------------------------------------------
r24044 | jmayer | 2008-01-09 08:05:17 -0800 (Wed, 09 Jan 2008) | 9 lines
Changed paths:
   M /trunk/text2pcap.c

Pavol Rusnak <stick@gk2.sk>:

Fix for http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2183

Strptime function is not properly included. It needs __USE_XOPEN macro, but it
is defined in wrong place. It must be defined before _any_ include file.
Otherwise I get "implicit declaration of function `strptime`" (gcc 4.3.0).


------------------------------------------------------------------------
r24045 | martinm | 2008-01-09 08:21:03 -0800 (Wed, 09 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtcp.c
   M /trunk/epan/dissectors/packet-rtp.c

#ifdef DEBUG around left-over printfs.  Should these just be deleted?

------------------------------------------------------------------------
r24046 | morriss | 2008-01-09 09:06:25 -0800 (Wed, 09 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

When searching for EOC (because we have an indefinite length) don't stop searching just because we ran out of TVB (thus assuming that the EOC is just beyond the end of the message).  Instead, try to keep going which will throw an exception (ReportedBoundsError).  I had a packet which was missing the EOC (probably programmer error) and Wirshark was reporting BoundsError (Packet size limited during capture) instead of ReportedBoundsError (Malformed Packet); this patch fixes that.
------------------------------------------------------------------------
r24047 | etxrab | 2008-01-09 12:49:33 -0800 (Wed, 09 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-3g-a11.c

In case of QoS Information, Length field is missing.
------------------------------------------------------------------------
r24048 | etxrab | 2008-01-09 13:14:01 -0800 (Wed, 09 Jan 2008) | 3 lines
Changed paths:
   M /trunk/asn1/gsmmap/MAP-CH-DataTypes.asn
   M /trunk/asn1/gsmmap/MAP-CommonDataTypes.asn
   M /trunk/asn1/gsmmap/gsmmap.cnf
   M /trunk/asn1/gsmmap/packet-gsmmap-template.c
   M /trunk/epan/dissectors/packet-gsm_map.c
   M /trunk/epan/dissectors/packet-sccp.c

From Shmulik Bezalel:
Present the country code description gsmmap and SCCP.
Added small ASN1 bugfix - missing EXPORTS used by gsmmap.asn(Handle older ver).
------------------------------------------------------------------------
r24049 | morriss | 2008-01-09 14:01:57 -0800 (Wed, 09 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sccp.c

Display the Country Code information in a subtree of the digits (to make it obvious that it's a subfield).  Add #defines for the NAI and NP values and use them rather than hex values.  Initial the 'np' variable to clean up a warning.
------------------------------------------------------------------------
r24050 | morriss | 2008-01-09 14:25:47 -0800 (Wed, 09 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-e164.c

dissect_e164_cc(): when the address is BCD coded, don't increment cc_offset just to get the 2nd octet of the address (because cc_offset is used later as the offset where the CC starts).
------------------------------------------------------------------------
r24051 | morriss | 2008-01-09 14:58:34 -0800 (Wed, 09 Jan 2008) | 12 lines
Changed paths:
   M /trunk/wiretap/erf.c

From Florent Drouin:

fix http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1727 (pppd format file
incorrectly detected as being an ERF file) by:

The file_seek() call has been replaced by a call to file_read(), so, when the
end of the file is reached and the current record is truncated, we have got an
error.
This solves the problem of bad file format detection.

Additionaly, the ERF heuristic has been improved.

------------------------------------------------------------------------
r24052 | sahlberg | 2008-01-09 15:10:17 -0800 (Wed, 09 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

add support for qpi level 516 : posix acl


------------------------------------------------------------------------
r24053 | guy | 2008-01-10 00:49:11 -0800 (Thu, 10 Jan 2008) | 10 lines
Changed paths:
   M /trunk/wiretap/erf.c

Use WTAP_ENCAP_ERF as the file encapsulation, as that's what we'd
otherwise use as the per-packet encapsulation.

The close routine does nothing; get rid of it - you don't *need* a close
routine (by default, the subtype_close pointer is null, which means that
nothing per-file-type is done when the file is closed).

Make the code to handle the length fields in the ERF header common,
rather than copying it to each group of record types.

------------------------------------------------------------------------
r24054 | guy | 2008-01-10 00:50:16 -0800 (Thu, 10 Jan 2008) | 2 lines
Changed paths:
   M /trunk/wiretap/erf.c

Get rid of extra blank lines at the end of the file.

------------------------------------------------------------------------
r24055 | guy | 2008-01-10 01:40:15 -0800 (Thu, 10 Jan 2008) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-erf.c

pinfo->pseudo_header can and should be assumed to be non-null by a
dissector.  This fixes Coverity CID 238 (as we *were* assuming it was
non-null in one statement, and then only checking it later).

Set pinfo->p2p_dir to one of P2P_DIR_RECV or P2P_DIR_SENT, as it's
supposed to be, not to a Boolean value, and explain the basis on which
it's being set.

------------------------------------------------------------------------
r24056 | wmeier | 2008-01-10 06:42:55 -0800 (Thu, 10 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fcfcs.c
   M /trunk/gtk/sctp_graph_dlg.c

Use glib equivalent of ntohs

------------------------------------------------------------------------
r24057 | morriss | 2008-01-10 07:03:58 -0800 (Thu, 10 Jan 2008) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Add the file op APIs (e.g., open()) to the list of prhobited APIs (should use the eth_* versions instead).
------------------------------------------------------------------------
r24058 | richardv | 2008-01-10 08:35:54 -0800 (Thu, 10 Jan 2008) | 19 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gmrp.c
   M /trunk/epan/dissectors/packet-gssapi.c
   M /trunk/epan/dissectors/packet-gvrp.c
   M /trunk/plugins/gryphon/packet-gryphon.c

From Chris Maynard (bug 1852):

These packet-g*.c files all have display filter issues:

1) packet-gryphon.c: PROTOABBREV is "gryphon", but display filter fields are
prefixed with only "gryph".

2) packet-gmrp.c: PROTOABBREV is "gmrp", but display filter fields are prefixed
with "garp".

3) packet-gssapi.c: PROTOABBREV is "gss-api", but display filter fields are
prefixed with "gssapi".

4) packet-gvrp.c: PROTOABBREV is "gvrp", but display filter fields are prefixed
with "garp", most of which conflict with packet-gmrp.c's display filter fields.




------------------------------------------------------------------------
r24059 | richardv | 2008-01-10 08:43:48 -0800 (Thu, 10 Jan 2008) | 2 lines
Changed paths:
   M /trunk/asn1/gsmmap/packet-gsmmap-template.c
   M /trunk/epan/dissectors/packet-gsm_a.c

add some comments re desirability of renaming fields

------------------------------------------------------------------------
r24060 | morriss | 2008-01-10 13:23:53 -0800 (Thu, 10 Jan 2008) | 6 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-cmpp.c

From Andy Chu: A dissector for China Mobile Point to Point (cmpp) protocol,
it's the SMS protocol used in China.

From me: some code cleanup and convert it from a plugin to a regular
dissector.

------------------------------------------------------------------------
r24061 | morriss | 2008-01-10 14:19:53 -0800 (Thu, 10 Jan 2008) | 1 line
Changed paths:
   M /trunk/plugins/ethercat/packet-ecatmb.c
   M /trunk/plugins/ethercat/packet-ecatmb.h
   M /trunk/plugins/ethercat/packet-ethercat-datagram.c

Fix http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2186 (many unnamed structs in packet-ecatmb.h) by adding predictable (but not very descriptive) struct names
------------------------------------------------------------------------
r24062 | jake | 2008-01-10 14:27:28 -0800 (Thu, 10 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtcp.c

Fix for bug 2187.
Don't cast so rigorously that you loose the mantissa.

------------------------------------------------------------------------
r24063 | morriss | 2008-01-10 15:16:59 -0800 (Thu, 10 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-smpp.c

Fix http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2111 : After verifying that there's enough TVB for the smallest possible message, also verify that the length parameter in the message is at least that big.
------------------------------------------------------------------------
r24064 | jake | 2008-01-10 23:28:01 -0800 (Thu, 10 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-ff.c
   A /trunk/epan/dissectors/packet-ff.h

From Yukiyo Akisada:
This modifications are for the new protocol support.
HSE protocol was defined at Fieldbus Foundation <http://www.fieldbus.org/>.
------------------------------------------------------------------------
r24065 | etxrab | 2008-01-10 23:29:27 -0800 (Thu, 10 Jan 2008) | 2 lines
Changed paths:
   M /trunk/asn1/gsmmap/gsmmap.cnf
   M /trunk/asn1/gsmmap/packet-gsmmap-template.c
   M /trunk/epan/dissectors/packet-gsm_map.c

Fix up some display filter names:
http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1852
------------------------------------------------------------------------
r24066 | gerald | 2008-01-11 10:52:13 -0800 (Fri, 11 Jan 2008) | 3 lines
Changed paths:
   M /trunk/docbook/ws.css

Update the documentation style sheet with a modified version of AsciiDoc's
(http://www.methods.co.nz/asciidoc/).

------------------------------------------------------------------------
r24067 | morriss | 2008-01-11 11:25:51 -0800 (Fri, 11 Jan 2008) | 1 line
Changed paths:
   M /trunk/packaging/nsis/AdditionalTasksPage.ini
   M /trunk/packaging/nsis/wireshark.nsi

Associate Wireshark with Tektronix K12xx/K15 .rf5 files
------------------------------------------------------------------------
r24068 | morriss | 2008-01-11 13:06:00 -0800 (Fri, 11 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ff.c

The Windows compiler thinks that doing return(func_that_returns_void()) in a function that itself returns void is "'void' function returning a value".  So don't do that.
------------------------------------------------------------------------
r24069 | martinm | 2008-01-11 16:34:17 -0800 (Fri, 11 Jan 2008) | 3 lines
Changed paths:
   M /trunk/print.c

Don't write closing PDML tag for Data protocol - it uses simple (self-closing) tags. 

Fixes bug 2185.
------------------------------------------------------------------------
r24070 | sfisher | 2008-01-11 22:38:09 -0800 (Fri, 11 Jan 2008) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ff.c


Fix Windows warning/error: integral size mismatch

Then fix comparison of signed/unsigned warning/error


------------------------------------------------------------------------
r24071 | sake | 2008-01-12 04:06:56 -0800 (Sat, 12 Jan 2008) | 15 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

From Martin Peylo (bug 2184), fix for:

The current dissection of GeneralizedTime in packet-ber does not consider all
the possibilities how this field can be constructed.

According to ITU-T X.680 this field can be encoded as
YYYYMMDDhhmmss([\.,]f{1,3})?(([+-]hhmm)|Z)?
This is a regex-like expression where each letter except the literal 'Z'
represents an ASCII encoded digit.

So far only the first 14 digits are dissected and the 15th character is put
into parentheses. This may not show all available information.



------------------------------------------------------------------------
r24072 | sake | 2008-01-12 10:31:07 -0800 (Sat, 12 Jan 2008) | 6 lines
Changed paths:
   M /trunk/editcap.c

Clean up the usage information of editcap and change the text
of the -t option to fit its current behaviour

('fixes' bug 2101)


------------------------------------------------------------------------
r24073 | sfisher | 2008-01-12 20:24:24 -0800 (Sat, 12 Jan 2008) | 5 lines
Changed paths:
   M /trunk/gtk/voip_calls.c


Fix for bug #2017: VoIP trace crashes Wireshark when specific RTP Player
buttons are clicked


------------------------------------------------------------------------
r24074 | jake | 2008-01-13 03:56:39 -0800 (Sun, 13 Jan 2008) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cdp.c

From Michael Earnhart:
Patch to add cdp Power_request and Power_available fields
This added the support for the 0x0019 and 0x001a power_request and power_available fields.

Submitted patch slightly modified to present summary line and make more robust.
------------------------------------------------------------------------
r24075 | gal | 2008-01-13 06:10:02 -0800 (Sun, 13 Jan 2008) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/epan/dissectors/packet-ssl.c

Support for keylists for protocols that use start_tls - where SSL is negotiated at some point during a conversation and cannot be assumed on the basis of the port number alone.

Also dissection of Distinguished Names.


------------------------------------------------------------------------
r24076 | gal | 2008-01-13 06:12:47 -0800 (Sun, 13 Jan 2008) | 3 lines
Changed paths:
   M /trunk/asn1/ldap/ldap.cnf
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/epan/dissectors/packet-ldap.c

Basic support for the LDAP start_tls extended operation and fix to match up extended operation arguments and results.


------------------------------------------------------------------------
r24077 | etxrab | 2008-01-13 08:07:52 -0800 (Sun, 13 Jan 2008) | 5 lines
Changed paths:
   M /trunk/asn1/h248/h248.cnf
   M /trunk/epan/dissectors/packet-h248.c

transactionId wasn't processed for:
SegmentReply/transactionId
TransactionReply/transactionId
TransactionPending/transactionId
Fixes bug http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2165
------------------------------------------------------------------------
r24078 | etxrab | 2008-01-13 09:03:06 -0800 (Sun, 13 Jan 2008) | 1 line
Changed paths:
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/epan/dissectors/packet-h248.c

Update package name from IANA's list.
------------------------------------------------------------------------
r24079 | ulfl | 2008-01-13 12:05:07 -0800 (Sun, 13 Jan 2008) | 1 line
Changed paths:
   M /trunk/wiretap/Makefile.common
   M /trunk/wiretap/file_access.c
   M /trunk/wiretap/libwiretap.vcproj
   A /trunk/wiretap/pcapng.c
   A /trunk/wiretap/pcapng.h
   M /trunk/wiretap/wtap-int.h
   M /trunk/wiretap/wtap.h

add very experimental support for pcapng "PCAP Next Generation Dump File Format" - this is incomplete and buggy, be careful!
------------------------------------------------------------------------
r24080 | sfisher | 2008-01-13 12:48:36 -0800 (Sun, 13 Jan 2008) | 4 lines
Changed paths:
   M /trunk/wiretap/pcapng.c


Make pcapng.c compile on Unix (with gcc)


------------------------------------------------------------------------
r24081 | sfisher | 2008-01-13 13:10:09 -0800 (Sun, 13 Jan 2008) | 4 lines
Changed paths:
   M /trunk/wiretap/pcapng.c
   M /trunk/wiretap/pcapng.h


Add svn:eol-style native and svn:keywords Id


------------------------------------------------------------------------
r24082 | ulfl | 2008-01-13 14:26:11 -0800 (Sun, 13 Jan 2008) | 1 line
Changed paths:
   M /trunk/wiretap/pcapng.c

some minor updates
------------------------------------------------------------------------
r24083 | sfisher | 2008-01-13 21:31:38 -0800 (Sun, 13 Jan 2008) | 5 lines
Changed paths:
   M /trunk/wiretap/pcapng.c


Fix seek reading by adding the size of the block length at the end of the
block to the data offset.


------------------------------------------------------------------------
r24084 | kukosa | 2008-01-14 01:34:26 -0800 (Mon, 14 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ssl.c

add ssl_debug_flush() at the end of initialization
------------------------------------------------------------------------
r24085 | stig | 2008-01-14 01:39:55 -0800 (Mon, 14 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/addr_resolv.c
   M /trunk/gtk/main.c
   M /trunk/gtk/recent.c
   M /trunk/tshark.c

Fixed a few "statement not reached" warnings and a "assignment type mismatch" warning.

------------------------------------------------------------------------
r24086 | stig | 2008-01-14 01:51:22 -0800 (Mon, 14 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dmp.c

Fixed a guint64 compile issue with a Sun C 5.8 compiler.
Fixed a tree placement.

------------------------------------------------------------------------
r24087 | kukosa | 2008-01-14 03:21:09 -0800 (Mon, 14 Jan 2008) | 1 line
Changed paths:
   M /trunk/tools/asn2wrs.py

use FN_VARIANT parameter in INTEGER type for planned 64bit variants
------------------------------------------------------------------------
r24088 | stig | 2008-01-14 04:05:33 -0800 (Mon, 14 Jan 2008) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake

Added copy of ethercat.dll, as pointed out by Peter Johansson.

------------------------------------------------------------------------
r24089 | stig | 2008-01-14 08:40:23 -0800 (Mon, 14 Jan 2008) | 30 lines
Changed paths:
   M /trunk/color_filters.c
   M /trunk/color_filters.h
   M /trunk/disabled_protos.c
   M /trunk/docbook/user-guide.xml
   A /trunk/docbook/wsug_graphics/ws-gui-config-profiles.png
   M /trunk/docbook/wsug_src/WSUG_chapter_customize.xml
   M /trunk/epan/addr_resolv.c
   M /trunk/epan/dissectors/packet-radius.c
   M /trunk/epan/dissectors/packet-xml.c
   M /trunk/epan/filesystem.c
   M /trunk/epan/filesystem.h
   M /trunk/epan/libwireshark.def
   M /trunk/epan/oids.c
   M /trunk/epan/plugins.c
   M /trunk/epan/prefs.c
   M /trunk/epan/prefs.h
   M /trunk/epan/proto.c
   M /trunk/epan/proto.h
   M /trunk/epan/uat.c
   M /trunk/epan/uat.h
   M /trunk/epan/wslua/init_wslua.c
   M /trunk/epan/wslua/wslua_util.c
   M /trunk/filters.c
   M /trunk/gtk/Makefile.am
   M /trunk/gtk/Makefile.common
   M /trunk/gtk/about_dlg.c
   M /trunk/gtk/help_dlg.c
   M /trunk/gtk/help_dlg.h
   M /trunk/gtk/main.c
   M /trunk/gtk/main.h
   M /trunk/gtk/menu.c
   A /trunk/gtk/profile_dlg.c
   A /trunk/gtk/profile_dlg.h
   M /trunk/gtk/recent.c
   M /trunk/gtk/recent.h
   M /trunk/tshark.c
   M /trunk/update.c

This patch adds support for configuration profiles, which can be used to
configure and use more than one set of preferences and configuration files.

This can be found in the "Configuration Profiles..." menu item from the Edit
menu, or by pressing Shift-Ctrl-A.  It's also possible to start wireshark
and tshark with a named profile by using the "-C ProfileName" option.
A new status pane in the main window will show the current profile.

The configuration files currently stored in the Profiles are:
- Preferences
- Capture Filters
- Display Filters
- Coloring Rules
- Disabled Protocols
- User Accessible Tables

The recent data are by design not added to the profile.

Planned future enhancements:
- make a more convenient function to switch between profiles
- add a "clone profile" button to copy an existing profile
- make the profiles list active and accept return as OK
- save users "Decode as" in the profile
- make new, clone and deletion of profiles more secure
- make some of the recent values available in the profile

This patch also fixes:
- setting default status pane sizes
- a bug setting status pane for packets when not having main lower pane.

------------------------------------------------------------------------
r24090 | stig | 2008-01-14 11:19:47 -0800 (Mon, 14 Jan 2008) | 2 lines
Changed paths:
   M /trunk/gtk/recent.c

Added cast of argument to isspace.

------------------------------------------------------------------------
r24091 | stig | 2008-01-14 13:43:10 -0800 (Mon, 14 Jan 2008) | 5 lines
Changed paths:
   M /trunk/gtk/profile_dlg.c

Several profile enhancements:
- Give initial focus to the profiles list
- Enter in the profiles list selects the profile
- Give focus to the profile name when creating a new profile

------------------------------------------------------------------------
r24092 | stig | 2008-01-14 13:58:45 -0800 (Mon, 14 Jan 2008) | 2 lines
Changed paths:
   M /trunk/gtk/profile_dlg.c

Save the changes also when selecting a profile from the list.

------------------------------------------------------------------------
r24093 | stig | 2008-01-14 15:22:36 -0800 (Mon, 14 Jan 2008) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_customize.xml

Fixed a typo in the docbook.

------------------------------------------------------------------------
r24094 | stig | 2008-01-14 16:24:59 -0800 (Mon, 14 Jan 2008) | 2 lines
Changed paths:
   M /trunk/gtk/compat_macros.h
   M /trunk/gtk/toolbar.c

Changed to use GTK stock icon for preferences in the toolbar.

------------------------------------------------------------------------
r24095 | etxrab | 2008-01-14 22:54:30 -0800 (Mon, 14 Jan 2008) | 2 lines
Changed paths:
   M /trunk/asn1/rrc/packet-rrc-template.c
   M /trunk/asn1/rrc/rrc.cnf
   M /trunk/epan/dissectors/packet-rrc.c

From Neil Piercy:  
Dissect RRC NAS Message PDUs.
------------------------------------------------------------------------
r24096 | stig | 2008-01-15 06:34:03 -0800 (Tue, 15 Jan 2008) | 1 line
Changed paths:
   M /trunk/version_info.c

Bump date
------------------------------------------------------------------------
r24097 | etxrab | 2008-01-15 09:59:43 -0800 (Tue, 15 Jan 2008) | 1 line
Changed paths:
   M /trunk/asn1/x2ap/X2AP-IEs.asn
   M /trunk/asn1/x2ap/packet-x2ap-template.c
   M /trunk/asn1/x2ap/x2ap.cnf
   M /trunk/epan/dissectors/packet-per.c
   M /trunk/epan/dissectors/packet-per.h
   M /trunk/epan/dissectors/packet-x2ap.c
   M /trunk/epan/libwireshark.def

make per_constrained_integer handle 64bits needed for X2AP.
------------------------------------------------------------------------
r24098 | morriss | 2008-01-15 10:37:48 -0800 (Tue, 15 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_sms.c

The glib iconv routines are new to glib-2 so #ifdef around them to get glib-1 builds going again.  I started to merge in using the regular iconv routines (if we don't have glib-2 but we HAVE_CONV) but the code rapidly got ugly with all the #ifdef's; it could be done but it's probably not worth the effort/ugliness.
------------------------------------------------------------------------
r24099 | morriss | 2008-01-15 11:24:27 -0800 (Tue, 15 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_sms.c

Oops, glib's iconv stuff is in glib >= 2, not just glib > 2
------------------------------------------------------------------------
r24100 | morriss | 2008-01-15 11:39:31 -0800 (Tue, 15 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/filesystem.c

Include dirent.h if we have it (to fix glib-1 compile: it needed DIR).
------------------------------------------------------------------------
r24101 | etxrab | 2008-01-15 12:18:04 -0800 (Tue, 15 Jan 2008) | 38 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/tools/win32-setup.sh

Use New GTK packages:
Overview of Changes from GLib 2.14.4 to GLib 2.14.5
===================================================

* Bugs fixed:
 482313 gregex: no way to tell why compilation failed
 315437 extern inline -> static inline
 480122 g_module_open fails to open modules with ".la" extension
 495589 gspawn.c failing to set FD_CLOEXEC
 500638 gkeyfile speedup ...
 503029 g_time_val_from_iso8601 parse non-ISO8601 dates
 503420 gkeyfile leaks a hash table 

Overview of Changes from GTK+ 2.12.3 to 2.12.4
==============================================

 * Bugs fixed:
 494667 gdkpixloader jpeg loader problems with some files
 496546 Tooltips may crashe because a window is destroyed
 503824 gtk_paned_find_neighbours aborts with assertion failure
 388321 gtk_notebook_remove_tab_label
 503190 Doesn't build with directfb >= 1.0
 491847 gtk-builder-convert --root option doesn't work for GtkWin...
 492977 Setup autorelease pool automatically in each mainloop ite...
 499951 GtkAssistant remove_page may leave current_page as a dang...
 502250 Leak in gtkfilechooserdefault.c:shortcuts_reload_icons()
 503569 Leak in GtkTreeViewColumn
 504753 Destroyed subviews are not removed from the view hierarchy
 504804 Typo in TEST_EXPAND_ROW signal
 504984 Problems with hiding/showing transient windows
 505708 compatibility macros for signals has wrong type.
 506107 mem leak in print dialogue
 502850 gtk-builder-convert program not found
 504749 gtk-builder-convert and GtkMenu 

GTK+ 2.12.5
This release fixes an incomplete icon cache that was
accidentally shipped in 2.12.4.
------------------------------------------------------------------------
r24102 | stig | 2008-01-15 13:41:52 -0800 (Tue, 15 Jan 2008) | 4 lines
Changed paths:
   M /trunk/disabled_protos.c

Discard existing list of disabled protocols in read_disabled_protos_list()
even if disabled_protos file does not exist.  This fixes a problem with
disabled protocols when changing profile.

------------------------------------------------------------------------
r24103 | gerald | 2008-01-15 13:48:16 -0800 (Tue, 15 Jan 2008) | 2 lines
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_tools.xml

Update the VC2005EE URL.

------------------------------------------------------------------------
r24104 | etxrab | 2008-01-15 13:57:50 -0800 (Tue, 15 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-per.c

Use G_GINT64_MODIFIER hope it makes the build bot happy.
Probbably needed in x2ap as well (needs asn2wrs support or .cnf magic).
------------------------------------------------------------------------
r24105 | etxrab | 2008-01-15 14:07:29 -0800 (Tue, 15 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-per.c

Use G_GINT64_CONSTANT(hope it makes the build bot happy).
------------------------------------------------------------------------
r24106 | etxrab | 2008-01-15 14:23:57 -0800 (Tue, 15 Jan 2008) | 2 lines
Changed paths:
   M /trunk/asn1/camel/packet-camel-template.c
   M /trunk/epan/dissectors/packet-camel.c
   M /trunk/epan/dissectors/packet-per.c

Use G_GINT64_CONSTANT(hope it makes the OS X build bot happy).
Unused variables fix to camel.
------------------------------------------------------------------------
r24107 | stig | 2008-01-15 14:32:34 -0800 (Tue, 15 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dmp.c

Fixed a small issue reporting corresponding package num for retransmitted
reports and notifications.

------------------------------------------------------------------------
r24108 | stig | 2008-01-15 15:25:40 -0800 (Tue, 15 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-per.c

Moved a G_GINT64_CONSTANT to a more correct position.

------------------------------------------------------------------------
r24109 | stig | 2008-01-15 15:31:37 -0800 (Tue, 15 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/packet.c

Call post dissectors with call_dissector_only() to avoid an extra Data entry
if post dissectors are disabled, as pointed out by LEGO.

------------------------------------------------------------------------
r24110 | wmeier | 2008-01-15 20:04:24 -0800 (Tue, 15 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/asm_utils_win32_x86.asm

Add ':' to some labels to prevent assembler warning messages

------------------------------------------------------------------------
r24111 | wmeier | 2008-01-15 20:40:18 -0800 (Tue, 15 Jan 2008) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake

dumpcap link: remove duplicate epan/unicode-utils.obj 

------------------------------------------------------------------------
r24112 | jake | 2008-01-15 23:36:34 -0800 (Tue, 15 Jan 2008) | 7 lines
Changed paths:
   M /trunk/epan/prefs.c
   M /trunk/epan/prefs.h
   M /trunk/gtk/Makefile.am
   M /trunk/gtk/Makefile.common
   M /trunk/gtk/prefs_dlg.c
   M /trunk/gtk/rtp_player.c
   A /trunk/gtk/rtp_player_prefs.c
   A /trunk/gtk/rtp_player_prefs.h

From Jim Young:
This patch provides a new RTP Player preferences dialog.  It allows one to
select the maximum number of visable channels in the RTP Player window.  The
default is four (4) channels which is the maximum number of usable channels 
that the RTP Player can display and still have access to the bottom row buttons 
on a 1024*768 resolution display.  Specifying a value less than 1 or greater than 
10 will be result in the RTP Player displaying the default 4 channels.
------------------------------------------------------------------------
r24113 | martinm | 2008-01-16 06:19:45 -0800 (Wed, 16 Jan 2008) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

- Display some sctpprim parameters
- Parse sctpprim v3 properly now
- Add wtp protocol name

------------------------------------------------------------------------
r24114 | jake | 2008-01-16 10:39:32 -0800 (Wed, 16 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/proto.c

Print the string to STDOUT regardless of the value of tree.

------------------------------------------------------------------------
r24115 | stig | 2008-01-16 11:16:30 -0800 (Wed, 16 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dmp.c
   M /trunk/epan/dissectors/packet-p_mul.c

Changed to checksum_good and checksum_bad to align with other dissectors.

------------------------------------------------------------------------
r24116 | stig | 2008-01-16 12:41:23 -0800 (Wed, 16 Jan 2008) | 3 lines
Changed paths:
   M /trunk/asn1/ansi-tcap/packet-ansi_tcap-template.c
   M /trunk/asn1/h450-ros/packet-h450-ros-template.c
   M /trunk/asn1/h460/packet-h460-template.c
   M /trunk/asn1/ldap/ldap.cnf
   M /trunk/asn1/pkcs12/packet-pkcs12-template.c
   M /trunk/asn1/rrc/packet-rrc-template.c
   M /trunk/asn1/rtse/packet-rtse-template.c
   M /trunk/asn1/x2ap/packet-x2ap-template.c
   M /trunk/epan/dissectors/packet-ansi_tcap.c
   M /trunk/epan/dissectors/packet-ansi_tcap.h
   M /trunk/epan/dissectors/packet-h450-ros.c
   M /trunk/epan/dissectors/packet-h450-ros.h
   M /trunk/epan/dissectors/packet-h460.c
   M /trunk/epan/dissectors/packet-ldap.c
   M /trunk/epan/dissectors/packet-ldap.h
   M /trunk/epan/dissectors/packet-pkcs12.c
   M /trunk/epan/dissectors/packet-pkcs12.h
   M /trunk/epan/dissectors/packet-rrc.c
   M /trunk/epan/dissectors/packet-rtse.c
   M /trunk/epan/dissectors/packet-rtse.h
   M /trunk/epan/dissectors/packet-x2ap.c

- Removed some unused variables in asn1 dissectors
- Fixed last parameter to cry_cipher_open() in pkcs12

------------------------------------------------------------------------
r24117 | stig | 2008-01-16 12:49:50 -0800 (Wed, 16 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Changed some variable types to make it compile.

------------------------------------------------------------------------
r24118 | stig | 2008-01-17 01:20:17 -0800 (Thu, 17 Jan 2008) | 3 lines
Changed paths:
   M /trunk/asn1/ansi-tcap/ansi_tcap.cnf
   M /trunk/epan/dissectors/packet-ansi_tcap.c

Hmmm.  The previous ansi_tcap.cnf did not make valid code.
I hope this fix is correct...

------------------------------------------------------------------------
r24119 | morriss | 2008-01-17 09:55:38 -0800 (Thu, 17 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sccp.c
   M /trunk/wiretap/libpcap.c
   M /trunk/wiretap/wtap.h

Add support for DLT_SCCP (SCCP without MTP2, MTP3, or any pseudo-header).
------------------------------------------------------------------------
r24120 | ulfl | 2008-01-17 10:29:51 -0800 (Thu, 17 Jan 2008) | 6 lines
Changed paths:
   M /trunk/plugins/profinet/packet-pn-dcp.c

better conformance to the released DCP protocol spec:
- redesign/refactoring the code to support BlockQualifier
- fix handling of BlockInfo 
- rename some display strings for better spec conformance
- remove LLDP suboption

------------------------------------------------------------------------
r24121 | morriss | 2008-01-17 10:42:19 -0800 (Thu, 17 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/Makefile.am

epan (libwireshark) uses getservbyport() which, at least on Solaris, is in libsocket so add libsocket (and libnsl) to libwireshark_la_LIBADD
------------------------------------------------------------------------
r24122 | ulfl | 2008-01-17 11:30:35 -0800 (Thu, 17 Jan 2008) | 1 line
Changed paths:
   M /trunk/plugins/profinet/packet-pn-dcp.c

add some parentheses as suggested by the OS X buildbot
------------------------------------------------------------------------
r24123 | morriss | 2008-01-17 11:44:04 -0800 (Thu, 17 Jan 2008) | 1 line
Changed paths:
   M /trunk/Makefile.am

Now that we have wiretap plugins, capinfos and editcap need to be linked against libwireshark (because the non-wiretap plugins use it but also init_progfile_dir() is in epan and they use that to load the plugins)
------------------------------------------------------------------------
r24124 | wmeier | 2008-01-17 13:04:48 -0800 (Thu, 17 Jan 2008) | 2 lines
Changed paths:
   M /trunk/editcap.c

From RD Thrush: Fix for 'editcap relies on gnu extension to strptime(3)'

------------------------------------------------------------------------
r24125 | morriss | 2008-01-17 13:40:33 -0800 (Thu, 17 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-cmpp.c

Fix http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2206 : don't write into COL_INFO unless we've checked that it's there first.
------------------------------------------------------------------------
r24126 | morriss | 2008-01-17 14:05:06 -0800 (Thu, 17 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-cmpp.c

Strengthen heuristics a little bit, remove a useless variable, put COL_INFO check in the right place
------------------------------------------------------------------------
r24127 | jake | 2008-01-17 14:28:31 -0800 (Thu, 17 Jan 2008) | 1 line
Changed paths:
   M /trunk/gtk/prefs_dlg.c

Whitespace cleanup of AIRPCAP code.
------------------------------------------------------------------------
r24128 | sfisher | 2008-01-17 16:59:30 -0800 (Thu, 17 Jan 2008) | 5 lines
Changed paths:
   M /trunk/wiretap/pcapng.c


Add link to pcap-ng format specification and use #defines for hex values of
block types.


------------------------------------------------------------------------
r24129 | etxrab | 2008-01-17 21:55:24 -0800 (Thu, 17 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Let epan/asn1.c handle real type.
------------------------------------------------------------------------
r24130 | etxrab | 2008-01-17 21:55:58 -0800 (Thu, 17 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

Correct a typo.
------------------------------------------------------------------------
r24131 | jake | 2008-01-17 23:18:32 -0800 (Thu, 17 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/oids.c
   M /trunk/gtk/nameres_prefs.c
   M /trunk/gtk/prefs_dlg.c
   M /trunk/gtk/prefs_dlg.h

Move libsmi settings from virtual mibs protocol page to name resolution page.
------------------------------------------------------------------------
r24132 | jake | 2008-01-17 23:35:01 -0800 (Thu, 17 Jan 2008) | 1 line
Changed paths:
   M /trunk/doc/README.plugins

Document required changes to top level Makefile.nmake.
------------------------------------------------------------------------
r24133 | ulfl | 2008-01-18 02:29:23 -0800 (Fri, 18 Jan 2008) | 1 line
Changed paths:
   M /trunk/wiretap/pcapng.c
   M /trunk/wiretap/wtap-int.h

decode IDB options (if_tsaccur and if_fcslen)
------------------------------------------------------------------------
r24134 | stig | 2008-01-18 08:13:48 -0800 (Fri, 18 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Added smi_modules_uat and smi_paths_uat to libwireshark.def.

------------------------------------------------------------------------
r24135 | stig | 2008-01-18 14:51:37 -0800 (Fri, 18 Jan 2008) | 21 lines
Changed paths:
   M /trunk/gtk/packet_list.c

I can't find any reason to unselect the current package only when an entry
in the packet details view is selected.  I suppose unselecting the field is
more correct.  The previous behaviour lead to some strange errors:

 Select a packet and an entry in the packet details.  Add a new column
 and change a protocol preference.  Observe the selected package is
 unselected and packet 1 is selected, which I think is wrong.

 Do the same as above with one of the following exceptions:
  - without selecting an entry in the packet details.
  - without adding a new column.
  - without changing a protocol preference.
 Observe the selected package is still selected, which is correct.

The correct behaviour here happens because of the cf_goto_frame call in
redraw_hex_dump_all, which causes the field to be unselected before
packet_list_set_sel_browse is called, and then the cf_unselect_package
is never called.  

Maybe someone with a deeper knowledge should have a look at this...

------------------------------------------------------------------------
r24136 | stig | 2008-01-18 17:18:35 -0800 (Fri, 18 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/libwireshark.def
   M /trunk/epan/prefs.c
   M /trunk/epan/uat.c
   M /trunk/epan/uat.h
   M /trunk/gtk/main.c
   M /trunk/gtk/profile_dlg.c

Free allocated data in prefs_reset, removed need for uat_reload_all and 
made some cleanups in profile_dlg.

------------------------------------------------------------------------
r24137 | jake | 2008-01-18 23:46:52 -0800 (Fri, 18 Jan 2008) | 1 line
Changed paths:
   M /trunk/gtk/uat_gui.c

Cleanup the whitespace.
------------------------------------------------------------------------
r24138 | stig | 2008-01-19 02:46:13 -0800 (Sat, 19 Jan 2008) | 7 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-netflow.c

From Olivier Montanuy (bug 2198):
Fix the bug related to Option template:
- System scope (check that options scope size is == 4, not <= 4)
- Interface scope (same)
Same fix for fields BytesExported PacketsExported FlowsExported.
Also fix some tabulations in a previous patch related to IPv6 Addresses.

------------------------------------------------------------------------
r24139 | ulfl | 2008-01-19 04:09:00 -0800 (Sat, 19 Jan 2008) | 5 lines
Changed paths:
   M /trunk/wiretap/pcapng.c

various enhancements:
- read simple packet block
- read various options
- jump over unknown block types
- more sanity checks
------------------------------------------------------------------------
r24140 | stig | 2008-01-19 04:22:44 -0800 (Sat, 19 Jan 2008) | 2 lines
Changed paths:
   M /trunk/wiretap/pcapng.c

Make it compile on OSX.

------------------------------------------------------------------------
r24141 | ulfl | 2008-01-19 04:34:43 -0800 (Sat, 19 Jan 2008) | 1 line
Changed paths:
   M /trunk/wiretap/pcapng.c

Make it compile on Win32 ;-)
------------------------------------------------------------------------
r24142 | sfisher | 2008-01-19 18:31:34 -0800 (Sat, 19 Jan 2008) | 4 lines
Changed paths:
   M /trunk/wiretap/pcapng.c
   M /trunk/wiretap/wtap-int.h


Introduce BSWAP64() and use it in the pcapng code


------------------------------------------------------------------------
r24143 | stig | 2008-01-20 04:24:14 -0800 (Sun, 20 Jan 2008) | 2 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Added "copy as CSV" button to IO Graphs.

------------------------------------------------------------------------
r24144 | stig | 2008-01-20 05:52:48 -0800 (Sun, 20 Jan 2008) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_graphics/ws-stats-iographs.png
   M /trunk/docbook/wsug_src/WSUG_chapter_statistics.xml

Document the copy button in conversations, endpoints and iographs.

------------------------------------------------------------------------
r24145 | stig | 2008-01-20 08:53:53 -0800 (Sun, 20 Jan 2008) | 6 lines
Changed paths:
   M /trunk/gtk/io_stat.c
   M /trunk/gtk/pixmap_save.c

Fixed crash when save IO Graphs (bug 2126).

The problem was that configure_event() is called each time the window size
changes, and each time the pixmap buffer is recreated and a new signal added
to the save button.

------------------------------------------------------------------------
r24146 | stig | 2008-01-20 09:07:59 -0800 (Sun, 20 Jan 2008) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_statistics.xml

Fixed a </para> placement.

------------------------------------------------------------------------
r24147 | gerald | 2008-01-20 10:53:38 -0800 (Sun, 20 Jan 2008) | 2 lines
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_quick_setup.xml

Upate another VC++ 2005 EE link.

------------------------------------------------------------------------
r24148 | wmeier | 2008-01-20 15:12:12 -0800 (Sun, 20 Jan 2008) | 2 lines
Changed paths:
   M /trunk/dumpcap.c

Fix typo in help text

------------------------------------------------------------------------
r24149 | ulfl | 2008-01-20 17:54:28 -0800 (Sun, 20 Jan 2008) | 1 line
Changed paths:
   M /trunk/wiretap/pcapng.c

as we have BSWAP64() now, at least read 64bit section_length (but currently unused)
------------------------------------------------------------------------
r24150 | etxrab | 2008-01-20 22:28:23 -0800 (Sun, 20 Jan 2008) | 2 lines
Changed paths:
   M /trunk/asn1/h245/packet-h245-template.c
   M /trunk/epan/dissectors/packet-h245.c

Remove duplicated OID entries and add text "(single NAL unit mode)"
to 0.0.8.241.0.0.0.0.
------------------------------------------------------------------------
r24151 | etxrab | 2008-01-20 22:46:58 -0800 (Sun, 20 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h245.c

Remove duplicated OID entries and add text "(single NAL unit mode)"
to 0.0.8.241.0.0.0.0.
This time with the updated packet-h245.c
------------------------------------------------------------------------
r24152 | jake | 2008-01-20 23:35:16 -0800 (Sun, 20 Jan 2008) | 2 lines
Changed paths:
   M /trunk/gtk/uat_gui.c

Fix for bug 1920:
Avoid double free, causing crash, and stop memory leak via normal code path.
------------------------------------------------------------------------
r24153 | etxrab | 2008-01-21 12:49:15 -0800 (Mon, 21 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-h263.c

Add a preferense to decode a dynamic payload type as H263-1998/H263-2000
------------------------------------------------------------------------
r24154 | stig | 2008-01-21 13:44:34 -0800 (Mon, 21 Jan 2008) | 3 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_app_files.xml
   M /trunk/epan/addr_resolv.c

From Douglas Pratley (bug 1445):
Add a "subnets" file defining a named list of subnets.

------------------------------------------------------------------------
r24155 | jake | 2008-01-21 14:08:50 -0800 (Mon, 21 Jan 2008) | 1 line
Changed paths:
   M /trunk/doc/wireshark.pod

Update Preferences dialog description.
------------------------------------------------------------------------
r24156 | stig | 2008-01-21 14:27:02 -0800 (Mon, 21 Jan 2008) | 3 lines
Changed paths:
   M /trunk/doc/wireshark.pod

Added entry for configuration profiles, and updated the statusbar
description.

------------------------------------------------------------------------
r24157 | stig | 2008-01-21 14:46:43 -0800 (Mon, 21 Jan 2008) | 2 lines
Changed paths:
   M /trunk/doc/tshark.pod
   M /trunk/doc/wireshark.pod

Add description of the new option for configuration profile (-C).

------------------------------------------------------------------------
r24158 | sake | 2008-01-21 16:56:55 -0800 (Mon, 21 Jan 2008) | 6 lines
Changed paths:
   M /trunk/print.c

When using -T fields, print a "1" instead of nothing when a field of type FT_NONE is
present. This way, scripts can check for the presence of this type of fields.

(fixes bug 2210)


------------------------------------------------------------------------
r24159 | sfisher | 2008-01-21 17:05:32 -0800 (Mon, 21 Jan 2008) | 5 lines
Changed paths:
   M /trunk/wiretap/pcapng.c


Use WTAP_MAX_PACKET_SIZE in place of 65535 in sanity check for snap len
(although they are the same value right now)


------------------------------------------------------------------------
r24160 | jmayer | 2008-01-21 18:05:21 -0800 (Mon, 21 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-isakmp.c

Add another vendor id
------------------------------------------------------------------------
r24161 | guy | 2008-01-21 20:59:59 -0800 (Mon, 21 Jan 2008) | 5 lines
Changed paths:
   M /trunk/print.c

Clean up indentation.

Move some comments to make it a bit clearer what each branch of the if
handles.

------------------------------------------------------------------------
r24162 | jake | 2008-01-21 22:49:49 -0800 (Mon, 21 Jan 2008) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-acn.c

From Bill Florac:
When dissecting any message containing a "transport layer address", if the
address was NULL (which is valid), the offset pointer was not incremented by 1
and the remaining fields would not be dissected correctly.
------------------------------------------------------------------------
r24163 | jake | 2008-01-21 23:36:33 -0800 (Mon, 21 Jan 2008) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-srvloc.c

From Bill Florac:
The displaying of attribute-lists in an "Attribute Reply" (ATTRRPLY) seems to
be written to display some special non-conforming attributes.  Conforming
attributes are either displayed wrong or not displayed at all.

When displaying an attributes-list in a "Service Registration" (SRVREG), the
attribute list is only displayed as a single string (and usually truncated).
While this is not wrong, it should be broken up into the comma separated
attributes as "Attribute Requests" tries to do.
------------------------------------------------------------------------
r24164 | morriss | 2008-01-22 10:05:45 -0800 (Tue, 22 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-cmpp.c

Don't update COL_INFO at all if not claiming the packet as CMPP. Add a (guessed) upper-size limit on the heuristics and take out a check that the tvb length matches the protocol length--that would essentially disable TCP reassembly of this protocol
------------------------------------------------------------------------
r24165 | jake | 2008-01-22 10:20:00 -0800 (Tue, 22 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-srvloc.c

From Bill Florac:
Patch in revision 24163 is missing same fix needed for "case SRVREG", at line 1156.
------------------------------------------------------------------------
r24166 | gerald | 2008-01-22 17:23:06 -0800 (Tue, 22 Jan 2008) | 3 lines
Changed paths:
   M /trunk/packaging/portableapps/win32/Installer.nsi
   M /trunk/packaging/portableapps/win32/WiresharkPortable.nsi
   M /trunk/packaging/portableapps/win32/makefile.nmake

Unpack FindProcDLL.dll into $(WIRESHARK_LIBS\nsis-plugins, and tell NSIS 
where it is using "!addplugindir".

------------------------------------------------------------------------
r24167 | wmeier | 2008-01-23 06:05:22 -0800 (Wed, 23 Jan 2008) | 2 lines
Changed paths:
   M /trunk/gtk/find_dlg.c

Fix minor memory leak

------------------------------------------------------------------------
r24168 | wmeier | 2008-01-23 06:07:40 -0800 (Wed, 23 Jan 2008) | 2 lines
Changed paths:
   M /trunk/gtk/airpcap_dlg.c

Fix a minor memory leak; Remove some unused variables

------------------------------------------------------------------------
r24169 | guy | 2008-01-23 11:47:40 -0800 (Wed, 23 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.h

Get rid of non-ASCII characters.

------------------------------------------------------------------------
r24170 | guy | 2008-01-23 12:12:23 -0800 (Wed, 23 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cisco-erspan.c

Get rid of non-ASCII characters.

------------------------------------------------------------------------
r24171 | guy | 2008-01-23 12:15:13 -0800 (Wed, 23 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-per.c

Get rid of non-ASCII characters.

------------------------------------------------------------------------
r24172 | gerald | 2008-01-23 17:23:19 -0800 (Wed, 23 Jan 2008) | 3 lines
Changed paths:
   M /trunk/gtk/main.c

Arrange things so that if '-o "capture.auto_scroll: FALSE"' is passed to
Wireshark on the command line, auto-scroll is actually disabled.

------------------------------------------------------------------------
r24173 | wmeier | 2008-01-23 20:20:07 -0800 (Wed, 23 Jan 2008) | 2 lines
Changed paths:
   M /trunk/gtk/main.c

Fix two very minor memory leaks

------------------------------------------------------------------------
r24174 | wmeier | 2008-01-23 21:39:48 -0800 (Wed, 23 Jan 2008) | 2 lines
Changed paths:
   M /trunk/gtk/main.c

One of fixes in SVN #24173 incomplete; Undo it for now

------------------------------------------------------------------------
r24175 | stig | 2008-01-24 09:06:22 -0800 (Thu, 24 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/filesystem.c
   M /trunk/epan/filesystem.h
   M /trunk/gtk/main.c
   M /trunk/gtk/main.h
   M /trunk/gtk/profile_dlg.c

Always return a valid profile name from get_profile_name().

------------------------------------------------------------------------
r24176 | martinm | 2008-01-24 09:14:01 -0800 (Thu, 24 Jan 2008) | 1 line
Changed paths:
   M /trunk/editcap.c

Replace a handful of tabs with spaces.
------------------------------------------------------------------------
r24177 | morriss | 2008-01-24 10:18:28 -0800 (Thu, 24 Jan 2008) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Add check for non-ASCII characters (defined, for now, as any whose value is > 0x80) anywhere in the source files (as per discussion on -dev).  Amazingly, this does not appear to slow the tool down too much.
------------------------------------------------------------------------
r24178 | stig | 2008-01-24 10:51:54 -0800 (Thu, 24 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/addr_resolv.c

Removed C++ style comment.

------------------------------------------------------------------------
r24179 | stig | 2008-01-24 11:09:30 -0800 (Thu, 24 Jan 2008) | 2 lines
Changed paths:
   M /trunk/editcap.c
   M /trunk/file.c
   M /trunk/mergecap.c
   M /trunk/mkcap.c
   M /trunk/tap-iostat.c

Fixed some malloc -> g_malloc, free -> g_free, strdup -> g_strdup.

------------------------------------------------------------------------
r24180 | stig | 2008-01-24 11:30:43 -0800 (Thu, 24 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-nt.c
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/plugins/wimax/mac_hd_generic_decoder.c
   M /trunk/wiretap/iseries.c

Fixed some more malloc -> g_malloc, free -> g_free, strdup -> g_strdup.

------------------------------------------------------------------------
r24181 | morriss | 2008-01-24 13:57:13 -0800 (Thu, 24 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_801.c
   M /trunk/epan/dissectors/packet-dcp.c
   M /trunk/epan/dissectors/packet-mysql.c
   M /trunk/gtk/main.c
   M /trunk/wiretap/file_wrappers.c
   M /trunk/wiretap/k12.c

s/%ll/%" G_GINT64_MODIFIER "/g

------------------------------------------------------------------------
r24182 | morriss | 2008-01-24 14:02:55 -0800 (Thu, 24 Jan 2008) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Warn if we find %ll in the source
------------------------------------------------------------------------
r24183 | wmeier | 2008-01-24 14:12:10 -0800 (Thu, 24 Jan 2008) | 2 lines
Changed paths:
   M /trunk/gtk/find_dlg.c

Change "Found no match" to "No match found"

------------------------------------------------------------------------
r24184 | etxrab | 2008-01-24 14:21:13 -0800 (Thu, 24 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a.c
   M /trunk/epan/dissectors/packet-gtp.c

Decode som MBMS elements.
------------------------------------------------------------------------
r24185 | wmeier | 2008-01-24 14:26:05 -0800 (Thu, 24 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ppi.c
   M /trunk/gtk/airpcap_dlg.c
   M /trunk/gtk/airpcap_gui_utils.c
   M /trunk/gtk/airpcap_gui_utils.h
   M /trunk/gtk/capture_if_dlg.c
   M /trunk/gtk/main.c

Fix various small memory leaks & 1 invalid g_free (airpcap_gui_utils.c)

------------------------------------------------------------------------
r24186 | stig | 2008-01-24 14:33:49 -0800 (Thu, 24 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/packaging/u3/tools/sysdep.c
   M /trunk/packaging/u3/win32/u3util.c

Removed even more C++ style comments.

------------------------------------------------------------------------
r24187 | stig | 2008-01-24 14:51:17 -0800 (Thu, 24 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a.c

Added some parantheses to avoid a warning.

------------------------------------------------------------------------
r24188 | stig | 2008-01-24 15:01:37 -0800 (Thu, 24 Jan 2008) | 3 lines
Changed paths:
   M /trunk/asn1/t38/packet-t38-template.c
   M /trunk/capture_loop.c
   M /trunk/conditions.c
   M /trunk/editcap.c
   M /trunk/epan/dissectors/packet-t38.c
   M /trunk/epan/dissectors/packet-t38.h

Fixed some strcpy -> strncpy/g_snprintf cleanups.
Removed a debug printout in t38.

------------------------------------------------------------------------
r24189 | jake | 2008-01-24 22:23:28 -0800 (Thu, 24 Jan 2008) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-srvloc.c

From Bill Florac::
Corrected display of attributes from previous patch (24165)
For V2, if field length was 0, do not display the empty field. This makes it
easier to read. I only did V2 as I do not have means to test V1.
------------------------------------------------------------------------
r24190 | jake | 2008-01-24 22:32:53 -0800 (Thu, 24 Jan 2008) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-igmp.c

From Thomas Morin:
I have written the attached patch to improve the userfriendly-ness of the
summary displayed in the last column of the packet list for IGMP packets.

The current code only tells the user the type of packet (REPORT, LEAVE, QUERY),
but doesn't include any information about what multicast group is joined to or
left.   Worse, for IGMPv3 Reports the user cannot tell quickly if the multicast
group is joined-to or left, without having to look at the inside of the packet
to know the type of report (include all, include none, exlude none, exclude
all, etc.).
------------------------------------------------------------------------
r24191 | morriss | 2008-01-25 07:34:55 -0800 (Fri, 25 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/libwireshark.def

Add tvb_free (as per the request in http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2219)
------------------------------------------------------------------------
r24192 | etxrab | 2008-01-25 09:27:54 -0800 (Fri, 25 Jan 2008) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml
   M /trunk/epan/dissectors/packet-gtp.c

Decode som more MBMS elements. Diameter XML fixes.
------------------------------------------------------------------------
r24193 | jake | 2008-01-25 13:31:50 -0800 (Fri, 25 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-srvloc.c

From Bill Florac:
Corrected ATTRRPLY dissection. 
Removed a few unnecessary semi-colons.
------------------------------------------------------------------------
r24194 | gal | 2008-01-26 02:05:13 -0800 (Sat, 26 Jan 2008) | 5 lines
Changed paths:
   M /trunk/asn1/x509if/packet-x509if-template.c
   M /trunk/asn1/x509if/x509if.cnf
   M /trunk/epan/dissectors/packet-x509if.c

1) Correct attribute name.
2) Add subtreespecification attribute.
3) Label each attribute in the tree with the attribute type.


------------------------------------------------------------------------
r24195 | gal | 2008-01-26 02:12:22 -0800 (Sat, 26 Jan 2008) | 7 lines
Changed paths:
   M /trunk/asn1/ldap/Lightweight-Directory-Access-Protocol-V3.asn
   M /trunk/asn1/ldap/ldap.cnf
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/epan/dissectors/packet-ldap.c
   M /trunk/epan/dissectors/packet-ldap.h

1) Support for configurable LDAP over SSL port
2) Support for RFC 3909 - cancelRequest extendedOperation
3) Support for RFC 3062 - passwordModify extendedOperation
4) Column information for ExtendedRequest, SearchResultRef and AbandonRequest
5) Column information for multiple LDAP operations in the same packet (uses " | " separator)


------------------------------------------------------------------------
r24196 | gal | 2008-01-26 02:14:26 -0800 (Sat, 26 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl.c

Remove "LDAP over SSL" registration as now handled by the LDAP dissector.


------------------------------------------------------------------------
r24197 | gal | 2008-01-26 02:18:10 -0800 (Sat, 26 Jan 2008) | 3 lines
Changed paths:
   A /trunk/asn1/acp133/MHSDirectoryObjectsAndAttributes.asn
   M /trunk/asn1/acp133/Makefile.common
   M /trunk/asn1/acp133/acp133.asn
   M /trunk/asn1/acp133/acp133.cnf
   M /trunk/epan/dissectors/packet-acp133.c
   M /trunk/epan/dissectors/packet-acp133.h

Use the standard X.402 module as a separate file rather than as cut/paste into the ACP133 module.


------------------------------------------------------------------------
r24198 | ulfl | 2008-01-26 06:08:51 -0800 (Sat, 26 Jan 2008) | 1 line
Changed paths:
   M /trunk/wiretap/pcapng.c

g_warning -> pcapng_debug and "switch it off" as default, so normal users won't be annoyed by debug messages
------------------------------------------------------------------------
r24199 | stig | 2008-01-26 07:28:37 -0800 (Sat, 26 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/wslua/wslua.h

From Peter (bug 2224):
Patch to fix compile with glib-1.2.

------------------------------------------------------------------------
r24200 | ulfl | 2008-01-26 08:28:21 -0800 (Sat, 26 Jan 2008) | 1 line
Changed paths:
   M /trunk/docbook

add *.user to the ignore list
------------------------------------------------------------------------
r24201 | ulfl | 2008-01-26 08:34:14 -0800 (Sat, 26 Jan 2008) | 1 line
Changed paths:
   M /trunk

add *.user to the ignore list
------------------------------------------------------------------------
r24202 | stig | 2008-01-26 08:45:29 -0800 (Sat, 26 Jan 2008) | 8 lines
Changed paths:
   M /trunk/gtk/capture_file_dlg.c

Destroy the save window after canceling a save to an existing file, so
the user is able to save again without having a hidden save window which 
will not open.

Older GTK versions will show the hidden window after failure.

This fixes bug 1896.

------------------------------------------------------------------------
r24203 | stig | 2008-01-26 08:50:08 -0800 (Sat, 26 Jan 2008) | 5 lines
Changed paths:
   M /trunk/gtk/capture_file_dlg.c

Destroy the open window after open failure to avoid having an unusable
open dialog when using GTK >= 2.4.

This fixes bug 1986.

------------------------------------------------------------------------
r24204 | stig | 2008-01-26 09:04:49 -0800 (Sat, 26 Jan 2008) | 2 lines
Changed paths:
   M /trunk/gtk/capture_file_dlg.c

Also destroy the window when failure to export/import color filters.

------------------------------------------------------------------------
r24205 | etxrab | 2008-01-27 03:03:56 -0800 (Sun, 27 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-isup.c

Fix reassembly.
------------------------------------------------------------------------
r24206 | etxrab | 2008-01-27 06:26:11 -0800 (Sun, 27 Jan 2008) | 1 line
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/tools/win32-setup.sh

New gettext-runtime
------------------------------------------------------------------------
r24207 | etxrab | 2008-01-27 06:27:11 -0800 (Sun, 27 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Uncomplete code change.
------------------------------------------------------------------------
r24208 | stig | 2008-01-27 06:45:31 -0800 (Sun, 27 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/filesystem.c
   M /trunk/gtk/main.c
   M /trunk/gtk/profile_dlg.c

Do not change profile if directory creation failed, and change to default
profile if existing profile was deleted.

------------------------------------------------------------------------
r24209 | stig | 2008-01-27 07:54:15 -0800 (Sun, 27 Jan 2008) | 2 lines
Changed paths:
   M /trunk/gtk/proto_hier_stats_dlg.c

Expand the Protocol column instead of the last column on window resize.

------------------------------------------------------------------------
r24210 | stig | 2008-01-27 10:19:40 -0800 (Sun, 27 Jan 2008) | 3 lines
Changed paths:
   M /trunk/gtk/io_stat.c

When having more than one matching item in a frame the AVG calculation
did not return a correct value.

------------------------------------------------------------------------
r24211 | etxrab | 2008-01-27 13:06:33 -0800 (Sun, 27 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-diameter.c
   M /trunk/epan/dissectors/packet-gsm_a.c
   M /trunk/epan/dissectors/packet-gtp.c

Make it possible to do subdissection of Diameter AVP:s and add dissection
of some 3GPP AVP:s.
------------------------------------------------------------------------
r24212 | etxrab | 2008-01-27 15:18:57 -0800 (Sun, 27 Jan 2008) | 1 line
Changed paths:
   A /trunk/epan/dissectors/packet-diameter_3gpp.c

Add the forgotten file.
------------------------------------------------------------------------
r24213 | stig | 2008-01-27 15:33:09 -0800 (Sun, 27 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-diameter_3gpp.c

Make use of an unused value.

------------------------------------------------------------------------
r24214 | jake | 2008-01-28 09:27:22 -0800 (Mon, 28 Jan 2008) | 1 line
Changed paths:
   M /trunk/AUTHORS

Adding Thomas Morin
------------------------------------------------------------------------
r24215 | kukosa | 2008-01-28 09:34:38 -0800 (Mon, 28 Jan 2008) | 1 line
Changed paths:
   M /trunk/tools/asn2wrs.py

cleanup code (remove some collapsed conditions)
------------------------------------------------------------------------
r24216 | etxrab | 2008-01-28 11:55:20 -0800 (Mon, 28 Jan 2008) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml
   M /trunk/epan/dissectors/packet-diameter.c

Dissect Vendor id and Auth-application Id.
------------------------------------------------------------------------
r24217 | stig | 2008-01-28 12:23:08 -0800 (Mon, 28 Jan 2008) | 2 lines
Changed paths:
   M /trunk/config.nmake

Use the new gettext-runtime.

------------------------------------------------------------------------
r24218 | stig | 2008-01-29 01:56:11 -0800 (Tue, 29 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

SSI dBm signal is signed.

------------------------------------------------------------------------
r24219 | sake | 2008-01-29 02:48:53 -0800 (Tue, 29 Jan 2008) | 5 lines
Changed paths:
   M /trunk/Makefile.nmake

Revert GTK+/GLIB to GTK+ 2.12.1 with GLib 2.14.3 for Windows installs
as a workaround for bug 2066. We should stick to these versions until
bug report #503326 on bugzilla.gnome.org has been fixed.


------------------------------------------------------------------------
r24220 | stig | 2008-01-29 06:27:02 -0800 (Tue, 29 Jan 2008) | 3 lines
Changed paths:
   M /trunk/gtk/io_stat.c

When having more than one matching item in a frame the MAX and MIN calculation
could return an invalid value.  Also fixed AVG calculation.

------------------------------------------------------------------------
r24221 | wmeier | 2008-01-29 10:55:28 -0800 (Tue, 29 Jan 2008) | 5 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/tools/win32-setup.sh

For Windows: Update to use Gtk+ 2.12.6; Use latest Glib 2.14.5 again;
Gtk 2.12.6 fixes bugzilla.gnome.org bug #503326 which thus means that
Wireshark no longer needs a work-around for Wireshark bug #2066. 
(See svn #24219).

------------------------------------------------------------------------
r24222 | etxrab | 2008-01-29 12:05:02 -0800 (Tue, 29 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-diameter_3gpp.c

Dissect 3GPP AVP Code: 900 TMGI
------------------------------------------------------------------------
r24223 | wmeier | 2008-01-29 12:33:43 -0800 (Tue, 29 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-diameter_3gpp.c

Add missing 'static int' for dissect_diameter_3gpp_tmgi(...)

------------------------------------------------------------------------
r24224 | bondolo | 2008-01-29 15:28:10 -0800 (Tue, 29 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-jxta.c
   M /trunk/epan/dissectors/packet-jxta.h

cleanup initial comment. fix urls and email addresses.


------------------------------------------------------------------------
r24225 | bondolo | 2008-01-29 15:30:27 -0800 (Tue, 29 Jan 2008) | 3 lines
Changed paths:
   M /trunk/AUTHORS

Update my email address.


------------------------------------------------------------------------
r24226 | stig | 2008-01-30 07:16:21 -0800 (Wed, 30 Jan 2008) | 2 lines
Changed paths:
   M /trunk/gtk/main.c

Added missing space in front of some statusbar messages.

------------------------------------------------------------------------
r24227 | morriss | 2008-01-30 09:11:06 -0800 (Wed, 30 Jan 2008) | 3 lines
Changed paths:
   M /trunk/asn1/gsmmap/gsmmap.cnf
   M /trunk/asn1/gsmmap/packet-gsmmap-template.c
   M /trunk/epan/dissectors/packet-gsm_map.c

Move glib-2 specific code out of gsmmap.cnf (where we can't #ifdef around
it--asn2wrs doesn't understand #ifdef's) to packet-gsm-template.c

------------------------------------------------------------------------
r24228 | etxrab | 2008-01-30 14:34:17 -0800 (Wed, 30 Jan 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-rmt-alc.c
   M /trunk/epan/dissectors/packet-rmt-lct.c
   M /trunk/epan/dissectors/packet-rmt-lct.h

Dissect the FLUTE "data".
------------------------------------------------------------------------
r24229 | stig | 2008-01-30 14:50:55 -0800 (Wed, 30 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def
   M /trunk/epan/oids.c
   M /trunk/epan/uat.c
   M /trunk/epan/uat.h
   M /trunk/gtk/nameres_prefs.c

Add Luis' uat_get_table_by_name() to fetch SMI uat tables.

------------------------------------------------------------------------
r24230 | wmeier | 2008-01-31 08:37:56 -0800 (Thu, 31 Jan 2008) | 3 lines
Changed paths:
   M /trunk/gtk/decode_as_dlg.c
   M /trunk/gtk/export_object.c
   M /trunk/gtk/proto_hier_stats_dlg.c
   M /trunk/gtk/stats_tree_stat.c

Add missing g_object_unref for treeview models;
Remove not needed set_tree_model (stats_tree_stat.c)

------------------------------------------------------------------------
r24231 | stig | 2008-01-31 08:47:05 -0800 (Thu, 31 Jan 2008) | 5 lines
Changed paths:
   M /trunk/capture_ui_utils.c
   M /trunk/epan/libwireshark.def
   M /trunk/epan/prefs.c
   M /trunk/epan/prefs.h
   M /trunk/gtk/capture_if_dlg.c

Hide hidden devices in "Capture Interfaces" dialog.

Added a function to check for hidden devices, which also work correctly
for plumbed devices on solaris.

------------------------------------------------------------------------
r24232 | gerald | 2008-01-31 11:50:38 -0800 (Thu, 31 Jan 2008) | 3 lines
Changed paths:
   M /trunk/epan/dfilter/dfilter-int.h
   M /trunk/epan/dfilter/dfilter.c
   M /trunk/epan/dfilter/dfilter.h
   M /trunk/epan/dfilter/gencode.c
   M /trunk/epan/dfilter/scanner.l
   M /trunk/epan/dfilter/syntax-tree.c
   M /trunk/epan/dfilter/syntax-tree.h
   M /trunk/gtk/filter_dlg.c
   M /trunk/gtk/main.c
   M /trunk/gtk/main.h

If "!=" or "ne" are used in a display filter, warn the user that the results
may be unexpected.

------------------------------------------------------------------------
r24233 | stig | 2008-01-31 12:00:45 -0800 (Thu, 31 Jan 2008) | 2 lines
Changed paths:
   M /trunk/gtk/filter_dlg.c

Added missing space in front of new statusbar messages.

------------------------------------------------------------------------
r24234 | gerald | 2008-01-31 12:18:07 -0800 (Thu, 31 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dfilter/syntax-tree.h
   M /trunk/epan/libwireshark.def

Make the "!="/"ne" change compile under Windows.

------------------------------------------------------------------------
r24235 | etxrab | 2008-01-31 13:52:47 -0800 (Thu, 31 Jan 2008) | 3 lines
Changed paths:
   A /trunk/diameter/TGPPGmb.xml
   M /trunk/diameter/dictionary.xml
   M /trunk/diameter/imscxdx.xml
   M /trunk/packaging/nsis/wireshark.nsi

Split out the Gmb application AVP:s to at least make it simpler to handle the
AVP "collision".
http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1494
------------------------------------------------------------------------
r24236 | etxrab | 2008-01-31 13:53:26 -0800 (Thu, 31 Jan 2008) | 3 lines
Changed paths:
   M /trunk/Makefile.am

Split out the Gmb application AVP:s to at least make it simpler to handle the
AVP "collision".
http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1494
------------------------------------------------------------------------
r24237 | stig | 2008-01-31 14:31:01 -0800 (Thu, 31 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dfilter/syntax-tree.h

Removed a const to make it compile.

------------------------------------------------------------------------
r24238 | stig | 2008-01-31 15:10:09 -0800 (Thu, 31 Jan 2008) | 2 lines
Changed paths:
   M /trunk/epan/dfilter/dfilter.c
   M /trunk/epan/dfilter/syntax-tree.c
   M /trunk/epan/dfilter/syntax-tree.h

Hmmm.  Second try to fix the const problems.

------------------------------------------------------------------------
r24239 | stig | 2008-01-31 17:07:58 -0800 (Thu, 31 Jan 2008) | 3 lines
Changed paths:
   M /trunk/gtk/airpcap_gui_utils.c
   M /trunk/gtk/capture_if_details_dlg.c
   M /trunk/gtk/capture_prefs.c
   M /trunk/gtk/dfilter_expr_dlg.c
   M /trunk/gtk/flow_graph.c
   M /trunk/gtk/font_utils.c
   M /trunk/gtk/io_stat.c
   M /trunk/gtk/main.c
   M /trunk/gtk/mcast_stream_dlg.c
   M /trunk/gtk/menu.c
   M /trunk/gtk/packet_win.c
   M /trunk/gtk/prefs_dlg.c
   M /trunk/gtk/progress_dlg.c
   M /trunk/gtk/rtp_analysis.c
   M /trunk/gtk/rtp_stream_dlg.c
   M /trunk/gtk/sctp_assoc_analyse.c
   M /trunk/gtk/sctp_byte_graph_dlg.c
   M /trunk/gtk/sctp_graph_dlg.c
   M /trunk/gtk/sctp_stat.c
   M /trunk/gtk/summary_dlg.c

Rewrote some prohibited APIs in gtk/ (sprintf, strcpy, strcat).
If we get some truncated strings we probably overwrote some buffers...

------------------------------------------------------------------------
r24240 | jake | 2008-01-31 22:47:12 -0800 (Thu, 31 Jan 2008) | 1 line
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_work.xml

Updated various misleading examples.
------------------------------------------------------------------------
r24241 | stig | 2008-02-01 02:02:19 -0800 (Fri, 01 Feb 2008) | 2 lines
Changed paths:
   M /trunk/gtk/filter_dlg.c
   M /trunk/gtk/main.c

Added tooltip description for yellow filter background.

------------------------------------------------------------------------
r24242 | stig | 2008-02-01 08:49:34 -0800 (Fri, 01 Feb 2008) | 5 lines
Changed paths:
   M /trunk/gtk/profile_dlg.c

Fixed a problem with renaming a profile after hitting apply.
Profile name cannot start or end with space, and on win32 it cannot contain
any of this characters: \ / : * ? " < > |
Added a tooltip to the profile name text box.

------------------------------------------------------------------------
r24243 | stig | 2008-02-01 10:42:59 -0800 (Fri, 01 Feb 2008) | 3 lines
Changed paths:
   M /trunk/gtk/profile_dlg.c

Disallow ending space was not such a good idea, chop it of before save instead.
Also disallow '/' in profilename for !win32. 

------------------------------------------------------------------------
r24244 | sake | 2008-02-02 01:21:09 -0800 (Sat, 02 Feb 2008) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pppoe.c

Fix for bug 2202, when an ethernet frame with padding is encountered, the
reported length is 46, so there was a one-off error in the code.


------------------------------------------------------------------------
r24245 | jake | 2008-02-02 08:30:46 -0800 (Sat, 02 Feb 2008) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c

From Alan McBride:
The decoding of a SubscribeCOVProperty packet is not properly decoding the
Monitored Property Identifier field. It leaves a number of decoded bytes at the
end as data.
------------------------------------------------------------------------
r24246 | jake | 2008-02-02 08:41:12 -0800 (Sat, 02 Feb 2008) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-jpeg.c

From Peter Kjellerstedt:
I was capturing an RTP stream the other day which contained JPEG images
streamed according to RFC 2435. However, Wireshark reported them as malformed.
After some debugging of the Wireshark code it turned out that the decoding of
JPEG images which contain a quantization table was incorrect. I have attached a
patch to correct the decoding.
------------------------------------------------------------------------
r24247 | stig | 2008-02-02 09:13:30 -0800 (Sat, 02 Feb 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-quakeworld.c

Rewrote strcat -> strncat, and fixed to show more than the last remaining
Cmd_Argv value for Remote Command.

------------------------------------------------------------------------
r24248 | stig | 2008-02-02 09:17:16 -0800 (Sat, 02 Feb 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fmp.c

Fixed a possible buffer overflow in dissect_fmp_flushCmd() when cmd has
all bits set.

------------------------------------------------------------------------
r24249 | stig | 2008-02-02 09:25:40 -0800 (Sat, 02 Feb 2008) | 3 lines
Changed paths:
   M /trunk/asn1/ansi_map/packet-ansi_map-template.c
   M /trunk/asn1/h450-ros/h450-ros.cnf
   M /trunk/asn1/q932-ros/q932-ros.cnf
   M /trunk/epan/dissectors/packet-afs.c
   M /trunk/epan/dissectors/packet-ansi_map.c
   M /trunk/epan/dissectors/packet-ansi_map.h
   M /trunk/epan/dissectors/packet-bthci_cmd.c
   M /trunk/epan/dissectors/packet-bthci_evt.c
   M /trunk/epan/dissectors/packet-clnp.c
   M /trunk/epan/dissectors/packet-cops.c
   M /trunk/epan/dissectors/packet-dcom.c
   M /trunk/epan/dissectors/packet-gtp.c
   M /trunk/epan/dissectors/packet-h450-ros.c
   M /trunk/epan/dissectors/packet-mgcp.c
   M /trunk/epan/dissectors/packet-nbns.c
   M /trunk/epan/dissectors/packet-ncp-sss.c
   M /trunk/epan/dissectors/packet-nfs.c
   M /trunk/epan/dissectors/packet-q932-ros.c
   M /trunk/epan/dissectors/packet-smb-common.c
   M /trunk/epan/dissectors/packet-sqloracle.c
   M /trunk/epan/dissectors/packet-srvloc.c
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/epan/dissectors/packet-telnet.c
   M /trunk/epan/dissectors/packet-tpncp.c

Rewrote some prohibited APIs in epan/dissectors/ (sprintf, strcpy, strcat).
If we get some truncated strings we probably overwrote some buffers...

------------------------------------------------------------------------
r24250 | etxrab | 2008-02-03 01:51:57 -0800 (Sun, 03 Feb 2008) | 1 line
Changed paths:
   M /trunk/asn1/ranap/RANAP-CommonDataTypes.asn
   M /trunk/asn1/ranap/RANAP-Constants.asn
   M /trunk/asn1/ranap/RANAP-Containers.asn
   M /trunk/asn1/ranap/RANAP-IEs.asn
   M /trunk/asn1/ranap/RANAP-PDU-Contents.asn
   M /trunk/asn1/ranap/RANAP-PDU-Descriptions.asn
   M /trunk/asn1/ranap/ranap.cnf
   M /trunk/epan/dissectors/packet-ranap.c

Update asn1 files to GPP TS 25.413 V7.8.0 (2008-01).
------------------------------------------------------------------------
r24251 | etxrab | 2008-02-03 02:07:42 -0800 (Sun, 03 Feb 2008) | 1 line
Changed paths:
   M /trunk/asn1/dap/packet-dap-template.c
   M /trunk/epan/dissectors/packet-dap.c

Get rid of some warnings.
------------------------------------------------------------------------
r24252 | sake | 2008-02-03 02:31:55 -0800 (Sun, 03 Feb 2008) | 8 lines
Changed paths:
   M /trunk/Makefile.common
   M /trunk/doc/tshark.pod
   M /trunk/gtk/rtp_analysis.c
   M /trunk/gtk/rtp_stream.c
   M /trunk/tshark.c

From Balint Reczey (bug 2233):

The attached patch makes the Statistics -> RTP -> Show All Streams feature of
wireshark accessible via tshark.

I found it helpful in dealing with tons of RTP captures.


------------------------------------------------------------------------
r24253 | guy | 2008-02-03 04:36:37 -0800 (Sun, 03 Feb 2008) | 2 lines
Changed paths:
   A /trunk/tap-rtp-common.c
   A /trunk/tap-rtp-common.h

Add the missing files from Balint Reczey's patch for bug 2233.

------------------------------------------------------------------------
r24254 | guy | 2008-02-03 05:12:43 -0800 (Sun, 03 Feb 2008) | 2 lines
Changed paths:
   A /trunk/tap-rtp.c

One more missing file from Balint Reczey's patch for bug 2233.

------------------------------------------------------------------------
r24255 | guy | 2008-02-03 05:13:17 -0800 (Sun, 03 Feb 2008) | 2 lines
Changed paths:
   M /trunk/tap-rtp.c

Give it an RCS ID.

------------------------------------------------------------------------
r24256 | etxrab | 2008-02-03 05:47:50 -0800 (Sun, 03 Feb 2008) | 1 line
Changed paths:
   M /trunk/asn1/nbap/NBAP-CommonDataTypes.asn
   M /trunk/asn1/nbap/NBAP-Constants.asn
   M /trunk/asn1/nbap/NBAP-Containers.asn
   M /trunk/asn1/nbap/NBAP-IEs.asn
   M /trunk/asn1/nbap/NBAP-PDU-Contents.asn
   M /trunk/asn1/nbap/NBAP-PDU-Descriptions.asn
   M /trunk/asn1/nbap/nbap.cnf
   M /trunk/epan/dissectors/packet-nbap.c

Update asn1 files to 3GPP TS 25.433 V7.7.0 (2007-12)
------------------------------------------------------------------------
r24257 | stig | 2008-02-03 06:44:21 -0800 (Sun, 03 Feb 2008) | 2 lines
Changed paths:
   M /trunk/tap-rtp.c

Removed C++ style comments.

------------------------------------------------------------------------
r24258 | stig | 2008-02-03 07:38:20 -0800 (Sun, 03 Feb 2008) | 2 lines
Changed paths:
   M /trunk/editcap.c
   M /trunk/epan/dissectors/packet-cops.c
   M /trunk/epan/filesystem.c
   M /trunk/epan/prefs.c
   M /trunk/print.c
   M /trunk/strerror.c
   M /trunk/tap-afpstat.c
   M /trunk/tap-bootpstat.c
   M /trunk/tap-camelcounter.c
   M /trunk/tap-camelsrt.c
   M /trunk/tap-dcerpcstat.c
   M /trunk/tap-h225counter.c
   M /trunk/tap-h225rassrt.c
   M /trunk/tap-httpstat.c
   M /trunk/tap-iostat.c
   M /trunk/tap-mgcpstat.c
   M /trunk/tap-protohierstat.c
   M /trunk/tap-radiusstat.c
   M /trunk/tap-rpcstat.c
   M /trunk/tap-sctpchunkstat.c
   M /trunk/tap-smbstat.c
   M /trunk/tap-wspstat.c
   M /trunk/tempfile.c
   M /trunk/text2pcap.c
   M /trunk/tshark.c
   M /trunk/util.c
   M /trunk/wiretap/catapult_dct2000.c
   M /trunk/wiretap/network_instruments.c
   M /trunk/wiretap/visual.c
   M /trunk/wiretap/wtap.c

More rewrite of prohibited APIs (sprintf, strcpy, strcat).

------------------------------------------------------------------------
r24259 | stig | 2008-02-03 07:49:22 -0800 (Sun, 03 Feb 2008) | 2 lines
Changed paths:
   M /trunk/epan/filesystem.c

Ups, fix a typo from last checkin.

------------------------------------------------------------------------
r24260 | stig | 2008-02-03 08:03:33 -0800 (Sun, 03 Feb 2008) | 2 lines
Changed paths:
   M /trunk/editcap.c

snprintf -> g_snprintf

------------------------------------------------------------------------
r24261 | stig | 2008-02-03 08:03:53 -0800 (Sun, 03 Feb 2008) | 2 lines
Changed paths:
   M /trunk/tap-rtp-common.c

Add #include <math.h>

------------------------------------------------------------------------
r24262 | stig | 2008-02-03 13:04:01 -0800 (Sun, 03 Feb 2008) | 14 lines
Changed paths:
   M /trunk/epan/dissectors/packet-btl2cap.c

From Shane Kearns (bug 2239):
L2CAP dissector is missing retransmission & flow control modes (these were
introduces in BT 1.2 specification)
Configuration commands were not fully decoded because of a bigend/littleend
issue
L2CAP commands had the wrong length set to the protocol tree by reading from
the wrong buffer offset
Also the dissect_options() function consumes all remaining data in the L2CAP
packet, which prevents decoding of other commands which follow a config
request/config response in the same packet.

From me:
Mark an unused parameter.

------------------------------------------------------------------------
r24263 | stig | 2008-02-03 13:11:53 -0800 (Sun, 03 Feb 2008) | 25 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-bthci_acl.c
   M /trunk/epan/dissectors/packet-bthci_cmd.c
   M /trunk/epan/dissectors/packet-bthci_evt.c
   M /trunk/epan/dissectors/packet-bthci_sco.c
   M /trunk/epan/dissectors/packet-btsdp.c
   M /trunk/epan/dissectors/packet-frame.c
   A /trunk/epan/dissectors/packet-hci_h1.c
   A /trunk/epan/dissectors/packet-hci_h1.h
   M /trunk/wiretap/Makefile.common
   A /trunk/wiretap/btsnoop.c
   A /trunk/wiretap/btsnoop.h
   M /trunk/wiretap/file_access.c
   M /trunk/wiretap/wtap.h

From Shane Kearns (bug 2237):
Added support for Symbian OS btsnoop.

The bluetooth HCI layer in Symbian OS can be configured to log all packets to a
file.  The log format, "btsnoop" is based on the RFC1761 "snoop" format - but
differences in the header make it incompatible.

The btsnoop format supports logging of these formats:
"H1" (raw HCI packets without framing)
"H4" (HCI UART packets including packet type header)
"H5" (HCI 3 wire UART packets including framing)
"BCSP" (HCI bluecore serial protocol including framing)

"H1" and "H4" are section numbers in the original v1 bluetooth specifications,
but still used colloquially - wireshark's existing support for Linux bluez HCI
logs uses the "H4" name.

In practice, the "H1" format is used for H5,BCSP and USB HCI logs, as the HCI
packet logs are mainly useful for debugging higher layers, bluetooth profiles
and bluetooth applications.

From me:
Deleted some unused prototypes.
Mark an unused parameter.

------------------------------------------------------------------------
r24264 | martinm | 2008-02-03 15:04:04 -0800 (Sun, 03 Feb 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Add mapping for s1ap_r8.
------------------------------------------------------------------------
r24265 | wmeier | 2008-02-03 16:11:59 -0800 (Sun, 03 Feb 2008) | 2 lines
Changed paths:
   M /trunk/gtk/main.c

Fix benign typo

------------------------------------------------------------------------
r24266 | wmeier | 2008-02-03 16:21:20 -0800 (Sun, 03 Feb 2008) | 2 lines
Changed paths:
   M /trunk/gtk/main.c

Clean up (some) indentation ...

------------------------------------------------------------------------
r24267 | stig | 2008-02-04 03:56:30 -0800 (Mon, 04 Feb 2008) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-btsdp.c

From Shane Kearns (bug 2242):
1) update SDP dissector with new IDs from assigned numbers document
   https://www.bluetooth.org/apps/content/default.aspx?doc_id=49709
2) decode attribute IDs in an "attribute ID list" parameter (previously it
   showed raw number only)
3) removed some duplicate entries in vs_service_classes

------------------------------------------------------------------------
r24268 | stig | 2008-02-04 07:50:17 -0800 (Mon, 04 Feb 2008) | 3 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_customize.xml
   M /trunk/gtk/profile_dlg.c

Improved the profile name check to popup a dialog when trying to apply an
invalid profile name.

------------------------------------------------------------------------
r24269 | stig | 2008-02-04 07:54:53 -0800 (Mon, 04 Feb 2008) | 2 lines
Changed paths:
   M /trunk/wiretap/Makefile.common

Added btsnoop.h

------------------------------------------------------------------------
r24270 | etxrab | 2008-02-04 22:10:34 -0800 (Mon, 04 Feb 2008) | 1 line
Changed paths:
   M /trunk/asn1/gsmmap/MAP-ApplicationContexts.asn
   M /trunk/asn1/gsmmap/MAP-BS-Code.asn
   M /trunk/asn1/gsmmap/MAP-CH-DataTypes.asn
   M /trunk/asn1/gsmmap/MAP-CallHandlingOperations.asn
   M /trunk/asn1/gsmmap/MAP-CommonDataTypes.asn
   M /trunk/asn1/gsmmap/MAP-DialogueInformation.asn
   M /trunk/asn1/gsmmap/MAP-ER-DataTypes.asn
   M /trunk/asn1/gsmmap/MAP-Errors.asn
   M /trunk/asn1/gsmmap/MAP-ExtensionDataTypes.asn
   M /trunk/asn1/gsmmap/MAP-GR-DataTypes.asn
   M /trunk/asn1/gsmmap/MAP-Group-Call-Operations.asn
   M /trunk/asn1/gsmmap/MAP-LCS-DataTypes.asn
   M /trunk/asn1/gsmmap/MAP-LocationServiceOperations.asn
   M /trunk/asn1/gsmmap/MAP-MS-DataTypes.asn
   M /trunk/asn1/gsmmap/MAP-MobileServiceOperations.asn
   M /trunk/asn1/gsmmap/MAP-OM-DataTypes.asn
   M /trunk/asn1/gsmmap/MAP-OperationAndMaintenanceOperations.asn
   M /trunk/asn1/gsmmap/MAP-Protocol.asn
   M /trunk/asn1/gsmmap/MAP-SM-DataTypes.asn
   M /trunk/asn1/gsmmap/MAP-SS-Code.asn
   M /trunk/asn1/gsmmap/MAP-SS-DataTypes.asn
   M /trunk/asn1/gsmmap/MAP-ShortMessageServiceOperations.asn
   M /trunk/asn1/gsmmap/MAP-SupplementaryServiceOperations.asn
   M /trunk/asn1/gsmmap/MAP-TS-Code.asn
   M /trunk/asn1/gsmmap/SS-DataTypes.asn
   M /trunk/asn1/gsmmap/SS-Errors.asn
   M /trunk/asn1/gsmmap/SS-Operations.asn
   M /trunk/asn1/gsmmap/SS-Protocol.asn
   M /trunk/asn1/gsmmap/packet-gsmmap-template.c
   M /trunk/epan/dissectors/packet-gsm_map.c

Update gsm map asn1 files to latest version.
------------------------------------------------------------------------
r24271 | wmeier | 2008-02-05 11:23:48 -0800 (Tue, 05 Feb 2008) | 2 lines
Changed paths:
   M /trunk/doc/README.plugins

From J.C. Wren (and Bill Meier): Updates to reflect current makefiles & etc

------------------------------------------------------------------------
r24272 | stig | 2008-02-05 13:31:18 -0800 (Tue, 05 Feb 2008) | 3 lines
Changed paths:
   M /trunk/text2pcap.c

From Michael McCartney (bug 2246):
Enhancement to allow dec option when parsing offset.

------------------------------------------------------------------------
r24273 | stig | 2008-02-05 13:40:12 -0800 (Tue, 05 Feb 2008) | 2 lines
Changed paths:
   M /trunk/doc/text2pcap.pod

Document the "-o dec" changes.

------------------------------------------------------------------------
r24274 | stig | 2008-02-05 14:30:32 -0800 (Tue, 05 Feb 2008) | 2 lines
Changed paths:
   M /trunk/plugins/agentx/packet-agentx.c
   M /trunk/plugins/artnet/packet-artnet.c
   M /trunk/plugins/asn1/packet-asn1.c
   M /trunk/plugins/enttec/packet-enttec.c
   M /trunk/plugins/ethercat/packet-ecatmb.c
   M /trunk/plugins/gryphon/packet-gryphon.c
   M /trunk/plugins/irda/packet-ircomm.c
   M /trunk/plugins/irda/packet-irda.c
   M /trunk/plugins/lwres/packet-lwres.c

Rewrote some prohibited APIs in plugins/ (sprintf, strcpy, strcat).

------------------------------------------------------------------------
r24275 | stig | 2008-02-06 04:01:48 -0800 (Wed, 06 Feb 2008) | 2 lines
Changed paths:
   M /trunk/editcap.c

Initialize filenamelen to avoid a warning.

------------------------------------------------------------------------
r24276 | stig | 2008-02-06 06:28:30 -0800 (Wed, 06 Feb 2008) | 9 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-scriptingservice.c

From Thomas Dreibholz (bug 2248):
Add a dissector for the Scripting Service Protocol provided as part of the
RSPLIB package.  RSPLIB is an Open Source implementation of the upcoming
Reliable Server Pooling standard.  The scripting service is an application
for load distribution, based on Reliable Server Pooling.

From me:
Shorten the protocol name to SSP.

------------------------------------------------------------------------
r24277 | stig | 2008-02-06 14:05:10 -0800 (Wed, 06 Feb 2008) | 2 lines
Changed paths:
   M /trunk/plugins/ethercat/packet-ethercat-datagram.c
   M /trunk/plugins/ethercat/packet-ethercat-datagram.h

Eliminate an anonymous struct, as noticed by Andrew Hood.

------------------------------------------------------------------------
r24278 | etxrab | 2008-02-06 14:20:10 -0800 (Wed, 06 Feb 2008) | 4 lines
Changed paths:
   M /trunk/diameter/dictionary.xml

From Grzegorz Szczytowski :
New Diameter AVP nr 299 has been added to /diameter/dictionary.xml base on RFC
3588
http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2247
------------------------------------------------------------------------
r24279 | wmeier | 2008-02-06 16:59:14 -0800 (Wed, 06 Feb 2008) | 2 lines
Changed paths:
   M /trunk/plugins/ethercat/packet-ams.h

Fix a (never used) 'anonymous struct'

------------------------------------------------------------------------
r24280 | stig | 2008-02-07 03:42:11 -0800 (Thu, 07 Feb 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-k12.c
   M /trunk/epan/dissectors/packet-tpncp.c
   M /trunk/wiretap/ascend.c

Corrected some types.

------------------------------------------------------------------------
r24281 | martinm | 2008-02-07 03:45:30 -0800 (Thu, 07 Feb 2008) | 2 lines
Changed paths:
   M /trunk/print.c

When generating PDML, insert a fake protocol wrapper around top-level field items.  This is to help preserve the PDML schema, and is discussed in bug 2226.

------------------------------------------------------------------------
r24282 | stig | 2008-02-07 04:14:40 -0800 (Thu, 07 Feb 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c
   M /trunk/epan/dissectors/packet-nbd.c
   M /trunk/epan/dissectors/packet-ssl.c
   M /trunk/epan/dissectors/packet-tacacs.c
   M /trunk/epan/dissectors/packet-tds.c
   M /trunk/epan/dissectors/packet-tipc.c
   M /trunk/epan/dissectors/packet-uma.c
   M /trunk/epan/dissectors/packet-wbxml.c
   M /trunk/epan/ftypes/ftype-string.c
   M /trunk/wiretap/erf.c
   M /trunk/wiretap/pcapng.c

Removed some "statement not reached" warnings.

------------------------------------------------------------------------
r24283 | stig | 2008-02-07 04:52:08 -0800 (Thu, 07 Feb 2008) | 2 lines
Changed paths:
   M /trunk/capture.c
   M /trunk/capture_opts.c
   M /trunk/gtk/capture_dlg.c
   M /trunk/gtk/mgcp_stat.c
   M /trunk/gtk/radius_stat.c
   M /trunk/gtk/tcp_graph.c
   M /trunk/tap-h225counter.c
   M /trunk/tap-h225rassrt.c
   M /trunk/tap-mgcpstat.c
   M /trunk/tap-radiusstat.c

Removed some more "statement not reached" warnings.

------------------------------------------------------------------------
r24284 | stig | 2008-02-07 07:05:42 -0800 (Thu, 07 Feb 2008) | 14 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cdp.c

Rewrote some "if(tree)" code inside a switch-case to avoid unused code 
(which did not work as expected).

switch(type) {
  case 1:
    ...
    break;
  if(tree) {
    case 2:
      ...
      break;
  }
}

------------------------------------------------------------------------
r24285 | stig | 2008-02-07 07:12:50 -0800 (Thu, 07 Feb 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cops.c

Removed a break which disabled some code.

------------------------------------------------------------------------
r24286 | stig | 2008-02-07 07:44:45 -0800 (Thu, 07 Feb 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bctp.c
   M /trunk/epan/dissectors/packet-beep.c
   M /trunk/epan/dissectors/packet-ber.c
   M /trunk/epan/dissectors/packet-bfd.c
   M /trunk/epan/dissectors/packet-bootp.c
   M /trunk/epan/dissectors/packet-bssap.c
   M /trunk/epan/dissectors/packet-bvlc.c
   M /trunk/epan/dissectors/packet-clnp.c
   M /trunk/epan/dissectors/packet-cpha.c
   M /trunk/epan/dissectors/packet-dcp.c
   M /trunk/epan/dissectors/packet-dns.c
   M /trunk/epan/dissectors/packet-enrp.c
   M /trunk/epan/dissectors/packet-fddi.c
   M /trunk/epan/dissectors/packet-ff.c
   M /trunk/epan/dissectors/packet-fmp.c
   M /trunk/epan/dissectors/packet-ftp.c
   M /trunk/epan/dissectors/packet-gsm_a.c
   M /trunk/epan/dissectors/packet-gsm_sms.c
   M /trunk/epan/dissectors/packet-h1.c
   M /trunk/epan/dissectors/packet-h223.c
   M /trunk/epan/dissectors/packet-h264.c
   M /trunk/epan/dissectors/packet-icap.c
   M /trunk/epan/dissectors/packet-icmpv6.c
   M /trunk/epan/dissectors/packet-imf.c
   M /trunk/epan/dissectors/packet-ip.c
   M /trunk/epan/dissectors/packet-iscsi.c
   M /trunk/epan/dissectors/packet-isup.c
   M /trunk/epan/dissectors/packet-juniper.c
   M /trunk/epan/dissectors/packet-megaco.c
   M /trunk/epan/dissectors/packet-ntlmssp.c
   M /trunk/epan/dissectors/packet-ppi.c
   M /trunk/epan/dissectors/packet-rsvp.c
   M /trunk/epan/dissectors/packet-sdp.c
   M /trunk/epan/dissectors/packet-sflow.c
   M /trunk/epan/dissectors/packet-slsk.c
   M /trunk/epan/dissectors/packet-smb-pipe.c
   M /trunk/epan/dissectors/packet-smb.c
   M /trunk/epan/ftypes/ftype-tvbuff.c

Removed even more "statement not reached" warnings.

------------------------------------------------------------------------
r24287 | guy | 2008-02-07 10:19:08 -0800 (Thu, 07 Feb 2008) | 8 lines
Changed paths:
   M /trunk/acinclude.m4

Only check for pcap_breakloop()'s "usability" if it might be present but
unusable; it'd only be unusable if we require that functions be declared
before they're used (i.e., if we check for that with -Wimplicit and if
we fail if the check produces a warning because we're using -Werror). 
Always checking doesn't necessarily work if, for example, you're not
compiling with GCC, as -Werror and -Wimplicit might not be recognized by
other compilers.

------------------------------------------------------------------------
r24288 | sfisher | 2008-02-07 21:45:46 -0800 (Thu, 07 Feb 2008) | 4 lines
Changed paths:
   M /trunk/epan/ftypes/ftype-integer.c


Fix typo in comment


------------------------------------------------------------------------
r24289 | sahlberg | 2008-02-08 01:20:02 -0800 (Fri, 08 Feb 2008) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc.c
   M /trunk/epan/dissectors/packet-dcerpc.h
   M /trunk/epan/dissectors/packet-kerberos.c

based on the novell idllib sources :

add dissection of the 16 byte header prior to the NDR data when NDR is 
transported as a blob ontop of !dcerpc
like the LOGON_INFO in the PAC in kerberos


------------------------------------------------------------------------
r24290 | stig | 2008-02-08 01:45:36 -0800 (Fri, 08 Feb 2008) | 3 lines
Changed paths:
   M /trunk/asn1/s1ap/packet-s1ap-template.c
   M /trunk/epan/crypt/wep-wpadefs.h
   M /trunk/epan/dfilter/sttype-function.h
   M /trunk/epan/dissectors/packet-bctp.c
   M /trunk/epan/dissectors/packet-cigi.c
   M /trunk/epan/dissectors/packet-dcp.h
   M /trunk/epan/dissectors/packet-drda.c
   M /trunk/epan/dissectors/packet-dtpt.c
   M /trunk/epan/dissectors/packet-erf.c
   M /trunk/epan/dissectors/packet-ieee8021ah.c
   M /trunk/epan/dissectors/packet-ieee8021ah.h
   M /trunk/epan/dissectors/packet-ncp-sss.c
   M /trunk/epan/dissectors/packet-ncp-sss.h
   M /trunk/epan/dissectors/packet-telkonet.c
   M /trunk/gtk/conversations_ncp.c
   M /trunk/gtk/conversations_rsvp.c
   M /trunk/gtk/follow_udp.c
   M /trunk/gtk/follow_udp.h
   M /trunk/gtk/hostlist_rsvp.c
   M /trunk/gtk/ncp_stat.c
   M /trunk/gtk/scsi_stat.c
   M /trunk/update.c

Added missing "svn:keywords Id" and "svn:eol-style native" for some
c and h files.

------------------------------------------------------------------------
r24291 | stig | 2008-02-08 04:33:26 -0800 (Fri, 08 Feb 2008) | 5 lines
Changed paths:
   M /trunk/gtk/Makefile.common
   M /trunk/gtk/conversations_table.c
   A /trunk/gtk/hostlist_sctp.c
   M /trunk/gtk/hostlist_table.c

Added SCTP Endpoints table.
Display port number in SCTP Conversations table.
Get correct display filter from SCTP Conversations.
Arrange Conversations and Endpoints tabs alphabetically.

------------------------------------------------------------------------
r24292 | stig | 2008-02-08 06:47:21 -0800 (Fri, 08 Feb 2008) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Add get_sctp_port to libwireshark.def

------------------------------------------------------------------------
r24293 | etxrab | 2008-02-08 08:32:12 -0800 (Fri, 08 Feb 2008) | 2 lines
Changed paths:
   M /trunk/diameter/dictionary.xml
   M /trunk/epan/dissectors/packet-gsm_a.c
   M /trunk/epan/dissectors/packet-gtp.c
   M /trunk/radius/dictionary.3gpp

- Add application Id:s to Diameter
- Further dissect 3GPP Radius AVP:s.
------------------------------------------------------------------------
r24294 | sfisher | 2008-02-08 17:09:05 -0800 (Fri, 08 Feb 2008) | 4 lines
Changed paths:
   M /trunk/gtk/ansi_a_stat.c
   M /trunk/gtk/ansi_map_stat.c
   M /trunk/gtk/gsm_a_stat.c


Fix for bug #2250


------------------------------------------------------------------------
r24295 | wmeier | 2008-02-09 15:35:28 -0800 (Sat, 09 Feb 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-nt.c
   M /trunk/epan/dissectors/packet-sccp.c
   M /trunk/epan/dissectors/packet-sctp.c
   M /trunk/wiretap/5views.c
   M /trunk/wiretap/iseries.c
   M /trunk/wiretap/wtap-int.h

Fix (Sun) compiler warnings as reported by David Kirkby: Part 1

------------------------------------------------------------------------
r24296 | guy | 2008-02-10 10:29:05 -0800 (Sun, 10 Feb 2008) | 15 lines
Changed paths:
   M /trunk/wiretap/ngsniffer.c
   M /trunk/wiretap/wtap-int.h

Do the time calculations with 64-bit integers, rather than in floating
point, so we don't have issues with numbers not being exactly
representable; that makes it less likely that the change described below
will change a time stamp if it's not fixing the time stamp (i.e., if
time_day is 0).

The Sniffer manual "Expert Sniffer(R) Network Analyzer Operations,
Release 5.50" says that a frame2_rec has a time stamp with an 8-bit
time_high field and an 8-bit time_day field.  Interpreting the time
stamp that way fixes the time stamps in at least some captures; see, for
example, bug 2251.

Fix/update some comments (for example, the Sniffer documentation is no
longer at that URL).

------------------------------------------------------------------------
r24297 | guy | 2008-02-10 13:38:52 -0800 (Sun, 10 Feb 2008) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mtp3.h
   M /trunk/epan/dissectors/packet-sccp.c

The type field of an mtp3_addr_pc_t is a "which SS7 standard is this?"
type, not a "how do I format addresses?" type; declare it as such, and
remove the comment that pointed out that the type field had the wrong
(C) type.

------------------------------------------------------------------------
r24298 | wmeier | 2008-02-10 17:41:49 -0800 (Sun, 10 Feb 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-edonkey.c

Fix one add'tl warning as reported by David Kirkby

------------------------------------------------------------------------
r24299 | stig | 2008-02-11 03:06:35 -0800 (Mon, 11 Feb 2008) | 2 lines
Changed paths:
   M /trunk/gtk/conversations_table.c
   M /trunk/gtk/hostlist_table.c

Avoid double space in filter when creating from conversations and endpoints.

------------------------------------------------------------------------
r24300 | stig | 2008-02-11 05:15:48 -0800 (Mon, 11 Feb 2008) | 4 lines
Changed paths:
   M /trunk/gtk/hostlist_ncp.c
   M /trunk/gtk/sctp_chunk_stat.c

Fixed setting filter in SCTP Chunk Counter statistics.
Fixed setting filter in NCP Endpoints.
Corrected $Id$ in hostlist_ncp.c

------------------------------------------------------------------------
r24301 | wmeier | 2008-02-11 09:04:51 -0800 (Mon, 11 Feb 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dtls.c
   M /trunk/epan/dissectors/packet-h223.c
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/epan/dissectors/packet-ssl.c

A few minor pedantic fixes ....

------------------------------------------------------------------------
r24302 | wmeier | 2008-02-11 10:43:15 -0800 (Mon, 11 Feb 2008) | 2 lines
Changed paths:
   M /trunk/epan/emem.c

A few more pedantic fixes ...

------------------------------------------------------------------------
r24303 | gerald | 2008-02-11 11:18:02 -0800 (Mon, 11 Feb 2008) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c

Windows (confirmed with Vista, XP, and 98) sends the "secs" value as a
little-endian value. Add a check and format the value accordingly. Fix up
whitespace.

------------------------------------------------------------------------
r24304 | gerald | 2008-02-11 11:20:10 -0800 (Mon, 11 Feb 2008) | 3 lines
Changed paths:
   M /trunk/gtk/main.c

Wireshark occasionally starts up behind other applications. Bring it to the
front.

------------------------------------------------------------------------
r24305 | etxrab | 2008-02-11 13:12:26 -0800 (Mon, 11 Feb 2008) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml
   M /trunk/diameter/etsie2e4.xml
   M /trunk/diameter/nasreq.xml

Updates according to ETSI ES 283 026 V1.6.0 (2008-02)
------------------------------------------------------------------------
r24306 | etxrab | 2008-02-11 13:24:45 -0800 (Mon, 11 Feb 2008) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml

Clean up a bit.
------------------------------------------------------------------------
r24307 | stig | 2008-02-11 16:24:49 -0800 (Mon, 11 Feb 2008) | 2 lines
Changed paths:
   M /trunk/wiretap/ngsniffer.c

Add a cast.

------------------------------------------------------------------------
r24308 | sfisher | 2008-02-11 19:16:09 -0800 (Mon, 11 Feb 2008) | 8 lines
Changed paths:
   M /trunk/epan/column-utils.c
   M /trunk/epan/column-utils.h
   M /trunk/epan/column.c
   M /trunk/epan/column_info.h
   M /trunk/epan/proto.c
   M /trunk/file.c


Introduce a new column type called custom, which lets you put any display
filter name in the description field and it will display that field in the
packet list if it occurs in that packet.  Note that the more common fields
are implemented, but a number of them remain to be implemented in
epan/proto.c.  I will work on these other fields as I have time.


------------------------------------------------------------------------
r24309 | sfisher | 2008-02-12 00:09:22 -0800 (Tue, 12 Feb 2008) | 5 lines
Changed paths:
   M /trunk/epan/column-utils.c
   M /trunk/epan/column-utils.h
   M /trunk/epan/column.c
   M /trunk/epan/column_info.h
   M /trunk/epan/proto.c
   M /trunk/file.c


Revert commit 24308 until I can get it to compile on Windows/Linux/Solaris
(strangely, it compiled fine on my MacOS X machine).


------------------------------------------------------------------------
r24310 | stig | 2008-02-12 06:17:18 -0800 (Tue, 12 Feb 2008) | 2 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/epan/dissectors/packet-ieee80211.h
   M /trunk/gtk/Makefile.common
   A /trunk/gtk/wlan_stat_dlg.c

Added WLAN Traffic Statistics dialog.

------------------------------------------------------------------------
r24311 | stig | 2008-02-12 07:18:01 -0800 (Tue, 12 Feb 2008) | 2 lines
Changed paths:
   M /trunk/gtk/wlan_stat_dlg.c

Fixed an incorrect free loop.

------------------------------------------------------------------------
r24312 | etxrab | 2008-02-12 12:45:59 -0800 (Tue, 12 Feb 2008) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml
   M /trunk/diameter/etsie2e4.xml
   M /trunk/diameter/gqpolicy.xml

As we don't destinguish between the application ID's avoid duplicated entries.
------------------------------------------------------------------------
r24313 | etxrab | 2008-02-12 13:08:15 -0800 (Tue, 12 Feb 2008) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml

Restore edits lost in previous checkin.
------------------------------------------------------------------------
r24314 | stig | 2008-02-12 16:31:54 -0800 (Tue, 12 Feb 2008) | 2 lines
Changed paths:
   M /trunk/gtk/wlan_stat_dlg.c

Do not update window title when destroying the dialog.

------------------------------------------------------------------------
r24315 | gerald | 2008-02-12 17:18:40 -0800 (Tue, 12 Feb 2008) | 5 lines
Changed paths:
   M /trunk/gtk/filter_dlg.c
   M /trunk/gtk/main.c

Add a priority level to each context in the info status bar. Use it to make
sure we don't overwrite filter status messages during live captures.

When "!=" is used in a display filter, point the user to the User's Guide.

------------------------------------------------------------------------
r24316 | gerald | 2008-02-12 20:10:20 -0800 (Tue, 12 Feb 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Replace a g_snprintf() with a strncpy(). Fixes bugs 2260 to 2262.

------------------------------------------------------------------------
r24317 | sfisher | 2008-02-12 21:05:33 -0800 (Tue, 12 Feb 2008) | 12 lines
Changed paths:
   M /trunk/epan/column-utils.c
   M /trunk/epan/column-utils.h
   M /trunk/epan/column.c
   M /trunk/epan/column_info.h
   M /trunk/epan/libwireshark.def
   M /trunk/epan/proto.c
   M /trunk/file.c


Check in changes originally checked in as SVN revision 24308 (new column
type: Custom) that were backed out in SVN revision 24309.

Changes since that revision include a reworking of the handling of the
cfile/cinfo variables in epan/column-utils.c, addition of three new
functions to libwireshark.def and a bug fix to prevent a crash when no
custom columns were not in use.

Compilation verified locally on MacOS X, Linux and Windows.


------------------------------------------------------------------------
r24318 | sfisher | 2008-02-12 21:28:27 -0800 (Tue, 12 Feb 2008) | 5 lines
Changed paths:
   M /trunk/doc/README.packaging


Remove mention of tshark being installed setuid root as it now uses dumpcap.
Also realign the following few sentences.


------------------------------------------------------------------------
r24319 | jake | 2008-02-13 09:21:34 -0800 (Wed, 13 Feb 2008) | 3 lines
Changed paths:
   M /trunk/wka.tmpl

Fix for bug 2259:
Add a line to map MAC addresses 01:00:5E/25 to IPv4 multicast.

------------------------------------------------------------------------
r24320 | jake | 2008-02-13 09:34:05 -0800 (Wed, 13 Feb 2008) | 2 lines
Changed paths:
   M /trunk/epan/etypes.h

Add SERCOS ethertype for upcoming dissector.

------------------------------------------------------------------------
r24321 | sahlberg | 2008-02-13 18:36:43 -0800 (Wed, 13 Feb 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb2.c
   M /trunk/epan/dissectors/packet-smb2.h

fixup SMB2 header and decode async commands correctly


------------------------------------------------------------------------
r24322 | sahlberg | 2008-02-13 19:38:29 -0800 (Wed, 13 Feb 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb2.c

update dissection of negprot


------------------------------------------------------------------------
r24323 | sahlberg | 2008-02-13 20:16:11 -0800 (Wed, 13 Feb 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb2.c

fixup sessionsetup


------------------------------------------------------------------------
r24324 | sahlberg | 2008-02-13 20:19:51 -0800 (Wed, 13 Feb 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb2.c

fixup sessionlogoff


------------------------------------------------------------------------
r24325 | sahlberg | 2008-02-13 21:13:29 -0800 (Wed, 13 Feb 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb2.c

fixup tree connect


------------------------------------------------------------------------
r24326 | sahlberg | 2008-02-13 21:15:20 -0800 (Wed, 13 Feb 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb2.c

fixum tree disconnect


------------------------------------------------------------------------
r24327 | sahlberg | 2008-02-13 22:08:11 -0800 (Wed, 13 Feb 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb2.c

fixup and improve create


------------------------------------------------------------------------
r24328 | sfisher | 2008-02-13 22:10:54 -0800 (Wed, 13 Feb 2008) | 4 lines
Changed paths:
   M /trunk/epan/proto.c


Add/fix a few calls to col_custom_set_fstr() for custom columns.


------------------------------------------------------------------------
r24329 | stig | 2008-02-14 01:33:57 -0800 (Thu, 14 Feb 2008) | 3 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_statistics.xml
   M /trunk/gtk/help_dlg.c
   M /trunk/gtk/help_dlg.h
   M /trunk/gtk/wlan_stat_dlg.c

Added option to turn off name resolution.
Added help button (documentation TBD).

------------------------------------------------------------------------
r24330 | wmeier | 2008-02-14 09:16:12 -0800 (Thu, 14 Feb 2008) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.nmake
   M /trunk/epan/Makefile.nmake
   M /trunk/packaging/nsis/Makefile.nmake

Glib >= 2.14.5 does not require iconv

------------------------------------------------------------------------
r24331 | wmeier | 2008-02-14 09:24:14 -0800 (Thu, 14 Feb 2008) | 2 lines
Changed paths:
   M /trunk/config.nmake

Clarify wording slightly ....

------------------------------------------------------------------------
r24332 | gerald | 2008-02-14 15:10:29 -0800 (Thu, 14 Feb 2008) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cops.c

Initialize a tvb, so that we don't crash. Fix up whitespace.

------------------------------------------------------------------------
r24333 | wmeier | 2008-02-14 19:09:07 -0800 (Thu, 14 Feb 2008) | 2 lines
Changed paths:
   M /trunk/packaging/nsis/wireshark.nsi

iconv is now  not normally used;

------------------------------------------------------------------------
r24334 | wmeier | 2008-02-14 19:12:52 -0800 (Thu, 14 Feb 2008) | 2 lines
Changed paths:
   M /trunk/packaging/nsis/wireshark.nsi

(Use ifdef not IFDEF for consistency)

------------------------------------------------------------------------
r24335 | sake | 2008-02-15 05:02:43 -0800 (Fri, 15 Feb 2008) | 3 lines
Changed paths:
   M /trunk/tshark.c

Make -c work properly in tshark when a read filter is used.


------------------------------------------------------------------------
r24336 | ashokn | 2008-02-15 09:18:29 -0800 (Fri, 15 Feb 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtcp.c

Added RTCP Feedback NAK PLI dissectors.


------------------------------------------------------------------------
r24337 | gerald | 2008-02-15 14:35:09 -0800 (Fri, 15 Feb 2008) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Add fvalue_string_repr_len.

------------------------------------------------------------------------
r24338 | gerald | 2008-02-15 14:36:24 -0800 (Fri, 15 Feb 2008) | 7 lines
Changed paths:
   M /trunk/doc/wireshark.pod
   M /trunk/docbook/wsug_src/WSUG_chapter_customize.xml
   M /trunk/epan/prefs.c
   M /trunk/epan/uat.c
   M /trunk/epan/uat.h
   M /trunk/epan/uat_load.l

Extend the UAT and preferences code so that you can use the "-o" flag
to override UAT entries from the command line, e.g.

  -o "uat:user_dlts:\"User 0 (DLT=147)\",\"http\",\"0\",\"\",\"0\",\"\""
  
Fix up white space.

------------------------------------------------------------------------
r24339 | gerald | 2008-02-15 15:20:32 -0800 (Fri, 15 Feb 2008) | 5 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/Makefile.am
   M /trunk/Makefile.common
   M /trunk/Makefile.nmake
   M /trunk/doc/Makefile.am
   M /trunk/doc/Makefile.nmake
   A /trunk/doc/rawshark.pod
   M /trunk/image/Makefile.nmake
   A /trunk/image/rawshark.rc.in
   M /trunk/packaging/nsis/wireshark.nsi
   A /trunk/rawshark.c

Add rawshark, a utility that, when given raw pcap-formatted packets and
a list of fields, prints the field values found in each packet.

Packet data can be specified as a libpcap DLT, e.g. "EN10MB" or an upper-layer protocol, e.g. "http".

------------------------------------------------------------------------
r24340 | gerald | 2008-02-15 17:00:01 -0800 (Fri, 15 Feb 2008) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.in
   M /trunk/rawshark.c

Fix compilation on non-Windows systems.

------------------------------------------------------------------------
r24341 | gerald | 2008-02-15 17:33:48 -0800 (Fri, 15 Feb 2008) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tftp.c

Format our text before displaying it. This keeps Wireshark from crashing on
Ubuntu 7.10 and possibly other platforms.

------------------------------------------------------------------------
r24342 | guy | 2008-02-15 18:19:31 -0800 (Fri, 15 Feb 2008) | 3 lines
Changed paths:
   M /trunk/Makefile.common

Remove from rawshark_SOURCES some files that rawshark doesn't appear to
need.

------------------------------------------------------------------------
r24343 | guy | 2008-02-15 18:20:56 -0800 (Fri, 15 Feb 2008) | 2 lines
Changed paths:
   M /trunk/Makefile.common

rawshark doesn't appear to need pcapio.c, either.

------------------------------------------------------------------------
r24344 | guy | 2008-02-15 18:31:31 -0800 (Fri, 15 Feb 2008) | 3 lines
Changed paths:
   M /trunk/rawshark.c

Now that we're no longer linking with capture_info.c, etc., we don't
need a bunch of dummy routines.

------------------------------------------------------------------------
r24345 | guy | 2008-02-15 18:39:58 -0800 (Fri, 15 Feb 2008) | 5 lines
Changed paths:
   M /trunk/Makefile.common
   D /trunk/capture_loop.c
   D /trunk/capture_loop.h
   M /trunk/capture_sync.h
   M /trunk/dumpcap.c

Pull capture_loop.c into dumpcap.c, as dumpcap is the only program that
does capturing any more.  (We will be inserting a call to give up
privileges after the pcap_open_live(), which should fix 2273; we're
currently only giving up privileges on platforms with libcap.)

------------------------------------------------------------------------
r24346 | guy | 2008-02-15 18:42:52 -0800 (Fri, 15 Feb 2008) | 2 lines
Changed paths:
   M /trunk

Ignore rawshark and its documentation in SVN.

------------------------------------------------------------------------
r24347 | guy | 2008-02-15 19:18:36 -0800 (Fri, 15 Feb 2008) | 10 lines
Changed paths:
   M /trunk/dumpcap.c

If we don't have libcap, relinquish special privileges just after
opening the capture device.  That somewhat fixes bug 2273, although the
second and subsequent files don't have the right group ownership,
probably because of the problem described in the comment before
relinquish_special_privs_perm().

We should also relinquish special privileges *before* trying to open the
capture pipe, so that we can't open a pipe to which the real user
doesn't have access.

------------------------------------------------------------------------
r24348 | guy | 2008-02-15 23:52:16 -0800 (Fri, 15 Feb 2008) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_customize.xml

Fix(?) nesting of <para> tags.

------------------------------------------------------------------------
r24349 | sfisher | 2008-02-16 00:07:07 -0800 (Sat, 16 Feb 2008) | 5 lines
Changed paths:
   M /trunk/wiretap/pcapng.c


Change if_tsaccur to if_tsresol and change timestamp reading/writing
routines to correctly follow the clarified PcapNg standard document.


------------------------------------------------------------------------
r24350 | guy | 2008-02-16 00:09:56 -0800 (Sat, 16 Feb 2008) | 4 lines
Changed paths:
   M /trunk/dumpcap.c

Directly call capture_loop_packet_cb(), rather than making a pointer to
the callback function part of the loop_data structure - we always call
capture_loop_packet_cb().

------------------------------------------------------------------------
r24351 | guy | 2008-02-16 00:38:23 -0800 (Sat, 16 Feb 2008) | 3 lines
Changed paths:
   M /trunk/dumpcap.c

One include of epan/unicode-utils.h suffices - and the routines it
declares are called only on Windows.

------------------------------------------------------------------------
r24352 | guy | 2008-02-16 00:44:33 -0800 (Sat, 16 Feb 2008) | 3 lines
Changed paths:
   M /trunk/dumpcap.c

dumpcap doesn't need stuff declared in capture.h; it just needs what's
declared in capture_opts.h.

------------------------------------------------------------------------
r24353 | stig | 2008-02-16 03:52:56 -0800 (Sat, 16 Feb 2008) | 3 lines
Changed paths:
   M /trunk/wiretap/pcapng.c

Cast secs and nsecs correct.
Fixed some indentation.

------------------------------------------------------------------------
r24354 | etxrab | 2008-02-16 07:52:42 -0800 (Sat, 16 Feb 2008) | 2 lines
Changed paths:
   A /trunk/asn1/pcap
   A /trunk/asn1/pcap/Makefile.am
   A /trunk/asn1/pcap/Makefile.common
   A /trunk/asn1/pcap/Makefile.nmake
   A /trunk/asn1/pcap/PCAP-CommonDataTypes.asn
   A /trunk/asn1/pcap/PCAP-Constants.asn
   A /trunk/asn1/pcap/PCAP-Containers.asn
   A /trunk/asn1/pcap/PCAP-IEs.asn
   A /trunk/asn1/pcap/PCAP-PDU-Contents.asn
   A /trunk/asn1/pcap/PCAP-PDU-Descriptions.asn
   A /trunk/asn1/pcap/packet-pcap-template.c
   A /trunk/asn1/pcap/pcap.cnf

Add basic files  for a UTRAN Iupc interface Positioning Calculation Application Part (PCAP)
dissector.
------------------------------------------------------------------------
r24355 | etxrab | 2008-02-16 07:55:25 -0800 (Sat, 16 Feb 2008) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml
   M /trunk/diameter/gqpolicy.xml

Minor AVP edits.
------------------------------------------------------------------------
r24356 | stig | 2008-02-16 08:18:11 -0800 (Sat, 16 Feb 2008) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_customize.xml

Remove a </para>

------------------------------------------------------------------------
r24357 | etxrab | 2008-02-16 08:35:49 -0800 (Sat, 16 Feb 2008) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.nmake
   M /trunk/packaging/nsis/wireshark.nsi
   M /trunk/tools/win32-setup.sh

Use gtk+ 2.12.8 glib 2.12.6-2 and pcre 7.0.
( Problem seemed to be with pxbuffloaders).
------------------------------------------------------------------------
r24358 | stig | 2008-02-16 08:40:36 -0800 (Sat, 16 Feb 2008) | 3 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Click in the IO Graph to select the first package in the selected interval.
Click button 3 to select the last package.

------------------------------------------------------------------------
r24359 | stig | 2008-02-16 09:00:08 -0800 (Sat, 16 Feb 2008) | 2 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Cast a double to guint32.

------------------------------------------------------------------------
r24360 | etxrab | 2008-02-16 09:04:59 -0800 (Sat, 16 Feb 2008) | 1 line
Changed paths:
   M /trunk/asn1/gsmmap/packet-gsmmap-template.c
   M /trunk/epan/dissectors/packet-gsm_map.c

Add map operation 49.
------------------------------------------------------------------------
r24361 | stig | 2008-02-16 09:19:09 -0800 (Sat, 16 Feb 2008) | 2 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Corrected previous cast.

------------------------------------------------------------------------
r24362 | gerald | 2008-02-16 09:29:11 -0800 (Sat, 16 Feb 2008) | 2 lines
Changed paths:
   M /trunk/doc/rawshark.pod

Remove extra copies of the content.

------------------------------------------------------------------------
r24363 | guy | 2008-02-16 11:15:10 -0800 (Sat, 16 Feb 2008) | 3 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_customize.xml

Indent the body of one paragraph, as was done with some other
paragraphs, to make it easier to see the nesting of tags.

------------------------------------------------------------------------
r24364 | stig | 2008-02-16 11:57:37 -0800 (Sat, 16 Feb 2008) | 2 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Added check for idx in get_frame_num().

------------------------------------------------------------------------
r24365 | wmeier | 2008-02-16 13:07:19 -0800 (Sat, 16 Feb 2008) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.nmake

Clean-up: remove obsolete references to GTK libraries, ETHEREAL_EUG_DIR, etc

------------------------------------------------------------------------
r24366 | wmeier | 2008-02-16 13:24:52 -0800 (Sat, 16 Feb 2008) | 2 lines
Changed paths:
   M /trunk/packaging/nsis/wireshark.nsi

pcre.dll is now pcre3.dll for pcre-7.0

------------------------------------------------------------------------
r24367 | stig | 2008-02-16 16:04:49 -0800 (Sat, 16 Feb 2008) | 2 lines
Changed paths:
   M /trunk/rawshark.c

Add a missing default case to avoid a warning.

------------------------------------------------------------------------
r24368 | stig | 2008-02-16 16:35:55 -0800 (Sat, 16 Feb 2008) | 5 lines
Changed paths:
   M /trunk/epan/libwireshark.def
   M /trunk/epan/tap.c
   M /trunk/epan/tap.h
   M /trunk/gtk/conversations_table.c
   M /trunk/gtk/conversations_table.h
   M /trunk/gtk/hostlist_eth.c
   M /trunk/gtk/hostlist_fc.c
   M /trunk/gtk/hostlist_fddi.c
   M /trunk/gtk/hostlist_ip.c
   M /trunk/gtk/hostlist_ipx.c
   M /trunk/gtk/hostlist_rsvp.c
   M /trunk/gtk/hostlist_sctp.c
   M /trunk/gtk/hostlist_table.c
   M /trunk/gtk/hostlist_table.h
   M /trunk/gtk/hostlist_tcpip.c
   M /trunk/gtk/hostlist_tr.c
   M /trunk/gtk/hostlist_udpip.c
   M /trunk/gtk/hostlist_usb.c
   M /trunk/gtk/hostlist_wlan.c

Added an option to Conversations and Endpoints to limit the list to match
the current display filter.

Some Hosts -> Endpoints cleanup.

------------------------------------------------------------------------
r24369 | stig | 2008-02-17 02:37:21 -0800 (Sun, 17 Feb 2008) | 3 lines
Changed paths:
   M /trunk/packaging/portableapps/win32/makefile.nmake
   M /trunk/packaging/u3/win32/makefile.nmake
   M /trunk/packaging/ws-manifest.pl

Added $(GTK2_LIB_DIR)\loaders to some makefiles in an attempt to fix the
u3 and portableapp build.

------------------------------------------------------------------------
r24370 | stig | 2008-02-17 06:27:52 -0800 (Sun, 17 Feb 2008) | 4 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Simplified printing of x-axis values so we get a consistent view even if 
resizing the window.  Also draw a 8 pixel x-axis line between the x-axis
labels to make it easier to determine midway.

------------------------------------------------------------------------
r24371 | stig | 2008-02-17 06:33:06 -0800 (Sun, 17 Feb 2008) | 6 lines
Changed paths:
   M /trunk/docbook/user-guide.xml
   M /trunk/docbook/wsug_graphics/ws-stats-conversations.png
   M /trunk/docbook/wsug_graphics/ws-stats-endpoints.png
   M /trunk/docbook/wsug_graphics/ws-stats-iographs.png
   A /trunk/docbook/wsug_graphics/ws-stats-wlan-traffic.png
   M /trunk/docbook/wsug_src/WSUG_chapter_statistics.xml

Updated the User Guide:
- Added description for WLAN Traffic statistics.
- Added "Limit to display filter" description in conversations and endpoints.
- Added a tip in IO Graphs to click in the graph to select a matching packet.
- Some indentation fixes.

------------------------------------------------------------------------
r24372 | wmeier | 2008-02-17 08:26:06 -0800 (Sun, 17 Feb 2008) | 2 lines
Changed paths:
   M /trunk/gtk/main.c

Remove redundant (repeated) "PortAudio" from "About Wireshark" screen.

------------------------------------------------------------------------
r24373 | stig | 2008-02-17 10:37:56 -0800 (Sun, 17 Feb 2008) | 4 lines
Changed paths:
   M /trunk/gtk/io_stat.c

When resize the IO Graphs window expand the filter field and advanced
calc field instead of the space between "Style:" and the style boxes, and
the X/Y Axis labels and corresponding boxes.

------------------------------------------------------------------------
r24374 | stig | 2008-02-17 13:22:00 -0800 (Sun, 17 Feb 2008) | 2 lines
Changed paths:
   M /trunk/gtk/expert_comp_dlg.c
   M /trunk/gtk/expert_dlg.c
   M /trunk/gtk/help_dlg.c
   M /trunk/gtk/help_dlg.h

Added help button in expert info and expert info composite dialogs.

------------------------------------------------------------------------
r24375 | wmeier | 2008-02-18 05:22:00 -0800 (Mon, 18 Feb 2008) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake

Add rawhark_OBJECTS to clean: target

------------------------------------------------------------------------
r24376 | gerald | 2008-02-18 10:08:14 -0800 (Mon, 18 Feb 2008) | 3 lines
Changed paths:
   M /trunk/config.nmake
   M /trunk/image/capinfos.rc.in
   M /trunk/image/dumpcap.rc.in
   M /trunk/image/editcap.rc.in
   M /trunk/image/libwireshark.rc.in
   M /trunk/image/mergecap.rc.in
   M /trunk/image/rawshark.rc.in
   M /trunk/image/text2pcap.rc.in
   M /trunk/image/tshark.rc.in
   M /trunk/image/wireshark.rc.in
   M /trunk/make-version.pl
   M /trunk/plugins/agentx/plugin.rc.in
   M /trunk/plugins/artnet/plugin.rc.in
   M /trunk/plugins/asn1/plugin.rc.in
   M /trunk/plugins/ciscosm/plugin.rc.in
   M /trunk/plugins/docsis/plugin.rc.in
   M /trunk/plugins/easy_codec/plugin.rc.in
   M /trunk/plugins/enttec/plugin.rc.in
   M /trunk/plugins/ethercat/plugin.rc.in
   M /trunk/plugins/gryphon/plugin.rc.in
   M /trunk/plugins/irda/plugin.rc.in
   M /trunk/plugins/lwres/plugin.rc.in
   M /trunk/plugins/m2m/plugin.rc.in
   M /trunk/plugins/mate/plugin.rc.in
   M /trunk/plugins/opcua/plugin.rc.in
   M /trunk/plugins/opsi/plugin.rc.in
   M /trunk/plugins/pcli/plugin.rc.in
   M /trunk/plugins/profinet/plugin.rc.in
   M /trunk/plugins/rlm/plugin.rc.in
   M /trunk/plugins/rtnet/plugin.rc.in
   M /trunk/plugins/rudp/plugin.rc.in
   M /trunk/plugins/sbus/plugin.rc.in
   M /trunk/plugins/stats_tree/plugin.rc.in
   M /trunk/plugins/unistim/plugin.rc.in
   M /trunk/plugins/v5ua/plugin.rc.in
   M /trunk/plugins/wimax/plugin.rc.in
   M /trunk/plugins/wimaxasncp/plugin.rc.in

If we have an SVN revision number, use it as the build number under Windows
instead of "0".

------------------------------------------------------------------------
r24377 | etxrab | 2008-02-18 11:10:50 -0800 (Mon, 18 Feb 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-diameter.c

Add an expert item about AVP:s without "data".
------------------------------------------------------------------------
r24378 | gerald | 2008-02-18 11:51:40 -0800 (Mon, 18 Feb 2008) | 2 lines
Changed paths:
   A /trunk-0.99.8 (from /trunk:24377)

Split off 0.99.8.

------------------------------------------------------------------------
r24385 | gerald | 2008-02-18 16:11:22 -0800 (Mon, 18 Feb 2008) | 2 lines
Changed paths:
   M /trunk-0.99.8/ChangeLog
   M /trunk-0.99.8/NEWS
   M /trunk-0.99.8/configure.in
   M /trunk-0.99.8/docbook/release-notes.xml
   A /trunk-0.99.8/version.conf

Package up 0.99.8pre1.

------------------------------------------------------------------------
r24386 | gerald | 2008-02-18 17:05:09 -0800 (Mon, 18 Feb 2008) | 2 lines
Changed paths:
   M /trunk-0.99.8/docbook/release-notes.xml

Remove custom columns from the release notes.

------------------------------------------------------------------------
r24392 | gerald | 2008-02-19 09:23:21 -0800 (Tue, 19 Feb 2008) | 11 lines
Changed paths:
   M /trunk-0.99.8/Makefile.am
   M /trunk-0.99.8/NEWS
   M /trunk-0.99.8/docbook/release-notes.xml
   M /trunk-0.99.8/image/README.image
   M /trunk-0.99.8/version.conf

Copy over r24388 from the trunk. Bump the version to -pre2. Update the 
release notes / NEWS.

------------------------------------------------------------------------
r24388 | stig | 2008-02-19 01:45:59 -0800 (Tue, 19 Feb 2008) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/image/README.image

Add rawshark.rc.in to tarball.

------------------------------------------------------------------------
r24404 | gerald | 2008-02-20 10:21:03 -0800 (Wed, 20 Feb 2008) | 33 lines
Changed paths:
   M /trunk-0.99.8/FAQ
   M /trunk-0.99.8/epan/dissectors/packet-atm.c
   M /trunk-0.99.8/help/faq.txt
   M /trunk-0.99.8/manuf
   M /trunk-0.99.8/rawshark.c
   M /trunk-0.99.8/wiretap/pcapng.c

Copy over revisions from the trunk:

------------------------------------------------------------------------
r24396 | jmayer | 2008-02-19 14:09:38 -0800 (Tue, 19 Feb 2008) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-atm.c

Use the right 4 bits and avoid the overflow of an 8 bit value
------------------------------------------------------------------------
r24398 | sfisher | 2008-02-19 20:41:31 -0800 (Tue, 19 Feb 2008) | 4 lines
Changed paths:
   M /trunk/wiretap/pcapng.c

Really fix pcapng timestamp reading and writing this time.

------------------------------------------------------------------------
r24400 | jmayer | 2008-02-20 05:33:11 -0800 (Wed, 20 Feb 2008) | 1 line
Changed paths:
   M /trunk/FAQ
   M /trunk/help/faq.txt
   M /trunk/manuf

Update manuf and faq
------------------------------------------------------------------------
r24403 | gerald | 2008-02-20 10:02:03 -0800 (Wed, 20 Feb 2008) | 3 lines
Changed paths:
   M /trunk/rawshark.c

Convert any supplied encapsulation from libpcap to wiretap so that DLTs other
than Ethernet work.

------------------------------------------------------------------------

------------------------------------------------------------------------
r24440 | gerald | 2008-02-22 15:59:32 -0800 (Fri, 22 Feb 2008) | 74 lines
Changed paths:
   M /trunk-0.99.8/Makefile.am
   M /trunk-0.99.8/configure.in
   M /trunk-0.99.8/doc/Makefile.am
   M /trunk-0.99.8/doc/Makefile.nmake
   M /trunk-0.99.8/docbook/ws.css
   M /trunk-0.99.8/epan/column.c
   M /trunk-0.99.8/epan/proto.c
   M /trunk-0.99.8/gtk/help_dlg.c
   M /trunk-0.99.8/gtk/help_dlg.h
   M /trunk-0.99.8/gtk/menu.c
   M /trunk-0.99.8/packaging/nsis/Makefile.nmake
   M /trunk-0.99.8/packaging/nsis/wireshark.nsi

Copy over revisions from the trunk:

------------------------------------------------------------------------
r24417 | stig | 2008-02-22 03:32:36 -0800 (Fri, 22 Feb 2008) | 6 lines
Changed paths:
   M /trunk/epan/column.c
   M /trunk/epan/proto.c

Some custom column fixes:
- In proto_tree_set_uint and proto_tree_set_int use value adjusted for bitmask.
- Removed col_custom_set_fstr in proto_tree_set_boolean to get a correct
  adjusted value in proto_tree_set_uint.
- Set a default column width shorter than COL_INFO. 

------------------------------------------------------------------------
r24422 | gerald | 2008-02-22 09:52:06 -0800 (Fri, 22 Feb 2008) | 3 lines
Changed paths:
   M /trunk/configure.in

Rawshark depends on libpcap. Make sure we enforce this in the configure 
script, just as we do with dumpcap.

------------------------------------------------------------------------
r24428 | gerald | 2008-02-22 12:03:36 -0800 (Fri, 22 Feb 2008) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/doc/Makefile.am
   M /trunk/doc/Makefile.nmake
   M /trunk/packaging/nsis/Makefile.nmake
   M /trunk/packaging/nsis/wireshark.nsi

Use the docbook CSS for the man pages (which assumes your version of 
pod2html supports the "--css" flag). Package up the CSS file, and add
missing HTML files where needed.

------------------------------------------------------------------------
r24429 | gerald | 2008-02-22 12:29:57 -0800 (Fri, 22 Feb 2008) | 2 lines
Changed paths:
   M /trunk/doc/Makefile.nmake

Fix a target.

------------------------------------------------------------------------
r24431 | ulfl | 2008-02-22 12:38:50 -0800 (Fri, 22 Feb 2008) | 1 line
Changed paths:
   M /trunk/gtk/help_dlg.c
   M /trunk/gtk/help_dlg.h
   M /trunk/gtk/menu.c
   M /trunk/packaging/nsis/Makefile.nmake

add rawshark.html to packaging and Wireshark help menu
------------------------------------------------------------------------
r24434 | gerald | 2008-02-22 13:28:55 -0800 (Fri, 22 Feb 2008) | 2 lines
Changed paths:
   M /trunk/doc/Makefile.nmake

Fix CSS paths.

------------------------------------------------------------------------
r24436 | gerald | 2008-02-22 13:47:58 -0800 (Fri, 22 Feb 2008) | 2 lines
Changed paths:
   M /trunk/docbook/ws.css

Reduce the H1 font size a bit.

------------------------------------------------------------------------
r24437 | gerald | 2008-02-22 14:22:13 -0800 (Fri, 22 Feb 2008) | 2 lines
Changed paths:
   M /trunk/packaging/nsis/wireshark.nsi

Have the uninstaller remove ws.css.

------------------------------------------------------------------------

------------------------------------------------------------------------
r24460 | gerald | 2008-02-25 10:12:39 -0800 (Mon, 25 Feb 2008) | 29 lines
Changed paths:
   M /trunk-0.99.8/Makefile.am
   M /trunk-0.99.8/asn1/snmp/packet-snmp-template.c
   M /trunk-0.99.8/epan/dissectors/packet-snmp.c
   M /trunk-0.99.8/epan/dissectors/packet-snmp.h
   M /trunk-0.99.8/plugins/ethercat/packet-ethercat-datagram.c

Copy over revisions from the trunk:
------------------------------------------------------------------------
r24449 | guy | 2008-02-23 18:00:40 -0800 (Sat, 23 Feb 2008) | 6 lines
Changed paths:
   M /trunk/Makefile.am

Include docbook/ws.css in the release tarball, as we need it for
building man pages.  Make ws.css in the current directory depend on
$(srcdir)/docbook/ws.css, not just docbook/ws.css, so that builds work
outside the source directory.  Clean up ws.css in the current directory
when doing "make distclean".

------------------------------------------------------------------------
r24457 | gerald | 2008-02-24 16:00:41 -0800 (Sun, 24 Feb 2008) | 2 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c
   M /trunk/epan/dissectors/packet-snmp.h

Handle unsigned SMI types. This should fix bug 2292.

------------------------------------------------------------------------
r24459 | morriss | 2008-02-25 07:21:20 -0800 (Mon, 25 Feb 2008) | 1 line
Changed paths:
   M /trunk/plugins/ethercat/packet-ethercat-datagram.c

From Richard Kuemmel via http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=1430 : fix length mask.
------------------------------------------------------------------------

------------------------------------------------------------------------
r24470 | gerald | 2008-02-26 07:55:03 -0800 (Tue, 26 Feb 2008) | 31 lines
Changed paths:
   M /trunk-0.99.8/Makefile.am
   M /trunk-0.99.8/asn1/snmp/packet-snmp-template.c
   M /trunk-0.99.8/configure.in
   M /trunk-0.99.8/epan/Makefile.am
   M /trunk-0.99.8/epan/dissectors/packet-snmp.c
   M /trunk-0.99.8/epan/privileges.c

Copy over revisions from the trunk:

------------------------------------------------------------------------
r24465 | gerald | 2008-02-25 15:18:53 -0800 (Mon, 25 Feb 2008) | 3 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/epan/privileges.c

Check for setres[gu]id and define HAVE_SETRESUID and HAVE_SETREGUID
accordingly. Also define _GNU_SOURCE to appease glibc.

------------------------------------------------------------------------
r24466 | gerald | 2008-02-25 16:52:12 -0800 (Mon, 25 Feb 2008) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/epan/Makefile.am

Add files to the tarball that are necessary to compile and create
packages under Windows.

------------------------------------------------------------------------
r24467 | gerald | 2008-02-25 17:17:18 -0800 (Mon, 25 Feb 2008) | 2 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

Make sure we don't dereference a NULL pointer. Fixes bug 2277.

------------------------------------------------------------------------


------------------------------------------------------------------------
r24475 | gerald | 2008-02-26 10:26:13 -0800 (Tue, 26 Feb 2008) | 10 lines
Changed paths:
   M /trunk-0.99.8/configure.in
   M /trunk-0.99.8/docbook/release-notes.xml

Add a security note about SCTP, and update the SNMP note. Copy over r24472 
from the trunk.
------------------------------------------------------------------------
r24472 | morriss | 2008-02-26 09:50:02 -0800 (Tue, 26 Feb 2008) | 1 line
Changed paths:
   M /trunk/configure.in

Wireshark (packet-ssl-utils.h) uses gnutls_x509_crt_t which appears to only be present in GNUTLS > 1.2 .  Check that, if we have GNUTLS, it is at least that version (previously we checked for 1.0).
------------------------------------------------------------------------

------------------------------------------------------------------------
r24480 | gerald | 2008-02-26 12:03:19 -0800 (Tue, 26 Feb 2008) | 2 lines
Changed paths:
   M /trunk-0.99.8/docbook/release-notes.xml
   M /trunk-0.99.8/epan/dissectors/packet-sctp.c

Copy over the SCTP fix. Fix up the release notes.

------------------------------------------------------------------------
r24490 | gerald | 2008-02-27 08:55:24 -0800 (Wed, 27 Feb 2008) | 27 lines
Changed paths:
   M /trunk-0.99.8/INSTALL
   M /trunk-0.99.8/doc/README.packaging

Copy over revisions from the trunk:

------------------------------------------------------------------------
r24469 | wmeier | 2008-02-26 06:52:35 -0800 (Tue, 26 Feb 2008) | 2 lines
Changed paths:
   M /trunk/INSTALL

Update to be closer to current *nix Wireshark; (Addt'l info about setuid, etc needed).

------------------------------------------------------------------------
r24481 | gerald | 2008-02-26 12:05:25 -0800 (Tue, 26 Feb 2008) | 2 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/doc/README.packaging

Wrap a line in the INSTALL file and correct some text in README.packaging.

------------------------------------------------------------------------
r24485 | gerald | 2008-02-26 17:22:51 -0800 (Tue, 26 Feb 2008) | 2 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/doc/README.packaging

Expand the setuid text a bit.

------------------------------------------------------------------------

------------------------------------------------------------------------
