------------------------------------------------------------------------
r33130 | wmeier | 2010-06-07 08:38:55 -0700 (Mon, 07 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dtpt.c

Move proto_reg_handoff...(...) to the end of the file.

------------------------------------------------------------------------
r33132 | wmeier | 2010-06-07 09:00:24 -0700 (Mon, 07 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-quake.c

Move proto_reg_handoff...(...) to the end of the file;
Remove a few unneeded if statements and a few uneeded initializers;

------------------------------------------------------------------------
r33136 | wmeier | 2010-06-07 09:32:21 -0700 (Mon, 07 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bittorrent.c
   M /trunk/epan/dissectors/packet-dtpt.c
   M /trunk/epan/dissectors/packet-quake.c

Use find_or_create_conversation() rather than only conversation_new().
Fixes bug #2907: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2907

------------------------------------------------------------------------
r33138 | gerald | 2010-06-07 09:43:09 -0700 (Mon, 07 Jun 2010) | 2 lines
Changed paths:
   M /trunk/config.nmake
   M /trunk/configure.in
   M /trunk/debian/changelog
   M /trunk/docbook/release-notes.xml

1.3.6 -> 1.5.0

------------------------------------------------------------------------
r33140 | etxrab | 2010-06-07 11:25:37 -0700 (Mon, 07 Jun 2010) | 1 line
Changed paths:
   M /trunk/gtk/main_filter_toolbar.c

Update the code for NEW_FILTER_COMBO_BOX.
------------------------------------------------------------------------
r33141 | etxrab | 2010-06-07 11:28:17 -0700 (Mon, 07 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gtk/main_filter_toolbar.c

Use NEW_FILTER_COMBO_BOX.
If there is no major problems the code can be cleaned up in a few days time.
------------------------------------------------------------------------
r33144 | guy | 2010-06-07 11:49:37 -0700 (Mon, 07 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gtk/main_filter_toolbar.c

Declare dfilter_list only if we're going to use it.

------------------------------------------------------------------------
r33148 | guy | 2010-06-07 12:17:12 -0700 (Mon, 07 Jun 2010) | 5 lines
Changed paths:
   M /trunk/gtk/main_filter_toolbar.c

Don't define dfilter_entry_match() if we're using a combo box, as it's
not used.

Clean up indentation.

------------------------------------------------------------------------
r33154 | guy | 2010-06-07 16:33:16 -0700 (Mon, 07 Jun 2010) | 6 lines
Changed paths:
   M /trunk/gtk/main_filter_toolbar.c

Rename the NEW_FILTER_COMBO_BOX routine dfilter_entry_match_new() to
dfilter_entry_match(), as the old dfilter_entry_match() isn't defined or
used if NEW_FILTER_COMBO_BOX is defined.

Clean up indentation a bit.

------------------------------------------------------------------------
r33157 | etxrab | 2010-06-08 01:36:22 -0700 (Tue, 08 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-diameter_3gpp.c
   M /trunk/epan/dissectors/packet-gtpv2.c

From Tamás Regõs:
Change dissection of  User Location Info (ULI) to show the spare bits
in the protocol tree and don't show ECI as a bitfield.
------------------------------------------------------------------------
r33158 | etxrab | 2010-06-08 01:55:07 -0700 (Tue, 08 Jun 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Fix packet-gtpv2.c:945:1: error: "/*" within comment
------------------------------------------------------------------------
r33159 | etxrab | 2010-06-08 03:37:03 -0700 (Tue, 08 Jun 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Remove C++ style comment.
------------------------------------------------------------------------
r33160 | morriss | 2010-06-08 07:40:31 -0700 (Tue, 08 Jun 2010) | 1 line
Changed paths:
   M /trunk/gtk/main_filter_toolbar.c

dfilter_entry_match() (for NEW_FILTER_COMBO_BOX): unset value each time through the loop to avoid duplicate initialization warnings from glib.
------------------------------------------------------------------------
r33161 | morriss | 2010-06-08 09:01:50 -0700 (Tue, 08 Jun 2010) | 1 line
Changed paths:
   M /trunk/gtk/main_filter_toolbar.c

NEW_FILTER_COMBO_BOX: dfilter_combo_add_empty() doesn't appear to be needed: the entry field is empty even after populating thelist of recent filters.
------------------------------------------------------------------------
r33163 | morriss | 2010-06-08 11:42:20 -0700 (Tue, 08 Jun 2010) | 1 line
Changed paths:
   M /trunk/gtk/main_filter_toolbar.c

NEW_FILTER_COMBO_BOX: Make the Expression... button work again.
------------------------------------------------------------------------
r33168 | stig | 2010-06-08 14:36:31 -0700 (Tue, 08 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gtk/filter_autocomplete.c

Avoid a crash when deleting the first character in the filter.

------------------------------------------------------------------------
r33174 | stig | 2010-06-09 01:52:56 -0700 (Wed, 09 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/column-utils.c

Corrected a typo in "display seconds with hours and minutes".

------------------------------------------------------------------------
r33175 | gal | 2010-06-09 02:27:28 -0700 (Wed, 09 Jun 2010) | 4 lines
Changed paths:
   M /trunk/tools/asn2wrs.py

New option (-R) to asn2wrs to register the PDUs defined in the conformance file as BER syntaxes  (register_ber_syntax_dissector()).



------------------------------------------------------------------------
r33176 | wmeier | 2010-06-09 06:30:44 -0700 (Wed, 09 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ncp2222.inc

Do some constifying (based upon gcc -Wwrite-strings warnings);
Use #if 0/#endif instead of /* ... */ to comment out code..

------------------------------------------------------------------------
r33177 | gal | 2010-06-09 07:17:51 -0700 (Wed, 09 Jun 2010) | 8 lines
Changed paths:
   M /trunk/asn1/dap/dap.cnf
   M /trunk/asn1/dap/packet-dap-template.c
   A /trunk/asn1/idmp
   A /trunk/asn1/idmp/CommonProtocolSpecification.asn
   A /trunk/asn1/idmp/IDMProtocolSpecification.asn
   A /trunk/asn1/idmp/Makefile.am
   A /trunk/asn1/idmp/Makefile.common
   A /trunk/asn1/idmp/Makefile.nmake
   A /trunk/asn1/idmp/idmp.cnf
   A /trunk/asn1/idmp/packet-idmp-template.c
   A /trunk/asn1/idmp/packet-idmp-template.h
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-dap.c
   A /trunk/epan/dissectors/packet-idmp.c
   A /trunk/epan/dissectors/packet-idmp.h

Support for X.519 (section 9) Internet Directly Mapped Protocol (IDMP).

IDMP provides a mapping of request-response service elements directly onto the Internet TCP/IP protocol, bypassing the ACSE, Presentation, Session and Transport layers of the OSI model. It also supports the use of TLS services.

The DAP dissector has been updated to use the IDMP protocol.



------------------------------------------------------------------------
r33178 | stig | 2010-06-09 07:27:09 -0700 (Wed, 09 Jun 2010) | 3 lines
Changed paths:
   M /trunk/asn1/acse/acse.cnf
   M /trunk/epan/dissectors/packet-acse.c

Print correct RLRE reason in Info column.
Dump RLRQ/RLRE text in Info column even when having no reason code.

------------------------------------------------------------------------
r33179 | stig | 2010-06-09 07:33:54 -0700 (Wed, 09 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt

Added packet-idmp.c

------------------------------------------------------------------------
r33181 | stig | 2010-06-09 07:40:35 -0700 (Wed, 09 Jun 2010) | 2 lines
Changed paths:
   M /trunk/configure.in

Build Makefile in asn1/idmp.

------------------------------------------------------------------------
r33182 | gal | 2010-06-09 07:45:38 -0700 (Wed, 09 Jun 2010) | 3 lines
Changed paths:
   M /trunk/asn1/idmp/packet-idmp-template.c
   M /trunk/asn1/ros/packet-ros-template.c
   M /trunk/asn1/ros/packet-ros-template.h
   M /trunk/asn1/ros/ros.cnf
   M /trunk/epan/dissectors/packet-idmp.c
   M /trunk/epan/dissectors/packet-ros.c
   M /trunk/epan/dissectors/packet-ros.h

Updates to the ROS dissector to support IDMP and fix to IDMP for implicit declaration of return value of call_ros_oid_callback().


------------------------------------------------------------------------
r33183 | stig | 2010-06-09 07:47:39 -0700 (Wed, 09 Jun 2010) | 2 lines
Changed paths:
   M /trunk/asn1/idmp

Added default svn:ignore targets.

------------------------------------------------------------------------
r33184 | stig | 2010-06-09 07:59:02 -0700 (Wed, 09 Jun 2010) | 2 lines
Changed paths:
   M /trunk/asn1/idmp/Makefile.common

Build dependency x509ce.

------------------------------------------------------------------------
r33185 | stig | 2010-06-09 08:05:29 -0700 (Wed, 09 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common

Added packet-idmp.h.

------------------------------------------------------------------------
r33186 | gal | 2010-06-09 08:20:48 -0700 (Wed, 09 Jun 2010) | 2 lines
Changed paths:
   M /trunk/asn1/idmp/packet-idmp-template.c
   M /trunk/epan/dissectors/packet-idmp.c

Update for missing const for object identifier string and marking tree as unused.

------------------------------------------------------------------------
r33187 | gal | 2010-06-09 08:35:08 -0700 (Wed, 09 Jun 2010) | 3 lines
Changed paths:
   M /trunk/asn1/idmp/packet-idmp-template.c
   M /trunk/epan/dissectors/packet-idmp.c

Removal of (hopefully!) the final warning.


------------------------------------------------------------------------
r33188 | gal | 2010-06-09 08:51:02 -0700 (Wed, 09 Jun 2010) | 3 lines
Changed paths:
   M /trunk/asn1/idmp/packet-idmp-template.c
   M /trunk/epan/dissectors/packet-idmp.c

Removal of unused global variable.


------------------------------------------------------------------------
r33189 | stig | 2010-06-09 09:02:34 -0700 (Wed, 09 Jun 2010) | 2 lines
Changed paths:
   M /trunk/asn1/idmp/packet-idmp-template.c
   M /trunk/epan/dissectors/packet-idmp.c

Initialize dst_ref.

------------------------------------------------------------------------
r33191 | wmeier | 2010-06-09 10:16:33 -0700 (Wed, 09 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-quake.c
   M /trunk/epan/dissectors/packet-quake2.c
   M /trunk/epan/dissectors/packet-quake3.c

Revise code slightly; mostly: remove some unnecessary if tests ....

------------------------------------------------------------------------
r33192 | wmeier | 2010-06-09 10:24:58 -0700 (Wed, 09 Jun 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-quakeworld.c

Do some constifying (based upon gcc -Wwrite-strings warnings);
Various minor ckeanup: remove some unecessary if statements & other
Move proto_reg_handoff... to the end of the file.

------------------------------------------------------------------------
r33193 | morriss | 2010-06-09 10:36:49 -0700 (Wed, 09 Jun 2010) | 1 line
Changed paths:
   M /trunk/asn1/Makefile.am

Add idmp.
------------------------------------------------------------------------
r33194 | wmeier | 2010-06-09 10:40:03 -0700 (Wed, 09 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c

Do some constifying (based upon gcc -Wwrite-strings warnings);
Replace "4 space  tabs" by 4 spaces.

------------------------------------------------------------------------
r33195 | wmeier | 2010-06-09 10:56:37 -0700 (Wed, 09 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dis-fields.c
   M /trunk/epan/dissectors/packet-dis-fields.h

Fix a gcc -Wstrict-prototypes warning

------------------------------------------------------------------------
r33198 | wmeier | 2010-06-09 11:12:17 -0700 (Wed, 09 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcm.c
   M /trunk/epan/dissectors/packet-diameter.c
   M /trunk/epan/dissectors/packet-dtn.c
   M /trunk/epan/dissectors/packet-frame.c
   M /trunk/epan/dissectors/packet-gsm_a_gm.c
   M /trunk/epan/dissectors/packet-mikey.c
   M /trunk/epan/dissectors/packet-nasdaq-itch.c
   M /trunk/epan/dissectors/packet-ncp-sss.c
   M /trunk/epan/dissectors/packet-ntlmssp.c
   M /trunk/epan/dissectors/packet-ntp.c
   M /trunk/epan/dissectors/packet-ntp.h
   M /trunk/epan/dissectors/packet-ppp.c
   M /trunk/epan/dissectors/packet-ptp.c
   M /trunk/epan/dissectors/packet-pvfs2.c
   M /trunk/epan/dissectors/packet-rmi.c

Do some constifying [or other] based upon gcc -Wwrite-strings warnings.

------------------------------------------------------------------------
r33199 | wmeier | 2010-06-09 11:32:35 -0700 (Wed, 09 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtcp.c

Do some constifying (based upon gcc -Wwrite-strings warnings)

------------------------------------------------------------------------
r33200 | etxrab | 2010-06-09 13:24:23 -0700 (Wed, 09 Jun 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-diameter.c

Fix a copy paste error.
------------------------------------------------------------------------
r33201 | etxrab | 2010-06-09 13:25:50 -0700 (Wed, 09 Jun 2010) | 1 line
Changed paths:
   M /trunk/epan/libwireshark.def

Add dissector_table_foreach.
------------------------------------------------------------------------
r33203 | wmeier | 2010-06-09 18:33:02 -0700 (Wed, 09 Jun 2010) | 14 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c

From Jason Burns:  DHCP Dissector - Support for DHCP Option 150 TFTP Server Address

"According to this document DHCP Option 150 is an array of IPv4 TFTP Server
Addresses

http://cisco.com/en/US/products/sw/voicesw/ps556/products_tech_note09186a00800942f4.shtml#tftp_option

I fixed the capitalization of this option in the bootp dissector and changed
the type to match the actual use of the option. (ipv4_list)"

From me: Add a pointer to a draft RFC about the DHCP "TFTP Server Address" option.



------------------------------------------------------------------------
r33204 | stig | 2010-06-10 03:13:34 -0700 (Thu, 10 Jun 2010) | 3 lines
Changed paths:
   M /trunk/gtk/menus.c
   M /trunk/gtk/proto_help.c

From Jim Young via bug 4862:
GLIB 2.14 necessary to compile Wireshark with Protocol help.

------------------------------------------------------------------------
r33205 | stig | 2010-06-10 03:31:46 -0700 (Thu, 10 Jun 2010) | 2 lines
Changed paths:
   M /trunk/configure.in

Check if /usr/local exists before adding to CFLAGS/CPPFLAGS and LDFLAGS.

------------------------------------------------------------------------
r33206 | stig | 2010-06-10 06:06:08 -0700 (Thu, 10 Jun 2010) | 2 lines
Changed paths:
   M /trunk/asn1/rtse/rtse.cnf
   M /trunk/epan/dissectors/packet-rtse.c

Display RefuseReason in Info column.

------------------------------------------------------------------------
r33207 | martinm | 2010-06-10 08:28:41 -0700 (Thu, 10 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-rlc-lte.c

Add the direction to so expert info texts.

------------------------------------------------------------------------
r33208 | stig | 2010-06-11 02:14:25 -0700 (Fri, 11 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ses.h

Small cleanup.

------------------------------------------------------------------------
r33209 | etxrab | 2010-06-11 04:49:01 -0700 (Fri, 11 Jun 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sdp.c

Fix: Malformed packet if port is missing from path.
------------------------------------------------------------------------
r33210 | jmayer | 2010-06-11 09:11:42 -0700 (Fri, 11 Jun 2010) | 17 lines
Changed paths:
   M /trunk/README.DECT
   M /trunk/epan/dissectors/packet-dect.c

Andreas Schuler <andreas (A) schulerdev.de>
Updates to the DECT dissector:
- using proto_tree_add_none_format()/proto_tree_add_item() instead of
  proto_tree_add_uint_format() where it makes sense
- fixed display of full slot data
- added some references to documentation
- cleaned up packet length checking
- put descrambled bfield-data in a tree
- cleaned up some afield items
- use custom columns instead adding all infos to COL_INFO
- add some more infos to the columns

Me:
- Replace proto_tree_add_none_format(..., strvar) by
  proto_tree_add_none_format(..., "%s", strvar).
- Fix an unused variable warning.

------------------------------------------------------------------------
r33211 | gerald | 2010-06-12 17:39:06 -0700 (Sat, 12 Jun 2010) | 2 lines
Changed paths:
   M /trunk/docbook/ws.css

Remove the header letter spacing. It make the Lua reference hard to read.

------------------------------------------------------------------------
r33212 | wmeier | 2010-06-13 06:58:02 -0700 (Sun, 13 Jun 2010) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iax2.c

Fix Bug #4868; "Wireshark crash selecting Inter-Asterisk exchange v2 packet data"
See: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4868

A field length was being set incorrectly (too large) thus causing
packet_hex_apply_reverse_tag() to run off the end of a text_view buffer
(thus causing a crash) when attempting to highlight the field bytes
in the hex-view pane.

ToDo: Add some sanity checking in packet_hex_apply_reverse_tag().

------------------------------------------------------------------------
r33213 | wmeier | 2010-06-13 07:31:11 -0700 (Sun, 13 Jun 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main_proto_draw.c

Rename some variables; At least one ('end') seemed to confuse the Windows debugger;
Also: Udate some coments.

------------------------------------------------------------------------
r33214 | martinm | 2010-06-13 07:55:11 -0700 (Sun, 13 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gtk/expert_comp_table.c
   M /trunk/gtk/filter_utils.h

Add Copy (to clipboard) to expert item popup menu.

------------------------------------------------------------------------
r33215 | gerald | 2010-06-13 08:03:31 -0700 (Sun, 13 Jun 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-06-13]
------------------------------------------------------------------------
r33219 | wmeier | 2010-06-13 13:27:21 -0700 (Sun, 13 Jun 2010) | 3 lines
Changed paths:
   M /trunk/gtk/prefs_nameres.c

Add info to the "Enable OID resolution" tooltip that if 'True' then the 'SMI paths' and the 'SMI modules' preferences will be shown;
Fix a comment. 

------------------------------------------------------------------------
r33220 | gerald | 2010-06-13 13:30:43 -0700 (Sun, 13 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-gopher.c

Add a Gopher (RFC 1436) dissector.

------------------------------------------------------------------------
r33221 | jmayer | 2010-06-13 15:58:21 -0700 (Sun, 13 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt

Add packet-gopher.c from rev 33220.

------------------------------------------------------------------------
r33222 | gerald | 2010-06-13 16:02:18 -0700 (Sun, 13 Jun 2010) | 3 lines
Changed paths:
   M /trunk/packaging/macosx/osx-dmg.sh

The .dmg packages can come in 32-bit and 64-bit flavors. Name them
accordingly.

------------------------------------------------------------------------
r33223 | wmeier | 2010-06-14 05:37:43 -0700 (Mon, 14 Jun 2010) | 3 lines
Changed paths:
   M /trunk/gtk/flow_graph.c

Fix Bug #4871: Wrong Ack value in TCP flow graph when using relative sequence numbers.
See: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4871  

------------------------------------------------------------------------
r33224 | wmeier | 2010-06-14 07:34:32 -0700 (Mon, 14 Jun 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Jouni Malinen:  Fix: RSN capabilities field in IEEE 802.11 RSN IE is parsed in incorrect byte order
Note: this bug was introduced in SVN #32342 [3/31/10] and thus was only present
in Development Wireshark versions.

From me: Display 'mobility_domain_mdid' as little-endian (to be verified)

------------------------------------------------------------------------
r33225 | tuexen | 2010-06-14 14:49:23 -0700 (Mon, 14 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sctp.c
   M /trunk/epan/sctpppids.h

Update SCTP PPIDs.

------------------------------------------------------------------------
r33226 | etxrab | 2010-06-15 06:36:11 -0700 (Tue, 15 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

From Holger Freyther:
Cosmetic patch to fix Optional/Conditional mismatch.
------------------------------------------------------------------------
r33227 | stig | 2010-06-15 07:03:49 -0700 (Tue, 15 Jun 2010) | 8 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-smb.c
   M /trunk/epan/dissectors/packet-smb.h
   M /trunk/gtk/CMakeLists.txt
   M /trunk/gtk/Makefile.common
   M /trunk/gtk/export_object.c
   M /trunk/gtk/export_object.h
   A /trunk/gtk/export_object_smb.c
   M /trunk/gtk/menus.c

From David Perez & Jose Pico from Taddong S.L. via bug 4451:
This functionality keeps track of all SMB objects contained in a capture,
and is able to export to a file a full or partial captured file that has
been transfered through the SMB protocol. In a partial capture, the holes
produced by the non-captured information are filled out with zeros.
It includes the needed modifications of the SMB dissector in the way it keeps
track of the opened SMB files and also to feed the eo_smb tap listener.

------------------------------------------------------------------------
r33228 | stig | 2010-06-15 08:32:19 -0700 (Tue, 15 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

Remove #include <inttypes.h>.

------------------------------------------------------------------------
r33229 | stig | 2010-06-15 11:48:08 -0700 (Tue, 15 Jun 2010) | 2 lines
Changed paths:
   M /trunk/AUTHORS

Changed Jose Pico's email, added David Perez as co-author.

------------------------------------------------------------------------
r33230 | stig | 2010-06-15 14:18:31 -0700 (Tue, 15 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gtk/capture_if_details_dlg_win32.h
   M /trunk/gtk/cfilter_combo_utils.h
   M /trunk/gtk/color_utils.h
   M /trunk/gtk/conversations_table.h
   M /trunk/gtk/expert_comp_dlg.h
   M /trunk/gtk/expert_comp_table.h
   M /trunk/gtk/expert_dlg.h
   M /trunk/gtk/file_dlg_win32.h
   M /trunk/gtk/filter_utils.h
   M /trunk/gtk/firewall_dlg.h
   M /trunk/gtk/follow_stream.h
   M /trunk/gtk/graph_analysis.h
   M /trunk/gtk/gsm_map_stat.h
   M /trunk/gtk/gui_stat_menu.h
   M /trunk/gtk/gui_stat_util.h
   M /trunk/gtk/gui_utils.h
   M /trunk/gtk/hostlist_table.h
   M /trunk/gtk/iax2_analysis.h
   M /trunk/gtk/macros_dlg.h
   M /trunk/gtk/main_packet_list.h
   M /trunk/gtk/main_proto_draw.h
   M /trunk/gtk/manual_addr_resolv.h
   M /trunk/gtk/mcast_stream.h
   M /trunk/gtk/mcast_stream_dlg.h
   M /trunk/gtk/menus.h
   M /trunk/gtk/mtp3_stat.h
   M /trunk/gtk/packet_history.h
   M /trunk/gtk/plugins_dlg.h
   M /trunk/gtk/rtp_analysis.h
   M /trunk/gtk/rtp_player.h
   M /trunk/gtk/rtp_stream.h
   M /trunk/gtk/rtp_stream_dlg.h
   M /trunk/gtk/sctp_stat.h
   M /trunk/gtk/service_response_time_table.h
   M /trunk/gtk/supported_protos_dlg.h
   M /trunk/gtk/tap_dfilter_dlg.h
   M /trunk/gtk/u3.h
   M /trunk/gtk/uat_gui.h
   M /trunk/gtk/voip_calls.h
   M /trunk/gtk/voip_calls_dlg.h

Cleanup header file define guards.

------------------------------------------------------------------------
r33231 | guy | 2010-06-15 18:30:29 -0700 (Tue, 15 Jun 2010) | 8 lines
Changed paths:
   M /trunk/epan/filesystem.c
   M /trunk/gtk/export_object.c

Handle WTAP_ERR_SHORT_WRITE in file_write_error_message().

In eo_save_entry(), don't assume you can write the entire object in a
single write call - if the object is big enough (which would require a
64-bit address space), and you're not lucky enough to be running on
UN*X (which means LP64, so size_t and ssize_t are big enough for the
entire object), you can't.

------------------------------------------------------------------------
r33232 | guy | 2010-06-15 20:09:16 -0700 (Tue, 15 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gtk/export_object.c

Cast bytes_left down to an int once we've established it will fit.

------------------------------------------------------------------------
r33233 | stig | 2010-06-15 22:54:11 -0700 (Tue, 15 Jun 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fcels.h
   M /trunk/epan/dissectors/packet-fip.c

From Joe Eykholt via bug 4882:
Adds decodes for the FCoE Initialization Protocol features being added for
VN_port to VN_port (VN2VN) point-to-multipoint support. 

------------------------------------------------------------------------
r33234 | guy | 2010-06-16 00:47:18 -0700 (Wed, 16 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Export smb_fid_types.

------------------------------------------------------------------------
r33235 | stig | 2010-06-16 08:26:47 -0700 (Wed, 16 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gtk/export_object_smb.c

Use gsize for file sizes.

------------------------------------------------------------------------
r33236 | stig | 2010-06-16 08:36:02 -0700 (Wed, 16 Jun 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

From Hitoshi Irino via bug 4883:
Support NetFlow exported from Cisco ASA5500 series.

From me:
Fixed some hf description entries.

------------------------------------------------------------------------
r33237 | stig | 2010-06-16 10:45:25 -0700 (Wed, 16 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.h

Use gsize for file offset.

------------------------------------------------------------------------
r33238 | stig | 2010-06-16 10:47:42 -0700 (Wed, 16 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

Remove C++ comment.

------------------------------------------------------------------------
r33239 | guy | 2010-06-16 11:28:28 -0700 (Wed, 16 Jun 2010) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.h
   M /trunk/gtk/export_object_smb.c

Go back to 64-bit sizes, but, before passing those sizes to
g_try_malloc() or g_try_realloc(), check whether they fit in a gsize
and:

	if not, just pretend the allocation failed;

	if so, cast them to gsize to squelch compiler warnings.

------------------------------------------------------------------------
r33240 | guy | 2010-06-16 13:00:22 -0700 (Wed, 16 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

Handle 64-bit file offsets in ReadAndX and WriteAndX.

------------------------------------------------------------------------
r33241 | martinm | 2010-06-16 22:03:08 -0700 (Wed, 16 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gtk/export_object_smb.c

Don't refer to file-static variables as extern (my gcc didn't like it).

------------------------------------------------------------------------
r33242 | martinm | 2010-06-16 23:36:23 -0700 (Wed, 16 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c

Work out better whether RLC segment is a complete upper-layer PDU or not.

------------------------------------------------------------------------
r33243 | stig | 2010-06-17 09:38:05 -0700 (Thu, 17 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/wslua/template-init.lua

Enable Lua by default.

------------------------------------------------------------------------
r33244 | wmeier | 2010-06-17 10:19:45 -0700 (Thu, 17 Jun 2010) | 3 lines
Changed paths:
   M /trunk/fix/Values.xsl

Include $Id$ when generating packet-fix.h;
Commit re-generated packet-fix.h.

------------------------------------------------------------------------
r33245 | wmeier | 2010-06-17 10:23:44 -0700 (Thu, 17 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fix.h

Commit re-generated packet-fix.h (which now has $Id$).
(Left out from the previous commit).

------------------------------------------------------------------------
r33246 | wmeier | 2010-06-17 10:51:52 -0700 (Thu, 17 Jun 2010) | 2 lines
Changed paths:
   M /trunk/tools/checkAPIs.pl

Add GTK deprecated from GTK 2.20.

------------------------------------------------------------------------
r33247 | wmeier | 2010-06-17 11:12:46 -0700 (Thu, 17 Jun 2010) | 2 lines
Changed paths:
   M /trunk/tools/checkAPIs.pl

Add deprecated from GLib 2.24

------------------------------------------------------------------------
r33248 | guy | 2010-06-17 14:41:03 -0700 (Thu, 17 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

Expand some comments.

------------------------------------------------------------------------
r33249 | guy | 2010-06-17 20:25:33 -0700 (Thu, 17 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

OK, I checked the Microsoft spec; give some information on that.

------------------------------------------------------------------------
r33250 | etxrab | 2010-06-17 21:18:08 -0700 (Thu, 17 Jun 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ethertype.c
   M /trunk/epan/etypes.h

Add the Gigamon ethertype.
------------------------------------------------------------------------
r33251 | martinm | 2010-06-18 00:07:55 -0700 (Fri, 18 Jun 2010) | 5 lines
Changed paths:
   M /trunk/asn1/lte-rrc/packet-lte-rrc-template.c
   M /trunk/epan/dissectors/packet-lte-rrc.c
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-pdcp-lte.c
   M /trunk/epan/dissectors/packet-rlc-lte.c

Add new strings/dissector function for signalling RRC messages that will add
lte_rrc root to the protocol tree. Makes filtering on call signalling easier.

TODO: same for other RRC entry points...

------------------------------------------------------------------------
r33252 | stig | 2010-06-18 08:25:41 -0700 (Fri, 18 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/wslua/template-init.lua

Fix the check for disable_lua.

------------------------------------------------------------------------
r33253 | etxrab | 2010-06-18 10:18:00 -0700 (Fri, 18 Jun 2010) | 5 lines
Changed paths:
   M /trunk/doc/tshark.pod
   M /trunk/tshark.c

From Jim Young:
The attached patch simply documents a long supported but hidden tshark -G
option.

Tshark's print_usage() has been augmented as well as the tshark man page.
------------------------------------------------------------------------
r33254 | wmeier | 2010-06-18 15:17:43 -0700 (Fri, 18 Jun 2010) | 3 lines
Changed paths:
   M /trunk/tools/checkAPIs.pl

Add a few deprecated GObject fcns;
Fix some typos and capitalization.

------------------------------------------------------------------------
r33255 | stig | 2010-06-18 18:16:29 -0700 (Fri, 18 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-eth.c
   M /trunk/epan/dissectors/packet-eth.h
   M /trunk/epan/dissectors/packet-ethertype.c
   M /trunk/epan/dissectors/packet-ieee8023.c
   M /trunk/epan/dissectors/packet-isl.c

Use top level tree when using dissectors from "eth.trailer" heuristics.

------------------------------------------------------------------------
r33256 | stig | 2010-06-18 18:43:11 -0700 (Fri, 18 Jun 2010) | 13 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-gmhdr.c

From tieuthunhi via bug 4887:
Add support for Gigamon headers (timestamp, source port, length, etc)
that are inserted by Gigamon network equipments.

From me:
Various cleanup:
- Register to "eth.trailer" heuristics for trailer.
- Use standard dumping of timestamp.
- Rewrote gmhdr_plfm_str handling.
- Dump srcport details in a subtree.
- Removed packte-gmhdr.h.
- Ensure the while-loop will end.

------------------------------------------------------------------------
r33257 | etxrab | 2010-06-20 03:25:26 -0700 (Sun, 20 Jun 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-diameter_3gpp.c

From KATAOKA Toshihiro:
3GPP Diameter S6a flags.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4893
Modified to use tfs_set_notset.
------------------------------------------------------------------------
r33258 | jake | 2010-06-20 05:21:45 -0700 (Sun, 20 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c

From KATAOKA Toshihiro:
The sequence number in 3GPP NAS EPS(TS24.301) cyphered PDU is outside of ciphered text.

------------------------------------------------------------------------
r33259 | jake | 2010-06-20 07:37:34 -0700 (Sun, 20 Jun 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_ipa.c

From Holger Freyther: 
The current implementation assumes that the IPA protocol header is three byte.
This is true for TCP but not for packets sent over UDP, which uses four bytes.

From me:
Improve heuristic and offset tracking.

------------------------------------------------------------------------
r33260 | gerald | 2010-06-20 08:03:42 -0700 (Sun, 20 Jun 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-06-20]
------------------------------------------------------------------------
r33264 | stig | 2010-06-20 09:17:10 -0700 (Sun, 20 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

Revert back to the old Flags entry.
Add number of bits used for Flags in the description.

------------------------------------------------------------------------
r33265 | stig | 2010-06-20 09:22:51 -0700 (Sun, 20 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c
   M /trunk/epan/dissectors/packet-ppp.c
   M /trunk/epan/dissectors/packet-tcp.c
   M /trunk/epan/ip_opts.h

Added an expert info for "4 NOP in a row" in IP and TCP.

------------------------------------------------------------------------
r33266 | stig | 2010-06-20 09:23:43 -0700 (Sun, 20 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/column.c
   M /trunk/epan/column.h
   M /trunk/epan/prefs.c
   M /trunk/gtk/menus.c
   M /trunk/gtk/menus.h
   M /trunk/gtk/new_packet_list.c
   M /trunk/gtk/new_packet_list.h
   M /trunk/gtk/prefs_column.c

Added "Hide Column" functionality.

------------------------------------------------------------------------
r33267 | jake | 2010-06-20 09:27:03 -0700 (Sun, 20 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gtk/main_welcome.c

Fix for bug 4875:
Don't hint at a local User's Gude when there isn't one.
------------------------------------------------------------------------
r33268 | wmeier | 2010-06-20 09:57:50 -0700 (Sun, 20 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Add get_column_visible & set_column_visible

------------------------------------------------------------------------
r33269 | jake | 2010-06-20 11:23:35 -0700 (Sun, 20 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/prefs.c

Fix for bug 4888:
Convert DSCP column to the proper custom column filter code.

------------------------------------------------------------------------
r33270 | jake | 2010-06-20 11:24:25 -0700 (Sun, 20 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

Fix for bug 4888:
Restore setting DSCP column value, when relevant.

------------------------------------------------------------------------
r33271 | wmeier | 2010-06-20 14:18:48 -0700 (Sun, 20 Jun 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gmhdr.c

More rework of the code:
 - Refactor to use a separate function for common code;
 - Prefs callback not required;
 - Use val_to_str(...);
 - Fix issues relating to incorrect bytes highlighted in the hex view;

------------------------------------------------------------------------
r33272 | guy | 2010-06-20 14:43:52 -0700 (Sun, 20 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gmhdr.c

Mark pinfo as unused.

------------------------------------------------------------------------
r33273 | guy | 2010-06-20 15:36:32 -0700 (Sun, 20 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gmhdr.c

Properly terminate gmhdr_ftype_timestamp[].

------------------------------------------------------------------------
r33274 | etxrab | 2010-06-20 20:01:41 -0700 (Sun, 20 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

The length of the dot11CurrentChannelNumber parameter is 1 octet.
Fixes bug https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4894
------------------------------------------------------------------------
r33275 | martinm | 2010-06-21 02:41:57 -0700 (Mon, 21 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gmhdr.c

Added volatile to 'offset' (needed by my version of gcc).

------------------------------------------------------------------------
r33276 | stig | 2010-06-21 04:28:52 -0700 (Mon, 21 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gmhdr.c

Corrected copyright header.

------------------------------------------------------------------------
r33277 | stig | 2010-06-21 04:29:54 -0700 (Mon, 21 Jun 2010) | 2 lines
Changed paths:
   M /trunk/asn1/ess/ess.cnf
   M /trunk/epan/dissectors/packet-ess.c

Corrected printed name for id-permissiveAttributes.

------------------------------------------------------------------------
r33278 | stig | 2010-06-21 04:30:27 -0700 (Mon, 21 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ospf.c

Removed leading empty line.

------------------------------------------------------------------------
r33279 | stig | 2010-06-21 06:57:03 -0700 (Mon, 21 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c
   M /trunk/gtk/prefs_column.c

Rename "Visible" to "Displayed" for hide columns functions.

------------------------------------------------------------------------
r33280 | wmeier | 2010-06-21 07:24:34 -0700 (Mon, 21 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_rr.c

Add an if-test to fix a fuzz-test crash;
See Bug #4897: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4897

------------------------------------------------------------------------
r33281 | stig | 2010-06-21 13:33:39 -0700 (Mon, 21 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Added the displayed columns menu in the heading popup.

------------------------------------------------------------------------
r33282 | jake | 2010-06-22 00:52:06 -0700 (Tue, 22 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ppi.c

Fix for bug 4852:
Don't short circuit dissection if tree==NULL when column values are to be set.

------------------------------------------------------------------------
r33283 | stig | 2010-06-22 01:49:12 -0700 (Tue, 22 Jun 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main_proto_draw.c

Highlight correct number of bytes when highlighted hex dump ends at the end
of the first block.

------------------------------------------------------------------------
r33284 | stig | 2010-06-22 01:56:05 -0700 (Tue, 22 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Include some column details in the "Displayed Columns" list.

------------------------------------------------------------------------
r33285 | stig | 2010-06-22 04:09:07 -0700 (Tue, 22 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/prefs.c
   M /trunk/gtk/prefs_column.c

Always make new columns visible.

------------------------------------------------------------------------
r33286 | stig | 2010-06-22 04:54:45 -0700 (Tue, 22 Jun 2010) | 2 lines
Changed paths:
   M /trunk/doc/README.developer
   M /trunk/epan/proto.c

Update to reflect changes in defines: REP_* > ENC_*

------------------------------------------------------------------------
r33287 | etxrab | 2010-06-22 06:29:33 -0700 (Tue, 22 Jun 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gmhdr.c

If the trailer is less than 4 bytes it's not a Gigamon hdr.
------------------------------------------------------------------------
r33288 | stig | 2010-06-22 06:40:28 -0700 (Tue, 22 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/prefs.c
   M /trunk/gtk/menus.c

Check for custom column before using custom_field.
Store hidden columns correctly.

------------------------------------------------------------------------
r33289 | stig | 2010-06-22 08:12:20 -0700 (Tue, 22 Jun 2010) | 7 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-mactelnet.c

From Håkon Nessjøen via bug 4899:
Dissector for Mikrotik RouterOS protocol for telneting without using IP
addresses.

From me:
Code cleanup.

------------------------------------------------------------------------
r33290 | stig | 2010-06-22 08:14:42 -0700 (Tue, 22 Jun 2010) | 2 lines
Changed paths:
   M /trunk/AUTHORS

Added Håkon Nessjøen.

------------------------------------------------------------------------
r33291 | wmeier | 2010-06-22 08:33:27 -0700 (Tue, 22 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gmhdr.c

Ensure no exceptions thrown while checking for Gigamon trailer.
(Builds upon the previous commit by Anders).

------------------------------------------------------------------------
r33292 | stig | 2010-06-22 09:56:07 -0700 (Tue, 22 Jun 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mactelnet.c

From Håkon Nessjøen:
Added configurability of port number.

From me:
Removed some unneeded variable inits.

------------------------------------------------------------------------
r33293 | wmeier | 2010-06-22 17:04:37 -0700 (Tue, 22 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gmhdr.c

Strengthen test for Gigamon trailer;
Change some indentation/spacing.

------------------------------------------------------------------------
r33294 | etxrab | 2010-06-22 21:50:52 -0700 (Tue, 22 Jun 2010) | 3 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/asn1/lte-rrc/lte-rrc.cnf
   M /trunk/asn1/s1ap/packet-s1ap-template.c
   M /trunk/asn1/s1ap/s1ap.cnf
   M /trunk/epan/dissectors/packet-lte-rrc.c
   M /trunk/epan/dissectors/packet-lte-rrc.h
   M /trunk/epan/dissectors/packet-s1ap.c

FromToshihiro Kataoka:
Dissect 3GPP S1AP UE Capability Info Indication.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4904
------------------------------------------------------------------------
r33295 | stig | 2010-06-23 00:26:50 -0700 (Wed, 23 Jun 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mactelnet.c

Added link to a protocol description.
Show the control packet magic number.
Set correct length on the control packet item.
Corrected some blurbs.

------------------------------------------------------------------------
r33296 | stig | 2010-06-23 00:29:53 -0700 (Wed, 23 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Use the fetched cur_fmt for format number.

------------------------------------------------------------------------
r33297 | tuexen | 2010-06-23 00:47:15 -0700 (Wed, 23 Jun 2010) | 2 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/gtk/sctp_chunk_stat.c
   M /trunk/gtk/sctp_chunk_stat_dlg.c
   M /trunk/gtk/sctp_stat.c
   M /trunk/gtk/sctp_stat.h
   M /trunk/gtk/sctp_stat_dlg.c

From Robin Seggelmann: Improve SCTP chunk statistics.

------------------------------------------------------------------------
r33298 | gal | 2010-06-23 04:00:46 -0700 (Wed, 23 Jun 2010) | 7 lines
Changed paths:
   M /trunk/tools/asn2wrs.py

New option (-r) to allow a prefix to be removed from type names.
Usage: asn2wrs.py -r prefix

This is used by x509sat where a prefix is used in type names to 
avoid conflicts with built-in types.


------------------------------------------------------------------------
r33299 | gal | 2010-06-23 04:07:08 -0700 (Wed, 23 Jun 2010) | 3 lines
Changed paths:
   M /trunk/asn1/x509sat/Makefile.common
   M /trunk/asn1/x509sat/SelectedAttributeTypes.asn
   M /trunk/asn1/x509sat/x509sat.cnf
   M /trunk/epan/dissectors/packet-x509sat.c
   M /trunk/epan/dissectors/packet-x509sat.h

Update to register basic ASN.1 syntaxes.


------------------------------------------------------------------------
r33300 | gal | 2010-06-23 04:28:59 -0700 (Wed, 23 Jun 2010) | 48 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Configuration to allow the definition of an OID name and associated syntax.

It allows the user to:
* Add names and/or syntaxes for OIDs that Wireshark doesn't natively understand
* Override the built-in OID names (e.g. change 'id-at-organization' to 'o')
* Use a special syntax, "ASN.1", that allows a value associated with an OID 
  to be dissected as "unknown ber". (This is a effectively a selective 
  version of the "Decode unexpected tags as BER encoded data" BER option.)

The configuration file is a glib key-value file, with the dotted OID used as
the group, and two keys defined, "name" and "syntax".

A configuration option is added to the BER preferences page. A single 
configuration file may be specified, or a directory may be specified. If a 
directory is specified, then the files with a ".oid" extension will be loaded.

An example configuration file:

[2.5.21.5]
name=attributeTypes
syntax=ASN.1
[2.5.21.6]
name=objectClasses
[2.5.21.7]
name=nameForms
[1.2.840.10040.4.3]
name=id-dsa-with-sha1
[2.5.4.6]
name=c
[2.5.4.10]
name=o
[2.5.4.11]
name=ou
[2.5.4.3]
name=cn
[1.3.32.0.2.0.4.66]
name=Unknown OID
syntax=PrintableString
[0.9.2342.19200300.100.1.10]
name=unknown dn
syntax=DistinguishedName

----

The list of known syntaxes is shown in the "Decode As ..." dialog when 
examining a BER file.


------------------------------------------------------------------------
r33301 | stig | 2010-06-23 04:57:16 -0700 (Wed, 23 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/frame_data.c

Ensure the "Delta time displayed" is always zero for the first displayed
packet, and not the delta from the first captured package.

------------------------------------------------------------------------
r33302 | wmeier | 2010-06-23 07:24:09 -0700 (Wed, 23 Jun 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mactelnet.c

- Use tvb_reported_length() instead of tvb_length() in a few cases;
- col_clear() not req'd;
- Use guint32 for offset;
- Minor whitespace/indentation cleanup.

------------------------------------------------------------------------
r33303 | gal | 2010-06-23 07:26:19 -0700 (Wed, 23 Jun 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

The version of glib on Solaris 10 (2.4?) does not support GKeyFile which was
introduced in 2.6. Disable oid table if GKeyFile is not available. 


------------------------------------------------------------------------
r33304 | stig | 2010-06-23 09:49:17 -0700 (Wed, 23 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gtk/conversations_table.c
   M /trunk/gtk/dlg_utils.c
   M /trunk/gtk/stock_icons.c
   M /trunk/gtk/stock_icons.h

Added a "Follow Stream" button to the conversations dialog.

------------------------------------------------------------------------
r33305 | stig | 2010-06-23 12:49:33 -0700 (Wed, 23 Jun 2010) | 3 lines
Changed paths:
   M /trunk/gtk/conversations_table.c

Add the "Follow Stream" button to the TCP conversations and UDP conversations
dialog.

------------------------------------------------------------------------
r33306 | stig | 2010-06-23 12:59:35 -0700 (Wed, 23 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mactelnet.c

Use correct data type for port number.

------------------------------------------------------------------------
r33307 | wmeier | 2010-06-23 13:08:11 -0700 (Wed, 23 Jun 2010) | 8 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-ethertype.c
   A /trunk/epan/dissectors/packet-tdmoe.c
   M /trunk/epan/etypes.h

From Haakon Nessjoen: New dissector for Digiums TDMoE protocol

From me: A few minor changes:
- col-clear() not req'd;
- Use 'gint32 length' rather than 'guint8 length';
- Use ENC_NA instead of FALSE/TRUE in two cases;
- Move global tdmoe_handle to be local to proto_reg_handoff...

------------------------------------------------------------------------
r33308 | wmeier | 2010-06-23 13:17:33 -0700 (Wed, 23 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mactelnet.c

Use ENC_NA rather than FALSE.

------------------------------------------------------------------------
r33309 | etxrab | 2010-06-23 23:01:11 -0700 (Wed, 23 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/epan/dissectors/packet-ssl-utils.h
   M /trunk/epan/dissectors/packet-ssl.c

From "wiresharkbugzilla@jdkbx.cjb.net":
Support for RFC4279 Pre-Shared Key Ciphersuites for Transport Layer Security (TLS)
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4853
------------------------------------------------------------------------
r33310 | etxrab | 2010-06-23 23:37:31 -0700 (Wed, 23 Jun 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ssl.c

Try to fix the build.
------------------------------------------------------------------------
r33311 | gal | 2010-06-24 02:12:28 -0700 (Thu, 24 Jun 2010) | 3 lines
Changed paths:
   M /trunk/doc/wireshark.pod.template

Update with documentation on the object identifier configuration files.


------------------------------------------------------------------------
r33312 | etxrab | 2010-06-24 03:42:13 -0700 (Thu, 24 Jun 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_rr.c

from Sylvain Munaut:
SDCCH8 subchannel decoding error in GSM RR dissector 
Summary:  SDCCH8 subchannel decoding error in GSM RR dissector  

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4910
------------------------------------------------------------------------
r33313 | stig | 2010-06-24 04:37:03 -0700 (Thu, 24 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

Added description of ECT and ECN-CE, added TFS for the bit values
and some item cleanup.

------------------------------------------------------------------------
r33314 | stig | 2010-06-24 06:40:47 -0700 (Thu, 24 Jun 2010) | 2 lines
Changed paths:
   M /trunk/asn1/x509sat/Makefile.common

Build dependency to x411.

------------------------------------------------------------------------
r33315 | stig | 2010-06-24 11:07:40 -0700 (Thu, 24 Jun 2010) | 5 lines
Changed paths:
   M /trunk/epan/proto.c

Ensure we use the numeric value when creating a filter from a custom column
entry displaying a integer value.  The resolved string can contain a space,
and our routines does not quote integer values, and A DEC_HEX/HEX_DEC
combination will never match.

------------------------------------------------------------------------
r33316 | morriss | 2010-06-24 12:58:20 -0700 (Thu, 24 Jun 2010) | 1 line
Changed paths:
   M /trunk/docbook/wsluarm.xml

Lua is now enabled by default.  Capitalize Lua in a few places.  Call protocol dissectors 'protocol dissectors' instead of protocols.
------------------------------------------------------------------------
r33317 | stig | 2010-06-24 23:42:34 -0700 (Thu, 24 Jun 2010) | 6 lines
Changed paths:
   M /trunk/epan/column.c
   M /trunk/epan/column.h
   M /trunk/epan/prefs.c
   M /trunk/gtk/menus.c
   M /trunk/gtk/menus.h
   M /trunk/gtk/new_packet_list.c
   M /trunk/gtk/new_packet_list.h
   M /trunk/gtk/packet_list_store.c
   M /trunk/gtk/prefs_column.c

Introduce "Show Resolved" as an option in custom columns.  This will determine
if we show the value or the string representing the value.

This setting is not stored in the preferences file yet, and the option is
not available in the columns preferences window.

------------------------------------------------------------------------
r33318 | stig | 2010-06-25 00:35:52 -0700 (Fri, 25 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Added get_column_resolved and set_column_resolved.

------------------------------------------------------------------------
r33319 | stig | 2010-06-25 02:58:25 -0700 (Fri, 25 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/uat_load.l

Run uat->post_update_cb() in uat_load().

------------------------------------------------------------------------
r33320 | stig | 2010-06-25 03:44:12 -0700 (Fri, 25 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/proto.c
   M /trunk/gtk/new_packet_list.c

Enable "Show Resolved" for custom OID columns.

------------------------------------------------------------------------
r33321 | gerald | 2010-06-25 10:14:41 -0700 (Fri, 25 Jun 2010) | 6 lines
Changed paths:
   M /trunk/epan/sigcomp-udvm.c
   M /trunk/epan/sigcomp_state_hdlr.c

Make sure our addresses are modulo 2^16 in a lot of places. Fixes a
crash found while fuzzing, and hopefully fixes bug 4867.

In sigcomp_init_udvm() initialize the first 8 bytes of our buffers,
which squelches a valgrind complaint.

------------------------------------------------------------------------
r33322 | stig | 2010-06-25 11:55:09 -0700 (Fri, 25 Jun 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main.c
   M /trunk/gtk/recent.c
   M /trunk/gtk/recent.h

From Cal Turney via bug 4849:
Save the folder path of the last capture selected in the Open dialog in recent.

------------------------------------------------------------------------
r33323 | stig | 2010-06-25 12:22:32 -0700 (Fri, 25 Jun 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main.c

Fall back to get_persdatafile_dir() if recent.gui_fileopen_remembered_dir
does not exist or is no directory.

------------------------------------------------------------------------
r33324 | stig | 2010-06-25 12:33:18 -0700 (Fri, 25 Jun 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main.c
   M /trunk/gtk/recent.c

Initialize recent.gui_fileopen_remembered_dir correctly.
Set last open dir when changing profile.

------------------------------------------------------------------------
r33325 | gerald | 2010-06-25 14:01:42 -0700 (Fri, 25 Jun 2010) | 3 lines
Changed paths:
   M /trunk/gtk/follow_tcp.c

Try replacing "-->" with the UTF-8 byte sequence for "RIGHTWARDS ARROW".
If this works we can replace ASCII arrows elsewhere in the UI.

------------------------------------------------------------------------
r33326 | gerald | 2010-06-25 15:09:34 -0700 (Fri, 25 Jun 2010) | 3 lines
Changed paths:
   M /trunk/gtk/Makefile.common
   M /trunk/gtk/conversations_table.c
   M /trunk/gtk/follow_ssl.c
   M /trunk/gtk/follow_tcp.c
   M /trunk/gtk/follow_udp.c
   M /trunk/gtk/iax2_analysis.c
   M /trunk/gtk/rtp_analysis.c
   A /trunk/gtk/utf8_entities.h

UTF-8-ize a bunch more arrows. If IE6 on XP can render them then they
*must* be safe to use, right?

------------------------------------------------------------------------
r33327 | gerald | 2010-06-25 15:24:26 -0700 (Fri, 25 Jun 2010) | 4 lines
Changed paths:
   M /trunk/tshark.c

r32715 fixed bug 4708 (zlib-1.2.5 cause wireshark to stop live capture)
for Wireshark but not TShark. Apply the fix to TShark as well. Fixes bug
4916.

------------------------------------------------------------------------
r33328 | martinm | 2010-06-25 16:04:16 -0700 (Fri, 25 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c
   M /trunk/gtk/rlc_lte_stat_dlg.c

Improve UM analysis - make it more like AM.

------------------------------------------------------------------------
r33329 | stig | 2010-06-26 05:00:08 -0700 (Sat, 26 Jun 2010) | 3 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

Avoid crash when adding SNMP Users.
This fixes bug 4926.

------------------------------------------------------------------------
r33330 | etxrab | 2010-06-26 09:39:18 -0700 (Sat, 26 Jun 2010) | 3 lines
Changed paths:
   M /trunk/asn1/s1ap/s1ap.cnf
   M /trunk/epan/dissectors/packet-s1ap.c

From KATAOKA Toshihiro:
3GPP S1AP Transparent Container.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4913
------------------------------------------------------------------------
r33331 | stig | 2010-06-26 14:03:01 -0700 (Sat, 26 Jun 2010) | 5 lines
Changed paths:
   M /trunk/file.c

Increase the displayed_count before we add the packet to the packet list,
because we update the the packets bar when adding the packet.

This fixes bug 4896.

------------------------------------------------------------------------
r33332 | stig | 2010-06-26 14:30:36 -0700 (Sat, 26 Jun 2010) | 4 lines
Changed paths:
   M /trunk/gtk/main.c
   M /trunk/gtk/packet_list_store.c

Always show packets with Time Reference (as in the old packet list).
Recreate visible rows when removing a Time Reference which has not passed
the display filter.

------------------------------------------------------------------------
r33333 | stig | 2010-06-26 14:42:12 -0700 (Sat, 26 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gtk/new_packet_list.c

Cleanup some whitespace.

------------------------------------------------------------------------
r33334 | stig | 2010-06-26 15:53:36 -0700 (Sat, 26 Jun 2010) | 2 lines
Changed paths:
   M /trunk/gtk/main.c
   M /trunk/gtk/packet_list_store.c

Fixed removing a Time Reference from a column not matching the display filter.

------------------------------------------------------------------------
r33335 | etxrab | 2010-06-27 01:22:50 -0700 (Sun, 27 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.c
   M /trunk/epan/dissectors/packet-mip6.h

From KATAOKA Toshihiro:
MIPv6 Heartbeat
------------------------------------------------------------------------
r33336 | gerald | 2010-06-27 08:03:39 -0700 (Sun, 27 Jun 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-06-27]
------------------------------------------------------------------------
r33340 | gerald | 2010-06-27 14:47:06 -0700 (Sun, 27 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/dcerpc/idl2wrs.c
   M /trunk/epan/dissectors/packet-dcerpc-drsuapi.c

Make sure some variables are initialized.

------------------------------------------------------------------------
r33341 | gerald | 2010-06-27 15:38:28 -0700 (Sun, 27 Jun 2010) | 3 lines
Changed paths:
   M /trunk/asn1/ldap/ldap.cnf
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/epan/dissectors/packet-ldap.c

Initialize attributedesc_string in a couple of places so that we
don't end up trying to use an invalid pointer.

------------------------------------------------------------------------
r33342 | gal | 2010-06-28 02:26:41 -0700 (Mon, 28 Jun 2010) | 5 lines
Changed paths:
   M /trunk/asn1/x509sat/Makefile.common
   M /trunk/asn1/x509sat/packet-x509sat-template.c
   M /trunk/epan/dissectors/packet-x509sat.c
   M /trunk/tools/asn2wrs.py

Remove the -R flag (used to generate syntax registrations) and replace with a 
packet-<proto>-syn-reg.c output file. This is more generic and allows the 
syntax registrations to the directed from the template file.


------------------------------------------------------------------------
r33343 | gal | 2010-06-28 02:30:15 -0700 (Mon, 28 Jun 2010) | 5 lines
Changed paths:
   M /trunk/epan/uat.c
   M /trunk/epan/uat.h

Introduce an Object Identifier field macro, together with an appropriate field
check routine.
Also, a field type which is an enumerated string value.


------------------------------------------------------------------------
r33344 | gal | 2010-06-28 02:33:04 -0700 (Mon, 28 Jun 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

After a nudge from Stig (thanks Stig), convert the OID configuration from 
GKeyFile (which is not available on Sparc Solaris) to a User Accessible 
Table(UAT). 
This also allows the user to manage the configuration from the Wireshark GUI 
and select the associated syntax from a drop down list.


------------------------------------------------------------------------
r33345 | stig | 2010-06-28 03:34:15 -0700 (Mon, 28 Jun 2010) | 3 lines
Changed paths:
   M /trunk/asn1/s4406/packet-s4406-template.c
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/asn1/x411/packet-x411-template.c
   M /trunk/asn1/x509af/packet-x509af-template.c
   M /trunk/epan/dissectors/packet-s4406.c
   M /trunk/epan/dissectors/packet-snmp.c
   M /trunk/epan/dissectors/packet-x411.c
   M /trunk/epan/dissectors/packet-x509af.c

Moved register_ber_syntax_dissector() and register_ber_oid_syntax() from
proto_reg_handoff_* to proto_register_*.

------------------------------------------------------------------------
r33346 | martinm | 2010-06-28 03:50:03 -0700 (Mon, 28 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c

Further improvements to UM sequence analysis.

------------------------------------------------------------------------
r33347 | gal | 2010-06-28 04:15:11 -0700 (Mon, 28 Jun 2010) | 3 lines
Changed paths:
   M /trunk/doc/wireshark.pod.template

Remove documentation of Object Identifier configuration files, as a UAT is now used.


------------------------------------------------------------------------
r33348 | stig | 2010-06-28 05:42:40 -0700 (Mon, 28 Jun 2010) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

From Hitoshi Irino via bug 4942:
1. fix the bug in dissect_v9_pdu.
(The bug is introduced in r32627, It's my fault, I'm sorry.)
When option data record is decoded, unpatched dissect_v9_pdu decode only scope
fields, it does not decode following data fields. And it runs in endless loop
when length of a scope filed is 0. This patch solve these problem.
2. defines some value_strings for some fields.
3. updates URLs in comment.

------------------------------------------------------------------------
r33349 | stig | 2010-06-28 06:58:00 -0700 (Mon, 28 Jun 2010) | 8 lines
Changed paths:
   M /trunk/util.c

From Jan Šafránek via bug 4945:
Remove any '%<interface>' from default filter.

Wireshark prepares unparseable default filter when it's started under
'ssh <link-local ipv6 address>%<interface name>' - '%' in SSH_CONNECTION
is not allowed filter. Let's cut the '%<interface name>' from any IP
addresses in default filters. 

------------------------------------------------------------------------
r33350 | gal | 2010-06-28 07:24:32 -0700 (Mon, 28 Jun 2010) | 2 lines
Changed paths:
   M /trunk/asn1/x411/packet-x411-template.h
   M /trunk/asn1/x411/x411.cnf
   M /trunk/asn1/x420/packet-x420-template.h
   M /trunk/asn1/x420/x420.cnf
   M /trunk/epan/dissectors/packet-x411.c
   M /trunk/epan/dissectors/packet-x411.h
   M /trunk/epan/dissectors/packet-x420.c
   M /trunk/epan/dissectors/packet-x420.h

Removal of various warnings, mainly by not emitting functions for ASN.1 types that are only used for COMPONENTS OF.

------------------------------------------------------------------------
r33351 | etxrab | 2010-06-28 08:31:41 -0700 (Mon, 28 Jun 2010) | 1 line
Changed paths:
   M /trunk/asn1/ranap/ranap.cnf
   M /trunk/asn1/s1ap/Makefile.common
   M /trunk/asn1/s1ap/s1ap.cnf
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-gtpv2.c
   M /trunk/epan/dissectors/packet-ranap.c
   M /trunk/epan/dissectors/packet-ranap.h
   M /trunk/epan/dissectors/packet-s1ap.c

Dissect more GTPV2 IE's
------------------------------------------------------------------------
r33352 | gerald | 2010-06-28 09:50:07 -0700 (Mon, 28 Jun 2010) | 2 lines
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_tools.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_advanced.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_customize.xml

Replace ASCII arrows with their equivalent character entities.

------------------------------------------------------------------------
r33353 | martinm | 2010-06-28 10:25:58 -0700 (Mon, 28 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c

Change a couple of format specifiers: %-nu  looks better than %0nu here

------------------------------------------------------------------------
r33354 | gerald | 2010-06-28 10:26:07 -0700 (Mon, 28 Jun 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

It looks like dissect_ber_octet_string() is called with the expectation
that out_tvb will always be set (the H.248 dissector does this, at
least). Make sure we do so. Do the same for
dissect_ber_constrained_octet_string().

------------------------------------------------------------------------
r33355 | stig | 2010-06-28 12:06:16 -0700 (Mon, 28 Jun 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Search in user defined oid syntax table before built-in oid table in
call_ber_oid_callback(), so the user can override the defaults in the
"OID Tables".

------------------------------------------------------------------------
r33356 | stig | 2010-06-28 14:04:56 -0700 (Mon, 28 Jun 2010) | 2 lines
Changed paths:
   A /trunk/asn1/s1ap/packet-s1ap-template.h
   A /trunk/epan/dissectors/packet-s1ap.h

Add the missing packet-s1ap.h

------------------------------------------------------------------------
r33357 | stig | 2010-06-28 14:05:31 -0700 (Mon, 28 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Mark an unused argument.

------------------------------------------------------------------------
r33358 | gerald | 2010-06-28 15:13:53 -0700 (Mon, 28 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Make sure dissect_ber_integer() always sets a value.

------------------------------------------------------------------------
r33359 | wmeier | 2010-06-28 15:29:49 -0700 (Mon, 28 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/addr_resolv.c

Rework ethernet address resolution: step 1: simplify 'get_ether_name_if_known()'

------------------------------------------------------------------------
r33360 | wmeier | 2010-06-28 15:43:13 -0700 (Mon, 28 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/addr_resolv.c

(Trivial): Whitespace revisions.

------------------------------------------------------------------------
r33361 | gerald | 2010-06-28 16:11:48 -0700 (Mon, 28 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

tvb_get_ptr() may not return a valid string. Must I break out the
picture of the cow again?

------------------------------------------------------------------------
r33362 | gerald | 2010-06-28 17:08:24 -0700 (Mon, 28 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c

Make sure we don't dereference an invalid function pointer. Fixes bug 4949.

------------------------------------------------------------------------
r33363 | gerald | 2010-06-28 17:44:41 -0700 (Mon, 28 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Don't try to use a NULL tvb in call_ber_oid_callback(). Fixes bug 4950.

------------------------------------------------------------------------
r33364 | wmeier | 2010-06-28 19:53:17 -0700 (Mon, 28 Jun 2010) | 8 lines
Changed paths:
   M /trunk/epan/addr_resolv.c

Rework ethernet address resolution: step 2:
- Use a new hashwka_t struct (instead of hashether_t) for 
   "well-known-address" hash entries (saves some space);
- Remove unused variable from hashether_t;
- Reorder variables within hashether_t and hashmanuf_t to minimize padding in the structures;
- Rename some variables for clarity;
- Misc whitespace changes.

------------------------------------------------------------------------
r33365 | wmeier | 2010-06-28 20:43:17 -0700 (Mon, 28 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Hack to prevent checkAPIs.pl from complaining about missing const in
 'static value_string syntax_names[...]' 

------------------------------------------------------------------------
r33366 | etxrab | 2010-06-28 22:40:45 -0700 (Mon, 28 Jun 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_gm.c

Set pinfo->link_dir when protocol configuration options is in the message.
------------------------------------------------------------------------
r33367 | etxrab | 2010-06-29 01:06:13 -0700 (Tue, 29 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-gtp.c

Add "End Marker" get rid of the .h file as no one imports anything.
(Leave the .h file for a while).
------------------------------------------------------------------------
r33368 | gal | 2010-06-29 02:41:53 -0700 (Tue, 29 Jun 2010) | 3 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_customize.xml

Documentation for the Object Identifiers User Accessible Table.


------------------------------------------------------------------------
r33369 | etxrab | 2010-06-29 03:46:54 -0700 (Tue, 29 Jun 2010) | 2 lines
Changed paths:
   M /trunk/asn1/s1ap/S1AP-CommonDataTypes.asn
   M /trunk/asn1/s1ap/S1AP-Constants.asn
   M /trunk/asn1/s1ap/S1AP-IEs.asn
   M /trunk/asn1/s1ap/S1AP-PDU-Contents.asn
   M /trunk/asn1/s1ap/S1AP-PDU-Descriptions.asn
   M /trunk/asn1/s1ap/s1ap.cnf
   M /trunk/epan/dissectors/packet-s1ap.c
   M /trunk/epan/dissectors/packet-s1ap.h

Update to V9.3.0 (2010-06)
Export ENB-StatusTransfer-TransparentContainer
------------------------------------------------------------------------
r33370 | gal | 2010-06-29 05:16:10 -0700 (Tue, 29 Jun 2010) | 7 lines
Changed paths:
   M /trunk/asn1/x509sat/x509sat.cnf
   M /trunk/epan/dissectors/packet-x509sat.c
   M /trunk/epan/dissectors/packet-x509sat.h
   M /trunk/tools/asn2wrs.py

New "#.SYNTAX" section for the asn2wrs conformance file. 
This allows syntaxes to be registered separately from PDUs.
Within the new section, the ASN.1 types to be used as syntaxes should be iterated. 
An optional second parameter on each line may be provided to provide an alternative name for the syntax (that the user will see). This name must be in double quotes.



------------------------------------------------------------------------
r33371 | etxrab | 2010-06-29 07:50:40 -0700 (Tue, 29 Jun 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c

Allow dissection if not ciphered.
------------------------------------------------------------------------
r33372 | etxrab | 2010-06-29 07:56:39 -0700 (Tue, 29 Jun 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Dissect one F-container
------------------------------------------------------------------------
r33373 | gerald | 2010-06-29 08:58:00 -0700 (Tue, 29 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

Shorten "Number of bytes in flight" to "Bytes in flight", otherwise we
end up with a really wide column.

------------------------------------------------------------------------
r33374 | gal | 2010-06-29 11:07:33 -0700 (Tue, 29 Jun 2010) | 3 lines
Changed paths:
   M /trunk/asn1/ansi_tcap/ansi_tcap.cnf
   M /trunk/epan/dissectors/packet-ansi_tcap.c

Decode parameters as ASN.1 directly and avoid interpreting as an OCTET STRING.


------------------------------------------------------------------------
r33375 | gal | 2010-06-29 11:09:03 -0700 (Tue, 29 Jun 2010) | 3 lines
Changed paths:
   M /trunk/asn1/pres/ISO8823-PRESENTATION.asn
   M /trunk/asn1/pres/pres.cnf
   M /trunk/epan/dissectors/packet-pres.c

Interpret single-ASN1-type as ASN.1 and not as an OCTET STRING.


------------------------------------------------------------------------
r33376 | etxrab | 2010-06-29 14:29:53 -0700 (Tue, 29 Jun 2010) | 4 lines
Changed paths:
   M /trunk/gtk/menus.c

Fix:new_packet_list: Crash triggered when changing display filter from right-mouse pop-up menu via packet-list.
 g_object_set_data() was using physical_row rather than row.

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4860
------------------------------------------------------------------------
r33377 | guy | 2010-06-29 15:38:00 -0700 (Tue, 29 Jun 2010) | 3 lines
Changed paths:
   M /trunk/gtk/menus.c

Back out what I suspect were private/not-ready-for-prime-time changes,
not all of the parts of which were present, causing the build to fail.

------------------------------------------------------------------------
r33378 | guy | 2010-06-29 16:37:10 -0700 (Tue, 29 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common

Include packet-gtp.h in the release tarball.

------------------------------------------------------------------------
r33379 | gerald | 2010-06-29 16:48:24 -0700 (Tue, 29 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Completely revert r33367 so that we don't duplicate content in
packet-gtp.h.

------------------------------------------------------------------------
r33380 | gerald | 2010-06-29 16:50:51 -0700 (Tue, 29 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c
   M /trunk/epan/dissectors/packet-gtp.h

Add End Marker back in.

------------------------------------------------------------------------
r33381 | krj | 2010-06-29 22:37:34 -0700 (Tue, 29 Jun 2010) | 1 line
Changed paths:
   M /trunk/asn1/Makefile.inc

Sort filename expansion
------------------------------------------------------------------------
r33382 | stig | 2010-06-30 02:09:18 -0700 (Wed, 30 Jun 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Added expert info for illegal bitstring padding and when bits are set
in the padded area.

------------------------------------------------------------------------
r33383 | gal | 2010-06-30 03:06:21 -0700 (Wed, 30 Jun 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

When determining a BER length, make sure the BER identifier was marked as constructed if an indefinite length is encountered.
This helps prevent a stack overflow problem reported in Bug 4951.


------------------------------------------------------------------------
r33384 | etxrab | 2010-06-30 12:38:26 -0700 (Wed, 30 Jun 2010) | 5 lines
Changed paths:
   M /trunk/file.c

Reverting
http://anonsvn.wireshark.org/viewvc?view=rev&revision=29861
seems to fix the scrolling in live captures issue.

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4891
------------------------------------------------------------------------
r33385 | gerald | 2010-06-30 16:07:58 -0700 (Wed, 30 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

Use the right array bounds.

------------------------------------------------------------------------
r33386 | gerald | 2010-06-30 16:20:03 -0700 (Wed, 30 Jun 2010) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/doc/Makefile.am
   M /trunk/docbook/Makefile.am
   M /trunk/epan/Makefile.am
   M /trunk/epan/dissectors/Makefile.am
   M /trunk/gtk/Makefile.am
   M /trunk/plugins/Makefile.am
   M /trunk/wiretap/Makefile.am

Add Visual C++ project files to the distribution.

------------------------------------------------------------------------
r33388 | gerald | 2010-06-30 16:36:24 -0700 (Wed, 30 Jun 2010) | 2 lines
Changed paths:
   M /trunk/asn1/ldap/ldap.cnf
   M /trunk/epan/dissectors/packet-ldap.c

Initialize a variable.

------------------------------------------------------------------------
r33389 | gerald | 2010-06-30 16:40:05 -0700 (Wed, 30 Jun 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-netlogon.c

Initialize some variables.

------------------------------------------------------------------------
r33390 | gerald | 2010-06-30 16:45:24 -0700 (Wed, 30 Jun 2010) | 2 lines
Changed paths:
   M /trunk/asn1/ldap/ldap.cnf
   M /trunk/epan/dissectors/packet-ldap.c

Initialize a variable.

------------------------------------------------------------------------
r33392 | gerald | 2010-06-30 17:11:14 -0700 (Wed, 30 Jun 2010) | 2 lines
Changed paths:
   M /trunk/asn1/ldap/ldap.cnf
   M /trunk/asn1/spnego/spnego.cnf
   M /trunk/epan/dissectors/packet-ldap.c
   M /trunk/epan/dissectors/packet-spnego.c

Initialize more variables.

------------------------------------------------------------------------
r33393 | guy | 2010-06-30 17:12:16 -0700 (Wed, 30 Jun 2010) | 7 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/capture_opts.h
   M /trunk/capture_sync.c
   M /trunk/tshark.c

From Petr Lautrbach: when capturing, return the exit status of dumpcap,
so we give a non-zero exit status for invalid interfaces or capture
filters.

From me: don't exit immediately if dumpcap failed, print out information
from taps and the like.

------------------------------------------------------------------------
r33396 | gerald | 2010-06-30 17:44:21 -0700 (Wed, 30 Jun 2010) | 2 lines
Changed paths:
   M /trunk/asn1/spnego/packet-spnego-template.c
   M /trunk/asn1/spnego/spnego.cnf
   M /trunk/epan/dissectors/packet-spnego.c

Initialize MechType_oid in the right place.

------------------------------------------------------------------------
r33397 | guy | 2010-06-30 21:01:13 -0700 (Wed, 30 Jun 2010) | 3 lines
Changed paths:
   M /trunk/test/suite-clopts.sh

TShark now exits with a status of 1 for an invalid interface or capture
filter; check for that, rather than for a status of 0.

------------------------------------------------------------------------
r33398 | stig | 2010-07-01 04:31:24 -0700 (Thu, 01 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/new_packet_list.c

Remove some double GTK_TREE_VIEW casts.

------------------------------------------------------------------------
r33399 | stig | 2010-07-01 05:21:29 -0700 (Thu, 01 Jul 2010) | 5 lines
Changed paths:
   M /trunk/gtk/main.c
   M /trunk/gtk/new_packet_list.c
   M /trunk/gtk/new_packet_list.h

Fetch filter and copy summary from correct column after DND columns.

This does not recreate the internal structures, but we we fix the problem
with fetching wrong data.  Printing still uses the configured column order.

------------------------------------------------------------------------
r33400 | stig | 2010-07-01 07:33:36 -0700 (Thu, 01 Jul 2010) | 6 lines
Changed paths:
   M /trunk/gtk/new_packet_list.c

Recreate the packet list on DND columns.

This is a quick'n'dirty fix and not optimal, but it fixes the problems we
have with DND columns.  We have to rewrite new_packet_list_recreate() to
handle both new, delete and reorder columns.

------------------------------------------------------------------------
r33401 | wmeier | 2010-07-01 08:11:02 -0700 (Thu, 01 Jul 2010) | 11 lines
Changed paths:
   M /trunk/epan/addr_resolv.c

Rework ethernet address resolution: step 3 of 3:
- Primarily: ethernet name lookup returns either
   unresolved or resolved ethernet name depending upon whether 
   MAC Name resolution is disabled or enabled.
   Previously: Unresolved or resolved name cached at first reference
   and then always returned for future references no matter whether
   MAC Name Resolution was enabled or disabled. 
- Also: Refactor ethernet, manuf & well-known-addr related code;

ToDo: (separately): Redisplay when 'MAC name resolution' enabled/disabled. 

------------------------------------------------------------------------
r33402 | gerald | 2010-07-01 09:35:37 -0700 (Thu, 01 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Have get_ber_length() set the length to 0 by default. This restores behavior
that was lost recently.

------------------------------------------------------------------------
r33403 | gerald | 2010-07-01 10:57:53 -0700 (Thu, 01 Jul 2010) | 2 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

Don't add raw bytes to the tree.

------------------------------------------------------------------------
r33404 | wmeier | 2010-07-01 11:42:41 -0700 (Thu, 01 Jul 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-batadv.c

From Sven Eckelmann: Add support for v11 packet format
"Please add support for v11 ogm packets used in linux 2.6.36"
See: Bug #4920: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4920

------------------------------------------------------------------------
r33405 | wmeier | 2010-07-01 12:19:03 -0700 (Thu, 01 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-batadv.c

From Sven Eckelmann:  Fix size of seqno in icmp packets
See Bug #4921: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4921

------------------------------------------------------------------------
r33409 | guy | 2010-07-01 20:50:30 -0700 (Thu, 01 Jul 2010) | 6 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

oid_encoded2string() returns a const char *; don't assign it to a char
*.

Don't declare variables in the middle of a block; not all the compilers
we use support that.

------------------------------------------------------------------------
r33410 | guy | 2010-07-01 21:11:04 -0700 (Thu, 01 Jul 2010) | 3 lines
Changed paths:
   M /trunk/capture_sync.c

Have sync_pipe_wait_for_child() return the child's exit status on
Windows, just as we do on UN*X.

------------------------------------------------------------------------
r33411 | guy | 2010-07-02 01:39:08 -0700 (Fri, 02 Jul 2010) | 3 lines
Changed paths:
   M /trunk/capture_sync.c

Attempt to detect when dumpcap dies due to an exception and report that
appropriately.

------------------------------------------------------------------------
r33412 | guy | 2010-07-02 01:41:19 -0700 (Fri, 02 Jul 2010) | 2 lines
Changed paths:
   M /trunk/capture_sync.c

Include <Winbase.h> to get error statuses.

------------------------------------------------------------------------
r33413 | guy | 2010-07-02 01:52:35 -0700 (Fri, 02 Jul 2010) | 6 lines
Changed paths:
   M /trunk/capture_sync.c

STATUS_UNWIND_CONSOLIDATE "should not happen", so don't include it -
we'd have to include some other headers to get it defined.

Get rid of the include of Winbase.h - it doesn't define
STATUS_UNWIND_CONSOLIDATE, and it's not necessary.

------------------------------------------------------------------------
r33414 | stig | 2010-07-02 06:15:44 -0700 (Fri, 02 Jul 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dmp.c

Code cleanup:
- Use ep_strdup_printf instead of ep_alloc + g_snprintf
- Untabify

------------------------------------------------------------------------
r33426 | gerald | 2010-07-04 08:03:32 -0700 (Sun, 04 Jul 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-07-04]
------------------------------------------------------------------------
r33430 | stig | 2010-07-05 02:05:27 -0700 (Mon, 05 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/prefs.c
   M /trunk/gtk/main_packet_list.c
   M /trunk/gtk/new_packet_list.c

Revert COL_DSCP_VALUE back to value set in packet-ip.c.
Right justify COL_DSCP_VALUE (and COL_DCE_CALL as in the old packet list).

------------------------------------------------------------------------
r33431 | martinm | 2010-07-05 03:35:17 -0700 (Mon, 05 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-mac-lte.h
   M /trunk/gtk/mac_lte_stat_dlg.c

For DL HARQ retx, support knowing result or not.

------------------------------------------------------------------------
r33432 | martinm | 2010-07-05 03:50:27 -0700 (Mon, 05 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Check range of supplied subframe number.  If out, set back to max (9) and
add expert info error.  Should fix bug 4970.

------------------------------------------------------------------------
r33433 | stig | 2010-07-05 03:53:48 -0700 (Mon, 05 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/main_proto_draw.c

We have no first and second block when dumping bits view, so no adjustments.

------------------------------------------------------------------------
r33434 | martinm | 2010-07-05 05:38:09 -0700 (Mon, 05 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/mac_lte_stat_dlg.c

Add a checkbox to allow DCT errors to be included in generated display filter.

------------------------------------------------------------------------
r33435 | etxrab | 2010-07-05 08:59:11 -0700 (Mon, 05 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Jouni Malinen:
Add a proto tree item for Current Channel in DS Parameter Set element.
------------------------------------------------------------------------
r33436 | etxrab | 2010-07-05 09:05:21 -0700 (Mon, 05 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Jouni Malinen:
Add dissecting for SA Query Action frames (IEEE 802.11w)
------------------------------------------------------------------------
r33437 | martinm | 2010-07-05 09:45:36 -0700 (Mon, 05 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-mac-lte.h

Show grant-subframe from context info.

------------------------------------------------------------------------
r33438 | martinm | 2010-07-05 10:28:28 -0700 (Mon, 05 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.h

Change type back to 16-bit to fix buildbot.
Will change subframe numbers to 8-bit later.

------------------------------------------------------------------------
r33439 | etxrab | 2010-07-05 13:04:46 -0700 (Mon, 05 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Jouni Malinen:
Add dissecting for IEEE 802.11u GAS frames.
------------------------------------------------------------------------
r33440 | etxrab | 2010-07-05 15:09:10 -0700 (Mon, 05 Jul 2010) | 4 lines
Changed paths:
   M /trunk/gtk/main_statusbar.c

- Show droped packets counter after stopping a live capture.
- Don't show "Load time" during live capture.
- Fix indentation and minor changes to comments.
Should ignored packets be shown also when drops is known?
------------------------------------------------------------------------
r33441 | jmayer | 2010-07-05 16:21:58 -0700 (Mon, 05 Jul 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipsec-tcp.c

So many people who love to use easy to remember ports.
Improve heuristics to exclude cases where the traffic
definitely isn't Cisco's IPSEC inside TCP.

Does this obsolete the NDMP protocol check?

------------------------------------------------------------------------
r33442 | etxrab | 2010-07-05 21:13:54 -0700 (Mon, 05 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c
   M /trunk/epan/dissectors/packet-rpc.c

From Ian Schorr:
NFSv4 usability enhancements (Info column summaries, filterable fields).
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4975
------------------------------------------------------------------------
r33443 | etxrab | 2010-07-05 21:20:27 -0700 (Mon, 05 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

From Andrew Feren:
Several small fixes to NetFlow decoding.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4962
------------------------------------------------------------------------
r33444 | etxrab | 2010-07-05 21:27:01 -0700 (Mon, 05 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-batadv.c

From Sven Eckelmann:
Dissector/packet-batadv: Add support for icmp rr.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4922
------------------------------------------------------------------------
r33445 | etxrab | 2010-07-05 21:32:21 -0700 (Mon, 05 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nbns.c

From Frank Schorr:
The packet-nbns.c dissector picks random data as the NBSS PDU length in certain situations.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4914
------------------------------------------------------------------------
r33446 | etxrab | 2010-07-05 21:43:45 -0700 (Mon, 05 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-svcctl.c

From Brett Kuskie:
Enhancement of the dcerpc-svcctl dissector.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4858
------------------------------------------------------------------------
r33447 | etxrab | 2010-07-05 22:46:52 -0700 (Mon, 05 Jul 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

Fix "checked api failed"
------------------------------------------------------------------------
r33448 | etxrab | 2010-07-05 22:53:18 -0700 (Mon, 05 Jul 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

Fix:
packet-nfs.c:699: warning: type defaults to 'int' in declaration of 'nfsv4_operation_tiers'

packet-nfs.c:9583: warning: unused variable 'saved_fh_hash'
packet-nfs.c:9580: warning: unused variable 'name'
------------------------------------------------------------------------
r33449 | stig | 2010-07-05 23:40:34 -0700 (Mon, 05 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

Fix the build on OSX.

------------------------------------------------------------------------
r33450 | stig | 2010-07-05 23:54:51 -0700 (Mon, 05 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

Removed non-ASCII characters.

------------------------------------------------------------------------
r33451 | stig | 2010-07-06 00:45:38 -0700 (Tue, 06 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

Try checking for G_MAXUINT64 instead of 0xffffffffffffffff.

------------------------------------------------------------------------
r33452 | guy | 2010-07-06 01:43:07 -0700 (Tue, 06 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

No need to add a fake field with the opcode as a string - you can just
compare the real opcode field against a string.

------------------------------------------------------------------------
r33454 | guy | 2010-07-06 02:51:28 -0700 (Tue, 06 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

Use G_GINT64_CONSTANT() to make a 64-bit all-bits-set constant.

------------------------------------------------------------------------
r33455 | etxrab | 2010-07-06 06:21:34 -0700 (Tue, 06 Jul 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c

Add miising else handling a zero msg_auth_code.
------------------------------------------------------------------------
r33456 | morriss | 2010-07-06 07:57:54 -0700 (Tue, 06 Jul 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

Limit the number of operations to 128 (arbitrary number) to keep us from attempting to mallocate way too much memory. This fixes the fuzz failure reported in bug 4976.
------------------------------------------------------------------------
r33457 | jake | 2010-07-06 10:22:12 -0700 (Tue, 06 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-omapi.c

Fix for bug 4982:
Handle concatenated Status and other message.

------------------------------------------------------------------------
r33458 | guy | 2010-07-06 12:37:17 -0700 (Tue, 06 Jul 2010) | 4 lines
Changed paths:
   M /trunk/packaging/macosx/ScriptExec/ScriptExec.xcodeproj/project.pbxproj

Don't set SDKROOT - which SDK we want depends on which OS we want this
to run on, and not setting it should default to the OS on which we're
building it (as opposed to an OS for which we might not *have* an SDK).

------------------------------------------------------------------------
r33459 | jake | 2010-07-06 14:02:19 -0700 (Tue, 06 Jul 2010) | 4 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

Add button to look at compiled BPF. 
This allows to test and experiment with BPF expressions, before launching
the capture itself. 

------------------------------------------------------------------------
r33460 | gerald | 2010-07-06 15:35:33 -0700 (Tue, 06 Jul 2010) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake

Add a target which creates a zip file containing our .pdb files.

------------------------------------------------------------------------
r33461 | guy | 2010-07-06 18:55:34 -0700 (Tue, 06 Jul 2010) | 7 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

I added PCAP_NETMASK_UNKNOWN in libpcap 1.1.0; it's not present in
1.0.0.  You're supposed to just use 0 in releases prior to 1.1.0 - in
1.1.0 and later, a netmask of PCAP_NETMASK_UNKNOWN will cause errors if
you try to use "ip broadcast" (as you need the netmask to check for
local broadcasts), but, prior to that, the netmask value is blindly used
even if the filter will always fail.

------------------------------------------------------------------------
r33462 | jmayer | 2010-07-07 06:25:36 -0700 (Wed, 07 Jul 2010) | 11 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common

Synchronize dissector lists between CMakeLists.txt and
dissectors/Makefile.common:

The following dissectors were missing from CM:
  dissectors/packet-dcerpc-budb.c
  dissectors/packet-dcerpc-butc.c
  dissectors/packet-dcerpc-drsuapi.c
  dissectors/packet-gsmtap.c

Both: Whitespace fixes and reordering.

------------------------------------------------------------------------
r33463 | jmayer | 2010-07-07 06:46:08 -0700 (Wed, 07 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt

Some dissectors are added in dissectors/dcerpc/CMakeLists.txt
Remove them here.

------------------------------------------------------------------------
r33464 | morriss | 2010-07-07 08:52:09 -0700 (Wed, 07 Jul 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Fix infinite recursion reported in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4984 : In try_get_ber_length() make sure we move forward before recursing.
------------------------------------------------------------------------
r33465 | etxrab | 2010-07-07 09:07:09 -0700 (Wed, 07 Jul 2010) | 1 line
Changed paths:
   M /trunk/gtk/main.h
   M /trunk/gtk/main_filter_toolbar.c
   M /trunk/gtk/main_filter_toolbar.h
   M /trunk/gtk/recent.c

Remove the #ifdefs and code related to the switch to gtk_combo_box().
------------------------------------------------------------------------
r33466 | gerald | 2010-07-07 09:55:42 -0700 (Wed, 07 Jul 2010) | 2 lines
Changed paths:
   M /trunk/tools/fuzz-test.sh

Try limiting our stack size.

------------------------------------------------------------------------
r33467 | martinm | 2010-07-07 10:13:53 -0700 (Wed, 07 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pdcp-lte.c

From Pascal Quantin: Add offset of 1 to FMS.

------------------------------------------------------------------------
r33468 | gerald | 2010-07-07 12:53:40 -0700 (Wed, 07 Jul 2010) | 2 lines
Changed paths:
   M /trunk/tools/randpkt-test.sh

Make sure we use the "randpkt-" prefix everywhere.

------------------------------------------------------------------------
r33469 | guy | 2010-07-07 13:33:19 -0700 (Wed, 07 Jul 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main_filter_toolbar.c

NEW_FILTER_COMBO_BOX no longer does anything - it's not checked for - so
there's no need to define it.

------------------------------------------------------------------------
r33470 | gerald | 2010-07-07 14:27:13 -0700 (Wed, 07 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dect.c

Fix a buffer overflow found by recent randpkt testing. Replace raw data
pointer access with tvb_memcpy() and tvb_get_ntohs().

------------------------------------------------------------------------
r33471 | morriss | 2010-07-07 15:00:44 -0700 (Wed, 07 Jul 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

For: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4984#c4 : In try_get_ber_length() don't let a negative length make us go backwards.  This should eliminate a possible infinite loop and appears to /help/ limit the depth of recursion.
------------------------------------------------------------------------
r33472 | morriss | 2010-07-07 19:54:26 -0700 (Wed, 07 Jul 2010) | 8 lines
Changed paths:
   M /trunk/epan/column-utils.c

Fix https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4854 (crash when adding
2nd info column):

Duplicate col_do_append_sep_va_fstr()'s code into col_append_fstr() and
col_append_sep_fstr() (and remove col_do_append_sep_va_fstr()) because we need
to call va_start() and va_end() after each call to g_vsnprintf().  (This is a
followon to rev 32961.)

------------------------------------------------------------------------
r33473 | stig | 2010-07-08 03:04:06 -0700 (Thu, 08 Jul 2010) | 2 lines
Changed paths:
   M /trunk/services

Update the services file from IANA's port-numbers.

------------------------------------------------------------------------
r33474 | etxrab | 2010-07-08 04:05:16 -0700 (Thu, 08 Jul 2010) | 4 lines
Changed paths:
   M /trunk/gtk/Makefile.common
   A /trunk/gtk/dissector_tables_dlg.c
   A /trunk/gtk/dissector_tables_dlg.h
   M /trunk/gtk/menus.c

Add "WS internal" to the menues this can be used to display internal information like the curren "entry" dissector tables. Emem statistics
could be another item to add.

Add dissector tables treview. This cab be used to find which UDP ports are registered for example.
------------------------------------------------------------------------
r33475 | etxrab | 2010-07-08 05:55:03 -0700 (Thu, 08 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-xml.c
   M /trunk/epan/dissectors/packet-xml.h

from Tarjei Knapstad.
Minor cleanups in packet-xml dissector.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4987
------------------------------------------------------------------------
r33476 | stig | 2010-07-08 07:14:11 -0700 (Thu, 08 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scriptingservice.c

From Thomas Dreibholz via bug 4989:
Extend the SSP dissector to support the SSP Environment message type.

------------------------------------------------------------------------
r33477 | jmayer | 2010-07-08 07:19:32 -0700 (Thu, 08 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/CMakeLists.txt

Add dissector_tables_dlg.c

------------------------------------------------------------------------
r33478 | wmeier | 2010-07-08 17:23:27 -0700 (Thu, 08 Jul 2010) | 13 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

From Ian Schorr:  "NFSv4 COMMIT Calls not decoding"  

NFSv4 COMMIT Requests are not decoded.  NFS "malformed packet" logic is
tripped.

This was a bug introduced with the changes in bug 4975.  The dissector
erroneously tries to decode 4 bytes past the end of the packet.

A patch is attached that fixes that, as well as adds "Offset" info in the Info
column for COMMIT calls.

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4990

------------------------------------------------------------------------
r33479 | wmeier | 2010-07-08 18:46:11 -0700 (Thu, 08 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

Implement a separate pref for enabling tracking of tcp window scaling
(instead of including this pref as part of enabling tcp relative sequence numbers).

------------------------------------------------------------------------
r33480 | gerald | 2010-07-09 10:07:34 -0700 (Fri, 09 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Assume that if we have more than 500 levels of nested indefinite lengths
we have a malformed packet.

------------------------------------------------------------------------
r33481 | gerald | 2010-07-09 13:27:02 -0700 (Fri, 09 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gmhdr.c

Check our field lengths. Should fix the recent randpkt errors.

------------------------------------------------------------------------
r33482 | guy | 2010-07-09 14:27:08 -0700 (Fri, 09 Jul 2010) | 11 lines
Changed paths:
   M /trunk/plugins/unistim/network.h
   M /trunk/plugins/unistim/packet-unistim.c

The only reason to escape "%" in a string is if you are, incorrectly,
passing a string directly to a routine that expects a format string. 
The correct way to handle that is to pass "%s" as the string.

As long as you're escaping non-printable characters, just let
tvb_format_string() handle that.

For null-terminated strings, get the length of the string with
tvb_strsize(), and then just put the string into the protocol tree as a
regular item.

------------------------------------------------------------------------
r33483 | jake | 2010-07-10 02:47:20 -0700 (Sat, 10 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

Fix for bug 4993:
Mac support flags are little endian too.

------------------------------------------------------------------------
r33484 | gerald | 2010-07-11 08:03:33 -0700 (Sun, 11 Jul 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-07-11]
------------------------------------------------------------------------
r33488 | gerald | 2010-07-12 10:30:14 -0700 (Mon, 12 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Add length checks.

------------------------------------------------------------------------
r33493 | gerald | 2010-07-12 16:52:35 -0700 (Mon, 12 Jul 2010) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_introduction.xml
   M /trunk/packaging/nsis/Makefile.am
   M /trunk/packaging/nsis/Makefile.nmake
   D /trunk/packaging/nsis/WinPcap_4_1_1.exe
   A /trunk/packaging/nsis/WinPcap_4_1_2.exe
   M /trunk/packaging/nsis/wireshark.nsi

WinPcap 4.1.1 -> 4.1.2.

------------------------------------------------------------------------
r33494 | wmeier | 2010-07-12 17:17:08 -0700 (Mon, 12 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/gui_utils.c
   M /trunk/gtk/gui_utils.h

ws_combo_box_text_and_pointer: allow setting entries as "insensitive".

------------------------------------------------------------------------
r33497 | wmeier | 2010-07-12 17:46:00 -0700 (Mon, 12 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

GtkOptionMenu ==> GtkComboBox

------------------------------------------------------------------------
r33498 | wmeier | 2010-07-12 18:38:54 -0700 (Mon, 12 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

Whitespace cleanup: consistent indentation; tabs==>spaces; etc

------------------------------------------------------------------------
r33499 | wmeier | 2010-07-13 06:51:25 -0700 (Tue, 13 Jul 2010) | 6 lines
Changed paths:
   M /trunk/gtk/dcerpc_stat.c

Minor cleanup: 
- rename rpcstat_t to dcerpcstat_t since a different definition of rpcstat_t in
  another Wireshark source file apparently confuses the Windows debugger;
- GHFunc's return void not void *;
- Use gboolean where apropriate.

------------------------------------------------------------------------
r33500 | wmeier | 2010-07-13 07:12:06 -0700 (Tue, 13 Jul 2010) | 4 lines
Changed paths:
   M /trunk/gtk/rpc_stat.c

Minor cleanup:
 - GHFunc's return void not void *;
 - Use gboolean where apropriate.

------------------------------------------------------------------------
r33501 | stig | 2010-07-13 07:38:23 -0700 (Tue, 13 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-infiniband.c

From Mellanox Technologies Ltd. via bug 5004:
Added missing variable assignment for dst_qp.

------------------------------------------------------------------------
r33502 | wmeier | 2010-07-13 07:50:16 -0700 (Tue, 13 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/gtkvumeter.h

Trivial: Replace deprecated GTK_CHECK... macros with apropriate G_TYPE_CHECK... macros

------------------------------------------------------------------------
r33503 | martinm | 2010-07-13 09:25:34 -0700 (Tue, 13 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-rlc-lte.c

Allocate tap structs rather than using one static struct.

------------------------------------------------------------------------
r33504 | jake | 2010-07-13 14:21:38 -0700 (Tue, 13 Jul 2010) | 5 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/doc/Makefile.am
   A /trunk/doc/dftest.pod
   A /trunk/doc/randpkt.pod

From Jan Šafránek:
dftest and randpkt are installed during make install, but they are not
documented in any man page.
This is a start. It's more or less a compilation of information found elsewhere.

------------------------------------------------------------------------
r33505 | gerald | 2010-07-13 15:41:34 -0700 (Tue, 13 Jul 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Revert get_ber_length() back to r32530, which removes all of the changes
back to and including my attempt to make it iterative. Move its guts
back into try_get_ber_length() and add a recursion level check.

This should fix CVE-2010-2284 and preserve existing behavior without
introducing any new regressions (such as bug 5000).

------------------------------------------------------------------------
r33506 | gerald | 2010-07-13 15:49:17 -0700 (Tue, 13 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Rename a variable. "tmp_len" was too similar to "tmp_length".

------------------------------------------------------------------------
r33509 | guy | 2010-07-13 16:26:07 -0700 (Tue, 13 Jul 2010) | 4 lines
Changed paths:
   M /trunk/acinclude.m4
   M /trunk/doc/dumpcap.pod
   M /trunk/dumpcap.c

Add a "-d" flag to dumpcap, to print out the generated code for the
capture filter in human-readable form.  (Well, readable by humans who
know BPF machine language, at least. :-))

------------------------------------------------------------------------
r33510 | guy | 2010-07-13 17:50:25 -0700 (Tue, 13 Jul 2010) | 3 lines
Changed paths:
   M /trunk/dumpcap.c

We must also set the link-layer header type before compiling the capture
filter, as that affects the generated code.

------------------------------------------------------------------------
r33511 | guy | 2010-07-13 19:12:55 -0700 (Tue, 13 Jul 2010) | 2 lines
Changed paths:
   M /trunk/rawshark.c
   M /trunk/tshark.c

Get rid of no-longer-used variable.

------------------------------------------------------------------------
r33512 | guy | 2010-07-13 19:14:54 -0700 (Tue, 13 Jul 2010) | 8 lines
Changed paths:
   M /trunk/dumpcap.c

Define relinquish_all_capabilities() before we use it.

If we get an "XXX is not one of the DLTs supported by this device" error
when we try to set the link-layer header type, don't tell the user to
report it to the Wireshark developers, as that's probably just the
result of them giving a link-layer header type that the device doesn't
support.

------------------------------------------------------------------------
r33513 | guy | 2010-07-13 21:30:37 -0700 (Tue, 13 Jul 2010) | 10 lines
Changed paths:
   M /trunk/dumpcap.c

Ensure, at compile time, that the error-message-buffer argument to
open_captur_device() is an array of PCAP_ERRBUF_SIZE chars.  That means
we don't need to pass the size.

Unfortunately, pcap_compile() didn't always take a "const char *" as the
filter string argument, even though it didn't modify the argument; don't
pass it a "const char *".

Don't print the secondary error message if it's empty.

------------------------------------------------------------------------
r33514 | guy | 2010-07-13 21:31:52 -0700 (Tue, 13 Jul 2010) | 2 lines
Changed paths:
   M /trunk/dumpcap.c

Define print_caps() before we use it.

------------------------------------------------------------------------
r33515 | guy | 2010-07-14 01:27:26 -0700 (Wed, 14 Jul 2010) | 2 lines
Changed paths:
   M /trunk/dumpcap.c

Fix build errors.

------------------------------------------------------------------------
r33516 | guy | 2010-07-14 01:29:28 -0700 (Wed, 14 Jul 2010) | 4 lines
Changed paths:
   M /trunk/doc/Makefile.am

Add dftest.pod and randpkt.pod to the release tarball.

Clean up tabs.

------------------------------------------------------------------------
r33517 | guy | 2010-07-14 01:56:35 -0700 (Wed, 14 Jul 2010) | 2 lines
Changed paths:
   M /trunk/dumpcap.c

Fix warnings.

------------------------------------------------------------------------
r33518 | etxrab | 2010-07-14 05:01:05 -0700 (Wed, 14 Jul 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_gm.c

Add a field for "Revision Level Indicator" in the "MS Radio Access Capability IE".
------------------------------------------------------------------------
r33519 | jmayer | 2010-07-14 06:22:34 -0700 (Wed, 14 Jul 2010) | 7 lines
Changed paths:
   M /trunk/dumpcap.c

Add #ifdef HAVE_BPF_IMAGE
around
show_filter_code(capture_options *capture_opts)

To fix a warning about an unused function.


------------------------------------------------------------------------
r33520 | gerald | 2010-07-14 08:18:08 -0700 (Wed, 14 Jul 2010) | 2 lines
Changed paths:
   M /trunk/doc/Makefile.am

Fix a typo.

------------------------------------------------------------------------
r33521 | jmayer | 2010-07-14 09:16:29 -0700 (Wed, 14 Jul 2010) | 4 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/README.cmake

- Update todo list
- Add dftest and randpkt manpages to sync with autofoo


------------------------------------------------------------------------
r33525 | gerald | 2010-07-14 11:40:11 -0700 (Wed, 14 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/voip_calls.c

Get our dynamic payload name from the correct location.

------------------------------------------------------------------------
r33526 | stig | 2010-07-14 13:24:38 -0700 (Wed, 14 Jul 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-packetlogger.c
   M /trunk/wiretap/packetlogger.c

Don't pass tvb data to col_set_str(), as it will not stay around.
Added support for Note (dumping as text).
Renamed Info to Power (as used in PacketLogger).

------------------------------------------------------------------------
r33527 | sake | 2010-07-14 13:28:34 -0700 (Wed, 14 Jul 2010) | 3 lines
Changed paths:
   M /trunk/doc/tshark.pod
   M /trunk/print.c
   M /trunk/tshark.c

Make 'tshark -T fields' print all values for fields with multiple occurences.


------------------------------------------------------------------------
r33528 | sake | 2010-07-14 14:05:11 -0700 (Wed, 14 Jul 2010) | 3 lines
Changed paths:
   M /trunk/print.c

Oops... forgot to update the "-E usage" text


------------------------------------------------------------------------
r33529 | sake | 2010-07-14 14:53:57 -0700 (Wed, 14 Jul 2010) | 4 lines
Changed paths:
   M /trunk/doc/tshark.pod
   M /trunk/print.c
   M /trunk/tshark.c

Add an option to print the first, the last or all occurrences of each field
(when using tshark -T fields)


------------------------------------------------------------------------
r33531 | guy | 2010-07-14 19:07:16 -0700 (Wed, 14 Jul 2010) | 9 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/epan/epan.c
   M /trunk/epan/epan.h
   M /trunk/epan/libwireshark.def
   M /trunk/gtk/main.c
   M /trunk/rawshark.c
   M /trunk/tshark.c
   M /trunk/version_info.c
   M /trunk/version_info.h

Move the code to get version information for libraries used by
libwireshark into libwireshark, and call it only in programs linked with
libwireshark.  That way, programs that don't link with libwireshark
don't have to link with libgcrypt or libgnutls solely so that they can
say that they're linked with a particular version of libgcrypt or
libgnutls.

Don't link dumpcap with libgcrypt or libgnutls any more.

------------------------------------------------------------------------
r33532 | guy | 2010-07-14 20:22:49 -0700 (Wed, 14 Jul 2010) | 4 lines
Changed paths:
   M /trunk/epan/epan.c

If we have neither libgnutls nor libgcrypt,
epan_get_runtime_version_info() does nothing, and thus doesn't use its
argument.

------------------------------------------------------------------------
r33533 | guy | 2010-07-14 20:28:42 -0700 (Wed, 14 Jul 2010) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake

No need to link dumpcap with libgnutls.

------------------------------------------------------------------------
r33534 | guy | 2010-07-14 20:31:51 -0700 (Wed, 14 Jul 2010) | 6 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/epan/Makefile.nmake

There shouldn't be any need to build stuff in the top-level directory
with the Lua or libgnutls flags, as nothing in the top-level directory
should use them directly.

However, libwireshark *does* require the Lua flags, so use them.

------------------------------------------------------------------------
r33535 | guy | 2010-07-15 02:04:10 -0700 (Thu, 15 Jul 2010) | 4 lines
Changed paths:
   M /trunk/version_info.c

Don't include headers we don't need (they might be generating external
references to functions in libraries with which we're not necessarily
being linked).

------------------------------------------------------------------------
r33536 | guy | 2010-07-15 02:41:34 -0700 (Thu, 15 Jul 2010) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake

capinfos.c includes gcrypt.h, so it needs the GNU TLS flags.

------------------------------------------------------------------------
r33537 | stig | 2010-07-15 05:26:12 -0700 (Thu, 15 Jul 2010) | 2 lines
Changed paths:
   M /trunk/AUTHORS

Updated with some items.

------------------------------------------------------------------------
r33538 | wmeier | 2010-07-15 08:05:39 -0700 (Thu, 15 Jul 2010) | 5 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c
   M /trunk/gtk/gui_utils.c
   M /trunk/gtk/gui_utils.h

Change ws_combo_box... to use a tree-store instead of a list-store;
This allows the dispay of the ws_combo_box choices as a tree.
Also: Rename ws_combo_box_append_text_and_pointer_with_sensitivity() to
             ws_combo_box_append_text_and_pointer_full().

------------------------------------------------------------------------
r33539 | gerald | 2010-07-15 09:18:13 -0700 (Thu, 15 Jul 2010) | 3 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/doc/Makefile.am
   M /trunk/doc/Makefile.nmake
   M /trunk/doc/doc.vcproj
   A /trunk/doc/wireshark-filter.pod (from /trunk/doc/wireshark-filter.pod.template:33530)
   D /trunk/doc/wireshark-filter.pod.template

Don't include the filter list (which is now over 16MB) in the
wireshark-filter man page. Point to other sources for the list instead.

------------------------------------------------------------------------
r33540 | gerald | 2010-07-15 10:12:18 -0700 (Thu, 15 Jul 2010) | 2 lines
Changed paths:
   M /trunk/doc/Makefile.nmake

Don't clean wireshark-filter.pod. It's not generated any more.

------------------------------------------------------------------------
r33541 | guy | 2010-07-15 12:43:01 -0700 (Thu, 15 Jul 2010) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.in

Only link programs that call stuff in Application Services or Core
Foundation with those frameworks.

------------------------------------------------------------------------
r33542 | guy | 2010-07-15 13:55:46 -0700 (Thu, 15 Jul 2010) | 11 lines
Changed paths:
   M /trunk/version_info.c

On OS X, give the OS version as

	Mac OS X 10.x.y (Darwin a.b.c)

rather than as

	Darwin a.b.c (Mac OS X 10.x.y)

and also note that, on Linux, the lsb_release command might be able to
give you the *distribution* name and version.

------------------------------------------------------------------------
r33543 | guy | 2010-07-15 13:59:26 -0700 (Thu, 15 Jul 2010) | 2 lines
Changed paths:
   M /trunk/version_info.c

More details on getting the distribution name and version on Linux.

------------------------------------------------------------------------
r33545 | guy | 2010-07-15 15:31:53 -0700 (Thu, 15 Jul 2010) | 2 lines
Changed paths:
   M /trunk/version_info.c

More information on getting the distribution name and release.

------------------------------------------------------------------------
r33546 | jmayer | 2010-07-15 15:50:28 -0700 (Thu, 15 Jul 2010) | 2 lines
Changed paths:
   M /trunk/CMakeLists.txt

Fix cmake build for wireshark-filters.

------------------------------------------------------------------------
r33549 | jmayer | 2010-07-16 00:48:50 -0700 (Fri, 16 Jul 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-vrrp.c

Make whitespace consistent (in preparation for bug 5008)
------------------------------------------------------------------------
r33550 | jmayer | 2010-07-16 02:52:43 -0700 (Fri, 16 Jul 2010) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-vrrp.c

Fix for bug 5008:
- Interval is now a 12 bit value in 1/100 s.
- The address type of the virtual address is the address type
  of the network protocol.

Bugs: Currently the mbz and the interval don't look nice.
      The checksum is incorrect (but it was incorrect with the
      old code as well, so it isn't a regression).

------------------------------------------------------------------------
r33551 | martinm | 2010-07-16 04:17:32 -0700 (Fri, 16 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/expert.c

Make frames containing Malformed expert items match with "malformed" display filter.


------------------------------------------------------------------------
r33552 | martinm | 2010-07-16 06:52:18 -0700 (Fri, 16 Jul 2010) | 2 lines
Changed paths:
   M /trunk/wiretap/catapult_dct2000.c

It makes (slightly) more sense for comments to be "sent" by the context than "received".

------------------------------------------------------------------------
r33555 | gerald | 2010-07-16 11:20:32 -0700 (Fri, 16 Jul 2010) | 2 lines
Changed paths:
   M /trunk/file.c
   M /trunk/tshark.c

Make sure we call wtap_cleareof() before each read.

------------------------------------------------------------------------
r33556 | jake | 2010-07-16 13:42:25 -0700 (Fri, 16 Jul 2010) | 4 lines
Changed paths:
   M /trunk/wka.tmpl

Fix for bug 5015:
Remove redundancy from VRRP MAC address name resolution, 
even though it's fitting for the protocol ;)

------------------------------------------------------------------------
r33557 | jake | 2010-07-16 13:57:08 -0700 (Fri, 16 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-xdmcp.c

From Robert Ancell:
XDMCP Query contains authentication names, not authorization names.

------------------------------------------------------------------------
r33558 | jake | 2010-07-17 00:55:28 -0700 (Sat, 17 Jul 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.c
   M /trunk/epan/dissectors/packet-mip6.h

From KATAOKA Toshihiro:
I've made some update for MIPv6 Mobility Options according to the IETF RFCs.
See also: http://www.iana.org/assignments/mobility-parameters/mobility-parameters.xhtml#mobility-parameters-2

------------------------------------------------------------------------
r33559 | jmayer | 2010-07-17 07:07:13 -0700 (Sat, 17 Jul 2010) | 4 lines
Changed paths:
   M /trunk/CMakeLists.txt

- Copy over from Makefile.am: dumpcap doesn't need to link
  in libgcrypt and gnutls.
- capinfos has a dependency on svnversion.h

------------------------------------------------------------------------
r33560 | jake | 2010-07-17 14:43:25 -0700 (Sat, 17 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.c
   M /trunk/epan/dissectors/packet-mip6.h

From KATAOKA Toshihiro:
Additional patch reparing proto.avvrb.

------------------------------------------------------------------------
r33561 | stig | 2010-07-18 04:07:04 -0700 (Sun, 18 Jul 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c

Show the reserved values in type 135, 137 and 143 in the packet tree.

This fixes the issues in bug 5018.

------------------------------------------------------------------------
r33562 | stig | 2010-07-18 04:47:43 -0700 (Sun, 18 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c
   M /trunk/epan/dissectors/packet-ipv6.h

Added some updates from RFC 4443.

------------------------------------------------------------------------
r33563 | stig | 2010-07-18 05:09:14 -0700 (Sun, 18 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c

Added some values from IANA's icmpv6-parameters.
Note: option 29 and 30 still not dissected according to RFC 5271.

------------------------------------------------------------------------
r33564 | gerald | 2010-07-18 08:03:32 -0700 (Sun, 18 Jul 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-07-18]
------------------------------------------------------------------------
r33565 | stig | 2010-07-18 08:06:13 -0700 (Sun, 18 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipv6.c

Use correct length for the IPv6 item.

------------------------------------------------------------------------
r33568 | stig | 2010-07-18 09:01:11 -0700 (Sun, 18 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/arptypes.h
   M /trunk/epan/dissectors/packet-arp.c

Added some ARP options from RFC 5494.

------------------------------------------------------------------------
r33570 | stig | 2010-07-18 09:05:48 -0700 (Sun, 18 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/afn.c
   M /trunk/epan/afn.h

Added "LISP Canonical Address Format (LCAF)".

------------------------------------------------------------------------
r33571 | stig | 2010-07-18 09:20:29 -0700 (Sun, 18 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c

Added some bootp option strings from IANA.

------------------------------------------------------------------------
r33572 | guy | 2010-07-18 12:41:11 -0700 (Sun, 18 Jul 2010) | 8 lines
Changed paths:
   M /trunk/wiretap/netmon.c

Initial support for the trailer information in versions 2.1 and later of
the NetMon file format.  Currently, we just use the network type field,
and we ignore all the special record types and don't try to handle any
of the other special network types.

We also catch bogus frame tables where the record is bigger than the
frame table says it is.

------------------------------------------------------------------------
r33574 | guy | 2010-07-18 13:27:46 -0700 (Sun, 18 Jul 2010) | 3 lines
Changed paths:
   M /trunk/wiretap/netmon.c

NetMon per-packet link-layer types with 0xE000 in the upper 4 bits are
converted pcap files; the LINKTYPE_ value is in the lower 12 bits.

------------------------------------------------------------------------
r33576 | guy | 2010-07-18 13:47:48 -0700 (Sun, 18 Jul 2010) | 2 lines
Changed paths:
   M /trunk/wiretap/netmon.c

The time delta in a NetMon frame header is signed - it can be negative.

------------------------------------------------------------------------
r33578 | guy | 2010-07-18 15:14:56 -0700 (Sun, 18 Jul 2010) | 2 lines
Changed paths:
   M /trunk/wiretap/wtap.c

Add an entry in encap_table_base for SocketCAN.

------------------------------------------------------------------------
r33580 | stig | 2010-07-19 06:31:02 -0700 (Mon, 19 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cops.c

Added SharedResourceID.

------------------------------------------------------------------------
r33581 | stig | 2010-07-19 06:55:12 -0700 (Mon, 19 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cops.c

Removed call to check_col().

------------------------------------------------------------------------
r33582 | martinm | 2010-07-19 07:14:47 -0700 (Mon, 19 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Give up dissecting a MAC PDU if we see control LCIDs after data ones.
This saves us getting into a mess trying to keep track of PDU sizes in an array...

------------------------------------------------------------------------
r33583 | guy | 2010-07-19 11:00:20 -0700 (Mon, 19 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-netmon-802_11.c
   M /trunk/wiretap/netmon.c
   M /trunk/wiretap/wtap.c
   M /trunk/wiretap/wtap.h

Initial support for Network Monitor 802.11 radio header.

------------------------------------------------------------------------
r33585 | gerald | 2010-07-19 14:47:51 -0700 (Mon, 19 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

Use sscanf() to parse clientaddr4 instead of trying to parse it
ourselves. Add support for IPv6 addresses. Fixes bug 5019.

------------------------------------------------------------------------
r33587 | jmayer | 2010-07-20 01:27:34 -0700 (Tue, 20 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/gtk/compare_stat.c
   M /trunk/tap-comparestat.c

Updading opensuse 11.2 -> 11.3 updated gcc to 4.5.0, which created
a few warnings that needed fixing when compiling with -Werror.

------------------------------------------------------------------------
r33588 | jmayer | 2010-07-20 01:28:49 -0700 (Tue, 20 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt

Add dissectors/packet-netmon-802_11.c

------------------------------------------------------------------------
r33589 | martinm | 2010-07-20 01:57:15 -0700 (Tue, 20 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/mac_lte_stat_dlg.c

Add new UEs to the end of the list.

------------------------------------------------------------------------
r33590 | martinm | 2010-07-20 06:27:20 -0700 (Tue, 20 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c

Minor formatting change.

------------------------------------------------------------------------
r33591 | wmeier | 2010-07-20 07:30:41 -0700 (Tue, 20 Jul 2010) | 3 lines
Changed paths:
   M /trunk/gtk/gui_utils.c
   M /trunk/gtk/gui_utils.h

Add ws_combo_box_new_text_and_pointer_full() to allow returning
the cell renderer associated with the ComboBox.

------------------------------------------------------------------------
r33592 | wmeier | 2010-07-20 07:34:00 -0700 (Tue, 20 Jul 2010) | 4 lines
Changed paths:
   M /trunk/gtk/dcerpc_stat.c

GtkOptionMenu ==> GtkComboBox
(Let's see if the UI seems OK or should be replaced with something
 simpler. (See comments in thecode)).

------------------------------------------------------------------------
r33593 | wmeier | 2010-07-20 08:41:42 -0700 (Tue, 20 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netmon-802_11.c

(Minor) use NULL instead of "" for hf[] blurbs.

------------------------------------------------------------------------
r33594 | gerald | 2010-07-20 08:49:57 -0700 (Tue, 20 Jul 2010) | 2 lines
Changed paths:
   M /trunk/tools/fuzz-test.sh

Dump the error output when we have a problem.

------------------------------------------------------------------------
r33595 | stig | 2010-07-20 09:18:18 -0700 (Tue, 20 Jul 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipv6.h

From Mat Ford via bug 5031:
Minor update to packet-ipv6.h to reference the correct RFC, and more accurately
describe the ip6_un1_flow data structure.

------------------------------------------------------------------------
r33596 | gerald | 2010-07-20 10:16:42 -0700 (Tue, 20 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

Initialize a variable. Fixes bug 5026.

------------------------------------------------------------------------
r33597 | wmeier | 2010-07-20 16:48:56 -0700 (Tue, 20 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c
   M /trunk/gtk/proto_help.c

(Minor) Fix several usages of deprecated GTK functions.

------------------------------------------------------------------------
r33598 | wmeier | 2010-07-20 16:58:56 -0700 (Tue, 20 Jul 2010) | 5 lines
Changed paths:
   M /trunk/tools/checkAPIs.pl

All use of deprecated GtkOptionMenu functions fixed: Error if any usage found.
Warn instead of Error for several deprecated GTK functions used recently
 in Wireshark source (1 GtkCombo function and 2 GtkItemFactory functions).
 (ToDo: replace remaining use of GtkCombo and all use of GtkItemFactory).

------------------------------------------------------------------------
r33599 | wmeier | 2010-07-20 17:04:04 -0700 (Tue, 20 Jul 2010) | 3 lines
Changed paths:
   M /trunk/gtk/Makefile.nmake

Fix checkAPI targets so gtk-deprecated and gtk-deprecated-todo checks are
properly done. (gtk-deprecated check got inadvertantly removed a while back).

------------------------------------------------------------------------
r33600 | wmeier | 2010-07-20 18:38:11 -0700 (Tue, 20 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ucp.c

(Trivial) add a few comments about date/time formats.

------------------------------------------------------------------------
r33601 | wmeier | 2010-07-20 18:43:14 -0700 (Tue, 20 Jul 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

From Alex Burlyga:  Make hf_nfs_slotid4 useful again.

"hf_slotid4 is used for all possible slotid fields in sequence op. This patch
 separates them out and makes it useful for filtering."

See: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4995

------------------------------------------------------------------------
r33602 | stig | 2010-07-21 02:47:24 -0700 (Wed, 21 Jul 2010) | 4 lines
Changed paths:
   M /trunk/epan/proto.c

Fixed adding a boolean value as a custom column.

This is reported in bug 5039.

------------------------------------------------------------------------
r33603 | stig | 2010-07-21 03:28:46 -0700 (Wed, 21 Jul 2010) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

From KATAOKA Toshihiro via bug 5033:
3GPP GTPv2 header Update:
- piggybacked flag
- sequence number

From me:
Updated the comments for sequence number.

------------------------------------------------------------------------
r33604 | martinm | 2010-07-21 05:29:32 -0700 (Wed, 21 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Fix warnings as seen in gcc 3.4.6

------------------------------------------------------------------------
r33605 | stig | 2010-07-21 07:17:00 -0700 (Wed, 21 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cops.c

Added "Attribute Aggregation Rule Mask" from PKT-SP-MM-I05-091029.

------------------------------------------------------------------------
r33606 | stig | 2010-07-21 07:43:02 -0700 (Wed, 21 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cops.c

Use correct length for I04/I05 Envelope headers.

------------------------------------------------------------------------
r33607 | guy | 2010-07-21 09:25:59 -0700 (Wed, 21 Jul 2010) | 7 lines
Changed paths:
   M /trunk/wiretap/netmon.c

According to mail from Paul Long at Microsoft, in the 1.x NetMon file
format, the time offset from the start of the capture always had a
positive value, so it's an unsigned value.  (In newer versions of NetMon
3.x, the capture can start before the "capture start" time stamp is set,
so packets can have a *negative* offset from the capture start time
stamp.  Those captures are in the 2.x file format.)

------------------------------------------------------------------------
r33609 | guy | 2010-07-21 11:37:01 -0700 (Wed, 21 Jul 2010) | 4 lines
Changed paths:
   M /trunk/wiretap/netmon.c

The 32-bit unsigned time offset in version 1.x files should be converted
to a gint64 (which won't sign-extend it) before multiplying by 1000, so
that the product is 64-bit and won't overflow.

------------------------------------------------------------------------
r33611 | jake | 2010-07-21 12:31:56 -0700 (Wed, 21 Jul 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi.h

From Zachary Mark:
It appears that SCSI_SPC_ACCESS_CONTROL_IN is incorrectly set to opcode 0x85 
where the actual opcode is 0x86.  0x85 is the opcode for the 16-byte version 
of the ATA PASSTHROUGH command of the SAT standards family.

------------------------------------------------------------------------
r33612 | jake | 2010-07-21 12:42:01 -0700 (Wed, 21 Jul 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main.c

From Cal Turney:
Remember folder of capture selected from Welcome screen file dialog.

------------------------------------------------------------------------
r33613 | guy | 2010-07-22 02:11:16 -0700 (Thu, 22 Jul 2010) | 8 lines
Changed paths:
   M /trunk/epan/frame_data.c
   M /trunk/epan/frame_data.h

In the frame_data structure, expand the per-packet
encapsulation/data-link type to 16 bits, and shuffle some fields to
eliminate some unnecessary padding - the net result should be no change
in the structure size for 32 bits and a few bytes removed for 64 bits.

This allows more encapsulation types - we've just about run out of the
ones that fit in a signed 8-bit integer - and thus should fix bug 5025.

------------------------------------------------------------------------
r33615 | stig | 2010-07-22 03:07:25 -0700 (Thu, 22 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cops.c

Corrected length check for I05 Downstream Service.

------------------------------------------------------------------------
r33616 | stig | 2010-07-22 05:18:36 -0700 (Thu, 22 Jul 2010) | 2 lines
Changed paths:
   M /trunk/cmake/modules/FindZLIB.cmake
   M /trunk/cmake/modules/UseMakeDissectorReg.cmake
   M /trunk/cmake/modules/UseMakeTapReg.cmake

Set missing svn:keywords and svn:eol-style.

------------------------------------------------------------------------
r33617 | wmeier | 2010-07-22 11:44:11 -0700 (Thu, 22 Jul 2010) | 5 lines
Changed paths:
   M /trunk/gtk/voip_calls_dlg.c

Rework code so start-time, end-time, & packets columns sort properly and are right-justified;
Remove some redundant code;
Widen the VOIP calls window slightly so all columns are displayed initially;
Minor whitespace cleanup.

------------------------------------------------------------------------
r33618 | wmeier | 2010-07-22 13:53:24 -0700 (Thu, 22 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/rtp_analysis.c

(Trivial): Whitespace cleanup.

------------------------------------------------------------------------
r33619 | jake | 2010-07-22 22:08:07 -0700 (Thu, 22 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/main.c

Backing out r33612.

------------------------------------------------------------------------
r33620 | guy | 2010-07-23 03:11:44 -0700 (Fri, 23 Jul 2010) | 6 lines
Changed paths:
   M /trunk/wiretap/netmon.c

At least in some NetMon 3.4 VPN captures, the per-packet link-layer type
is 0, but the packets have Ethernet headers.  We handle this by mapping
0 to WTAP_ENCAP_ETHERNET.

(XXX - should we, instead, use the per-file link-layer type?)

------------------------------------------------------------------------
r33622 | wmeier | 2010-07-23 07:01:47 -0700 (Fri, 23 Jul 2010) | 3 lines
Changed paths:
   M /trunk/gtk/conversations_table.c

(Trivial) Use enum definitions instead of numbers in a switch statement;
Whitespace cleanup.

------------------------------------------------------------------------
r33623 | jake | 2010-07-23 12:40:32 -0700 (Fri, 23 Jul 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-6lowpan.c

From Jan van den Boom:
Correct the V and F flag interpretation in the Mesh Addressing Type and Header
for correct address interpretation.

------------------------------------------------------------------------
r33624 | jake | 2010-07-23 13:19:05 -0700 (Fri, 23 Jul 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-6lowpan.c

From John Sucaet:
packet-6lowpan.c dissects the non-compressed ipv6 fields in an order different
from the one specified in RFC 4944 §10.3.1. 
The patch fixes the wrong order and an additional problem with the dissection 
of the mesh header: support for the Deep Hops Left field (RFC 4944 §5.2)

------------------------------------------------------------------------
r33625 | gerald | 2010-07-25 08:03:38 -0700 (Sun, 25 Jul 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-07-25]
------------------------------------------------------------------------
r33629 | etxrab | 2010-07-25 11:24:43 -0700 (Sun, 25 Jul 2010) | 13 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.c
   M /trunk/epan/dissectors/packet-mip6.h

From KATAOKA Toshihiro:

I've made next updates for MIPv6 Mobility Options.

- Restart Counter
- IPv4 Default Router Address
 I've made some minor change re-using same type of header fields.

- IPv4 Home Address field in several IPv4 related mobility options.
- Status field in several IPv4 related mobility options.
- Prefix Len field in several IPv4 related mobility options.

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5042
------------------------------------------------------------------------
r33630 | etxrab | 2010-07-26 06:04:10 -0700 (Mon, 26 Jul 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-6lowpan.c

From John Sucaet:
The committed changes in 33624 did not include all fixes of the previous patch
file - Please add the fix for the field description of the 8-bit Deep Hops Left
field
Attached file contains this fix (+as well as small correction to the field
descriptions of V and F flags, according to the terminology of RFC 4944)
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5047
------------------------------------------------------------------------
r33631 | etxrab | 2010-07-26 06:23:30 -0700 (Mon, 26 Jul 2010) | 4 lines
Changed paths:
   M /trunk/epan/prefs.c
   M /trunk/gtk/main.c
   M /trunk/gtk/prefs_gui.c

From Cal Turney:
Optionally display Wireshark version in the main window's title bar.
(Modified to include SVN version).
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5040
------------------------------------------------------------------------
r33632 | wmeier | 2010-07-26 06:32:13 -0700 (Mon, 26 Jul 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.c
   D /trunk/epan/dissectors/packet-mip6.h

Move contents of packet-mip6.h to packet-mip6.c
  - packet-mip6.h is not used elsewhere;
  - packet-mip6.h includes value string definitions.
Rename enum variables to be more distinct: ... ==> MIP6_...
Whitespace cleanup.

------------------------------------------------------------------------
r33633 | wmeier | 2010-07-26 07:16:57 -0700 (Mon, 26 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common

packet-mip6.h has been removed....

------------------------------------------------------------------------
r33634 | wmeier | 2010-07-26 09:11:56 -0700 (Mon, 26 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/ansi_a_stat.c
   M /trunk/gtk/ansi_map_stat.c
   M /trunk/gtk/gsm_a_stat.c
   M /trunk/gtk/gsm_map_stat.c

(Trivial) Use gboolean instead of int in a few places; Whitespace cleanup.

------------------------------------------------------------------------
r33635 | wmeier | 2010-07-26 09:15:34 -0700 (Mon, 26 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/gui_stat_util.c

(Trivial) Fix references to "clist" in comments; 

------------------------------------------------------------------------
r33636 | wmeier | 2010-07-26 09:22:33 -0700 (Mon, 26 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/mtp3_stat.c

(Trivial) use gboolean instead of int in a few places; Whitespace cleanup.

------------------------------------------------------------------------
r33637 | wmeier | 2010-07-26 12:00:44 -0700 (Mon, 26 Jul 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipmi.c

Fix potential infinite loop: for (guint8=0; guint8 < int; guint8++);
Fixes bug #5053.

------------------------------------------------------------------------
r33638 | wmeier | 2010-07-26 12:24:06 -0700 (Mon, 26 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntp.h

(Trivial) Fix a typo.

------------------------------------------------------------------------
r33639 | guy | 2010-07-26 18:06:10 -0700 (Mon, 26 Jul 2010) | 7 lines
Changed paths:
   M /trunk/doc/README.developer

Tell people to be careful about loops like

	for (guint8 = 0; guint8 < guint; guint8++)

(one of which recently caused an infinite loop with a fuzzed packet in
the buildbot).

------------------------------------------------------------------------
r33641 | guy | 2010-07-26 18:19:06 -0700 (Mon, 26 Jul 2010) | 2 lines
Changed paths:
   M /trunk/doc/README.developer

Fix grammaro, indent example code.

------------------------------------------------------------------------
r33643 | jake | 2010-07-26 23:46:00 -0700 (Mon, 26 Jul 2010) | 4 lines
Changed paths:
   M /trunk/plugins/unistim/packet-unistim.c

From Don Newton:
Fails to decrement msg_len on 3 different message types which causes the
dissector to attempt to decode an addition or misplaced unistim cmd.

------------------------------------------------------------------------
r33644 | wmeier | 2010-07-27 11:59:30 -0700 (Tue, 27 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

(Trivial) Fix a typo

------------------------------------------------------------------------
r33646 | guy | 2010-07-27 18:12:41 -0700 (Tue, 27 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/prefs.c
   M /trunk/gtk/main.c
   M /trunk/gtk/prefs_gui.c

Backing out r33631 for now - it has a number of issues.

------------------------------------------------------------------------
r33647 | wmeier | 2010-07-28 06:34:41 -0700 (Wed, 28 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/gui_utils.c

(Trivial) Fix some typos; Also: Use consistent indentation.

------------------------------------------------------------------------
r33648 | etxrab | 2010-07-28 09:13:56 -0700 (Wed, 28 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Split dissection of GTP and GTP' in ordet to try to fix bug
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5055
------------------------------------------------------------------------
r33649 | martinm | 2010-07-28 09:58:13 -0700 (Wed, 28 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c

Allow DRB frames to be passed to PDCP (where they may be decoded as IP).

------------------------------------------------------------------------
r33654 | etxrab | 2010-07-28 14:13:05 -0700 (Wed, 28 Jul 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c

From Pascal Quantin:
The attached patch fixes the dissection of the PDN Disconnect Request message
in case the optional Protocol Configuration Options IE is not present.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5065
------------------------------------------------------------------------
r33657 | wmeier | 2010-07-28 15:47:48 -0700 (Wed, 28 Jul 2010) | 6 lines
Changed paths:
   M /trunk/gtk/dissector_tables_dlg.c

Minor changes: 
 Use gtk_tree_store_insert_with_values if GTK >= 2.10;
 Change numeric formatting slightly in integer tables so values will
   sort numerically;
 Misc whitespace changes.

------------------------------------------------------------------------
r33666 | wmeier | 2010-07-28 17:29:06 -0700 (Wed, 28 Jul 2010) | 7 lines
Changed paths:
   M /trunk/gtk/dissector_tables_dlg.c

Use a custom sort function for each column of the dissector tables display:
1. Numeric values in the 'Integer Tables' now sort properly.
   (For some reason just using a fixed width string for numeric values sorted
    OK on Windows but not on *nix).
2. The sort may be even faster since it's reputed that the default sort used 
   by Gtk [g_utf8_collate()] is "expensive".

------------------------------------------------------------------------
r33667 | martinm | 2010-07-29 02:30:09 -0700 (Thu, 29 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Improve display of tty lines.

------------------------------------------------------------------------
r33668 | martinm | 2010-07-29 02:39:52 -0700 (Thu, 29 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Don't use sprintf().

------------------------------------------------------------------------
r33669 | wmeier | 2010-07-29 07:23:32 -0700 (Thu, 29 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/stats_tree_stat.c

(Trivial) Indentation cleanup (mostly: fix "4 space tabs").

------------------------------------------------------------------------
r33676 | gerald | 2010-07-29 15:46:10 -0700 (Thu, 29 Jul 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ppi.c

Use ep-allocated strings for our data source names.

------------------------------------------------------------------------
r33677 | wmeier | 2010-07-29 17:17:49 -0700 (Thu, 29 Jul 2010) | 8 lines
Changed paths:
   M /trunk/gtk/graph_analysis.c

Minor code cleanup:
- Define several event callback functions with the correct number of args;
- Remove several unnecessary 'if (!user_data)  exit(10);' code sequences;
- Use 'user_data' arg of event callbacks instead of an object property
  in several cases;
- Reformat some long lines.


------------------------------------------------------------------------
r33678 | guy | 2010-07-29 19:30:50 -0700 (Thu, 29 Jul 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee802154.c
   M /trunk/wiretap/daintree-sna.c
   M /trunk/wiretap/wtap.c
   M /trunk/wiretap/wtap.h

Define WTAP_ENCAP_IEEE802_15_4_NOFCS, for use in file formats that don't
include the FCS, and use it for the Daintree SNA file format.  While
we're at it, explicitly check to make sure the purported packet length
gives it at least one byte of packet data, and fix some print formats to
use %u for unsigned values.

------------------------------------------------------------------------
r33679 | wmeier | 2010-07-30 05:41:56 -0700 (Fri, 30 Jul 2010) | 5 lines
Changed paths:
   M /trunk/gtk/about_dlg.c
   M /trunk/gtk/color_dlg.c
   M /trunk/gtk/conversations_table.c
   M /trunk/gtk/decode_as_dlg.c
   M /trunk/gtk/expert_comp_table.c
   M /trunk/gtk/filter_autocomplete.c
   M /trunk/gtk/filter_autocomplete.h
   M /trunk/gtk/filter_dlg.c
   M /trunk/gtk/gui_utils.c
   M /trunk/gtk/hostlist_table.c
   M /trunk/gtk/main.c
   M /trunk/gtk/main_packet_list.c
   M /trunk/gtk/main_proto_draw.c
   M /trunk/gtk/menus.c
   M /trunk/gtk/packet_win.c
   M /trunk/gtk/prefs_gui.c
   M /trunk/gtk/profile_dlg.c
   M /trunk/gtk/profile_dlg.h
   M /trunk/gtk/proto_hier_stats_dlg.c
   M /trunk/gtk/tcp_graph.c
   M /trunk/gtk/wlan_stat_dlg.c

(Minor) Cleanup some "event callback" function declarations/definitions:
- Add missing 'user_data' arg as needed;
- Use gboolean rather than int as the type of the value returned.
Also: Cleanup whitespace & reformat long lines in a few cases.

------------------------------------------------------------------------
r33680 | wmeier | 2010-07-30 05:56:37 -0700 (Fri, 30 Jul 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.h

'extern gint popup_menu_handler' ==> 'extern gboolean popup_menu_handler' to match just committed menus.c

------------------------------------------------------------------------
r33682 | jmayer | 2010-07-30 13:11:37 -0700 (Fri, 30 Jul 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wassp.c

- Comment: some abbreviations used
- Fix dissection of MU_RF_STATS_BLOCK
- Try to dissect embedded 802.11 frames (only works for the
  header, there seems to be a constant value of 0xa8b7 between
  wireless header and wireless data.

------------------------------------------------------------------------
r33683 | rbalint | 2010-08-01 03:45:42 -0700 (Sun, 01 Aug 2010) | 4 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/gtk/help_dlg.c

Use local copy of Wireshark documentation on UNIX if it's available.
Installation has to be done manually to the location specified by --docdir
configure option.

------------------------------------------------------------------------
r33684 | rbalint | 2010-08-01 04:14:49 -0700 (Sun, 01 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/help_dlg.c

Fix Windows builds broken by previous commit

------------------------------------------------------------------------
r33685 | gerald | 2010-08-01 08:03:31 -0700 (Sun, 01 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-08-01]
------------------------------------------------------------------------
r33689 | etxrab | 2010-08-01 13:55:29 -0700 (Sun, 01 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Try to fix the GTP' header dissection a bit.
------------------------------------------------------------------------
r33690 | stig | 2010-08-02 01:46:36 -0700 (Mon, 02 Aug 2010) | 2 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

Added missing include <string.h>.

------------------------------------------------------------------------
r33691 | stig | 2010-08-02 01:52:39 -0700 (Mon, 02 Aug 2010) | 2 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

Mark encryptedData as unused, to avoid warnings when not HAVE_LIBGCRYPT.

------------------------------------------------------------------------
r33692 | wmeier | 2010-08-02 06:09:01 -0700 (Mon, 02 Aug 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gprs-llc.c
   M /trunk/epan/dissectors/packet-gsm_a_gm.c
   M /trunk/epan/dissectors/packet-gsm_a_rr.c
   M /trunk/epan/dissectors/packet-iec104.c
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/epan/dissectors/packet-ospf.c
   M /trunk/epan/dissectors/packet-sctp.c

Fix cases where the type of a for loop variable is smaller than the type of the "end" variable.
In some cases the usage may have been benign since it can be seen by code inspection that the maximum value of the end variable can't exceed the maximum value of the loop variable.
However, on general principles, all the usages have been fixed.

------------------------------------------------------------------------
r33693 | gerald | 2010-08-02 17:08:14 -0700 (Mon, 02 Aug 2010) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/image/README.image
   D /trunk/image/dn_arrow.xpm
   D /trunk/image/up_arrow.xpm

Remove the up/down arrow images. They haven't been used in a very long
time.

------------------------------------------------------------------------
r33694 | gerald | 2010-08-02 17:09:41 -0700 (Mon, 02 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

Revert r30979, which removed the window size in SYN packets. People were
asking where it went.

------------------------------------------------------------------------
r33695 | stig | 2010-08-03 01:55:07 -0700 (Tue, 03 Aug 2010) | 5 lines
Changed paths:
   M /trunk/asn1/x509sat/x509sat.cnf
   M /trunk/epan/dissectors/packet-x509sat.c

Added some missing elements from MS Certificate:
- Previous Cert Hash
- Virtual Base
- Next Publisher

------------------------------------------------------------------------
r33696 | stig | 2010-08-03 04:22:08 -0700 (Tue, 03 Aug 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb-browse.c

Decode Browse Domain Announcement version and signature if signature
matches 0xaa55.

I don't know the historic reason for decoding this as "Mysterious Field",
but newer of Network Monitor (3.4) does show this as version and signature.

------------------------------------------------------------------------
r33698 | martinm | 2010-08-03 07:26:35 -0700 (Tue, 03 Aug 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Add a preference to call MAC for TBs (on by default).
Improve info column display for HS-DSCH Capacity Request messages.
Removed calls to check_col().
Removed a few tabs.

------------------------------------------------------------------------
r33699 | sfisher | 2010-08-03 08:29:51 -0700 (Tue, 03 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-exec.c

Remove question marks in preference titles.
------------------------------------------------------------------------
r33700 | wmeier | 2010-08-03 09:06:48 -0700 (Tue, 03 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/tap.c

(Trivial) Fix a typo.

------------------------------------------------------------------------
r33701 | etxrab | 2010-08-03 09:25:13 -0700 (Tue, 03 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mysql.c

From Brandon Skari:
 MySQL dissector doesn't dissect query responses.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5058
------------------------------------------------------------------------
r33702 | etxrab | 2010-08-03 09:57:02 -0700 (Tue, 03 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ethertype.c
   M /trunk/epan/dissectors/packet-infiniband.c
   M /trunk/epan/dissectors/packet-infiniband.h
   M /trunk/epan/etypes.h

From Slava:
 Infiniband RoCE dissection.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5060
------------------------------------------------------------------------
r33703 | etxrab | 2010-08-03 10:08:52 -0700 (Tue, 03 Aug 2010) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-infiniband.c
   M /trunk/epan/dissectors/packet-infiniband.h

From Slava:
The Infiniband dissector currently uses a heuristic where it attempts to parse
IBA payloads as if they contained encapsulated traffic with an Ethertype
header. While a relatively common occurrence and thus a fairly useful feature,
this heuristic in many cases causes false-positives which invoke unneeded
dissectors and generate noise in the form of unjustified "malformed packet"
errors these dissectors cause. This patch adds a checkbox to the Infiniband
preferences menu that allows users to disable this feature if desired. The
option remains on by default.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5062
------------------------------------------------------------------------
r33707 | stig | 2010-08-04 06:32:09 -0700 (Wed, 04 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-udp.c

Avoid a possible dereference of null pointer.

------------------------------------------------------------------------
r33708 | stig | 2010-08-04 06:32:44 -0700 (Wed, 04 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bgp.c

Avoid a possible dereference of null pointer.

------------------------------------------------------------------------
r33709 | stig | 2010-08-04 06:34:05 -0700 (Wed, 04 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-netlogon.c

Initialize confounder to ensure it has a known value.

------------------------------------------------------------------------
r33710 | stig | 2010-08-04 06:34:50 -0700 (Wed, 04 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/uat.c

Ensure we don't index into a NULL pointer.

------------------------------------------------------------------------
r33711 | martinm | 2010-08-04 07:42:09 -0700 (Wed, 04 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Update bit_offset whether calling MAC dissector or not.

------------------------------------------------------------------------
r33713 | stig | 2010-08-05 00:09:59 -0700 (Thu, 05 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nt-tpcp.c

Initialize tpcph to avoid warnings from clang:
"The left operand of '>>' is a garbage value".

------------------------------------------------------------------------
r33714 | stig | 2010-08-05 00:12:56 -0700 (Thu, 05 Aug 2010) | 3 lines
Changed paths:
   M /trunk/gtk/sctp_stat.c

Initialize tmp_info to avoid warnings from clang:
"Assigned value is garbage or undefined".

------------------------------------------------------------------------
r33718 | etxrab | 2010-08-05 12:01:27 -0700 (Thu, 05 Aug 2010) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sbus.c

From Christian Durrer:
- Added more info for detecting S-Bus telegrams
- Added the display filter sbus.retry for finding re-sent request telegrams
- Added the possibility to jump from the request telegram to the response
telegram
- Added response time to the response telegram
- Added telegram types "Read/Write Block"
- Corrected the "Read System Info" telegram (CRC was not correctly calculated)
- Changed my EMail address
- Small typos corrected
------------------------------------------------------------------------
r33719 | jake | 2010-08-05 12:11:35 -0700 (Thu, 05 Aug 2010) | 2 lines
Changed paths:
   M /trunk/config.nmake

Remove experimental marker from NEW_PACKET_LIST.

------------------------------------------------------------------------
r33720 | morriss | 2010-08-05 12:33:20 -0700 (Thu, 05 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sbus.c

Fix number of arguments to format
------------------------------------------------------------------------
r33721 | wmeier | 2010-08-05 15:14:16 -0700 (Thu, 05 Aug 2010) | 9 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/gtk/rpc_progs.c
   M /trunk/gtk/service_response_time_table.c

From Cal Turney: Need 6 dec places of SRT precision in WS SRT dialogs and the values should be rounded to the nearest 1us.

From me: 
 -Slight revision of the patch to prevent overflows 
   when time_t is 32 bits (eg: on 32 bit Linux);
 -Other minor changes.

See: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4956

------------------------------------------------------------------------
r33722 | wmeier | 2010-08-05 15:27:17 -0700 (Thu, 05 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/rpc_progs.c

(Trivial) Define rpcprogs_packet() as returning gboolean; Whitespace cleanup.

------------------------------------------------------------------------
r33723 | wmeier | 2010-08-05 15:34:59 -0700 (Thu, 05 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/service_response_time_table.c

(Trivial) Whitespace cleanup.

------------------------------------------------------------------------
r33724 | wmeier | 2010-08-06 05:46:56 -0700 (Fri, 06 Aug 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacnet.c

Move proto_item_set_len() outside of an if statement so NPDU length is properly set;
Also: 'if (check_col())' no longer required;
      Minor revision of some comments;
      Whitespace cleanup;

------------------------------------------------------------------------
r33725 | wmeier | 2010-08-06 07:34:14 -0700 (Fri, 06 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtsp.c

From John Sullivan: Fix for 'Uninitialised pointer in packet-rtsp.c causes crash'
See https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5081

------------------------------------------------------------------------
r33726 | jake | 2010-08-06 10:46:27 -0700 (Fri, 06 Aug 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

From Tan Kean Siong:
Dissect the SMB Tree_Connect_Andx Request and Response properly with
extension request and response which are documented in [MS-SMB] — v20100711

------------------------------------------------------------------------
r33727 | jake | 2010-08-06 10:52:59 -0700 (Fri, 06 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-synergy.c

From Jay Crisman:
I have attached a very simple patch to add the 'calv' packet type.

------------------------------------------------------------------------
r33728 | stig | 2010-08-07 02:44:54 -0700 (Sat, 07 Aug 2010) | 3 lines
Changed paths:
   M /trunk/wiretap/pcap-common.c

From Jon Smirl:
Added "IEEE 802.15.4 Wireless PAN no fcs".

------------------------------------------------------------------------
r33729 | etxrab | 2010-08-07 07:37:37 -0700 (Sat, 07 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/prefs.c
   M /trunk/gtk/gui_utils.c
   M /trunk/gtk/gui_utils.h
   M /trunk/gtk/main.c
   M /trunk/gtk/prefs_gui.c
   M /trunk/gtk/prefs_layout.c
   M /trunk/ui_util.h

From Cal Turney:
Optionally display Wireshark version in the main window's title bar.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5040
------------------------------------------------------------------------
r33730 | gerald | 2010-08-08 08:03:36 -0700 (Sun, 08 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-08-08]
------------------------------------------------------------------------
r33734 | etxrab | 2010-08-08 09:42:57 -0700 (Sun, 08 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-slowprotocols.c

From Roberto Morro:
Added support for Organization Specific Slow Protocol (OSSP)
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4966
------------------------------------------------------------------------
r33735 | stig | 2010-08-08 12:04:35 -0700 (Sun, 08 Aug 2010) | 4 lines
Changed paths:
   M /trunk/epan/ftypes/ftype-tvbuff.c

Protect tvb_* functions in a TRY-CATCH block.

This fixes bug 5087.

------------------------------------------------------------------------
r33736 | guy | 2010-08-08 14:04:42 -0700 (Sun, 08 Aug 2010) | 4 lines
Changed paths:
   M /trunk/packaging/macosx/Read_me_first.rtf

Don't speak of XQuartz - at least one person thought we meant that you
had to install XQuartz from Mac OS X Forge, rather than just installing
the X11 that comes with OS X.

------------------------------------------------------------------------
r33739 | guy | 2010-08-08 14:26:39 -0700 (Sun, 08 Aug 2010) | 15 lines
Changed paths:
   M /trunk/gtk/gui_utils.c
   M /trunk/gtk/main.c

Don't set the icon name:

	1) the GTK+ documentation recommends against it;

	2) the X11 implementation of gtk_window_set_title() sets the
	   icon name to the title, so gdk_window_set_icon_name() doesn't
	   do anything interesting, and the Win32 and Quartz
	   implementations of gdk_window_set_icon_name() don't do
	   anything;

	3) gdk_window_set_icon_name() either crashes or complains if
	   it's handed a null pointer, which happens at startup.

Clean up indentation.

------------------------------------------------------------------------
r33740 | guy | 2010-08-08 14:38:36 -0700 (Sun, 08 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/main.c

You can't free a string constant.

------------------------------------------------------------------------
r33741 | guy | 2010-08-08 16:32:40 -0700 (Sun, 08 Aug 2010) | 2 lines
Changed paths:
   M /trunk/wiretap/netxray.c

Add a note.

------------------------------------------------------------------------
r33742 | stig | 2010-08-09 04:19:15 -0700 (Mon, 09 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/addr_resolv.c

Make it compile without HAVE_C_ARES and HAVE_GETHOSTBYNAME2.

------------------------------------------------------------------------
r33743 | etxrab | 2010-08-09 09:16:58 -0700 (Mon, 09 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/expert_comp_table.c

Update the experimental code to use the UI manager.
------------------------------------------------------------------------
r33744 | etxrab | 2010-08-09 09:17:45 -0700 (Mon, 09 Aug 2010) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml

Add AVP:s
------------------------------------------------------------------------
r33745 | sfisher | 2010-08-09 09:50:08 -0700 (Mon, 09 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-nt-sonmp.c

Update to latest device descriptions
------------------------------------------------------------------------
r33746 | sfisher | 2010-08-09 09:53:44 -0700 (Mon, 09 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-nt-sonmp.c

Fix typo in my last commit that broke compilation
------------------------------------------------------------------------
r33747 | wmeier | 2010-08-09 11:20:07 -0700 (Mon, 09 Aug 2010) | 8 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-bacapp.c

From Herbert Lischka: "corrected the dissection of reassembled UDP packets".
See: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5051

From me:
- Move proto_register... and proto_reg_handoff.. to the end of the file;
- Define a function as static;
- Minor reformatting and whitespace cleanup.

------------------------------------------------------------------------
r33748 | wmeier | 2010-08-09 11:40:12 -0700 (Mon, 09 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c

Fix a compile error.

------------------------------------------------------------------------
r33749 | wmeier | 2010-08-09 11:46:23 -0700 (Mon, 09 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c

Fix another compile error :(

------------------------------------------------------------------------
r33750 | wmeier | 2010-08-09 11:53:18 -0700 (Mon, 09 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c

Fix another compile error. 
(Note to self: take the time to read *all* the compiler error output before committing).

------------------------------------------------------------------------
r33751 | jake | 2010-08-09 12:28:09 -0700 (Mon, 09 Aug 2010) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcm.c

From David Aggeler:
- Finally, better reassembly using fragment_add_seq_next().
  The previous mode is still supported.
- Fixed sporadic decoding and export issues. Always decode 
  association negotiation, since performance check (tree==NULL)
  is now only in dissect_dcm_pdv_fragmented(). 
- Added one more PDV length check
- Show Association Headers as individual items
- Code cleanup. i.e. moved a few lookup functions to be closer 
  to the dissection.

------------------------------------------------------------------------
r33752 | gerald | 2010-08-09 15:54:03 -0700 (Mon, 09 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c

Future-proof a for loop.

------------------------------------------------------------------------
r33753 | guy | 2010-08-10 00:04:20 -0700 (Tue, 10 Aug 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c
   M /trunk/epan/dissectors/packet-smb.h
   M /trunk/epan/dissectors/packet-smb2.c

Dissect SMB_FILE_ATTRIBUTES, when used as file attributes rather than
search attributes, as a 16-bit quantity, with only the bits specified by
section 2.2.1.2.4 of [MS-CIFS].  Use dissect_file_ext_attr() in all
cases where we're dissecting SMB_EXT_FILE_ATTR, as specified by section
2.2.1.2.3 of [MS-CIFS].

------------------------------------------------------------------------
r33754 | stig | 2010-08-10 00:43:05 -0700 (Tue, 10 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/wslua/wslua_proto.c

Declare error as volatile to avoid warning on opensolaris:
variable 'error' might be clobbered by `longjmp' or `vfork'

------------------------------------------------------------------------
r33757 | etxrab | 2010-08-10 04:08:18 -0700 (Tue, 10 Aug 2010) | 3 lines
Changed paths:
   M /trunk/gtk/expert_comp_table.c

- Fix a crash when an entry in the popup menue is selected and there
are no epert info entries.
- Updates to GUManager code(still incomplete).
------------------------------------------------------------------------
r33758 | etxrab | 2010-08-10 04:36:18 -0700 (Tue, 10 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/filesystem.c
   M /trunk/epan/filesystem.h
   M /trunk/epan/libwireshark.def
   M /trunk/gtk/main.c

From Cal Turney:
Remember folder of capture selected from Welcome screen file dialog.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5038
------------------------------------------------------------------------
r33759 | etxrab | 2010-08-10 05:54:23 -0700 (Tue, 10 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/main.c

Use g_snprintf isf strncpy.
------------------------------------------------------------------------
r33760 | stig | 2010-08-10 06:19:31 -0700 (Tue, 10 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/main.c

Fixed warning: format not a string literal and no format arguments.

------------------------------------------------------------------------
r33761 | etxrab | 2010-08-10 08:47:29 -0700 (Tue, 10 Aug 2010) | 4 lines
Changed paths:
   M /trunk/gtk/expert_comp_table.c

Switch to GtkUIManager in stead of the deprecated GtkItemFactory.

In case of problems switch back by removing the line: 
#define USE_GUIMANAGER 1
------------------------------------------------------------------------
r33762 | stig | 2010-08-10 14:16:41 -0700 (Tue, 10 Aug 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main.c

From Cal Turney via bug 5038:
Fix for bug introduced in revision 33759.

------------------------------------------------------------------------
r33763 | etxrab | 2010-08-11 04:02:59 -0700 (Wed, 11 Aug 2010) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml

Fix a typo
------------------------------------------------------------------------
r33764 | etxrab | 2010-08-11 04:33:40 -0700 (Wed, 11 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sdp.c

Add a komment about the format of the MSRP path parameter.
------------------------------------------------------------------------
r33765 | etxrab | 2010-08-11 04:43:04 -0700 (Wed, 11 Aug 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c

From Herbert Lischka:
Resolves problems reported in bug #5090
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5090

I have 3 potentially risks of endless loop eliminated
the rest is cosmetic
------------------------------------------------------------------------
r33766 | etxrab | 2010-08-11 04:54:25 -0700 (Wed, 11 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

From Aamer Akhter:
NetFlow forwarding status and template fixes.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5083
------------------------------------------------------------------------
r33767 | etxrab | 2010-08-11 04:59:47 -0700 (Wed, 11 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_ipa.c

From Holger Freyther:
packet-gsm_ipa.c: Decode MGCP that is encapsulated inside the stream.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5068
------------------------------------------------------------------------
r33768 | etxrab | 2010-08-11 05:07:25 -0700 (Wed, 11 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-netlogon.c

From Frank Schorr:
NetrLogonControl2 - Control_data_information "name" not being decoded.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5071
------------------------------------------------------------------------
r33769 | etxrab | 2010-08-11 05:13:24 -0700 (Wed, 11 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-infiniband.c

Remove redundant chek_col.
------------------------------------------------------------------------
r33770 | stig | 2010-08-11 05:30:33 -0700 (Wed, 11 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-infiniband.c

Make it compile.

------------------------------------------------------------------------
r33771 | morriss | 2010-08-11 06:42:28 -0700 (Wed, 11 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c

Remove non-ASCII characters.
------------------------------------------------------------------------
r33772 | wmeier | 2010-08-11 09:42:21 -0700 (Wed, 11 Aug 2010) | 6 lines
Changed paths:
   M /trunk/gtk/graph_analysis.c

Remove 1K line limit when saving a flow graph to a file;
(Refactor code to write directly to file instead of first storing data
 in an array of fixed size).

Fixes Bug #5101: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5101

------------------------------------------------------------------------
r33773 | jake | 2010-08-11 14:23:49 -0700 (Wed, 11 Aug 2010) | 2 lines
Changed paths:
   M /trunk/print.c
   M /trunk/print.ps

Change font for packet information from Courier to Monaco.

------------------------------------------------------------------------
r33774 | stig | 2010-08-11 14:27:35 -0700 (Wed, 11 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sdp.c

Added check for valid tvb before calling tvb_length().

------------------------------------------------------------------------
r33775 | stig | 2010-08-11 14:37:04 -0700 (Wed, 11 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

Call tvb_get_bits32() if leading_zero_bits > 16.

------------------------------------------------------------------------
r33776 | etxrab | 2010-08-11 14:39:22 -0700 (Wed, 11 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sdp.c

Add a warning message if H264 profile-level-id parameter wasn't
posible to parse.
------------------------------------------------------------------------
r33777 | etxrab | 2010-08-11 14:52:35 -0700 (Wed, 11 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sdp.c

Update the comment.
------------------------------------------------------------------------
r33778 | etxrab | 2010-08-11 14:56:19 -0700 (Wed, 11 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

Do DISSECTOR_ASSERT_NOT_REACHED(); if golmb coded data is > 32 bits.
------------------------------------------------------------------------
r33779 | wmeier | 2010-08-11 18:54:10 -0700 (Wed, 11 Aug 2010) | 3 lines
Changed paths:
   M /trunk/gtk/flow_graph.c

Fix two memory leaks;
(Various other minor cleanup: whitespace, formatting, etc).

------------------------------------------------------------------------
r33780 | stig | 2010-08-11 23:26:21 -0700 (Wed, 11 Aug 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

From Chris Maynard via bug 5105:
IP should not compute the header checksum if within an error packet
such as ICMP.

------------------------------------------------------------------------
r33781 | stig | 2010-08-12 00:05:32 -0700 (Thu, 12 Aug 2010) | 2 lines
Changed paths:
   M /trunk/packaging/svr4

Prototype is generated.

------------------------------------------------------------------------
r33782 | martinm | 2010-08-12 01:53:08 -0700 (Thu, 12 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Fix a duplicate/copy-pasted filter field name.

------------------------------------------------------------------------
r33783 | martinm | 2010-08-12 02:03:05 -0700 (Thu, 12 Aug 2010) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

From Pascal Quantin:

The decoder expects to do not have any extra byte after the RAR bodies.

But according to 3GPP 36.321 8.8.0 chapter 6.1.5, the eNodeB is allowed to put padding at the end of the RAR PDU:

" A MAC PDU consists of a MAC header and zero or more MAC Random Access Responses (MAC RAR) and optionally padding as described in figure 6.1.5-4.
[...]

Padding may occur after the last MAC RAR. Presence and length of padding is implicit based on TB size, size of MAC header and number of RARs."

------------------------------------------------------------------------
r33784 | stig | 2010-08-12 07:09:08 -0700 (Thu, 12 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

Added support for RFC5482: User Timeout Option.

------------------------------------------------------------------------
r33785 | martinm | 2010-08-12 08:30:56 -0700 (Thu, 12 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Improve the way the encoded FP variant is interpreted.

------------------------------------------------------------------------
r33786 | wmeier | 2010-08-12 08:47:31 -0700 (Thu, 12 Aug 2010) | 5 lines
Changed paths:
   M /trunk/plugins/unistim/Makefile.common
   M /trunk/plugins/unistim/packet-unistim.c

From Don Newton: Added dissection of Expansion Module (KEM,GEM) messages to Unistim plugin.

From me: Add expansion.h to list of .h files in Makefile.common;
         #include <stdio.h> not required.

------------------------------------------------------------------------
r33787 | wmeier | 2010-08-12 08:58:01 -0700 (Thu, 12 Aug 2010) | 2 lines
Changed paths:
   A /trunk/plugins/unistim/expansion.h

Add new expansion.h file left out of the previous commit.

------------------------------------------------------------------------
r33788 | wmeier | 2010-08-12 09:27:16 -0700 (Thu, 12 Aug 2010) | 2 lines
Changed paths:
   M /trunk/plugins/unistim/packet-unistim.c

(Trivial) Use consistent indentation; Whitespace cleanup.

------------------------------------------------------------------------
r33789 | jake | 2010-08-12 09:39:29 -0700 (Thu, 12 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zrtp.c

Update ZRTP dissector to draft-22.

------------------------------------------------------------------------
r33790 | wmeier | 2010-08-12 13:05:41 -0700 (Thu, 12 Aug 2010) | 2 lines
Changed paths:
   M /trunk/doc/README.developer

Remove an incorrect line of code from the proto_reg_hanoff prototype.

------------------------------------------------------------------------
r33791 | guy | 2010-08-13 00:39:46 -0700 (Fri, 13 Aug 2010) | 30 lines
Changed paths:
   M /trunk/cfile.h
   M /trunk/file.c
   M /trunk/file.h
   M /trunk/gtk/expert_comp_table.c
   M /trunk/gtk/filter_utils.c
   M /trunk/gtk/find_dlg.c
   M /trunk/gtk/find_dlg.h
   M /trunk/gtk/iax2_analysis.c
   M /trunk/gtk/main.c
   M /trunk/gtk/packet_list_store.c
   M /trunk/gtk/packet_win.c
   M /trunk/gtk/rtp_analysis.c
   M /trunk/gtk/sctp_assoc_analyse.c
   M /trunk/gtk/tcp_graph.c
   M /trunk/proto_hier_stats.c

Instead of using a Boolean for the search direction, use an enum, so
that you can tell from examination whether the search is forward or
backward.

Make the cf_find_packet routines take the direction as an explicit
argument, rather than, in the cases where you don't want to permanently
set the direction, saving the direction in the capture_file structure,
changing it, doing the search, and restoring the saved direction.  Give
more information in the Doxygen comments for those routines.

Add a cf_find_packet_dfilter_string() routine, which takes a filter
string rather than a compiled filter as an argument.  Replace
find_previous_next_frame_with_filter() with it.

Have cf_read_frame_r() and cf_read_frame() pop up the error dialog if
the read fails, rather than leaving that up to its caller.  That lets us
eliminate cf_read_error_message(), by swallowing its code into
cf_read_frame_r().  Add Doxygen comments for cf_read_frame_r() and
cf_read_frame().

Don't have find_packet() read the packet before calling the callback
routine; leave that up to the callback routine.

Add cf_find_packet_marked(), to find the next or previous marked packet,
and cf_find_packet_time_reference(), to find the next or previous time
reference packet.  Those routines do *not* need to read the packet data
to see if it matches; that lets them run much faster.

Clean up indentation.

------------------------------------------------------------------------
r33792 | guy | 2010-08-13 01:13:23 -0700 (Fri, 13 Aug 2010) | 4 lines
Changed paths:
   M /trunk/gtk/packet_list_store.c
   M /trunk/gtk/packet_win.c
   M /trunk/proto_hier_stats.c

Get rid of some no-longer-necessary includes of simple_dialog.h (now
that cf_read_frame() and cf_read_frame_r() pop up an alert box on an
error, its callers no longer do so).

------------------------------------------------------------------------
r33793 | stig | 2010-08-13 04:18:44 -0700 (Fri, 13 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/wslua/init_wslua.c

Do not load lua-scripts starting with '.'

------------------------------------------------------------------------
r33794 | etxrab | 2010-08-13 04:57:18 -0700 (Fri, 13 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_gm.c

Add missing break, should fix bug
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5110
------------------------------------------------------------------------
r33795 | etxrab | 2010-08-13 06:04:52 -0700 (Fri, 13 Aug 2010) | 3 lines
Changed paths:
   M /trunk/diameter/dictionary.xml

From Rick:
Update dictionary.xml for Gx Enum.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5107
------------------------------------------------------------------------
r33796 | gerald | 2010-08-13 14:03:29 -0700 (Fri, 13 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/drag_and_drop.c
   M /trunk/gtk/drag_and_drop.h

Fix module names.

------------------------------------------------------------------------
r33797 | gerald | 2010-08-13 14:21:28 -0700 (Fri, 13 Aug 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main.c

Convert our argument list to UTF-8 at startup on Windows. This lets us
double-click on files with non-Latin characters, e.g. "0_αßΓπ∟σµ.cap".

------------------------------------------------------------------------
r33798 | etxrab | 2010-08-14 09:42:41 -0700 (Sat, 14 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-per.c

Fix up decoding of bitfields in the aligned variant.
------------------------------------------------------------------------
r33799 | stig | 2010-08-14 10:22:22 -0700 (Sat, 14 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-per.c

Fixed guint64 printf modifier.

------------------------------------------------------------------------
r33800 | stig | 2010-08-14 10:24:21 -0700 (Sat, 14 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def
   M /trunk/epan/proto.c
   M /trunk/epan/proto.h

Added proto_item_prepend_text().

------------------------------------------------------------------------
r33801 | gerald | 2010-08-15 08:03:33 -0700 (Sun, 15 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-08-15]
------------------------------------------------------------------------
r33802 | wmeier | 2010-08-15 08:17:48 -0700 (Sun, 15 Aug 2010) | 2 lines
Changed paths:
   M /trunk/file.c

Fix compilation error when compiling for "old packet list".

------------------------------------------------------------------------
r33806 | etxrab | 2010-08-15 22:34:12 -0700 (Sun, 15 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-erf.c
   M /trunk/epan/dissectors/packet-erf.h

From Stephen Donnelly:
Add BFS extension header decoding to ERF dissector.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5113
------------------------------------------------------------------------
r33807 | etxrab | 2010-08-15 22:42:01 -0700 (Sun, 15 Aug 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sbus.c

From Christian Durrer:
- Support for extended packet size for read/write block telegrams
- Added expert info for bad CRC, telegram retries and NAK responses
- Removed amount of retries which has not been displayed correctly
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5088
------------------------------------------------------------------------
r33808 | etxrab | 2010-08-15 22:48:40 -0700 (Sun, 15 Aug 2010) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-infiniband.c
   M /trunk/epan/dissectors/packet-infiniband.h

From Slava:
This patch adds to the Infiniband dissector the ability to dissect EoIB
(Ethernet-over-Infiniband) traffic which uses Mellanox Technologies Ltd's
standard for encapsulating Ethernet traffic inside Infiniband packets.

This patch is submitted on behalf of Mellanox Technologies Ltd.

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5061
------------------------------------------------------------------------
r33809 | stig | 2010-08-16 02:11:01 -0700 (Mon, 16 Aug 2010) | 2 lines
Changed paths:
   M /trunk/asn1/rtse/rtse.cnf
   M /trunk/epan/dissectors/packet-rtse.c

Added Info for RTTPapdu.

------------------------------------------------------------------------
r33810 | stig | 2010-08-16 02:12:39 -0700 (Mon, 16 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/asn1.h

Removed some TAB's.

------------------------------------------------------------------------
r33811 | etxrab | 2010-08-16 08:13:54 -0700 (Mon, 16 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/tvbuff.c

From rodebiet:
tvb_get_bits32 produces malformed_packet if no_of_bits < 25 and tvb remaining = 3
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5080
------------------------------------------------------------------------
r33812 | martinm | 2010-08-16 08:14:01 -0700 (Mon, 16 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Set length of 'PDU Block Header' subtrees.

------------------------------------------------------------------------
r33813 | etxrab | 2010-08-16 08:31:13 -0700 (Mon, 16 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c

Typo - wrong IE code for APN aggregate maximum bit rate in message
 Activate default EPS bearer context request.
------------------------------------------------------------------------
r33814 | guy | 2010-08-16 10:19:15 -0700 (Mon, 16 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/tvbuff.c

Clean up indentation.

------------------------------------------------------------------------
r33815 | sfisher | 2010-08-16 10:19:42 -0700 (Mon, 16 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-llc.c
   A /trunk/epan/dissectors/packet-ndp.c (from /trunk/epan/dissectors/packet-nt-sonmp.c:33812)
   M /trunk/epan/dissectors/packet-nt-oui.c
   D /trunk/epan/dissectors/packet-nt-sonmp.c
   M /trunk/epan/prefs.c
   M /trunk/wka.tmpl

Modernize the SONMP ("SynOptics Network Management Protocol") dissector by renaming it to NDP ("Nortel Discovery Protocol") and do some basic cleanup.
------------------------------------------------------------------------
r33816 | gerald | 2010-08-16 10:53:43 -0700 (Mon, 16 Aug 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main_welcome.c
   M /trunk/gtk/utf8_entities.h

Don't drop characters in the middle of a UTF-8 sequence. Fixes bug 5066.
Use an ellipsis character instead of three dots.

------------------------------------------------------------------------
r33817 | etxrab | 2010-08-16 11:17:45 -0700 (Mon, 16 Aug 2010) | 11 lines
Changed paths:
   M /trunk/cfile.h
   M /trunk/file.c
   M /trunk/gtk/main.c
   M /trunk/gtk/main.h
   M /trunk/gtk/menus.c
   M /trunk/gtk/new_packet_list.c
   M /trunk/gtk/new_packet_list.h

From Cal Turney:
1. Restore the functionality of <Ctrl>A and <Ctrl>X to the filter textbox.  
2. Assign intuitive shortcuts without consuming any new shortcut letters.  
3. Add 'Un-Time Reference All Packets' to the menu.
4. Disallow the marking or ignoring of all packets in the capture.  
5. Make the Mark/Ignore/Time Reference-related menu items context sensitive. 
6. Add 'ref_time_count' to the capture_file structure
7. Utilize marked/ignored/ref_time_count vars to prevent needless looping thru
   the entire packet list by exiting the loop when it becomes zero.

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5115
------------------------------------------------------------------------
r33818 | gerald | 2010-08-16 11:32:27 -0700 (Mon, 16 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/main_welcome.c

Fix compilation on Windows.

------------------------------------------------------------------------
r33819 | gerald | 2010-08-16 11:58:24 -0700 (Mon, 16 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/main_welcome.c

Fix an include.

------------------------------------------------------------------------
r33820 | sfisher | 2010-08-16 14:41:29 -0700 (Mon, 16 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dhcpv6.c

Fix display of Client's FQDN and clear up the confusion with the S, O and N bits from the RFC descriptions.
------------------------------------------------------------------------
r33821 | sfisher | 2010-08-16 15:01:12 -0700 (Mon, 16 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ndp.c

Change the protocol name from "Nortel NDP" to "Nortel Discovery Protocol" in the protocol registration.
------------------------------------------------------------------------
r33822 | sfisher | 2010-08-16 15:28:23 -0700 (Mon, 16 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-icmp.c

Clarify that the "Sequence number" is given in big endian representation and the "Sequence number (LE)" is little endian.
------------------------------------------------------------------------
r33823 | guy | 2010-08-16 16:26:36 -0700 (Mon, 16 Aug 2010) | 16 lines
Changed paths:
   M /trunk/gtk/menus.c

No need to have the same separator line twice, once with the new packet
list and once with the old packet list.

Have Boolean variables for some of the predicates in
set_menus_for_selected_packet(), to clarify what they're testing.

Clean up indentation.

Add some comments for various issues.

(FYI, what "Restore the functionality of <Ctrl>A and <Ctrl>X to the
filter textbox." means, in the comment for the previous checkin, "don't
use <Ctrl>A or <Ctrl>X for our own purposes, so they work the same way
they do in other applications using GTK+"; the checkin changed some menu
items not to use <Ctrl>A and <Ctrl>X as accelerators.)

------------------------------------------------------------------------
r33824 | wmeier | 2010-08-16 17:51:44 -0700 (Mon, 16 Aug 2010) | 10 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-fcgi.c

From Tom Hughes: FastCGI dissector.

See: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5067

From me: - Fix one bug;
         - Add a comment about some code which doesn't display info
            in COL_INFO as intended due to what seems to be a Wireshark bug in 
            tcp_dissect_pdus() when there are multiple records in a 
            TCP frame.

------------------------------------------------------------------------
r33825 | wmeier | 2010-08-16 18:01:48 -0700 (Mon, 16 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fcgi.c

Fix two typos/bugs (introduced by me in the previous commit).

------------------------------------------------------------------------
r33826 | guy | 2010-08-16 18:36:53 -0700 (Mon, 16 Aug 2010) | 3 lines
Changed paths:
   M /trunk/gtk/menus.c

Discourage people from stealing <control> keystrokes that have somewhat
standard meanings for anything other than those standard purposes.

------------------------------------------------------------------------
r33827 | jmayer | 2010-08-17 00:00:58 -0700 (Tue, 17 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/CMakeLists.txt

Commit 33815 renamed packet-nt-sonmp.c to packet-ndp.c
------------------------------------------------------------------------
r33828 | wmeier | 2010-08-17 06:44:12 -0700 (Tue, 17 Aug 2010) | 4 lines
Changed paths:
   M /trunk/gtk/color_edit_dlg.c
   M /trunk/gtk/filter_dlg.c
   M /trunk/gtk/filter_dlg.h
   M /trunk/gtk/find_dlg.c

Minor changes related to signal callback functions:
- all: filter_te_syntax_check_cb should have an (unused) 'gpointer user_data' arg;
- filter_dlg.c: filter_sel_list_cb user_data arg is unused;

------------------------------------------------------------------------
r33829 | wmeier | 2010-08-17 06:59:15 -0700 (Tue, 17 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/airpcap_dlg.c

(Trivial) window_delete_event_cb() 'user_data' arg is unused ...

------------------------------------------------------------------------
r33830 | wmeier | 2010-08-17 07:01:33 -0700 (Tue, 17 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/capture_info_dlg.c

(Trivial) Reword comments about callback function signatures.

------------------------------------------------------------------------
r33831 | martinm | 2010-08-17 09:12:29 -0700 (Tue, 17 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.h

Change a channel type #define to be contiguous with others.

------------------------------------------------------------------------
r33832 | dimeg | 2010-08-17 14:35:26 -0700 (Tue, 17 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssap.c

The Mobile Status msg in BSSAP+ has IMSI as first possible IE

------------------------------------------------------------------------
r33833 | dimeg | 2010-08-17 15:48:39 -0700 (Tue, 17 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-e212.c
   M /trunk/epan/dissectors/packet-q708.c

Updates due to ITU Operational Bulletins 956 and 957

------------------------------------------------------------------------
r33834 | wmeier | 2010-08-17 17:04:53 -0700 (Tue, 17 Aug 2010) | 10 lines
Changed paths:
   M /trunk/gtk/iax2_analysis.c

Minor cleanup of iax2 graph:
- Display current value in combo boxes (pixels_per_tick, etc) to always
  match actual values being used to create graph;
- yscale combo box entries: 
   show ms values as ms (not x000 usecs);
   show us values with unit "us" (not "ms");
- Determine max yscale label width properly as the largest of the
  top or middle label lengths;
- Cleanup some indentation.

------------------------------------------------------------------------
r33835 | wmeier | 2010-08-17 18:01:06 -0700 (Tue, 17 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/iax2_analysis.c

Various minor cleanups....

------------------------------------------------------------------------
r33836 | etxrab | 2010-08-18 00:48:37 -0700 (Wed, 18 Aug 2010) | 3 lines
Changed paths:
   M /trunk/gtk/menus.c
   M /trunk/gtk/new_packet_list.c

From Cal Turney:
Restores Mark All Displayed item when all packets are displayed.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5115
------------------------------------------------------------------------
r33838 | etxrab | 2010-08-18 01:09:37 -0700 (Wed, 18 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/proto.c

Fix indentation.
------------------------------------------------------------------------
r33839 | martinm | 2010-08-18 03:33:54 -0700 (Wed, 18 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Show IPv6 addresses in ipprim summary line.

------------------------------------------------------------------------
r33840 | martinm | 2010-08-18 03:47:21 -0700 (Wed, 18 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Fix ipprim IPv6 port number offsets.

------------------------------------------------------------------------
r33841 | morriss | 2010-08-18 12:11:07 -0700 (Wed, 18 Aug 2010) | 7 lines
Changed paths:
   M /trunk/gtk/main.c

main_cf_cb_file_read_finished(): use get_dirname() to get the directory of the
current file name.

This fixes a crash after failing to allocate some massive number of bytes if
the file name did not contain a path--which is the case when doing
"wireshark -r myfile.pcap".

------------------------------------------------------------------------
r33842 | dimeg | 2010-08-18 14:12:26 -0700 (Wed, 18 Aug 2010) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-nwk.c

Fix for Bug 5052:
Good ZigBee Beacon detected as malformed

In ZigBee 2006 the Tx-Offset is optional, while in the 2007 and
later versions, the Tx-Offset is a required value. Since both 2006 and
and 2007 versions have the same protocol version (2), we should treat
the Tx-Offset as well as the update ID as optional elements

------------------------------------------------------------------------
r33843 | wmeier | 2010-08-18 15:20:01 -0700 (Wed, 18 Aug 2010) | 10 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Various minor cleanup:
 - Non-event signal callback functions should return void;
 - Event signal callback had missing 'user_data' arg;
 - Rename various symbols for clarity;
 - Rename local functions with names of form gtk_...;
 - Use gboolean where appropriate;
 - Remove all 'exit(10)' statements;
 - Whitespace;
 - ...

------------------------------------------------------------------------
r33844 | wmeier | 2010-08-18 17:09:56 -0700 (Wed, 18 Aug 2010) | 4 lines
Changed paths:
   M /trunk/gtk/expert_comp_dlg.c
   M /trunk/gtk/expert_comp_dlg.h
   M /trunk/gtk/main_statusbar.c

Use correct signature for "button-press-event" callback function;
Whitespace cleanup;
Use gboolean as appropriate; 

------------------------------------------------------------------------
r33845 | guy | 2010-08-18 17:14:07 -0700 (Wed, 18 Aug 2010) | 6 lines
Changed paths:
   M /trunk/gtk/menus.c

Add placeholder items for ^Z as Edit->Undo, shift-^Z as Edit->Redo,
and ^A as Edit->Select All.

Add more details about implementing Undo/Redo/Cut/Copy/Paste/Select All
in the comment for the placeholder items.

------------------------------------------------------------------------
r33846 | morriss | 2010-08-18 19:17:01 -0700 (Wed, 18 Aug 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c

Fix https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5114 (infinite loop in
bootp dissector when dissecting packetcable MTA capabilities).

Limit the tlv_len to G_MAXUINT16 to prevent an integer overflow from causing us to
increment the working offset by 0 (thus causing us to loop).

------------------------------------------------------------------------
r33849 | wmeier | 2010-08-19 08:02:23 -0700 (Thu, 19 Aug 2010) | 6 lines
Changed paths:
   M /trunk/gtk/help_dlg.c
   M /trunk/gtk/help_dlg.h
   M /trunk/gtk/main_welcome.c

Use proper signatures for event callback functions:
   EG: Non-event signal callback functions shouldn't
   be directly used as event callback functions.
Replace use of deprecated "GtkSignalFunc";
Whitespace cleanup.

------------------------------------------------------------------------
r33850 | wmeier | 2010-08-19 08:22:03 -0700 (Thu, 19 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/help_dlg.c
   M /trunk/gtk/help_dlg.h

Fix gcc compile errors....

------------------------------------------------------------------------
r33851 | etxrab | 2010-08-19 12:05:11 -0700 (Thu, 19 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/conversations_table.c

Switch over to use the GUIManager(can be turned of by a #define).
------------------------------------------------------------------------
r33852 | etxrab | 2010-08-19 12:05:56 -0700 (Thu, 19 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/expert_comp_table.c

Use better naming.
------------------------------------------------------------------------
r33853 | stig | 2010-08-19 13:11:28 -0700 (Thu, 19 Aug 2010) | 4 lines
Changed paths:
   M /trunk/gtk/conversations_table.c

Fixed the popup menu table:
- Added missing NULL initializers
- Fixed some typos in the menu items

------------------------------------------------------------------------
r33854 | wmeier | 2010-08-19 14:51:35 -0700 (Thu, 19 Aug 2010) | 6 lines
Changed paths:
   M /trunk/gtk/iax2_analysis.c

Fix two bugs related to use of the graph Y-Axis Scale combo-box:
1. Incorrect specification of units: Should be ms & s not us and ms;
   Bug introduced in SVN #33834.
2. Selecting 50ms as the yscale actually used 50us as the scale;
   Bug introduced in SVN #30543.

------------------------------------------------------------------------
r33855 | wmeier | 2010-08-19 15:04:37 -0700 (Thu, 19 Aug 2010) | 9 lines
Changed paths:
   M /trunk/gtk/rtp_analysis.c

 Minor cleanup of rtp graph:
 - Display current value in combo boxes (pixels_per_tick, etc) to always
   match actual values being used to create graph;
 - yscale combo box entries: 
    show values >= 1 sec as sec (not s000 ms);
 - Determine max yscale label width properly as the largest of the
   top or middle label lengths;
 - Cleanup some indentation.

------------------------------------------------------------------------
r33856 | etxrab | 2010-08-20 04:54:18 -0700 (Fri, 20 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/wlan_stat_dlg.c

Switch wlan_stat_dlg to use GUIManager step 1.
------------------------------------------------------------------------
r33857 | etxrab | 2010-08-20 04:56:44 -0700 (Fri, 20 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/conversations_table.c

Fix indentation.
------------------------------------------------------------------------
r33858 | etxrab | 2010-08-20 04:57:20 -0700 (Fri, 20 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/expert_comp_table.c

Remove a comment.
------------------------------------------------------------------------
r33859 | stig | 2010-08-20 05:05:44 -0700 (Fri, 20 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/wlan_stat_dlg.c

Use defined functions.

------------------------------------------------------------------------
r33860 | etxrab | 2010-08-20 07:19:06 -0700 (Fri, 20 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/wlan_stat_dlg.c

Switch wlan_stat_dlg to use GUIManager step 2.
------------------------------------------------------------------------
r33862 | morriss | 2010-08-20 12:41:35 -0700 (Fri, 20 Aug 2010) | 5 lines
Changed paths:
   M /trunk/diameter/dictionary.dtd
   M /trunk/diameter/mobileipv6.xml

From Kirill A. Korinskiy via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5122:

I try use diameters XML files as sources for my XSL transform by xslt and found
some typos. I attach patch for fixing it.

------------------------------------------------------------------------
r33863 | morriss | 2010-08-20 14:56:52 -0700 (Fri, 20 Aug 2010) | 9 lines
Changed paths:
   M /trunk/gtk/main.c

From Turney Cal as a followup to rev 33841 and bug 5038:

I tested your update ("wireshark -r foo.pcap" from a cmd window) and 
found that it did not use the current folder for the next Open dialog 
and didn't save the folder in recent.  The attached patch prepends the
filename with the current folder.

From me: don't leak memory when doing it.

------------------------------------------------------------------------
r33864 | morriss | 2010-08-20 15:12:55 -0700 (Fri, 20 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/gui_utils.c

Don't leak the memory used by the original title when we're appending the version to it.
------------------------------------------------------------------------
r33865 | morriss | 2010-08-20 15:13:46 -0700 (Fri, 20 Aug 2010) | 1 line
Changed paths:
   M /trunk/fileset.c

When freeing the fileset entries, free the entry itself too.
------------------------------------------------------------------------
r33866 | morriss | 2010-08-20 15:15:07 -0700 (Fri, 20 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/main_welcome.c

Free the err_str from capture_interface_list() even if the error isn't CANT_GET_INTERFACE_LIST.
------------------------------------------------------------------------
r33870 | gerald | 2010-08-20 17:19:32 -0700 (Fri, 20 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipv6.c

If we have something that looks like a stateless autoconfiguration
address, add the corresponding MAC address to the tree.

------------------------------------------------------------------------
r33871 | morriss | 2010-08-20 20:31:30 -0700 (Fri, 20 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/column-utils.h

Remove duplicate definition of COL_MAX_LEN and COL_MAX_INFO_LEN: apparently no one needs them in this file (probably because they're marked as "don't use").  Now they are only defined in column_info.h .
------------------------------------------------------------------------
r33872 | morriss | 2010-08-20 20:44:36 -0700 (Fri, 20 Aug 2010) | 1 line
Changed paths:
   M /trunk/plugins/asn1/packet-asn1.c

prefs_register_string_preference() overwrites the given value pointer with a copy of the string.  Since the string this dissector passes in is mallocated, keep a pointer to it and then free it after the pointer has been overwritten.
------------------------------------------------------------------------
r33873 | morriss | 2010-08-20 20:54:55 -0700 (Fri, 20 Aug 2010) | 1 line
Changed paths:
   M /trunk/doc/README.developer

Document what prefs_register_string_preference() does with your value pointer.
------------------------------------------------------------------------
r33874 | morriss | 2010-08-20 21:26:26 -0700 (Fri, 20 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/prefs.c

Add some code to prefs_cleanup() to free (most of the) memory associated with the preferences.  This only happens during shutdown so it's not fixing a memory leak, but it makes me more comfortable to know where the preferences memory is freed.
------------------------------------------------------------------------
r33875 | wmeier | 2010-08-21 06:21:35 -0700 (Sat, 21 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/gtkvumeter.c
   M /trunk/gtk/gtkvumeter.h

Use GType instead of deprecated GtkType

------------------------------------------------------------------------
r33876 | wmeier | 2010-08-21 06:48:52 -0700 (Sat, 21 Aug 2010) | 2 lines
Changed paths:
   M /trunk/config.h.win32

New packet list is no longer experimental.

------------------------------------------------------------------------
r33877 | gerald | 2010-08-21 09:38:13 -0700 (Sat, 21 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/main_welcome.c

Initialize a variable before we try to free it.

------------------------------------------------------------------------
r33878 | gerald | 2010-08-21 10:45:03 -0700 (Sat, 21 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipv6.c

Add a "summary in tree" option similar to v4.

------------------------------------------------------------------------
r33880 | gerald | 2010-08-21 17:41:06 -0700 (Sat, 21 Aug 2010) | 2 lines
Changed paths:
   M /trunk/packaging/portableapps/win32/makenmake.pl

Add !ENDIF if needed.

------------------------------------------------------------------------
r33881 | gerald | 2010-08-22 08:03:30 -0700 (Sun, 22 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-08-22]
------------------------------------------------------------------------
r33887 | stig | 2010-08-23 02:17:03 -0700 (Mon, 23 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-zcl.c

Fix for attribute boolean, from bug 5127.

------------------------------------------------------------------------
r33888 | wmeier | 2010-08-23 07:08:35 -0700 (Mon, 23 Aug 2010) | 22 lines
Changed paths:
   M /trunk/gtk/new_packet_list.c

new_packet_list_column_button_pressed_cb(): return gboolean (not void): it's an event callback;
Note:
 the original code:
   static void new_packet_list_column_button_pressed_cb() {
     ...
     packet_list_popup(...);
     }
 the revised code:
   static gboolean new_packet_list_column_button_pressed_cb() {
     ...
     return packet_list_popup(...);
     }

 My guess is that the original code happened to work 
 on some?/all? supported platforms depending upon the actual
 details of the generated calling_sequence/return code.
---------------
Also: 
- new_packet_list_column_button_pressed_cb(): 'path' arg is unused;
- new_packet_list_double_click_cb(): user_data arg is unused so 
  don't supply same in the g_signal_connect.

------------------------------------------------------------------------
r33889 | wmeier | 2010-08-23 07:36:01 -0700 (Mon, 23 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/new_packet_list.c

(Trivial) Whitespace cleanup.

------------------------------------------------------------------------
r33890 | wmeier | 2010-08-23 08:58:48 -0700 (Mon, 23 Aug 2010) | 3 lines
Changed paths:
   M /trunk/gtk/color_edit_dlg.c
   M /trunk/gtk/compare_stat.c
   M /trunk/gtk/filter_autocomplete.c
   M /trunk/gtk/gtkvumeter.c
   M /trunk/gtk/io_stat.c
   M /trunk/gtk/main_proto_draw.c
   M /trunk/gtk/prefs_gui.c
   M /trunk/gtk/progress_dlg.c
   M /trunk/gtk/rpc_stat.c
   M /trunk/gtk/scsi_stat.c
   M /trunk/gtk/sctp_error_dlg.c
   M /trunk/gtk/sctp_stat_dlg.c
   M /trunk/gtk/service_response_time_table.c

(Trivial/Cosmetic) Fix signatures of some signal callback functions;
Also:Add some missing G_CALLBACKs (even in commented out code)

------------------------------------------------------------------------
r33891 | morriss | 2010-08-23 09:18:06 -0700 (Mon, 23 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/main_filter_toolbar.c

Remove #if 0'd out code (dfilter_combo_add_empty()).
------------------------------------------------------------------------
r33892 | wmeier | 2010-08-23 09:39:52 -0700 (Mon, 23 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/graph_analysis.h

(Trivial) Use consistent indentation.

------------------------------------------------------------------------
r33893 | wmeier | 2010-08-23 09:48:42 -0700 (Mon, 23 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

[Trivial] Use g_signal_connect() instead of g_signal_connect_data().

------------------------------------------------------------------------
r33894 | jake | 2010-08-23 11:16:22 -0700 (Mon, 23 Aug 2010) | 2 lines
Changed paths:
   M /trunk/config.guess
   M /trunk/config.sub

On request from Albert Chin:
Update libtoolize files
------------------------------------------------------------------------
r33895 | wmeier | 2010-08-23 12:29:08 -0700 (Mon, 23 Aug 2010) | 5 lines
Changed paths:
   M /trunk/gtk/airpcap_dlg.c
   M /trunk/gtk/airpcap_dlg.h
   M /trunk/gtk/ansi_map_stat.c
   M /trunk/gtk/capture_dlg.c
   M /trunk/gtk/dcerpc_stat.c
   M /trunk/gtk/decode_as_dlg.c
   M /trunk/gtk/expert_comp_table.c
   M /trunk/gtk/expert_dlg.c
   M /trunk/gtk/gsm_a_stat.c
   M /trunk/gtk/gsm_map_stat.c
   M /trunk/gtk/main_airpcap_toolbar.c
   M /trunk/gtk/mtp3_stat.c
   M /trunk/gtk/prefs_dlg.c
   M /trunk/gtk/prefs_layout.c
   M /trunk/gtk/rpc_progs.c

(Minor) Cleanup signal callbak signatures and related:
- Don't mark callback arg as _U_ if actually used (and vice-versa);
- Use Null as user_data in g_signal_callback if unused in callback;
- Use correct signature for certain event callbacks.

------------------------------------------------------------------------
r33898 | sfisher | 2010-08-23 16:09:32 -0700 (Mon, 23 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-arp.c

The ARP hardware type and operation code are listed with the IANA in decimal notation, not hex.
------------------------------------------------------------------------
r33900 | gerald | 2010-08-23 17:24:44 -0700 (Mon, 23 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipv6.c

Display ISATAP encapsulated IPv4 addresses.

------------------------------------------------------------------------
r33901 | wmeier | 2010-08-23 17:25:50 -0700 (Mon, 23 Aug 2010) | 3 lines
Changed paths:
   M /trunk/gtk/decode_as_dlg.c

Use consistent indentation;
Fix a few @param comments.

------------------------------------------------------------------------
r33902 | etxrab | 2010-08-23 22:11:37 -0700 (Mon, 23 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/expert_comp_table.c

Change the wording in the menu.
------------------------------------------------------------------------
r33903 | etxrab | 2010-08-23 22:38:49 -0700 (Mon, 23 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sbus.c

From Christian Durrer:
Not all Ether-S-Bus telegrams are recognized and displayed correctly.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5123
------------------------------------------------------------------------
r33904 | etxrab | 2010-08-23 22:44:55 -0700 (Mon, 23 Aug 2010) | 3 lines
Changed paths:
   M /trunk/wiretap/daintree-sna.c

From Hamish Moffatt:
 daintree-sna.c doesn't initialise capture_file snapshot_length.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5128
------------------------------------------------------------------------
r33905 | kukosa | 2010-08-23 22:53:17 -0700 (Mon, 23 Aug 2010) | 2 lines
Changed paths:
   M /trunk/tools/asn2wrs.py

- fix using hex values as constraint
- avoid crash if unknown type is used in type assignment
------------------------------------------------------------------------
r33906 | etxrab | 2010-08-23 23:15:40 -0700 (Mon, 23 Aug 2010) | 3 lines
Changed paths:
   M /trunk/capture.c

From Gregor Beck:
ERROR:capture.c:141:capture_start: assertion failed: (capture_opts->state == CAPTURE_STOPPED)
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5126
------------------------------------------------------------------------
r33907 | etxrab | 2010-08-24 00:44:36 -0700 (Tue, 24 Aug 2010) | 1 line
Changed paths:
   M /trunk/asn1/rtse/rtse.asn
   M /trunk/asn1/rtse/rtse.cnf

Add Id.
------------------------------------------------------------------------
r33908 | stig | 2010-08-24 04:36:10 -0700 (Tue, 24 Aug 2010) | 2 lines
Changed paths:
   M /trunk/asn1/rtse/rtse.cnf
   M /trunk/epan/dissectors/packet-rtse.c

Indicate abort and abort-reason in info column.

------------------------------------------------------------------------
r33909 | wmeier | 2010-08-24 07:59:11 -0700 (Tue, 24 Aug 2010) | 12 lines
Changed paths:
   M /trunk/wiretap/daintree-sna.c

Fix issue which causes daintree-sna frames to be rejected with "capture length > packet length".

This fix adds back two lines of code removed in SVN #33678.

 "Define WTAP_ENCAP_IEEE802_15_4_NOFCS, for use in file formats that don't
  include the FCS, and use it for the Daintree SNA file format. [...]"

This fix just restores the discarding of two end-of-frame "pad" bytes as each frame is read
from the capture file; This seems to me to be the correct behaviour.



------------------------------------------------------------------------
r33910 | stig | 2010-08-24 08:08:07 -0700 (Tue, 24 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Display constructed octet strings with correct hf_id.
Show octet string fragments as for reassembly.

------------------------------------------------------------------------
r33911 | stig | 2010-08-24 08:09:11 -0700 (Tue, 24 Aug 2010) | 2 lines
Changed paths:
   M /trunk/asn1/rtse/packet-rtse-template.c
   M /trunk/epan/dissectors/packet-rtse.c

Display octet string fragments for RTSE segment data.

------------------------------------------------------------------------
r33912 | stig | 2010-08-24 08:43:32 -0700 (Tue, 24 Aug 2010) | 3 lines
Changed paths:
   M /trunk/asn1/cms/cms.cnf
   M /trunk/epan/dissectors/packet-cms.c

Rewrote to fetch content_tvb from dissect_ber_octet_string().
Display eContent entry (with length) in tree.

------------------------------------------------------------------------
r33913 | stig | 2010-08-24 08:46:33 -0700 (Tue, 24 Aug 2010) | 2 lines
Changed paths:
   M /trunk/asn1/cms/cms.cnf

Fix modifier in .cnf file.

------------------------------------------------------------------------
r33914 | stig | 2010-08-24 08:47:10 -0700 (Tue, 24 Aug 2010) | 2 lines
Changed paths:
   M /trunk/asn1/x411/x411.cnf
   M /trunk/epan/dissectors/packet-x411.c

Display content entry (with length) in tree.

------------------------------------------------------------------------
r33915 | etxrab | 2010-08-24 13:03:33 -0700 (Tue, 24 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/expert_comp_table.c

Make the expert filter popup behave as in filter_utils.
------------------------------------------------------------------------
r33916 | gerald | 2010-08-24 16:39:29 -0700 (Tue, 24 Aug 2010) | 5 lines
Changed paths:
   M /trunk/dumpcap.c
   M /trunk/gtk/main.c

Partial fix for bug 5133. On Windows, call SetDllDirectory at startup if
it's present in Wireshark and dumpcap. This takes care of the airpcap.dll
PoC but we need to load wpcap.dll from a full path. We might want to
call SetDllDirectory from our other executables as well.

------------------------------------------------------------------------
r33917 | gerald | 2010-08-24 17:20:50 -0700 (Tue, 24 Aug 2010) | 2 lines
Changed paths:
   M /trunk/dumpcap.c

Fix !Windows compilation.

------------------------------------------------------------------------
r33918 | martinm | 2010-08-25 06:01:00 -0700 (Wed, 25 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Show (again?) MAC-d PDUs inside MAC-es PDUs.

------------------------------------------------------------------------
r33919 | martinm | 2010-08-25 06:27:27 -0700 (Wed, 25 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Let DCT2000 tree extend to end of ipprim or sctpprim bytes.

------------------------------------------------------------------------
r33920 | kukosa | 2010-08-25 07:10:58 -0700 (Wed, 25 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

Fix wrong length of CSeq Method parameter 
------------------------------------------------------------------------
r33921 | morriss | 2010-08-25 08:27:14 -0700 (Wed, 25 Aug 2010) | 1 line
Changed paths:
   M /trunk/config.nmake

Change PCAP_VERSION to 4.1.2.  Hopefully this will cause the U3/PortableApps builds to pick up WinPcap again.
------------------------------------------------------------------------
r33922 | morriss | 2010-08-25 08:28:26 -0700 (Wed, 25 Aug 2010) | 1 line
Changed paths:
   M /trunk/packaging/nsis/Makefile.nmake

Use PCAP_VERSION (from config.nmake) instead of hard coding the WinPcap version.
------------------------------------------------------------------------
r33923 | morriss | 2010-08-25 11:20:56 -0700 (Wed, 25 Aug 2010) | 1 line
Changed paths:
   M /trunk/config.nmake
   M /trunk/tools/win32-setup.sh
   M /trunk/tools/win64-setup.sh

Update the WinPcap developer's pack to 4.1.2.  Update PCAP_VERSION to 4.1.2 on Win64 too (for consistency more than anything I think).
------------------------------------------------------------------------
r33924 | gerald | 2010-08-25 13:30:59 -0700 (Wed, 25 Aug 2010) | 6 lines
Changed paths:
   M /trunk/airpcap_loader.c
   M /trunk/capture-wpcap.c
   M /trunk/capture_wpcap_packet.c
   M /trunk/config.nmake
   M /trunk/doc/README.capture
   M /trunk/epan/filesystem.c
   M /trunk/epan/wspython/wspy_libws.py
   M /trunk/gtk/main.c
   M /trunk/nio-ie5.c
   M /trunk/wsutil/file_util.c
   M /trunk/wsutil/file_util.h
   M /trunk/wsutil/libwsutil.def

Add ws_load_library and ws_module_open, which respectively call
LoadLibrary and g_module_open only for the program directory and system
directory on Windows. Use them to replace a bunch of LoadLibrary and
g_module_open calls. Use the extension ".dll" for all the DLLs that we
load. Add comments about DLL loading in Python.

------------------------------------------------------------------------
r33925 | gerald | 2010-08-25 15:41:26 -0700 (Wed, 25 Aug 2010) | 2 lines
Changed paths:
   M /trunk/wsutil/file_util.h

Move Windows-specific material inside an appropriate #ifdef.

------------------------------------------------------------------------
r33926 | etxrab | 2010-08-25 23:46:30 -0700 (Wed, 25 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/crypt/crypt-md5.h
   M /trunk/gtk/mcast_stream.h
   M /trunk/gtk/mcast_stream_dlg.h

- Try to fix a couple of doxygen comments. 
- whitspace changes.
------------------------------------------------------------------------
r33927 | etxrab | 2010-08-26 00:12:03 -0700 (Thu, 26 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/rtp_stream.h
   M /trunk/gtk/rtp_stream_dlg.h

- Try to fix a couple of doxygen comments.
------------------------------------------------------------------------
r33928 | stig | 2010-08-26 06:49:23 -0700 (Thu, 26 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-flip.c

From Juha Siltanen via bug 5144:
Added support for payload dissecting.

------------------------------------------------------------------------
r33929 | etxrab | 2010-08-26 08:02:27 -0700 (Thu, 26 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/about_dlg.h
   M /trunk/gtk/dlg_utils.h
   M /trunk/gtk/expert_comp_table.h
   M /trunk/gtk/file_dlg_win32.h
   M /trunk/gtk/filter_autocomplete.h
   M /trunk/gtk/filter_dlg.h
   M /trunk/gtk/gui_stat_menu.h
   M /trunk/gtk/gui_utils.h
   M /trunk/gtk/help_dlg.h
   M /trunk/gtk/main.h
   M /trunk/gtk/main_packet_list.h
   M /trunk/gtk/main_proto_draw.h
   M /trunk/gtk/prefs_dlg.h
   M /trunk/gtk/profile_dlg.h
   M /trunk/gtk/proto_help.h
   M /trunk/simple_dialog.h

Fix a number of doxygen directives.
------------------------------------------------------------------------
r33930 | etxrab | 2010-08-26 08:24:49 -0700 (Thu, 26 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/crypt/airpdcap_system.h
   M /trunk/epan/dissectors/packet-ssl-utils.h
   M /trunk/epan/dissectors/packet-tcp.h
   M /trunk/epan/emem.h

Fix a number of doxygen directives.
------------------------------------------------------------------------
r33933 | gerald | 2010-08-26 10:18:44 -0700 (Thu, 26 Aug 2010) | 2 lines
Changed paths:
   M /trunk/wsutil/file_util.c

Add a newline. Fixup whitespace.

------------------------------------------------------------------------
r33936 | sfisher | 2010-08-26 11:06:56 -0700 (Thu, 26 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-smb-browse.c

Show a text string of the Windows version (if Windows 2000 or higher.)
------------------------------------------------------------------------
r33938 | etxrab | 2010-08-26 12:40:08 -0700 (Thu, 26 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-udp.h
   M /trunk/epan/proto.h

Fix doxygen errors.
------------------------------------------------------------------------
r33939 | etxrab | 2010-08-26 12:40:57 -0700 (Thu, 26 Aug 2010) | 1 line
Changed paths:
   M /trunk/doxygen_global.cfg

Fixed by running doxygen -u
------------------------------------------------------------------------
r33941 | stig | 2010-08-26 13:22:28 -0700 (Thu, 26 Aug 2010) | 4 lines
Changed paths:
   M /trunk/print.c

Check input string in ps_clean_string().

This fixes bug 5148.

------------------------------------------------------------------------
r33942 | etxrab | 2010-08-26 13:31:09 -0700 (Thu, 26 Aug 2010) | 1 line
Changed paths:
   M /trunk/capture.h
   M /trunk/color_filters.h
   M /trunk/config.nmake
   M /trunk/file.h
   M /trunk/tempfile.c

Doxygen fixes.
------------------------------------------------------------------------
r33945 | wmeier | 2010-08-26 16:40:27 -0700 (Thu, 26 Aug 2010) | 3 lines
Changed paths:
   M /trunk/config.nmake

I suspect the changes to config.nmake committed in SVN #33942 were not intended.
Revert the changes (for now ?) so the Buildbot will run again.

------------------------------------------------------------------------
r33946 | etxrab | 2010-08-26 23:02:54 -0700 (Thu, 26 Aug 2010) | 2 lines
Changed paths:
   M /trunk/diameter/dictionary.xml

From Kirill A. Korinskiy:
Enumerated is derived from the Integer32 AVP Base Format.
------------------------------------------------------------------------
r33947 | jake | 2010-08-26 23:07:32 -0700 (Thu, 26 Aug 2010) | 2 lines
Changed paths:
   M /trunk/debian/control

Make wireshark-dev depend on the right automake.

------------------------------------------------------------------------
r33948 | jake | 2010-08-26 23:28:17 -0700 (Thu, 26 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c

Take in updates from the TLS registery.

------------------------------------------------------------------------
r33949 | stig | 2010-08-27 04:55:14 -0700 (Fri, 27 Aug 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Added a check for constructed octet string to avoid a loop.

This fixes bug 5154.

------------------------------------------------------------------------
r33950 | martinm | 2010-08-27 06:54:05 -0700 (Fri, 27 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Allow 3GPP release info to be displayed.

------------------------------------------------------------------------
r33951 | wmeier | 2010-08-27 08:01:28 -0700 (Fri, 27 Aug 2010) | 2 lines
Changed paths:
   M /trunk/file.c

(Trivial) Fix a typo

------------------------------------------------------------------------
r33952 | stig | 2010-08-27 09:30:38 -0700 (Fri, 27 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-drda.c

From Matthieu Lochegnies via bug 5153:
Show multiples DRDA commands from the same frame.

------------------------------------------------------------------------
r33954 | stig | 2010-08-27 10:18:28 -0700 (Fri, 27 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-esio.c

From Christian Durrer via bug 5155:
Added a new dissector for Ether-S-I/O protocol.

------------------------------------------------------------------------
r33955 | morriss | 2010-08-27 11:36:01 -0700 (Fri, 27 Aug 2010) | 1 line
Changed paths:
   M /trunk/asn1/Makefile.inc

From Dirk via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5150 : remove Makefile.in from the asn1 directories when doing a maintainer-clean
------------------------------------------------------------------------
r33958 | gerald | 2010-08-27 12:24:44 -0700 (Fri, 27 Aug 2010) | 6 lines
Changed paths:
   M /trunk/dumpcap.c
   M /trunk/gtk/main.c
   M /trunk/wsutil/file_util.c
   M /trunk/wsutil/file_util.h
   M /trunk/wsutil/libwsutil.def

Forward-port r33953.
 
Move the SetDllDirectory calls to ws_init_dll_search_path. If
SetDllDirectory fails, pass the Wireshark program path to
SetCurrentDirectory.

------------------------------------------------------------------------
r33959 | gerald | 2010-08-27 12:52:17 -0700 (Fri, 27 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipv6.c

Display Teredo encapsulated IPv4 server and client addresses.

------------------------------------------------------------------------
r33961 | stig | 2010-08-27 13:54:21 -0700 (Fri, 27 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-afp.c

From Frank Lahm via bug 5136:
Correct volume flags for FPGetSrvrParms.

------------------------------------------------------------------------
r33962 | stig | 2010-08-27 14:05:02 -0700 (Fri, 27 Aug 2010) | 3 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-scop.c

From Owen Kirby via bug 5149:
Added a new dissector for SCoP.

------------------------------------------------------------------------
r33963 | dimeg | 2010-08-27 14:09:05 -0700 (Fri, 27 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-e212.c
   M /trunk/epan/dissectors/packet-q708.c

MNC, SANC, ISPC lists updated up to OB 960

------------------------------------------------------------------------
r33964 | guy | 2010-08-27 14:13:26 -0700 (Fri, 27 Aug 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-eth.c

Allow Dissect As... to select the Ethernet-without-FCS dissector for a
given UDP port; this is to handle the output for the Cisco CMTS "cable
intercept" command - it encapsulates Ethernet frames in UDP packets, but
the UDP port is user-defined.

------------------------------------------------------------------------
r33965 | stig | 2010-08-27 14:15:39 -0700 (Fri, 27 Aug 2010) | 2 lines
Changed paths:
   M /trunk/AUTHORS

Added Owen Kirby as author

------------------------------------------------------------------------
r33969 | guy | 2010-08-27 14:28:24 -0700 (Fri, 27 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-afp.c

Update some links.

------------------------------------------------------------------------
r33971 | dimeg | 2010-08-27 14:30:12 -0700 (Fri, 27 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c

Support for eMLPP Priority IE in BSSMAP

------------------------------------------------------------------------
r33977 | sake | 2010-08-28 02:44:18 -0700 (Sat, 28 Aug 2010) | 3 lines
Changed paths:
   M /trunk/dumpcap.c

We change the owner and group of the first file, so we also want to change owner and group of the rest of the files in the ringbuffer.


------------------------------------------------------------------------
r33978 | sake | 2010-08-28 04:05:51 -0700 (Sat, 28 Aug 2010) | 4 lines
Changed paths:
   M /trunk/capture_opts.c
   M /trunk/capture_opts.h
   M /trunk/dumpcap.c
   M /trunk/ringbuffer.c
   M /trunk/ringbuffer.h

As mentioned on the users-mailinglist[1], it could be useful to have groups read access to the ringbuffer that dumpcap creates. That way, a group of people can access the capture files without having to use root access.

[1]  http://www.wireshark.org/lists/wireshark-users/201008/msg00235.html

------------------------------------------------------------------------
r33981 | etxrab | 2010-08-28 12:27:19 -0700 (Sat, 28 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/circuit.h
   M /trunk/epan/conversation.h
   M /trunk/epan/crypt/crypt-md5.h
   M /trunk/epan/dissector_filters.h
   M /trunk/epan/except.h
   M /trunk/epan/frame_data.h
   M /trunk/epan/ipv6-utils.h
   M /trunk/epan/oids.h
   M /trunk/epan/prefs-int.h
   M /trunk/epan/proto.h
   M /trunk/epan/range.h
   M /trunk/epan/tcap-persistentdata.h
   M /trunk/epan/wslua/init_wslua.h
   M /trunk/epan/wslua/wslua.h

Doxygen changes.
------------------------------------------------------------------------
r33982 | gerald | 2010-08-28 12:46:20 -0700 (Sat, 28 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipv6.c

De-obfuscate the Teredo client address and add a de-obfuscated port.

------------------------------------------------------------------------
r33983 | wmeier | 2010-08-28 12:50:00 -0700 (Sat, 28 Aug 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-esio.c

#inlude <emem.h> not req'd;
Use tvb_strncmp to compare for "ESIO" string in packet;
Use consistent indentation conforming to the "editor modelines";
Minor other whitespce cleanup.

------------------------------------------------------------------------
r33984 | gerald | 2010-08-28 13:55:32 -0700 (Sat, 28 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipv6.c

Display 6to4 gateway IPv4 addresses and SLA IDs.

------------------------------------------------------------------------
r33990 | etxrab | 2010-08-29 03:47:38 -0700 (Sun, 29 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/camel-persistentdata.h
   M /trunk/epan/column_info.h
   M /trunk/epan/crypt/airpdcap_int.h
   M /trunk/epan/crypt/crypt-md5.h
   M /trunk/epan/dfilter/syntax-tree.h
   M /trunk/epan/emem.h
   M /trunk/epan/epan.h
   M /trunk/epan/frame_data.h
   M /trunk/epan/ip_opts.h
   M /trunk/epan/ipv6-utils.h
   M /trunk/epan/nstime.h
   M /trunk/epan/oids.h
   M /trunk/epan/prefs-int.h
   M /trunk/epan/proto.h
   M /trunk/epan/stats_tree_priv.h
   M /trunk/epan/strutil.h
   M /trunk/epan/tfs.h
   M /trunk/epan/tvbuff.h
   M /trunk/epan/wslua/init_wslua.h
   M /trunk/epan/xdlc.h

Doxygen changes.
------------------------------------------------------------------------
r33991 | etxrab | 2010-08-29 06:18:58 -0700 (Sun, 29 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/color_utils.c
   M /trunk/gtk/gtkvumeter.c
   M /trunk/gtk/gui_utils.c

Doxygen changes.
------------------------------------------------------------------------
r33992 | gerald | 2010-08-29 08:03:30 -0700 (Sun, 29 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-08-29]
------------------------------------------------------------------------
r33993 | etxrab | 2010-08-29 08:14:38 -0700 (Sun, 29 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/color_utils.c
   M /trunk/gtk/main.h
   M /trunk/gtk/main_toolbar.h
   M /trunk/gtk/new_packet_list.c
   M /trunk/gtk/new_packet_list.h
   M /trunk/gtk/packet_list_store.h
   M /trunk/gtk/prefs_column.h
   M /trunk/gtk/prefs_dlg.h
   M /trunk/gtk/prefs_gui.h
   M /trunk/gtk/prefs_layout.h

Doxygen changes.
------------------------------------------------------------------------
r33994 | sake | 2010-08-29 08:27:20 -0700 (Sun, 29 Aug 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c
   M /trunk/epan/dissectors/packet-tcp.h

From  Cal Turney (bug 5132):
TCP bytes_in flight becomes inflated with lost packets 

This patch suspends Bytes-in-Flight calculation when missing packets are detected.


------------------------------------------------------------------------
r34001 | etxrab | 2010-08-29 10:34:44 -0700 (Sun, 29 Aug 2010) | 22 lines
Changed paths:
   M /trunk/asn1/gsm_map/MAP-MobileServiceOperations.asn
   M /trunk/asn1/gsm_map/packet-gsm_map-template.c
   M /trunk/epan/dissectors/packet-gsm_map.c

Fix for Bug Packet details have errors when decode MAP V2 PRN_ACK msg 
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5076

Use:
/*
 * Dissect Multiple Choice Message
 * This function is used to decode a message, when several encoding may be used.
 * For exemple, in the last MAP version, the Cancel Location is defined like this:
 * CancelLocationArg ::= [3] IMPLICIT SEQUENCE
 * But in the previous MAP version, it was a CHOICE between a SEQUENCE and an IMSI
 * As ASN1 encoders (or software) still uses the old encoding, this function allows
 * the decoding of both versions.
 * Moreover, some optimizations (or bad practice ?) in ASN1 encoder, removes the
 * SEQUENCE tag, when only one parameter is present in the SEQUENCE.
 * This explain why the function expects 3 parameters:
 * - a [3] SEQUENCE corresponding the recent ASN1 MAP encoding
 * - a SEQUENCE for old style
 * - and a single parameter, for old version or optimizations
 *
 * The analyze of the first ASN1 tag, indicate what kind of decoding should be used,
 * if the decoding function is provided (so not a NULL function)
 */
------------------------------------------------------------------------
r34002 | etxrab | 2010-08-29 12:37:15 -0700 (Sun, 29 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/service_response_time_table.c

Switch to GTK UIManager.
------------------------------------------------------------------------
r34006 | wmeier | 2010-08-29 18:14:08 -0700 (Sun, 29 Aug 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scop.c

Various:
1. Re-arrange proto_reg_handoff... code to follow the "standard idiom" for init/set of port prefs;
2. Define all fcns as static (except proto_register and proto_reg_handoff);
3. ethereal --> Wireshark;
4. Remove some uneeded/unused prototypes;
5. Fix a few function description comments.

------------------------------------------------------------------------
r34008 | etxrab | 2010-08-29 22:12:27 -0700 (Sun, 29 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/diameter_stat.c

Make a note about how to "activare" the filter popup.
------------------------------------------------------------------------
r34009 | etxrab | 2010-08-29 22:39:02 -0700 (Sun, 29 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/column-utils.c
   M /trunk/epan/column-utils.h

Doxygen related changes.
------------------------------------------------------------------------
r34010 | stig | 2010-08-30 01:43:03 -0700 (Mon, 30 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/uat_load.l

Always call post_update_cb() in uat_load_str().

------------------------------------------------------------------------
r34011 | stig | 2010-08-30 01:47:26 -0700 (Mon, 30 Aug 2010) | 7 lines
Changed paths:
   M /trunk/epan/dfilter/dfilter-macro.c
   M /trunk/gtk/macros_dlg.c
   M /trunk/gtk/macros_dlg.h
   M /trunk/gtk/main.c

Always update the display filter when changing a display filter macro
and when changing profile.  Not sure why I have to invalidate cfile.dfilter
in macro_update(), because this will be done in macros_post_update(),
but unless this we get a crash when renaming a macro...

This is a fix for bug 5002.

------------------------------------------------------------------------
r34012 | stig | 2010-08-30 02:31:52 -0700 (Mon, 30 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/dfilter/dfilter-macro.c

Call dfilter_macro_uat->post_update_cb instead of using cfile.

------------------------------------------------------------------------
r34013 | etxrab | 2010-08-30 07:22:49 -0700 (Mon, 30 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/range.h

Doxygen fix.
------------------------------------------------------------------------
r34014 | etxrab | 2010-08-30 07:23:25 -0700 (Mon, 30 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/hostlist_table.c

Convert to GTKUIManager
------------------------------------------------------------------------
r34015 | etxrab | 2010-08-30 07:32:38 -0700 (Mon, 30 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/hostlist_table.c

Remove a redundant callback.
------------------------------------------------------------------------
r34016 | morriss | 2010-08-30 08:33:32 -0700 (Mon, 30 Aug 2010) | 1 line
Changed paths:
   M /trunk/epan/strutil.c

Use the top-level isprint.h instead of redefining isprint ourselves.
------------------------------------------------------------------------
r34017 | morriss | 2010-08-30 09:10:01 -0700 (Mon, 30 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/about_dlg.c
   M /trunk/gtk/afp_stat.c
   M /trunk/gtk/ansi_a_stat.c
   M /trunk/gtk/ansi_map_stat.c
   M /trunk/gtk/bootp_stat.c
   M /trunk/gtk/camel_counter.c
   M /trunk/gtk/camel_srt.c
   M /trunk/gtk/capture_dlg.c
   M /trunk/gtk/capture_if_details_dlg_win32.c
   M /trunk/gtk/capture_if_dlg.c
   M /trunk/gtk/capture_info_dlg.c
   M /trunk/gtk/compare_stat.c
   M /trunk/gtk/conversations_eth.c
   M /trunk/gtk/conversations_fc.c
   M /trunk/gtk/conversations_fddi.c
   M /trunk/gtk/conversations_ip.c
   M /trunk/gtk/conversations_ipv6.c
   M /trunk/gtk/conversations_ipx.c
   M /trunk/gtk/conversations_jxta.c
   M /trunk/gtk/conversations_ncp.c
   M /trunk/gtk/conversations_rsvp.c
   M /trunk/gtk/conversations_sctp.c
   M /trunk/gtk/conversations_tcpip.c
   M /trunk/gtk/conversations_tr.c
   M /trunk/gtk/conversations_udpip.c
   M /trunk/gtk/conversations_usb.c
   M /trunk/gtk/conversations_wlan.c
   M /trunk/gtk/dcerpc_stat.c
   M /trunk/gtk/decode_as_ber.c
   M /trunk/gtk/decode_as_dcerpc.c
   M /trunk/gtk/decode_as_dlg.c
   M /trunk/gtk/dfilter_expr_dlg.c
   M /trunk/gtk/diameter_stat.c
   M /trunk/gtk/drag_and_drop.c
   M /trunk/gtk/expert_comp_dlg.c
   M /trunk/gtk/expert_comp_table.c
   M /trunk/gtk/expert_dlg.c
   M /trunk/gtk/fc_stat.c
   M /trunk/gtk/file_dlg_win32.c
   M /trunk/gtk/fileset_dlg.c
   M /trunk/gtk/filter_utils.c
   M /trunk/gtk/flow_graph.c
   M /trunk/gtk/follow_ssl.c
   M /trunk/gtk/follow_tcp.c
   M /trunk/gtk/follow_udp.c
   M /trunk/gtk/funnel_stat.c
   M /trunk/gtk/graph_analysis.c
   M /trunk/gtk/gsm_a_stat.c
   M /trunk/gtk/gsm_map_stat.c
   M /trunk/gtk/gtp_stat.c
   M /trunk/gtk/gui_stat_util.c
   M /trunk/gtk/h225_counter.c
   M /trunk/gtk/h225_ras_srt.c
   M /trunk/gtk/hostlist_eth.c
   M /trunk/gtk/hostlist_fc.c
   M /trunk/gtk/hostlist_fddi.c
   M /trunk/gtk/hostlist_ip.c
   M /trunk/gtk/hostlist_ipv6.c
   M /trunk/gtk/hostlist_ipx.c
   M /trunk/gtk/hostlist_jxta.c
   M /trunk/gtk/hostlist_ncp.c
   M /trunk/gtk/hostlist_rsvp.c
   M /trunk/gtk/hostlist_sctp.c
   M /trunk/gtk/hostlist_table.c
   M /trunk/gtk/hostlist_tcpip.c
   M /trunk/gtk/hostlist_tr.c
   M /trunk/gtk/hostlist_udpip.c
   M /trunk/gtk/hostlist_usb.c
   M /trunk/gtk/hostlist_wlan.c
   M /trunk/gtk/iax2_analysis.c
   M /trunk/gtk/io_stat.c
   M /trunk/gtk/ldap_stat.c
   M /trunk/gtk/mac_lte_stat_dlg.c
   M /trunk/gtk/main_packet_list.c
   M /trunk/gtk/mcast_stream.c
   M /trunk/gtk/megaco_stat.c
   M /trunk/gtk/menus.c
   M /trunk/gtk/mgcp_stat.c
   M /trunk/gtk/mtp3_stat.c
   M /trunk/gtk/ncp_stat.c
   M /trunk/gtk/plugins_dlg.c
   M /trunk/gtk/prefs_capture.c
   M /trunk/gtk/prefs_gui.c
   M /trunk/gtk/prefs_layout.c
   M /trunk/gtk/prefs_nameres.c
   M /trunk/gtk/prefs_print.c
   M /trunk/gtk/prefs_stream.c
   M /trunk/gtk/print_dlg.c
   M /trunk/gtk/proto_dlg.c
   M /trunk/gtk/radius_stat.c
   M /trunk/gtk/rlc_lte_stat_dlg.c
   M /trunk/gtk/rpc_progs.c
   M /trunk/gtk/rpc_stat.c
   M /trunk/gtk/rtp_analysis.c
   M /trunk/gtk/rtp_stream.c
   M /trunk/gtk/scsi_stat.c
   M /trunk/gtk/sctp_assoc_analyse.c
   M /trunk/gtk/sctp_chunk_stat.c
   M /trunk/gtk/sctp_stat.c
   M /trunk/gtk/service_response_time_table.c
   M /trunk/gtk/sip_stat.c
   M /trunk/gtk/smb2_stat.c
   M /trunk/gtk/smb_stat.c
   M /trunk/gtk/voip_calls.c
   M /trunk/gtk/voip_calls_dlg.c
   M /trunk/gtk/wlan_stat_dlg.c
   M /trunk/gtk/wsp_stat.c

Remove some unnecessary includes: a lot of things don't need globals.h and register.h
------------------------------------------------------------------------
r34018 | morriss | 2010-08-30 10:05:37 -0700 (Mon, 30 Aug 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntlmssp.c

Fix the crash reported in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5157 :

If get_unicode_or_ascii_string() returns a NULL pointer, return a pointer to an
empty string back to our caller.

------------------------------------------------------------------------
r34025 | morriss | 2010-08-30 12:14:54 -0700 (Mon, 30 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/service_response_time_table.c

Include stdio.h.  Fixup indent some.
------------------------------------------------------------------------
r34026 | etxrab | 2010-08-30 12:49:57 -0700 (Mon, 30 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/proto_hier_stats_dlg.c

Switch to GTK UIManager.
------------------------------------------------------------------------
r34027 | etxrab | 2010-08-30 13:30:20 -0700 (Mon, 30 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/expert_comp_table.c

Remove the depricated GtkItemFactory code.
------------------------------------------------------------------------
r34028 | wmeier | 2010-08-30 16:58:19 -0700 (Mon, 30 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/proto_hier_stats_dlg.c

Add #include <stdio.h> for fprintf

------------------------------------------------------------------------
r34029 | etxrab | 2010-08-30 22:48:12 -0700 (Mon, 30 Aug 2010) | 1 line
Changed paths:
   M /trunk/gtk/wlan_stat_dlg.c

Remove the depricated GtkItemFactory code.
------------------------------------------------------------------------
r34030 | stig | 2010-08-31 00:53:51 -0700 (Tue, 31 Aug 2010) | 2 lines
Changed paths:
   M /trunk/gtk/macros_dlg.c
   M /trunk/gtk/macros_dlg.h
   M /trunk/gtk/main.c

Ensure we always update the display filter when changing profile.

------------------------------------------------------------------------
r34031 | stig | 2010-08-31 03:24:08 -0700 (Tue, 31 Aug 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Update the header length after dissecting the header.

This fixes bug 5162.

------------------------------------------------------------------------
r34032 | etxrab | 2010-08-31 03:50:54 -0700 (Tue, 31 Aug 2010) | 1 line
Changed paths:
   M /trunk/asn1/lte-rrc/lte-rrc.cnf
   M /trunk/epan/dissectors/packet-lte-rrc.c

Add stub code for future dissection of featureGroupIndicators.
------------------------------------------------------------------------
r34033 | stig | 2010-08-31 08:02:03 -0700 (Tue, 31 Aug 2010) | 4 lines
Changed paths:
   M /trunk/epan/prefs.c

Support space in list of hidden columns.

This fixes bug 5163.

------------------------------------------------------------------------
r34034 | stig | 2010-08-31 11:28:59 -0700 (Tue, 31 Aug 2010) | 2 lines
Changed paths:
   M /trunk/epan/prefs.c
   M /trunk/version_info.c

A GString has it's own length.

------------------------------------------------------------------------
r34035 | etxrab | 2010-08-31 13:03:46 -0700 (Tue, 31 Aug 2010) | 2 lines
Changed paths:
   M /trunk/asn1/lte-rrc/lte-rrc.cnf
   M /trunk/asn1/lte-rrc/packet-lte-rrc-template.c
   M /trunk/epan/dissectors/packet-lte-rrc.c

From Pascal Quantin:
Patch that allows the dissection of the Feature Group Indicators bit string. I tested it with our UE and it works fine.
------------------------------------------------------------------------
r34036 | etxrab | 2010-09-01 05:39:29 -0700 (Wed, 01 Sep 2010) | 3 lines
Changed paths:
   M /trunk/gtk/voip_calls.c

From Jaap Keuter:
Fix Wireshark don't show mgcp calls in "Telephony" => "VoIP calls"
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5167
------------------------------------------------------------------------
r34037 | guy | 2010-09-01 10:49:27 -0700 (Wed, 01 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/voip_calls.c

Expand and update comments.

------------------------------------------------------------------------
r34038 | etxrab | 2010-09-01 12:42:59 -0700 (Wed, 01 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/voip_calls_dlg.c

1.4 version does not display the t.38 graph.
(init/remove tap_listener missing)
------------------------------------------------------------------------
r34039 | stig | 2010-09-01 13:54:41 -0700 (Wed, 01 Sep 2010) | 2 lines
Changed paths:
   M /trunk/print.c

Ensure we always print the heading when dumping PSML and CSV.

------------------------------------------------------------------------
r34040 | etxrab | 2010-09-01 23:22:12 -0700 (Wed, 01 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/service_response_time_table.c

Remove the depricated GtkItemFactory code.
------------------------------------------------------------------------
r34041 | etxrab | 2010-09-01 23:34:04 -0700 (Wed, 01 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/conversations_table.c

Remove the depricated GtkItemFactory code.
------------------------------------------------------------------------
r34042 | etxrab | 2010-09-02 08:38:04 -0700 (Thu, 02 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/proto_hier_stats_dlg.c

Remove the depricated GtkItemFactory code.
------------------------------------------------------------------------
r34043 | etxrab | 2010-09-02 08:39:15 -0700 (Thu, 02 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/wlan_stat_dlg.c

Remove the depricated GtkItemFactory code.
------------------------------------------------------------------------
r34044 | sfisher | 2010-09-02 10:11:48 -0700 (Thu, 02 Sep 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c


Fix typo in comment: datat -> data


------------------------------------------------------------------------
r34045 | morriss | 2010-09-02 10:13:36 -0700 (Thu, 02 Sep 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scop.c

Fix https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5173 :

Don't call col_set_str() on a string returned from val_to_str() (which may be
ep_ allocated).

------------------------------------------------------------------------
r34046 | morriss | 2010-09-02 11:02:06 -0700 (Thu, 02 Sep 2010) | 11 lines
Changed paths:
   M /trunk/doc/rawshark.pod
   M /trunk/doc/tshark.pod
   M /trunk/doc/wireshark.pod.template
   M /trunk/epan/emem.c
   M /trunk/tools/fuzz-test.sh
   M /trunk/tools/test-fuzzed-cap.sh

Introduce 2 new environment variables: WIRESHARK_EP_VERIFY_POINTERS and
WIRESHARK_SE_VERIFY_POINTERS that control whether or not we verify if a given
pointer is ep_ or se_ allocated, respectively.

Turn the behavior off by default for speed reasons (the speed difference isn't
huge, but...).

Turn the behavior on when fuzz testing.

Document these two new variables in the man pages.

------------------------------------------------------------------------
r34047 | etxrab | 2010-09-02 12:23:01 -0700 (Thu, 02 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/graph_analysis.c

Add comments
------------------------------------------------------------------------
r34048 | stig | 2010-09-02 14:30:54 -0700 (Thu, 02 Sep 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb2.c

Apply the quick fix from bug 2952.

And it's true, this dissector really needs an overhaul!

------------------------------------------------------------------------
r34049 | etxrab | 2010-09-02 22:50:55 -0700 (Thu, 02 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-evrc.c

From Michael Lum:
The EVRC dissector does not handle service option 73 (EVRC-NW).
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5177
------------------------------------------------------------------------
r34050 | etxrab | 2010-09-02 23:18:29 -0700 (Thu, 02 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_a.c

From Michael Lum:
ANSI-A dissector does not recognize service option 73
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5176
------------------------------------------------------------------------
r34051 | etxrab | 2010-09-03 00:25:51 -0700 (Fri, 03 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Add a comment
------------------------------------------------------------------------
r34052 | etxrab | 2010-09-03 00:27:59 -0700 (Fri, 03 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/rtp_stream.h

Add doxygen coments.
------------------------------------------------------------------------
r34053 | etxrab | 2010-09-03 00:28:51 -0700 (Fri, 03 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/tap.h

Add doxygen coments.
------------------------------------------------------------------------
r34054 | etxrab | 2010-09-03 01:41:04 -0700 (Fri, 03 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/hostlist_table.c

Remove the depricated GtkItemFactory code.
------------------------------------------------------------------------
r34055 | stig | 2010-09-03 01:44:00 -0700 (Fri, 03 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Check if using tree before adding the octet string.

------------------------------------------------------------------------
r34056 | stig | 2010-09-03 02:10:32 -0700 (Fri, 03 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Code cleanup: Remove Begin/End comments on each and every code block,
this only makes the code hard to read.

------------------------------------------------------------------------
r34057 | stig | 2010-09-03 02:12:40 -0700 (Fri, 03 Sep 2010) | 3 lines
Changed paths:
   M /trunk/gtk/graph_analysis.h

Increase maximum number of nodes to 40.
10 is in some situations too few.

------------------------------------------------------------------------
r34058 | kukosa | 2010-09-03 03:31:56 -0700 (Fri, 03 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-per.c

Fix start offset and length handling in SEQUNCE OF (caused Gtk crash for sequences at the end of frame)
------------------------------------------------------------------------
r34059 | martinm | 2010-09-03 08:22:28 -0700 (Fri, 03 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c
   M /trunk/epan/dissectors/packet-rlc-lte.h
   M /trunk/gtk/rlc_lte_stat_dlg.c

Add bandwidth figures to RLC stats (per-UE and per-channel).

------------------------------------------------------------------------
r34060 | martinm | 2010-09-03 09:05:01 -0700 (Fri, 03 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/rlc_lte_stat_dlg.c

Try to cast away windows buildbot problems.

------------------------------------------------------------------------
r34061 | martinm | 2010-09-03 09:45:05 -0700 (Fri, 03 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-mac-lte.h
   M /trunk/gtk/mac_lte_stat_dlg.c

Add bandwidth figures per UE.

------------------------------------------------------------------------
r34062 | etxrab | 2010-09-03 10:10:52 -0700 (Fri, 03 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

GTPv2: IMSI is decoded improperly.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5179
------------------------------------------------------------------------
r34063 | stig | 2010-09-05 05:16:14 -0700 (Sun, 05 Sep 2010) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-http.c

Request-Line can contain an empty Request-URI.

I don't want to change get_token_len() to not skip multiple spaces,
because I don't know if other protocols depends on this behaviour.
We should maybe check this...

This fixes bug 5181.

------------------------------------------------------------------------
r34064 | gerald | 2010-09-05 08:03:42 -0700 (Sun, 05 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-09-05]
------------------------------------------------------------------------
r34068 | martinm | 2010-09-06 02:22:43 -0700 (Mon, 06 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/mac_lte_stat_dlg.c
   M /trunk/gtk/rlc_lte_stat_dlg.c

Change bandwidth labels, and update stop time even on first frame.

------------------------------------------------------------------------
r34069 | stig | 2010-09-06 10:31:17 -0700 (Mon, 06 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c

From Pascal Quantin via bug 5186:
Fix the decoding of the maximum/guaranteed bit rates for uplink/downlink.

------------------------------------------------------------------------
r34070 | stig | 2010-09-06 12:59:15 -0700 (Mon, 06 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb2.c

From yami via bug 3310:
SMB2 create context response fix.

------------------------------------------------------------------------
r34071 | etxrab | 2010-09-07 01:10:45 -0700 (Tue, 07 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Start adding GTKUIManager code.(#IF 0'ed out.).
------------------------------------------------------------------------
r34072 | stig | 2010-09-07 07:06:43 -0700 (Tue, 07 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/reassemble.c

From Yaniv Kaul via bug 4550:
Show number of segments which were used in the desgementation.

------------------------------------------------------------------------
r34073 | sfisher | 2010-09-07 12:22:05 -0700 (Tue, 07 Sep 2010) | 5 lines
Changed paths:
   M /trunk/gtk/main.c


These two capture option variables are defined by capture_opts_init(), so
don't redefine them to new values.


------------------------------------------------------------------------
r34074 | stig | 2010-09-07 13:40:39 -0700 (Tue, 07 Sep 2010) | 4 lines
Changed paths:
   M /trunk/epan/reassemble.c

Put the number of fragments/segments in front of the element to avoid 
conflict when they are named fragments instead of segments and to avoid
duplicating the fragments/segments text.

------------------------------------------------------------------------
r34075 | stig | 2010-09-07 23:45:04 -0700 (Tue, 07 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/reassemble_test.c

Fake proto_item_prepend_text() in reassemble_test.

------------------------------------------------------------------------
r34076 | kukosa | 2010-09-08 02:02:16 -0700 (Wed, 08 Sep 2010) | 1 line
Changed paths:
   M /trunk/asn1/ros/ros-res.cnf
   M /trunk/epan/asn1.h
   M /trunk/epan/dissectors/packet-h450-ros.c
   M /trunk/epan/dissectors/packet-q932-ros.c

Do not report undecoded message to expert info for ReturnResult without result filed
------------------------------------------------------------------------
r34077 | stig | 2010-09-08 02:24:53 -0700 (Wed, 08 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntlmssp.c

From Yaniv Kaul via bug 5193:
Dissect NTLMSSP type 0x5 (DNS Forest name).

------------------------------------------------------------------------
r34078 | stig | 2010-09-08 02:33:53 -0700 (Wed, 08 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/proto.c

Allow for proto_tree_add_item() with FT_ABSOLUTE_TIME and FT_RELATIVE_TIME
to have length == 4 (only seconds).

------------------------------------------------------------------------
r34079 | stig | 2010-09-08 03:29:06 -0700 (Wed, 08 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/column-utils.c

Support negative values when viewing seconds with hours and minutes.

------------------------------------------------------------------------
r34080 | stig | 2010-09-08 06:38:47 -0700 (Wed, 08 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

Revert revision 33780, because the checksum is only calculated
from the header and not the content.

------------------------------------------------------------------------
r34081 | morriss | 2010-09-08 09:51:12 -0700 (Wed, 08 Sep 2010) | 5 lines
Changed paths:
   M /trunk/Makefile.nmake

Attempt to fix https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5160 :

Move libwsutil forward in the list of Wireshark libraries so that our inet_pton
is always used.

------------------------------------------------------------------------
r34082 | sfisher | 2010-09-08 11:47:14 -0700 (Wed, 08 Sep 2010) | 6 lines
Changed paths:
   M /trunk/capture_opts.c


Follow up to rev 34073: Since "-b files:0" is no longer necessary to
override the default of turning on a multiple file ring buffer, require
a positive integer to be specified for the files value.


------------------------------------------------------------------------
r34083 | sfisher | 2010-09-08 12:01:41 -0700 (Wed, 08 Sep 2010) | 5 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-afp.c
   M /trunk/epan/dissectors/packet-afp.h


From Frank Lahm via bug #5169: Provide initial support for the undocumented
AFP FPSpotlightRPC call. 


------------------------------------------------------------------------
r34084 | sfisher | 2010-09-08 13:43:19 -0700 (Wed, 08 Sep 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c
   M /trunk/epan/dissectors/packet-tcp.h


Expand the TCP flags to include the low nibble of the byte that has
the header length in the high nibble.  The only new flag is nonce (NS);
the remaining three bits are still reserved.


------------------------------------------------------------------------
r34085 | sfisher | 2010-09-08 13:52:00 -0700 (Wed, 08 Sep 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c


Minor correction to SVN revision 34084: we better only try up to the 9
available values in flags[], so we don't run past the end of the array
if one of the reserved flags is set. 


------------------------------------------------------------------------
r34086 | sfisher | 2010-09-08 14:11:45 -0700 (Wed, 08 Sep 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c


Make the Windows buildbot happy: guint8 -> guint16 for flags variable in
definition of tcp_analyze_sequence_number(). 


------------------------------------------------------------------------
r34087 | stig | 2010-09-08 14:25:14 -0700 (Wed, 08 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

Mask out the header length from th_flags.

------------------------------------------------------------------------
r34088 | sfisher | 2010-09-08 16:10:52 -0700 (Wed, 08 Sep 2010) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c


Turn the TCP timestamp option into a subtree to also show the option kind,
option length and values with proto_tree_add_item() intead of _add_text().
The options tree still shows the same information as before until the sub-
tree is expanded.

The goal is to do this with all TCP and IP options.


------------------------------------------------------------------------
r34089 | sfisher | 2010-09-09 08:46:40 -0700 (Thu, 09 Sep 2010) | 6 lines
Changed paths:
   M /trunk/gtk/tcp_graph.c


Resolve another issue the Windows buildbots are having after rev 34084:
guint8 -> guint16 for th_flags variable in segment struct.



------------------------------------------------------------------------
r34090 | wmeier | 2010-09-09 10:30:35 -0700 (Thu, 09 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/new_packet_list.c

Remove what appear to be two redundant lines of code (AFAIKT).

------------------------------------------------------------------------
r34091 | morriss | 2010-09-09 11:36:20 -0700 (Thu, 09 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-m3ua.c

Add some hf blurbs (for fields whose description is an acronym)
------------------------------------------------------------------------
r34092 | stig | 2010-09-10 04:16:29 -0700 (Fri, 10 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

Update dsfield ECN according to RFC3168.

------------------------------------------------------------------------
r34093 | morriss | 2010-09-10 06:52:42 -0700 (Fri, 10 Sep 2010) | 7 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/epan/Makefile.nmake

From BBA via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5160 :

Followup to 34081: move libwsutil _all_ the way forward so that our inet_pton
is always linked in before wsock32's.  This means that our Windows-7 Win64
builds (on which there is a native inet_pton in wsock32) will still work on
pre-Vista Win64's.

------------------------------------------------------------------------
r34094 | sfisher | 2010-09-10 09:12:17 -0700 (Fri, 10 Sep 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c


Enhance the TCP option display for window scaling.


------------------------------------------------------------------------
r34095 | sfisher | 2010-09-10 09:23:58 -0700 (Fri, 10 Sep 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c


Expand description for "NOP" and "EOL" options to "No-Operation (NOP)" and
"End of Options List (EOL)" respectively.


------------------------------------------------------------------------
r34096 | sfisher | 2010-09-10 09:33:46 -0700 (Fri, 10 Sep 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c


Put the ": %u (multiply by %u)" back on the TCP window scaling option, so
users don't have to expand the tree to see the details that were there 
before rev 34094.


------------------------------------------------------------------------
r34097 | stig | 2010-09-10 09:48:00 -0700 (Fri, 10 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

Follow TCP and expand description for "NOP" and "EOL" options to "No-Operation (NOP)"
and "End of Options List (EOL)" respectively.

------------------------------------------------------------------------
r34098 | stig | 2010-09-10 09:50:12 -0700 (Fri, 10 Sep 2010) | 2 lines
Changed paths:
   M /trunk/CMakeLists.txt

Use absolute paths in link_directories.

------------------------------------------------------------------------
r34099 | stig | 2010-09-10 14:22:29 -0700 (Fri, 10 Sep 2010) | 3 lines
Changed paths:
   M /trunk/asn1/crmf/crmf.cnf
   M /trunk/asn1/crmf/packet-crmf-template.c
   M /trunk/epan/dissectors/packet-crmf.c

From Martin Peylo via bug 5198:
Added missing OIDs in CRMF (RFC 4211) dissector.

------------------------------------------------------------------------
r34100 | stig | 2010-09-10 14:24:32 -0700 (Fri, 10 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

Only check for 4 NOP in a row within a uint32 boundary.

------------------------------------------------------------------------
r34101 | rbalint | 2010-09-11 18:13:42 -0700 (Sat, 11 Sep 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipx.c
   M /trunk/epan/dissectors/packet-llc.c
   M /trunk/epan/dissectors/packet-ppp.c
   M /trunk/epan/dissectors/packet-sll.c
   M /trunk/epan/dissectors/packet-sll.h

Decode SLL payloads using a dissector table based on sll.ltype.
The idea and the original patch came from Sebastian Reichel
<elektranox@gmail.com> in
http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=594390

------------------------------------------------------------------------
r34102 | gerald | 2010-09-12 08:03:34 -0700 (Sun, 12 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-09-12]
------------------------------------------------------------------------
r34106 | etxrab | 2010-09-12 12:26:42 -0700 (Sun, 12 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Add more GUIManager code #ifdef:ed out
------------------------------------------------------------------------
r34107 | etxrab | 2010-09-12 12:29:05 -0700 (Sun, 12 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-rtp.c

Remove deprecated check_col().
------------------------------------------------------------------------
r34108 | guy | 2010-09-12 14:53:26 -0700 (Sun, 12 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Get rid of /* within comment, clean up white space.

------------------------------------------------------------------------
r34109 | guy | 2010-09-12 15:36:52 -0700 (Sun, 12 Sep 2010) | 5 lines
Changed paths:
   M /trunk/gtk/menus.c

set_menu_sensitivity() is used only if MENUS_USE_UIMANAGER is defined,
so define it only if MENUS_USE_UIMANAGER is defined.

Clean up indentation.

------------------------------------------------------------------------
r34110 | etxrab | 2010-09-13 09:51:10 -0700 (Mon, 13 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c

From Yaniv Kaul:
[PATCH] Add SSL cipher 'Transport Layer Security (TLS) Renegotiation Indication Extension' (RFC 5746)
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5207
------------------------------------------------------------------------
r34111 | gerald | 2010-09-13 11:49:55 -0700 (Mon, 13 Sep 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Attempt to fix the stack overflow reported at
http://seclists.org/bugtraq/2010/Sep/87 .

Unfortunately no one from the NCNIPC pen test team has contacted us or
provided a sample capture so the fix hasn't been verified.

------------------------------------------------------------------------
r34112 | etxrab | 2010-09-13 13:21:41 -0700 (Mon, 13 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Add more GUIManager code #ifdef:ed out
------------------------------------------------------------------------
r34113 | etxrab | 2010-09-14 07:24:39 -0700 (Tue, 14 Sep 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_rr.c

From Vincent Helfre:
Incorrect decoding of List of ARFCN in BCCH frequency list.
When the range 1024 is selected, it can happen that 2 bytes need to be read for
W1, and also for W2. In the current version, when W1 ends on a byte boundary,
W2 will get an incorrect value, since it will be truncated by 1 bit.

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5214
------------------------------------------------------------------------
r34114 | etxrab | 2010-09-14 07:43:56 -0700 (Tue, 14 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gmhdr.c

From tieuthunhi:
 Add new time source for Gigamon header.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5210
------------------------------------------------------------------------
r34115 | gerald | 2010-09-14 08:43:19 -0700 (Tue, 14 Sep 2010) | 12 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

From Cal Turney via bug 5209:

Decode of SETCLIENTID calls in the Windows x86 version fail with "[Dissector
bug, protocol NFS: STATUS_ACCESS_VIOLATION: dissector accessed an invalid
memory address]".  This error occurs in packet-nfs.c in
dissect_nfs_clientaddr4() where vars 'protocol' and 'universal_ip_address' get
stepped on following the call to scanf().  The b1-b10 vars are declared as
quint8.  While "hh" modifier used in the scanf() is documented in Linux to
correspond to an a signed/unsigned char arg, I cannot find a similar
designation in Windows (MSDN). The Windows C compiler interprets %hhu as
corresponding to a int16 rather than int8.

------------------------------------------------------------------------
r34116 | sfisher | 2010-09-14 08:54:12 -0700 (Tue, 14 Sep 2010) | 8 lines
Changed paths:
   M /trunk/epan/libwireshark.def


Bug #5211 from Guenter Strubreiter:

for writing a TCAP subdissector as a plugin some functions are needed in
libwireshark.def for export



------------------------------------------------------------------------
r34117 | sfisher | 2010-09-14 09:03:34 -0700 (Tue, 14 Sep 2010) | 4 lines
Changed paths:
   M /trunk/epan/libwireshark.def


Remove duplicate register_all_protocol_handoffs entry


------------------------------------------------------------------------
r34118 | etxrab | 2010-09-14 13:50:03 -0700 (Tue, 14 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Add more GUIManager code #ifdef:ed out
------------------------------------------------------------------------
r34119 | sfisher | 2010-09-14 14:38:54 -0700 (Tue, 14 Sep 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmp.c


Clean up the icmp info column per discussion in bug #4014.

Change to using new ENC_[BIG|LITTLE]_ENDIAN instead of FALSE and TRUE
in the proto_tree_add_item() calls for the identifier and sequence numbers.


------------------------------------------------------------------------
r34120 | morriss | 2010-09-15 07:10:25 -0700 (Wed, 15 Sep 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/tools/checkAPIs.pl

Follow up to bug 5209 and rev 34115:

%hh is C99 so remove it from packet-ssl-utils and add it to the banned list
(similar to %ll) in checkAPIs.pl .


------------------------------------------------------------------------
r34121 | morriss | 2010-09-15 08:13:17 -0700 (Wed, 15 Sep 2010) | 1 line
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/epan/Makefile.nmake

Revert 34081 and 34093 in preparation for a cleaner fix.
------------------------------------------------------------------------
r34122 | morriss | 2010-09-15 08:13:40 -0700 (Wed, 15 Sep 2010) | 6 lines
Changed paths:
   M /trunk/wsutil/inet_v6defs.h
   M /trunk/wsutil/libwsutil.def

Fix https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5160 differently:

On Windows, rename inet_pton() to ws_inet_pton() so that builds on Vista or
later systems (that have inet_pton() natively) will still work on pre-Vista
systems.

------------------------------------------------------------------------
r34123 | martinm | 2010-09-15 08:52:30 -0700 (Wed, 15 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Add expert info for timing adjustment control message, and tweak a label.

------------------------------------------------------------------------
r34124 | martinm | 2010-09-15 09:16:23 -0700 (Wed, 15 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-diameter.c
   M /trunk/epan/dissectors/packet-ftp.c
   M /trunk/epan/dissectors/packet-ms-mms.c
   M /trunk/epan/dissectors/packet-rdt.c
   M /trunk/epan/dissectors/packet-sipfrag.c

Remove a few more calls to check_col()

------------------------------------------------------------------------
r34125 | martinm | 2010-09-15 09:17:16 -0700 (Wed, 15 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mgcp.c

Missed this one (check_col() removal)

------------------------------------------------------------------------
r34126 | sfisher | 2010-09-15 13:29:31 -0700 (Wed, 15 Sep 2010) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-isup.h
   M /trunk/epan/libwireshark.def


Bug #5127 from Guenter Strubreiter:

for avoiding doubled definition of a table needed also by a tcap subdissector
plugin a definition in libwirshark.def is needed:

isup_calling_partys_category_value

Me: Change extern to WS_VAR_IMPORT in header file


------------------------------------------------------------------------
r34127 | etxrab | 2010-09-15 13:51:44 -0700 (Wed, 15 Sep 2010) | 5 lines
Changed paths:
   M /trunk/gtk/menus.c

Add more GUIManager code #ifdef:ed out.

The popups should be working now exept for protocol help.
Help with testing and cleaning up apreciated.
GTK 2.6 requred, I'll look into that too later if no one beats me to it.
------------------------------------------------------------------------
r34128 | sake | 2010-09-15 14:17:35 -0700 (Wed, 15 Sep 2010) | 8 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-flip.c

From Juha Siltanen :

When sorting a capture by protocol, some RTP packets are shown only as FLIP,
even though the dissection windows shows the RTP tree.

(https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5215)


------------------------------------------------------------------------
r34129 | morriss | 2010-09-15 14:41:27 -0700 (Wed, 15 Sep 2010) | 1 line
Changed paths:
   M /trunk/wsutil/inet_v6defs.h
   M /trunk/wsutil/libwsutil.def

Also rename inet_ntop() on Windows
------------------------------------------------------------------------
r34130 | etxrab | 2010-09-16 00:48:18 -0700 (Thu, 16 Sep 2010) | 3 lines
Changed paths:
   M /trunk/gtk/menus.c

Use GUIManager for the pop-up:s.
Can be dissabled by commenting out 
#define MENUS_USE_UIMANAGER 1
------------------------------------------------------------------------
r34131 | etxrab | 2010-09-16 01:15:45 -0700 (Thu, 16 Sep 2010) | 3 lines
Changed paths:
   M /trunk/gtk/menus.c

menus.c:1508: warning: unused parameter 'current'
menus.c:1508: warning: unused parameter 'user_data'
Mark parameters as unused.
------------------------------------------------------------------------
r34132 | guy | 2010-09-16 01:58:46 -0700 (Thu, 16 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Remove C++ comments.

------------------------------------------------------------------------
r34133 | etxrab | 2010-09-16 03:40:33 -0700 (Thu, 16 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Fix a typo.
------------------------------------------------------------------------
r34134 | stig | 2010-09-16 05:29:22 -0700 (Thu, 16 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

Make "4 NOP in a row" work again after changing the NOP name for TCP and IP
in revisions 34095 and 34097.

------------------------------------------------------------------------
r34135 | morriss | 2010-09-16 06:12:02 -0700 (Thu, 16 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

#if out ui_desc_conv_filter_popup to get the builds going (it looks like it should be used but it isn't currently).
------------------------------------------------------------------------
r34136 | sfisher | 2010-09-16 11:22:45 -0700 (Thu, 16 Sep 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmp.c


Add "(BE)" to the big endian representations of the ICMP identifier and
sequence number fields to match the "(LE)" ones.


------------------------------------------------------------------------
r34137 | gerald | 2010-09-16 12:20:06 -0700 (Thu, 16 Sep 2010) | 2 lines
Changed paths:
   M /trunk/capinfos.c
   M /trunk/config.nmake
   M /trunk/dftest.c
   M /trunk/dumpcap.c
   M /trunk/editcap.c
   M /trunk/gtk/main.c
   M /trunk/rawshark.c
   M /trunk/tshark.c
   M /trunk/wsutil/libwsutil.def
   M /trunk/wsutil/privileges.c
   M /trunk/wsutil/privileges.h

Turn on ASLR via /DYNAMICBASE and DEP via SetProcessDEPPolicy().

------------------------------------------------------------------------
r34138 | gerald | 2010-09-16 12:55:25 -0700 (Thu, 16 Sep 2010) | 2 lines
Changed paths:
   M /trunk/wsutil/privileges.c

Fix a typo.

------------------------------------------------------------------------
r34139 | gerald | 2010-09-16 12:56:34 -0700 (Thu, 16 Sep 2010) | 2 lines
Changed paths:
   M /trunk/wsutil/privileges.c

More typos.

------------------------------------------------------------------------
r34140 | wmeier | 2010-09-16 18:45:29 -0700 (Thu, 16 Sep 2010) | 26 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

Extensive V9/V10 code clean up, bug fixing & dissection display improvements:
Bugs fixed:
 - Invalid time display for various time fields;
     Millisecs for types 152, 153 are actually stored as 64 bit integers;
     Microsecs, nanosecs are actually stored  in "NTP format";
     Times for fields 158, 159 are relative to "export time";
     SystemInitTime displayed incorrectly;
     ...
 - Options template not cached when only scope fields in template.
 - Templates not processed on first pass thru capture file:
    (In some cases data flows might not be handled until options template later displayed).
 - V9: number of options template entries limited to about 8 instead of intended 42;
 - Multiple options temlate flows in an Options Template flowset not handled;
 - "NotSentOctets" dislayed as "NotSentPackets";
   ...

Cleanups:
 - Options and data template processing code more or less rewritten;
 - options template displayed with format similar to that used for data templates;
 - Handling and display of PEN field (including use to indicate REVERSE) improved;
 - Don't use same filter name for two similar fields which only differ in size;
 - Handling & dislay of "variable length" fields improved;
 - sminmec lookup (PEN) done only during template processing & cached for later use;
   ...
 - Whitespace/Formatting

------------------------------------------------------------------------
r34141 | morriss | 2010-09-16 19:03:09 -0700 (Thu, 16 Sep 2010) | 23 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-nfs.c
   M /trunk/epan/dissectors/packet-nfs.h
   M /trunk/epan/dissectors/packet-nfsacl.c

From Cal Turney via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5197 :

The NFS dissector (all versions) show access types that have not been requested
to be checked as "not allowed" in the call and reply.  This is incorrect and
misleading.  At present one must manually compare what was requested in order
to assess if access was actually denied for that type.  When there are hundreds
or thousands of these ACCESS requests in a capture, it is not possible or
practical to manually check each one.  

The submitted patch does the following:

* Passes the access mask in the call to the reply for comparison
* Adds filterable fields for each supported (v4) and access type
* Adds a pseudo field, nfs.access_denied
* Lists the access types to be checked in the summary and tree
* Separately lists the supported, denied, and allowed access types in the 
  summary and tree

The changes are applied to all NFS versions.


From me: a couple of small changes to make it compile without warnings.

------------------------------------------------------------------------
r34142 | morriss | 2010-09-16 19:22:37 -0700 (Thu, 16 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c
   M /trunk/epan/dissectors/packet-nfs.h
   M /trunk/epan/dissectors/packet-nfsacl.c

Remove check_col().  Clean up some spacing/indentation too.
------------------------------------------------------------------------
r34143 | wmeier | 2010-09-16 21:51:21 -0700 (Thu, 16 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-3g-a11.c
   M /trunk/epan/dissectors/packet-bootp.c
   M /trunk/epan/dissectors/packet-capwap.c
   M /trunk/epan/dissectors/packet-dhcpv6.c
   M /trunk/epan/dissectors/packet-diameter.c
   M /trunk/epan/dissectors/packet-gtp.c
   M /trunk/epan/dissectors/packet-gtpv2.c
   M /trunk/epan/dissectors/packet-l2tp.c
   M /trunk/epan/dissectors/packet-mip.c
   M /trunk/epan/dissectors/packet-mip6.c
   M /trunk/epan/dissectors/packet-mpls-echo.c
   M /trunk/epan/dissectors/packet-netflow.c
   M /trunk/epan/dissectors/packet-nhrp.c
   M /trunk/epan/dissectors/packet-radius.c
   M /trunk/epan/dissectors/packet-snmp.c
   M /trunk/epan/libwireshark.def
   M /trunk/epan/sminmpec.h
   M /trunk/epan/value_string.c
   M /trunk/plugins/wimaxasncp/packet-wimaxasncp.c
   M /trunk/tools/make-sminmpec.pl

Use val_to_str_ext() & friends to access sminmpec_values[];
Also: packet-nhrp.c: #include sminmpec.h not req'd;

------------------------------------------------------------------------
r34144 | guy | 2010-09-16 21:58:30 -0700 (Thu, 16 Sep 2010) | 3 lines
Changed paths:
   M /trunk/gtk/menus.c

Use the same control sequences for the old packet list that are used for
the new packet list.

------------------------------------------------------------------------
r34145 | guy | 2010-09-17 00:24:35 -0700 (Fri, 17 Sep 2010) | 6 lines
Changed paths:
   M /trunk/configure.in

Put the definition of NEW_PACKET_LIST into config.h rather than the
Makefile; that will force a rebuild if you configure it on or off
(that'll rebuild stuff that doesn't need to be rebuilt, but it'll also
rebuild stuff that *does* need to be rebuilt and that wouldn't be
rebuilt otherwise).

------------------------------------------------------------------------
r34148 | guy | 2010-09-17 01:48:19 -0700 (Fri, 17 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Fix some bugs that show up when you build with the old packet list.

------------------------------------------------------------------------
r34149 | etxrab | 2010-09-17 05:54:07 -0700 (Fri, 17 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/simple_dialog.c

Use GTK dialog stock icons rather than our own.
------------------------------------------------------------------------
r34150 | morriss | 2010-09-17 06:38:09 -0700 (Fri, 17 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/simple_dialog.c

Don't include stock icons that we no longer use.
------------------------------------------------------------------------
r34151 | morriss | 2010-09-17 07:03:05 -0700 (Fri, 17 Sep 2010) | 5 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

Copy the rev 34143 changes to packet-snmp.c over to the asn1 source.

hf_snmp_engineid_enterprise is now a BASE_EXT_STRING, not BASE_RANGE_STRING.  This fixes
the fuzz failure in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5233 

------------------------------------------------------------------------
r34152 | morriss | 2010-09-17 18:03:45 -0700 (Fri, 17 Sep 2010) | 8 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/Makefile.common
   A /trunk/tap-scsistat.c

From Cal Turney via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5223 :

I would like to contribute iSCSI SRT tap, 'tap-scsistat.c' for tshark. 

The output exactly matches that of the Wireshark's iSCSI(disk) SRT dialog.

From me: a couple of small changes to make it compile without warnings.

------------------------------------------------------------------------
r34153 | morriss | 2010-09-17 18:07:00 -0700 (Fri, 17 Sep 2010) | 1 line
Changed paths:
   M /trunk/AUTHORS

Update Cal Turney's entry for the tshark SCSI tap
------------------------------------------------------------------------
r34154 | jake | 2010-09-18 06:12:03 -0700 (Sat, 18 Sep 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sdp.c

Fix for bug 5220:
- Don't list codecs which are deleted by using port 0.
- Use real concatenation i.s.o. reprint, which seems to fail in some circumstances.

------------------------------------------------------------------------
r34155 | gerald | 2010-09-19 08:03:36 -0700 (Sun, 19 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-09-19]
------------------------------------------------------------------------
r34159 | stig | 2010-09-20 05:49:52 -0700 (Mon, 20 Sep 2010) | 2 lines
Changed paths:
   M /trunk/asn1/pres/packet-pres-template.c
   M /trunk/asn1/pres/pres.cnf
   M /trunk/epan/dissectors/packet-pres.c

Put Abort reason in info column.

------------------------------------------------------------------------
r34160 | stig | 2010-09-20 06:11:48 -0700 (Mon, 20 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Make "Displayed Columns" work again.

------------------------------------------------------------------------
r34161 | martinm | 2010-09-20 10:01:22 -0700 (Mon, 20 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c

Fix sequence numbers reported when duplicate SN detected.

------------------------------------------------------------------------
r34162 | morriss | 2010-09-20 19:12:21 -0700 (Mon, 20 Sep 2010) | 12 lines
Changed paths:
   M /trunk/epan/dissectors/packet-http.c

From Jakub Zawadzki via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=3336 :

We parse host & request page from headers, so we easily can construct full http
uri.

I was thinking about making it as field, so we could filter, print in column
info, or do other fancy stuff, but for now this is imho enough.


From me: add it as a (filterable) item.  Clean up spacing and indentation in a
few places.

------------------------------------------------------------------------
r34163 | morriss | 2010-09-20 19:41:29 -0700 (Mon, 20 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-http.c

Use size_t to keep the Windows compiler happy
------------------------------------------------------------------------
r34164 | morriss | 2010-09-20 20:06:54 -0700 (Mon, 20 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-http.c

Add a cast
------------------------------------------------------------------------
r34165 | morriss | 2010-09-20 20:14:49 -0700 (Mon, 20 Sep 2010) | 4 lines
Changed paths:
   M /trunk/asn1/lte-rrc/packet-lte-rrc-template.c
   M /trunk/epan/dissectors/packet-capwap.c
   M /trunk/epan/dissectors/packet-dcerpc-netlogon.c
   M /trunk/epan/dissectors/packet-ipv6.c
   M /trunk/epan/dissectors/packet-isakmp.c
   M /trunk/epan/dissectors/packet-lte-rrc.c
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-nfs.c
   M /trunk/epan/dissectors/packet-omron-fins.c
   M /trunk/epan/dissectors/packet-pnrp.c
   M /trunk/epan/dissectors/packet-radiotap.c
   M /trunk/epan/dissectors/packet-sasp.c
   M /trunk/epan/dissectors/packet-smb2.c
   M /trunk/epan/dissectors/packet-sna.c
   M /trunk/epan/dissectors/packet-sqloracle.c
   M /trunk/epan/dissectors/packet-tn3270.c
   M /trunk/epan/dissectors/packet-vmlab.c
   M /trunk/plugins/docsis/packet-bintrngreq.c

As suggested by Kovarththanan Rajaratnam in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=3548 :

Clean up hf fields some more: mostly removing leading and trailing spaces from names and blurbs.

------------------------------------------------------------------------
r34166 | etxrab | 2010-09-20 22:10:38 -0700 (Mon, 20 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Remove leftover debug code/comment
------------------------------------------------------------------------
r34167 | etxrab | 2010-09-20 22:24:02 -0700 (Mon, 20 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Wrong signature used for a GtkToggleActionEntry callback.
------------------------------------------------------------------------
r34168 | etxrab | 2010-09-20 22:32:32 -0700 (Mon, 20 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Update GUIManager menubar code(#IF 0 ).
------------------------------------------------------------------------
r34169 | guy | 2010-09-20 22:58:14 -0700 (Mon, 20 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Fix comments.

------------------------------------------------------------------------
r34170 | stig | 2010-09-21 00:08:35 -0700 (Tue, 21 Sep 2010) | 3 lines
Changed paths:
   M /trunk/gtk/menus.c

Make "Displayed Columns" work yet again, as done in revision 34160.
Bring back 'Resize Column' and 'Rename Column Title'.

------------------------------------------------------------------------
r34171 | guy | 2010-09-21 00:17:20 -0700 (Tue, 21 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Get rid of C++ comment.

------------------------------------------------------------------------
r34172 | guy | 2010-09-21 00:18:31 -0700 (Tue, 21 Sep 2010) | 2 lines
Changed paths:
   M /trunk/tap-scsistat.c

Add an SVN ID.

------------------------------------------------------------------------
r34173 | etxrab | 2010-09-21 02:30:16 -0700 (Tue, 21 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Try to fix:
"In menus_init() you seem to use ui_manager_packet_list_heading before it's initialized."
------------------------------------------------------------------------
r34174 | guy | 2010-09-21 02:53:44 -0700 (Tue, 21 Sep 2010) | 3 lines
Changed paths:
   M /trunk/gtk/menus.c

Move a bunch of definitions before the code that uses at least one of
the variables in question.

------------------------------------------------------------------------
r34175 | stig | 2010-09-21 02:59:45 -0700 (Tue, 21 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Make it compile.

------------------------------------------------------------------------
r34176 | etxrab | 2010-09-21 07:56:55 -0700 (Tue, 21 Sep 2010) | 5 lines
Changed paths:
   M /trunk/asn1/ldap/ldap.cnf
   M /trunk/epan/dissectors/packet-ldap.c

The CLDAP attribute value on a CLDAP reply is no longer being decoded
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5239

It got broken in Revision 33390 I think, if attr_type is unset at this point it should be set in the calling function.
http://anonsvn.wireshark.org/viewvc/trunk/asn1/ldap/ldap.cnf?r1=33388&r2=33390
------------------------------------------------------------------------
r34177 | etxrab | 2010-09-22 00:06:15 -0700 (Wed, 22 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_gm.c

From Pascal Quantin:
[NAS EPS] Traffic Flow Template IE dissection bugs.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5243
------------------------------------------------------------------------
r34178 | girlich | 2010-09-22 00:18:49 -0700 (Wed, 22 Sep 2010) | 3 lines
Changed paths:
   M /trunk/plugins/interlink/Makefile.am
   M /trunk/plugins/interlink/Makefile.common
   M /trunk/plugins/interlink/Makefile.nmake
   M /trunk/plugins/interlink/moduleinfo.nmake
   M /trunk/plugins/interlink/packet-interlink.c

interlink type is decimal
some keyword substitution added

------------------------------------------------------------------------
r34179 | etxrab | 2010-09-22 03:38:45 -0700 (Wed, 22 Sep 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_gm.c
   M /trunk/epan/dissectors/packet-nas_eps.c

From Pascal Quantin:
[NAS EPS] Use Request Type IE defined in 3GPP 24.008

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5246
------------------------------------------------------------------------
r34180 | stig | 2010-09-22 06:14:46 -0700 (Wed, 22 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ethertype.c
   M /trunk/epan/etypes.h

From Lukasz Kotasa via bug 5248:
Added ETHERTYPE_WAI.

------------------------------------------------------------------------
r34181 | stig | 2010-09-22 06:18:23 -0700 (Wed, 22 Sep 2010) | 6 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-wai.c

From Lukasz Kotasa and Lukasz Suchy via bug 5248:
Added dissector for WAI authentication protocol.

From me:
Some cleanup.

------------------------------------------------------------------------
r34182 | stig | 2010-09-22 06:31:49 -0700 (Wed, 22 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wai.c

Code cleanup: Changed proto_tree_add_boolean() and proto_tree_add_bytes()
to proto_tree_add_item().

------------------------------------------------------------------------
r34183 | wmeier | 2010-09-22 08:52:53 -0700 (Wed, 22 Sep 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wai.c

Code cleanup: 
- Fix incorrect uses of val_to_str which could cause inv mem refs;
- Use tvb_reported_length instead of tvb_length;
- (Trivial) Remove some unneeded '= NULL' initializations;
- (A few other trivial changes).

------------------------------------------------------------------------
r34184 | jake | 2010-09-22 09:35:02 -0700 (Wed, 22 Sep 2010) | 3 lines
Changed paths:
   M /trunk/gtk/voip_calls_dlg.c

Fix for bug 5172:
Properly retrieve the H.245 endpoint IP address.

------------------------------------------------------------------------
r34185 | wmeier | 2010-09-22 11:32:15 -0700 (Wed, 22 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wai.c

- reassembly code shouldn't be under 'if (tree)'
- ECDH Parameter - Content:  Packet Bytes highlighting was off-by-one.

------------------------------------------------------------------------
r34186 | sake | 2010-09-22 13:56:14 -0700 (Wed, 22 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/column-utils.c
   M /trunk/epan/column.c
   M /trunk/epan/column.h
   M /trunk/epan/column_info.h
   M /trunk/epan/epan.c
   M /trunk/epan/epan.h
   M /trunk/epan/prefs.c
   M /trunk/epan/proto.c
   M /trunk/epan/proto.h
   M /trunk/gtk/main.c
   M /trunk/gtk/main_packet_list.c
   M /trunk/gtk/new_packet_list.c
   M /trunk/gtk/prefs_column.c
   M /trunk/gtk/prefs_column.h

When using a custom column, make it possible to select which occurrence to show if the field has multiple occurrences.


------------------------------------------------------------------------
r34187 | morriss | 2010-09-22 14:51:53 -0700 (Wed, 22 Sep 2010) | 1 line
Changed paths:
   M /trunk/configure.in
   M /trunk/wiretap/wtap.c

Very old versions of libz (such as the one that comes with Solaris 10) don't have gzclearerr().  Check for that function and only use it if we have it.
------------------------------------------------------------------------
r34189 | sake | 2010-09-22 15:46:36 -0700 (Wed, 22 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/libwireshark.def
   M /trunk/epan/proto.c

Make buildbot happy again...


------------------------------------------------------------------------
r34190 | morriss | 2010-09-22 17:55:02 -0700 (Wed, 22 Sep 2010) | 1 line
Changed paths:
   M /trunk/diameter/etsie2e4.xml

Remove a trailing space from an AVP name (which becomes a hf name)
------------------------------------------------------------------------
r34191 | morriss | 2010-09-22 18:14:44 -0700 (Wed, 22 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/epan.c
   M /trunk/epan/epan.h
   M /trunk/epan/proto.c
   M /trunk/epan/proto.h

Use gsize (size_t) in a couple of places to make the Win64 build happy.
------------------------------------------------------------------------
r34192 | morriss | 2010-09-22 22:50:10 -0700 (Wed, 22 Sep 2010) | 1 line
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/cmakeconfig.h.in
   M /trunk/config.nmake

Assume we HAVE_GZCLEARERR on Windows and when using cmake
------------------------------------------------------------------------
r34193 | morriss | 2010-09-22 23:00:22 -0700 (Wed, 22 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/epan.c
   M /trunk/epan/epan.h
   M /trunk/epan/proto.c
   M /trunk/epan/proto.h

Revert 34191 and add some casts instead
------------------------------------------------------------------------
r34194 | morriss | 2010-09-22 23:08:19 -0700 (Wed, 22 Sep 2010) | 1 line
Changed paths:
   M /trunk/tap-afpstat.c
   M /trunk/tap-ansi_astat.c
   M /trunk/tap-bootpstat.c
   M /trunk/tap-camelcounter.c
   M /trunk/tap-camelsrt.c
   M /trunk/tap-comparestat.c
   M /trunk/tap-dcerpcstat.c
   M /trunk/tap-diameter-avp.c
   M /trunk/tap-gsm_astat.c
   M /trunk/tap-h225counter.c
   M /trunk/tap-h225rassrt.c
   M /trunk/tap-httpstat.c
   M /trunk/tap-iostat.c
   M /trunk/tap-iousers.c
   M /trunk/tap-megaco-common.c
   M /trunk/tap-megacostat.c
   M /trunk/tap-mgcpstat.c
   M /trunk/tap-protocolinfo.c
   M /trunk/tap-protohierstat.c
   M /trunk/tap-radiusstat.c
   M /trunk/tap-rpcprogs.c
   M /trunk/tap-rpcstat.c
   M /trunk/tap-rtp-common.c
   M /trunk/tap-rtp.c
   M /trunk/tap-sctpchunkstat.c
   M /trunk/tap-sipstat.c
   M /trunk/tap-smbsids.c
   M /trunk/tap-smbstat.c
   M /trunk/tap-sv.c
   M /trunk/tap-wspstat.c

Remove unnecessary include: register.h
------------------------------------------------------------------------
r34195 | jmayer | 2010-09-22 23:42:58 -0700 (Wed, 22 Sep 2010) | 2 lines
Changed paths:
   M /trunk/CMakeOptions.txt

Enable Python for HEAD to make sure build problems are found.

------------------------------------------------------------------------
r34196 | jmayer | 2010-09-22 23:45:30 -0700 (Wed, 22 Sep 2010) | 2 lines
Changed paths:
   M /trunk/configure.in

Enable Python in HEAD to find problems during testing.

------------------------------------------------------------------------
r34197 | jmayer | 2010-09-22 23:53:40 -0700 (Wed, 22 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/help_dlg.c

Put the guides into the "guides" subdirectory of DOC_DIR

------------------------------------------------------------------------
r34198 | jmayer | 2010-09-22 23:55:08 -0700 (Wed, 22 Sep 2010) | 2 lines
Changed paths:
   M /trunk/docbook/CMakeLists.txt
   M /trunk/docbook/Makefile.am

Install guides into DOC_DIR if defined

------------------------------------------------------------------------
r34199 | jake | 2010-09-22 23:58:55 -0700 (Wed, 22 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipv6.c

Fix for bug 5252:
Use real IPv6 destination address when RH0 has 0 segments left.

------------------------------------------------------------------------
r34200 | jmayer | 2010-09-22 23:59:41 -0700 (Wed, 22 Sep 2010) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/cmake/modules/FindHtmlViewer.cmake

Try to add support to learn the HTML_VIEWER variable and the DOC_DIR variables from the environment - not yet working
------------------------------------------------------------------------
r34201 | jmayer | 2010-09-23 00:02:33 -0700 (Thu, 23 Sep 2010) | 7 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/codecs/CMakeLists.txt
   M /trunk/epan/CMakeLists.txt
   M /trunk/gtk/CMakeLists.txt
   M /trunk/plugins/asn1/CMakeLists.txt
   M /trunk/plugins/docsis/CMakeLists.txt
   M /trunk/plugins/ethercat/CMakeLists.txt
   M /trunk/plugins/giop/CMakeLists.txt
   M /trunk/plugins/gryphon/CMakeLists.txt
   M /trunk/plugins/interlink/CMakeLists.txt
   M /trunk/plugins/irda/CMakeLists.txt
   M /trunk/plugins/m2m/CMakeLists.txt
   M /trunk/plugins/mate/CMakeLists.txt
   M /trunk/plugins/opcua/CMakeLists.txt
   M /trunk/plugins/profinet/CMakeLists.txt
   M /trunk/plugins/sercosiii/CMakeLists.txt
   M /trunk/plugins/stats_tree/CMakeLists.txt
   M /trunk/plugins/unistim/CMakeLists.txt
   M /trunk/plugins/wimax/CMakeLists.txt
   M /trunk/plugins/wimaxasncp/CMakeLists.txt
   M /trunk/wiretap/CMakeLists.txt
   M /trunk/wsutil/CMakeLists.txt

H. Sivank <hsivank@gmail.com>

I try to configure Wireshark with cmake on macosx 10.6.
It fails with : set_target_properties called with incorrect number of arguments.
Attached a patch to fix this issue.


------------------------------------------------------------------------
r34202 | stig | 2010-09-23 00:39:38 -0700 (Thu, 23 Sep 2010) | 2 lines
Changed paths:
   M /trunk/asn1/acse/acse.cnf
   M /trunk/epan/dissectors/packet-acse.c

Show Abort source in info column.

------------------------------------------------------------------------
r34203 | stig | 2010-09-23 00:42:20 -0700 (Thu, 23 Sep 2010) | 2 lines
Changed paths:
   M /trunk/asn1/ess/packet-ess-template.c
   M /trunk/epan/dissectors/packet-ess.c

Corrected check for attribute flag bits.

------------------------------------------------------------------------
r34204 | jmayer | 2010-09-23 00:43:04 -0700 (Thu, 23 Sep 2010) | 2 lines
Changed paths:
   M /trunk/cmake/modules/FindZLIB.cmake

Add check for HAVE_GZCLEARERR.

------------------------------------------------------------------------
r34205 | jmayer | 2010-09-23 02:05:31 -0700 (Thu, 23 Sep 2010) | 4 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/CMakeOptions.txt
   M /trunk/cmakeconfig.h.in

Copy behaviour of
http://anonsvn.wireshark.org/viewvc/viewvc.cgi?view=rev&revision=34145
to cmake.

------------------------------------------------------------------------
r34206 | jmayer | 2010-09-23 02:08:50 -0700 (Thu, 23 Sep 2010) | 1 line
Changed paths:
   M /trunk/CMakeOptions.txt

Consistency: Replace tabs by spaces
------------------------------------------------------------------------
r34207 | stig | 2010-09-23 02:22:12 -0700 (Thu, 23 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wai.c

Updates from Lukasz Kotasa.

------------------------------------------------------------------------
r34208 | morriss | 2010-09-23 06:26:41 -0700 (Thu, 23 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/proto.c

Add some more casts.
------------------------------------------------------------------------
r34209 | jmayer | 2010-09-23 06:31:28 -0700 (Thu, 23 Sep 2010) | 4 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-cisco-erspan.c
   M /trunk/epan/dissectors/packet-gre.c
   M /trunk/epan/greproto.h

Jason Masker <jason at masker.net>:

Updates for the Cisco ERSPAN type III (version 2) protocol.

------------------------------------------------------------------------
r34210 | etxrab | 2010-09-23 07:07:32 -0700 (Thu, 23 Sep 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c

From Pascal Quantin:
NAS EPS] Wrong dissection of Non-current native NAS key set identifier

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5253
------------------------------------------------------------------------
r34212 | wmeier | 2010-09-23 10:49:43 -0700 (Thu, 23 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/ipproto.c

Whitespace cleanup: Convert "4 space tabs" to spaces.

------------------------------------------------------------------------
r34213 | wmeier | 2010-09-23 10:52:29 -0700 (Thu, 23 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/ipproto.h

Whitespace cleanup: convert "4 space tabs" to spaces.

------------------------------------------------------------------------
r34214 | wmeier | 2010-09-23 10:55:11 -0700 (Thu, 23 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-isakmp.c

Use extended ipproto value_string (ipproto_val_ext).

------------------------------------------------------------------------
r34215 | wmeier | 2010-09-23 11:00:06 -0700 (Thu, 23 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/ipproto.c
   M /trunk/epan/ipproto.h

Make value_string ipproto_val static; It should only be referenced using ipproto_val_ext

------------------------------------------------------------------------
r34216 | stig | 2010-09-23 11:07:49 -0700 (Thu, 23 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c
   M /trunk/gtk/new_packet_list.c

Disable sorting while capturing.

------------------------------------------------------------------------
r34217 | wmeier | 2010-09-23 11:16:26 -0700 (Thu, 23 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/sminmpec.h

(Trivial) Whitespace cleanup.

------------------------------------------------------------------------
r34218 | wmeier | 2010-09-23 11:48:19 -0700 (Thu, 23 Sep 2010) | 12 lines
Changed paths:
   M /trunk/tools/make-sminmpec.pl

Generate the value_string array sminmpec_values[] with "gaps"
filled in (using name "(Unknown)" so that direct (indexed)
access to the value_string is possible.

Note that this represents a slight API change in that
match_strval() on sminmpec_values  will no longer return NULL for
missing enterprise numbers (less than the maximum in the array)
but will return the string "(Unknown)".

AFAIKT this change does not materially affect existing Wireshark
use of the sminmpec value_string array.

------------------------------------------------------------------------
r34219 | stig | 2010-09-23 12:36:09 -0700 (Thu, 23 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/main_packet_list.c
   M /trunk/gtk/new_packet_list.c

Do not set custom occurrence in recent file, this is used for column width.

------------------------------------------------------------------------
r34220 | stig | 2010-09-23 12:41:55 -0700 (Thu, 23 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/prefs.c
   M /trunk/gtk/new_packet_list.c

Store "Show Resolved" setting for custom columns.

------------------------------------------------------------------------
r34221 | jmayer | 2010-09-23 12:42:20 -0700 (Thu, 23 Sep 2010) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cisco-erspan.c

Jason Masker:
- Add decoding of direction bit for version 2 (type III) erspan.

Me:
- Decode the original direction bit as unknown in case of version 2.
- The original unknown3 value seems to indicate whether the packet
  was too long to fit into a single mtu (trunkated).
- "Timestamp(s)" -> "Timestamp"


------------------------------------------------------------------------
r34222 | jmayer | 2010-09-23 13:44:11 -0700 (Thu, 23 Sep 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cisco-erspan.c

- trunkated -> truncated
- Print "Type II" and "Type III" as versionstrings.
- Make sure that version = 1 or 2

------------------------------------------------------------------------
r34223 | wmeier | 2010-09-23 13:45:22 -0700 (Thu, 23 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/dfilter_expr_dlg.c

Fix crash creating a filter (using "Expression ...") for a field with an extended value_string

------------------------------------------------------------------------
r34224 | stig | 2010-09-23 14:06:31 -0700 (Thu, 23 Sep 2010) | 5 lines
Changed paths:
   M /trunk/CMakeLists.txt

Some CMake fixes from H.sivank:
- Apple gcc does not like "-Wl,--as-needed".
- Fix plugins link step on OSX.
- Put AUTHORS-SHORT, AUTHORS-SHORT-FORMAT and wireshark.pod in build directory.

------------------------------------------------------------------------
r34225 | jmayer | 2010-09-23 14:14:23 -0700 (Thu, 23 Sep 2010) | 4 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/cmake/modules/FindGTK2.cmake
   M /trunk/wiretap/CMakeLists.txt

H.sivank:

Cmake fixes.

------------------------------------------------------------------------
r34226 | jmayer | 2010-09-23 14:18:04 -0700 (Thu, 23 Sep 2010) | 6 lines
Changed paths:
   M /trunk/CMakeLists.txt

Undo some part of 
http://anonsvn.wireshark.org/viewvc/viewvc.cgi?view=rev&revision=34224

This fix is wrong. We need to find out why this fails and correct it in


------------------------------------------------------------------------
r34227 | morriss | 2010-09-23 14:46:31 -0700 (Thu, 23 Sep 2010) | 1 line
Changed paths:
   M /trunk/asn1/cms/packet-cms-template.c
   M /trunk/epan/dissectors/packet-afp.c
   M /trunk/epan/dissectors/packet-afs.c
   M /trunk/epan/dissectors/packet-ajp13.c
   M /trunk/epan/dissectors/packet-amqp.c
   M /trunk/epan/dissectors/packet-arcnet.c
   M /trunk/epan/dissectors/packet-artnet.c
   M /trunk/epan/dissectors/packet-atalk.c
   M /trunk/epan/dissectors/packet-bacapp.c
   M /trunk/epan/dissectors/packet-btobex.c
   M /trunk/epan/dissectors/packet-catapult-dct2000.c
   M /trunk/epan/dissectors/packet-cms.c
   M /trunk/epan/dissectors/packet-ctdb.c
   M /trunk/epan/dissectors/packet-db-lsp.c
   M /trunk/epan/dissectors/packet-dcerpc-netlogon.c
   M /trunk/epan/dissectors/packet-dcerpc-nt.c
   M /trunk/epan/dissectors/packet-dcerpc-spoolss.c
   M /trunk/epan/dissectors/packet-dcerpc-tapi.c
   M /trunk/epan/dissectors/packet-ddtp.c
   M /trunk/epan/dissectors/packet-dec-dnart.c
   M /trunk/epan/dissectors/packet-dmp.c
   M /trunk/epan/dissectors/packet-dns.c
   M /trunk/epan/dissectors/packet-dtls.c
   M /trunk/epan/dissectors/packet-fix.c
   M /trunk/epan/dissectors/packet-fmp.c
   M /trunk/epan/dissectors/packet-fr.c
   M /trunk/epan/dissectors/packet-gsm_bsslap.c
   M /trunk/epan/dissectors/packet-gtp.c
   M /trunk/epan/dissectors/packet-h248_annex_c.c
   M /trunk/epan/dissectors/packet-hclnfsd.c
   M /trunk/epan/dissectors/packet-iec104.c
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/epan/dissectors/packet-ieee8021ah.c
   M /trunk/epan/dissectors/packet-igap.c
   M /trunk/epan/dissectors/packet-ipdc.c
   M /trunk/epan/dissectors/packet-isl.c
   M /trunk/epan/dissectors/packet-isns.c
   M /trunk/epan/dissectors/packet-iwarp-ddp-rdmap.c
   M /trunk/epan/dissectors/packet-kerberos.c
   M /trunk/epan/dissectors/packet-kerberos4.c
   M /trunk/epan/dissectors/packet-klm.c
   M /trunk/epan/dissectors/packet-lanforge.c
   M /trunk/epan/dissectors/packet-lapb.c
   M /trunk/epan/dissectors/packet-lapd.c
   M /trunk/epan/dissectors/packet-lapdm.c
   M /trunk/epan/dissectors/packet-lmi.c
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-nbns.c
   M /trunk/epan/dissectors/packet-netflow.c
   M /trunk/epan/dissectors/packet-nfs.c
   M /trunk/epan/dissectors/packet-nisplus.c
   M /trunk/epan/dissectors/packet-nsrp.c
   M /trunk/epan/dissectors/packet-nwmtp.c
   M /trunk/epan/dissectors/packet-pagp.c
   M /trunk/epan/dissectors/packet-pdcp-lte.c
   M /trunk/epan/dissectors/packet-rdt.c
   M /trunk/epan/dissectors/packet-rip.c
   M /trunk/epan/dissectors/packet-rpcap.c
   M /trunk/epan/dissectors/packet-rx.c
   M /trunk/epan/dissectors/packet-sasp.c
   M /trunk/epan/dissectors/packet-sdlc.c
   M /trunk/epan/dissectors/packet-sflow.c
   M /trunk/epan/dissectors/packet-skinny.c
   M /trunk/epan/dissectors/packet-slsk.c
   M /trunk/epan/dissectors/packet-smb-browse.c
   M /trunk/epan/dissectors/packet-smb-pipe.c
   M /trunk/epan/dissectors/packet-smb.c
   M /trunk/epan/dissectors/packet-smb2.c
   M /trunk/epan/dissectors/packet-spray.c
   M /trunk/epan/dissectors/packet-ssl.c
   M /trunk/epan/dissectors/packet-tds.c
   M /trunk/epan/dissectors/packet-tipc.c
   M /trunk/epan/dissectors/packet-tn3270.c
   M /trunk/epan/dissectors/packet-tns.c
   M /trunk/epan/dissectors/packet-vnc.c
   M /trunk/epan/dissectors/packet-vtp.c
   M /trunk/epan/dissectors/packet-wlccp.c
   M /trunk/epan/dissectors/packet-xyplex.c
   M /trunk/epan/dissectors/packet-ypbind.c
   M /trunk/plugins/docsis/packet-dsdreq.c
   M /trunk/plugins/docsis/packet-map.c
   M /trunk/plugins/docsis/packet-mdd.c

Replace blurbs that match the name (case insensitive) with NULL.
------------------------------------------------------------------------
r34228 | morriss | 2010-09-23 18:32:27 -0700 (Thu, 23 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-afp.c

Replace another blurb that matches the name (case insensitive) with NULL.
------------------------------------------------------------------------
r34229 | morriss | 2010-09-23 18:34:45 -0700 (Thu, 23 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-amqp.c
   M /trunk/epan/dissectors/packet-mip6.c
   M /trunk/epan/dissectors/packet-wsp.c

Replace blurbs that match the name (case insensitive) with NULL.
------------------------------------------------------------------------
r34230 | morriss | 2010-09-23 19:51:40 -0700 (Thu, 23 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-afp.c
   M /trunk/epan/dissectors/packet-btobex.c
   M /trunk/epan/dissectors/packet-dcerpc-netlogon.c
   M /trunk/epan/dissectors/packet-dmp.c
   M /trunk/epan/dissectors/packet-dns.c
   M /trunk/epan/dissectors/packet-dplay.c
   M /trunk/epan/dissectors/packet-dtls.c
   M /trunk/epan/dissectors/packet-gtp.c
   M /trunk/epan/dissectors/packet-h223.c
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/epan/dissectors/packet-ieee802154.c
   M /trunk/epan/dissectors/packet-kerberos.c
   M /trunk/epan/dissectors/packet-klm.c
   M /trunk/epan/dissectors/packet-l2tp.c
   M /trunk/epan/dissectors/packet-mount.c
   M /trunk/epan/dissectors/packet-ndmp.c
   M /trunk/epan/dissectors/packet-pdcp-lte.c
   M /trunk/epan/dissectors/packet-pnrp.c
   M /trunk/epan/dissectors/packet-sflow.c
   M /trunk/epan/dissectors/packet-sip.c
   M /trunk/epan/dissectors/packet-smb.c
   M /trunk/epan/dissectors/packet-tn3270.c
   M /trunk/epan/dissectors/packet-wlccp.c
   M /trunk/epan/dissectors/packet-wtp.c
   M /trunk/epan/dissectors/x11-register-info.h
   M /trunk/tools/process-x11-xcb.pl

(Refining the regexp...) Replace blurbs that match the name (case insensitive) with NULL.
------------------------------------------------------------------------
r34231 | morriss | 2010-09-23 19:55:52 -0700 (Thu, 23 Sep 2010) | 1 line
Changed paths:
   M /trunk/plugins/docsis/packet-map.c

Replace blurbs that match the name (case insensitive) with NULL.
------------------------------------------------------------------------
r34232 | etxrab | 2010-09-23 23:46:14 -0700 (Thu, 23 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Update GUIManager menubar code.
------------------------------------------------------------------------
r34233 | stig | 2010-09-24 03:23:55 -0700 (Fri, 24 Sep 2010) | 2 lines
Changed paths:
   M /trunk/cmake/modules/CheckCLinkerFlag.cmake

Reset CMAKE_REQUIRED_FLAGS after checking flags.

------------------------------------------------------------------------
r34234 | stig | 2010-09-24 05:39:15 -0700 (Fri, 24 Sep 2010) | 9 lines
Changed paths:
   M /trunk/gtk/menus.c

Disable the "File Set" menu while capturing, because changing file while
capturing causes an assert in cf_reset_state().

We still get this assert if the "List Files" dialog is opened before we start
capture and we change file during capturing.  Maybe we have to close this
dialog when starting capture?  Or maybe disable all files except the one
being captured to?  Then we also may have to update the "Last Modified" and 
"Size" columns.

------------------------------------------------------------------------
r34235 | stig | 2010-09-24 06:19:03 -0700 (Fri, 24 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/prefs.c

Added an extra validity check for cust_format_info.

------------------------------------------------------------------------
r34236 | jmayer | 2010-09-24 06:54:23 -0700 (Fri, 24 Sep 2010) | 2 lines
Changed paths:
   M /trunk/README.cmake

Small update: add opensuse 11.3 with gcc and gnu make as build-envs

------------------------------------------------------------------------
r34237 | etxrab | 2010-09-24 07:52:44 -0700 (Fri, 24 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Further GUIManager updates, the basics are now there.
------------------------------------------------------------------------
r34238 | jmayer | 2010-09-24 11:12:45 -0700 (Fri, 24 Sep 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cisco-erspan.c

Comparing type II and III traces of the same packet 
indicate that the last 4 bytes of both types are similar.
So the extra bytes in type III are inserted before those
last bytes.

------------------------------------------------------------------------
r34239 | jake | 2010-09-24 11:46:28 -0700 (Fri, 24 Sep 2010) | 2 lines
Changed paths:
   M /trunk/plugins/interlink/packet-interlink.c

Track offset even when tree==NULL.

------------------------------------------------------------------------
r34240 | morriss | 2010-09-24 13:26:29 -0700 (Fri, 24 Sep 2010) | 11 lines
Changed paths:
   M /trunk/tools/checkAPIs.pl

Inspired by https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=3548 :

Add the option to check hf entries for various problems.  This is disabled by
default for the moment as it's quite noisy.

The regexps may need some additional fine tuning (or maybe simplification),
but they seem to work pretty well.

Arguably this might make more sense in checkhf.pl but it was easier to integrate
into this script.

------------------------------------------------------------------------
r34241 | morriss | 2010-09-24 13:28:00 -0700 (Fri, 24 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-tn3270.c

Don't use an abbreviation as the name of an hf entry.
------------------------------------------------------------------------
r34242 | morriss | 2010-09-24 13:40:03 -0700 (Fri, 24 Sep 2010) | 5 lines
Changed paths:
   A /trunk/tools/fixhf.pl

A simple tool to remove bogus blurbs from hf entries.
This has already been run so it may not be necessary any more, but
may as well check it in in case it can serve as a base for other, future,
global hf changes.

------------------------------------------------------------------------
r34243 | guy | 2010-09-24 13:41:34 -0700 (Fri, 24 Sep 2010) | 10 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/plugins/asn1/CMakeLists.txt
   M /trunk/plugins/docsis/CMakeLists.txt
   M /trunk/plugins/ethercat/CMakeLists.txt
   M /trunk/plugins/giop/CMakeLists.txt
   M /trunk/plugins/gryphon/CMakeLists.txt
   M /trunk/plugins/interlink/CMakeLists.txt
   M /trunk/plugins/irda/CMakeLists.txt
   M /trunk/plugins/m2m/CMakeLists.txt
   M /trunk/plugins/mate/CMakeLists.txt
   M /trunk/plugins/opcua/CMakeLists.txt
   M /trunk/plugins/profinet/CMakeLists.txt
   M /trunk/plugins/sercosiii/CMakeLists.txt
   M /trunk/plugins/stats_tree/CMakeLists.txt
   M /trunk/plugins/tpg/CMakeLists.txt
   M /trunk/plugins/unistim/CMakeLists.txt
   M /trunk/plugins/wimax/CMakeLists.txt
   M /trunk/plugins/wimaxasncp/CMakeLists.txt

Plugins are not shared libraries, so:

	1) don't set thei SOVERSION - run-time-loaded modules don't have
	   an SOVERSION;

	2) build them with link mode MODULE, not SHARED, on all
	   platforms.

(Fixing 1) also fixes the problem with building them as MODULE on OS X.)

------------------------------------------------------------------------
r34244 | guy | 2010-09-24 14:18:39 -0700 (Fri, 24 Sep 2010) | 2 lines
Changed paths:
   M /trunk/CMakeLists.txt

Actually do what I said I did in the previous checkin.

------------------------------------------------------------------------
r34245 | sfisher | 2010-09-24 16:05:30 -0700 (Fri, 24 Sep 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-data.c


Add option to generate MD5 hash for payload in data dissector.  Useful for
tracking the same data when the headers are different (NAT, TCP seq #
randomization, etc).  Copied from packet-frame.c.


------------------------------------------------------------------------
r34246 | sfisher | 2010-09-24 16:50:38 -0700 (Fri, 24 Sep 2010) | 1 line
Changed paths:
   M /trunk/config.nmake

Allow up to Python 2.7 now (was 2.6) and move Python build statements into same part of nmake file for ease of use.
------------------------------------------------------------------------
r34247 | sake | 2010-09-25 02:33:29 -0700 (Sat, 25 Sep 2010) | 5 lines
Changed paths:
   M /trunk/epan/proto.c
   M /trunk/gtk/main.c
   M /trunk/gtk/prefs_column.c

Fix the output of columns with "show resolved" disabled when all occurrences are displayed.
Limit the input field for occurrence to 4 characters to prevent an overflow.
Make sure "... as filter" does not result in an invalid filter string if all occurrences are displayed.


------------------------------------------------------------------------
r34248 | jmayer | 2010-09-25 08:38:12 -0700 (Sat, 25 Sep 2010) | 12 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/CMakeOptions.txt
   A /trunk/cmake/modules/COPYING-CMAKE-SCRIPTS
   M /trunk/cmake/modules/FindGLIB2.cmake
   A /trunk/cmake/modules/FindGMODULE2.cmake
   M /trunk/wiretap/CMakeLists.txt

- FindGLIB2.cmake updates from
  http://www.opensync.org/browser/branches/3rd-party-cmake-modules/modules
  + split out FindGMODULE2.cmake
  + contains /sw/... by default
  + supposedly tested on OSX
- Disable pcre for cmake builds by default, gregex should be
  picked up automatically if glib2 is not too old.

Should you have trouble linking due to some libgmodule... stuff
undefined, please add "${GMODULE2_LIBRARIES}" after "${GLIB2_LIBRARIES}"
an report back.

------------------------------------------------------------------------
r34249 | sake | 2010-09-25 09:00:07 -0700 (Sat, 25 Sep 2010) | 3 lines
Changed paths:
   M /trunk/AUTHORS

Updated my entry...


------------------------------------------------------------------------
r34250 | guy | 2010-09-25 11:44:20 -0700 (Sat, 25 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Clean up indentation.

------------------------------------------------------------------------
r34251 | guy | 2010-09-25 12:05:18 -0700 (Sat, 25 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

More whitespace cleanups.

------------------------------------------------------------------------
r34252 | stig | 2010-09-26 03:54:12 -0700 (Sun, 26 Sep 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main.c

Allow creating a filter from a multi occurrence field if only one
value is present.

------------------------------------------------------------------------
r34253 | gerald | 2010-09-26 08:03:40 -0700 (Sun, 26 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-09-26]
------------------------------------------------------------------------
r34257 | etxrab | 2010-09-26 11:14:44 -0700 (Sun, 26 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

GUImanager: Add missing set_menu_sensitivity().
------------------------------------------------------------------------
r34258 | etxrab | 2010-09-26 23:05:24 -0700 (Sun, 26 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi.c

From Yaniv Kaul:
[PATCH] Add specific names to 'Flags' in packet-scsi.c
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5259
------------------------------------------------------------------------
r34259 | etxrab | 2010-09-26 23:16:29 -0700 (Sun, 26 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-wai.c

Add a link to the protocol description.
------------------------------------------------------------------------
r34260 | etxrab | 2010-09-27 01:45:16 -0700 (Mon, 27 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_rr.c

From Vincent Helfre:
Release 8 june 2010 parameters decoding for SI2quater and Measurement Information messages.
------------------------------------------------------------------------
r34261 | etxrab | 2010-09-27 03:11:40 -0700 (Mon, 27 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_rr.c

Initialize subtree.
------------------------------------------------------------------------
r34262 | etxrab | 2010-09-27 05:53:42 -0700 (Mon, 27 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_rr.c

From Vincent Helfre:
Display the bits for 
.... .00. = PCID_Pattern: 0
------------------------------------------------------------------------
r34263 | morriss | 2010-09-27 12:05:43 -0700 (Mon, 27 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-fileexp.c

Some hf cleanup: make the field names different from the hf variable name
and/or the abbreviation.

------------------------------------------------------------------------
r34264 | morriss | 2010-09-27 12:31:36 -0700 (Mon, 27 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-krb5rpc.c

Some hf cleanup: make the field names different from the hf variable name
and/or the abbreviation.

------------------------------------------------------------------------
r34265 | sfisher | 2010-09-27 13:02:54 -0700 (Mon, 27 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/gui_utils.c

Fix bug #553 by ensuring that the upper-left corner of Wireshark is within the viewable area of the monitor.
------------------------------------------------------------------------
r34266 | etxrab | 2010-09-27 13:09:08 -0700 (Mon, 27 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Add PDUs to value_string.
------------------------------------------------------------------------
r34267 | stig | 2010-09-27 14:01:54 -0700 (Mon, 27 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-eigrp.c

Fix the offset errors reported in bug 5261.

------------------------------------------------------------------------
r34268 | sfisher | 2010-09-27 14:23:29 -0700 (Mon, 27 Sep 2010) | 4 lines
Changed paths:
   M /trunk/gtk/gui_utils.c


Format changes from r34265 to fit a 80 column wide window.


------------------------------------------------------------------------
r34269 | sahlberg | 2010-09-27 20:31:03 -0700 (Mon, 27 Sep 2010) | 4 lines
Changed paths:
   M /trunk/tools/make-sminmpec.pl

The array sminmpec_values should not be declated static since it is 
referenced from several dissectors


------------------------------------------------------------------------
r34270 | sahlberg | 2010-09-27 22:50:54 -0700 (Mon, 27 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rquota.c
   M /trunk/epan/dissectors/packet-rquota.h

update the RQUOTA dissector and add support for version 2 of the protocol


------------------------------------------------------------------------
r34271 | wmeier | 2010-09-28 07:14:12 -0700 (Tue, 28 Sep 2010) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntlmssp.c

Improve dissection:
1. Negotiation/Challenge/Authoriation messages:
   - dissect Version field (if present);
2. Authorization messages:
   - Dissect fields following session-key (flags/... if present) even 
     when session key is empty;
   - Dissect "MIC" field (if present);
3. Challenge message:
   - Rename "Domain" field to "Target Name" as per Microsoft spec (MS-NLMP).

------------------------------------------------------------------------
r34272 | wmeier | 2010-09-28 08:26:58 -0700 (Tue, 28 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntlmssp.c

Oops: remove a // comment (note to myself)

------------------------------------------------------------------------
r34273 | jmayer | 2010-09-28 12:07:42 -0700 (Tue, 28 Sep 2010) | 1 line
Changed paths:
   M /trunk/configure.in

Fix typo reported by Jose Pedro Oliveira
------------------------------------------------------------------------
r34274 | jmayer | 2010-09-28 12:23:15 -0700 (Tue, 28 Sep 2010) | 4 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/README.cmake
   M /trunk/cmake/modules/CheckCLinkerFlag.cmake
   M /trunk/cmake/modules/FindPCAP.cmake
   M /trunk/cmake/modules/FindZLIB.cmake

- Reset a few more variables used in FindXYZ scripts.
- README.cmake: small update.
- Set a variable before using it for installation.

------------------------------------------------------------------------
r34275 | etxrab | 2010-09-28 13:27:28 -0700 (Tue, 28 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Update GUIManager menubar code.
------------------------------------------------------------------------
r34276 | jmayer | 2010-09-28 14:04:48 -0700 (Tue, 28 Sep 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Compile failed because of text after #endif

------------------------------------------------------------------------
r34277 | jake | 2010-09-28 14:20:57 -0700 (Tue, 28 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zrtp.c

Add the missing Signature-capable flag to the Hello message.
Add missing SRT(C)P setup information to Conf2ACK message.
------------------------------------------------------------------------
r34278 | jake | 2010-09-28 14:22:35 -0700 (Tue, 28 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-rtcp.c

Let the protocol column show we're having Secure RTCP when we do.
------------------------------------------------------------------------
r34279 | etxrab | 2010-09-29 08:41:27 -0700 (Wed, 29 Sep 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c

From Pascal Quantin:
[NAS EPS] Add dissection of EPS network feature support IE

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5264
------------------------------------------------------------------------
r34280 | rbalint | 2010-09-29 08:46:35 -0700 (Wed, 29 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/oids.c

Fix the libsmi workaround by adding missing brackets.
From Grzegorz Głowacki <g.glowacki@wasko.pl>

------------------------------------------------------------------------
r34281 | etxrab | 2010-09-29 09:09:42 -0700 (Wed, 29 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Further GUIManager updates.
------------------------------------------------------------------------
r34282 | guy | 2010-09-29 18:01:25 -0700 (Wed, 29 Sep 2010) | 6 lines
Changed paths:
   M /trunk/dumpcap.c

Always use a timeout of 250ms for pipes when not using threads; that way
we know it's < 1s, and don't have to worry about properly setting tv_sec
and tv_usec for select().

Get rid of unneeded pointer variable.

------------------------------------------------------------------------
r34283 | guy | 2010-09-29 18:40:03 -0700 (Wed, 29 Sep 2010) | 6 lines
Changed paths:
   M /trunk/dumpcap.c

PIPE_READ_TIMEOUT should be in microseconds, not milliseconds.

As it's a constant, we can do the split into seconds and microseconds at
compile time, so do that (so that it works even if we happen to make
PIPE_READ_TIMEOUT >= 1 second).

------------------------------------------------------------------------
r34284 | stig | 2010-09-29 23:19:32 -0700 (Wed, 29 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Constructed octet strings may contain zero encodings.
(X.690 chapter 8.7.3)

------------------------------------------------------------------------
r34285 | stig | 2010-09-30 02:53:51 -0700 (Thu, 30 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/reassemble.c

Use the name from hf_fragment instead of hf_fragments when we only have
one fragment to reassemble.

------------------------------------------------------------------------
r34287 | gerald | 2010-09-30 09:52:23 -0700 (Thu, 30 Sep 2010) | 2 lines
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_libraries.xml

Note that you probably don't need the PCRE library.

------------------------------------------------------------------------
r34288 | stig | 2010-09-30 10:27:08 -0700 (Thu, 30 Sep 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main_filter_toolbar.c
   M /trunk/gtk/main_filter_toolbar.h

Indicate that the selected display filter is applied by disabling the "Apply"
button.  Indicate that no filter is applied by disabling the "Clear" button.

------------------------------------------------------------------------
r34289 | stig | 2010-09-30 12:20:59 -0700 (Thu, 30 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Remove unneeded includes.

------------------------------------------------------------------------
r34290 | jake | 2010-09-30 12:23:31 -0700 (Thu, 30 Sep 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-6lowpan.c

From Colin O'Flynn / Owen Kirby:
The 6LoWPAN dissector had as a TODO the 'stateful address compression' mode.
This patch fixes that TODO, up to HC-13.
This patch also updates to HC-08, where the PANID is no longer used in forming
the short address.

------------------------------------------------------------------------
r34291 | stig | 2010-09-30 12:35:51 -0700 (Thu, 30 Sep 2010) | 2 lines
Changed paths:
   M /trunk/asn1/rtse/packet-rtse-template.c
   M /trunk/epan/dissectors/packet-rtse.c

Cleanup reassembly hf entries.

------------------------------------------------------------------------
r34292 | stig | 2010-09-30 12:40:02 -0700 (Thu, 30 Sep 2010) | 2 lines
Changed paths:
   M /trunk/asn1/idmp/packet-idmp-template.c
   M /trunk/epan/dissectors/packet-idmp.c

Cleanup reassembly hf entries.

------------------------------------------------------------------------
r34293 | stig | 2010-09-30 12:41:44 -0700 (Thu, 30 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-6lowpan.c

Initialize length.

------------------------------------------------------------------------
r34294 | jake | 2010-09-30 12:43:33 -0700 (Thu, 30 Sep 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c
   M /trunk/epan/dissectors/packet-ipv6.h

From Colin O'Flynn
Add 6lowpan-nd-13 Support.
This brings the 6lowpan dissector up to the latest revision, nd-13.

------------------------------------------------------------------------
r34295 | wmeier | 2010-09-30 13:26:13 -0700 (Thu, 30 Sep 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntlmssp.c

More fixes and comments:
- NEGOTIATE: dissect version field (if present) when empty Workstation domain & name fields;
- AUTHENTICATE: Use flags from message if no previous CHALLENGE seen to determine 
                character set encoding; Fixes Bug #5251
                https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5251


------------------------------------------------------------------------
r34296 | morriss | 2010-09-30 13:33:05 -0700 (Thu, 30 Sep 2010) | 1 line
Changed paths:
   M /trunk/epan/reassemble_test.c

Get reassemble_test building again (after 34285).
------------------------------------------------------------------------
r34297 | jake | 2010-09-30 13:34:12 -0700 (Thu, 30 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-reload.c

From Stéphane Bryant:
New Dissector for the ReLOAD dissector.

------------------------------------------------------------------------
r34298 | wmeier | 2010-09-30 14:14:44 -0700 (Thu, 30 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntlmssp.c

Fix compilation error.

------------------------------------------------------------------------
r34299 | etxrab | 2010-09-30 14:23:49 -0700 (Thu, 30 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/main_filter_toolbar.c
   M /trunk/gtk/menus.c
   M /trunk/gtk/menus.h

[GTKUImanager] Fix a few callbacks, use #defines for strings.
------------------------------------------------------------------------
r34300 | wmeier | 2010-09-30 14:32:42 -0700 (Thu, 30 Sep 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntlmssp.c

Fix some mangled comments (apparently mangled so that code could be commented out by an
enclosing comment). The code is now commented out with #if 0.

------------------------------------------------------------------------
r34301 | stig | 2010-09-30 14:38:52 -0700 (Thu, 30 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-reload.c

Make it compile.

------------------------------------------------------------------------
r34302 | morriss | 2010-09-30 14:56:47 -0700 (Thu, 30 Sep 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

(GUIManager) Rename prefs_cb() to menus_prefs_cb() to avoid conflict with the (extern'd) prefs_cb() in prefs_dlg.h
------------------------------------------------------------------------
r34303 | guy | 2010-09-30 18:49:02 -0700 (Thu, 30 Sep 2010) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sll.c

From Chris Maynard:

	don't add a source address field if it's zero-length (fixes bug
	2519);

	the source address length field is 8 octets long; if the
	purported length is > 8, only include the first 8 octets.

------------------------------------------------------------------------
r34304 | jake | 2010-09-30 23:26:26 -0700 (Thu, 30 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-reload.c

Try to fix the Mac build.

------------------------------------------------------------------------
r34305 | jake | 2010-09-30 23:26:58 -0700 (Thu, 30 Sep 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zrtp.c

Adding new error code.

------------------------------------------------------------------------
r34306 | etxrab | 2010-10-01 01:14:03 -0700 (Fri, 01 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-reload.c

Add a couple of casts to make it compile.
------------------------------------------------------------------------
r34307 | jmayer | 2010-10-01 01:40:52 -0700 (Fri, 01 Oct 2010) | 6 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/epan/CMakeLists.txt

- Reorder how packagetests are run
- Add packet-reload.c
- Make most packages not-required (not tested)
- Does *not* (yet) add an optional/whatever case to enable_


------------------------------------------------------------------------
r34308 | jmayer | 2010-10-01 05:17:11 -0700 (Fri, 01 Oct 2010) | 5 lines
Changed paths:
   M /trunk/CMakeLists.txt

Fix for 
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4879
where the build would fail if no gtk2 development files
were found.

------------------------------------------------------------------------
r34309 | etxrab | 2010-10-01 07:20:59 -0700 (Fri, 01 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

(GUIManager)Try to fix the time format issue.
------------------------------------------------------------------------
r34310 | morriss | 2010-10-01 07:39:35 -0700 (Fri, 01 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

(GtkUIManager) view_menu_colorize_auto_scroll_live_cb(): check if we got a widget before dereferencing it.  Not sure if this is just hiding another bug, but it lets Wireshark start.
------------------------------------------------------------------------
r34311 | gerald | 2010-10-01 08:25:38 -0700 (Fri, 01 Oct 2010) | 2 lines
Changed paths:
   M /trunk/doc/README.packaging

NEARLY → OVER.

------------------------------------------------------------------------
r34312 | stig | 2010-10-01 09:29:37 -0700 (Fri, 01 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/filesystem.c
   M /trunk/epan/filesystem.h
   M /trunk/gtk/keys.h
   M /trunk/gtk/main_statusbar.c
   M /trunk/gtk/menus.c
   M /trunk/gtk/menus.h
   M /trunk/gtk/profile_dlg.c
   M /trunk/gtk/profile_dlg.h

Add a new right-click popup menu for the statusbar profiles for easy functions
to create new, copy, delete and rename configuration profiles.

------------------------------------------------------------------------
r34313 | martinm | 2010-10-01 10:03:39 -0700 (Fri, 01 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/profile_dlg.c

Initialize a variable to avoid a (bogus) gcc warning.

------------------------------------------------------------------------
r34314 | stig | 2010-10-01 10:06:04 -0700 (Fri, 01 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Export is_default_profile().

------------------------------------------------------------------------
r34315 | stig | 2010-10-01 11:56:33 -0700 (Fri, 01 Oct 2010) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_customize.xml

Update which UATs included in profiles.

------------------------------------------------------------------------
r34316 | sake | 2010-10-01 12:13:56 -0700 (Fri, 01 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-agentx.c

Changing the flag bitmasks to their proper values (see http://www.faqs.org/rfcs/rfc2741.html). This fixes part of bug 5269.


------------------------------------------------------------------------
r34317 | stig | 2010-10-01 12:23:15 -0700 (Fri, 01 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

GTK_STOCK_EDIT came in gtk 2.6.0

------------------------------------------------------------------------
r34318 | etxrab | 2010-10-01 14:46:16 -0700 (Fri, 01 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

[GTKUImanager]Fix faulty paths.
------------------------------------------------------------------------
r34319 | sake | 2010-10-01 15:46:30 -0700 (Fri, 01 Oct 2010) | 9 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_use.xml
   M /trunk/gtk/menus.c

Add navigation to previous/next packets in the conversation. It will check TCP and UDP first and if this is not TCP or UDP, it will use IP.

Accelerator keys:

<ctrl>+[   Goto Previous Packet In Conversation
<ctrl>+]   Goto Next Packet In Conversation



------------------------------------------------------------------------
r34321 | morriss | 2010-10-01 18:27:45 -0700 (Fri, 01 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-reload.c

Remove trailing spaces from a couple of hf names
------------------------------------------------------------------------
r34322 | morriss | 2010-10-01 18:33:02 -0700 (Fri, 01 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-rquota.c

Replace a couple of blurbs (that match the field name) with NULL.
------------------------------------------------------------------------
r34323 | morriss | 2010-10-01 18:34:31 -0700 (Fri, 01 Oct 2010) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

When checking hf, do a case-insensitive comparison between the name and the blurb.
------------------------------------------------------------------------
r34324 | morriss | 2010-10-01 18:47:16 -0700 (Fri, 01 Oct 2010) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Don't use a regexp to compare the name to the blurb, just convert them both to lower case before doing the comparison.
------------------------------------------------------------------------
r34325 | jmayer | 2010-10-01 23:45:49 -0700 (Fri, 01 Oct 2010) | 6 lines
Changed paths:
   M /trunk/CMakeLists.txt

- Pod stuff is independent of the guides, so check/use
  it indepently.
- AND needs to be in caps.

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4879

------------------------------------------------------------------------
r34326 | guy | 2010-10-02 01:04:15 -0700 (Sat, 02 Oct 2010) | 3 lines
Changed paths:
   M /trunk/wiretap/catapult_dct2000.c

Make it a bit clearer what's going on - ASCII '0' has the decimal value
48, and that's converting '0'-'9' to 0-9.

------------------------------------------------------------------------
r34327 | stig | 2010-10-02 03:25:37 -0700 (Sat, 02 Oct 2010) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_use.xml

Added the "Ignored" field in the statusbar middle part.

------------------------------------------------------------------------
r34328 | sake | 2010-10-02 03:28:18 -0700 (Sat, 02 Oct 2010) | 3 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

pcap_activate needs to be called to set the DLT of the selected interface, otherwise the BPF filter is compiled with a DLT of NULL, which will make a filter like "ether host 00:00:00:00:00:00" fail to compile.


------------------------------------------------------------------------
r34329 | sake | 2010-10-02 04:07:50 -0700 (Sat, 02 Oct 2010) | 3 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

When a user selected a non-default DLT for the interface, change the DLT to the user-selected DLT before compiling the BPF code.


------------------------------------------------------------------------
r34330 | sake | 2010-10-02 04:29:26 -0700 (Sat, 02 Oct 2010) | 3 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

Add syntax checking to the capture filter text entry in the capture setup screen. Since capture filters are DLT dependent, it is not useful to do syntax checking in the capture filter dialog (unless we check each filter against every possible DLT)


------------------------------------------------------------------------
r34331 | sake | 2010-10-02 05:24:28 -0700 (Sat, 02 Oct 2010) | 3 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

Check for HAVE_PCAP_CREATE in a few more spots to fix building on systems with a pcap-library that does not support pcap_create


------------------------------------------------------------------------
r34332 | wmeier | 2010-10-02 06:40:43 -0700 (Sat, 02 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-reload.c

Add col_clear; Also: Small reformatting and whitespace changes

------------------------------------------------------------------------
r34333 | sake | 2010-10-02 07:47:41 -0700 (Sat, 02 Oct 2010) | 3 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

Make capture filter syntax checking independent of pcap_create by using pcap_compile_nopcap


------------------------------------------------------------------------
r34334 | wmeier | 2010-10-02 07:54:09 -0700 (Sat, 02 Oct 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-cfm.c
   D /trunk/epan/dissectors/packet-cfm.h

Minor cleanup:
- packet-cfm.h not used elsewhere: incorporate into packet-cfm.c;
- Move proto_register and proto_reg_handoff to the end of the file;
- Localize some variables;
- Remove some unneeded initializers;
- Cleanu some whitesace.

------------------------------------------------------------------------
r34335 | wmeier | 2010-10-02 08:15:40 -0700 (Sat, 02 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

Fix a compilation error

------------------------------------------------------------------------
r34336 | wmeier | 2010-10-02 09:27:55 -0700 (Sat, 02 Oct 2010) | 2 lines
Changed paths:
   M /trunk/capture-wpcap.c

Add pcap_compile_nopcap(); [Not tested]

------------------------------------------------------------------------
r34337 | stig | 2010-10-02 09:41:20 -0700 (Sat, 02 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/new_packet_list.c

Ensure we always show the selected frame when changing sort order.

------------------------------------------------------------------------
r34338 | sake | 2010-10-02 13:26:09 -0700 (Sat, 02 Oct 2010) | 5 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

Use pcap_open_dead instead of pcap_create for the compile BPF button. This makes the button available on systems which do not have libraries that have pcap_create (like Windows for example)

Change a couple of values into defined constants.


------------------------------------------------------------------------
r34339 | sake | 2010-10-02 14:15:20 -0700 (Sat, 02 Oct 2010) | 3 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

Reverting SVN 34338, looks like libpcap and winpcap are more different than I thought. I might have to set up a local windows build system again :(


------------------------------------------------------------------------
r34340 | sake | 2010-10-03 05:04:18 -0700 (Sun, 03 Oct 2010) | 6 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/capture-wpcap.c
   M /trunk/config.h.win32
   M /trunk/config.nmake
   M /trunk/gtk/capture_dlg.c

Retry of SVN 34338, now tested on my WinXP dev VM:

Use pcap_open_dead instead of pcap_create for the compile BPF button. 



------------------------------------------------------------------------
r34341 | gerald | 2010-10-03 08:03:33 -0700 (Sun, 03 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf and enterprise-numbers update for 2010-10-03]
------------------------------------------------------------------------
r34342 | stig | 2010-10-03 08:10:29 -0700 (Sun, 03 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/proto_hier_stats_dlg.c

Use correct text for "Not Selected".

------------------------------------------------------------------------
r34343 | stig | 2010-10-03 08:22:16 -0700 (Sun, 03 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/conversations_table.c

Add the missing "... or not Selected".

------------------------------------------------------------------------
r34344 | stig | 2010-10-03 08:26:03 -0700 (Sun, 03 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/hostlist_table.c

Use correct text for "Not Selected".

------------------------------------------------------------------------
r34346 | stig | 2010-10-03 09:09:25 -0700 (Sun, 03 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/conversations_table.c
   M /trunk/gtk/expert_comp_table.c
   M /trunk/gtk/hostlist_table.c
   M /trunk/gtk/menus.c
   M /trunk/gtk/proto_hier_stats_dlg.c
   M /trunk/gtk/service_response_time_table.c
   M /trunk/gtk/wlan_stat_dlg.c

Use UTF8_HORIZONTAL_ELLIPSIS instead of "..." in menus.

------------------------------------------------------------------------
r34347 | stig | 2010-10-03 09:37:58 -0700 (Sun, 03 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Added a missing separator.

------------------------------------------------------------------------
r34349 | etxrab | 2010-10-03 10:37:43 -0700 (Sun, 03 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

[GTKUImanager]Fix Help callbacks.
------------------------------------------------------------------------
r34350 | wmeier | 2010-10-03 11:23:46 -0700 (Sun, 03 Oct 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntlmssp.c

Refactor dissection of CHALLENGE target-info & AUTHENTICATE ntlmv2-response attributes:
 - decode all attributes as specified in MS-NLMP;
 - use common code for target-info and ntlmv2 attribute dissection;
Add filter for the "version" field;
Remove some obsolete #if 0'd code.

------------------------------------------------------------------------
r34351 | wmeier | 2010-10-03 11:51:38 -0700 (Sun, 03 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntlmssp.c

Whitespace & formatting cleanup;
Use #if 0/#endif instead of /* */ to comment out code in a few places.

------------------------------------------------------------------------
r34352 | etxrab | 2010-10-03 12:11:10 -0700 (Sun, 03 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

[GTKUImanagerFix a typo and a callback.
------------------------------------------------------------------------
r34353 | sake | 2010-10-03 12:28:05 -0700 (Sun, 03 Oct 2010) | 4 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

Add a cast to make the OSX-PPC buildbot happy.
Removed debugging commenting-out that slipped through...


------------------------------------------------------------------------
r34354 | wmeier | 2010-10-03 12:43:14 -0700 (Sun, 03 Oct 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntlmssp.c

Make a number of functions static;
Rename two g_... functions so as to not be in GLib namespace;
Move proto_register... to just before proto_reg_handoff...
Reformat some lines;
More Whitespace cleanup.

------------------------------------------------------------------------
r34355 | wmeier | 2010-10-03 12:49:15 -0700 (Sun, 03 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntlmssp.c

#if 0 an used function

------------------------------------------------------------------------
r34356 | jmayer | 2010-10-03 13:51:02 -0700 (Sun, 03 Oct 2010) | 5 lines
Changed paths:
   M /trunk/configure.in

Enable Airpcap build by default: There should be no
side effects on non-windows systems and it will increase
the common source code coverage between Win32 and other
systems.

------------------------------------------------------------------------
r34357 | sake | 2010-10-03 15:42:27 -0700 (Sun, 03 Oct 2010) | 3 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/capture-wpcap.c
   M /trunk/config.h.win32
   M /trunk/config.nmake

Make "bpf_image" available on Windows. This enables the "Compile BPF" button and "dumpcap -d" on Windows.


------------------------------------------------------------------------
r34358 | etxrab | 2010-10-03 23:16:45 -0700 (Sun, 03 Oct 2010) | 3 lines
Changed paths:
   M /trunk/plugins/profinet/packet-dcerpc-pn-io.c

From Yu Zhang:
MRP packet is not correctly parsed in PROFINET multiple write record request.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5267
------------------------------------------------------------------------
r34359 | etxrab | 2010-10-04 01:01:55 -0700 (Mon, 04 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Mark unused parameters as unused.
------------------------------------------------------------------------
r34360 | stig | 2010-10-04 01:43:15 -0700 (Mon, 04 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Added some defines to make it compile with MAIN_MENU_USE_UIMANAGER.

------------------------------------------------------------------------
r34361 | etxrab | 2010-10-04 03:36:38 -0700 (Mon, 04 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

(GUIManager)set_menu_sensitivity_old not used when MENUS_USE_UIMANAGER defined.
------------------------------------------------------------------------
r34362 | etxrab | 2010-10-04 03:48:42 -0700 (Mon, 04 Oct 2010) | 1 line
Changed paths:
   M /trunk/asn1/s1ap/S1AP-CommonDataTypes.asn
   M /trunk/asn1/s1ap/S1AP-Constants.asn
   M /trunk/asn1/s1ap/S1AP-Containers.asn
   M /trunk/asn1/s1ap/S1AP-IEs.asn
   M /trunk/asn1/s1ap/S1AP-PDU-Contents.asn
   M /trunk/asn1/s1ap/S1AP-PDU-Descriptions.asn

Update to V9.4.0 (2010-09), no change in the asn1 def's.
------------------------------------------------------------------------
r34363 | stig | 2010-10-04 04:04:13 -0700 (Mon, 04 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

Explain BPF in the tooltips for "Compile BPF".

------------------------------------------------------------------------
r34364 | etxrab | 2010-10-04 04:21:01 -0700 (Mon, 04 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

(GUIManager)set time display format(makes file load work again).
------------------------------------------------------------------------
r34365 | stig | 2010-10-04 05:19:58 -0700 (Mon, 04 Oct 2010) | 3 lines
Changed paths:
   M /trunk/gtk/export_object_smb.c

From Jose Pico via bug 5272:
Export Object SMB functionality fixes.

------------------------------------------------------------------------
r34366 | wmeier | 2010-10-04 09:46:39 -0700 (Mon, 04 Oct 2010) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pana.c

From  Yasuyuki Tanaka: Fix PANA (RFC 5191) packets are dissected incorrectly.
   (AVP length as being interpreted incorrectly).
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5183

From me: General dissector code cleanup & bug fixing:
 - Show/dissect AVP "value" for non-vendor-specific AVPs;
 - Tighten & cleanup heuristic;
 - Fix some potential overflow issues;
 - #include <stdio.h>  #include <stdlib.h> not req'd;
 - Fix some whitespace & formatting;

------------------------------------------------------------------------
r34367 | gerald | 2010-10-04 11:13:01 -0700 (Mon, 04 Oct 2010) | 2 lines
Changed paths:
   D /trunk/tools/cvsdiff-fix.py

We haven't used CVS in a good long while.

------------------------------------------------------------------------
r34368 | gerald | 2010-10-04 11:43:20 -0700 (Mon, 04 Oct 2010) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

Add a link to ask.wireshark.org.

------------------------------------------------------------------------
r34369 | jake | 2010-10-04 11:48:11 -0700 (Mon, 04 Oct 2010) | 2 lines
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_sources.xml

With the toos, drop its description as well.

------------------------------------------------------------------------
r34370 | guy | 2010-10-04 11:53:02 -0700 (Mon, 04 Oct 2010) | 3 lines
Changed paths:
   M /trunk/tools/Makefile.am

Don't attempt to put into the release tarball something that no longer
exists.

------------------------------------------------------------------------
r34371 | gerald | 2010-10-04 11:53:39 -0700 (Mon, 04 Oct 2010) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/Makefile.nmake
   M /trunk/services
   M /trunk/tools/Makefile.am
   A /trunk/tools/make-services.pl (from /trunk/tools/make-sminmpec.pl:34310)

Copy make-sminmpec.pl to make-services.pl and modify it to fetch the
IANA port-numbers file and save it to "services". Use it to update
"services".

------------------------------------------------------------------------
r34372 | gerald | 2010-10-04 13:15:48 -0700 (Mon, 04 Oct 2010) | 2 lines
Changed paths:
   M /trunk/services
   M /trunk/tools/make-services.pl

Stig pointed out that we need to exclude some entries.

------------------------------------------------------------------------
r34373 | gerald | 2010-10-04 13:47:50 -0700 (Mon, 04 Oct 2010) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/Makefile.nmake

Don't remove the services file. It isn't built in the same way that
sminmpec.c is.

------------------------------------------------------------------------
r34374 | gerald | 2010-10-04 13:52:02 -0700 (Mon, 04 Oct 2010) | 2 lines
Changed paths:
   M /trunk/tools/make-services.pl

Fix the minimum length.

------------------------------------------------------------------------
r34375 | sfisher | 2010-10-04 15:00:50 -0700 (Mon, 04 Oct 2010) | 1 line
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/tools/win-setup.sh

Stop the MS-DOS style path name warnings when compiling on Windows.
------------------------------------------------------------------------
r34376 | wmeier | 2010-10-04 15:03:07 -0700 (Mon, 04 Oct 2010) | 7 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-simulcrypt.c

From  Giuliano Fabris: Enhanced DVB Simulcrypt protocol dissector:
 "Implemented EIS <-> SCS support, (P)SIG <-> MUX support, MUX <-> CiM support
  and (P) <-> CiP support."
See: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5212

From me: (Trivial) Whitespace/indentation cleanup.

------------------------------------------------------------------------
r34377 | sfisher | 2010-10-04 15:04:49 -0700 (Mon, 04 Oct 2010) | 1 line
Changed paths:
   M /trunk/Makefile.nmake

Use spaces instead of tabs on two lines added in r34375
------------------------------------------------------------------------
r34378 | sfisher | 2010-10-04 15:53:18 -0700 (Mon, 04 Oct 2010) | 1 line
Changed paths:
   M /trunk/Makefile.nmake

Try to make r34375 work every time
------------------------------------------------------------------------
r34379 | stig | 2010-10-04 23:59:11 -0700 (Mon, 04 Oct 2010) | 4 lines
Changed paths:
   M /trunk/gtk/main_welcome.c

Split some texts on the welcome page to make "Interface List" and
"Capture Help" smaller to make room for longer filenames in the
Open Recent list.

------------------------------------------------------------------------
r34380 | morriss | 2010-10-05 06:28:57 -0700 (Tue, 05 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/export_object_smb.c

Add (a copy of) glib's g_strv_length() if we have glib < 2.6
------------------------------------------------------------------------
r34381 | morriss | 2010-10-05 08:33:07 -0700 (Tue, 05 Oct 2010) | 1 line
Changed paths:
   M /trunk/Makefile.nmake

It seems it's quite hard to set and retrieve environment variables in nmake (at least I can't figure it out).  So, just cd back to MAKEDIR after cleaning up.  This should get the buildbots going again and fix bug 5275.
------------------------------------------------------------------------
r34382 | etxrab | 2010-10-05 08:46:13 -0700 (Tue, 05 Oct 2010) | 1 line
Changed paths:
   M /trunk/config.nmake
   M /trunk/tools/win32-setup.sh
   M /trunk/tools/win64-setup.sh

Use the new GTK bundles.
------------------------------------------------------------------------
r34383 | gerald | 2010-10-05 09:32:12 -0700 (Tue, 05 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

Enable "Support packet-capture from IP TSO-enabled hardware" by default.
Like checksum offloading this seems to be common on modern systems.

------------------------------------------------------------------------
r34384 | gerald | 2010-10-05 10:57:23 -0700 (Tue, 05 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/addr_resolv.c
   M /trunk/epan/dissectors/packet-icmpv6.c

Add more information to the Info column for some ICMPv6 messages. Add a
small comment to addr_resolv.c.

------------------------------------------------------------------------
r34385 | etxrab | 2010-10-05 10:58:58 -0700 (Tue, 05 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_gm.c

From Pascal Quantin:
[NAS EPS] Fix TFT decoding when having several Packet Filters defined
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5274
------------------------------------------------------------------------
r34386 | morriss | 2010-10-05 12:53:37 -0700 (Tue, 05 Oct 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c

Fix https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5277 :

Don't pass a NULL pointer to a string to ssl_debug_printf() (which eventually
calls vfprintf()): Solaris doesn't like it when you do that.

------------------------------------------------------------------------
r34387 | stig | 2010-10-05 13:46:34 -0700 (Tue, 05 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-p_mul.c

Avoid printing double p_mul.pdu_type in custom columns.

------------------------------------------------------------------------
r34388 | gerald | 2010-10-05 15:16:29 -0700 (Tue, 05 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c

Improve the ND flag display.

------------------------------------------------------------------------
r34391 | gerald | 2010-10-05 17:26:20 -0700 (Tue, 05 Oct 2010) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

Bug 553 has been fixed.

------------------------------------------------------------------------
r34393 | etxrab | 2010-10-05 22:48:01 -0700 (Tue, 05 Oct 2010) | 3 lines
Changed paths:
   M /trunk/gtk/tcp_graph.c

From Alexander Koeppe:
New TCP Graph - Window Scaling.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5276
------------------------------------------------------------------------
r34394 | etxrab | 2010-10-06 07:33:27 -0700 (Wed, 06 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.h
   M /trunk/epan/dissectors/packet-gsm_a_dtap.c
   M /trunk/epan/dissectors/packet-nas_eps.c

From Pascal Quantin:
[NAS EPS] Add dissection of special conformance testing functions

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5278
------------------------------------------------------------------------
r34395 | wmeier | 2010-10-06 07:59:19 -0700 (Wed, 06 Oct 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mysql.c

From  Alexis La Goutte: MYSQL:  Fix FIELD_PACKET dissection;
From me: Two additional fixes for FIELD_PACKET dissection;
         Revision of the original patch from Alexis to
          properly dissect a SHOW_FIELDS response message.

------------------------------------------------------------------------
r34396 | morriss | 2010-10-06 14:19:34 -0700 (Wed, 06 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-rs_pgo.c

hf cleanup: delete a whole bunch of unused entries and make up unique names and abbreviations for others.  These could undoubtedly be improved by someone who knows the protocol.
------------------------------------------------------------------------
r34397 | morriss | 2010-10-06 14:51:07 -0700 (Wed, 06 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcom-dispatch.c
   M /trunk/epan/dissectors/packet-dcom-oxid.c
   M /trunk/epan/dissectors/packet-dcom-remact.c
   M /trunk/epan/dissectors/packet-dcom-remunkn.c
   M /trunk/epan/dissectors/packet-tn3270.c

Change a couple of hf abbreviations so they're not the name of the hf variable.
Use . as the separator (after PROTOABBREV) in the hf abbreviations.

------------------------------------------------------------------------
r34398 | morriss | 2010-10-06 14:54:01 -0700 (Wed, 06 Oct 2010) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Enable hf checks by default.  Add a check to see if the abbreviation is equal to the hf_variable_name.
------------------------------------------------------------------------
r34399 | martinm | 2010-10-07 03:17:18 -0700 (Thu, 07 Oct 2010) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

From Tobias Witek (bug 5282):

In some cases, the UMTS FP dissector currently calls upper-layer dissectors
(e.g. UMTS MAC) only when a proto-tree is present. Effectively, this causes the
RLC reassembly to fail in certain cases.

The attached patch solves the problem by slightly moving the calls to
'call_dissector()'.

------------------------------------------------------------------------
r34400 | kukosa | 2010-10-07 07:24:04 -0700 (Thu, 07 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-h245.c
   M /trunk/tools/asn2wrs.py

Generate proper extension flags for empty constructed types SEQUENCE { ... } and CHOICE { ... }
------------------------------------------------------------------------
r34401 | martinm | 2010-10-07 07:44:00 -0700 (Thu, 07 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-mac-lte.h
   M /trunk/gtk/mac_lte_stat_dlg.c

Add more CRC failure codes.

------------------------------------------------------------------------
r34402 | morriss | 2010-10-07 07:50:45 -0700 (Thu, 07 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-isns.c
   M /trunk/epan/dissectors/packet-lwres.c

White space cleanup
------------------------------------------------------------------------
r34403 | etxrab | 2010-10-07 08:23:45 -0700 (Thu, 07 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Remove #ifdef'ed code for MENUS_USE_UIMANAGER.
------------------------------------------------------------------------
r34404 | etxrab | 2010-10-07 08:58:10 -0700 (Thu, 07 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Reinsert #ifdef's removed by mistake.
------------------------------------------------------------------------
r34405 | morriss | 2010-10-07 09:40:22 -0700 (Thu, 07 Oct 2010) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Tighten the blurb regexp.  Check for leading/trailing white space in blurbs.  Check for any white space in the abbreviation.
------------------------------------------------------------------------
r34406 | morriss | 2010-10-07 09:51:25 -0700 (Thu, 07 Oct 2010) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Escape the pipe (alternation) in the display regexp.
------------------------------------------------------------------------
r34407 | wmeier | 2010-10-07 14:09:29 -0700 (Thu, 07 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tn3270.c

Define global variables ROWS, COLS, MAXROWS, MAXCOLS as static;
Also: Define a few functions as static.

------------------------------------------------------------------------
r34408 | morriss | 2010-10-07 14:10:51 -0700 (Thu, 07 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rpc.c

Restore pinfo->private_data after an exception was thrown by a subdissector.
This is necessary in case a subdissector had changed it but was unable to
restore it (due to the exception).

------------------------------------------------------------------------
r34409 | wmeier | 2010-10-07 14:11:18 -0700 (Thu, 07 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tn5250.c

Define a global variable as static.

------------------------------------------------------------------------
r34410 | wmeier | 2010-10-07 14:13:36 -0700 (Thu, 07 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-alcap.c

Define 3 global variables as static; Whitespace cleanup.

------------------------------------------------------------------------
r34411 | wmeier | 2010-10-07 14:16:52 -0700 (Thu, 07 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-csm-encaps.c
   M /trunk/epan/dissectors/packet-dcerpc-spoolss.c

Define a few global variables as static.

------------------------------------------------------------------------
r34412 | wmeier | 2010-10-07 14:23:36 -0700 (Thu, 07 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-aim-admin.c
   M /trunk/epan/dissectors/packet-aim-bos.c
   M /trunk/epan/dissectors/packet-aim-buddylist.c
   M /trunk/epan/dissectors/packet-aim-chat.c
   M /trunk/epan/dissectors/packet-aim-directory.c
   M /trunk/epan/dissectors/packet-aim-generic.c
   M /trunk/epan/dissectors/packet-aim-invitation.c
   M /trunk/epan/dissectors/packet-aim-location.c
   M /trunk/epan/dissectors/packet-aim-messaging.c
   M /trunk/epan/dissectors/packet-aim-popup.c
   M /trunk/epan/dissectors/packet-aim-signon.c
   M /trunk/epan/dissectors/packet-aim-ssi.c
   M /trunk/epan/dissectors/packet-aim-userlookup.c
   M /trunk/epan/dissectors/packet-aim.c
   M /trunk/epan/dissectors/packet-aim.h

(Minor) Rename a few variables in the global namespace to be a bit more unique;
Also: rename additional (static) variables to be consistent with the above renames.

------------------------------------------------------------------------
r34418 | morriss | 2010-10-07 17:29:17 -0700 (Thu, 07 Oct 2010) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Fix the blurb regexp (sigh)
------------------------------------------------------------------------
r34419 | guy | 2010-10-07 17:33:38 -0700 (Thu, 07 Oct 2010) | 7 lines
Changed paths:
   M /trunk/gtk/menus.c

Use #error to cause the build to fail for un-implemented stuff (such as
"GTKUIManager with the old packet list").

Replicate the "don't do silly stuff such as using Control+A for anything
other than Select All" comment near the place where the main menu is
defined if we're using GTKUIManager.

------------------------------------------------------------------------
r34420 | morriss | 2010-10-07 18:05:33 -0700 (Thu, 07 Oct 2010) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sctp.c

Catch exceptions from subdissectors, even when we're not handing the
subdissector the first fragment of a fragmented message so that an exception
in the first chunk doesn't abort dissection of subsquent chunks in the frame.

Restore pinfo->private_data after an exception was thrown by a subdissector.
This is necessary in case a subdissector had changed it but was unable to
restore it (due to the exception).

------------------------------------------------------------------------
r34421 | morriss | 2010-10-07 18:17:04 -0700 (Thu, 07 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-vlan.c

Don't use a TRY/CATCH block just to ignore any exceptions thrown by
tvb_get_ntohs(): check the remaining tvb length instead.

------------------------------------------------------------------------
r34422 | guy | 2010-10-07 18:22:54 -0700 (Thu, 07 Oct 2010) | 3 lines
Changed paths:
   M /trunk/gtk/menus.c

Move menu_items[] inside the #ifdef MAIN_MENU_USE_UIMANAGER/#else/#endif
that has the main menu stuff for when we *are* using GTKUIManager.

------------------------------------------------------------------------
r34423 | guy | 2010-10-07 18:31:47 -0700 (Thu, 07 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Clean up white space.

------------------------------------------------------------------------
r34424 | morriss | 2010-10-07 18:36:20 -0700 (Thu, 07 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ses.c

Restore private_data even if there was an exception
------------------------------------------------------------------------
r34425 | guy | 2010-10-07 18:38:12 -0700 (Thu, 07 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Move a comment next to the only item to which it now refers.

------------------------------------------------------------------------
r34426 | morriss | 2010-10-07 18:50:50 -0700 (Thu, 07 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-rpc.c
   M /trunk/epan/dissectors/packet-ses.c
   M /trunk/epan/dissectors/packet-vlan.c

Remove check_col()
------------------------------------------------------------------------
r34427 | guy | 2010-10-07 19:17:37 -0700 (Thu, 07 Oct 2010) | 3 lines
Changed paths:
   M /trunk/gtk/menus.c

set_menu_sensitivity_old() is now only used for the main menu; simplify
it accordingly.

------------------------------------------------------------------------
r34428 | guy | 2010-10-07 19:38:47 -0700 (Thu, 07 Oct 2010) | 7 lines
Changed paths:
   M /trunk/gtk/menus.c

Clean up white space.

set_menu_object_data_meat_old() is only used with main_menu_factory;
simplify it.

Add some comments to #else's and #endif's.

------------------------------------------------------------------------
r34429 | guy | 2010-10-07 20:00:54 -0700 (Thu, 07 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Fix a routine name - that menu item has nothing to do with colorization.

------------------------------------------------------------------------
r34430 | guy | 2010-10-07 20:09:15 -0700 (Thu, 07 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Make some routines unused outside gtk/menus.c static.

------------------------------------------------------------------------
r34431 | etxrab | 2010-10-07 23:05:06 -0700 (Thu, 07 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Get rid of an GUI artifact if the recent list is empty.
------------------------------------------------------------------------
r34432 | etxrab | 2010-10-08 03:51:21 -0700 (Fri, 08 Oct 2010) | 1 line
Changed paths:
   M /trunk/AUTHORS

Add Alexander Koeppe to the list.
------------------------------------------------------------------------
r34433 | martinm | 2010-10-08 04:03:08 -0700 (Fri, 08 Oct 2010) | 25 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fp_hint.c
   M /trunk/epan/dissectors/packet-rlc.c
   M /trunk/epan/dissectors/packet-umts_fp.c
   M /trunk/epan/dissectors/packet-umts_mac.c

From Tobias Witek (https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5283)

epan/dissectors/packet-umts_fp.c
* Added mac subdissector (MAC) call to HSDSCH TYPE2 frames

epan/dissectors/packet-umts_mac.c
* Added support for HSDSCH TYPE2 frames by means of
        not nibble-shifting (4 bits) the SDU if MAC-ehs is used

epan/dissectors/packet-rlc.c
* Added support for "Use special value of the HE field" (3gpp 25.332-7a0 
9.2.2.7) commonly used for Release 7 HSDPA.
        REMARK: although the specification mandates that the
        special value is only allowed when activated by higher
        layers (RRC), it is interpreted unconditionally. We assume
        this is OK, because a different use in future specifications
        is very unlikely.

epan/dissectors/packet-fp_hint.c
* Added decoding of MAC-ehs indicator for HSDSCH frames
* Bumped fpi->release from 6 to 7 to enable proper
        HSDSCH TYPE2 frame decoding in the UTMS MAC parser.
        In general, this appears not to affect decoding
        of (conformant) FP frames of pevious releases.

------------------------------------------------------------------------
r34434 | stig | 2010-10-08 04:08:36 -0700 (Fri, 08 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/new_packet_list.c

Show custom column occurrence in the packet list heading tooltips.

------------------------------------------------------------------------
r34435 | morriss | 2010-10-08 10:37:19 -0700 (Fri, 08 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gmhdr.c

Don't use a TRY/CATCH block just to ignore any exceptions thrown by
tvb_get_ntohs(): check the remaining tvb length instead.

------------------------------------------------------------------------
r34436 | morriss | 2010-10-08 10:48:22 -0700 (Fri, 08 Oct 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bgp.c
   M /trunk/epan/dissectors/packet-cisco-wids.c
   M /trunk/epan/dissectors/packet-ethertype.c
   M /trunk/epan/dissectors/packet-gssapi.c
   M /trunk/epan/dissectors/packet-ieee8023.c
   M /trunk/epan/dissectors/packet-infiniband.c
   M /trunk/epan/dissectors/packet-isl.c
   M /trunk/epan/dissectors/packet-mp2t.c
   M /trunk/epan/dissectors/packet-nbns.c
   M /trunk/epan/dissectors/packet-ntlmssp.c
   M /trunk/epan/dissectors/packet-sflow.c
   M /trunk/epan/dissectors/packet-tcp.c
   M /trunk/epan/dissectors/packet-tds.c
   M /trunk/epan/dissectors/packet-tpkt.c

Restore pinfo->private_data after an exception was thrown by a subdissector.
This is necessary in case a subdissector had changed it but was unable to
restore it (due to the exception).

Remove check_col().

------------------------------------------------------------------------
r34437 | morriss | 2010-10-08 11:11:31 -0700 (Fri, 08 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h223.c
   M /trunk/epan/dissectors/packet-ldp.c

Restore pinfo->private_data after an exception was thrown by a subdissector.
This is necessary in case a subdissector had changed it but was unable to
restore it (due to the exception).

------------------------------------------------------------------------
r34443 | stig | 2010-10-09 04:37:57 -0700 (Sat, 09 Oct 2010) | 3 lines
Changed paths:
   M /trunk/gtk/tcp_graph.c

From Alexander Koeppe via bug 5287:
Correct order of Window Scaling Graph in Graph control box.

------------------------------------------------------------------------
r34444 | stig | 2010-10-09 08:22:53 -0700 (Sat, 09 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/column.c
   M /trunk/epan/column.h
   M /trunk/epan/libwireshark.def
   M /trunk/gtk/menus.c
   M /trunk/gtk/new_packet_list.c
   M /trunk/gtk/new_packet_list.h
   M /trunk/gtk/prefs_column.c
   M /trunk/gtk/prefs_column.h

Added "Edit Column Details" functions to the packet list heading popup.
Removed "Rename Column Title" as this is moved to "Edit Column Details".

------------------------------------------------------------------------
r34445 | stig | 2010-10-09 11:37:31 -0700 (Sat, 09 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/new_packet_list.c

Prefix window title with "Wireshark".

------------------------------------------------------------------------
r34446 | stig | 2010-10-09 11:38:25 -0700 (Sat, 09 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/mac_lte_stat_dlg.c
   M /trunk/gtk/rlc_lte_stat_dlg.c

Fix menu entries.

------------------------------------------------------------------------
r34447 | stig | 2010-10-09 11:41:46 -0700 (Sat, 09 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/voip_calls_dlg.c

Fix menu entry.

------------------------------------------------------------------------
r34448 | gerald | 2010-10-10 08:03:38 -0700 (Sun, 10 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf, services and enterprise-numbers update for 2010-10-10]
------------------------------------------------------------------------
r34449 | gerald | 2010-10-10 08:42:36 -0700 (Sun, 10 Oct 2010) | 1 line
Changed paths:
   M /trunk/services

[Automatic manuf, services and enterprise-numbers update for 2010-10-10]
------------------------------------------------------------------------
r34453 | etxrab | 2010-10-10 11:10:33 -0700 (Sun, 10 Oct 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main_filter_toolbar.c
   M /trunk/gtk/menus.c
   M /trunk/gtk/menus.h

Fix up a number of callbacks.
Bug: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5288
requires abit of reworking of the callbacks or a different aproach to setting object data.
------------------------------------------------------------------------
r34454 | guy | 2010-10-10 12:05:04 -0700 (Sun, 10 Oct 2010) | 4 lines
Changed paths:
   M /trunk/gtk/menus.c

It's now "change column", not just "rename column"; fix build.

Clean up indentation.

------------------------------------------------------------------------
r34455 | etxrab | 2010-10-10 12:33:42 -0700 (Sun, 10 Oct 2010) | 9 lines
Changed paths:
   M /trunk/gtk/follow_ssl.c
   M /trunk/gtk/follow_tcp.c
   M /trunk/gtk/follow_udp.c
   M /trunk/gtk/keys.h
   M /trunk/gtk/main_filter_toolbar.h
   M /trunk/gtk/menus.c

- Fix more callbacks.

When using the GUImanager the callback signature is (GtkAction *action , gpointer user_data) which causes problems when retreiveing
object data stored with the widget such as the filter box widget.

Work around that problem by doing
	filter_cm = g_object_get_data(G_OBJECT(top_level), E_DFILTER_CM_KEY);
	filter_te = gtk_bin_get_child(GTK_BIN(filter_cm));
in the follow_udp/tcp/ssl_stream.
------------------------------------------------------------------------
r34456 | guy | 2010-10-10 12:42:30 -0700 (Sun, 10 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/follow_ssl.c

Fix build.

------------------------------------------------------------------------
r34457 | wmeier | 2010-10-10 13:03:39 -0700 (Sun, 10 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-packetbb.c

#include <epan/tfs.h> not req'd.

------------------------------------------------------------------------
r34458 | wmeier | 2010-10-10 13:07:06 -0700 (Sun, 10 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c
   M /trunk/epan/dissectors/packet-ndmp.c
   M /trunk/epan/dissectors/packet-netflow.c
   M /trunk/epan/dissectors/packet-nfs.c
   M /trunk/epan/dissectors/packet-nfs.h
   M /trunk/epan/dissectors/packet-omron-fins.c
   M /trunk/epan/dissectors/packet-radius.c
   M /trunk/epan/dissectors/packet-rsl.c
   M /trunk/epan/dissectors/packet-sasp.c
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/epan/dissectors/packet-tds.c
   M /trunk/epan/dissectors/packet-tpkt.c
   M /trunk/epan/dissectors/packet-xml.c
   M /trunk/epan/dissectors/packet-zbee-zdp.c

Define some fcns & vars as static ...

------------------------------------------------------------------------
r34459 | wmeier | 2010-10-10 13:14:34 -0700 (Sun, 10 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ncp.c
   M /trunk/epan/dissectors/packet-ncp2222.inc
   M /trunk/tools/ncp2222.py

Define some fcns & vars as static...

------------------------------------------------------------------------
r34460 | wmeier | 2010-10-10 13:19:05 -0700 (Sun, 10 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-opsi.c
   D /trunk/epan/dissectors/packet-opsi.h

Combine packet-opsi.h with packet-opsi.c (since not used elsewhere); Define some fcns as static.

------------------------------------------------------------------------
r34461 | wmeier | 2010-10-10 13:28:22 -0700 (Sun, 10 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pdcp-lte.c

Define a variable as static; Minor code simplification.

------------------------------------------------------------------------
r34462 | wmeier | 2010-10-10 13:39:00 -0700 (Sun, 10 Oct 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c
   M /trunk/epan/dissectors/packet-rmt-alc.c
   M /trunk/epan/dissectors/packet-rmt-common.c
   M /trunk/epan/dissectors/packet-rmt-common.h
   M /trunk/epan/dissectors/packet-rmt-lct.h

Minor code cleanup: 
- define some vars & fcns as static;
- remove an unused var;
- use tfs_set_notset in tfs.c;
- slightly simplify reg_handoff.

------------------------------------------------------------------------
r34463 | wmeier | 2010-10-10 13:45:19 -0700 (Sun, 10 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wsp.c
   M /trunk/epan/dissectors/packet-wsp.h
   M /trunk/epan/libwireshark.def
   M /trunk/gtk/wsp_stat.c
   M /trunk/tap-wspstat.c

Rename vals_status & vals_pdu_type to wsp_vals_status & wsp_vals_pdu_type

------------------------------------------------------------------------
r34464 | wmeier | 2010-10-10 16:28:40 -0700 (Sun, 10 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-gsm_bsslap.c
   M /trunk/epan/dissectors/packet-gsm_bssmap_le.c
   M /trunk/epan/dissectors/packet-gsm_sms.c
   M /trunk/epan/dissectors/packet-hpext.c
   M /trunk/epan/dissectors/packet-iec104.c
   M /trunk/epan/dissectors/packet-imf.c
   M /trunk/epan/dissectors/packet-isakmp.c
   M /trunk/epan/dissectors/packet-iscsi.c
   M /trunk/epan/dissectors/packet-isup.c
   M /trunk/epan/dissectors/packet-iwarp-ddp-rdmap.c
   M /trunk/epan/dissectors/packet-kerberos.c
   M /trunk/epan/dissectors/packet-ldss.c
   M /trunk/epan/dissectors/packet-llc.c
   M /trunk/epan/dissectors/packet-lldp.c
   M /trunk/epan/dissectors/packet-lwapp.c
   M /trunk/epan/dissectors/packet-meta.c
   M /trunk/epan/dissectors/packet-mikey.c
   D /trunk/epan/dissectors/packet-mikey.h
   M /trunk/epan/dissectors/packet-mip6.c
   M /trunk/epan/dissectors/packet-mtp3.c

Define some fcns & vars as static; Some #includes not req'd; packet-mikey.h not req'd.

------------------------------------------------------------------------
r34465 | wmeier | 2010-10-10 16:48:16 -0700 (Sun, 10 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-isakmp.c

#include <string.h> apparently req'd on OSX ...

------------------------------------------------------------------------
r34466 | morriss | 2010-10-10 18:28:22 -0700 (Sun, 10 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/proto.h

Add comments indicating that the DISSECTOR_ASSERT() routines should not be used to report malformed packets.
------------------------------------------------------------------------
r34467 | morriss | 2010-10-10 18:52:41 -0700 (Sun, 10 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sccp.c

hf variables can be copied/passed by value, not by reference.
------------------------------------------------------------------------
r34468 | stig | 2010-10-11 01:28:38 -0700 (Mon, 11 Oct 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main.c

Don't add a border around the main window, this looks bad in the new
Ubuntu release.

------------------------------------------------------------------------
r34469 | stig | 2010-10-11 01:29:25 -0700 (Mon, 11 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/hostlist_table.c

We set sensitivity on the map button in ct_nb_map_switch_page_cb().

------------------------------------------------------------------------
r34470 | gerald | 2010-10-11 09:01:48 -0700 (Mon, 11 Oct 2010) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/tools/win32-setup.sh
   M /trunk/tools/win64-setup.sh

Use the latest User's Guide.

------------------------------------------------------------------------
r34477 | wmeier | 2010-10-11 12:00:55 -0700 (Mon, 11 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_a.c
   M /trunk/epan/dissectors/packet-assa_r3.c
   M /trunk/epan/dissectors/packet-banana.c
   M /trunk/epan/dissectors/packet-bssgp.c
   M /trunk/epan/dissectors/packet-btl2cap.c
   M /trunk/epan/dissectors/packet-cip.c
   M /trunk/epan/dissectors/packet-cisco-sm.c
   M /trunk/epan/dissectors/packet-ctdb.c
   M /trunk/epan/dissectors/packet-e212.c
   M /trunk/epan/dissectors/packet-fc.c
   M /trunk/epan/dissectors/packet-fcdns.c
   M /trunk/epan/dissectors/packet-fcels.c
   M /trunk/epan/dissectors/packet-fcfcs.c
   M /trunk/epan/dissectors/packet-fcfzs.c
   M /trunk/epan/dissectors/packet-fcswils.c
   M /trunk/epan/dissectors/packet-gopher.c

Define some fcns & vars as static;
Minor whitespace and comments cleanup.

------------------------------------------------------------------------
r34478 | etxrab | 2010-10-11 12:29:52 -0700 (Mon, 11 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Get filter_te from top_level rather then from the widget.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5288
------------------------------------------------------------------------
r34479 | etxrab | 2010-10-11 13:05:49 -0700 (Mon, 11 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

menus.c: In function 'add_menu_recent_capture_file_absolute':
menus.c:4583: warning: unused variable 'recent_files_list'
------------------------------------------------------------------------
r34480 | morriss | 2010-10-11 13:16:35 -0700 (Mon, 11 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gmhdr.c
   M /trunk/epan/dissectors/packet-vlan.c

Fix an error in a comment I added last week.
------------------------------------------------------------------------
r34485 | guy | 2010-10-11 18:27:58 -0700 (Mon, 11 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Get rid of C++-style comments; use #if 0/#endif to remove code.

------------------------------------------------------------------------
r34486 | etxrab | 2010-10-12 00:41:18 -0700 (Tue, 12 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/main_filter_toolbar.c

It's no longer neccesarry to set the E_DFILTER_TE_KEY on the popup_menu objects.
------------------------------------------------------------------------
r34487 | wmeier | 2010-10-12 06:15:08 -0700 (Tue, 12 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/addr_resolv.c
   M /trunk/epan/addr_resolv.h
   M /trunk/epan/ipproto.c
   M /trunk/epan/libwireshark.def
   M /trunk/gtk/capture_dlg.c
   M /trunk/gtk/capture_file_dlg.c
   M /trunk/gtk/file_dlg_win32.c
   M /trunk/gtk/main.c
   M /trunk/gtk/manual_addr_resolv.c
   M /trunk/gtk/menus.c
   M /trunk/gtk/prefs_nameres.c
   M /trunk/rawshark.c
   M /trunk/tshark.c

Rename g_resolv_flags --> gbl_resolv_flags; Also: cleanup some whitespace & indentation.

------------------------------------------------------------------------
r34488 | wmeier | 2010-10-12 09:05:19 -0700 (Tue, 12 Oct 2010) | 6 lines
Changed paths:
   M /trunk/gtk/mcast_stream.c
   M /trunk/gtk/mcast_stream.h
   M /trunk/gtk/mcast_stream_dlg.c
   M /trunk/gtk/mcast_stream_dlg.h

Minor cleanup of the global namespace:
- Define some fcns and vars as static;
- Use less generic names for certain externs;
Also: Remove some usused #defines & cleanup some whitespace


------------------------------------------------------------------------
r34489 | wmeier | 2010-10-12 09:42:02 -0700 (Tue, 12 Oct 2010) | 5 lines
Changed paths:
   M /trunk/gtk/color_dlg.c
   M /trunk/gtk/color_dlg.h
   M /trunk/gtk/color_edit_dlg.c
   M /trunk/gtk/color_edit_dlg.h

Minor cleanup of the global name space:
- Define some vars as static;
- Rename some externs to be less generic;
Also: cleanup some whitespace.

------------------------------------------------------------------------
r34490 | wmeier | 2010-10-12 10:39:44 -0700 (Tue, 12 Oct 2010) | 4 lines
Changed paths:
   M /trunk/gtk/capture_if_dlg.c
   M /trunk/gtk/diameter_stat.c
   M /trunk/gtk/export_object_smb.c
   M /trunk/gtk/fileset_dlg.c
   M /trunk/gtk/firewall_dlg.c
   M /trunk/gtk/font_utils.c
   M /trunk/gtk/gui_utils.c
   M /trunk/gtk/main.c
   M /trunk/gtk/main_proto_draw.c
   M /trunk/gtk/packet_history.c

Define some fcns & vars as static;
Rename g_capture_in_progress to gbl_capture_in_progress (capture_if_dlg.c)
Do some whitespace cleanup.

------------------------------------------------------------------------
r34491 | guy | 2010-10-12 11:25:42 -0700 (Tue, 12 Oct 2010) | 4 lines
Changed paths:
   M /trunk/capture-wpcap.c
   M /trunk/epan/plugins.c
   M /trunk/epan/plugins.h

Fix comments (not all platforms on which we run support dlopen(), but
GLib handles that with g_module_open() as a platform-independent "load a
module at run time" wrapper).

------------------------------------------------------------------------
r34492 | wmeier | 2010-10-12 12:26:07 -0700 (Tue, 12 Oct 2010) | 3 lines
Changed paths:
   M /trunk/capture_info.c
   M /trunk/color_filters.c
   M /trunk/fileset.c
   M /trunk/gtk/prefs_dlg.c
   M /trunk/gtk/rtp_player.c
   M /trunk/gtk/sctp_chunk_stat_dlg.c
   M /trunk/gtk/sctp_graph_dlg.c
   M /trunk/gtk/wlan_stat_dlg.c

Define some vars & fcns as static;
Also: do some minor reformmating and cleanup of whitespace.

------------------------------------------------------------------------
r34493 | etxrab | 2010-10-12 14:33:08 -0700 (Tue, 12 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

(GUIManager) Base code to get recent files to work with GUIManager.
Based on code from http://people.gnome.org/~ebassi/recent-uimanager-inline.c by Emmanuele Bassi.
------------------------------------------------------------------------
r34495 | etxrab | 2010-10-12 21:29:07 -0700 (Tue, 12 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Try to get the build going again.
------------------------------------------------------------------------
r34496 | etxrab | 2010-10-13 04:15:11 -0700 (Wed, 13 Oct 2010) | 1 line
Changed paths:
   M /trunk/Makefile.am
   M /trunk/gtk/stock_icons.c
   M /trunk/gtk/stock_icons.h
   A /trunk/image/WiresharkDoc_24.xpm

Add a wireshark file stock icon.
------------------------------------------------------------------------
r34497 | etxrab | 2010-10-13 04:22:23 -0700 (Wed, 13 Oct 2010) | 4 lines
Changed paths:
   M /trunk/gtk/menus.c

(GTKUImanger)
- Make use of the new WIRESHARK_FILE_STOCK icon.
- Make clearing of recent files work.
- Make the recent file list in the Welcome menu work again.
------------------------------------------------------------------------
r34498 | etxrab | 2010-10-13 08:52:10 -0700 (Wed, 13 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

(GTKUImanger)
- Open file from the welocme screen.
------------------------------------------------------------------------
r34499 | wmeier | 2010-10-13 09:47:13 -0700 (Wed, 13 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-q708.c
   M /trunk/epan/dissectors/packet-q708.h

Use val_to_str_ext_const for refs to the extended value strings;
Extern the extended value strings struct (not the value_string arrays themselves) so
 any external use of these arrays is via the extended value string functions.

------------------------------------------------------------------------
r34500 | wmeier | 2010-10-13 10:56:05 -0700 (Wed, 13 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-conv.c
   M /trunk/epan/dissectors/packet-dcerpc-dce122.c
   M /trunk/epan/dissectors/packet-dcerpc-dce122.h
   M /trunk/epan/dissectors/packet-dcerpc-dtsprovider.c
   M /trunk/epan/dissectors/packet-dcerpc-fileexp.c
   M /trunk/epan/dissectors/packet-dcerpc-fldb.c
   M /trunk/epan/dissectors/packet-dcerpc-rs_pgo.c

Use extended value string functions to access dce_error_vals (which has 4397 entries)

------------------------------------------------------------------------
r34501 | wmeier | 2010-10-13 11:51:23 -0700 (Wed, 13 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c
   M /trunk/epan/dissectors/packet-e212.c
   M /trunk/epan/dissectors/packet-e212.h

Access several large value-string arrays via extended value-string functions.

------------------------------------------------------------------------
r34502 | etxrab | 2010-10-13 12:04:14 -0700 (Wed, 13 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

From Jörg Mayer:
(UIManger) Fix compilation warnings.
------------------------------------------------------------------------
r34503 | gerald | 2010-10-13 14:30:27 -0700 (Wed, 13 Oct 2010) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-radiotap.c

From Johannes Berg via bug 4421:

radiotap: re-indent

The current file has very strange mix of various
indentation sometimes using spaces and sometimes
using tabs which is rather hard to keep intact,
so reindent it completely.

------------------------------------------------------------------------
r34504 | morriss | 2010-10-13 18:10:51 -0700 (Wed, 13 Oct 2010) | 11 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-pptp.c

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5295 :

Hi a patch to enchance the PPTP Dissector
It is a rework of PPTP dissector 
- Replace proto_tree_add_text by proto_tree_add_item 
- Replace not standard table and function by standard value_string
- ....

The code is checked and fuzzed (more 200 pass) ! with personnal PPTP Sample and
PPTP Sample from pcapr.net

------------------------------------------------------------------------
r34505 | morriss | 2010-10-13 18:44:27 -0700 (Wed, 13 Oct 2010) | 11 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

From Fulko Hew via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4615 :

The attached patch adds the missing decoded fields
by moving the proto_tree_add_item() call so that it
is no longer within an error handler and will be
called under normal circumstances (as well as error conditions.


From me: Apply the change to the ASN.1 source.  Also some white space
indentation cleanup.

------------------------------------------------------------------------
r34507 | wmeier | 2010-10-13 21:53:07 -0700 (Wed, 13 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/proto.c

Fix crash for 'tshark -G values' when printing "extended value string" value.
Fixes bug #5296 [ https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5296 ]

------------------------------------------------------------------------
r34508 | etxrab | 2010-10-14 00:55:42 -0700 (Thu, 14 Oct 2010) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml

Fix AVP:s
------------------------------------------------------------------------
r34511 | guy | 2010-10-14 01:59:35 -0700 (Thu, 14 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/file_dlg_win32.c

Make routines unused outside file_dlg_win32.c static.

------------------------------------------------------------------------
r34512 | guy | 2010-10-14 02:01:12 -0700 (Thu, 14 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/file_dlg_win32.c

Make variables used only in file_dlg_win32.c static.

------------------------------------------------------------------------
r34513 | stig | 2010-10-14 06:11:03 -0700 (Thu, 14 Oct 2010) | 8 lines
Changed paths:
   M /trunk/epan/proto.c

Support multiple header fields with the same abbreviation in custom columns.

We have some different fields using the same abbreviation (e.g "eth.dst"
used in both eth and tte), and this patch will fetch values from all fields.
When using occurrences the entries listed first is from the field registered
last when starting Wireshark, and not ordered from the occurrence in the
packet, but I don't see how we can easily fix this.

------------------------------------------------------------------------
r34514 | wmeier | 2010-10-14 10:50:35 -0700 (Thu, 14 Oct 2010) | 6 lines
Changed paths:
   M /trunk/doc/README.developer
   M /trunk/epan/dfilter/semcheck.c
   M /trunk/epan/dissectors/packet-diameter.c
   M /trunk/epan/libwireshark.def
   M /trunk/epan/proto.c
   M /trunk/epan/value_string.c
   M /trunk/epan/value_string.h
   M /trunk/gtk/dfilter_expr_dlg.c

Rework "extended value strings":
- Allow direct access when a range of values begins with a value other than 0;
- Provide value_string_ext_new() for creating extended value strings at runtime;
- Do access to value_string_ext members via a macro (all but value_string.c);
- Update documentation.

------------------------------------------------------------------------
r34515 | gerald | 2010-10-14 10:56:06 -0700 (Thu, 14 Oct 2010) | 16 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-radiotap-defs.h
   A /trunk/epan/dissectors/packet-radiotap-iter.c
   A /trunk/epan/dissectors/packet-radiotap-iter.h
   M /trunk/epan/dissectors/packet-radiotap.c

From Johannes Berg via bug 4421:

radiotap: new parser

The current parser has a number of bugs, most
importantly not being able to parse radiotap
files with multiple presence bitmaps. It is
also rather hard extend. Use a generic library
for parsing radiotap that can be extended very
easily.


From me:

Dumb down some initializers and add some casts to make Visual C++ happy.

------------------------------------------------------------------------
r34516 | gerald | 2010-10-14 11:09:57 -0700 (Thu, 14 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-radiotap.c

Tighten up our data rate check. This should fix bug 5280 (mostly).

------------------------------------------------------------------------
r34517 | stig | 2010-10-14 11:13:39 -0700 (Thu, 14 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt

Added packet-radiotap-iter.c

------------------------------------------------------------------------
r34519 | stig | 2010-10-15 01:39:48 -0700 (Fri, 15 Oct 2010) | 2 lines
Changed paths:
   M /trunk/asn1/acse/acse.cnf
   M /trunk/epan/dissectors/packet-acse.c

Added info column descriptions for AARQ and AARE.

------------------------------------------------------------------------
r34520 | stig | 2010-10-15 04:10:20 -0700 (Fri, 15 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Avoid getting BoundsError when trying to decode OCTET STRING or
unknown primitive as constructed ASN.1 BER encoded data.

------------------------------------------------------------------------
r34522 | gerald | 2010-10-15 09:05:06 -0700 (Fri, 15 Oct 2010) | 7 lines
Changed paths:
   M /trunk/doc/rawshark.pod
   M /trunk/rawshark.c

Revision 27919 added the ability to feed a libpcap-formatted file to
rawshark but broke the ability to feed it live packets with a
pcap_pkthdr prefix on some 64-bit architectures.

Add a "-p" flag which lets us explicitly handle file-based or
memory-based packet record headers.

------------------------------------------------------------------------
r34523 | morriss | 2010-10-15 10:10:29 -0700 (Fri, 15 Oct 2010) | 10 lines
Changed paths:
   M /trunk/plugins/profinet/packet-dcerpc-pn-io.c

From ToddS via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5299 :

In profinet plugin, there is a dissection based on whether the read data
returned is expected to contain a single or multiple blocks. Currently, the
I&M0FilterData case assumes only a single block is returned. Profinet specifies
two optional additional blocks.

This change moves I&M0FilterData to expect multiple blocks to correct decode
the optional information.

------------------------------------------------------------------------
r34524 | morriss | 2010-10-15 10:17:04 -0700 (Fri, 15 Oct 2010) | 9 lines
Changed paths:
   M /trunk/plugins/profinet/packet-pn-mrp.c

From ToddS via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5300 :

In the profinet plugin, the decoding of the MRP LinkUp and MRP LinkDown
messages is missing the MRP_SA field which garbles the decode of the rest of
the packet.

This fix adds the decoding of the MRP_SA field to the MRP LinkUp and MRP
LinkDown dissectors.

------------------------------------------------------------------------
r34525 | morriss | 2010-10-15 10:48:35 -0700 (Fri, 15 Oct 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pptp.c

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5295 :

Use macros for message type values and add an expert info for an incorrect
Magic Cookie.

------------------------------------------------------------------------
r34526 | martinm | 2010-10-15 11:41:12 -0700 (Fri, 15 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Add volatile in several places to gcc warnings.

------------------------------------------------------------------------
r34527 | jmayer | 2010-10-15 14:02:30 -0700 (Fri, 15 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-telnet.c

Make the telnet data lines filterable elements.

------------------------------------------------------------------------
r34528 | martinm | 2010-10-15 14:07:45 -0700 (Fri, 15 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c

Track and give link back to frame containing previous NACK.

------------------------------------------------------------------------
r34529 | martinm | 2010-10-15 14:32:35 -0700 (Fri, 15 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Improve info column when showing PHY info for MAC frames.

------------------------------------------------------------------------
r34530 | stig | 2010-10-17 04:48:40 -0700 (Sun, 17 Oct 2010) | 6 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-coap.c

From Shoichi Sakane via bug 5270:
Added COAP protocol support.

From me:
Made the port number configurable.

------------------------------------------------------------------------
r34531 | stig | 2010-10-17 04:59:10 -0700 (Sun, 17 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-per.c

From Pascal Quantin via bug 5301:
Add expert info when ASN.1 PER constrained integer does not match range.

------------------------------------------------------------------------
r34532 | stig | 2010-10-17 05:20:25 -0700 (Sun, 17 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-coap.c

coap_handle is only used in proto_reg_handoff_coap.

------------------------------------------------------------------------
r34533 | stig | 2010-10-17 06:59:46 -0700 (Sun, 17 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tte-pcf.c

From Benjamin Roch via bug 3418:
Added string values to tte.pcf.type.

------------------------------------------------------------------------
r34534 | stig | 2010-10-17 07:02:06 -0700 (Sun, 17 Oct 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tte.c

From Benjamin Roch via bug 3418:
Use eth.src, eth.dst and eth.type from the ethernet dissector.

From me:
Removed unused code inside #if 0.

------------------------------------------------------------------------
r34535 | etxrab | 2010-10-17 07:04:59 -0700 (Sun, 17 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c

From Pascal Quantin:
[NAS EPS] Enhance dissection of APN-AMBR IE

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5304
------------------------------------------------------------------------
r34536 | stig | 2010-10-17 07:07:05 -0700 (Sun, 17 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-per.c

From Pascal Quantin via bug 5301:
Make the PER constaints check like in the BER dissector.

------------------------------------------------------------------------
r34537 | stig | 2010-10-17 07:30:11 -0700 (Sun, 17 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Fixed typo in "SSI Noise (dBm)" abbrev.

------------------------------------------------------------------------
r34538 | gerald | 2010-10-17 08:03:47 -0700 (Sun, 17 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf
   M /trunk/services

[Automatic manuf, services and enterprise-numbers update for 2010-10-17]
------------------------------------------------------------------------
r34540 | stig | 2010-10-17 09:33:28 -0700 (Sun, 17 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-btamp.c

Fixed typo in "Reason" abbrev.

------------------------------------------------------------------------
r34541 | stig | 2010-10-17 09:36:32 -0700 (Sun, 17 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sasp.c

Removed unused hf_sasp.

------------------------------------------------------------------------
r34542 | stig | 2010-10-17 09:38:15 -0700 (Sun, 17 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-xcsl.c

Removed unused hf_xcsl.

------------------------------------------------------------------------
r34543 | stig | 2010-10-17 09:43:07 -0700 (Sun, 17 Oct 2010) | 2 lines
Changed paths:
   M /trunk/plugins/ethercat/packet-ecatmb.c

Removed unused hf_ecat_mailbox.

------------------------------------------------------------------------
r34544 | stig | 2010-10-17 09:49:10 -0700 (Sun, 17 Oct 2010) | 2 lines
Changed paths:
   M /trunk/plugins/profinet/packet-pn-dcp.c
   M /trunk/plugins/profinet/packet-pn-ptcp.c

Removed unused hf_pn_dcp and hf_pn_ptcp.

------------------------------------------------------------------------
r34546 | stig | 2010-10-17 11:16:44 -0700 (Sun, 17 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cip.c

Removed unused entries.

------------------------------------------------------------------------
r34547 | stig | 2010-10-17 11:33:50 -0700 (Sun, 17 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_sms.c

Use correct abbrev for fragment entries.

------------------------------------------------------------------------
r34548 | jmayer | 2010-10-17 13:28:20 -0700 (Sun, 17 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-eth.c

Add expert info if the eth src mac has the I/G bit set
------------------------------------------------------------------------
r34549 | stig | 2010-10-17 13:57:11 -0700 (Sun, 17 Oct 2010) | 2 lines
Changed paths:
   M /trunk/plugins/docsis/packet-bintrngreq.c
   M /trunk/plugins/docsis/packet-bpkmattr.c
   M /trunk/plugins/docsis/packet-bpkmreq.c
   M /trunk/plugins/docsis/packet-bpkmrsp.c
   M /trunk/plugins/docsis/packet-dsaack.c
   M /trunk/plugins/docsis/packet-dsareq.c
   M /trunk/plugins/docsis/packet-dsarsp.c
   M /trunk/plugins/docsis/packet-dscack.c
   M /trunk/plugins/docsis/packet-dscreq.c
   M /trunk/plugins/docsis/packet-dscrsp.c
   M /trunk/plugins/docsis/packet-dsdreq.c
   M /trunk/plugins/docsis/packet-dsdrsp.c
   M /trunk/plugins/docsis/packet-intrngreq.c
   M /trunk/plugins/docsis/packet-macmgmt.c
   M /trunk/plugins/docsis/packet-map.c
   M /trunk/plugins/docsis/packet-mdd.c
   M /trunk/plugins/docsis/packet-regack.c
   M /trunk/plugins/docsis/packet-regreq.c
   M /trunk/plugins/docsis/packet-regreqmp.c
   M /trunk/plugins/docsis/packet-regrsp.c
   M /trunk/plugins/docsis/packet-regrspmp.c
   M /trunk/plugins/docsis/packet-rngreq.c
   M /trunk/plugins/docsis/packet-rngrsp.c
   M /trunk/plugins/docsis/packet-sync.c
   M /trunk/plugins/docsis/packet-tlv.c
   M /trunk/plugins/docsis/packet-uccreq.c
   M /trunk/plugins/docsis/packet-uccrsp.c
   M /trunk/plugins/docsis/packet-vendor.c

Remove some unused hf entries.

------------------------------------------------------------------------
r34550 | stig | 2010-10-18 00:13:45 -0700 (Mon, 18 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-coap.c

Added some length checks for integers.

This fixes bug 5305.

------------------------------------------------------------------------
r34551 | stig | 2010-10-18 00:41:47 -0700 (Mon, 18 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-radiotap.c

Remove blurbs equal to name.

------------------------------------------------------------------------
r34552 | etxrab | 2010-10-18 01:56:51 -0700 (Mon, 18 Oct 2010) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml

Remove "Obsolete" as it may be confusing in erarlier applications.
------------------------------------------------------------------------
r34553 | wmeier | 2010-10-18 06:21:04 -0700 (Mon, 18 Oct 2010) | 2 lines
Changed paths:
   M /trunk/tools/fuzz-test.sh

Add fuzz-test option (-C) to specify a configuration profile.

------------------------------------------------------------------------
r34554 | morriss | 2010-10-18 06:24:10 -0700 (Mon, 18 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-radiotap-defs.h
   M /trunk/epan/dissectors/packet-radiotap-iter.h

Add SVN:Id tag.
------------------------------------------------------------------------
r34555 | morriss | 2010-10-18 06:26:35 -0700 (Mon, 18 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-radiotap-iter.c
   M /trunk/epan/dissectors/packet-radiotap-iter.h

Add SVN:Id tag. Copy copyright notice to the header file.
------------------------------------------------------------------------
r34556 | etxrab | 2010-10-18 08:40:51 -0700 (Mon, 18 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

(GTKUImanger)
- Make Open file from the welocme screen work again.
------------------------------------------------------------------------
r34557 | morriss | 2010-10-18 08:56:06 -0700 (Mon, 18 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-diameter.c

Use port range for SCTP too.
------------------------------------------------------------------------
r34558 | wmeier | 2010-10-18 09:15:12 -0700 (Mon, 18 Oct 2010) | 8 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-etch.c

From Holger Grandy: ETCH dissector
  See: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5095

From me: Fix a bug in add_symbol which caused occasional Wireshark crashes;
         Add additional checking during parse of symbol hash file;
         Improve "directory not found" error message;
         Do misc code cleanup and simplification.

------------------------------------------------------------------------
r34559 | martinm | 2010-10-18 10:02:19 -0700 (Mon, 18 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Don't clear info column when showing MAC or RLC-level info.

------------------------------------------------------------------------
r34560 | wmeier | 2010-10-18 10:46:12 -0700 (Mon, 18 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-coap.c

Remove some unneeded #includes ...

------------------------------------------------------------------------
r34561 | wmeier | 2010-10-18 11:37:07 -0700 (Mon, 18 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-etch.c

Try to fix compile errors on 64 bit systems.

------------------------------------------------------------------------
r34562 | etxrab | 2010-10-18 12:19:27 -0700 (Mon, 18 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c
   M /trunk/gtk/menus.h

(GUIManager) Make opening a recent file work from the recent files menu.
------------------------------------------------------------------------
r34563 | morriss | 2010-10-18 13:52:54 -0700 (Mon, 18 Oct 2010) | 12 lines
Changed paths:
   M /trunk/file.c

Fix progress bar when loading compressed files.

Continue to use the data offset ((uncompressed) bytes read) as our progress
indicator, at least until we get a progress value greater than 1.0.  Then,
in addition to checking if the size of the file changed, check our position in
the file and use that as our progress indicator.

This optimizes uncompressed file accesses (avoiding an lseek()) at the "expense"
of switching progress measures (from data read to position in the file) while
loading a file.  Tests have shown that the progress bar never shows the data
offset number when loading a compressed file, so this should be okay.

------------------------------------------------------------------------
r34564 | morriss | 2010-10-18 14:36:41 -0700 (Mon, 18 Oct 2010) | 1 line
Changed paths:
   M /trunk/file.c

Fix the win64 build
------------------------------------------------------------------------
r34565 | morriss | 2010-10-18 14:55:56 -0700 (Mon, 18 Oct 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-etch.c

Don't use g_strcmp0(): it only exists in glib > 2.16.

Make read_length() static.

Start function names at column 0.

------------------------------------------------------------------------
r34566 | stig | 2010-10-18 23:58:08 -0700 (Mon, 18 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-coap.c

Init ett_coap_noop, another fix for bug 5305.

------------------------------------------------------------------------
r34567 | martinm | 2010-10-19 02:19:53 -0700 (Tue, 19 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/mac_lte_stat_dlg.c

Fix problem with creating filter expressions (where stats window is limited by existing filter).

------------------------------------------------------------------------
r34568 | morriss | 2010-10-19 06:30:40 -0700 (Tue, 19 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-coap.c

From Shoichi Sakane via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5270 :

Remove some unused hf variables.

------------------------------------------------------------------------
r34569 | wmeier | 2010-10-19 07:31:05 -0700 (Tue, 19 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-etch.c

Use dynamically created value_string_ext to store hash/symbol value_strings;
Also: minor code reformatting and re-arrangement.

------------------------------------------------------------------------
r34570 | etxrab | 2010-10-19 08:21:05 -0700 (Tue, 19 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-diameter.c

From Tamás Regõs:
Make application ID readable from sub dissectors.
------------------------------------------------------------------------
r34571 | wmeier | 2010-10-19 09:13:48 -0700 (Tue, 19 Oct 2010) | 5 lines
Changed paths:
   M /trunk/text2pcap.c

Change dummy MAC addresses so we don't get Wireshark expert message:
"[...] Source MAC must not be a group address: IEEE 802.3-2002, Section 3.2.3(b)"
Specifically: use 0a:01:01:01:01:01 and 0a:02:02:02;02:02 (and dummy IP addresses
10.1.1.1 and 10.2.2.2).

------------------------------------------------------------------------
r34572 | wmeier | 2010-10-19 10:43:52 -0700 (Tue, 19 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-diameter.c

Remove some #if 0'd code I left in by mistake a while back....

------------------------------------------------------------------------
r34573 | etxrab | 2010-10-19 11:28:00 -0700 (Tue, 19 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gre.c

From Alexis La Goutte:
GRE Enhancements

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5314
------------------------------------------------------------------------
r34574 | etxrab | 2010-10-19 11:28:29 -0700 (Tue, 19 Oct 2010) | 4 lines
Changed paths:
   M /trunk/AUTHORS

From Alexis La Goutte:
GRE Enhancements

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5314
------------------------------------------------------------------------
r34575 | etxrab | 2010-10-19 12:19:42 -0700 (Tue, 19 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-zcl.c

From Fred Fierling:
Infinite loop in ZCL Discover Attributes dissection

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5303
------------------------------------------------------------------------
r34576 | wmeier | 2010-10-19 17:36:53 -0700 (Tue, 19 Oct 2010) | 3 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-netflow.c
   M /trunk/wiretap/AUTHORS
   M /trunk/wiretap/CMakeLists.txt
   M /trunk/wiretap/Makefile.common
   M /trunk/wiretap/file_access.c
   A /trunk/wiretap/ipfix.c
   A /trunk/wiretap/ipfix.h
   M /trunk/wiretap/wtap.c
   M /trunk/wiretap/wtap.h

From Hadriel Kaplan: IPFIX file format support.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5242

------------------------------------------------------------------------
r34577 | wmeier | 2010-10-19 17:47:23 -0700 (Tue, 19 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-etch.c

Use DISSECTOR_ASSERT (not g_assert) in dissectors...

------------------------------------------------------------------------
r34578 | wmeier | 2010-10-19 18:15:12 -0700 (Tue, 19 Oct 2010) | 2 lines
Changed paths:
   M /trunk/wiretap/README.developer

From Hadriel Kaplan: Update wiretap/README.developer

------------------------------------------------------------------------
r34579 | morriss | 2010-10-19 18:23:32 -0700 (Tue, 19 Oct 2010) | 13 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-icmpv6.c
   M /trunk/epan/dissectors/packet-ipv6.h

From Colin O'Flynn and Owen Kirby via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5266 :

The attached patch begins to add support for RPL to the ICMPv6 file. All
locations that RPL code have been added are marked with a comment allowing this
patch to be reverted at a future time if it is decided to e.g. move all the RPL
code to it's own dissector.

A few values await IANA assignment and are also clearly marked (in
packet-ipv6.h). 

Only the 'metric' option is left unsupported, as it is primarily defined in
another I-D.

------------------------------------------------------------------------
r34580 | morriss | 2010-10-19 18:37:03 -0700 (Tue, 19 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c

Use while loops instead of goto's.
------------------------------------------------------------------------
r34581 | morriss | 2010-10-19 18:49:32 -0700 (Tue, 19 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ldss.c

Fix SE memory corruption reported in  https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5318 :

Ensure the digest is smaller than our buffer before copying it.

------------------------------------------------------------------------
r34582 | martinm | 2010-10-20 02:58:40 -0700 (Wed, 20 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

In heuristic dissector, don't check/allocate struct until/unless signature pattern matches.

------------------------------------------------------------------------
r34583 | stig | 2010-10-20 03:37:11 -0700 (Wed, 20 Oct 2010) | 2 lines
Changed paths:
   M /trunk/packaging/macosx/osx-app.sh

Copy GDK pixbuf loaders libs to the Wireshark.app.

------------------------------------------------------------------------
r34584 | martinm | 2010-10-20 05:08:22 -0700 (Wed, 20 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c

Add longer desriptions of SOStart and SOEnd fields.

------------------------------------------------------------------------
r34585 | etxrab | 2010-10-20 05:40:13 -0700 (Wed, 20 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_rr.c

From Vincent Helfre:
various bug fix and enhancement for Release 8 additionnal parameters.
------------------------------------------------------------------------
r34586 | wmeier | 2010-10-20 08:14:56 -0700 (Wed, 20 Oct 2010) | 2 lines
Changed paths:
   M /trunk/wiretap/file_access.c

Fix a typo in a comment

------------------------------------------------------------------------
r34587 | morriss | 2010-10-20 09:49:21 -0700 (Wed, 20 Oct 2010) | 15 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-aruba-papi.c

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5270 :

Add dissector for PAPI (Aruba AP Control Protocol), used by Aruba WLAN
Controller).
There is no documentation on this protocol, the dissector is based on my
analysis ...

There is also an experimental "debug dissector" (not enable by default) for
dissecting the rest of data.

Changes by me:
- make it a new-style dissector
- change the name of the "debug" preference
- other minor changes

------------------------------------------------------------------------
r34588 | wmeier | 2010-10-20 10:07:55 -0700 (Wed, 20 Oct 2010) | 3 lines
Changed paths:
   M /trunk/wiretap/ascendtext.c

Fix bug which caused ascend_open() to return "I/O error" (instead of "not me").
(This happened if ascend_open was called with *err != 0).

------------------------------------------------------------------------
r34589 | wmeier | 2010-10-20 10:20:56 -0700 (Wed, 20 Oct 2010) | 5 lines
Changed paths:
   M /trunk/wiretap/ipfix.c
   M /trunk/wiretap/ipfix.h

From Jeff Morriss: Fix crash: WTAP_ERR_BAD_RECORD error return needs to fill in *err_info.
From me: For ipfix_open() don't actually return with *err=WTAP_ERR_BAD_RECORD.
Also: Move #define RECORDS_FOR_IPFIX_CHECK to ipfix.c from ipfix.h since
      the definition is only used in ipfix.c.

------------------------------------------------------------------------
r34590 | morriss | 2010-10-20 11:00:25 -0700 (Wed, 20 Oct 2010) | 1 line
Changed paths:
   M /trunk/doc/rawshark.pod
   M /trunk/doc/tshark.pod
   M /trunk/doc/wireshark.pod.template

Add IPFIX_RECORDS_TO_CHECK to the environment variable section.
------------------------------------------------------------------------
r34591 | wmeier | 2010-10-20 11:14:49 -0700 (Wed, 20 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-aruba-papi.c

(Minor): pretfs callback not req'd; 
         Move call to data dissector undet 'if(tree)' so same value of
          offset used whether or not 'tree == NULL'.

------------------------------------------------------------------------
r34592 | morriss | 2010-10-20 13:40:53 -0700 (Wed, 20 Oct 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-coap.c

From Shoichi Sakane via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5270 :

I made a patch to support more COAP options.
some options includes variable length field.

------------------------------------------------------------------------
r34593 | etxrab | 2010-10-20 13:41:39 -0700 (Wed, 20 Oct 2010) | 1 line
Changed paths:
   M /trunk/config.nmake

Prepartaions to use GTK 2.22
------------------------------------------------------------------------
r34594 | etxrab | 2010-10-20 13:49:30 -0700 (Wed, 20 Oct 2010) | 1 line
Changed paths:
   M /trunk/config.nmake

Target system changed by mistake.
------------------------------------------------------------------------
r34595 | etxrab | 2010-10-20 13:50:39 -0700 (Wed, 20 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-zcl.c

From Fred Fierling:
Cleanup of unnecessary tree == NULL checks in ZCL dissector

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5321
------------------------------------------------------------------------
r34597 | morriss | 2010-10-20 17:37:40 -0700 (Wed, 20 Oct 2010) | 9 lines
Changed paths:
   M /trunk/epan/wslua/wslua_dumper.c

From Holger Freyther via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5320 :

Doing a Dumper:close() and then forcing the dumper to be garbage collected will
cause a segfault.

The code attempts to handle the GC that could follow but fails to do it
properly. Assigning Dumper dp = NULL will only have an affect within the scope
of this method... Assumingly this should be a *dp = NULL.

------------------------------------------------------------------------
r34598 | morriss | 2010-10-20 17:54:58 -0700 (Wed, 20 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/wslua/wslua_dumper.c

Fix up indentation to get it consistent and other minor cleanup issues.
------------------------------------------------------------------------
r34599 | morriss | 2010-10-20 19:50:27 -0700 (Wed, 20 Oct 2010) | 6 lines
Changed paths:
   M /trunk/epan/wslua/init_wslua.c
   M /trunk/epan/wslua/wslua_dumper.c
   M /trunk/epan/wslua/wslua_field.c
   M /trunk/epan/wslua/wslua_gui.c
   M /trunk/epan/wslua/wslua_listener.c
   M /trunk/epan/wslua/wslua_pinfo.c
   M /trunk/epan/wslua/wslua_proto.c
   M /trunk/epan/wslua/wslua_tree.c
   M /trunk/epan/wslua/wslua_tvb.c
   M /trunk/epan/wslua/wslua_util.c

Make the indentation consistent.
Pull function names to column 0 - except when necessary for autoregistration.
Put function comments before the function.
For readability, put the macros for functions before the function too.
Put class functions before the class.

------------------------------------------------------------------------
r34600 | morriss | 2010-10-20 20:04:15 -0700 (Wed, 20 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-coap.c

From Shoichi Sakane via bug 5270: minor changes and remove an unused hf variable.
------------------------------------------------------------------------
r34601 | stig | 2010-10-21 00:13:43 -0700 (Thu, 21 Oct 2010) | 2 lines
Changed paths:
   M /trunk/dumpcap.c
   M /trunk/gtk/main.c
   M /trunk/rawshark.c
   M /trunk/tshark.c
   M /trunk/version_info.c
   M /trunk/version_info.h

Fixed "Compiled with" information in the About box.

------------------------------------------------------------------------
r34602 | morriss | 2010-10-21 05:41:15 -0700 (Thu, 21 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/wslua/init_wslua.c
   M /trunk/epan/wslua/wslua_dumper.c
   M /trunk/epan/wslua/wslua_field.c
   M /trunk/epan/wslua/wslua_gui.c
   M /trunk/epan/wslua/wslua_listener.c
   M /trunk/epan/wslua/wslua_pinfo.c
   M /trunk/epan/wslua/wslua_proto.c
   M /trunk/epan/wslua/wslua_tree.c
   M /trunk/epan/wslua/wslua_tvb.c
   M /trunk/epan/wslua/wslua_util.c

Aw, man, I knew this code was parsed, but I missed the docbook part.  Revert 34598 and 34599.
------------------------------------------------------------------------
r34603 | morriss | 2010-10-21 07:23:22 -0700 (Thu, 21 Oct 2010) | 1 line
Changed paths:
   M /trunk/wiretap/ipfix.c

Fix a cut-n-pasteo in a comment.
------------------------------------------------------------------------
r34604 | morriss | 2010-10-21 09:08:29 -0700 (Thu, 21 Oct 2010) | 6 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-ppp.c

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5325 :

It is a rework of PAP PPP dissector 
- Replace proto_tree_add_text by proto_tree_add_item 
- add col_append_fstr to show information (Peer-ID, Password...)

------------------------------------------------------------------------
r34605 | jake | 2010-10-21 12:01:35 -0700 (Thu, 21 Oct 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c

From Robert Wynn:
CableLabs has added additional TLV's to DHCP Option 60 Modem capabilities
reporting for their Docsis 2.0 devices.  Additionally, in Docsis 3.0, they have
moved the capabilities portion of Option 60 (sub-option 5) to now reside in the
vendor specific Option 125 using their Enterprise number (4491).

------------------------------------------------------------------------
r34606 | wmeier | 2010-10-21 12:13:57 -0700 (Thu, 21 Oct 2010) | 12 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-ldp.c

From Srinivasa Pradeep: LDP dissector: Add/update PseudoWire TLV suport.

 RFC 4447 describes new TLV called Generalised PWid FEC in LDP messages with the
 id 0x81. This is related to PsuedoWire setup and maintenance.
 Related to this, following are the TLVs which are defined in RFC 4447 and RFC 4446.
 1. PW Status TLV
 2. PW Interface parameters
 3. PW Group TLV

From me: remove some unused variables; Mark fcn arg as unused.


------------------------------------------------------------------------
r34607 | morriss | 2010-10-21 13:51:06 -0700 (Thu, 21 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rpc.c

After calling a subdissector, set a fence on COL_INFO so whatever the
subdissector put in the Info column stays there.

------------------------------------------------------------------------
r34608 | morriss | 2010-10-21 14:02:07 -0700 (Thu, 21 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c

Add some casts to get the Windows builds going.
------------------------------------------------------------------------
r34609 | jake | 2010-10-21 14:02:10 -0700 (Thu, 21 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-teklink.c

From Sven Schnelle:
Add dissector for Tektronix Teklink Protocol, used by their Logic Analyzers.
May be useful for reverse engineering their Protocol.

------------------------------------------------------------------------
r34610 | wmeier | 2010-10-21 14:21:26 -0700 (Thu, 21 Oct 2010) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ldp.c

Cleanup:
- Reindent source; cleanup whitespace;
- Remove many unneeded 'if(tree)' & similar (Tnx to Jeff Morriss for the suggestion);
- remove unneeded initializers;
- Reformat some long lines;
- Fix up some comments showing message layout;
- Localize two static global variables.

------------------------------------------------------------------------
r34611 | morriss | 2010-10-21 15:41:39 -0700 (Thu, 21 Oct 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-coap.c

From Shoichi Sakane via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5270 :

Update to use add the time as a filterable field and other cosmetic changes.

From me: exp2() seems to be C99 so #if the use of it out.

------------------------------------------------------------------------
r34612 | morriss | 2010-10-21 18:37:06 -0700 (Thu, 21 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ldp.c

Replace blurb that matches the field name with NULL
------------------------------------------------------------------------
r34613 | etxrab | 2010-10-21 22:15:25 -0700 (Thu, 21 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c
   M /trunk/epan/dissectors/packet-smb.h
   M /trunk/epan/dissectors/packet-windows-common.c
   M /trunk/epan/dissectors/packet-windows-common.h
   M /trunk/epan/libwireshark.def

From CaL Turney:
Add support for well-known SIDs/RIDs and option to display in hex.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5286
------------------------------------------------------------------------
r34614 | etxrab | 2010-10-21 22:43:12 -0700 (Thu, 21 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/Makefile.nmake

If the html dir exist remove it and its subdirectories.
------------------------------------------------------------------------
r34615 | etxrab | 2010-10-21 22:47:01 -0700 (Thu, 21 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

packet-smb.c:890: warning: data definition has no type or storage class
------------------------------------------------------------------------
r34616 | etxrab | 2010-10-21 23:26:42 -0700 (Thu, 21 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-windows-common.c

C++ style comments in packet-windows-common.c
------------------------------------------------------------------------
r34617 | stig | 2010-10-21 23:42:55 -0700 (Thu, 21 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-windows-common.c

Fixed printing guint64 variables.
Removed unused variables.

------------------------------------------------------------------------
r34618 | stig | 2010-10-21 23:47:00 -0700 (Thu, 21 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/wslua/wslua_pinfo.c

From Regis Cridlig via bug 5326:
The Lua text string passed to column:set(text) by a dissector will eventually
be reclaimed. This causes the column to display incorrect characters.

------------------------------------------------------------------------
r34619 | stig | 2010-10-22 03:48:14 -0700 (Fri, 22 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-windows-common.c

Corrected check for end of well_known_sids.

This fixes bug 5328.

------------------------------------------------------------------------
r34620 | etxrab | 2010-10-22 06:35:03 -0700 (Fri, 22 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_rr.c

From Vincent Helfre:
Some improvements for the presentations.
------------------------------------------------------------------------
r34621 | wmeier | 2010-10-22 08:00:37 -0700 (Fri, 22 Oct 2010) | 2 lines
Changed paths:
   M /trunk/doc/README.developer

Add some info about extended value string to section 1.7.1

------------------------------------------------------------------------
r34622 | morriss | 2010-10-22 08:08:32 -0700 (Fri, 22 Oct 2010) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-prp.c

From Tobias Klauservia https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5327 :

The current PRP dissector in packet-prp.c does not correctly identify VLAN
tags. It uses the hard coded value 0x8000 to check the ethertype.

The attached patch (against current SVN trunk) changes this to use the
ETHERTYPE_VLAN define from epan/etypes.h and also fixes two misspellings in the
respective comments.

------------------------------------------------------------------------
r34623 | morriss | 2010-10-22 10:54:08 -0700 (Fri, 22 Oct 2010) | 7 lines
Changed paths:
   M /trunk/tools/checkhf.pl

Fix detection of hf entries being used in the hf array where the opening brace
is on the preceding line.  There was code here to do it but it needed to be
moved inside the preceding 'else' (in particular, before the 'next' sent us
around the loop again).

The bug was noticed by Alexis La Goutte in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5329 

------------------------------------------------------------------------
r34624 | morriss | 2010-10-22 11:05:50 -0700 (Fri, 22 Oct 2010) | 17 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ppp.c

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5329 :

Find a patch who clean up PPP dissector
* Remove check_col (from my previous patch #5325)
* Remove the #define ppp_min (unused) 
* Remove some unused ett_* 
* Cleanup NO ARRAY entry (it is a false positive of checkhf tool, it is need {
(in the same line) before a hf_... in hf_register_info struct
* Cleanup Unused entry in VSNP Dissector ( it's really strange, there is no
check when the code was added #4434 ;) )
* minor bug fix...

From me: put one of the check_col()'s (that also protects a val_to_str() call)
back in.

Note: the checkhf tool bug was fixed in rev 34623.

------------------------------------------------------------------------
r34625 | wmeier | 2010-10-22 11:13:42 -0700 (Fri, 22 Oct 2010) | 17 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-bacapp.c

From Lori Tribble: Add vendor identifier dissector access to BACnet Private Transfer Msgs

 BACnet has a private transfer service which is vendor specific.  The start of
 each request and response contains the vendor identifier.  I've added a way for
 vendors to provide their own dissectors by registering their vendor identifier.
 The packet-bacapp.c method fConfirmedPrivateTransfer has been modified to look
 for a vendor specified dissector.  If found it will be run.  If not found we
 default to running the standard dissection included in packet-bacapp.c.

 I modified the summary column display for private transfer messages so that the
 summary now displays the Vendor Identifier (V=xx) and the Service Number (SN=xx).

 https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5250

From me: Rename sub-dissector tablle to "bacapp.vendor_identifier"
         Change subdissector ui_name to "BACapp Vendor Identifier"

------------------------------------------------------------------------
r34626 | wmeier | 2010-10-23 08:45:12 -0700 (Sat, 23 Oct 2010) | 2 lines
Changed paths:
   M /trunk/file.c

(Trivial) Fix a typo in a comment.

------------------------------------------------------------------------
r34627 | etxrab | 2010-10-24 03:04:29 -0700 (Sun, 24 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-6lowpan.c
   M /trunk/epan/dissectors/packet-ieee802154.c
   M /trunk/epan/dissectors/packet-ieee802154.h
   M /trunk/epan/dissectors/packet-zbee-aps.c
   M /trunk/epan/dissectors/packet-zbee-aps.h
   M /trunk/epan/dissectors/packet-zbee-nwk.c
   M /trunk/epan/dissectors/packet-zbee-nwk.h
   M /trunk/epan/dissectors/packet-zbee-security.c
   M /trunk/epan/dissectors/packet-zbee-security.h
   M /trunk/epan/dissectors/packet-zbee.h

From Fred Fierling:
Multi-key Support and Extended Address Mapping for ZigBee Dissectors
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5331
------------------------------------------------------------------------
r34628 | etxrab | 2010-10-24 04:53:15 -0700 (Sun, 24 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-nwk.c

Try to fix:
packet-zbee-nwk.c:260: error: static declaration of ‘zbee_table_link_keyring’ follows non-static declaration
------------------------------------------------------------------------
r34629 | etxrab | 2010-10-24 07:02:31 -0700 (Sun, 24 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee802154.c
   M /trunk/epan/dissectors/packet-ieee802154.h

error: ‘ieee802154_short_addr_invalidate’ declared ‘static’ but never defined
 error: ‘ieee802154_long_addr_invalidate’ declared ‘static’ but never defined
------------------------------------------------------------------------
r34630 | etxrab | 2010-10-24 07:15:04 -0700 (Sun, 24 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-aps.c

Clean up a few proto_add_bytes calls.
------------------------------------------------------------------------
r34631 | gerald | 2010-10-24 08:03:37 -0700 (Sun, 24 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf
   M /trunk/services

[Automatic manuf, services and enterprise-numbers update for 2010-10-24]
------------------------------------------------------------------------
r34632 | wmeier | 2010-10-24 08:18:43 -0700 (Sun, 24 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wps.c

From Jouni Malinen: Add support for new WSC 2.0 attributes and values
 https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5196

------------------------------------------------------------------------
r34633 | etxrab | 2010-10-24 08:22:44 -0700 (Sun, 24 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-6lowpan.c
   M /trunk/epan/dissectors/packet-ieee802154.c
   M /trunk/epan/dissectors/packet-ieee802154.h
   M /trunk/epan/dissectors/packet-zbee-aps.c
   M /trunk/epan/dissectors/packet-zbee-aps.h
   M /trunk/epan/dissectors/packet-zbee-nwk.c
   M /trunk/epan/dissectors/packet-zbee-nwk.h
   M /trunk/epan/dissectors/packet-zbee-security.c
   M /trunk/epan/dissectors/packet-zbee-security.h
   M /trunk/epan/dissectors/packet-zbee.h

Back out 34627 and friends again.
------------------------------------------------------------------------
r34634 | wmeier | 2010-10-24 08:39:36 -0700 (Sun, 24 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wps.c

(Minor) Some whitespace cleanup.

------------------------------------------------------------------------
r34636 | etxrab | 2010-10-24 09:14:01 -0700 (Sun, 24 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Fix "More unused warnings in new menu code" based on code from Jörg Mayer.
------------------------------------------------------------------------
r34638 | etxrab | 2010-10-24 11:08:07 -0700 (Sun, 24 Oct 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

#if 0 "Work in progress" code
------------------------------------------------------------------------
r34639 | morriss | 2010-10-24 17:57:41 -0700 (Sun, 24 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-windows-common.c

Remove trailing space in field name.
------------------------------------------------------------------------
r34640 | morriss | 2010-10-24 18:43:54 -0700 (Sun, 24 Oct 2010) | 20 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-adwin-config.c
   A /trunk/epan/dissectors/packet-adwin.c

From Thomas Boehne via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5324 :

The company I work for uses two proprietary protocols, for which I initially
developed  wireshark plugins. Now we would like to integrate them into the
public wireshark repository. 

I followed the READMEs and converted the plugins into a static dissectors. I
cleaned up the code until checkAPI.pl was silent, translated all terms to
english and ran randpkt and fuzz-testing for a long time. All that I found was
a bug in a different dissector.

From me:
- Fold the header files into the dissectors
- Clean up some memory leaks
- Strengthen the heuristics of adwin-config (the TCP heuristics are still pretty
  weak)
- Make packet-adwin.c a "new style" dissector 
- Use find_or_create_conversation()
- Remove most of the check_col()'s

------------------------------------------------------------------------
r34641 | morriss | 2010-10-24 19:17:41 -0700 (Sun, 24 Oct 2010) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-http.c

From Yaniv Kaul via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5336 :

Attached patch:
1. Adds port 5985 as a HTTP traffic port (used by MS Powershell remoting over
HTTP)
2. Adds dissection of Kerberos authentication to HTTP.


------------------------------------------------------------------------
r34642 | wmeier | 2010-10-25 09:40:45 -0700 (Mon, 25 Oct 2010) | 6 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-ieee80211.c
   A /trunk/epan/dissectors/packet-wifi-p2p.c
   A /trunk/epan/dissectors/packet-wifi-p2p.h
   M /trunk/epan/oui.h

From Jouni Malinen: preliminary version of Wi-Fi P2P (Wi-Fi Direct) dissector.
 https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5196

From me: Add packet-wifi-p2p.h to Makefile.common DISSECTOR_INCLUDES
         Add dissectors/packet-wifi-p2p.c to epan/CMakelists.txt

------------------------------------------------------------------------
r34643 | wmeier | 2010-10-25 09:43:48 -0700 (Mon, 25 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/oui.h

Change "4 space tabs" to spaces.

------------------------------------------------------------------------
r34644 | morriss | 2010-10-25 10:17:52 -0700 (Mon, 25 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-adwin-config.c

From Pascal Quantin: don't accept packets unless they're over TCP or UDP.
------------------------------------------------------------------------
r34645 | morriss | 2010-10-25 11:24:59 -0700 (Mon, 25 Oct 2010) | 1 line
Changed paths:
   M /trunk/services

Set svn:keywords and svn:eol-style
------------------------------------------------------------------------
r34646 | etxrab | 2010-10-25 13:13:00 -0700 (Mon, 25 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-aps.c
   M /trunk/epan/dissectors/packet-zbee-security.c

Minor cleanup, use proto_add_item().
------------------------------------------------------------------------
r34647 | etxrab | 2010-10-25 22:42:24 -0700 (Mon, 25 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-6lowpan.c
   M /trunk/epan/dissectors/packet-ieee802154.c
   M /trunk/epan/dissectors/packet-ieee802154.h
   M /trunk/epan/dissectors/packet-zbee-aps.c
   M /trunk/epan/dissectors/packet-zbee-aps.h
   M /trunk/epan/dissectors/packet-zbee-nwk.c
   M /trunk/epan/dissectors/packet-zbee-nwk.h
   M /trunk/epan/dissectors/packet-zbee-security.c
   M /trunk/epan/dissectors/packet-zbee-security.h
   M /trunk/epan/dissectors/packet-zbee.h

From Fred Fierling:
Multi-key Support and Extended Address Mapping for ZigBee Dissectors
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5331
------------------------------------------------------------------------
r34648 | etxrab | 2010-10-25 23:13:42 -0700 (Mon, 25 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-security.c

Try to fix the build
------------------------------------------------------------------------
r34649 | etxrab | 2010-10-25 23:48:09 -0700 (Mon, 25 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee802154.c

g_int64_hash is first available in Glib 2.22
(This needs a proper fixr)
This is just to get the build going again.
------------------------------------------------------------------------
r34650 | etxrab | 2010-10-26 00:38:22 -0700 (Tue, 26 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-nwk.c

g_int64_hash is first available in Glib 2.22  (This needs a proper fixr)  This is just to get the build going again.
------------------------------------------------------------------------
r34651 | guy | 2010-10-26 01:31:16 -0700 (Tue, 26 Oct 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee802154.c
   M /trunk/epan/dissectors/packet-ieee802154.h

You may not use g_int64_hash() or g_int64_equal(), as they are not
present in the minimum version of GLib that we support.  Create a
ieee802154_long_addr structure for long addresses, create hash
routines for those addresses, and use them.

------------------------------------------------------------------------
r34652 | etxrab | 2010-10-26 04:26:28 -0700 (Tue, 26 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-nwk.c

- Get rid of check_col and sizeof
------------------------------------------------------------------------
r34653 | etxrab | 2010-10-26 05:43:40 -0700 (Tue, 26 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee802154.h
   M /trunk/epan/dissectors/packet-zbee-nwk.c

Follow up on:
You may not use g_int64_hash() or g_int64_equal(), as they are not  present in the minimum version of GLib that we support.  Create a  ieee802154_long_addr structure for long addresses, create hash  routines for those addresses, and use them.

Export and use those routines.
------------------------------------------------------------------------
r34654 | morriss | 2010-10-26 17:42:02 -0700 (Tue, 26 Oct 2010) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-adwin-config.c

From Thomas Boehne via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5324 :

As mentioned before, the heuristics used by packet-adwin-config were weak for
UDP packets. This patch creates a stronger heuristic by checking if one of the
MAC addresses in the UDP packets is in the range assigned to the manufacturer
of the devices that use this protocol (or if it is a broadcast).

That should be relatively safe to do because the protocol is rarely used in
routed networks.

------------------------------------------------------------------------
r34655 | morriss | 2010-10-26 18:43:24 -0700 (Tue, 26 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/prefs.c

If we get a syntax error reading the preferences file, tell which preference we were reading when we got the error.
------------------------------------------------------------------------
r34656 | etxrab | 2010-10-26 22:30:01 -0700 (Tue, 26 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-aps.c

From Fred Fierling:
Found a bug in the changes from sizeof -> numeric.
------------------------------------------------------------------------
r34657 | jake | 2010-10-26 23:48:39 -0700 (Tue, 26 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-multipart.c

Supply an entry to use for unknown multipart subtype.

------------------------------------------------------------------------
r34658 | jake | 2010-10-26 23:49:18 -0700 (Tue, 26 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-http.c

Try to decode the unknown multipart subtype anyway.

------------------------------------------------------------------------
r34659 | jake | 2010-10-26 23:49:39 -0700 (Tue, 26 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

Try to decode the unknown multipart subtype anyway.

------------------------------------------------------------------------
r34660 | stig | 2010-10-27 00:44:26 -0700 (Wed, 27 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def
   M /trunk/epan/nstime.c
   M /trunk/epan/nstime.h

Added two new functions: nstime_diff() and nstime_subtract().

------------------------------------------------------------------------
r34661 | stig | 2010-10-27 00:45:31 -0700 (Wed, 27 Oct 2010) | 4 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Calculate correct io->start_time.

This fixes bug 5340.

------------------------------------------------------------------------
r34662 | morriss | 2010-10-27 11:26:54 -0700 (Wed, 27 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dtls.c

Fix the reassembly assertion reported in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=3881 :

Ensure the fragment bytes exist before passing them to the reassembly code.

------------------------------------------------------------------------
r34663 | morriss | 2010-10-27 14:08:49 -0700 (Wed, 27 Oct 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

Fix the disssector assertion reported in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=3877 :

The rest of the code assumes that sip can be NULL, so don't assert when it's
not.

Also make fid_cmp() static since it's only used in this module.

------------------------------------------------------------------------
r34664 | jake | 2010-10-27 14:11:46 -0700 (Wed, 27 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ccsds.c

From Matt Parrisimo:
Calculate packet length and checksum.

------------------------------------------------------------------------
r34665 | etxrab | 2010-10-28 07:33:55 -0700 (Thu, 28 Oct 2010) | 3 lines
Changed paths:
   M /trunk/wiretap/erf.c

From Stephen Donnelly:
Wireshark tools do not detect and read some ERF files correctly
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5344
------------------------------------------------------------------------
r34666 | etxrab | 2010-10-28 08:06:48 -0700 (Thu, 28 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_gm.c

From Pascal Quantin:
[NAS EPS] Fix TFT decoding in case of "delete packet filters from existing TFT" operation

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5347
------------------------------------------------------------------------
r34673 | gerald | 2010-10-28 09:29:39 -0700 (Thu, 28 Oct 2010) | 6 lines
Changed paths:
   M /trunk/config.nmake

From g.khueny via bug 5346:

If PYTHON_DIR is specificed in config.nmake the variable will be overritten by
PYTHON_DIR=C:\Python$(PYTHON_VER). 
It looks like the problem was created by revision 34246.

------------------------------------------------------------------------
r34677 | morriss | 2010-10-28 09:46:38 -0700 (Thu, 28 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-adwin-config.c
   M /trunk/epan/dissectors/packet-adwin.c

Use ENC_BIG_ENDIAN and ENC_LITTLE_ENDIAN
------------------------------------------------------------------------
r34679 | morriss | 2010-10-28 09:54:04 -0700 (Thu, 28 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-adwin-config.c
   M /trunk/epan/dissectors/packet-adwin.c

Use ENC_NA too
------------------------------------------------------------------------
r34680 | morriss | 2010-10-28 10:33:18 -0700 (Thu, 28 Oct 2010) | 6 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-mongo.c

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5290 :

A patch to add support of Mongo Wire Protocol (Used by MongoDB)

From me: use ENC_xxx in proto_tree_add_item() calls.

------------------------------------------------------------------------
r34681 | morriss | 2010-10-28 11:37:41 -0700 (Thu, 28 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-mtp3.c
   M /trunk/epan/dissectors/packet-mtp3mg.c

Use ENC_LITTLE_ENDIAN and ENC_NA.
------------------------------------------------------------------------
r34682 | morriss | 2010-10-28 11:49:40 -0700 (Thu, 28 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-mtp3.c
   M /trunk/epan/dissectors/packet-mtp3mg.c

Copy hf variables by value, not by reference.
------------------------------------------------------------------------
r34684 | morriss | 2010-10-29 08:15:26 -0700 (Fri, 29 Oct 2010) | 4 lines
Changed paths:
   M /trunk/tools/checkhf.pl

Say that an hf_ variable is used if we find "variable = hf_variable".
Add some debug statements.
Tweak one regexp to catch more hf_ variable uses.

------------------------------------------------------------------------
r34685 | etxrab | 2010-10-29 08:19:47 -0700 (Fri, 29 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Add cause values.
------------------------------------------------------------------------
r34686 | morriss | 2010-10-29 08:44:11 -0700 (Fri, 29 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mongo.c

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5290 :

RequestID and ResponseID are unsigned.  Show them in hex and decimal.

------------------------------------------------------------------------
r34687 | cmaynard | 2010-10-29 08:57:47 -0700 (Fri, 29 Oct 2010) | 2 lines
Changed paths:
   M /trunk/packaging/portableapps/win32/Installer.nsi

Use Wireshark installer icon for portable apps installer.  Fixes bug 4374.

------------------------------------------------------------------------
r34688 | wmeier | 2010-10-29 10:42:24 -0700 (Fri, 29 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mongo.c

(Trivial) Do 'find_dissector("data");' only once.


------------------------------------------------------------------------
r34689 | wmeier | 2010-10-29 10:48:39 -0700 (Fri, 29 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c
   M /trunk/epan/dissectors/packet-scsi-smc.c
   M /trunk/epan/dissectors/packet-scsi.c
   M /trunk/epan/dissectors/packet-scsi.h

Use value_string_ext to access several "relatively large" value-strings.

------------------------------------------------------------------------
r34690 | wmeier | 2010-10-29 11:33:21 -0700 (Fri, 29 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb-pipe.c

Use value_string_ext to access 'commands' value_string.

------------------------------------------------------------------------
r34691 | stig | 2010-10-29 12:48:51 -0700 (Fri, 29 Oct 2010) | 3 lines
Changed paths:
   M /trunk/gtk/uat_gui.c

Added a Copy button in UAT dialogs.
Fixed setting sensitivity when having a selected row.

------------------------------------------------------------------------
r34692 | wmeier | 2010-10-29 13:22:02 -0700 (Fri, 29 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c
   M /trunk/epan/dissectors/packet-smb.h
   M /trunk/epan/dissectors/packet-smb2.c
   M /trunk/epan/dissectors/packet-smb2.h
   M /trunk/epan/libwireshark.def
   M /trunk/gtk/smb2_stat.c
   M /trunk/gtk/smb_stat.c
   M /trunk/tap-smbstat.c

Use value_string_ext fcns to access certain value_string arrays.

------------------------------------------------------------------------
r34693 | stig | 2010-10-29 13:54:08 -0700 (Fri, 29 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/uat_gui.c

Added a cast from size_t to unsigned int.

------------------------------------------------------------------------
r34694 | guy | 2010-10-29 14:11:33 -0700 (Fri, 29 Oct 2010) | 3 lines
Changed paths:
   M /trunk/asn1/ess/packet-ess-template.c
   M /trunk/epan/dfilter/dfilter-macro.c
   M /trunk/epan/dissectors/packet-ber.c
   M /trunk/epan/dissectors/packet-ess.c
   M /trunk/epan/dissectors/packet-http.c
   M /trunk/epan/dissectors/packet-k12.c
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-sccp.c
   M /trunk/epan/dissectors/packet-user_encap.c
   M /trunk/epan/dissectors/packet-zbee-security.c
   M /trunk/epan/geoip_db.c
   M /trunk/epan/oids.c
   M /trunk/epan/uat.h
   M /trunk/gtk/uat_gui.c

Make the third argument to a UAT copy callback a size_t (not that any of
the callbacks we have use that argument - is it really needed?).

------------------------------------------------------------------------
r34695 | stig | 2010-10-29 14:51:59 -0700 (Fri, 29 Oct 2010) | 2 lines
Changed paths:
   M /trunk/asn1/pres/packet-pres-template.c
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-pres.c
   M /trunk/epan/dissectors/packet-snmp.c

Make the third argument to a UAT copy callback a size_t.

------------------------------------------------------------------------
r34696 | stig | 2010-10-29 14:55:04 -0700 (Fri, 29 Oct 2010) | 3 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

One more:
Make the third argument to a UAT copy callback a size_t.

------------------------------------------------------------------------
r34697 | wmeier | 2010-10-29 15:01:29 -0700 (Fri, 29 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/value_string.c

Improve g_warning text slightly.

------------------------------------------------------------------------
r34698 | morriss | 2010-10-29 15:09:31 -0700 (Fri, 29 Oct 2010) | 9 lines
Changed paths:
   M /trunk/epan/prefs-int.h
   M /trunk/epan/prefs.c
   M /trunk/epan/prefs.h
   M /trunk/epan/range.c
   M /trunk/epan/range.h

Fix https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4768 :

Return an error if the user specifies a value in a range in excess of the
range-specified maximum.

Except when reading in preferences files which might have ranges that exceed
the maximum (because we didn't use to check): in that case silently lower the
out-of-range values.

------------------------------------------------------------------------
r34699 | wmeier | 2010-10-29 15:18:44 -0700 (Fri, 29 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dtls.c
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/epan/dissectors/packet-ssl-utils.h
   M /trunk/epan/dissectors/packet-ssl.c

Use value_string_ext fcns to access two value-string arrays;
Reorder value-string arrays slightly so they are in ascending order.

------------------------------------------------------------------------
r34700 | gerald | 2010-10-29 15:31:45 -0700 (Fri, 29 Oct 2010) | 3 lines
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_tools.xml

You can build portable packages with Express Edition compilers. You just
have to install the CRT package on the target machine.

------------------------------------------------------------------------
r34701 | cmaynard | 2010-10-29 15:37:31 -0700 (Fri, 29 Oct 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-asf.c
   M /trunk/epan/dissectors/packet-ipmi-session.c
   M /trunk/epan/dissectors/packet-rmcp.c

Fixes bug 974 by adding RSP trailer.  Also resolves packet-asp "FIXME" for
IANA Enterprise ID as well as extended packet-asp decoding of authentication
and integrity payloads using the sample capture file attached to the bug.
Fuzz tested ~500 passes on that 3 packet capture file.

------------------------------------------------------------------------
r34702 | cmaynard | 2010-10-29 16:05:55 -0700 (Fri, 29 Oct 2010) | 2 lines
Changed paths:
   M /trunk/tools/fuzz-test.sh

Added -b and -C options to usage.

------------------------------------------------------------------------
r34703 | morriss | 2010-10-29 16:30:36 -0700 (Fri, 29 Oct 2010) | 9 lines
Changed paths:
   M /trunk/gtk/recent.c

Fix https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4768 :

Return an error if the user specifies a value in a range in excess of the
range-specified maximum.

Except when reading in preferences files which might have ranges that exceed
the maximum (because we didn't use to check): in that case silently lower the
out-of-range values.

------------------------------------------------------------------------
r34704 | guy | 2010-10-29 16:58:38 -0700 (Fri, 29 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-asf.c

It never rejects a packet, so it's not a "new-style" dissector.

------------------------------------------------------------------------
r34705 | cmaynard | 2010-10-29 18:09:17 -0700 (Fri, 29 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-asf.c

Fixed checkAPIs.pl warning, which I forgot to run earlier.  Ugh.

------------------------------------------------------------------------
r34706 | wmeier | 2010-10-29 19:38:44 -0700 (Fri, 29 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipmi-session.c

 It never rejects a packet, so it's not a "new-style" dissector.
(Similar to SVN #34704).

------------------------------------------------------------------------
r34707 | guy | 2010-10-29 20:34:29 -0700 (Fri, 29 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-asf.c

The ASF dissector should be a new-style dissector, so its caller knows
how much of the packet data it's consumed - but that means the dissector
handle for it must be created with new_create_dissector_handle().

------------------------------------------------------------------------
r34708 | cmaynard | 2010-10-29 21:29:19 -0700 (Fri, 29 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipmi-session.c

Should be a "new-style" dissector because its caller expects it to be now, but
need to create the dissector handle using new_create_dissector_handle().
(Similar to SVN #34707).

------------------------------------------------------------------------
r34709 | stig | 2010-10-30 04:43:11 -0700 (Sat, 30 Oct 2010) | 3 lines
Changed paths:
   M /trunk/gtk/uat_gui.c

Redissect packets instead of reload file on UAT changes.
This way we can do changes while capturing.

------------------------------------------------------------------------
r34710 | morriss | 2010-10-30 05:48:29 -0700 (Sat, 30 Oct 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-coap.c

Fix the randpkt assertion reported in  https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5348 :

Always pass a length of 1 to proto_tree_add_item() for the ctype (this fixes
the assertion).  If the length indicated in the message is not 1, add an
expert info.

------------------------------------------------------------------------
r34711 | morriss | 2010-10-30 06:23:58 -0700 (Sat, 30 Oct 2010) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Make the hf_ checks errors (they've been running clean for a while now anyway).
------------------------------------------------------------------------
r34712 | etxrab | 2010-10-30 07:29:20 -0700 (Sat, 30 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-http.c

From Robert Bullen:
Improve the HTTP dissection of the Response Status Line.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5338
------------------------------------------------------------------------
r34713 | morriss | 2010-10-30 07:35:05 -0700 (Sat, 30 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-atsvc.c
   M /trunk/epan/dissectors/packet-dcerpc-dfs.c
   M /trunk/epan/dissectors/packet-dcerpc-dnsserver.c
   M /trunk/epan/dissectors/packet-dcerpc-dssetup.c
   M /trunk/epan/dissectors/packet-dcerpc-efs.c
   M /trunk/epan/dissectors/packet-dcerpc-eventlog.c
   M /trunk/epan/dissectors/packet-dcerpc-frstrans.c
   M /trunk/epan/dissectors/packet-dcerpc-initshutdown.c
   M /trunk/epan/dissectors/packet-dcerpc-lsa.c
   M /trunk/epan/dissectors/packet-dcerpc-mapi.c
   M /trunk/epan/dissectors/packet-dcerpc-nspi.c
   M /trunk/epan/dissectors/packet-dcerpc-rfr.c
   M /trunk/epan/dissectors/packet-dcerpc-samr.c
   M /trunk/epan/dissectors/packet-dcerpc-srvsvc.c
   M /trunk/epan/dissectors/packet-dcerpc-winreg.c
   M /trunk/epan/dissectors/packet-dcerpc-wkssvc.c
   M /trunk/epan/dissectors/packet-dcerpc-wzcsvc.c

Add an SVN Id to these PIDL-generated dissectors.  A patch to PIDL will be sent upstream to the Samba developers.
------------------------------------------------------------------------
r34714 | wmeier | 2010-10-30 07:48:21 -0700 (Sat, 30 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-slowprotocols.c

Use value_string_ext to access one of the value-string arrays.
Whitespace cleanup.

------------------------------------------------------------------------
r34715 | etxrab | 2010-10-30 07:48:46 -0700 (Sat, 30 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Jouni Malinen:
Add an item for IEEE 802.11 vendor specific subtypes.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4971
------------------------------------------------------------------------
r34716 | wmeier | 2010-10-30 08:10:30 -0700 (Sat, 30 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-asf.c

Minor reformatting and whitespace cleanup.

------------------------------------------------------------------------
r34717 | morriss | 2010-10-30 09:00:30 -0700 (Sat, 30 Oct 2010) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c
   M /trunk/epan/dissectors/packet-bthci_acl.c
   M /trunk/epan/dissectors/packet-btl2cap.c
   M /trunk/epan/packet.c
   M /trunk/epan/packet.h
   M /trunk/epan/reassemble.c
   M /trunk/epan/reassemble_test.c
   M /trunk/print.c

Rev 29427 added packet_add_new_data_source() with a comment indicating that
the data source does not need to be allocated if (!tree).

Rev 30158 took the if (!tree) check out indicating that the check was invalid.

So: (since packet_add_new_data_source() now only calls add_new_data_source()),
remove packet_add_new_data_source().

------------------------------------------------------------------------
r34718 | morriss | 2010-10-30 09:29:23 -0700 (Sat, 30 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-atsvc.h
   M /trunk/epan/dissectors/packet-dcerpc-dfs.h
   M /trunk/epan/dissectors/packet-dcerpc-dnsserver.h
   M /trunk/epan/dissectors/packet-dcerpc-dssetup.h
   M /trunk/epan/dissectors/packet-dcerpc-efs.h
   M /trunk/epan/dissectors/packet-dcerpc-eventlog.h
   M /trunk/epan/dissectors/packet-dcerpc-frstrans.h
   M /trunk/epan/dissectors/packet-dcerpc-initshutdown.h
   M /trunk/epan/dissectors/packet-dcerpc-lsa.h
   M /trunk/epan/dissectors/packet-dcerpc-mapi.h
   M /trunk/epan/dissectors/packet-dcerpc-nspi.h
   M /trunk/epan/dissectors/packet-dcerpc-rfr.h
   M /trunk/epan/dissectors/packet-dcerpc-samr.h
   M /trunk/epan/dissectors/packet-dcerpc-srvsvc.h
   M /trunk/epan/dissectors/packet-dcerpc-winreg.h
   M /trunk/epan/dissectors/packet-dcerpc-wkssvc.h
   M /trunk/epan/dissectors/packet-dcerpc-wzcsvc.h

Add an SVN Id to these PIDL-generated dissector headers.  A patch to PIDL has been sent upstream to the Samba developers.
------------------------------------------------------------------------
r34719 | wmeier | 2010-10-30 09:37:55 -0700 (Sat, 30 Oct 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipx.c
   M /trunk/epan/dissectors/packet-ipx.h
   M /trunk/epan/dissectors/packet-nlsp.c

Use value_string_ext fcns to access two value_string arrays.
Minor whitespace cleanup.

------------------------------------------------------------------------
r34720 | jake | 2010-10-30 09:40:46 -0700 (Sat, 30 Oct 2010) | 19 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtmpt.c

From John Sullivan:
Improve RTMP dissection:

  * Handle multi-byte csids
  * Handle extended timestamps
  * Better timestamp defaulting/calculations
  * Dechunking should now cope with any clean high quality capture without
    error (still loses sync on missing/out of order packets, but that's 
    very hard to deal with)
  * Dissect tunnelled RTMPT
  * Dissect more packet types
  * Dissect more AMF0 data types
  * Dissect audio/video control information
  * Use official packet/type names
  * Several new fields
  * Function call/response frame linking
  * Push several useful bits of data up the dissection tree or into the 
    info column for ease of use

------------------------------------------------------------------------
r34721 | wmeier | 2010-10-30 10:39:57 -0700 (Sat, 30 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-starteam.c

Use value_string_ext fcns to access a value_string array;
Also: Initialize a global variable each time a file (re)loaded;
      Use consistent indentation.

------------------------------------------------------------------------
r34722 | stig | 2010-10-30 10:51:20 -0700 (Sat, 30 Oct 2010) | 6 lines
Changed paths:
   M /trunk/epan/uat.h

Set maximum value for UAT range in fld_data, not cbdata.chk/set/tostr.
Both _set_cb and chk_range uses fld_data as max in range_convert_str().

This bug was found when the range max check from bug 4768 was fixed
in revision 34698.

------------------------------------------------------------------------
r34724 | stig | 2010-10-30 11:08:08 -0700 (Sat, 30 Oct 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Added a icon for "Edit Column Details".

------------------------------------------------------------------------
r34725 | morriss | 2010-10-30 11:18:12 -0700 (Sat, 30 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-hsrp.c
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-msrp.c
   M /trunk/epan/dissectors/packet-pdcp-lte.c
   M /trunk/epan/dissectors/packet-sap.c
   M /trunk/epan/tvbuff.c
   M /trunk/epan/tvbuff.h

Make tvb_strneql()'s size parameter be a size_t.  Remove some now-unnecessary casts.
------------------------------------------------------------------------
r34726 | wmeier | 2010-10-30 11:27:52 -0700 (Sat, 30 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-giop.c

Use value_string_ext fcns to access a value_string array.

------------------------------------------------------------------------
r34727 | morriss | 2010-10-30 11:53:31 -0700 (Sat, 30 Oct 2010) | 1 line
Changed paths:
   M /trunk/epan/tvbuff.c
   M /trunk/epan/tvbuff.h

Make tvb_strncaseeql()'s size parameter be a size_t.  Cast the size to int before calling ensure_contiguous_no_exception() (also in tvb_strneql()).
------------------------------------------------------------------------
r34728 | wmeier | 2010-10-30 12:37:40 -0700 (Sat, 30 Oct 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-drda.c

Use value_string_ext fcns to access two value_string arrays;
Remove two duplicate entries from each of two value_string arrays;
Initialize a global variable each time a file is (reloaded);
Remove two unneeded lines of code;
Minor code re-arrangement & reformatting.

------------------------------------------------------------------------
r34729 | wmeier | 2010-10-30 13:03:58 -0700 (Sat, 30 Oct 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

Use value_string_ext fcns to access a value_string array;
Sort value_string array to be in ascending order by value;
Minor whitespace cleanup.

------------------------------------------------------------------------
r34730 | jmayer | 2010-10-31 02:05:11 -0700 (Sun, 31 Oct 2010) | 5 lines
Changed paths:
   M /trunk/tools/checkhf.pl

Add a few comments and return with an error code if
appropriate, that way the whole stuff gets scriptable.
right now warnings are error code 0 (like completely
fine code).

------------------------------------------------------------------------
r34731 | jmayer | 2010-10-31 03:35:47 -0700 (Sun, 31 Oct 2010) | 65570 lines
Changed paths:
   D /trunk/tools/pidl/config.m4
   M /trunk/tools/pidl/idl.yp
   M /trunk/tools/pidl/lib/Parse/Pidl/Compat.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/IDL.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/NDR.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/Samba3/ClientNDR.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/Samba3/ServerNDR.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/Samba4/Header.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/Samba4/NDR/Client.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/Samba4/NDR/Parser.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/Samba4/Python.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/Typelist.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/Wireshark/NDR.pm
   A /trunk/tools/pidl/lib/wscript_build
   M /trunk/tools/pidl/pidl
   D /trunk/tools/pidl/ref_notes.txt
   D /trunk/tools/pidl/smb_interfaces.pm
   M /trunk/tools/pidl/tests/ndr_string.pl
   M /trunk/tools/pidl/tests/parse_idl.pl
   M /trunk/tools/pidl/tests/samba3-cli.pl
   A /trunk/tools/pidl/wscript

Update to current git master Samba tree. Guess about
the version last checked in and provide a git diff.

454bedcb806ce54dae2e6ecc6650d8972287c87c..3deece559159150a0710d8160f39583ba7f2e582

===================== samba git log start =======================
commit 3deece559159150a0710d8160f39583ba7f2e582
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 31 02:17:29 2010 +0100

    s4: Remove the old perl/m4/make/mk-based build system.
    
    The new waf-based build system now has all the same functionality, and
    the old build system has been broken for quite some time.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Sun Oct 31 02:01:44 UTC 2010 on sn-devel-104

commit 9401189d5435632bcc6a177845ce03beaa804113
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 30 19:56:54 2010 +0200

    s4:samldb LDB module - make the "userAccountControl" and "groupType" modify handlers separate functions
    
    It's easier to maintain afterwards
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sat Oct 30 19:07:20 UTC 2010 on sn-devel-104

commit 098ea71728eb6389ff4c5314d17df533f79a07a8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 30 19:37:30 2010 +0200

    s4:samldb LDB module - add a new function which handles special cases for single-valued attribute on SAM modifications
    
    This saves quiet some work.

commit 095c8b2078128838f6b830613e80cbdcf49e10cf
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 30 19:56:24 2010 +0200

    s4:samldb LDB module - primary group change - free temporary messages to save memory

commit c0ebf5d7435c3c4968eefafc6c566dc818e600a0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 30 17:48:51 2010 +0200

    s4:sam.py - add a short double swap "primaryGroupID" test
    
    It's not really meaningful but can happen.
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sat Oct 30 18:15:31 UTC 2010 on sn-devel-104

commit 98fefa8a017bbb67f6c33080c8a80c77c34e42b8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 30 17:43:17 2010 +0200

    s4:samldb LDB module - adapt the "samldb_prim_group_change" trigger to support multiple "primaryGroupID" modification entries

commit 02355fc6fd176312b61198e626cfe1fbb1ed5ac5
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 30 18:32:43 2010 +0200

    s4:samr RPC server - the LDB error codes for adding or deleting a group member have changed

commit c664f010d387af483dce41816d5d222bd8d84f46
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 30 18:09:12 2010 +0200

    s4:sam.py - enhance "member" tests

commit 4987467b785a5870cb338881c8916b4268006cd6
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 30 17:12:48 2010 +0200

    s4:samldb LDB module - "member" trigger
    
    - adapt the "samldb_member_check" trigger to support multiple "member"
      modification entries. There can exist special modification messages which
      delete and add members in one operation
    - support the right error codes when modifications do fail
      (ERR_ENTRY_ALREADY_EXISTS, ERR_UNWILLING_TO_PERFORM)

commit 5a2c3ad2fa198b260bd8f0934fad0e3113c9f670
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 30 17:55:56 2010 +0200

    s4:rpc_server/common.h - quiet compilation warnings

commit b548674c29aa04594e70599d9021182f9a69d753
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Oct 30 20:42:50 2010 +0400

    provision: fix wrong tests
    
    Autobuild-User: Matthieu Patou <mat@samba.org>
    Autobuild-Date: Sat Oct 30 17:31:23 UTC 2010 on sn-devel-104

commit a509b93518b17309f401a6fd107c726c7ab7582f
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Oct 30 20:47:45 2010 +0400

    build: Remove zlib from the cache if we failed to pass all the tests
    
    This will avoid problems with redefinition of libs tests

commit 4e30a5dd0b3ca2b56d228730ad4d43f1986f39fa
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Oct 30 20:22:22 2010 +0400

    build: make this test darwin only as it mess a bit more the freebsd build

commit 4dee76f1cd1364718ba385121c00b8b8eb1c917e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 30 17:43:48 2010 +0200

    replace: Fix formatting.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Sat Oct 30 16:32:15 UTC 2010 on sn-devel-104

commit 7fc0aaba4b7383973bbc2e80addea11658d48fbf
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 30 16:17:58 2010 +0200

    ldb: Drop autoconf-based build system.

commit fe6d404ea506e492c0a29715ed1e88ebe044e875
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 30 16:16:33 2010 +0200

    tevent: Drop autoconf-based build system for standalone build.

commit d1eba07e54d20ec9222f1ee448cc4223b9341c70
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 30 16:01:00 2010 +0200

    replace: Avoid autoproto as it breaks standalone builds.
    
    Automatic prototype generation uses ../../source4/script/mkproto.pl.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 58e99ae9169df39b383f711c91e0c0f76b954b33
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 30 15:59:14 2010 +0200

    replace: Only build replace-test in standalone build.
    
    This allows turning libreplace-test back into a subsystem.

commit 16206974e6557e71cd0e3595c3fe0538bfef956d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 30 16:58:34 2010 +0200

    s4:local_password LDB module - fix typos
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sat Oct 30 15:41:46 UTC 2010 on sn-devel-104

commit 2c0a9e9f2118d36c7d8af5caa72346581c2197c1
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 30 16:46:13 2010 +0200

    s4:resolve_oids LDB module - fix counter types

commit 45ee4e9a6b3847dc54b3c6bec8b4ebccbbac93da
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 30 16:41:52 2010 +0200

    s4:partition_init LDB module - fix counter type

commit 5ab8e4f7e190c40f3da675c295e2580c92a86d39
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 30 16:35:12 2010 +0200

    s4:extended_dn_store LDB module - fix counter types

commit dc0000e1a8f5233608d5bf59730200af3e041ce5
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Oct 28 13:09:51 2010 +0400

    provision: when deriving netbiosname from hostname force the netbiosname to be compliant
    
    It means no space/_/-/@.... and less than 16 chars.
    
    Autobuild-User: Matthieu Patou <mat@samba.org>
    Autobuild-Date: Sat Oct 30 14:26:22 UTC 2010 on sn-devel-104

commit edebb76a616c40565383363bc240c0df50a850f3
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Oct 30 16:51:20 2010 +0400

    build: strip -single_module when doing bundle on mac OS X

commit 33b276c2f16c4ec70cf392e850558cfd6703d7e6
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Oct 30 16:50:33 2010 +0400

    build: set shared libraries flags correctly on mac os X

commit 23b58804ba8ab2bb190758df283eacf3ec5d8787
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 30 15:42:41 2010 +0200

    talloc.3: Remove documentation for deprecated talloc_append_string,
    consistent with other deprecated functionality.

commit b4ba669e48f7dd213d530a24f4587dea93c84223
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 23:42:27 2010 +1100

    s4-smbd: initialise process models in smbtorture before use
    
    the spoolss notify test needs to setup the process models before use
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Sat Oct 30 13:32:09 UTC 2010 on sn-devel-104

commit 35d466e66b464cefca2e33fa8e1ff7301b029690
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 21:44:17 2010 +1100

    s4-smbd: leave the single process model as internal
    
    This helps with the static smbtorture for samba3, and the spoolss
    tests which start a server

commit 55063cddd574ecca6a51b20a10fa979d55d6b70a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 16:37:27 2010 +1100

    waf: fixed building of non-shared binaries that contain modules
    
    we need to incorporate the module objects too

commit b2a565488ef0b2aad7401a0a2c61dd5853038a28
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 15:47:21 2010 +1100

    s4-heimdal: lex_err_message() should not be static

commit a139628423e0a48c1a63321ee054734673f03c9e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 15:47:03 2010 +1100

    s4-waf: added a lexyacc.sh script that manually rebuilds the heimdal parsers
    
    we so rarely need to rebuild these that it is simplest to just run
    lexyacc.sh when we import a new heimdal release

commit a00657db758ba2a1bdc26f27024d72b8c7a1f114
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 15:09:30 2010 +1100

    s4-test: don't override modules dir
    
    it is set correctly during the build

commit e08c9ac696776cbd0bcd13b08409c709a18680e2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 14:33:06 2010 +1100

    waf: get rid of target aliases in wafsamba
    
    these aliases are no longer needed, and can cause a lot of confusion

commit 679eba61ea5f52b6a8a31cac472ef575af5c03f8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 14:25:14 2010 +1100

    s4-build: removed some unnecessary dependencies
    
    based on running waf --symbol-check

commit f5251c064ee0d1127b59de47ae82f59bcb5483dd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 14:24:04 2010 +1100

    s4-ndr: make ndr-table a subsystem
    
    its already part of the ndr-samba4 library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 2ea41fdbe2bc56b411aee213c852cecadb325427
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 14:19:11 2010 +1100

    s4-cmdline: make cmdline-credentials a private library

commit 88fd7e0920dfdd9c1819c71b65dd3eda80a350f9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 14:17:15 2010 +1100

    s4-dns: make the dns update task an external module
    
    this simplifies some dependencies

commit 87b3d384c6d26852d5c26cb8740eb42836193577
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 14:16:35 2010 +1100

    s4-cluster: make cluster a private shared lib

commit 3f3783cad3cf1c6379014b0408f4b3f12a69d3c1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 14:16:07 2010 +1100

    s4-replace: make libreplace a private shared lib in s4

commit eb0005dfcabedbeed0a75f139d6625b268d5062a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 12:14:15 2010 +1100

    s4-tdb: make tdb-wrap into a private library
    
    this prevents double linking of the tdb wrap code

commit 045e3445a0cea796c400eacbdb28611b664ef902
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:46:20 2010 +1100

    s4-auth: make KERBEROS subsystem into authkrb5 private library
    
    this fixes some double linking. The name 'KERBEROS' was also a bit
    confusing, as it sounded like a base kerberos library, when it is in
    fact part of auth

commit 7a26bb9f7790cf9e0bf2e0e7b841fd5c4a64594c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:44:07 2010 +1100

    s4-credentials: make a private library from CREDENTIALS subsystem
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 306754f2949f72f2629a954e2c8bfd6182307370
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:42:51 2010 +1100

    s4-ldb: add explicit depenencies on ldb library in ldb modules
    
    ldb modules call module functions from the main ldb library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 04574d5738bb6a3bed3f6ee536b93068517263d8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:41:11 2010 +1100

    s4-ldbwrap: split ldb-wrap out from the LDBSAMBA subsystem
    
    ldb-wrap and the ldif-handlers are not really related, and this allows
    us to remove another dependency loop
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 228803cd015e54362e988e168a9976f6b7a27f85
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:37:42 2010 +1100

    zlib: use the real library name 'z' instead of ZLIB
    
    using subsystem aliases has a lot of potential for confusion. Better
    to use the real name of the library.

commit 0563c5bacf96d1b6759acd78377c417715f30fff
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:33:53 2010 +1100

    s4-rpc: split the dcesrv reply code out of dcerpc_server
    
    this allows us to remove a dependency on the dcerpc_server from code
    that uses rpc forwarding
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit ac8e9106862fc4d49c070d3d307f43df9d7cc842
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:29:49 2010 +1100

    s4-modules: remove LD_SAMBA_MODULE_PATH
    
    this isn't needed now that we automatically get the module path right
    in our build and install trees
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 256349d827517eba15ee4d0fbae725eace352c64
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:28:22 2010 +1100

    s4-torture: simplify the depenencies for TORTURE_DRS
    
    it doesn't need to depend on the kitchen sink
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit a57e0ae7031971f45f41cf88c4a1573e8646681b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:27:33 2010 +1100

    s4-smbd: make our process models into real modules
    
    this simplifies some of the dependencies between bin/samba and the
    various services, making it easier to get a clean depenency tree
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 046d38faa5e78f2bdcfcdb3b1582427c2ecc80b8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:24:15 2010 +1100

    s4-smbd: don't initialise process models more than once
    
    this also removes the event_context parameter from process model
    initialisation. It isn't needed, and is confusing when a process model
    init can be called from more than one place, possibly with different
    event contexts.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 3a7814826989b2ece34b8370c77bce9727814701
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:23:09 2010 +1100

    waf: save the samba_deps_extended
    
    this is needed for the symbols.py extension

commit f7b70a5a7acb3b3ed46112d0cd52f67bc763543c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:22:29 2010 +1100

    waf: give a better error on a bad grouping library
    
    give a clear error on an unknown dependency in a grouping library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 78d732cc4002f92fa7741e848a8c922e60989a56
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:21:35 2010 +1100

    waf: cope with subsystems with no static modules
    
    we still need the STATIC_xx_MODULES define when there are no static
    modules. It contains just the sentinal.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit ae0f420dd989b165876b4b07754043a01604583e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:19:08 2010 +1100

    waf: don't auto-depend on subsystems
    
    this is part of an effort to reduce the amount of automatic dependency
    munging we do. When working on the correct dependency tree for Samba
    it is easier to add the right dependencies in the wscript files than
    rely on them being added by the waf rules. This change removes the
    automatic dependency of modules on their subsystem. Many modules don't
    actually need this dependency anyway, so it is better to add it where
    they are needed (for example, for ldb modules)
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit adabc3d082a2e23a9bca9282ad5e7be07fa776e9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:17:30 2010 +1100

    waf: added --symbol-check option
    
    this adds checking of the symbols in all our object files, libraries
    and syslibs. It will form the basis in future for a lot more checks,
    but for now it just checks basic rules like not allowing us to use
    symbols that are in system libs.
    
    Currently this is enabled only if you use the --symbol-check option,
    (or use make with SYMBOLCHECK=1) but I intend to make this always
    enabled once it has had more testing.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit df34bb268566ea86f2b77ed7bb04983b8c05e4c3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:07:40 2010 +1100

    waf: build all libraries after all object files
    
    this makes it easier to perform symbol checking before the link
    stage. The two new build groups symbolcheck and syslibcheck will be
    used by the symbols.py extension

commit 170c255f09a3d629bba86cf62c6a0cf81ff81bf1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 30 11:06:13 2010 +1100

    waf: use Utils.WafError() instead of raising an AssertionError
    
    this produces clearer output on errors

commit d1e94980bf76a7dc07b01979c5d263fc32dccbf8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 29 11:53:15 2010 +1100

    waf: cope with rules with no inputs
    
    when we display a rule with no inputs, just call the original display
    function
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit ccbb77693cec4e612d839b2dca92f97aa05f342e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 29 11:52:25 2010 +1100

    waf: separate out get_tgt_list()
    
    this is a useful function for the new symbols code, so separate it out
    of samba_deps.py
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit e97be0860b73270e610757c6c9312106587f7161
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 29 11:51:17 2010 +1100

    waf: display the paths in library loops
    
    when we detect a library loop, try to display the paths between the
    two libraries. This should make it easier to fix.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit d489880ecd8b68aaabb6c154c85cc72a454d712a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 29 11:50:25 2010 +1100

    waf: added env.DEVELOPER_MODE flag
    
    this makes it easier to add project rules that are only run in
    developer mode
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 65743f932b511db009655847e77288c95c0aa525
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 29 11:49:31 2010 +1100

    waf: added suncc_wrap
    
    this should solve a problem with creating alias modules with Sun CC.
    
    Thanks to Matthieu for the idea, and Thomas for the waf code

commit b6b0d2cea32c06c3f7a5574d22d1a344d70bd0d3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 29 11:48:06 2010 +1100

    s4-kdc: create a 'pac' private grouping library
    
    this removes the final case where we have an object file linked into
    two libraries
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 89c829f654b5b67f37ce39b93bc0a456a3718ecd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 29 11:47:11 2010 +1100

    s4-heimdal: removed the use of signal.c from roken
    
    we don't need to replace signal()
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 4bd7814a4e2970a1276b91b93987ce4fa9406c19
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 29 11:46:44 2010 +1100

    s4-heimdal: fixed the use of error_message() in heimdal
    
    the lex code in heimdal had a function error_message() which conflicts
    with a function from the com_err library. This replaces it with
    lex_err_message()
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit d6299d2667909487986782afc596cca45f2cbdac
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 27 14:25:39 2010 +1100

    replace: create a private replace-test library
    
    used by replace_testuite and smbtorture

commit 0d45d97540df3b826c62bdd8e1ab29cde1f7f758
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 27 14:25:06 2010 +1100

    s4-ldb: create a private library ldb-cmdline
    
    this prevents duplicate linking of the cmdline support code

commit 56b46d8d886cf7c42d52234fe5e6e67ee92e4906
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 30 08:27:12 2010 +0200

    talloc: Fix manual pages in standalone build.

commit 14ff2e8de9bd8d0064762234555260f5eea643fe
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Oct 29 11:56:51 2010 -0700

    Fix bug #7700 - Improvement of return code of smbclient
    
    Based on an initial patch from H Hasegawa <hasegawa.hiroyuki@fujixerox.co.jp>.
    Convert cli_list and associated functions to take calls that return NTSTATUS.
    
    Jeremy.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Fri Oct 29 19:40:16 UTC 2010 on sn-devel-104

commit 606a447503defdeddc84ae03e06b392517c840c5
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Oct 29 11:26:47 2010 +0200

    s4:torture/rpc/samr.c - fix NTTIME warnings by casts
    
    And also the format specifier is wrong since NTTIME is "uint64_t" and
    therefore unsigned.
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Fri Oct 29 10:36:46 UTC 2010 on sn-devel-104

commit 25301b7bf926c5f6f1e688e201d9dc9eee9f60ee
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 19 10:54:29 2010 +0200

    s4:torture/rpc/samr.c - test the "ReplicaSourceNodeName" only against s3
    
    AD handles this differently (see MS-SAMR 2.2.4.1)

commit af4c9cc7c24fad8ccd96d0e2cb0c0cd0138eea9d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Oct 29 10:55:07 2010 +0200

    s4:samr RPC server - fix trailing whitespaces

commit 5d835c8a29cc2cf184412ca91fe48e28da2521d4
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Oct 29 10:53:39 2010 +0200

    s4:samr RPC server - fix indentation of function parameters

commit fc6f8be523de65bbcf0586d56bbccd27069ad852
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Oct 29 11:03:26 2010 +0200

    s4:samr RPC server - DomainGeneralInformation - never return NULL on the oem name
    
    As far as I can tell Windows SAMR never returns NULL on unknown values in this
    call.

commit ebe78c444c1220829f34488aa5d7f11437785f54
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Oct 29 10:45:47 2010 +0200

    s4:samr RPC server - provide the right "ReplicaSourceNodeName"
    
    It's the content of the "domainReplica" attribute if it exists and has only a
    meaning on interim/mixed domain function levels (with NT4 dcs).

commit 45cd2e445d75429fbd84a95ff4a0fa0852279cd3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 19 10:50:28 2010 +0200

    s4:samr RPC server - remove wrong implementation of ReplicaSourceNodeName
    
    This should represent a replication partner - never the DC iself

commit c5c69359d9d18c9b9be29b0442567cf19f7810a0
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Oct 29 01:54:51 2010 +0300

    s4-drs_tests: drs_util_DsAttributeId_to_string() is not used anymore
    
    Autobuild-User: Kamen Mazdrashki <kamenim@samba.org>
    Autobuild-Date: Fri Oct 29 09:54:01 UTC 2010 on sn-devel-104

commit 07240e97f859e2b46c1fc19c2fa7f5254ee05ccb
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Oct 29 01:18:31 2010 +0300

    s4-resolve_oids: Remove redundant check - resolve_oids_need_value() handle this

commit 6b188fbad47f04f3a9b8979a04a0f70d10b4ada9
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Oct 27 22:29:40 2010 +0300

    s4-schema_init: we should be able to resolve Syntax OIDs with prefixMap we have
    
    If Syntax OID is not in the prefixMap then we are getting
    an unknown Attribute Syntax (which we can't handle anyway)

commit 72189aef8d4c898b0537e1fb5a1493454feaef57
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Oct 27 22:21:50 2010 +0300

    s4-pfm_test: Use single instance of global testing data to test with

commit fbc3fc2e5f2910aa2ce324de541ca98d72b6f702
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Oct 27 22:12:11 2010 +0300

    s4-pfm-test: Enrich and fix comment primary for testing data

commit 4a11cad0e063431eec9cfce385ebacdb22279712
Author: Matthieu Patou <mat@matws.net>
Date:   Fri Oct 29 01:52:32 2010 +0400

    build: add the -fno-common flags to fix the link pb on mac os X
    
    Autobuild-User: Matthieu Patou <mat@samba.org>
    Autobuild-Date: Thu Oct 28 22:35:08 UTC 2010 on sn-devel-104

commit 090fcb011485411d887b94c7c2a53e398766cfc9
Author: Günther Deschner <gd@samba.org>
Date:   Thu Oct 28 15:59:36 2010 +0200

    s3-waf: add vfs_time_audit to the build.
    
    Guenther
    
    Autobuild-User: Günther Deschner <gd@samba.org>
    Autobuild-Date: Thu Oct 28 15:14:27 UTC 2010 on sn-devel-104

commit e00671ee0c5ce1754bf041f2cd4abeacd1dedc61
Author: Günther Deschner <gd@samba.org>
Date:   Wed Oct 27 16:31:05 2010 +0200

    s3-waf: use LZXPRESS subsystem.
    
    Guenther

commit 9dd467b2d578434c14e4a057fd27d36aafed8563
Author: Günther Deschner <gd@samba.org>
Date:   Tue Oct 26 15:26:17 2010 +0200

    s3-selftest: add vfs_modulesdir variable for both test systems.
    
    Guenther

commit 4b2e2f94bb505f3de6411cfc8e01d05b010a2819
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Oct 28 15:41:30 2010 +0200

    s3: Streamline regdb_normalize_keynames_fn a bit
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Thu Oct 28 14:32:11 UTC 2010 on sn-devel-104

commit 8b87603de4f40c341d23262b4ffe357248ac4ff3
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Oct 28 15:30:21 2010 +0200

    s3: Fix the registry upgrade code
    
    The strings have the 0-terminator as part of the keys. The rest of the registry
    code would not cope well without.

commit a43261e11d92360ef4060cd3559aeab9ebac95fd
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Oct 28 07:50:37 2010 -0600

    s3: FILE_WRITE_DATA & friends have gone from includes.h
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Thu Oct 28 13:37:06 UTC 2010 on sn-devel-104

commit 917cc0db0ce40b555ef3f752e5a546373316b162
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Oct 28 12:20:28 2010 +0400

    unit tests: use skip file to exclude smb2.dir instead of hack
    
    Thanks metze for pointing this.
    
    Autobuild-User: Matthieu Patou <mat@samba.org>
    Autobuild-Date: Thu Oct 28 09:39:11 UTC 2010 on sn-devel-104

commit 95cbff76d6b88174806205fe6a1ad4a91c8d92c6
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Oct 28 12:09:29 2010 +0400

    build: Add XPG6 otherwise we have a configure pb on sun Solaris

commit 2cfee006e13d661c9aed68a104db62f487f3e889
Author: Abhidnya P Chirmule <achirmul@in.ibm.com>
Date:   Wed Jan 6 19:45:24 2010 +0100

    s3: Add a vfs_time_audit module
    
    This warns if a file system is slow
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Thu Oct 28 08:56:44 UTC 2010 on sn-devel-104

commit 97595597a32900aa064b88f7b5473df3064a6ee4
Author: Volodymyr Khomenko <Volodymyr_Khomenko@dell.com>
Date:   Thu Oct 28 09:34:05 2010 +0200

    s3: Fix bug 7759

commit b73a05e4e184238614d73c1519f2880cd946908d
Author: Kai Blin <kai@samba.org>
Date:   Sat Oct 23 19:27:26 2010 -0700

    s4 net: rename to samba-tool in order to not clash with s3 net
    
    Autobuild-User: Kai Blin <kai@samba.org>
    Autobuild-Date: Thu Oct 28 07:25:16 UTC 2010 on sn-devel-104

commit 5634f55cc8d9eb0cca01f621939cee724271ecb0
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Oct 28 02:12:53 2010 +0400

    build: remove warnings about redifinition of boolean use -KPIC on suncc
    
    Autobuild-User: Matthieu Patou <mat@samba.org>
    Autobuild-Date: Wed Oct 27 22:57:19 UTC 2010 on sn-devel-104

commit c6d7e6ad08a94709264d05b9cc8f266f07bc6851
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Oct 27 14:17:46 2010 -0700

    Fix for bug 7755 - SMBC_getdents_ctx() ignores struct alignment rules
    
    Based on a fix from Sven Neumann <s.neumann@raumfeld.com>.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Wed Oct 27 22:02:11 UTC 2010 on sn-devel-104

commit 64867330493c676cfe6a34ea462be45c638966ee
Author: Kai Blin <kai@samba.org>
Date:   Wed Oct 27 22:15:10 2010 +0200

    ndr: Make sure ndr_dns.c has no lines wider than 80 chars
    
    Autobuild-User: Kai Blin <kai@samba.org>
    Autobuild-Date: Wed Oct 27 21:17:50 UTC 2010 on sn-devel-104

commit f8d49958b2a5c55e837ebe903dd5207a92d19d63
Author: Matthieu Patou <mat@matws.net>
Date:   Wed Oct 27 22:59:25 2010 +0400

    tls: Inform the user if the cert/ca/private key can't be saved
    
    Most of the time this problem is due to a missing <private>/tls dir.
    Should close bug 7640.
    
    Autobuild-User: Matthieu Patou <mat@samba.org>
    Autobuild-Date: Wed Oct 27 20:08:54 UTC 2010 on sn-devel-104

commit 0bc94c21e5fe1eab59029e99dec4fef6f378fbb1
Author: Sven Neumann <s.neumann@raumfeld.com>
Date:   Wed Oct 27 11:42:34 2010 -0700

    Fix bug 7754 - samba uses index(), marked as legacy.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Wed Oct 27 19:25:16 UTC 2010 on sn-devel-104

commit 8c4d023cc9f387dfdb70cfa4c62686925cdab193
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 27 17:40:35 2010 +0200

    s4:setup/schema_samba4.ldif - this control isn't used anymore
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Wed Oct 27 16:32:28 UTC 2010 on sn-devel-104

commit 24ef932a612d75c0e692bd1f17b44db3aba437eb
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Oct 26 11:37:48 2010 -0600

    s3: Make gpfs winattrs work again
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Wed Oct 27 15:32:00 UTC 2010 on sn-devel-104

commit 5bc2b8f0a494511800696d6d411a426463089e8b
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Wed Oct 27 15:20:49 2010 +0300

    s4-ldb: Added the correct extended check for read access to nTSecurityDescriptor
    
    It does not depend on READ_PROPERTY, but on SECURITY_PRIVILEGE and READ_CONTROL
    
    Autobuild-User: Nadezhda Ivanova <nivanova@samba.org>
    Autobuild-Date: Wed Oct 27 13:18:50 UTC 2010 on sn-devel-104

commit 3003bd40379b669e8b2cef7a40784f0114344f8e
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Wed Oct 27 14:04:03 2010 +0300

    s4-ldb: Changes the aclread module to use LDB_HANDLE_FLAG_UNTRUSTED to determine the source of the request
    
    The aclread module used to use a control to make sure the request comes from the ldap server,
    but now the rootdse filters out any unregistered controls comming from ldap, so the control is
    lost. Using the LDB_HANDLE_FLAG_UNTRUSTED is a much more elegant solution.
    
    Autobuild-User: Nadezhda Ivanova <nivanova@samba.org>
    Autobuild-Date: Wed Oct 27 11:55:11 UTC 2010 on sn-devel-104

commit b1f6a2be271881cb93764b54dc89d35f4467f1fb
Author: Matthieu Patou <mat@matws.net>
Date:   Wed Oct 27 14:15:10 2010 +0400

    unit tests: move backend testing to the end
    
    Autobuild-User: Matthieu Patou <mat@samba.org>
    Autobuild-Date: Wed Oct 27 11:12:02 UTC 2010 on sn-devel-104

commit 04d63e973efb5b3e1bf677688f5d61ddf13cee42
Author: Matthieu Patou <mat@matws.net>
Date:   Wed Oct 27 00:50:41 2010 +0400

    unit tests: remove smb2.dir
    
    Tridge says that it's a hard to fix pb and that it's not the priority
    for 4.0.0

commit 14a3d4d7f06f667d3d5634360e1bb81f7f9a117d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 27 08:54:46 2010 +0200

    librpc/ndr/ndr.c - fix some counter types
    
    The "depth" is "uint32_t"
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Wed Oct 27 08:13:40 UTC 2010 on sn-devel-104

commit 51dd83a50cbfc6d1bf17eb95095bac4d223cc637
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Oct 27 15:22:46 2010 +1100

    auth/credentials Give a sensible behaviour for resetting the krb5 context
    
    This extra code isn't used at the moment, but I noticed the old API
    was rather supprising in it's behaviour, and might catch someone out
    at some later time.
    
    Andrew Bartlett
    
    Autobuild-User: Andrew Bartlett <abartlet@samba.org>
    Autobuild-Date: Wed Oct 27 05:24:22 UTC 2010 on sn-devel-104

commit d9b7123cb7dd4ed04f266aa48c35e70569ae258e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Oct 27 15:19:05 2010 +1100

    librpc Make ndrdump use printf() rather than having to mess with DEBUG()
    
    This means it no longer needs to force the debug level etc.
    
    (this builds on the fine work by Volker to create dump_data_cb())
    
    Andrew Bartlett

commit cf310a4306b3a4b6b9201d01c5d6dbbe5ff8f09e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Oct 27 12:58:10 2010 +1100

    s3-smbd Remove manual override of DEBUGELVEL during exit
    
    This code, originally added at the dawn of time (the import into CVS)
    does not seem to be required any more, as all the DEBUG() statements
    in the intermediate functions are at level 0.
    
    Andrew Bartlett

commit 4c634a3b2e22b45027a1d376573575463a460846
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Oct 27 02:56:10 2010 +0200

    talloc: fix waf build for libtalloc-compat1
    
    We need to use 'libtalloc.so.1' as soname, otherwise the
    compat library is useless.
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Wed Oct 27 03:53:21 UTC 2010 on sn-devel-104

commit 073d3bf1fc8b129ed7cd74b51608e40640b499c5
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Oct 27 02:54:56 2010 +0200

    wafsamba: support 'soname' attribute on SAMBA_LIBRARY()
    
    It's sometimes needed to specifiy the soname directly.
    
    metze

commit a06192b33bf0f046c9ea95ca75c95fad63609c4f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 27 11:47:54 2010 +1100

    waf: sped up the project rules checking
    
    this also makes the --show-duplicates output more useful
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Wed Oct 27 01:36:46 UTC 2010 on sn-devel-104

commit 3e93dc02f39b41eac812e05a45777dfce9b8298e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 27 10:38:50 2010 +1100

    s3-waf: fixed the s3 waf build
    
    Jelmer, this undoes some of your library renaming, as it conflicted
    with existing binary and subsystem names
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Wed Oct 27 00:22:34 UTC 2010 on sn-devel-104

commit afe40c7eccec25b8361fbcbc7f6af43c6846f410
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 27 10:37:58 2010 +1100

    waf: quote subsystem names to make them clearer

commit 5bb7723803960ee6ec84197fe0ec3801ea7507eb
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Oct 24 20:15:01 2010 +0200

    lib/util: remove useless ../lib/util/mutex.*
    
    Only the disabled process_thread.c registers uses the register fn,
    all other functions are not used anywhere.
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Tue Oct 26 23:29:46 UTC 2010 on sn-devel-104

commit e5ebc486975cc172d9547b34151204c58f0d14c2
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Oct 26 22:14:43 2010 +0300

    s4-dsdb_syntax: *_OID_oid_ldb_to_drsuapi() functions should use
    
    dsdb_schema_pfm_attid_from_oid() instead of
    dsdb_schema_pfm_make_attid() as those functions are
    supposed to return ATTIDs only for OIDs we already know about
    (i.e. are in prefixMap)
    
    Autobuild-User: Kamen Mazdrashki <kamenim@samba.org>
    Autobuild-Date: Tue Oct 26 22:44:36 UTC 2010 on sn-devel-104

commit 6a6c7c9aa2a8a04d6c1b6c6c8c5841efa4cb8e09
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Oct 26 21:20:11 2010 +0300

    s4-pfm_test: no need to test created prefixMap contents here - it already tested

commit 45e1c0c151b6a98858a6cc580ded6a1ffff51afc
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Oct 26 21:17:55 2010 +0300

    s4-pfm_test: Tests for dsdb_schema_pfm_attid_from_oid()

commit 0fc2427224c2826e5ee0b09631ae77d0b08b5ba9
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Oct 26 18:33:32 2010 +0300

    s4-prefixMap: split dsdb_schema_make_attid() function into read-only and
    
    read-write functions.
    dsdb_schema_make_attid() may change prefixMap implicitly
    and this is not always desired behavior.
    The problem was that
    (1) callers had no control on this behavior
    (2) callers had no way to know wheter prefixMap has been
        changed which can lead to hard to find bugs like
        prefixMap is changed in read operation

commit 5e108fc5f94e6a08083f8852a59fc4b79b198af8
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Oct 22 16:22:08 2010 +0300

    s4-prefixmap: Use WERR_NOT_FOUND when OID is not found in current prefixMap
    
    rather than WERR_DS_NO_MSDS_INTID.
    WERR_DS_NO_MSDS_INTID is intended to be used for msDsIntId
    attribute values handling

commit d8e246cf8a4569baaa49359ceb3e21c7aa4af1f6
Author: Matthieu Patou <mat@matws.net>
Date:   Fri Oct 22 11:56:40 2010 +0400

    Add a script for formating test result of st/subunit
    
    This script show the time of each test and tests are sorted by execution
    time (from the slowest to the quickest)
    
    Autobuild-User: Matthieu Patou <mat@samba.org>
    Autobuild-Date: Tue Oct 26 20:42:11 UTC 2010 on sn-devel-104

commit 62eb450bc24dd1a79074659e91fe87394f780cf8
Author: Matthieu Patou <mat@matws.net>
Date:   Fri Oct 22 10:23:23 2010 +0400

    replace: restore the order for #define + rep_strtoll

commit ba6afbdfb7e8c4a3b047bda134c0887e5b16aeb4
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Oct 26 20:47:44 2010 +0200

    s4:librpc: we don't need dcerpc client bindings for dns.idl
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Tue Oct 26 19:35:59 UTC 2010 on sn-devel-104

commit 1b68910d65eb7becf968fbe5a3c16104ccf19906
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Oct 26 19:09:44 2010 +0200

    s4:ldap.py - add a test for attribute ranges - still very basic
    
    And partially outcommented.
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Tue Oct 26 18:53:12 UTC 2010 on sn-devel-104

commit dd25f4b83b0ccc24512ae9ba7636a587ec43c9ec
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Oct 26 12:37:21 2010 +0200

    s4:sam.py - enhance users and groups test

commit 802e3b4e1f2e0fdc7fc11ed7881dade261bfa34a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Oct 26 12:08:02 2010 +0200

    s4:samldb LDB module - enhance the "member"-check trigger
    
    - Also multi-valued "member" attributes are allowed
    - When you try to delete a member from a group which has it primary group set
      exactly to this group you get "UNWILLING_TO_PERFORM"

commit a839422fc57762ea3366afbe58b018cf11bfffd7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Oct 24 21:25:52 2010 +0200

    s4:ldap.py - enhance and activate the "description" attribute test
    
    It tests only the "description" attribute in particular since it behaves
    differently from all others.

commit 4f25eec5a5d9e57f0a63591535fe3f581ce23f45
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 25 13:56:14 2010 +0200

    s4:objectclass_attrs.c - rework to support these special "description" constraints
    
    Only the "description" attribute has this special restrictions.

commit c251cb62eca1b96e0b5b22a40c5a054d5d40c1f2
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Oct 26 10:25:35 2010 -0700

    wafsamba: Fix soname for standalone private libraries.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Tue Oct 26 18:10:13 UTC 2010 on sn-devel-104

commit a702c07e0202e2f4b853f626ca704a4bec4ae8ca
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 24 12:53:59 2010 -0700

    talloc: change pytalloc-util to be a public library.

commit d44e3bf747f9812036f4b6ecf3ccb2fad1d25882
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 24 12:37:08 2010 -0700

    talloc: Install pytalloc-util as system library.

commit 0ceb5018f3a75f272faa4d7a7b5c79ca100f5ef0
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 24 12:17:43 2010 -0700

    waf: Remove unused EXT_LIB_PYTHON.

commit 98cfc71801dfc9bc05f282d3547574324d46a67f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 24 12:15:12 2010 -0700

    talloc: Avoid dependency on unknown EXT_LIB_PYTHON.

commit 1ae0981ce8d9786608714d6e7a9e31f09d765b71
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 24 11:58:47 2010 -0700

    talloc: Move pytalloc to lib/talloc.

commit 50256c01d061c6d73bb2d8ee2c60785d58748e6c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 24 11:50:47 2010 -0700

    waf: Only specify vnum for non-private libraries.

commit a74e8be6d1448f121181e6d7cca3841891321a12
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 24 11:26:09 2010 -0700

    waf: Stop automaticaly changing dashes to underscores in library names.

commit e4d9e974da730ef7a5ac5a33797652720d40ccb9
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 24 10:49:13 2010 -0700

    waf: Don't auto-lowercase library names.

commit 8cf61377aa388724150699618f5cd60682ffde37
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 24 10:42:58 2010 -0700

    waf: Remove lib prefix from libraries manually.

commit b2af2fd3de37296c5589fd5f34bb3353227272cd
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 24 01:49:03 2010 -0700

    torture_local: Add missing dependency on socket_wrapper.

commit df76c3f1475f7df13f3771f6c23cae019bc10c8c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 24 00:54:40 2010 -0700

    waf: build private libraries with so names.

commit 20b526855607f4ceeb02bd3010cfd820c33be237
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 19:27:03 2010 -0700

    dcerpc_dns: Change back to subsystem for the moment.

commit d9cbcdd4109d361c909f2884fcf3797cf4052092
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 18:41:59 2010 -0700

    s4: Drop duplicate 'lib' prefix for private libraries.

commit 126f87e6a51bf330b7cdc631804a61e29c3116f7
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Oct 26 16:36:38 2010 +0200

    s3: Fix some DEBUG msgs
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Tue Oct 26 15:20:01 UTC 2010 on sn-devel-104

commit da09021bf3da65c94cf25c8e6033d010c6780b4a
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Oct 26 09:17:57 2010 -0600

    s3: Package tdbrestore in RHEL-CTDB

commit 7aa45b06c04cdeea44ab474581fc97360cecccde
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Oct 25 11:07:36 2010 +0200

    s3: Pass tdb_flags to ctdbd when attaching to a db
    
    This is required to make ctdb create databases with INCOMPATIBLE_HASH

commit 33f65a93fe905d60d8fca85327ddbbf3f8c7fe6e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 25 20:48:18 2010 +0200

    s4:samr RPC server - "dcesrv_samr_info_DomGeneralInformation" - count always all type of groups
    
    One pair are universal an global groups (on the SAMR pipe called "groups") and
    the other one are the domain and builtin local groups (on the SAMR pipe called
    "aliases").
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Mon Oct 25 19:37:27 UTC 2010 on sn-devel-104

commit 83c381385cf7d3787497a1adc78bb80e2e9c2e21
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 25 20:39:05 2010 +0200

    s4:samr RPC server - remove a somewhat pointless comment
    
    Regardless if groups and users do exist in the builtin domain or not we do
    count always all users, groups and aliases.

commit 6fb64b9c7a281c2d148238390fccc08dce962f92
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 25 18:14:02 2010 +0200

    s4:"samdb_search_count" - introduce a "mem_ctx" parameter
    
    All other "samdb_search_*" calls do have one - why "samdb_search_count" doesn't?
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Mon Oct 25 17:42:33 UTC 2010 on sn-devel-104

commit fd7943bc80f0e96b70d4f851ea4e3f8f7689bead
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 25 18:10:04 2010 +0200

    ldb:gendb_* calls: support a "NULL" resultset parameter
    
    This is useful for "samdb_search_count" where only the amount of entries
    matters.

commit 8bc2b54c7237697d8fddcec9a02d742c81c83699
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Oct 9 06:47:20 2010 +0300

    s4-test: Extend DRS-msDSIntId test to verify Configuration NC replica also
    
    Autobuild-User: Kamen Mazdrashki <kamenim@samba.org>
    Autobuild-Date: Mon Oct 25 13:13:48 UTC 2010 on sn-devel-104

commit e567d6c9f77a6f7fa311ed22050ad9d0b26f0a09
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 25 13:33:13 2010 +0200

    s4:samldb LDB module - other indentation fixes on error messages
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Mon Oct 25 12:31:57 UTC 2010 on sn-devel-104

commit c3fa990f216e68a4b36d064f8a34e93d951b9201
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Oct 24 21:32:30 2010 +0200

    s4:ldap.py - prove the denied multi-valued replace requests
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Mon Oct 25 11:49:19 UTC 2010 on sn-devel-104

commit fedd4aa3cb7a0d4b895ec040d74cfbfbee42cac5
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Oct 19 15:14:53 2010 +0200

    s4:objectclass_attrs LDB module - deny multi-valued replace requests
    
    This is the AD behaviour. But on attributes with the flag
    "FLAG_ATTR_REQ_PARTIAL_SET_MEMBER" it is allowed.

commit 6e407a3c1c7166801bcec364186c487c27b18550
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 25 11:28:09 2010 +0200

    s4:provision_*_references.ldif - "add" and do not "replace" the "wellKnownObjects"
    
    This is the correct AD operation in this case. Multi-valued replaces are
    generally denied most of the time.

commit e24cd13e40fa3ce867654cfea70369ba627351d8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 25 11:05:22 2010 +0200

    s4:samldb LDB module - fix indentations
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Mon Oct 25 09:48:15 UTC 2010 on sn-devel-104

commit edab363466256ab0357e4e43f2e38b25a509d711
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 25 11:02:34 2010 +0200

    s4:samldb LDB module - use "uint32_t" for available krbtgt number

commit 9e6d07e1b32d3050cc3574f658be1ea6ff4e87d8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 25 10:55:11 2010 +0200

    s4:samldb LDB module - assign better memory contexts in some cases

commit adcfda92439f90c5c05fc80495dff53d9baa219f
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 25 06:07:46 2010 +0000

    s3-waf: implement LIBMSRPC_GEN as tiny wrapper of 'NDR_STANDARD NDR_DSSETUP NDR_SPOOLSS'
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Mon Oct 25 08:58:49 UTC 2010 on sn-devel-104

commit 98021831d768ebeea0f216f3ad65738c0ea45f37
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 25 06:06:32 2010 +0000

    s3-waf: use NDR_NETLOGON for ntlm_auth
    
    metze

commit baf4c4d3070a7e710fab890fdfebc89e34d15147
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 25 06:05:37 2010 +0000

    s3-waf: use NDR_SCHANNEL
    
    metze

commit 5b9a3a79f72f8df7e6d2d10cc48286a35afe0e85
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 25 06:03:22 2010 +0000

    s3-waf: use NDR_NTLMSSP subsystem
    
    metze

commit ffbe1c0723595e538b518335bde862627107a317
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 25 07:47:35 2010 +0200

    s3-waf: add NDR_STANDARD dependencies to fix the build
    
    metze

commit 2b74cea5f0f3bdfc51f03cfb7641010c7954f222
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 25 06:33:39 2010 +0000

    s3-waf: use git to calculate the version if available
    
    metze

commit 8ea6f41ec9d3e2577432a8d9be100f1f42775787
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 25 06:49:46 2010 +0000

    s4-waf: don't generate PACKAGE_* defines in config.h
    
    - We don't use them anywhere (heimdal has special rules)
    - They calculate the version at configure time
      and may contain the wrong git hash while building
    - If we really need them in future we should add them
      to version.h and not config.h, as the changing git hash
      will trigger a full rebuild if config.h changes.
    
    metze

commit e54d58d11388d0ff4afe3d08e0b19b0dd43835ad
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 25 08:16:04 2010 +0000

    autobuild: add some comments
    
    metze

commit 47e2371598846271fcdd8b4bb43869acce1de8ed
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 25 07:01:28 2010 +0000

    autobuild: run ldb tests with TDB_NO_FSYNC=1
    
    Only the tdb tests should not have this.
    
    metze

commit db73b4a2c129eeb7dddcd2466f8b7b485d66c1d9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Oct 25 11:29:12 2010 +1100

    waf: moved the -Wl,-no-undefined flags to source4 and ldb
    
    moved it out of the general waf build as the s3 waf build cannot yet
    handle linking with -Wl,-no-undefined
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Mon Oct 25 01:12:15 UTC 2010 on sn-devel-104

commit 986a00dcef2bc2c9cf00c987555e0f4ff646437d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Oct 25 10:27:14 2010 +1100

    s3-waf: fixed paths in s3 waf build for rpc_server
    
    paths in waf rules are relative
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit ec98bb55c6fe06f9ca698e52dda41b3cff2f95b5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Oct 25 10:14:41 2010 +1100

    s3-waf: fixed waf configure for recent changes

commit 14686e4b5a4faeed5868e2e16121acd47ff5ba43
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 25 08:30:00 2010 +1100

    libcli/security Remove unused sec_acl_equal()
    
    This was orphaned by changing sec_desc_equal() to the stricter
    security_descriptor_equal() by
    f4195183a47b0e7c8bc9644d62b123f7880f3fcd in 2009.
    
    (The difference here was that sec_acl_equal allowed for equivilent ordering.  I've checked the callers, and this function is only used to skip actual ACL sets, or to reference a cache, so this seems
    
    Autobuild-User: Andrew Bartlett <abartlet@samba.org>
    Autobuild-Date: Sun Oct 24 22:21:23 UTC 2010 on sn-devel-104

commit caf77f7c73419064b3a4cea68d0b8591a4ec486a
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 24 18:32:29 2010 +0200

    s3: Use cli_setpathinfo in cli_posix_unlink_internal
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Sun Oct 24 21:28:08 UTC 2010 on sn-devel-104

commit 2d51a24ba51934e1a9264ced1d52648a5c4c2cfc
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 24 18:27:25 2010 +0200

    s3: Avoid passing down a boolean to cli_posix_unlink_internal_send

commit 28e243f7ad1a0b645a00bb92b43638af5bfe8b8d
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 24 18:05:03 2010 +0200

    s3: Use cli_setpathinfo in cli_posix_chown_chmod_internal

commit dedda3e245d9ee2a875494d0f3c42c44e749f4f6
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 24 17:06:47 2010 +0200

    s3: Use cli_setpathinfo in cli_posix_link_internal

commit c0a6b74aa4cb1c3833353b28b22b83df59955cfd
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 24 16:59:56 2010 +0200

    s3: Use tevent_req_simple_recv_ntstatus where appropriate

commit 64275ebe898e4ac47ec00e49d24e37b914527734
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 24 16:56:34 2010 +0200

    s3: Pass down a level instead of a flag to cli_posix_link_internal

commit 7b3fccd5b4342494a33081f88b5069b2af9749de
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 24 16:45:54 2010 +0200

    s3: Add async cli_setpathinfo

commit 40cc1a3d2e4d63153730a03d89cca8c936a2e06c
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 24 15:43:34 2010 +0200

    s3: Add "setea" to smbclient

commit 86cb0ad242002014a4bfcdd9d0b40a3d3d172b81
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 24 13:32:30 2010 +0200

    s3: Add "geteas" to smbclient

commit 0831807782e01d8fb6e4e5ebcd46c014dc3ab599
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 24 15:42:45 2010 +0200

    Add dump_data_cb()

commit 611bcfcb49f3a17ac7a1b866b2ea04806c7c1b40
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 24 15:23:41 2010 +0200

    Add print_asc_cb()

commit 9e7bcaab2dc9a73c8251431fa4573d1d1ba32561
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Oct 9 06:04:52 2010 +0300

    s4-test: Print correct partition DN in msDSIntId test
    
    Autobuild-User: Kamen Mazdrashki <kamenim@samba.org>
    Autobuild-Date: Sun Oct 24 20:45:21 UTC 2010 on sn-devel-104

commit 7b3dbbde04d52f9faeeba507b82bc4242b1efddd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 14 22:26:44 2010 +0200

    s4:dsdb - remove some calls of "samdb_msg_add_string" when we have talloc'ed strings
    
    They can be substituted by "ldb_msg_add_string" if the string was already
    talloc'ed.
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sun Oct 24 20:03:27 UTC 2010 on sn-devel-104

commit 177aad556f4be8b6b82eec8fbf0bf4711ae32d2b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Oct 24 19:52:01 2010 +0200

    talloc: pytalloc should not depend on samba specific code
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Sun Oct 24 19:21:25 UTC 2010 on sn-devel-104

commit cbee24b2da4e067d751c3f8d30bf34a8cc1e08d0
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Oct 24 20:25:18 2010 +0200

    s3:include: move debug.c prototypes to debug.h
    
    metze

commit dbc934ee4b98f04b4c21d650a018e8aae9e437fa
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Oct 24 19:44:21 2010 +0200

    s3:include: move MAX_DEBUG_LEVEL from local.h to debug.h
    
    metze

commit 32189689df2bc40473dfeaccff6219f8e0d56b76
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Oct 24 19:39:26 2010 +0200

    s4:dsdb - use LDB results in "add_time_element" and "add_uint64_element"
    
    In both the "objectguid" and the "repl_meta_data" DSDB module.
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sun Oct 24 18:39:43 UTC 2010 on sn-devel-104

commit 49dee0e453049a2b26aaacf81e61a0f11afccd91
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Oct 24 19:30:12 2010 +0200

    s4:dsdb - use the more safe "samdb_msg_add_(u)int*" calls always where possible
    
    This should prevent all possible integer storage problems in future.

commit 482c02284068810a57b35a509857fb1273d833b0
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Aug 16 17:35:50 2010 +0200

    pidl:Samba4/NDR/Parser: fix NDR64 union alignment
    
    We need to align before the switch_type and before the
    union arms. Both alignments are to the boundary of the largest
    possible union arm.
    
    This means that adding a new union arm with a larger alignment
    would break compat!!!
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Sun Oct 24 17:49:23 UTC 2010 on sn-devel-104

commit fd628e7ae4653d5224c5dfcd9b2815113eaae7b8
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Oct 24 18:54:46 2010 +0200

    midltests: add more union_align examples
    
    This demonstrates the difference between NDR32 and NDR64
    
    metze

commit 172a1580d234a2194ce5bc6ca6056bbea48ed7e3
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 24 13:27:33 2010 +0200

    s3: Initialize output vars in parse_ea_blob
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Sun Oct 24 12:22:22 UTC 2010 on sn-devel-104

commit 005b50ad68c5a18d9e34e9c46f67750a67472634
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Oct 24 12:31:03 2010 +0200

    s4:librpc: we don't need dcerpc client bindings for dns.idl
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Sun Oct 24 11:23:50 UTC 2010 on sn-devel-104

commit 09a10750445e92b7813459e8c297ff6340a56800
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 24 11:38:22 2010 +0200

    s3: Remove unused cli_get_ea_list_fnum
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Sun Oct 24 10:23:29 UTC 2010 on sn-devel-104

commit 5a17d26e47c1e3478866cbdbc5254eae0fa10f45
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 24 11:21:56 2010 +0200

    s3: Replace cli_qfileinfo_test with a call to cli_qfileinfo

commit c095809c0464cd174e0993d8c32434d6f3733342
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Oct 23 22:37:16 2010 +0200

    s3: Convert cli_qfileinfo_basic to cli_qfileinfo

commit d864b1bace0038b86cb393ca811dcce2e938bebd
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Oct 23 09:43:31 2010 +0200

    s3: Convert cli_qfilename to cli_qfileinfo

commit 94232578064e146b810f1320f67e1ab485737a17
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Oct 23 09:35:49 2010 +0200

    s3: Add async cli_qfileinfo

commit 03333fc68cf596a85fb81d202b5fdc1879928f76
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Oct 23 09:28:47 2010 +0200

    s3: Rename cli_fileinfo() to cli_fileinfo_basic()

commit a6611c16a80adf0170e8e574dff3907bdfa9b0b3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 17:18:56 2010 -0700

    torture/local: Depend on NSS_WRAPPER, even if it wasn't enabled.
    
    torture_local tests nss_wrapper.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Sun Oct 24 01:02:00 UTC 2010 on sn-devel-104

commit 92c12a39a9b8d7bade00090f2a38a49ac3af13f6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 16:38:57 2010 -0700

    ldb: Rename pyldb pkg-config file to pyldb-util, to avoid confusion with
    'ldb' python module.

commit 599afb065160a9444636fada9576c8b3e889ab68
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 16:29:45 2010 -0700

    s4: Rename LIBCLI_NBT -> cli_nbt.

commit 5224de3f748fe76c6423f8ed660886faf99882f8
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 16:27:47 2010 -0700

    s4: Rename LIBCLI_LDAP to libcli_ldap.

commit a57bd4e2d8b79f5ea57cd5727702c6d56e934231
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 16:23:53 2010 -0700

    s4: Rename WBCLIENT to wbclient.

commit 18ae8887a364872644cc133705101f3cd9cfbd74
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 16:21:00 2010 -0700

    s4: Rename DB_GLUE to db_glue.

commit fc6bfe24fd54b50cfa42853090b86f777a2247bf
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 16:19:23 2010 -0700

    s4: Rename SMBPASSWD to smbpasswd.
    
    Rename DSDB_MODULE to dsdb_module.

commit 8c99517a0cadf9931156a27ce9103321b8ea9a5c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 16:12:14 2010 -0700

    waf: Lowercase several library names.

commit 833480d3ad1c4b3a1ea74fd583672c65c0af6463
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 16:05:50 2010 -0700

    s4: Rename LIBSAMBA-* to libsamba-*

commit ca16d805bd8f33a03d67d3ed74b4d468b04874e5
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 15:53:52 2010 -0700

    s4: Rename LIBSECURITY{_SESSION,} to libsecurity{_session,}

commit 7a731ccdfc83c9ce11cf92f190cf250ffb43c293
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 15:48:49 2010 -0700

    s4: Rename SAMDB_COMMON to samdb_common.

commit 2bcd7f68278df69ce18a344e2a1351c66edf9e0c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 15:30:42 2010 -0700

    waf: Rename LIBWINBIND-CLIENT to libwinbind-client

commit 2933fac7c70b0cb5d38ebf02e4dcc2dd43fcfcd7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 15:19:49 2010 -0700

    s4: Rename NSS_WRAPPER to nss_wrapper.
    
    Only link to nss_wrapper when it is enabled.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Sat Oct 23 23:05:44 UTC 2010 on sn-devel-104

commit 9757a0c54cc6c8a6a0cb5bdec488316b969adcec
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 23:59:43 2010 +0200

    s4: Rename UID_WRAPPER to uid_wrapper.
    
    Only link to uid_wrapper when it is enabled.

commit 7b8549348a98fbc43917bc56244637e9a8b25c37
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 23:53:08 2010 +0200

    s4: Rename WRAP_XATTR to wrap_xattr.

commit cf26d8a958256e1f56f9bc5a9611868d04a15e74
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 23:49:33 2010 +0200

    s4: Rename LIBEVENTS to libevents.

commit bc44fcc6fb17eb9db9c9dcef08b6c88626c90819
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 23:41:19 2010 +0200

    s4: Rename NDR_TABLE to ndr_table.

commit 9065f9644bd32d6ca3a8b9a77d67e0b30891a321
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 23:36:32 2010 +0200

    s4: Rename LIBNETIF to libnetif.

commit 49ef2888193dd7cc37c3fe0a980b7cc1abdac805
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 23:26:43 2010 +0200

    waf: Rename some BUNDLED_ functios to PRIVATE_.

commit 18103d34e2e965ac77ab023f12caa967c655765a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 23 22:50:29 2010 +0200

    create_descriptor.c - fix comment
    
    The location in MS-DTYPE changed.
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sat Oct 23 21:33:46 UTC 2010 on sn-devel-104

commit 8b9a08e10f7b984309ba23ca034923c9634b8e46
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 23 21:26:05 2010 +0200

    s4:provision.py - add the correct "CN=Sites" security descriptor
    
    This should help to fix bug #7403.
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sat Oct 23 20:16:59 UTC 2010 on sn-devel-104

commit 245642a36b5126d2a481a2aac0b20318ed955732
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 23 20:27:50 2010 +0200

    s4:schema.py - reformat and fix the security descriptor
    
    - Now it matches Windows's order
    - It contained a superfluous entry (an "Administrator" user grant)

commit c25afb6aa16b3e527c6050985e9aeaca0beec355
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 20:41:27 2010 +0200

    ldb: Support using system pyldb library.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Sat Oct 23 19:24:25 UTC 2010 on sn-devel-104

commit 9a2f83a86ae9068c9c63b0c701f5625d19114028
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 20:39:48 2010 +0200

    ldb: Install pkg-config file for pyldb.

commit bd48e23f3414331445a901143f84cda125230262
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 20:38:52 2010 +0200

    ldb: Install pyldb-util as public library.

commit dec00bf0974ea3b5079c32e2a6e6253954297253
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 23 19:53:38 2010 +0200

    tdb: Revert re-addition of tdb_set_logging_function.
    
    I accidentally committed this patch which we carry in the Debian
    packages.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Sat Oct 23 18:37:16 UTC 2010 on sn-devel-104

commit c7d7c8f6f8b85c15d3fef37d516e34961ee4f31a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 23 16:54:55 2010 +0200

    ldb:ldb.h - include a comment that the relax control is mainly used by the OpenLDAP backend
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sat Oct 23 16:40:04 UTC 2010 on sn-devel-104

commit f9a6ff482c8d03e7e46fd6925d58214b7a097e02
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 23 16:15:51 2010 +0200

    s4/ldb:introduce the LDB_CONTROL_PROVISION_OID control
    
    This control is exactly thought for the actions which previously were performed
    using the RELAX one.
    
    We agreed that the RELAX control will only remain for interactions with OpenLDAP.

commit 89c42a96fcaa43a7f2c9aef9e708276a639e0051
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 23 16:06:17 2010 +0200

    ldb:rename LDB_CONTROL_BYPASSOPERATIONAL_OID into LDB_CONTROL_BYPASS_OPERATIONAL_OID
    
    It's nicer to have this consistent with "BYPASS_PASSWORD_HASH".

commit a60965b879f4b4c7fc8507073c6000967b80b724
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 23 15:52:34 2010 +0200

    s4:dns_server - fix counter types

commit ee913f45683e66d4391944e034217a56d42e7ab5
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 23 16:36:45 2010 +0200

    tdb: commit the version 1.2.7 signatures

commit 72c8ccd408070bcb3defba34865d31a1ea6311fe
Author: Kai Blin <kai@samba.org>
Date:   Sun Oct 3 12:21:00 2010 +0200

    s4 dns: Implement update record prescan logic
    
    Autobuild-User: Kai Blin <kai@samba.org>
    Autobuild-Date: Sat Oct 23 10:58:18 UTC 2010 on sn-devel-104

commit 005a65660d1d5a39cccdabca1970b7e56537df17
Author: Kai Blin <kai@samba.org>
Date:   Sun Oct 3 00:40:32 2010 +0200

    s4 dns: Add stub checking if updates are allowed

commit 1e670dff6a0b9b5e42849817deb3c79e4ea30f57
Author: Kai Blin <kai@samba.org>
Date:   Mon Oct 11 23:40:18 2010 +0200

    s4 dns: Add a prerequisites check for updates

commit cfa47965fe2aacf861a107c0db4daa5d43180471
Author: Kai Blin <kai@samba.org>
Date:   Mon Oct 11 23:39:44 2010 +0200

    s4 dns: Switch to WERROR

commit 682a2e93daddbd95e617dde9dcdc7dee7a739929
Author: Kai Blin <kai@samba.org>
Date:   Fri Oct 1 12:59:22 2010 -0700

    s4 dns: Split up the code into multiple files for easier development

commit cebce2b9a40db1f5d28e20b6eda7010e9c530a5d
Author: Kai Blin <kai@samba.org>
Date:   Mon Oct 11 23:50:16 2010 +0200

    s4 dns: More work on updates

commit fb181752c5a8704140e36977c2723d4d3c4c8166
Author: Kai Blin <kai@samba.org>
Date:   Mon Oct 11 23:22:55 2010 +0200

    s4 dns: Map between NTSTATUS and dns error codes

commit a6305c4a168e7d3ac06f824dce05767bc7e9b9c0
Author: Kai Blin <kai@samba.org>
Date:   Thu Sep 30 20:35:00 2010 -0700

    s4 dns: Better error handling when parsing invalid or unknown records

commit 69a52290ce81c62f1d6af717c4bd9b6281f0886f
Author: Kai Blin <kai@samba.org>
Date:   Thu Sep 30 18:21:53 2010 -0700

    s4 dns: start handling update requests, return correct error codes

commit eb4f101200f18fdf7482e14c4471d6e90b166af0
Author: Kai Blin <kai@samba.org>
Date:   Thu Sep 30 18:20:42 2010 -0700

    s4 dns: Allow more components as part of a domain name

commit 063727a88b10cbd27892d0e165fe18958849f7df
Author: Kai Blin <kai@samba.org>
Date:   Thu Sep 30 17:05:23 2010 -0700

    s4 dns: Handle CNAME records

commit 32a1b71ec8e51a2e9486c174e4b23e3942e14079
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Oct 1 01:41:29 2010 +0200

    s4 dns: Parse srv and soa records
    
    Signed-off-by: Kai Blin <kai@samba.org>

commit 615857d9899906b3505397b22e769538315a27ef
Author: Kai Blin <kai@samba.org>
Date:   Thu Sep 30 16:35:04 2010 -0700

    s4 dns: Look up all names in the ldb database.

commit 678634abfb590a6819b125a04777c509e83e4a3f
Author: Kai Blin <kai@samba.org>
Date:   Mon Oct 11 22:32:25 2010 +0200

    s4 dns: Look up records in the ldb database

commit 80f30889e9c947e6ddf31efd5d07d32d1a806209
Author: Kai Blin <kai@samba.org>
Date:   Mon Oct 11 22:31:14 2010 +0200

    s4 dns: Fix a data corruption in the dns_string parsing

commit 1c25cc705762366e2525e61df3d193b2ea2106bf
Author: Kai Blin <kai@samba.org>
Date:   Mon Oct 11 22:29:05 2010 +0200

    dnsp: Can't have two memebers of a union with the same name

commit a7b833ec7e19bc3251ade69af101631013d60419
Author: Kai Blin <kai@samba.org>
Date:   Wed Sep 29 17:24:53 2010 -0700

    s4 dns: Reply to a name request with an A record.
    
    The first real answer to a DNS request. Still uses hardcoded reply.

commit 719a6bbfede5b124c96f7c84d27e68ac285b073a
Author: Kai Blin <kai@samba.org>
Date:   Fri Oct 22 09:37:38 2010 +0200

    ndr dns: Add simple parser

commit 96195b2c0c239781c47f51bbf62156a8804f9525
Author: Kai Blin <kai@samba.org>
Date:   Tue Oct 12 06:23:32 2010 +0200

    s4 dns: Add a boilerplate DNS server implementation

commit caf4196899d864abe4bb6d3c9da3952f5b5ba8b8
Author: Kai Blin <kai@samba.org>
Date:   Wed Sep 29 17:22:09 2010 -0700

    dns/nbt: Fix spelling of the "authoritative" flag.

commit 97868713a0ed4a8519796abc69d282c9b2ea3121
Author: Kai Blin <kai@samba.org>
Date:   Fri Oct 22 09:08:20 2010 +0200

    idl: Add idl describing DNS structures

commit 4ffdf09623da867f5c0dd3031820f7d033681b1f
Author: Kai Blin <kai@samba.org>
Date:   Sat Sep 25 07:23:56 2010 -0700

    netlogon.idl: Switch to explicit constants to remove dependency on nbt.idl

commit eeac222398b49a6fbeb72314df06376cb8e3e7af
Author: Kai Blin <kai@samba.org>
Date:   Fri Oct 1 17:41:01 2010 -0700

    s4 dns: Import DNS win32 error codes from MS-ERREF

commit e7358e75821b036b19327dc4117226def5787db7
Author: Kai Blin <kai@samba.org>
Date:   Thu Sep 30 13:16:19 2010 -0700

    s4 dsdb kcc: Prefer msDS-hasMasterNCs over hasMasterNCs when replicating

commit f26c9b3966d27c4c53b8334d3eb272a7bf3226b0
Author: Kai Blin <kai@samba.org>
Date:   Fri Oct 1 01:13:28 2010 -0700

    s4 socket: increase the debuglevel to make add interface debug messages less verbose

commit 821a20221df8e5ad8c8ca3ebf43bd4257b724ad9
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Oct 23 11:03:41 2010 +0200

    s4:rpc_server/netlogon: netr_ServerAuthenticate3 should return NO_TRUST_SAM_ACCOUNT
    
    If we can't find the account we should return NT_STATUS_NO_TRUST_SAM_ACCOUNT
    instead of NT_STATUS_ACCESS_DENIED.
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Sat Oct 23 10:05:35 UTC 2010 on sn-devel-104

commit f0879fc3b2dbdf9508443429cdb242f759d31cfe
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Oct 23 11:02:43 2010 +0200

    s4:rpc_server/netlogon: netr_ServerAuthenticate3 should reject invalid sec_channel_types early
    
    metze

commit c2696b2ec37815a1bc0594295b6fe81b3e156c11
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Oct 23 11:01:43 2010 +0200

    s4:rpc_server/netlogon: netr_ServerAuthenticate3 should check the challenge after the account
    
    metze

commit 5ee49fc1c1afe7a0d4cc2ae6bfe44c21dd1fdb83
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Sep 30 00:33:18 2010 +0200

    s4:rpc_server/netlogon: fix comment in netr_DsRGetDCName()
    
    metze

commit 675c354b6bdc525bec1c1aa0a67c1a79b5f93e0c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Sep 30 00:29:48 2010 +0200

    s4:rpc_server/netlogon: handle DC_RETURN_NETBIOS and DC_RETURN_DNS in netr_DsRGetDCNameEx2()
    
    metze

commit fcc2f6ba4a1c853a6e836cd4b45c8da3e6601992
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Sep 30 00:27:52 2010 +0200

    s4:rpc_server/netlogon: validate flags in netr_DsRGetDCNameEx2() and callers
    
    Thanks to Tarun Chopra for the help of looking up all the bits in
    the docs.
    
    metze

commit e297625d96a6ad6deba4edf2dc69756ba67aa452
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 29 20:36:40 2010 +0200

    s4:rpc_server/netlogon: netr_GetDcName should return WERR_DCNOTFOUND for invalid names
    
    Only netbios domain names are allowed.
    
    metze

commit 4a4738b56a0ed34b9cea2c66a1867dbff1d785df
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Oct 23 10:55:49 2010 +0200

    misc.idl: add SEC_CHAN_LOCAL and SEC_CHAN_LANMAN
    
    MsvApSecureChannel and UasServerSecureChannel in [MS-NRPC]
    
    metze

commit c320c1ab989cf809da6effb4a47e8355c94357f5
Author: Kai Blin <kai@samba.org>
Date:   Fri Oct 22 16:40:38 2010 +0200

    lib/util: Add tevent WERROR wrappers
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Sat Oct 23 07:35:28 UTC 2010 on sn-devel-104

commit 79c6572256a01279d9e4f0b436d334f4fd739866
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Oct 21 23:31:41 2010 +0200

    tsocket: let tstream_inet_tcp_connect_recv() optionally return the used local address
    
    tstream_inet_tcp_connect_send() usually only gets no local port number
    and it may use the wildcard address '0.0.0.0' or '::'.
    
    tstream_inet_tcp_connect_recv() provides the used local address and port
    which are used on the wire.
    
    metze

commit d2c653629cdc3df8549c6faabfcdbe3045cd013c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Oct 21 23:26:14 2010 +0200

    tsocket: ask the kernel for the specific local address after a tcp connect
    
    metze

commit 96601cab1cb0bd47051cd9fb30f0464c0734cb8a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Oct 22 14:41:47 2010 +0200

    lib/replace: use snprintf() in test code to avoid warnings in the IBM-Checker
    
    metze

commit d65896cc3c5e67508e295e6d64193210e958971c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Oct 22 08:44:29 2010 +0200

    lib/replace: fix rep_strtoull() prototype
    
    metze

commit 272feb7bd133344e88864ffc75d251451ddd681c
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Oct 22 15:58:40 2010 -0700

    Revert "Wrap security_token_has_privilege() with a check for lp_enable_privileges(). Needed"
    
    Not needed - privileges code prevents "enable privileges = no" from adding privileges
    anyway.
    
    This reverts commit a8b95686a7bde3f96f141b6938e24e101567ef54.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Fri Oct 22 23:41:36 UTC 2010 on sn-devel-104

commit d46ca0eb801f2664cedb17c50a9a94e58ebdb0b6
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Oct 23 00:13:09 2010 +0300

    s4-dsdb_syntax: Setup "String(Case Sensitive)" syntax
    
    Currently it is mapped to Octet String LDAP syntax
    for comparison purposes.
    
    According to LDAP rfc we should be using same comparison
    as Directory String (LDB_SYNTAX_DIRECTORY_STRING), but case sensitive.
    But according to ms docs binary compare should do the job:
    http://msdn.microsoft.com/en-us/library/cc223200(v=PROT.10).aspx
    
    Autobuild-User: Kamen Mazdrashki <kamenim@samba.org>
    Autobuild-Date: Fri Oct 22 22:19:50 UTC 2010 on sn-devel-104

commit a8b95686a7bde3f96f141b6938e24e101567ef54
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Oct 22 10:31:06 2010 -0700

    Wrap security_token_has_privilege() with a check for lp_enable_privileges(). Needed
    to maintain compatibility with smb.conf manpage.
    
    Jeremy.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Fri Oct 22 18:15:48 UTC 2010 on sn-devel-104

commit 3e79cd6856e5c76cc39ad2be68b40534a524cecd
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Oct 21 12:50:33 2010 -0700

    Fix const warning. Allocate off NULL as we always talloc_free().

commit 2a001381e88b18b8612cdc2a40d9ea3c825548ea
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Oct 20 13:49:46 2010 +0300

    s4-dsdb/schema_syntax: Separate validation for numericoid OID values
    
    This implementation doesn't use prefixMap/Schema to validate
    numericoid OIDs. We may not have this OID yet, so I see no point
    checking schema for if we have it.
    
    Side effect of using prefixMap/Schema for validating numericoids
    is that we mistakenly add the OID to the prefixMap.
    This led to a corrupted prefixMap in LDB.
    
    Autobuild-User: Kamen Mazdrashki <kamenim@samba.org>
    Autobuild-Date: Thu Oct 21 23:32:26 UTC 2010 on sn-devel-104

commit 14cb61da8fe4fb24c3e066e5731d0be00ddb893b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Oct 20 13:46:34 2010 +0300

    asn1_tests: Implement negative unit-tests for ber_write_OID_String()

commit 6b63ad6ff1bfcb7fcfb3e0f3cd4636ff222ab88f
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Oct 20 13:45:59 2010 +0300

    asn1: ber_write_OID_String() to be more picky about supplied OID
    
    Now function will check for invalid OID handling cases where:
     - sub-identifier has invalid characters (non-digit)
     - 'dot' separator found on unexpected place. For instance
        '.' at start or end of the OID. Two '.' in a row.

commit c74ef7acf49f5e447373643c2e28c1dad56f451d
Author: Matthieu Patou <mat@matws.net>
Date:   Fri Oct 22 01:01:53 2010 +0400

    waf: Mark the replacement zlib private so that it can build on machine without a system zlib
    
    Autobuild-User: Matthieu Patou <mat@samba.org>
    Autobuild-Date: Thu Oct 21 21:47:46 UTC 2010 on sn-devel-104

commit 4ea7d4694a8353fc55ecd12cb09b9c91ffde7b3f
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Oct 21 02:14:39 2010 +0400

    replace: use replace for non 'samba' compliant strptime

commit 2d0ac59fcc490517b202180f49b178ab80c2534e
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Oct 21 00:13:54 2010 +0400

    replace: use a wrapper around strtoll if it didn't behave as expected

commit c529317fe2b48e045b35a613cfd1ad3f03b68435
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Oct 21 21:43:13 2010 +0200

    Lowercase socket_wrapper name.
    
    Avoid linking against socket_wrapper outside of developer mode.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Thu Oct 21 20:26:11 UTC 2010 on sn-devel-104

commit 5785f08268bac332d09bdf71d1907ecb54f3b5bd
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Oct 21 21:08:45 2010 +1100

    s4-dsdb extended_dn_out: Move lazy dereference control creation to lazy-init
    
    We didn't seem to get the control created by the time we do searches here.
    
    Andrew Bartlett
    
    Autobuild-User: Anatoliy Atanasov <anatoliy@samba.org>
    Autobuild-Date: Thu Oct 21 12:29:54 UTC 2010 on sn-devel-104

commit 62c4af99428abb2d4ac1b18454d72e0c8cbb67e8
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Oct 21 11:51:37 2010 +0200

    tdb: Set _PUBLIC_ in C file rather than header files (Debian bug 600898)
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Thu Oct 21 11:47:22 UTC 2010 on sn-devel-104

commit 2c0ff5113cd9ef966f9ee3bcc723a6a28f1197da
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 21:17:57 2010 +1100

    s4-waf: we don't need the smbtorture.static for s3 any more
    
    this breaks the build farm
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Thu Oct 21 11:04:21 UTC 2010 on sn-devel-104

commit 6120ef9f9e76c417cc105db8be3834516312a9eb
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 20:41:06 2010 +1100

    autobuild: don't cleanup the pid file within the retry loop
    
    if we rebase and retry we need to keep the pid file

commit 4fa0ceb7517de755b20179f2728532811f62c845
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 20:21:10 2010 +1100

    waf: RPC_NDR_WINBIND is samba4 specific
    
    this caused problems with the s3 waf build

commit 3c748714bb2a81004673db8a77ea5699f3cc73d0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 21 10:28:32 2010 +0200

    ldb:ldb_modules.c - "dlclose" could cause inference on "dlerror"
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Thu Oct 21 09:28:19 UTC 2010 on sn-devel-104

commit 6c3e670f31beb5766b906e26ddc0c5d75b401137
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 18:36:41 2010 +1100

    waf: check the linker accepts a set of ldflags before using them
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Thu Oct 21 08:45:49 UTC 2010 on sn-devel-104

commit 6fd9fee502067dd2e864ebfce50302af062ee2d6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 18:17:59 2010 +1100

    s4-dsdb: force LDB_ERR_NO_SUCH_ATTRIBUTE on missing schemaInfo
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 19f8dc9580a772620a39b09585e8c7f8f5deac13
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 17:55:24 2010 +1100

    s4-ldb: make ldb_options_find() public
    
    we need to make this symbol public to allow for -Wl,-no-undefined, as
    otherwise the pyldb module can't find the symbol when it creates the
    module

commit dc729c62eaadff081dea28a4f8769af45c83c4cf
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 17:45:23 2010 +1100

    waf: loosen the restriction on depending on python libs
    
    the pidl generated python code can generate dependencies between two
    python modules, so we have to allow this for now

commit 7ffb781e81ef15bed730a8c2c3ddc4280485ee9f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 17:44:32 2010 +1100

    waf-python: make the pyext flag add the pyembed features for libraries
    
    this is rather strange, but we get build errors without it. There may
    be a bug in the waf python tool, or I may misunderstand how to use it

commit 0966776b363ac7a66a5d22c05d474e35e6994c68
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 17:41:42 2010 +1100

    waf: fixed the handling of -Wl,-no-undefined
    
    this flag was not being propogated to our link rules, so we were not
    in fact enforcing no undefined symbols in libraries.

commit 97ce2d89655497320ca5842b9dd8dd0d7071bb64
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 17:36:15 2010 +1100

    s4-librpc: fixed depenencies for libcli/security
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit d98effffe4857765b6a8851d96af3fc73ac1801b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 17:34:55 2010 +1100

    libcli: LIBSECURITY depends on NDR_SECURITY
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 171158482175f7ff6187c7535385e83ac28a086e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 17:14:10 2010 +1100

    s4-dsdb: fixed depenencies for -no-undefined
    
    added some depenencies needed for -Wl,-no-undefined

commit 6ce4125bbe364743596d1e087f7a94e810605421
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 17:13:26 2010 +1100

    s4-events: LIBEVENTS depends on LIBSAMBA-UTIL
    
    it needs it for the debug code
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 56640a8501625d29745269fcddc1980c6b751a2a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 17:12:31 2010 +1100

    s4-rpc_server: split out DCERPC_SHARE as a separate subsystem
    
    this avoids a problem with -Wl,-no-undefined in the ntvfs layer
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 1748d10e47c1000c56594a103c35b7962b5a5da2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 17:11:20 2010 +1100

    s4-python: python_samba needs pyext

commit 51dc322f6314cd94eb2bfc72d2c83fb8a55a1134
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 15:30:27 2010 +1100

    waf: show duplicate objects in python modules as well as libraries
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit cef53b289b28e208602e34cfe8c93e05102bdc29
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 15:27:50 2010 +1100

    s4-waf: removed the dependency loop between ntvfs and dcerpc_server
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 11bce8ce0334d2c903962fe901a34ff45bb150e8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 15:27:25 2010 +1100

    librpc: added a few more NDR_* targets to NDR_SAMBA
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit bbe016b77c6fd08e66a099e012c365103410d0e0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 15:26:38 2010 +1100

    s4-ldb: make pyldb_util a private library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 4af59515f61e43d0e59f58942cc60d1a0de5d28d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 15:26:20 2010 +1100

    librpc: added RPC_NDR_SAMBA grouping library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 1cbb6150a146ec94ec5f95ae6a5666ea546d3693
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 15:26:00 2010 +1100

    lib: make WRAP_XATTR a private library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit ec7bb906db95e77b78310f5e2c3e584e5d6de59c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 15:25:44 2010 +1100

    waf: added pyext option to SAMBA_LIBRARY()
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit f7aca49e20df34e463f7447d02bc11f6d2095cf9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 14:58:14 2010 +1100

    librpc: added NDR_XATTR and NDR_UNIXINFO to the NDR_SAMBA grouping library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit af36485ae54b2a9a1263468ec4388423ccb3588b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 14:57:34 2010 +1100

    s4-python: added a samba_python grouping library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 19bae689c108ff1f85ee5ce147aa54a9d28f5f30
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 14:56:59 2010 +1100

    s4-param: added a libshares grouping library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 62d7b2780807a72e7ae5bb53d65e564f0096ace3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 14:56:36 2010 +1100

    s3-waf: mark some libraries as private
    
    public libraries must have a vnum specified

commit 7a2cad43df77741997b1009d83280f095c6d99dc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 14:55:19 2010 +1100

    waf: raise an error on a dependency on a python module
    
    it is never correct to list a dependency on a python module
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit b4dd1accc8178bed96ab8606dc655d30826886e6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 14:54:11 2010 +1100

    s4-waf: don't depend directly on python modules
    
    build rules should not list dependencies on python modules. Instead,
    if code needs the module it should use the python API import calls to
    access the module.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 3981399957a8f2d608adb33e9ced1c50bcb1f5dc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 14:52:25 2010 +1100

    s4-waf: removed the XATTR and SASL aliases
    
    these were hangovers from the old build system names
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 6f36a015b1975a9ea027da8cf009cd38f074d77f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 13:52:47 2010 +1100

    waf: prevent the global deps list creating depenency loops
    
    this prevents a loop between SOCKET_WRAPPER and replace in the s3 waf
    build

commit e98ca6e868eb8cc25968e67ada2e153e828131ff
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 13:52:15 2010 +1100

    s4-libcli: make LIBSECURITY_SESSION a private library

commit 4b3fae6ca8ed29b7c74edf589de678418cb3481a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 13:51:55 2010 +1100

    s4-socket: make LIBNETIF a private library

commit aa0dbdc5b11a0efa46ff540d99875690c6244c25
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 13:51:40 2010 +1100

    s4-events: make LIBEVENTS a private library

commit 7c92baf0dc8e6c4dacfec07e22c4552d0d5ee118
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 13:51:21 2010 +1100

    s4-kdc: make DB_GLUE a private library

commit ae5c4cd6f9da3157acfb90dcb296aefd8e7f1e1e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 13:51:02 2010 +1100

    s4-dsdb: make ldb_password_hash depend on hdb not HEIMDAL_HDB_KEYS
    
    this prevents a duplicate object file

commit 323c1a8679fc50fd4ae810d541a06489219e3c72
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 13:50:13 2010 +1100

    nsswitch: make LIBWINBIND-CLIENT a private library

commit 0b255c0da6d4c97ad8d733c8632fa8472bd47b5e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 13:49:55 2010 +1100

    nsswitch: make LIBWBCLIENT a private library

commit 6c60b8be03c195c06301b04a656ff1281be2eb09
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 12:58:31 2010 +1100

    lib: add UTIL_TEVENT to samba_sockets grouping library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 5ecd87230e2a83f7925b519c596ddecb89674577
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 12:57:56 2010 +1100

    s4-libcli: make LIBSAMBA-ERRORS a private library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 6ba86d8ca31635b16670c59e645ceacdb256c054
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 12:57:36 2010 +1100

    s4-lib: make SMBPASSWD a private library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 47591ea5ec03916393d22484e3b551da033260ea
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 12:47:57 2010 +1100

    s4-dsdb: moved a bunch of fuctions from schema/schema_info_attr.c to samdb/ldb_modules/schema_util.c
    
    these functions operate on ldb_modules, so they should be in the
    ldb_modules directory. They also should return ldb errors codes, not
    WERROR codes, as otherwise the error can be hidden from the ldap
    caller
    
    This re-arrangement fixes a dependency loop in the schema/samdb code.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>
    Pair-Programmed-With: Kamen Mazdrashki <kamenim@samba.org>

commit cffbccb5cb0046bc9713de5d5a89d7f8236888f4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 11:29:46 2010 +1100

    s4-waf: make NDR_STANDARD a grouping library and add NDR_SAMBA4
    
    this collects a number of subsystems into logical groups
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit acffaf2bfb5d78c756224fe36e5667ce79b67f71
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 11:28:58 2010 +1100

    s4-build: make LIBSAMBA-NET a private library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 9bc47cc4557c856b2095ffe709351ab3173b9783
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 11:28:27 2010 +1100

    waf-build: create a NDR_SAMBA grouping library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit f39b21008f578fa2cf91e2cdc9ebc0ca15100e9a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 11:28:05 2010 +1100

    waf-build: create a samba_sockets grouping library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 2dcb596e8302856a66e8d6f11457ad87d1ad1dab
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 11:25:59 2010 +1100

    s4-waf: removed dependencies on missing subsystems
    
    these were left over from the old config.mk system

commit 7cba3cfac8781061e4114573517b30baedbf891a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 11:22:36 2010 +1100

    waf: replace the is_bundled option with private_library
    
    'private_library' better captures what we are trying to get at when we
    bundle a library

commit 1d8733537e47439f8d79cd78d278eace1b795df3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 11:19:09 2010 +1100

    waf: added the concept of a grouping_library
    
    a grouping library is one which 'groups' a set of subsystems. This
    means that if a target depends on a subsystem that is within a
    grouping library then that dependency is replaced with a dependency on
    the grouping library.
    
    This gives us a powerful method to avoid duplicated object files
    between libraries.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 713900b81297548c44a890c3bca1dde9019af8bc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 08:59:06 2010 +1100

    s4-build: fixed some formatting
    
    indentation was far too deep

commit 579f06e0014adf5c1ce3df6add4fb03d53673a3b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 08:58:35 2010 +1100

    build: subunit and popt need to be marked as private libraries
    
    they have no vnum

commit e2a2c717573fda174a93f823c1c4bccf214052c0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 08:54:36 2010 +1100

    waf: cope with libraries with a specified version number
    
    this fixes a problem with libnss_winbind.so.2. Thanks to Jelmer for
    spotting this.

commit aa88884d37915ac06ed33766e6ad7460d1306d62
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 08:30:55 2010 +1100

    s4-libcli: make LIBCLI_LDAP a private library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit e73739a338fd2586e64a6c892e6f798c08b31a22
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 08:30:39 2010 +1100

    s4-auth: make auth a private library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit a913e79ee52fa21b9d7469a497fc8f63571fc913
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 08:30:15 2010 +1100

    replace: make libreplace a private library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 0ad5937b4e353f9dd026cbf6a9555afbedc7ca39
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 08:29:24 2010 +1100

    s4-ndr: make NDR_TABLE a private library
    
    this greatly reduces the size of ndrdump, and saves us a fair bit of
    duplication
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 35b61c23650da1ec971ffd37c534fc82903b9940
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 08:28:35 2010 +1100

    libcli: make LIBCLI_NBT a private library

commit dc00b773fc67ff55567e3c159749f1e55f4a5b1f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 08:28:12 2010 +1100

    wrapper: make socket_wrapper, uid_wrapper and nss_wrapper private libs
    
    this prevents double instantiation
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 29c0b86126c2eb4e5c921f63b10e796bce647e1a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 21 08:27:07 2010 +1100

    waf: re-work the module alias code
    
    we now create a base library, and then create the alias modules as
    wrappers around that base. That prevents double instantiation of any
    object files in the modules
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 9a2c9c2fc264627494b16923f3055d4aa09ae835
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 20 18:19:55 2010 +1100

    s4-dsdb: make SAMDB_COMMON into a private library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 8709c3c0f2695b199bb63fee27c6ae054d665209
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 20 18:19:31 2010 +1100

    libcli: make the LIBSECURITY subsystem into a private library
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit e596a4e6c3598d0045c330a595bd0a05b6c33bb7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 20 18:17:52 2010 +1100

    waf: fixed expansion of direct_objects and direct_libs
    
    these do not need to be expanded in break_dependency_loops()

commit cd7190b802b4c4c645a7973156833b2a17db1965
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 20 18:17:13 2010 +1100

    waf: allows libraries to be marked as private_library=True
    
    this is for libraries where we make no promises about the API, but
    where we wish it to be a library to allow our binaries to use common
    code.
    
    These libraries always get the project suffix added to the library
    name, to ensure we are in a separate namespace
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit c0878cfb615d35fc3a62e45fa9ecab7f178ecb3c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 20 18:11:31 2010 +1100

    waf: rework expand_subsystem_deps()
    
    make the variable names a lot clearer, and restrict the expansion of
    subsystem deps to object style subsystems and modules. If a subsystem
    or a module is built as a library then we don't need to expand the
    dependencies across that boundary
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 14081efcc07e02a479ed3121a2359b9dd766a378
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 20 18:09:45 2010 +1100

    waf: added --show-deps and --show-duplicates
    
    these options make it easier to examine our depenency tree, by showing
    any objects linked into more than one library, and by showing the
    dependency tree for a chosen target

commit 8044a20d8d84e740ca5c6d76bacaa977d691f3d0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 21 08:51:46 2010 +0200

    ldb:ldb_modules.c - if we don't find the associated dynamic object then please close the handle
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Thu Oct 21 07:52:44 UTC 2010 on sn-devel-104

commit 0b8b9aed34b9ad80d36860840e024330ae7cd671
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 21 09:03:31 2010 +0200

    ldb:ldb_tdb/ldb_cache.c - remove a superflous "talloc_free"
    
    Didn't realise that this is already called by "ltdb_attributes_unload".

commit de9b7372334483786c856db9b55ae0f24308f27f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 21 08:45:06 2010 +0200

    ldb:ldb_tdb/ldb_cache.c - in this function we don't use LDB return codes

commit 4a33071e831b56f85bfd39918227e81b46360e35
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 20 19:55:28 2010 +0200

    s4:lib/util/charset/iconv.c - remove a distinction which can never happen
    
    "ret->cd_direct" is never set before. It is set in the "if" upperwards but
    then the function is terminated with "return".

commit 94dc63056a83168c605f14a8ce47b9b75a96fa2f
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Oct 20 17:51:13 2010 -0700

    Now we have SeSystemSecurity, remove the source3-only #ifdef.
    
    Jeremy.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Thu Oct 21 01:35:00 UTC 2010 on sn-devel-104

commit e00c2b3cdf6faa03b6ffcf87dc677fdbdd381fe3
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Oct 20 16:31:18 2010 -0700

    Add code to implement SeSecurityPrivilege in net rpc rights, and in the
    open and get/set NT security descriptor code.
    
    Jeremy.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Thu Oct 21 00:15:57 UTC 2010 on sn-devel-104

commit c0b9526aaf29442f85f62232e22aecfb484b1576
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Oct 8 04:21:07 2010 +0300

    pytalloc: use talloc_unlink() to free py_talloc objects
    
    Those type of objects are referenced every time we assign
    them to other py_talloc objects, which leads to runtime
    warnings that we are trying to free an object with references
    
    Wrap talloc_unlink() in SMB_ASSERT() to ensure we catch possible failure
    
    Autobuild-User: Kamen Mazdrashki <kamenim@samba.org>
    Autobuild-Date: Wed Oct 20 21:37:06 UTC 2010 on sn-devel-104

commit feb60345816f0fd45ea9b381fbd374b21542f518
Author: Simo Sorce <idra@samba.org>
Date:   Wed Oct 20 13:09:57 2010 -0400

    talloc: make header C++ safe
    
    Autobuild-User: Simo Sorce <idra@samba.org>
    Autobuild-Date: Wed Oct 20 18:15:09 UTC 2010 on sn-devel-104

commit c8000c94a59267326b13df3c631b9ac2921d0615
Author: James Peach <jpeach@samba.org>
Date:   Wed Oct 20 10:07:33 2010 -0700

    smbtorture: Fix typo in status message.

commit 7a194c6e5ea75db67502005e5d40d1ddf3708895
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Oct 18 09:48:30 2010 +0200

    s3: Make "unpack_pjob" static
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Wed Oct 20 16:51:04 UTC 2010 on sn-devel-104

commit 1d5cb5125c9ed911e9560a3cd99bc428306539c5
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Oct 18 10:10:43 2010 +0200

    s3: Use any_nt_status_not_ok in winbind

commit 347ca8f757d6a0b61bb22be21ffffec95986ad94
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Oct 18 10:09:57 2010 +0200

    s3: Add any_nt_status_not_ok
    
    This helps avoid quite a bit of repetitive code when looking at dcerpc_xx_recv
    results.

commit 62bea12c5dbb0e6ec6d74a3d2f8988f183572782
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Oct 9 10:12:06 2010 +0200

    s3: Don't use talloc_autofree_context in map_file

commit 97a7aec44aafde75208aaad24b42de1c93cdb97b
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Oct 9 09:44:43 2010 +0200

    uid_wrapper: The gid wrapper does not require a destructor
    
    Don't use talloc_autofree_context

commit e1cfca1e2e0f005ac9d73c6b0eb64bc99413aec6
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Oct 20 08:16:23 2010 -0700

    Make getpwnam_alloc() static to lib/username.c, and ensure all username lookups go
    through Get_Pwnam_alloc(), which is the correct wrapper function. We were using
    it *some* of the time anyway, so this just makes us properly consistent.
    
    Jeremy.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Wed Oct 20 16:02:12 UTC 2010 on sn-devel-104

commit ab01d6139fc7b2c4b651a0959a5816352d6bb49b
Author: Günther Deschner <gd@samba.org>
Date:   Wed Oct 20 14:52:30 2010 +0200

    nsstest: no need for two copies of the same tool.
    
    Guenther
    
    Autobuild-User: Günther Deschner <gd@samba.org>
    Autobuild-Date: Wed Oct 20 15:05:34 UTC 2010 on sn-devel-104

commit abb07fad043b141c3a3128c04f1e5a8d1c1507e8
Author: Günther Deschner <gd@samba.org>
Date:   Wed Oct 20 02:17:41 2010 +0200

    s3-waf: more registry cleanup.
    
    Guenher

commit d05157a47026632b1c231defeefa553811aef163
Author: Günther Deschner <gd@samba.org>
Date:   Wed Oct 20 01:54:12 2010 +0200

    s3-waf: convert LIBSMBCONF into a subsystem.
    
    Guenther

commit 4a2e47b74a7dbf8604d6a3eff6235819d13fd83f
Author: Günther Deschner <gd@samba.org>
Date:   Fri Oct 8 13:17:21 2010 +0200

    s3-waf: move RPC_CLIENT_SCHANNEL into a subsystem.
    
    Guenther

commit 71ac92b67391d826b015fc4cffb104918d14594b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Oct 20 13:43:00 2010 +0300

    s4-schema_init: Print more info about syntax we fail to recognize
    
    Autobuild-User: Kamen Mazdrashki <kamenim@samba.org>
    Autobuild-Date: Wed Oct 20 13:54:01 UTC 2010 on sn-devel-104

commit 099b0057bed73c3c7a2cf7d0123c8a1daaf53ed0
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Oct 18 03:50:20 2010 +0300

    asn1_tests.c: Make test data static const

commit d057ca3e3fba8190030929cbd41ef9a61440a78c
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Oct 18 03:49:21 2010 +0300

    lib/util/asn1.c: comment spelling

commit 0941099a2839812b18c2d3db86b18e92b152f1c8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 20 14:27:04 2010 +0200

    ldb:ldb_index.c - fix some memory leaks
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Wed Oct 20 13:11:49 UTC 2010 on sn-devel-104

commit 3bf8ca67900a10e608808535358a148455827a2e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 20 14:26:37 2010 +0200

    ldb:ldb_index.c - let "ldb_module_oom" generate the return code

commit ec43a4d29e3bb395e7a8d7edafb6dedfeb9baec2
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 20 14:08:53 2010 +0200

    ldb:ldb_cache.c - fix memory contexts and memory leaks

commit 06053a09cbf42cde12d69d0a296fb25f425aae67
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 20 13:53:14 2010 +0200

    ldb:ldb_tdb submodule - use "ldb_msg_new" where appropriate
    
    It is saver than a manual "talloc".

commit 1427895531c259f4bb6c561972b79051807c2a4d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 20 13:47:48 2010 +0200

    ldb:ldb_pack.c - remove superflous "message->elements = NULL"
    
    It's already marked at this at the beginning of the call.

commit caf6b3686fb7f18b17e0b89f519f216ac98df3be
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 20 13:40:19 2010 +0200

    libcli/security/access_check.c - fix a memory leak

commit efb22bf782fe49ca60650c87a0ead8ae93c06eca
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Oct 19 08:59:14 2010 +0200

    s3: Add some DEBUG
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Wed Oct 20 11:58:20 UTC 2010 on sn-devel-104

commit da00021a7c236f9ac87442b96881bf0b2701ad0b
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Oct 19 08:53:21 2010 +0200

    s3: Cope with EINTR in smbd_[un]lock_socket

commit 4a8c17a41cd8412247741afbcd8abad77b2a8113
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Oct 20 14:27:57 2010 +1100

    libcli/ldap Don't try and encode a control with a NULL OID
    
    ctrl->oid is set to NULL by the Samba4 rootDSE module when removing
    controls that should not be exposed over LDAP (to avoid a realloc).
    
    Andrew Bartlett
    
    Autobuild-User: Andrew Bartlett <abartlet@samba.org>
    Autobuild-Date: Wed Oct 20 04:13:44 UTC 2010 on sn-devel-104

commit 39932f21dabbd96b6a1e7165d9289069cac87a3e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 20 09:44:03 2010 +1100

    autobuild: create an autobuild.pid file
    
    this will allow us to avoid an error email when you resubmit and there
    is an existing autobuild.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Tue Oct 19 23:36:05 UTC 2010 on sn-devel-104

commit 0a2e55bb41c8ed32d4731c8b6456fc714a1149f4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 20 09:14:40 2010 +1100

    s4-mailslot: fixed handling of random collision in temporary mailslot names
    
    we could get occasional failures in the samba4.nbt.dgram test if we
    happened to get a collision in the random mailslot names.
    
    Thanks to Jeremy for spotting this! (his autobuild failed)
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 45794dd30a7717aafba40864c1843e47098a4502
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Oct 19 13:32:53 2010 -0700

    Fix shadow warning for "access" variable.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Tue Oct 19 22:53:38 UTC 2010 on sn-devel-104

commit e7d0f478ee529500461f80f2fd51987c9255d345
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Oct 19 11:11:56 2010 -0700

    Add deadtime detection for SMB2. Correctly update lastused timestamp across all active tcons. Should fix dfree cache not updating bug.

commit d7f4bea39455c5d0a9b36cfa731d10c96a1c1405
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Oct 19 10:12:42 2010 -0700

    Add SMB2 paths to smbd/conn.c. Except for conn_idle_all(), to be cleaned up next.

commit 1bd6faa8fa9143f526f9438c6b126b68820d29f8
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Oct 19 10:04:27 2010 -0700

    Copyright/whitespace/comment cleanup in preparation for adding SMB2 paths.

commit edefaf5bed75fd315b1ca9a3da096419a7a6cec3
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Oct 19 13:25:51 2010 -0700

    Move tcons.num_open from smb1 to sconn->num_tcons_open as this is needed for SMB2 also.

commit 492ab4d60fac5551b8c9b40d18871e677cd4187c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Oct 20 07:52:14 2010 +1100

    s3-waf Use LIBSECRUITY subsystem from the common wscript_build
    
    Andrew Bartlett
    
    Autobuild-User: Andrew Bartlett <abartlet@samba.org>
    Autobuild-Date: Tue Oct 19 22:06:51 UTC 2010 on sn-devel-104

commit 7db20c3128361abe3facbcbd9714b1e44f1333d2
Author: Günther Deschner <gd@samba.org>
Date:   Tue Oct 19 16:07:45 2010 +0200

    s3-waf: all subsystems complete now, no need for this loop anymore.
    
    Kai, please check.
    
    Guenther
    
    Autobuild-User: Günther Deschner <gd@samba.org>
    Autobuild-Date: Tue Oct 19 17:10:24 UTC 2010 on sn-devel-104

commit fa2a2d562f9fff0ca0de4e17ef49f318d2b481b9
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 28 18:55:55 2010 +0200

    s3-waf: convert rpc into a subsystem.
    
    Guenther

commit 38438c30618ab440bf3b5e45941f14a295ad1c3f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Oct 19 15:05:01 2010 +0200

    s4:nbt_server - fix a LDB counter type
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Tue Oct 19 14:05:13 UTC 2010 on sn-devel-104

commit 4b4dcaf4b300c3d66833e9b0eff91c8365275d9d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Oct 19 22:30:26 2010 +1100

    s4-dsdb Reset the error string after 'expected' errors.
    
    This helps ensure that we don't get confusing error strings in the
    logs on other error cases.
    
    Andrew Bartlett
    
    Autobuild-User: Andrew Bartlett <abartlet@samba.org>
    Autobuild-Date: Tue Oct 19 12:16:07 UTC 2010 on sn-devel-104

commit 439a1fe2d0db8a784431a4dbc070faef6e4f788e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Oct 19 22:29:04 2010 +1100

    s4-dsdb Add module to send only 'simple' DNs to OpenLDAP backends
    
    If we send the full extended DN, then we risk standards-complient LDAP
    servers rejecting it as invalid.  Only the DN portion is needed to
    resolve the record in any case, and any SID or GUID componenets have
    already been evaluated into the DN.
    
    Andrew Bartlett

commit 5650e8558eb703a5660cb3cef79bec89dc6ac5fc
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Oct 19 22:27:54 2010 +1100

    s4-dsdb Allow LDB_ERR_INVALID_DN_SYNTAX in dsdb_load_partition_usn
    
    This will happen on an OpenLDAP backend, because @ records are invalid in LDAP.
    
    We don't have these sequence numbers in this case.
    
    Andrew Bartlett

commit 897583476c49d4c037c1d8579fd6841728b871ba
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Oct 19 20:20:43 2010 +1100

    s4-auth Add DEBUG() for invalid DNs and errors expanding user groups.
    
    Against the OpenLDAP backend, I currently get failures.  This makes it
    possible to debug those failures.
    
    Andrew Bartlett

commit d652803c12b79315fe6a1d0410b82492908950e4
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Oct 19 11:30:24 2010 +0200

    ldb:"ldb_schema_attribute_by_name_internal" - support the whole unsigned int range
    
    Commit 8556602b048e825b35df314d6865f997823ec2bb wasn't quite right - it only
    restored the functionality on the positive integer range.
    
    This one however should now really support the whole unsigned range.
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Tue Oct 19 10:52:08 UTC 2010 on sn-devel-104

commit a6d70ddf86842db6fbd76da857cb0c70fb48aacf
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Oct 19 11:46:34 2010 +0200

    s4:dsdb/schema/schema_init.c - remove a duplicated "talloc_free"

commit a9b58f6246f9098ec42e0b162e5fb97e50dbd32a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Oct 19 10:57:12 2010 +0200

    s4:samdb.py - remove a pointless comment
    
    We are only looking for the default DN - but the method name already tells
    us this.
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Tue Oct 19 10:03:12 UTC 2010 on sn-devel-104

commit 8c4f6bcd672d7c4e85f28865ee7602554a187baf
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Oct 19 10:56:07 2010 +0200

    s4:samdb.py - use a more standard way to get to the domain realm/dns name
    
    We do always use the canonical name as a base if we don't have it around yet.

commit 87fd2fd1574d4cb52aef216e632e9899a01b2940
Author: Lukasz Zalewski <lukas@eecs.qmul.ac.uk>
Date:   Sat Oct 16 19:51:09 2010 +0100

    Addition of userPrincipalName attribute when new account is created

commit 73d6bb74476561ef0140d21810541825c44b44a4
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Oct 19 17:12:35 2010 +1100

    s4-gensec Don't give more to sasl_encode() than it will permit
    
    We need to ask the library how much data to pass in at any time.
    
    Andrew Bartlett
    
    Autobuild-User: Andrew Bartlett <abartlet@samba.org>
    Autobuild-Date: Tue Oct 19 08:37:45 UTC 2010 on sn-devel-104

commit 15a3077885227cc5e81e331979713c27192a01ef
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Oct 19 15:12:20 2010 +1100

    s4-gensec Don't upgrade all DIGEST-MD5 connections to seal
    
    The issue here is that when props.max_ssf = UINT_MAX was always set,
    as was the maxbufsize, and the connection would always be upgraded,
    regardless of the callers wishes.
    
    Andrew Bartlett

commit f9c7365e535727b1d6d6ef55ed8c196368c625b9
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Oct 19 10:38:10 2010 +1100

    s4-provisionbackend Allow a fixed URI to be specified for LDAP backend
    
    This is added to make the 'existing' LDAP backend class more useful,
    and to allow debuging of our OpenLDAP backend class with wireshark, by
    forcing the traffic over loopback TCP, which is much easier to sniff.
    
    Andrew Bartlett

commit 4d9b12ae8f9fc7c097b94e6c02df3cb1c38a52ce
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Oct 19 09:12:57 2010 +1100

    s4-provision Remove serverdn parameter from Schema()
    
    We don't need to know the server DN here any more, and it
    makes no sense for many callers.
    
    Andrew Bartlett

commit 640fbf833b824d3c4c2ecfecdb75fade2ef70fa9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Oct 19 14:53:14 2010 +1100

    s4-dsdb: register the DCPROMO_OID control with the rootdse
    
    this is needed to allow it over ldap
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Tue Oct 19 04:44:23 UTC 2010 on sn-devel-104

commit 75d57dbc25738bcf01d404b329fda22641a774ff
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Oct 19 14:49:17 2010 +1100

    selftest: terminate selftest if we can't setup the environment

commit f6a9708b546ac54a74c8718aedd9e5ac976fc72b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Oct 19 11:47:22 2010 +1100

    s4-ldb: increase minor version for 2 new functions
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Tue Oct 19 01:27:44 UTC 2010 on sn-devel-104

commit 423365d5fa6b66f8be370accedfc6ed04d6df6b3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Oct 19 11:22:12 2010 +1100

    s4-ldap: mark all ldap:// requests as untrusted
    
    this allows the rootdse module to filter unregistered controls
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 80a4adc062a64e25a9ba0986e426c21599d1a366
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Oct 19 11:21:45 2010 +1100

    s4-dsdb: filter unregistered controls in the rootdse module
    
    if we get an unregistered control in the rootdse module, and the
    request comes from an untrusted source (eg. ldap://) then we need to:
    
     1) filter the control out if it is marked non-critical
    
     2) give an error if it is marked critical
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit d16fe72585445e7fd3724a7413ca7e03ee633fc9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Oct 19 11:20:14 2010 +1100

    s4-ldb: cope with NULL oid in controls
    
    the ldap server will mark a control with a NULL oid in order to remove
    it. This prevents a O(n^2) cost in control handling.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 5f6c004dec2140755ddfe5f801775e19a03a7ec8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Oct 19 11:19:20 2010 +1100

    s4-ldb: added --relax cmdline option
    
    this adds the relax control

commit ff456cd1007dc06a51c5e60394964bcf898b24d2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Oct 19 11:17:53 2010 +1100

    s4-ldb: added ldb_req_mark_untrusted() and ldb_req_is_untrusted()
    
    these will be used to determine if a ldb request comes from an
    untrusted source. We want requests over ldap:// to be marked untrusted
    so we can reject unregistered controls
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 968381a4e2e7c8350b89104c17568259d35787a5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Oct 18 15:17:56 2010 +1100

    waf: put -Wl,-no-undefined only in the linker flags, not when compiling C

commit 1b8355897d1db0a127b6357ff5a3b2eb1c1e3b71
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Oct 17 22:34:17 2010 +1100

    waf: don't save deps on install
    
    this prevents an install triggering a new check of the project rules
    on the next build

commit d48570143656d1c570c282f8e21e058508910f3c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Oct 17 21:58:22 2010 +1100

    waf: automap shared library names from .so to the right extension
    
    this should help with MacOSX .dylib libraries

commit 7197bcc513e707676f10734cffd6f2f494a360c1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 16 19:54:05 2010 +1100

    readline: fixed the test for history_list()

commit ec90b249ecbd415c931630070b0831c6cf86d2d4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 16 19:53:17 2010 +1100

    replace: cope with systems that have fdatasync(), but don't have the prototype
    
    this is needed for MacOSX 10.4.1

commit 1ac19c1ca3164dc6a1b29ce81047bab81a9af918
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 18 21:22:37 2010 +0200

    s4:ldap_server - use error code constant
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Mon Oct 18 20:32:40 UTC 2010 on sn-devel-104

commit dcbfcbbceb87e742b642a9dffee1304dcf0b93bb
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 18 21:21:45 2010 +0200

    ldb: always return PROTOCOL_ERROR if an operation is unsupported
    
    That's exactly the behaviour of various LDAP servers.

commit 902e7288a738c0580c466ae4c5c503d604c66e6e
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Oct 18 22:23:00 2010 +0400

    selftest: use full path for selftest.pl instead of relative paths
    
    FindBin on solaris8 with perl 5.04 has problem to get the path of the
    called script if the script is called with a relative path.
    
    Autobuild-User: Matthieu Patou <mat@samba.org>
    Autobuild-Date: Mon Oct 18 19:50:03 UTC 2010 on sn-devel-104

commit b1a13e5e1453b6f776e0a35f293f4060c77fe59a
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Oct 18 20:21:12 2010 +0400

    selftest: correct the import of Time::HighRes
    
    The "use" is always evaluated first even if enclosed into a if. So
    on plateform without Time::Hires (ie. sun8 in the build farm). This
    leads to an error.
    
    Instead we use the synthax require Module + Module->import("function")

commit 8556602b048e825b35df314d6865f997823ec2bb
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 18 20:19:00 2010 +0200

    ldb:"ldb_schema_attribute_by_name_internal" - switch back to 32bit counters
    
    Use the signed counter for the binary search but use an unsigned one for
    accessing the entry.
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Mon Oct 18 19:01:31 UTC 2010 on sn-devel-104

commit 48cd89e25d58d5d2fd0dbb7ce4a0e8b96e3e6044
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 18 20:10:17 2010 +0200

    ldb:ldb_tdb.c - fix up counter variables
    
    "find_element" returns an "int" since there is also the possibility that a
    certain element doesn't exist - then "-1" is returned. But beside this
    exception treat all other return values as unsigned.

commit 94a445869c5fa3bb6df542c494e8822478f790e8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 18 20:07:49 2010 +0200

    ldb:ldb_tdb.c - improve the error outputs
    
    - Fix indentation
    - Include always the failing DN
    - Reorder the outputs to make them consistent

commit 3ead246062b927e44cb75e684cc67c41109d63c4
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 18 19:24:43 2010 +0200

    s4:"util_ldb" - remove some really unused dependancies

commit a610ce4aa63b5bbe0886e510f7ccd9a6f95e266d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 22:29:30 2010 +0200

    libcli/nbt: we don't need LIBCLI_COMPOSITE anymore
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Mon Oct 18 16:18:32 UTC 2010 on sn-devel-104

commit 820ae3d9a36e031027be163d22eec468a6da8603
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 21:18:15 2010 +0200

    libcli/nbt: convert nbt_name_register_bcast_send/recv to tevent_req
    
    metze

commit 0b8056d580e2d2475b208c73ffb698b0bcd487eb
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 21:01:23 2010 +0200

    libcli/nbt: s/name_register_bcast_handler/nbt_name_register_bcast_handler
    
    metze

commit c654a6c02bbd7c7a245b2a06e405d88724c12fc7
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 20:59:35 2010 +0200

    libcli/nbt: s/register_bcast_state/nbt_name_register_bcast_state/
    
    metze

commit 77d82fe944fa1f02c150cc2e0967cca654cd4dae
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 20:57:58 2010 +0200

    libcli/nbt: move nbt_name_register_bcast_send to the top of nbt_name_register_bcast_*
    
    metze

commit 6f2d94b960bb6d23ff8932eff2b44722cf335280
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 22:17:02 2010 +0200

    s4:nbt_server/register: add a nbtd_register_name_state
    
    metze

commit e3a0463414ba7759d332d5bebf6222bfa17ed037
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 21:58:29 2010 +0200

    libcli/nbt: convert nbt_name_register_wins_send/recv to tevent_req
    
    metze

commit 4f233c7ff8b23b0dd4797e08d7dc680598e1b844
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 21:23:58 2010 +0200

    libcli/nbt: s/name_register_wins_handler/nbt_name_register_wins_handler
    
    metze

commit b16681374c6c4d010a74bb2cb914ac226643c634
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 21:21:26 2010 +0200

    libcli/nbt: s/register_wins_state/nbt_name_register_wins_state
    
    metze

commit 549b594c5798954de056cf7e3858e94f1b965bdb
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 21:19:59 2010 +0200

    libcli/nbt: move nbt_name_register_wins_send() to the top of all nbt_name_register_wins_* related code
    
    metze

commit 12c38806af46da329e2f370d32a4fa964ceeb23f
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 20:49:28 2010 +0200

    s4:nbt_server/winsclient: add a nbtd_wins_register_state
    
    We now keep the nbtd_wins_register_state around between
    nbt_name_register_wins_send() and nbt_name_register_wins_recv()
    
    metze

commit 43fb7f1698c0c8aaa7f1e5d6a0f924396a9a12fe
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 08:54:27 2010 +0200

    libcli/nbt: convert nbt_name_refresh_wins_send/recv to tevent_req
    
    metze

commit 332f261bbf5a3179cbab6cb7aa8b490d0072b7af
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 08:33:06 2010 +0200

    libcli/nbt: s/name_refresh_wins_handler/nbt_name_refresh_wins_handler
    
    metze

commit 3ded1da8e99a628530d0a45256e012b7553c094c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 08:18:16 2010 +0200

    libcli/nbt: s/refresh_wins_state/nbt_name_refresh_wins_state
    
    metze

commit e36e7295da42743519470f5b5c06e65071707db5
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 08:15:01 2010 +0200

    libcli/nbt: move nbt_name_refresh_wins_send() to the top of all nbt_name_refresh_wins_* related code
    
    metze

commit 5f19a24c500c17de9159f721c75077a162fa8bac
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 09:41:16 2010 +0200

    s4:nbt_server/winsclient: add a nbtd_wins_refresh_state
    
    We now keep the nbtd_wins_refresh_state around between
    nbt_name_refresh_wins_send() and nbt_name_refresh_wins_recv()
    
    metze

commit 2ae3bb0b160c8c1cc0f500bfdd39125292db5f59
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 22:26:09 2010 +0200

    s4:nbt_server/wins: fix compiler warnings
    
    metze

commit a10b3416e558e16f82b80a0794485c1fcbda9371
Author: Tim Potter <tpot@samba.org>
Date:   Mon Oct 18 07:54:31 2010 -0700

    Include misc.idl for policy_handle in srvsvc.idl.
    
    Autobuild-User: Tim Potter <tpot@samba.org>
    Autobuild-Date: Mon Oct 18 15:35:40 UTC 2010 on sn-devel-104

commit 64e9f79587916c0e8e9079636e3a2ab60ea2b455
Author: Günther Deschner <gd@samba.org>
Date:   Mon Oct 18 15:55:47 2010 +0200

    s3: fix the build of idmap_adex, idmap_tdb2, idmap_hash and several vfs modules.
    
    Guenther
    
    Autobuild-User: Günther Deschner <gd@samba.org>
    Autobuild-Date: Mon Oct 18 14:39:39 UTC 2010 on sn-devel-104

commit 5845dae8262a648d3af7b73044483e8bed2f4f08
Author: Günther Deschner <gd@samba.org>
Date:   Mon Oct 18 15:55:16 2010 +0200

    s3-waf: fix the build after libcli/security changes.
    
    Guenther

commit 203dc4f929640ad704b96efc043daa2d97556af3
Author: Günther Deschner <gd@samba.org>
Date:   Tue Oct 12 00:46:53 2010 +0200

    s3-waf: fix the build of smbtorture.
    
    Guenther

commit 10f95a4f1a5f08c5b58b5f5d10921d792997c352
Author: Günther Deschner <gd@samba.org>
Date:   Tue Oct 12 00:26:03 2010 +0200

    s3-waf: fix pdb modules build.
    
    Guenther

commit 20c7e2b3a37c624995bb515e65052d0a106b6ebc
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 23:04:28 2010 +0200

    s4:libcli/util: add pipe related NT_STATUS_RPC_* codes
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Mon Oct 18 13:50:55 UTC 2010 on sn-devel-104

commit 5c82a1bb0a34ed7764e913371604389b39a48130
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 23:03:34 2010 +0200

    s3:libsmb: add pipe related NT_STATUS_RPC_* codes
    
    metze

commit 72a89664993b6c7a89e4e9ce71c9a8f1752a39ec
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 11 23:02:38 2010 +0200

    libcli/util: add pipe related NT_STATUS_RPC_* codes
    
    metze

commit b615b7060188bbc33a8e8b38b2b2b14b239dc735
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Oct 15 17:58:39 2010 +0200

    s3-winbind: Fixed init order.
    
    We need the system server info in the rpc services.
    
    Autobuild-User: Andreas Schneider <asn@samba.org>
    Autobuild-Date: Mon Oct 18 12:43:16 UTC 2010 on sn-devel-104

commit abeef470c4f233762950d0bf8d60760a7f8578a9
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 18 12:20:56 2010 +0200

    librpc: Fixed memory context of dcerpc_binding_from_tower.

commit d42ddd7b603524fb9a95be2317104d2f0e456ee2
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Oct 18 11:50:04 2010 +0200

    s4-gensec: Add dependency on com_err to GENSEC_KRB5.

commit 034832ccd5f32658f8f199d277878985e5c65470
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 18 22:13:20 2010 +1100

    s4-ldb Add LDB_REQ_SET_LOCATION to help track handler use
    
    This greatly assists in debugging what is going on with the
    ldb handle, as it indicates where it was created.
    
    Andrew Bartlett
    
    Autobuild-User: Andrew Bartlett <abartlet@samba.org>
    Autobuild-Date: Mon Oct 18 11:54:46 UTC 2010 on sn-devel-104

commit f4c82c621de73bdaee7a4a9e8598ea41ec208256
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 18 22:11:40 2010 +1100

    s4-selftest Make GDB_PROVISION work again
    
    gdb --args won't run the #!/usr/bin/evn python
    
    Andrew Bartlett

commit 48c54f9ec879b5ffedfe91d52202bff3d2ef1eff
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 18 14:06:50 2010 +1100

    ldb Ensure we mark ongoing LDAP requests as PENDING

commit ce01e36d8c2e3b9857d64a648fdf683c0c267bd6
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 18 11:49:55 2010 +1100

    s4-openldap-backend Don't set 'dbnosync' on cn=config
    
    This isn't valid in current OpenLDAP versions.
    
    Andrew Bartlett

commit ba9e787c7d51ab7b381361e02efad97c5814d3c7
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 18 11:48:14 2010 +1100

    s4-provision Use --ldap-backend-nosync rather than just --nosync
    
    For some reason we had both options, and --ldap-backend-nosync is
    the better name.
    
    Andrew Bartlett

commit d1ca35cbecaa788bcbb0e307ca2385c4e7f1ba0c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 18 11:35:46 2010 +0200

    heimdal_build: Add dependency on com_err to HEIMDAL_CONFIG.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Mon Oct 18 10:27:47 UTC 2010 on sn-devel-104

commit f3972830dda0e19454a57c62fc2a5d10db20ee7b
Author: Samba-JP oota <ribbon@samba.gr.jp>
Date:   Mon Oct 18 07:10:29 2010 +0200

    This is typo fix patch for smbcacls.1.xml .
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Mon Oct 18 05:53:26 UTC 2010 on sn-devel-104

commit b8dea2c3272f96ba7910ec44c5b7c4203e4695e2
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 18 10:48:21 2010 +1100

    dsdb simple_ldap_map depends on LDBSAMBA
    
    This shows up at build time on MacOS and runtime on Linux when we
    use the LDAP backend.
    
    Andrew Bartlett
    
    Autobuild-User: Andrew Bartlett <abartlet@samba.org>
    Autobuild-Date: Mon Oct 18 00:57:51 UTC 2010 on sn-devel-104

commit dab426476ffcab92df7fcb2f76064e46b5101d7f
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 18 10:24:56 2010 +1100

    Revert "s4:dsdb - make the RELAX control private"
    
    This must be available to the OpenLDAP backend, to set the GUID values
    in some situations.  We need a proper ACL mechanism to control the use
    or abuse of this control.
    
    This reverts commit 10adee89367cee9add993869280542418fb3d370.

commit 9f0d1c72be4f763f3323e7627158ea5a68faa02b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 18 01:28:53 2010 +0200

    heimdal: Attempt to fix path of hdb_asn1.h
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Mon Oct 18 00:15:11 UTC 2010 on sn-devel-104

commit cbd4891808025bcb9ada4546cb343bf458821602
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 18 01:17:56 2010 +0200

    dsdb: Module aliases require to be prefixed with the subsystem name.

commit fb8bbd25060cadeff867038463d6f599102c1082
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 17 20:35:04 2010 +0200

    dcerpc_samr: Fix -l arguments for dcerpc_samr and dcerpc_atsvc.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Sun Oct 17 19:15:43 UTC 2010 on sn-devel-104

commit 05c1beb6b47e607dac9850e81cef775a1d9b00ae
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 17 19:39:09 2010 +0200

    tdb: Bump version to 1.2.7 after addition of pytdb.__version__.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Sun Oct 17 18:23:16 UTC 2010 on sn-devel-104

commit a31e10eab17e1ac7c766fde4b3840f7f597e3ba9
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 19:01:18 2010 +0200

    heimdal: Add local simpler copy of to_list().

commit a3f61dea40d8a907d56abe1c0eee980f78228b79
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Oct 17 14:27:18 2010 +0200

    Revert "s4:remove "util_ldb" submodule and integrate the three gendb_* calls in "dsdb/common/util.c""
    
    This reverts commit 8a2ce5c47cee499f90b125ebde83de5f9f1a9aa0.
    
    Jelmer pointed out that these are also in use by other LDB databases - not only
    SAMDB ones.
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sun Oct 17 13:37:16 UTC 2010 on sn-devel-104

commit 8a2ce5c47cee499f90b125ebde83de5f9f1a9aa0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Oct 17 10:37:23 2010 +0200

    s4:remove "util_ldb" submodule and integrate the three gendb_* calls in "dsdb/common/util.c"
    
    They're only in use by SAMDB code.
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sun Oct 17 09:40:13 UTC 2010 on sn-devel-104

commit 39bd4ce92055f79e55e2f228537324d7f1401cc0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Oct 17 10:29:46 2010 +0200

    s4:lib/util/util_ldb.c - remove unused "gendb_add_ldif" call

commit e1078d2de2a2462fb24d3d4b5e2643290e663c6c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Oct 17 10:23:41 2010 +0200

    s4:ldb-samba/ldb_wrap.c - fix indentation and trailing whitespaces

commit be4a0d35ac8c55a102e5a938a4b7627e0defd23d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Oct 17 10:20:40 2010 +0200

    s4:"wrap_casefold" - move it to "ldb_wrap.c" since it's only used there

commit 10adee89367cee9add993869280542418fb3d370
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 16 20:58:51 2010 +0200

    s4:dsdb - make the RELAX control private
    
    This makes our LDAP much more secure and less error-prone.
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sat Oct 16 19:43:36 UTC 2010 on sn-devel-104

commit 02d9d8eeaff4337e28a8ad061c028f31bf214773
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 16 20:46:20 2010 +0200

    s4:libcli/ldap/ldap_controls.c - fix up the controls list
    
    - add missing private controls and comments
    - use control defines rather than hardcoded values -> easier to comprehend
    - reorder controls

commit c4739f7be88bb7ef1da48cfef07b47cc351a1cb8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 16 20:45:08 2010 +0200

    ldb:ldb.h - reorder controls/extended operations
    
    This makes it easier to read

commit c161ad86d62112afc3fa571c71459540bb90925a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 17:30:51 2010 +0200

    heimdal: Remove some unused arguments from HEIMDAL_SUBSYSTEM().
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Sat Oct 16 16:14:24 UTC 2010 on sn-devel-104

commit 9147e196111b28bddf8994df199a9992a24aa5f2
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 17:26:24 2010 +0200

    heimdal: Allow leaving off prefix from asn1 option_file.

commit eab84a6ed0b90facd43ff7075c51f5e3e1b4739d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 17:25:19 2010 +0200

    heimdal: Leave off ../heimdal prefix to HEIMDAL_BINARY().

commit d3ea64451ca3534c29ed66fb79bb9acec7683271
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 17:23:06 2010 +0200

    heimdal: Allow leaving off prefix to HEIMDAL_ERRTABLE().

commit 2aba5aa4b61df0b7851a77eff3273766fb434819
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 17:21:05 2010 +0200

    heimdal: Allow leaving off prefix for HEIMDAL_ASN1().

commit c5d4d94104715c59522114ed0a24cf202c5348a6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 17:16:44 2010 +0200

    heimdal: Allow leaving off ../heimdal prefix for proto headers.

commit 49d20a5d5f7c24998dd849d91b6622f5332625d1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 17:13:10 2010 +0200

    heimdal: Allow leaving off ../heimdal prefix for source files.

commit c3009ac689bf91e7a9cb1cc9c34e2b0e8ae246e2
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 17:08:27 2010 +0200

    heimdal: Add convenience functions for finding heimdal paths.

commit 953d25374869f177dab72807fef83651ef7e811a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 17:06:41 2010 +0200

    heimdal: Call HEIMDAL_AUTOPROTO() manually.

commit 32fce1f0753489e340585ce6123024bc2b2042f7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 17:03:06 2010 +0200

    heimdal: Call HEIMDAL_AUTOPROTO_PRIVATE() manually.

commit 1c4c96d3feea91945300b3796ce242d305d91b04
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 16:46:22 2010 +0200

    heimdal: Add variables for source files.

commit 196e8d16558fbc97db687f61ec644a1669e94c3e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 16:37:11 2010 +0200

    heimdal: Simplify handling of ../heimdal prefixes in HEIMDAL_SUBSYSTEM.

commit b2af44e92be1cdca2020efe92d845cf050fd44d6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 04:31:54 2010 +0200

    heimdal_build: Fix detection of system roken library.

commit c3366c19a72f1a35e540fdaf89a6351cc6451ce6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 04:30:49 2010 +0200

    heimdal_build: Remove ignored argument ldflags from HEIMDAL_BINARY().

commit dd0f22d446a313db9ce109ef99d8de998ebc449d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 16 15:49:07 2010 +0200

    ldb:pyldb.c - remove pointless comment
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sat Oct 16 14:38:58 UTC 2010 on sn-devel-104

commit 39d11a977d0f326fe676b245fa55e63416350e81
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 16 15:10:11 2010 +0200

    ldb:"ldb_dn_compare_base" - use "unsigned int" counters
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sat Oct 16 13:54:13 UTC 2010 on sn-devel-104

commit 531d7f569e2fc1c385fb294fe7fb81d9b3d371f9
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 16 15:08:40 2010 +0200

    ldb:"ldb_dn_add_child" - use "unsigned int" counters

commit 1557acb44af8c43ceafa5516915f7107e169f190
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 16 15:04:57 2010 +0200

    ldb:"ldb_dn_remove_base_components" - use an "unsigned int" counter

commit 19e94349b3bf3ba605cb5fde3fca9fe12bfe74d9
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 16 14:47:42 2010 +0200

    ldb:"ldb_dn_canonical" - use an "unsigned int" counter
    
    Convert it to use an "unsigned int" counter which represents the exact length
    of the DN components.

commit bc0294814af8dd2756191c8df74bb8db0fe61319
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 16 14:19:19 2010 +0200

    s4:samldb LDB module - use appropriate fixed-length integer types where needed
    
    - The "systemFlags" we interpret always as signed
    - Use "samdb_msg_add_int" where possible (much saver for integer storing than
      ldb_msg_add_fmt)

commit 42d9978cdd20c4f5a8cfee8e9db8e8d7b405b677
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 16 11:00:12 2010 +0200

    s4:dsdb/samdb/ldb_modules/util.c - remove now unused functions which set integers
    
    Please do always use the functions which specifiy the appropriate integer
    length to not run into platform-specific issues. Therefore I'm removing these
    generic calls.

commit a0bd52975171b1a4d2407026b21df5cfe3d54dce
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 16 10:59:30 2010 +0200

    s4:samba3sid LDB module - handle the RID as uint32_t
    
    - This is how we always deal with RIDs
    - Use an integer-length safe function for the RID update

commit d7ca757b315181c678d4f874294f72b1114f3dad
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 16 12:28:25 2010 +0200

    s4:objectclass LDB module - implement the "isCriticalSystemObject" subtree delete protection
    
    MS-ADTS 3.1.1.5.5.7.2
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sat Oct 16 11:24:09 UTC 2010 on sn-devel-104

commit 88e5375ad3d0386371b19d0d3b851d7974afdcdb
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 16 11:32:38 2010 +0200

    s4:ldif_handlers.c - fix a typo

commit c2918581996b58c3e2a2416e6dd693978becd3a2
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 14 17:01:39 2010 +0200

    s4:dsdb - fix unsigned integer save problems using the "%u" specifier
    
    The issue here is that we have not yet first cast to int32_t explicitly,
    before we cast to an signed int to printf() into the %d or cast to a
    int64_t before we then cast to a long long to printf into a %lld.
    
    There are *no* unsigned integers in Active Directory LDAP, even the RID
    allocations and ms-DS-Secondary-KrbTgt-Number are *signed* quantities.
    (See the schema, and the syntax definitions in schema_syntax.c).
    
    The failure has been detected by Matthieu Patou on the buildfarm host "tridge"
    due to a malformed "groupType" attribute.
    
    The solution is to use the "%d" specifier. Either to use it directly - or better
    (when possible) use the call "samdb_msg_add_uint" (which encapsulates it).
    
    This patch changes such problematic situations.

commit a72ffb0d0157dce2ac45e3b228f168a56c89f26e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 16 10:36:32 2010 +0200

    s4:dsdb/common/util.c - describe the behaviour of the functions "samdb_msg_add_uint", "samdb_msg_add_uint64" and "samdb_msg_set_uint" a bit more
    
    Unsigned int data in AD is a bit problematic to handle. Problem described by
    abartlet.

commit 83871d2642378d1cd0a8bad0a2d5a9a92cb1cfe8
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Oct 15 22:27:10 2010 -0700

    Don't arbitrarily clean all parametric options in add_a_service(),
    that is called from many places, not just smb.conf processing. Only
    clean parametric options when doing actual smb.conf reading (or
    registry equivalent).
    
    Michael Adams, Volker, Metze, please check.
    
    Jeremy.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Sat Oct 16 06:46:19 UTC 2010 on sn-devel-104

commit bcdf781545ae31f9ec7caf2c60f74d27a962de6d
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Oct 15 19:54:51 2010 -0700

    Ensure we have correct parameters to use Windows ACL modules.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Sat Oct 16 03:36:04 UTC 2010 on sn-devel-104

commit 50d3baffb223999bd264cfa957003cd6189d9a8c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 03:27:02 2010 +0200

    heimdal_build: Support using system asn1 library.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Sat Oct 16 02:14:32 UTC 2010 on sn-devel-104

commit 12fa11021916e32899fd4607be78d5cc7418fa04
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 03:07:40 2010 +0200

    heimdal_build: Skip some hx509 code when using system hx509.

commit 8db6453ae2b8ebb2dda06f5970a1bd5512632e3c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 02:57:57 2010 +0200

    heimdal_build: Add comment with stub for finding the system libtommath.

commit b244383e75a5d9a6dab4c3fb0595a703a7c762e7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 02:48:06 2010 +0200

    heimdal_build: Initial work on supporting an external heimdal library.

commit 471e57edf87373a352aca1d7b006360068b18274
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 02:25:40 2010 +0200

    heimdal_build: Support using system hx509 library when explicitly
    requested.

commit 3fe2bfddda6149f6bf7402720226e9285f479fef
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 02:15:36 2010 +0200

    heimdal_build: Fix build with system roken.

commit 6852cc4a7a5601261ba31ee05388a4078e69c77c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 01:49:41 2010 +0200

    heimdal_build: Put version objects in a separate subsystem.

commit 2e038a78fdcc9dc8a9f65de48176323ad68a3420
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 00:58:56 2010 +0200

    heimdal: Support using system roken.

commit 7af56875040c0d170d3313bb0e0c126d3f19aed8
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 00:41:34 2010 +0200

    heimdal_build: Use existing functions for finding system libraries.

commit 06fc79f1fde5963ef89027e2cd297e866aa8c204
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Oct 15 15:56:09 2010 -0700

    Add acl_xattr:ignore system acls boolean (normally false) to allow
    Samba ACL module to ignore mapping to lower POSIX layer. With this
    fix Samba 3.6.x now passes RAW-ACLs (with certain smb.conf parameters
    set).
    
    Jeremy.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Sat Oct 16 01:26:31 UTC 2010 on sn-devel-104

commit cf45581cdfbe60815c5b278f2c4cbceeb7ca1407
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Oct 15 15:53:51 2010 -0700

    Add make_default_filesystem_acl() function to be used in following change to acl_xattr and acl_tdb module.

commit 1904c44ec84fe5d706a4e07f73bad17d0948535a
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Oct 15 15:42:44 2010 -0700

    Fix handling of "NULL" DACL. Map to u/g/w - rwx.
    
    Jeremy.

commit e031f8ae6aee266c0ebf0b53465906e215ac9561
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Oct 15 15:28:23 2010 -0700

    Fix "force unknown ACL user" to strip out foreign SIDs from POSIX ACLs if they can't be mapped.

commit f4a9d25cfc70e79f476d01ae3234f2155bbcf39e
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Oct 15 14:18:22 2010 -0700

    Add debug message to get_nt_acl_internal() to see what we got.

commit 625126dc8dec1198b94bda0643222f0b046587d8
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Oct 15 14:16:30 2010 -0700

    Fix valgrind "uninitialized read" error on "info" when returning !NT_STATUS_OK.
    
    Jeremy.

commit 8cad5e23b6e2440a566def6fb138d484e3b47643
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Oct 15 14:12:04 2010 -0700

    Fix bug #7734 - When creating files with "inherit ACLs" set to true, we neglect to apply appropriate create masks.
    
    Jeremy.

commit 92adb686372a9b67e47efb5b051bc351212f1780
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Oct 15 13:30:07 2010 -0700

    Fix bug #7733 - Invalid client DOS attributes on create can cause incorrect unix mode_t to be generated.
    
    It turns out a client can send an NTCreateX call for a new file, but specify
    FILE_ATTRIBUTE_DIRECTORY in the attribute list. Windows silently strips this,
    but we don't - causing the unix_mode() function to go through the "mode bits
    for new directory" codepath, instead of the "mode bits for new file" codepath.
    
    Jeremy.

commit 68d1b3b5052f20bfd9ac8771c917b07a854d8fd3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 00:38:29 2010 +0200

    heimdal Add missing dependencies on wind.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Fri Oct 15 23:20:22 UTC 2010 on sn-devel-104

commit 613e03f908bc0ff9e877f0eaf5fbcff0adbaf742
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 16 00:31:10 2010 +0200

    heimdal_build: Allow using system wind.
    
    Please note that to use the system wind library the user explicitly has
    to specify --bundled-library=!wind . Without that option we will always
    use the included wind library.

commit 5339bad942759f8daa4ff04b0c204247478ed579
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Oct 15 20:18:22 2010 +0200

    s4:torture/local/dbspeed.c - use LDB result constant
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Fri Oct 15 19:11:32 UTC 2010 on sn-devel-104

commit a8f26f60ec97d23f9c0496797237ead8cc3feff1
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Sep 16 10:49:39 2010 +0200

    s3-rpc_server: Normalize rpc_pipe_open_interface pipe name.
    
    Autobuild-User: Andreas Schneider <asn@samba.org>
    Autobuild-Date: Fri Oct 15 12:15:45 UTC 2010 on sn-devel-104

commit f22e6cf3b73c04e8fada3b163567285b14840a16
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Sep 15 17:24:08 2010 +0200

    s3-rpc_server: Make auth_serversupplied_info const.

commit 0195f35ce1aaa5733e006b0b703ce29b6f080b57
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Oct 15 13:32:08 2010 +0200

    s3-winbind: Fixed the build of idmap_rid.

commit 006111646c0a032cc8d76cf54adfd55a79e18761
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 15 20:32:09 2010 +1100

    s4-test: fixed a typo in test_kinit.sh
    
    too many Ts
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Fri Oct 15 10:14:27 UTC 2010 on sn-devel-104

commit d59a342c7120fb5d997591ec7425d1560e947416
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 15 20:31:06 2010 +1100

    s4-test: fixed test_kinit.sh time command test
    
    passing -W breaks -k yes

commit 918d864a67fc4b94abe2d36dec32160a17eaa259
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 15 20:30:03 2010 +1100

    s4-net: exit with a failure when a command is unknown
    
    this ensures we don't pass bad tests in 'make test' if they call
    unknown net commands

commit add7ddb2e01ff4000513e0136aa2bc305228e561
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 15 17:43:44 2010 +1100

    script: the --tests option has been replaced by --test-command

commit bda626da8149d58b82c16015e30f22681e06a962
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 15 17:40:53 2010 +1100

    s4-finddcs: better debug messages to help track down DNS problems
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 77a16bf5046e6026cc8ed8b96c15623c84a17ef7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 15 12:10:02 2010 +1100

    s4-net: fix the dependence on command line ordering
    
    this fixes python net commands where you use a '-' option before the
    command name
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 10e1de3e06cf6b8a524f50685d6a675a2d49c9a9
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Oct 15 10:27:51 2010 +0200

    s4:samdb_msg_add_int* - use "ldb_msg_add_string" rather than "samdb_msg_add_string"
    
    "ldb_msg_add_string" is safe here since the integer has already been converted
    to a string which is "talloc"ed on "mem_ctx".
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Fri Oct 15 09:11:49 UTC 2010 on sn-devel-104

commit 666e0c3cce32c259dfaaf03383fac58940994dbc
Author: Matthieu Patou <mat@matws.net>
Date:   Fri Oct 15 10:16:46 2010 +0400

    s4 param: change messaging directory name from messaging to msg
    
    This saves 6 chars and as in some installation users tends to install
    samba in directory with very long name they have a problem with the
    sockets.
    It will also ease the pain on buildfarms as we tend to have very long
    environnement name (ie. vampire_dc) in path that are already quite long
    leading also to errors on unix socket manipulation.
    
    Autobuild-User: Matthieu Patou <mat@samba.org>
    Autobuild-Date: Fri Oct 15 08:15:56 UTC 2010 on sn-devel-104

commit 34f12d541b0bb2e7d931968b2079dfb7ba84d692
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Oct 14 17:56:23 2010 +0400

    s4 dsdb: fix sign problem on PPC and x86
    
    In LDAP we used signed intege and groups have the highest bit set (ie.
    0x80000002). So it will result with values that are > 2^31 when these
    value are used on some plateforms (x86 and PPC 64bits in this case) it
    causes problem with strtol.

commit f794563267ca26b62d844d87b5a4fa3668fb803c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 14 10:54:50 2010 +0200

    s4:lib/registry/util.c - cosmetic - fix indentation, trailing whitespaces
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Fri Oct 15 07:27:07 UTC 2010 on sn-devel-104

commit 7be36a0bd99ce7f6391ea49b66ca809380189c36
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 14 10:50:19 2010 +0200

    s4:lib/registry/util.c - strtoll call - better say explicitly that data is in hex format
    
    Template is commit deebc934edb9a0a70e7615b1161d7a60fcb1d78f from Wilco.

commit 80550746ffbb09658ce19520e853e218d793635e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 14 22:38:10 2010 +0200

    s4:ntptr/ntptr_simple_ldb.c - use LDB result constants

commit c362ce36b36937571cf0d4ac8d015f09848a9780
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 14 22:25:40 2010 +0200

    s4:libnet_samsync_ldb.c - use LDB result constants

commit ace4378de19371994e8e4c0d1a2d61bb9c039ea7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 14 21:54:26 2010 +0200

    s4:lsa RPC server - use LDB result constant

commit b647b2d5b366a6720adc88918c2bd3d6b16bcd13
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 14 17:00:19 2010 +0200

    s4:samldb LDB module - cosmetic - use "ldb" variable rather than "ldb_module_get_ctx"

commit 9310da1e2b483cbf9899ad1ebcdfd07f7c0eeac0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 14 22:36:07 2010 +0200

    s4:samdb_create_foreign_security_principal - proof error code of "samdb_msg_add_string"

commit 9e69b22e70a6e119255e8e3d37964e6ae16ade09
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 14 22:43:33 2010 +0200

    s4:dsdb/common/util.c - samdb_msg_add_* calls - proof for more OOM conditions

commit 06ec5d0177ac3bcd2b12f6279b23bc0a02f93bf9
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 14 22:41:06 2010 +0200

    s4:dsdb/common/util.c - samdb_msg_add_string - the attribute name doesn't need to be duplicated
    
    This is done internally by the LDB library - look at "ldb_msg_add_empty".

commit d099f86a373e4e8dd11c7736ffbce177a910db9f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 14 11:31:44 2010 +0200

    s4:libds/common/flags.h - fix typo

commit 9bc57e19e61ca89c349c28dda727d7e181dcc6e2
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 14 21:54:51 2010 +0200

    s4:dsdb - remove "samdb_msg_add_value"
    
    This can be substituted by "ldb_msg_add_value".
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>
    
    Autobuild-User: Andrew Bartlett <abartlet@samba.org>
    Autobuild-Date: Fri Oct 15 00:21:53 UTC 2010 on sn-devel-104

commit a0e9814c0d50ee822188e2bd6be8c4879aaebacc
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 14 09:41:42 2010 +0200

    s4:dsdb - remove "samdb_result_uint", "samdb_result_int64", "samdb_result_uint64" and "samdb_result_string"
    
    We have ldb_msg_find_attr_as_* calls which do exactly the same. Therefore this
    reduces only code redundancies.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit c2533f94b561e9b22d621b7515c6606d39ffec89
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 18:16:21 2010 +0200

    s3: Remove smbd_server_conn from construct_reply
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Thu Oct 14 12:35:07 UTC 2010 on sn-devel-104

commit 63e08ef8854bd9bde940fee774e94a6749825008
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 18:13:39 2010 +0200

    s3: Lift smbd_server_conn from receive_smb_talloc

commit a2db154caa104c9606e343391ff9ffe33f1610a7
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 18:11:37 2010 +0200

    s3: Lift smbd_server_conn from receive_smb_raw_talloc

commit fa0de39551323bbc57998956de1be382e1f20134
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 18:08:51 2010 +0200

    s3: Lift smbd_server_conn from receive_smb_raw_talloc_partial_read

commit cac60a7041f0c37246f26f71c3c868e2adf5dc20
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 18:05:17 2010 +0200

    s3: Remove some explicit smbd_server_conn refs in process_smb()

commit 81bdb5910c8f84bd9e83c76a78370884e8f638f8
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 18:04:05 2010 +0200

    s3: Rename "conn" to the more used "sconn" in process_smb()

commit 9a3810fbb234c4c2a401e6940643ee161e83bb4f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 14 09:11:04 2010 +0200

    s4:samldb LDB module - attempt to fix integer handling on big-endian platforms
    
    And beside this it's also nicer to use standard LDB functions for type
    conversions.
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Thu Oct 14 08:26:53 UTC 2010 on sn-devel-104

commit 3921d6f4d34211f571cb34d748d4cb1e9484e1c9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 14 16:24:50 2010 +1100

    s4-waf: automatically remove stale C and header files
    
    this prevents stale .c and .h files in bin/ from causing build
    problems
    
    Thanks to Thomas Nagy for the example implementation!
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Thu Oct 14 07:44:13 UTC 2010 on sn-devel-104

commit f1f5a23400df03e209fb66848eeef14b75e31a42
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 14 16:23:45 2010 +1100

    s4-heimdal: fixed some trailing commas in heimdal build

commit 40a6e019fdb9ed3d736883b7ba349a976f215208
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 14 13:32:17 2010 +1100

    security: ensure the merge of libcli/security doesn't change s3 behaviour
    
    Jeremy, you put a #if 0 around this logic in this commit:
    
      8344e945 (Jeremy Allison    2008-10-31 10:51:45 -0700 181)
    
    is this still needed?
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Thu Oct 14 03:16:41 UTC 2010 on sn-devel-104

commit f7ffc12e2d43bd2dddb0a29eb778ff69a6b2802d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Sep 21 07:14:38 2010 +1000

    libcli/security Use static SIDs rather than parsing from strings
    
    This should make the security_token_is_*() calls a little faster.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit a879a4610dac03b814ad40800f408416d250c6be
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 18 12:55:31 2010 +1000

    libcli/auth Merge source4/libcli/security and util_sid.c into the common code
    
    This should ensure we only have one copy of these core functions
    in the tree.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 8b22eefd252e5d8d787ce3368d54b23d75b00310
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Sep 20 14:48:00 2010 +1000

    libcli/security Define traditional constants in terms of IDL macros
    
    The source3/ code uses these constants in a lot of places, and it will
    take time and care to rename them, if that is desired.  Linking the
    macros here will at least allow common code to use the IDL based macros,
    and preserve a documentary link between the constants (other than just their value)
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 949541cc6f42651344c14dc6f673e72a3e7db947
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 18 11:06:02 2010 +1000

    libcli/security Move source3/lib/util_seaccess.c into the common code
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 353d9bc3e42bc051119c205ac981fc819c6877b4
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 18 10:58:10 2010 +1000

    s4-acl Merge sec_access_check() with se_access_check() from source3/
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 058daa1cf5742fc95fc15141bbd5fad96d02dee6
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 18 10:54:37 2010 +1000

    s3-acl Use uint32_t for counting the ACEs
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit a040466d0d6866f2ede22261fbd90018773b03de
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 18 10:29:02 2010 +1000

    s3-acl Merge source4-supported privileges into se_access_check
    
    This will shortly be the common se_access_check function.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 7c6105ec27612adc712d3afcd3a794b6b7d32d8d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Sep 17 16:23:53 2010 +1000

    s3-util_nttoken.c Also copy the rights_mask when copying a security_token
    
    These are unused in source3/ code at the moment, but it would be
    unfortunate if that were to change, and this function not be updated.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 170b345e0c688b178eb37a73a8110dec68a8ae31
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Sep 17 15:31:28 2010 +1000

    s3-auth Use security_token_debug() from common code
    
    This prints the security token including the privileges as strings
    instead of just a bitmap.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 58cf83732a3af2cf2098b1b2108e4b5f36e8fa9e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Sep 17 14:55:56 2010 +1000

    s3-auth use security_token_has_sid() from the common code
    
    The wrapper call is left here to avoid changing semantics for
    the NULL parameter case.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit deb7c0243663d3fa435531bad77d2897b1d15285
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Sep 17 13:08:59 2010 +1000

    s3 Replace is_sid_in_token() with security_token_has_sid() from common code
    
    The two routines are identical, so there is no need to keep both.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit c41bb6e846b61b92295887fcbfa670e3f5fbbb46
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 14 12:42:40 2010 +1100

    s4: show samba version in bin/samba -b
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Thu Oct 14 02:24:47 UTC 2010 on sn-devel-104

commit 8c21a45e5c19e21961f234f6ef5c0810928b10ed
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 13 22:13:37 2010 +0200

    s4:samldb LDB module - cosmetic fixups
    
    - Update the module description
    - Fix indentation
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Wed Oct 13 20:55:18 UTC 2010 on sn-devel-104

commit e13b934355b63e3425382f469dccd20e58c80737
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Oct 13 21:18:05 2010 +0200

    heimdal: Add soname for com_err.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Wed Oct 13 20:00:40 UTC 2010 on sn-devel-104

commit f0124542bcfe59cc42156ad4017366aab6dc938c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Oct 13 18:39:04 2010 +0200

    heimdal: Add sonames.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Wed Oct 13 18:15:04 UTC 2010 on sn-devel-104

commit 01d14b4c579bd1f3387b7b84214c4328d6eb603a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Oct 13 18:00:10 2010 +0200

    samdb: Set soname.

commit bf657db3c45def4a5418a783dfad08e0247d1349
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 13 16:41:54 2010 +0200

    s4:sam.py - tests for "userAccountControl" attribute
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Wed Oct 13 17:31:29 UTC 2010 on sn-devel-104

commit 3411e71c76dd01ae505c0c87fa43b794e63c4091
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 13 17:06:28 2010 +0200

    s4:samldb LDB module - deny creation of temporary duplicate accounts

commit ed68189c5f6c39d075d4c08a92994acf5e5a9a51
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 13 16:32:50 2010 +0200

    s4:samldb LDB module - proof the account type also on LDB modify operations

commit 18ea6c5dce8be836cb92b5b884cf6abac4a0f857
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Oct 13 16:59:45 2010 +0200

    ldb: Only build LIBLDB_MAIN when building ldb itself.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Wed Oct 13 15:41:29 UTC 2010 on sn-devel-104

commit 36c1ed215d60ddb0fb41ffd471fc3aa6e53266de
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 7 09:59:29 2010 +0200

    s4:sam.py - add a test for the group type changing behaviour
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Wed Oct 13 14:17:31 UTC 2010 on sn-devel-104

commit 826496ce553546b9f7ca3dc60471d6344d8bf930
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 7 09:23:04 2010 +0200

    s4:samldb LDB module - support the group type changing properly
    
    This is exactly that what Windows allows. It was proven by a blackbox test.
    
    And we also need to deny add operations of builtin groups.

commit 09ce56d957193188c4200d9765876f9b78a3928a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 6 19:40:42 2010 +0200

    s4:ldap.py - test the "isCriticalSystemObject" behaviour

commit 5cb99aa81aa235a42a7ec32776fdf42785aefdf9
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 7 08:24:29 2010 +0200

    s4:setup/provision_self_join.ldif - let the samldb LDB module fill in "isCriticalSystemObject"
    
    It recognizes it now automatically.

commit 9bcb656bba21eb1a27befe642051bf761ede6278
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 6 19:30:56 2010 +0200

    s4:samldb LDB module - deny also the direct modification of "isCriticalSystemObject" on modify operations

commit 4638bd11b59de1d771a34d328e3c287549cde54c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 11 18:41:05 2010 +0200

    s4:objectclass LDB module - deny the creation of "isCriticalSystemObject" entries
    
    They're only allowed to be created with the RELAX control specified.

commit 8806008024e353ede2a276937880cc9cd732d9dc
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 18:19:56 2010 +0200

    s4:samldb LDB module - first implementation of the samldb primary group trigger
    
    This was done according to MS-SAMR 3.1.1.8.2
    
    But do use it only for add operations at the moment.

commit 635996e97cbd401fee344c8d6e2ffd8b3cb47522
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 6 14:16:17 2010 +0200

    s4:samldb LDB module - use the new "objectclass_trigger" for add operations
    
    Additionally clean up "samldb_fill_object" which is now much easier to
    comprehend.

commit 2b6cbf2eb00f589a97f5d9a2b0bda5b596c1c676
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 18:19:56 2010 +0200

    s4:samldb LDB module - first implementation of the samldb objectclass trigger
    
    This was done according to MS-SAMR 3.1.1.8.1
    
    I need to perform some RELAX checks since otherwise the provision wouldn't work
    anymore.

commit 9bdea1b384794cd93d728810f916aea3fd055605
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 13 14:03:09 2010 +0200

    ldb:ldb_match.c - fix a counter type

commit beb5afea54e279e348779c5b01070803ed59c775
Author: Christian Ambach <christian.ambach@de.ibm.com>
Date:   Fri Oct 8 13:43:17 2010 +0200

    s3:gpfs: Add support for the gpfs_ftruncate call
    
    ported from the v3-4-ctdb branch to master
    This used to be commit 1f138cc9f4a
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Wed Oct 13 13:34:25 UTC 2010 on sn-devel-104

commit 22018b8b887c2677d30bbb4589f800197edf0e98
Author: Christian Ambach <christian.ambach@de.ibm.com>
Date:   Fri Oct 8 13:15:57 2010 +0200

    s3:vfs:gpfs convert sharemodes/leases parameter
    
    convert gpfs:sharemodes and gpfs:leases parameters from a global setting
    to a per share setting

commit 9e4a386d6782b51325d28e41a1bef82b8e1ea31d
Author: Christian Ambach <christian.ambach@de.ibm.com>
Date:   Thu Oct 7 16:56:19 2010 +0200

    s3:vfs:syncops add option to disable module per share
    
    add an option to disable the syncops module completely for a
    share with
      syncops:disable = true

commit c1dad16edecae8474dfa68110da6492cd19f2f51
Author: Christian Ambach <christian.ambach@de.ibm.com>
Date:   Thu Oct 7 16:09:52 2010 +0200

    s3:vfs:syncops make it possible to specify syncops:onclose per share
    
    convert the onclose option of the vfs_syncops module from a
    global option to a service-specific one
    
    as preparation for further flags, use a struct to store in the VFS handle
    instead of just the onclose flag

commit 5954e7173a5aecb0998e359c2eff97e75fbe57f4
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Oct 13 14:10:58 2010 +0200

    wafsamba/developer: Forbid shared objects with unresolved symbols, if
    the linker supports such a flag.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Wed Oct 13 12:52:22 UTC 2010 on sn-devel-104

commit 870de461cbc42f48ab67c4ba0e768e10580924c5
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Oct 13 13:58:25 2010 +0200

    wafsamba: Don't allow circular dependencies involving libraries by
    default.

commit ffb71f8ee3f21f56be66cd94aea054e7efcfcbaf
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Oct 13 02:47:33 2010 +0200

    dsdb/schema_data: Build as shared object.

commit 4313f0fbb556fa22bae7d7bd4bc10202476691ee
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Oct 13 02:36:06 2010 +0200

    dsdb/schema_load: Build as shared object.

commit e07ca6f8e1710af3e9ced2d7b66f5208aff85119
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Oct 13 02:27:20 2010 +0200

    samdb: Build as library.

commit d5e599204ca38040ea2293506c396f2ddd0a5be5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 13 21:48:01 2010 +1100

    ldb: raise minor version number for new ldb_msg_match_error() function
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Wed Oct 13 11:42:18 UTC 2010 on sn-devel-104

commit 269143fa0031ef0b6d801b47aab48ff3b1414565
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 13 20:58:38 2010 +1100

    s4-ldb: take advantage of ldb_match_msg_error() in more places
    
    this gives better error checking

commit 549c044b9fe76e7d5a47a08fe73a99c87a41ddf4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 13 20:58:01 2010 +1100

    s4-schema: don't name variables after standard libc functions

commit 180304516d2a7f4cd483bad5b08f22f7323c7738
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 13 20:48:27 2010 +1100

    s4-ldb: use operator_fn syntax function in ldb_match code
    
    this also fixes error handling in case of bad syntax, memory error
    etc, which was previously conidered as a mismatch, but should return
    an error
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit d267c8b478d8d61bfc41cb276b772d0be5b45cd0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 13 20:27:52 2010 +1100

    s4-ldb: implement an operator_fn for the ldb-samba syntaxes
    
    this allows us to properly handle the LDB_OP_PRESENT operator on
    deleted linked attributes
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 3d75111fd61d57d2a2fb9e19bf587effb0816339
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 13 20:02:18 2010 +1100

    s4-ldb: added an optional operator_fn in the schema syntax
    
    this function takes the operator being invoked, which will allow
    schema functions to provide more fine grained control over
    comparisons.
    
    The key bug this was introduced to fix is the incorrect handling of
    the LDB_OP_PRESENT test for deleted linked attributes. The backends
    are unaware of the deleted state of these links, so they cannot do a
    LDB_OP_PRESENT test on their own.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit ca4864cce695fa1530d8aab50dd82566fc67c6e3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 13 20:00:22 2010 +1100

    s4-torture: zero all of trans before the test starts

commit 261628d1e49921eac143f8ad0167620f95db1a33
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 13 19:42:45 2010 +1100

    s4-torture: fixed uninitialised variable error
    
    ret is uninitialised if the directory is empty

commit b5ffdb6f9c7e003223614baac18f03fe02e7d782
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 13 12:19:37 2010 +1100

    s4: don't rebuild all of heimdal when dynconfig options change
    
    only 2 files in heimdal depend on dynconfig variables

commit d0293428fe2e95cccfcaf3df47f234ac3e794d2e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 13 10:43:44 2010 +1100

    autobuild: do make install after make test
    
    this ensures that commits that break uninstalled testing get caught by
    autobuild in future
    
    Pair-Programmed-With: Jelmer Vernooij <jelmer@samba.org>

commit 72de3e698b651da08a542864bb94b4e1b35dd935
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 13 10:37:22 2010 +1100

    s4-dynconfig: use the build modules when running from build directory
    
    we need to use the newly built modules when running from the build
    directory to ensure we don't run tests against a stale install
    
    Pair-Programmed-With: Jelmer Vernooij <jelmer@samba.org>

commit d95160ca2f22edbc000ea2c78eab04e8e06be151
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 13 10:36:24 2010 +1100

    ldb: when running from build directory, use the build modules
    
    we need to use the build modules, not the installed modules, so tests
    run from the source directory are valid
    
    Pair-Programmed-With: Jelmer Vernooij <jelmer@samba.org>

commit f81c8403807033023512fd83985124904b7f1505
Author: Matthieu Patou <mat@matws.net>
Date:   Wed Oct 13 14:06:46 2010 +0400

    s4 rpc_server: fix a build error on freebsd
    
    Autobuild-User: Matthieu Patou <mat@samba.org>
    Autobuild-Date: Wed Oct 13 10:48:04 UTC 2010 on sn-devel-104

commit 1229935aa91126130c25a7e24e9cb3e74f3a61f9
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Oct 12 19:53:47 2010 +0200

    torture/becomedc: Add test for global schema, use samdb_connect().
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Tue Oct 12 18:35:33 UTC 2010 on sn-devel-104

commit 24ec465790a062db7720914ae9b2c10eaa36e070
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Oct 12 13:27:40 2010 +0200

    wafsamba: Warn about circular dependencies between libraries.

commit cda2db5edfd5e0ca58083086594e58dfca7a40e7
Author: Michael Adam <obnox@samba.org>
Date:   Tue Oct 12 15:32:16 2010 +0200

    s3:registry: fix some trailing spaces in reg_backend_db
    
    Autobuild-User: Michael Adam <obnox@samba.org>
    Autobuild-Date: Tue Oct 12 14:15:42 UTC 2010 on sn-devel-104

commit 5ad0ed21814e721cc36b72bf2ed13d9b37c4b7d2
Author: Kai Blin <kai@samba.org>
Date:   Tue Oct 12 06:13:57 2010 +0200

    libwbclient: Remove half-finished async implementation
    
    The old approach on doing async libwbclient was never really finished.
    Go ahead and remove this implementation.
    
    Autobuild-User: Kai Blin <kai@samba.org>
    Autobuild-Date: Tue Oct 12 07:05:31 UTC 2010 on sn-devel-104

commit f768b32e37788e6722217148b0a73e54c04bc03a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Oct 12 15:27:50 2010 +1100

    libcli/security Provide a common, top level libcli/security/security.h
    
    This will reduce the noise from merges of the rest of the
    libcli/security code, without this commit changing what code
    is actually used.
    
    This includes (along with other security headers) dom_sid.h and
    security_token.h
    
    Andrew Bartlett
    
    Autobuild-User: Andrew Bartlett <abartlet@samba.org>
    Autobuild-Date: Tue Oct 12 05:54:10 UTC 2010 on sn-devel-104

commit 5742f5115cc5102a668f8debc86deec23a4081f1
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Sep 20 17:42:13 2010 +1000

    libcli/security Use common security.h
    
    This includes dom_sid.h and security_token.h and will be moved
    to the top level shortly.
    
    Andrew Bartlett
    
    Autobuild-User: Andrew Bartlett <abartlet@samba.org>
    Autobuild-Date: Tue Oct 12 03:35:36 UTC 2010 on sn-devel-104

commit 911169451b0f801c3fbe4c698d74e9801d973ee0
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Oct 12 10:05:32 2010 +1100

    s4-credentials Allocate ldb result on correct memory context

commit 8beaa2924205cf6b01bc6183f7795571a3966ba5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Sep 20 14:49:39 2010 +1000

    s4-libcli/security Use seperate subsystem for session related functions
    
    The merged I plan in this area require spliting security.h into
    two header files, a common header and a session.h for the
    remaining source4-specific code.
    
    Andrew Bartlett

commit 0487ef0a70a9758da31cff0832ee8decbeb92e82
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Sep 17 15:23:19 2010 +1000

    libcli/security Add debug class to security_token_debug() et al
    
    This will allow it to replace functions in source3 that use debug classes.
    
    Andrew Bartlett

commit d406e511a5f46b7212584b23d17e97508e7f537b
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Sep 17 15:18:57 2010 +1000

    lib/debug Add DEBUGC and DEBUGADDC as dummies
    
    This allows code that needs to also compile against the source3
    debug code to compile in source4.
    
    Andrew Bartlett

commit ae52f953af457c86e5e6db973fd89b2b5cd5b946
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Sep 17 12:59:24 2010 +1000

    libcli/security Move most of security_token.c to common code.
    
    The source4-specific session_info functions have been left in session.c
    
    Andrew Bartlett

commit 4e1966db9500c6834cbc0be70a745326b9257070
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Oct 12 13:06:43 2010 +1100

    autobuild: send email failure if rebase fails
    
    users need to know if the rebase on master fails
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Tue Oct 12 02:53:15 UTC 2010 on sn-devel-104

commit f2dc72eb47c0a3217265784f1d76117279ca8c1c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Oct 12 13:06:16 2010 +1100

    autobuild: add an extra blank line before the autobuild markers

commit a89331e95480b049fa1feb314d210bc650c04494
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Oct 12 13:05:36 2010 +1100

    s4: mark us as not supporting python3 yet
    
    python3 works fine with waf fine, but our C interfaces need 2.x for
    now

commit 4ad64408c55df8ef976c1bb131cc7328a79f418d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Oct 12 03:29:27 2010 +0200

    dsdb: Build more modules as shared objects.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Tue Oct 12 02:12:29 UTC 2010 on sn-devel-104

commit 6f6094076ff73dffb2570f86cb72e0ac9d0e86f2
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Oct 11 17:15:39 2010 -0700

    Make the vfs_acl_xattr and other modules work with NULL SD's. Fix
    the "protected" inheritance problem (bleeding up from the POSIX
    layer).
    
    Jeremy
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Tue Oct 12 00:57:41 UTC 2010 on sn-devel-104

commit 6f4e782c5343fc46f9029a549c419e5f3c1e6190
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Oct 11 17:10:28 2010 -0700

    Canonicalize incoming and outgoing ACLs.
    
    Jeremy.

commit 71d9f51b4eaedbecaf4b9e7a7fffae33dba6ba2e
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Oct 11 17:07:54 2010 -0700

    Make the posix ACL module cope with a NULL incoming DACL and a
    missing owner/group.
    
    Jeremy.

commit 44a4b677fe5d0ea2a4a889cc2bb5421f372ca769
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Oct 12 00:24:41 2010 +0200

    dsdb: Build some more modules as shared objects.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Mon Oct 11 23:22:33 UTC 2010 on sn-devel-104

commit cfeb5cc91fd5f183f01a4fac21a1a7db3cf3aba2
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 22:32:26 2010 +0200

    dsdb: Build some more modules as shared object files.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Mon Oct 11 21:13:25 UTC 2010 on sn-devel-104

commit 7c368533139bfc9603f7d2a088ad857e8989d0d2
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 21:03:10 2010 +0200

    selftest: Avoid check_call(), use call() instead. This should fix
    Python2.4 compatibility.

commit ab9d459b6171a51fcadf1cbe68d3d05d2d50c850
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 20:33:31 2010 +0200

    dsdb: Build some more modules as .so files.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Mon Oct 11 19:14:58 UTC 2010 on sn-devel-104

commit 6756ec294fd4049976c7e42e0eda79089462aa4c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 19:32:22 2010 +0200

    wins_ldb: Build as shared library.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Mon Oct 11 18:15:19 UTC 2010 on sn-devel-104

commit 05024867d31311a2eae3f94eea45bb09befa982c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 15:42:14 2010 +0200

    land-remote: Fix --fail-slowly.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Mon Oct 11 15:54:31 UTC 2010 on sn-devel-104

commit 9d2e777e18fda6489c20c96f4c09fc41f92d7727
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 15:09:23 2010 +0200

    ldb: Build ildap module as shared object.

commit 484939db0fb789c43181cf1df6a6f66753fd067e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 14:31:58 2010 +0200

    samdb_common, ntlm: Add missing dependency on libsamba-hostconfig.

commit 837bcb9e0fe50acb11c4051fbd9b2d32abc8680e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 19:17:40 2010 +0200

    popt_credentials: Implement pending machine account manually, rather than through credentials.

commit df7523c79208cc374060787f726f9066007d88ea
Author: Günther Deschner <gd@samba.org>
Date:   Mon Oct 11 12:38:05 2010 +0200

    pidl: fix minor typo in s3 server generation.
    
    Guenther
    
    Autobuild-User: Günther Deschner <gd@samba.org>
    Autobuild-Date: Mon Oct 11 15:12:57 UTC 2010 on sn-devel-104

commit 33c6a4eb8a0017db9d7b3cc337142fd1d08b5da5
Author: Günther Deschner <gd@samba.org>
Date:   Mon Oct 11 11:33:23 2010 +0200

    s3-spoolss: add more userlevel info validation to _spoolss_OpenPrinterEx.
    
    Guenther

commit 025290e9bf0f7597dc8d849a221fd80f140c1f7a
Author: Günther Deschner <gd@samba.org>
Date:   Mon Oct 4 20:27:20 2010 +0200

    s3-spoolss: let set_printer_hnd_name return WERROR.
    
    Guenther

commit c8a295ab7f1ba96b1a1f44004b581770c0da51ad
Author: Günther Deschner <gd@samba.org>
Date:   Mon Oct 4 11:02:52 2010 +0200

    s3-spoolss: convert open_printer_hnd to return WERROR.
    
    Guenther

commit fe724c70d2b8b916cb7ca77b7370d77e8e5b80de
Author: Günther Deschner <gd@samba.org>
Date:   Sat Oct 2 22:14:37 2010 +0200

    s3-spoolss: fix set_printer_hnd_name() to match torture test.
    
    Guenther

commit 43d226fa25746a99ff598be6f0d663c8c11b7d97
Author: Günther Deschner <gd@samba.org>
Date:   Sat Oct 2 22:13:44 2010 +0200

    s4-smbtorture: add test for openprinter printername pattern.
    
    Guenther

commit 6633a7b37907373ebd93f5a1f5b297ec3d5e483d
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Oct 11 13:44:35 2010 +0400

    unit tests: do some cleanup after tests
    
    fix
    
    Autobuild-User: Matthieu Patou <mat@samba.org>
    Autobuild-Date: Mon Oct 11 14:29:10 UTC 2010 on sn-devel-104

commit 77cdef53595de4837046c5f5bf6ce47020998dee
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Oct 11 13:44:10 2010 +0400

    torture: Add debug on what we are removing

commit 58294ffdee2066e3e051b6cb914f2708e6114089
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jul 6 15:25:54 2010 +1000

    s4:smbtorture Create a new random output directory each time, and delete it
    
    This ensures we don't delete an exiting directory.
    
    Andrew Bartlett
    
    Signed-off-by: Matthieu Patou <mat@matws.net>

commit 74ed86c4e3d997a283e1ac03237ece9397242d81
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jul 6 15:22:31 2010 +1000

    lib/torture:  Add function to clean up the output directory
    
    This helps to avoid leaving 85MB of provision around for every
    NET-API-BECOME-DC test.
    
    Andrew Bartlett
    
    Signed-off-by: Matthieu Patou <mat@matws.net>

commit 13ba3464c08208a1dc00a3edb55281b15ddd44a7
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 11 17:22:24 2010 +1100

    ldb The use of a private event context isn't a hack
    
    This is deliberate behaviour.
    
    Andrew Bartlett
    
    Autobuild-User: Andrew Bartlett <abartlet@samba.org>
    Autobuild-Date: Mon Oct 11 13:45:14 UTC 2010 on sn-devel-104

commit 7013a3e39090dcac768d551a1c5cd0112f53a050
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 11 17:26:52 2010 +1100

    s4-ldb Allow a NULL event context in samba_ldb_init()

commit 1555d5acf52bcb6459b209a59c877221ee0fea72
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 11 17:20:19 2010 +1100

    s4-ldb Don't use talloc_autofree_context() in ldb
    
    The private event context only needs to live as long as ldb itself.
    
    Andrew Bartlett

commit 69199a96d1a3f134e2c80ef338b5600baabae8f9
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 11 17:08:33 2010 +1100

    s4-tevent Remove event_contex_find() and event_context_set_default()
    
    It is considered that it is better to create a new event context
    rather than 'finding' some other event context, in the case
    where we do not have one specified.
    
    Andrew Bartlett

commit bae09a0921ed6b6885972cbaa4f277e5b2ae3dc7
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 11 17:08:01 2010 +1100

    s4-smbd Remove event_context_set_default()
    
    The last callers to event_context_find() have been removed
    so this is no longer required.
    
    Andrew Bartlett

commit 42127cdbb040a260c2c745e9114b600f2186794a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 11 16:53:08 2010 +1100

    s4-credentials Add explicit event context handling to Kerberos calls (only)
    
    By setting the event context to use for this operation (only) onto
    the krb5_context just before we call that operation, we can try
    and emulate the specification of an event context to the actual send_to_kdc()
    
    This eliminates the specification of an event context to many other
    cli_credentials calls, and the last use of event_context_find()
    
    Special care is taken to restore the event context in the event of
    nesting in the send_to_kdc function.
    
    Andrew Bartlett

commit 5cd9495fb3f74d8e896c81e5c060a1643722870e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 11 16:43:07 2010 +1100

    s4-param Refactor secrets code to not require an event context.
    
    A new event context is constructed by LDB when required for secrets.ldb
    This will be essentially unused, as LDB on TDB will only trigger 'fake'
    events, and blocks on transactions and lock operations anyway.
    
    Andrew Bartlett

commit baeaa179868fedb797df811bdf4d4a87bf604b8c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 11 13:19:32 2010 +1100

    s4-kerberos Remove unused parameter

commit 1ef59ea9db447ffe0ed32ca3f9c20788e143fbcd
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Oct 11 13:19:18 2010 +1100

    s4-kerberos Remove unsued variable

commit edc5ccc3098eae9975f11e452c5a4ecb2ae7ee36
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 14:11:05 2010 +0200

    credentials: Avoid unnecessary includes.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Mon Oct 11 13:01:36 UTC 2010 on sn-devel-104

commit 391b24e3edcb3a291534d91fc999ef2fd1995f03
Author: Tim Potter <tpot@samba.org>
Date:   Mon Oct 11 05:34:57 2010 -0600

    Fix some warnings at higher -W levels in pidl generated code.
    
    Match data type for info levels to data type returned by utility
    functions.
    
    Autobuild-User: Tim Potter <tpot@samba.org>
    Autobuild-Date: Mon Oct 11 12:18:22 UTC 2010 on sn-devel-104

commit ba02178e879b4a7d4848354f4d30fbedd3e75028
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 10:33:21 2010 +0200

    util: Fix installation path of tevent_ntstatus.h, tevent_unix.h (bug 7720).
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Mon Oct 11 09:24:56 UTC 2010 on sn-devel-104

commit d589430fa006dc4fc950be025e3a949b56e1a7bd
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 04:05:37 2010 +0200

    credentials: Fix the build.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Mon Oct 11 02:47:50 UTC 2010 on sn-devel-104

commit d74e0adb3041036e8e89d4265a67a455354bc308
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 02:05:03 2010 +0200

    credentials: Split up into several subsystems.

commit c5ae0991528dfeb3dbd1539f5c9c2ed2f19990b9
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 01:28:45 2010 +0200

    kerberos_util: Put into separate subsystem.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Mon Oct 11 00:34:56 UTC 2010 on sn-devel-104

commit 539d5f518da96d348529f6a87064c040a63ba298
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 01:23:20 2010 +0200

    auth: Remove unnecessary dependencies, fix formatting.

commit 5cbbe943664aa428785fdffa1d1e5192decd4783
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 01:20:42 2010 +0200

    credentials: Move code that doesn't need any external dependencies into
    credentials.c.

commit 53db1f34674ee161e102c4797f5ce5a9bee53350
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 01:10:55 2010 +0200

    server: Add missing dependency on schannel database.

commit ffb67664230358ebdf3a35d9c9342ac5ecccc4c9
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 19:14:20 2010 +0200

    service: Add missing dependency on process_model.

commit 5324b943e72d597da178d362f7c938fe0a4e57b0
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 01:09:26 2010 +0200

    wafsamba: Fix handling of pyembed/pyext.

commit 2bff55f5deede15d09d2f685f5391e579ad36831
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 01:03:42 2010 +0200

    dsdb/modules: Split up helpers a bit to prevent recursive dependencies.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Sun Oct 10 23:47:54 UTC 2010 on sn-devel-104

commit 4280527b6abb0070ad4f62338e9eea2c1ad991a7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 00:58:28 2010 +0200

    torture_auth: Add missing dependency on gensec_ntlmssp.

commit ea6a3f5c485ebc82c6c7cfd6b2a3451a75676cfb
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 21:22:02 2010 +0200

    wafsamba: Support setting pyembed on libraries.

commit ffd7cee150527fbbfe29b5f9d30c1aec2137e392
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 00:49:13 2010 +0200

    torture: Link against rpc server itself, not service module. (against which we can't link).

commit ea8fc8727b02004b90db46d444bcefbc4c622c70
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 00:47:18 2010 +0200

    ldap_server: Add missing dependency on gensec_server_start.

commit 6c410dd6150206bf5f052bd6501f989e61a16583
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 00:46:37 2010 +0200

    kdc: Add missing dependency on samba_gensec_server.

commit 57bf052e683e6ebc99dd85e3d1a6cf62d2fb89ea
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 00:41:22 2010 +0200

    smb_server: Split core out of service, since the service can be built as a .so against which we can't link.

commit b0963b7b31fad5a057d2517b2e9f39db5efbd772
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 19:15:41 2010 +0200

    smb2: Add missing dependency on NDR_DFSBLOBS.

commit d0c7ae5cd5f4495dd7ba1de8e8cd9e09aa7f5d11
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 23:00:32 2010 +0200

    librpc: Remove unnecessary dependency on libsamba-hostconfig.

commit 3b199935615eb50ff039e89b9d3cfcebde2b4844
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 21:37:58 2010 +0200

    dsdb/schema: Move some dsdb_dn functions that are schema-specific.

commit 41e55d78944a04b0fa8b351ff4a25c78bc9499a3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 22:57:40 2010 +0200

    ntvfs_ipc: add missing dependency on dcerpc_common.

commit 2c9ebb764657b3fea9161190cf924ff638eab9b2
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 22:56:58 2010 +0200

    libsecurity-common: Add missing dependency on libndr.

commit dc47e8dc52964447aab80fb58a42c4f33aeaef33
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 22:56:38 2010 +0200

    libcli-auth: Remove unnecessary dependency on libsamba-hostconfig.

commit 1f73f3b1ca561f8cad680459e0ef418d90b2e955
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 00:29:18 2010 +0200

    dsdb modules: Split ridalloc out of common helpers, because of dependency loops.

commit 7552dd8d1e5f844fbf71580f1a34d50dcb4f3fbc
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 11 00:22:42 2010 +0200

    rpc_ndr_netlogon: Add missing dependency on tevent.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Sun Oct 10 23:04:13 UTC 2010 on sn-devel-104

commit fd718c96f0bcbcdff0c931a117392ee6a4bc6ed9
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 23:59:04 2010 +0200

    samdb: Remove dependency on unknown subsystem.

commit 904a6c376105e084789a66894644c9a498574778
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 18:39:07 2010 +0200

    util: Link headers to correct subsystem, fix formatting.

commit aa6d7ccc44e226a65fc1b56c6d973a375c482811
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 23:00:59 2010 +0200

    dsdb: add missing dependency on samba_socket.

commit e2f3e10b1a47e195e9b329ac244be93c2fcdf0a0
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 23:45:23 2010 +0200

    ldb-samba: Rename samdb_relative_path to ldb_relative_path, as it's not samdb-specific.

commit 33c4b85058f21ab9865bc7cf1b49b7bd38e0275d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 17:02:10 2010 +0200

    dsdb: Move attr_in_list to SAMDB_COMMON to avoid circular dependency between SAMDB_COMMON and DSDB_MODULE_HELPERS.

commit 8f6ca4859c4d377974fa61a3de10d6304b562986
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 16:46:55 2010 +0200

    gensec: Support building without any linked-in modules.

commit 7ba7ca7062cf7d239c169eda4aa779eaaa2bb780
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 18:42:14 2010 +0200

    idmap: Add missing dependency on ldbsamba.

commit be1f2c4d0212efeddbc8e66359bbbb20b1c6a152
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 18:41:57 2010 +0200

    secrets: Add missing dependency on ldbsamba.

commit c4c298591d2930f3c355c3fa36699a5ab074d04e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 22:57:18 2010 +0200

    cldapd: Add missing dependency on ldbsamba.

commit c1884f31ea13618cd3a94a30f9c413d176d1e258
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 23:25:38 2010 +0200

    ldb-samba: Add ldb_wrap_add, remove last schema reference from ldb_wrap.

commit 7f68870bc939e33df958f708ec7f46253fefadd9
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 17:34:21 2010 +0200

    ldb-samba: Split up ldb_wrap_connect() a bit.

commit 938cb40290af72bdd887d964f46ccc00d80ab744
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 17:15:11 2010 +0200

    ldb-samba: Add convenience function for doing a Samba-style LDB init.

commit 93126b3315a70d1beaeaa64d05cdbfb167acbabe
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 17:00:45 2010 +0200

    samdb: Add flags argument to samdb_connect().

commit 6280725b47391c69dd7db1133c15bd0ce7418da6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 16:56:55 2010 +0200

    samdb: Handle schema setup in samdb, not in more generic ldbsamba.

commit 614c8ea98650405b461a6ce034ee5e5acc45a952
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 23:08:12 2010 +0200

    tls: add missing dependency on util_tevent.

commit a20f025ff611d541b82b83791013f2713c999235
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 22:52:35 2010 +0200

    wafsamba: Fix init function when building modules as shared objects.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 9b9489479e9c429cefd58c31be4d39da8ea90057
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Oct 10 12:29:08 2010 +0200

    socket_wrapper: Make it work on freebsd for udp packets
    
    Autobuild-User: Matthieu Patou <mat@samba.org>
    Autobuild-Date: Sun Oct 10 12:57:00 UTC 2010 on sn-devel-104

commit 9d958ce582fa760456b52d65a2deb36d8bd3794a
Author: Matthieu Patou <mat@freebsd.home.tridgell.net>
Date:   Sun Oct 10 10:12:46 2010 +1100

    build: make make tests SCREEN=1 work on freebsd

commit f827fcd0e0f91b6aca113ec94e09e293f119cba8
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Oct 3 04:29:08 2010 +0300

    s4-libnet_vampire: Remove unused self_corrected_schema
    
    Autobuild-User: Kamen Mazdrashki <kamenim@samba.org>
    Autobuild-Date: Sun Oct 10 10:40:38 UTC 2010 on sn-devel-104

commit b44135ac737499052f54e72b4076ef5561852d35
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Sep 27 08:50:54 2010 +1000

    s4-libnet_vampire use a linked list to handle schema objects pending conversion

commit 837af1c29ae6ecebf483706e14b3190fdf4988c8
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Sep 25 13:26:03 2010 +0300

    s4-vampire: Optimize Schema decoding conversion
    
    memmove() is removed and I am using the beginning
    of the list for storage for failed objects

commit 0440741473a87d184055942586c5f68de153fa2f
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Sep 24 22:56:36 2010 +0300

    s4-vampire: Initial implementation for multi-pass schema decoding from DRS data
    
    We can't decode all schema object in just one (or even two)
    passes when Schema tree has more levels of inheritance.

commit 20029aac31d1952b8307d4f0c3c628f17562af51
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Sep 24 00:47:37 2010 +0300

    s4-dsdb-repl: Print what the error code for failure is

commit 81e5e23683ebbb48bb3a2b2db306f47234cdfe09
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Sep 24 00:46:50 2010 +0300

    s4-dsdb: Make dsdb_setup_sorted_accessors() public
    
    We are going to need it while converting DRS schema.

commit c15e919a09b5af5d27f172ba127b94d58f2ee234
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 04:25:50 2010 +0200

    wafsamba: Clarify needs_python argument name, use pyembed/pyext where
    applicable.
    
    Allow using both pyembed and pyext, to prevent unresolved symbols.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Sun Oct 10 03:54:01 UTC 2010 on sn-devel-104

commit 5de1274d87efc66eac0b99a563cfef77bc3d6f9d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 10 04:04:09 2010 +0200

    heimdal_build: Fix dependencies for hx509.

commit 27f72fb19b1b810c4cc778ca0f408da2f50fd2f5
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Oct 10 03:07:56 2010 +0200

    subunithelper: Don't access 'message' attribute directly as it deprecated
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Sun Oct 10 01:50:09 UTC 2010 on sn-devel-104

commit 3cd558dbeb2c543895847d4c5e21fe1f7f779a8c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 9 15:11:14 2010 +0200

    talloc: Fix #include line in manpage.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Sat Oct  9 13:53:25 UTC 2010 on sn-devel-104

commit 6d8b3efadb07dc86c812471a69e57f6d05fdb0fd
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Oct 6 18:10:42 2010 +0200

    land: Use temp dir if /memdisk is not available.

commit 2d2dbf53ee110bfcd2f193d3e5c8d0e27759c4f3
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Oct 9 05:40:32 2010 +0300

    s4-test-msds_intid: Verify ATTIDs for Linked Attributes
    
    Autobuild-User: Kamen Mazdrashki <kamenim@samba.org>
    Autobuild-Date: Sat Oct  9 03:43:34 UTC 2010 on sn-devel-104

commit 6853883f3f171c69b28a0888548aaa464e163ac7
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Oct 9 04:22:24 2010 +0300

    s4-test-msds_intid: Simplify parameters for _make_error_message() function
    
    so it can be used in more places - when checking for
    Linked Attributes ATTIDs for instance

commit 9e1e581120d966f40d3c781fc92b18fc5d63c38a
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Oct 8 16:51:24 2010 -0700

    More neccessary const.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Sat Oct  9 01:47:25 UTC 2010 on sn-devel-104

commit b69bec03cc210ccb2c5373115352a57ca6363f04
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Oct 8 16:50:40 2010 -0700

    Add some const. Needed for my SD work.
    
    Jeremy

commit 76a8ae9e0db0340bfa96c428d55afe9b885977e0
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Oct 8 04:19:30 2010 +0300

    pytalloc: Fix warning that we are subtracting void* pointers
    
    Autobuild-User: Kamen Mazdrashki <kamenim@samba.org>
    Autobuild-Date: Fri Oct  8 23:36:54 UTC 2010 on sn-devel-104

commit 615482a83d6c18ead7d18624f157170effdebdf8
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Oct 7 22:01:28 2010 +0200

    s3: Hang the isilon kernel oplocks off the NULL context
    
    All I see is a fd_event that does not need a special destructor.
    
    Tim, Steven, I've added the #error as well for you to remove after review.
    
    Thanks,
    
    Volker
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Fri Oct  8 20:48:11 UTC 2010 on sn-devel-104

commit 703e4385991feb7a1c18651a03a9562a3964b8d6
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Oct 7 21:50:17 2010 +0200

    s3: Hang the irix kernel oplocks off the NULL ctx
    
    Just a fd_event to be cleaned up. The pipe is closed implicitly.

commit 613a0b6c00690a9509129be8ae6a78101e3a21e8
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Oct 7 21:48:38 2010 +0200

    s3: Hang the linux kernel oplocks off the NULL ctx
    
    The destructor that is called removes the signal handler. But at process
    exit the signal handling is lost anyway.

commit ef96bfe88530474a05fdb86955efa3a290f3d547
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Oct 7 21:42:08 2010 +0200

    s3: Call printer_list_parent_init in the parent
    
    Simo, please check!

commit 812580736ac58a4f0b5d119790c53797f0a85d6e
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Oct 7 21:38:26 2010 +0200

    s3: Remove talloc_autofree_context() from get_printer_list_db()
    
    Another db that does not need explicit closing

commit 1e98d5859daceb7d2cbe550803aaec382d2bae86
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Oct 7 21:29:19 2010 +0200

    s3: Remove talloc_autofree_context() from loadparm.c
    
    None of these uses requires a special destructor

commit 220aa311d100814be6d396dff96f3825fc01985f
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Oct 6 18:46:43 2010 +0200

    s3: Add a little test for the echo responder

commit 5e482aeebf43f95aa003c68d25f7773a944b227e
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Oct 6 18:45:41 2010 +0200

    s3: Implement echo_TestSleep

commit e36e67fe047dca505b675c4b6b79b9670a9ad91b
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Sep 24 19:13:05 2010 +0200

    tevent: Do not use talloc_autofree_context

commit b5ed09c3afe2c9122db6eec6dd994588d7d6a2c1
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Sep 24 18:45:52 2010 +0200

    Move talloc_enable_null_tracking() to the s3 daemons

commit 584ac76a4f959ee8fa491407e3039a34bc5c627a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Oct 7 09:42:07 2010 +0200

    s4:ldap.py - split it up and move SAM related stuff to sam.py
    
    ldap.py would still need some additional split-up but it's a start.
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Fri Oct  8 14:05:18 UTC 2010 on sn-devel-104

commit 61c7b67df9ba484c0e810c07c8da852edf1ef2fc
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 22 14:24:03 2010 +0200

    s4:ldap_server: rewrite to socket layer to use tstream
    
    This should make our sasl and tls handling much more robust
    against partial sent pdus.
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Fri Oct  8 11:55:26 UTC 2010 on sn-devel-104

commit 9300f922ae570756651c6f9979dd3e490ce2fd4e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Oct 8 10:19:07 2010 +0200

    s4:lib/tls: buffer writes in tstream_tls_push_function()
    
    This works arround bugs in gnutls_handshake(),
    which diesn't handle EAGAIN correctly, when they use the
    push function.
    
    Thanks to Marcel.Ritter@rrze.uni-erlangen.de and
    Matthieu Patou <mat@samba.org> for the debugging work
    on bug #7218.
    
    metze

commit a3d44d5504e1aa2b9e2e5564f644512bf36c01ee
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Oct 8 09:39:49 2010 +0200

    s4:lib/tls: make more clear what the immediate event is for
    
    metze

commit cce2f9dde4ae9fb9eec3b8cc7cdaf24534f33142
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Oct 7 11:16:48 2010 +0200

    s4:lib/tls: fix enabled logic in tstream_tls_params_server()
    
    metze

commit 4e9508172d5d436513b829294b5a73223292d348
Author: Günther Deschner <gd@samba.org>
Date:   Thu Oct 7 21:28:04 2010 +0200

    s3-waf: slowly getting modules to match how they look like in old build.
    
    Guenther
    
    Autobuild-User: Günther Deschner <gd@samba.org>
    Autobuild-Date: Fri Oct  8 09:31:01 UTC 2010 on sn-devel-104

commit 7915142848f07b477f2c26d0034a79840757b8af
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Oct 6 17:40:58 2010 +0200

    s3: Fix input check in is_encrypted_packet
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Fri Oct  8 07:40:52 UTC 2010 on sn-devel-104

commit cd04af78d51121cc16453fcd52e0d4c3516bc3c5
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Oct 7 16:56:36 2010 -0700

    Fix bug 7716 - acl_xattr and acl_tdb modules don't store unmodified copies of security descriptors.
    
    As pointed out by an OEM, the code within smbd/posix_acl.c, even though passed
    a const pointer to a security descriptor, still modifies the ACE entries within
    it (which are not const pointers).
    
    This means ACLs stored in the extended attribute by the acl_xattr module have
    already been modified by the POSIX acl layer, and are not the original intent
    of storing the "unmodified" ACL from the client.
    
    Use dup_sec_desc to make a copy of the incoming ACL on talloc_tos() - that
    is what is then modified inside smbd/posix_acl.c, leaving the original ACL
    to be correctly stored in the xattr.
    
    Jeremy.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Fri Oct  8 00:37:53 UTC 2010 on sn-devel-104

commit fd9effce2bb981207a0662707c30e50100059c06
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Oct 6 18:24:13 2010 +0200

    s3: Fix the async echo responder for netbios keepalives
    
    This fixes a crash in the echo responder when the client started to send the
    NetBIOS-Level 0x85-style keepalive packets. We did not correctly check the
    packet length, so the code writing the signing seqnum overwrote memory after
    the malloc'ed area for the 4 byte keepalive packet.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Thu Oct  7 19:47:35 UTC 2010 on sn-devel-104

commit fb75355263c16ce17dadd483f0ad40e7c31846f4
Author: Abhidnya P Chirmule <achirmul@in.ibm.com>
Date:   Thu Sep 30 16:26:25 2010 +0530

    File winattr test
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Thu Oct  7 16:51:19 UTC 2010 on sn-devel-104

commit 9af40beda6a3f7c2b48142263cd798947b7c5698
Author: Abhidnya P Chirmule <achirmul@in.ibm.com>
Date:   Wed Sep 29 18:00:49 2010 +0530

    File BirthTime test

commit d8c86a7f773877af50508cf88c383c04f23d961b
Author: Günther Deschner <gd@samba.org>
Date:   Sat Oct 2 22:17:46 2010 +0200

    s3-spoolss: make it possible to have and announce a [prnproc$] share on the printserver.
    
    Guenther
    
    Autobuild-User: Günther Deschner <gd@samba.org>
    Autobuild-Date: Thu Oct  7 16:09:14 UTC 2010 on sn-devel-104

commit 12112d545c278e49a0b1377a25bdf8a4598c0f47
Author: Günther Deschner <gd@samba.org>
Date:   Sat Oct 2 21:54:32 2010 +0200

    s3-rpcclient: add openprinter_ex command.
    
    Guenther

commit f5554fe75c8962987b886468dd1b33f5fbc35fe2
Author: Günther Deschner <gd@samba.org>
Date:   Sat Oct 2 21:53:54 2010 +0200

    s4-smbtorture: re-arrange openprinterex tests.
    
    Guenther

commit 3b213f6138e21e1c8b2ecac934716f964cf56940
Author: Günther Deschner <gd@samba.org>
Date:   Sun Oct 3 06:55:34 2010 +0200

    s3-docs: fix typo in "add port command" smb.conf manpage.
    
    Guenther

commit b7683a2c9d10e34e4d8eed8664ed4c14f71f981f
Author: Günther Deschner <gd@samba.org>
Date:   Thu Oct 7 13:01:29 2010 +0200

    samr: for correctness, rename samr_RidTypeArray to samr_RidAttrArray.
    
    Guenther
    
    Autobuild-User: Günther Deschner <gd@samba.org>
    Autobuild-Date: Thu Oct  7 12:04:32 UTC 2010 on sn-devel-104

commit e0b340247a4f7f0b6506752add0af3df8deb9920
Author: Günther Deschner <gd@samba.org>
Date:   Thu Oct 7 12:45:45 2010 +0200

    s4-samr: Fix dcesrv_samr_QueryGroupMember.
    
    Guenther

commit 71ab8f326b7e73ed888e46452d4c31ea17c69c60
Author: Günther Deschner <gd@samba.org>
Date:   Thu Oct 7 12:45:04 2010 +0200

    s3-samr: fix _samr_QueryGroupMember().
    
    that array contains attributes, not sid types.
    
    Guenther

commit ab31d9aac9a02756cf5af313ed36fc549a8f4b67
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Oct 5 07:47:51 2010 +0200

    Revert "s4:ldap_server: rewrite to socket layer to use tstream"
    
    This reverts commit b53fbc75acc525f2e2450370e704a62791271788.
    
    There are problems with problems with broken gnutls versions.
    
    We can readd this once we have the needed configure checks to
    detect the bug in gnutls. See https://bugzilla.samba.org/show_bug.cgi?id=7218.
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Thu Oct  7 10:31:18 UTC 2010 on sn-devel-104

commit ea36245ebeb26e5bc98983c817fb023cd8a8d50f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 6 20:45:36 2010 +0200

    s4:dsdb/common/util_samr.c - use an LDB constant for result checking
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Thu Oct  7 07:40:31 UTC 2010 on sn-devel-104

commit c9da3122c845054e93f25c723f4dd9791bfbd853
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 6 19:11:58 2010 +0200

    s4:dsdb/common/util.c - provide message set functions for integer types
    
    They will be used by the samldb LDB module

commit 321bb40a2e597e46101949737d0bec0561a877ea
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 7 14:20:15 2010 +1100

    script: improvements to bisect-test.py
    
    - allow control of all the commands (eg. specify configure command)
    
    - do a bisect reset at the end
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Thu Oct  7 04:11:21 UTC 2010 on sn-devel-104

commit bb0017615d44b66828c98a408ca15b50956f3e91
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 7 12:25:42 2010 +1100

    waf: fixed exit status of test suites
    
    use RUN_COMMAND() to handle signal errors and exit status

commit fdad0328e4ee4de26e94f9b19a74ded83c5b00ce
Author: Ira Cooper <samba@ira.wakeful.net>
Date:   Wed Oct 6 12:24:27 2010 -0400

        s3: Adding TCP_KEEPALIVE_THRESHOLD and TCP_KEEPALIVE_ABORT_THRESHOLD to the list of accepted socket settings.
    
        These are both exclusive to Solaris/OpenSolaris.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Thu Oct  7 00:26:39 UTC 2010 on sn-devel-104

commit 1c9b85667070ee3292862d007f03b33b10713edd
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Oct 6 18:47:08 2010 +0200

    tevent: Only call handlers that ask for events
    
    The s3 libsmbclient puts two different handlers on a single fd for readability
    and writability. With select this works fine, however without this patch we
    unconditionally call the write handler even if the socket is only readable. We
    should have called the read handler instead.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Wed Oct  6 23:40:24 UTC 2010 on sn-devel-104

commit 0cec0f0912bc0cc15715fd68483f28e5b68e4439
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Oct 5 16:47:23 2010 -0700

    Fix crash in SMB2 rename found by gentest. We must always have an lcomp
    in the destination struct for a rename, so set the flag appropriately.
    
    Jeremy.

commit 5c52644eedd08982ce75ad532cafe16265968252
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 7 09:18:31 2010 +1100

    maintainers: delete the old MAINTAINERS file
    
    this contains some quite obsolete information
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Wed Oct  6 22:58:52 UTC 2010 on sn-devel-104

commit 081818a7a8464c19c7dead604e680e898a98a6c2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Oct 7 08:23:22 2010 +1100

    maintainers: added initial MAINTAINERS.txt
    
    initially with no subsystems maintained. Some initial maintainers will
    be added soon after discussion.
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Wed Oct  6 22:07:01 UTC 2010 on sn-devel-104

commit 342c79e26544ee5345a9d54f68f774d7ce07e530
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Oct 6 15:05:59 2010 +0200

    s3: Make the write end of the echo responder pipe non-blocking
    
    Without this, we can get a writable pipe end, but the writev call on the pipe
    will block.
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Wed Oct  6 13:57:30 UTC 2010 on sn-devel-104

commit 312d0977a2bd7f3eccff91e6c246a68814a33991
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 6 23:13:14 2010 +1100

    s3-build: use the simpler "make bin/smbtorture" for s4 torture
    
    and the same for bin/ndrdump
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Wed Oct  6 12:58:21 UTC 2010 on sn-devel-104

commit 7dcecbd0773b2c342712aa207c941d31f1da7b4a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 6 23:12:44 2010 +1100

    waf: allow for commands like "make bin/smbtorture"
    
    I finally worked out the GNU make syntax for this

commit 8a56f8ddb141ea32f6efe182ba97b822b1b200a5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 6 22:06:46 2010 +1100

    s3-spoolss: added another intermittent failure to knownfail
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Wed Oct  6 11:55:00 UTC 2010 on sn-devel-104

commit 1e2c1c89427c8230acb12a755d44d6b46b05a906
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 6 20:15:48 2010 +1100

    autobuild: only add autobuild.log if it exists
    
    this makes running autobuild on other than sn-devel easier

commit c24240bcd2f833321f45ea4ce0b6c6d080a3b990
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 6 20:11:01 2010 +1100

    waf: fixed some python3.x portability issues
    
    these have crept into the tree over time. Maybe we should add testing
    of a range of python versions to autobuild?

commit 8fcccae6aa4f48e7ef03fbf8e5b5f24ea0209d2e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 6 18:55:38 2010 +1100

    waf: update to waf version 1.5.19
    
    this includes a number of perforance improvements and bug
    fixes. Thanks to Thomas for all the recent improvements!

commit 8e5f8d71f22f0c102f46339427069d0571597ebf
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Oct 6 11:37:28 2010 +0200

    s4:samldb LDB module - remove "type" parameter of "samldb_fill_object"
    
    It's a bit redundant given that we have the "type" variable on "ac".
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Wed Oct  6 10:20:45 UTC 2010 on sn-devel-104

commit 2db1987f5a3a4268ce64fe570ff598e3bf4ecc73
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Tue Oct 5 13:06:19 2010 +1030

    idtree: fix right shift of signed ints, crash on large ids on AIX
    
    Right-shifting signed integers in undefined; indeed it seems that on
    AIX with their compiler, doing a 30-bit shift on (INT_MAX-200) gives
    0, not 1 as we might expect.
    
    The obvious fix is to make id and oid unsigned: l (level count) is also
    logically unsigned.
    
    (Note: Samba doesn't generally get to ids > 1 billion, but ctdb does)
    
    Reported-by: Chris Cowan <cc@us.ibm.com>
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
    
    Autobuild-User: Rusty Russell <rusty@samba.org>
    Autobuild-Date: Wed Oct  6 08:31:09 UTC 2010 on sn-devel-104

commit 58c1d0c256c8bfedf6a1a734bfba34c637f34035
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 6 18:03:07 2010 +1100

    s4-heimdal: disable using the system compile_et for now
    
    just checking that compile_et exists isn't enough. It has to actually
    work. Quite a few build farm systems have /usr/bin/compile_et, but it
    gets link errors when you try to use it (missing symbols et_list_lock
    and et_list_unlock)
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Wed Oct  6 07:48:16 UTC 2010 on sn-devel-104

commit 1e267b03da3d00bac20b518e620a03faadee5005
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Oct 6 15:23:58 2010 +1100

    waf: fixed the problem with com_err on Ubuntu 9.04
    
    this changes CHECK_BUNDLED_SYSTEM() to honor the checkfunctions and
    headers options even for libraries found with pkgconfig.
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Wed Oct  6 05:06:42 UTC 2010 on sn-devel-104

commit ee881c9d077bbd2a158bacc6676dcabf4f81ed34
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Oct 6 05:12:58 2010 +0300

    s4-test: Fix PYTHONPATH for samba4.schemaInfo.python(dc) test
    
    Autobuild-User: Kamen Mazdrashki <kamenim@samba.org>
    Autobuild-Date: Wed Oct  6 02:54:56 UTC 2010 on sn-devel-104

commit 77622acadda5d216477e7c41490e9454e26f9226
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Oct 5 16:47:23 2010 -0700

    Fix crash in SMB2 rename found by gentest. We must always have an lcomp
    in the destination struct for a rename, so set the flag appropriately.
    
    Jeremy.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Wed Oct  6 00:29:51 UTC 2010 on sn-devel-104

commit 46b4fe0c48cb045db0a372cf89d2b0da79e44bac
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Oct 5 17:15:14 2010 +0200

    heimdal-build: Require com_err library to provide com_right_r function.

commit a2288799039e570a0e647db1b3488314265819aa
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Oct 5 12:43:09 2010 +0200

    land: Fix stage description during failure.

commit 47d1c496084fd0974e20bc6c0694456f71391f8a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Oct 5 12:39:30 2010 +0200

    land: Print out failed test in case of subunit failures.

commit 95c6c9b69bcc7bed3a733a355dfa502b7aebd92b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Oct 5 23:08:24 2010 +0300

    heimdal-com_err: fix the build for systems with older 'com_err' library
    
    Autobuild-User: Kamen Mazdrashki <kamenim@samba.org>
    Autobuild-Date: Tue Oct  5 21:36:41 UTC 2010 on sn-devel-104

commit cef5a36cd1a3dbc7a1f027d33c14cf434dfa1360
Author: Günther Deschner <gd@samba.org>
Date:   Tue Oct 5 22:21:54 2010 +0200

    selftest: make it more obvious we only expect the printjob tests to fail.
    
    Guenther

commit b75674c2eba92174cdc71c770cc67e45953abb1f
Author: Günther Deschner <gd@samba.org>
Date:   Tue Oct 5 21:50:21 2010 +0200

    Revert "libndr: fix "excess elements in struct initializer" warning."
    
    This reverts commit a416ff26d6ada4ee96bf3963866f67d5788162d1.

commit a578ac028fa92bbe866f1a7d7f845d926281cf40
Author: Günther Deschner <gd@samba.org>
Date:   Tue Oct 5 18:08:51 2010 +0200

    s3-waf: add slightly different mkbuildoptions awk script for waf.
    
    This allows to run make test (w/o smbtorture4 for now) using waf.
    
    Guenther
    
    Autobuild-User: Günther Deschner <gd@samba.org>
    Autobuild-Date: Tue Oct  5 18:24:55 UTC 2010 on sn-devel-104

commit e481b6637436ff3a145e7104811911c501bf9e42
Author: Günther Deschner <gd@samba.org>
Date:   Tue Oct 5 17:01:14 2010 +0200

    s3-waf: use more of the NDR_ subsystems.
    
    Guenther

commit 4618e25c950666fbe97513982ab21f270ea1dad0
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Oct 4 15:48:04 2010 -0700

    Fix bug 7704 - Possible error in fix to rpc_server/srv_spoolss_nt.c.
    
    From pjb1008@cam.ac.uk - Service numbers start from 0.
    
    Autobuild-User: Jeremy Allison <jra@samba.org>
    Autobuild-Date: Tue Oct  5 17:32:34 UTC 2010 on sn-devel-104

commit aabfb7162c1e87ebfec1829488a2cd20af18ae0e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Oct 5 16:41:17 2010 +0200

    s4:subtree_delete LDB module - remove the DN from an error message
    
    It may looks funny but the DN output prevents older ADUC versions (tested with
    release 2000) to perform subtree deletes properly. Version 2008 has this fixed.
    
    Additionally some smaller changes ("%u" for printing unsigned integers,
    module name prefix, nicer line-wrap).
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Tue Oct  5 16:48:19 UTC 2010 on sn-devel-104

commit 0fb9671a01475d9c79c99ab8ae0f08c2f198097d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Oct 5 15:57:45 2010 +0200

    s4:setup/provision_rootdse_add.ldif - provide informations in the right order
    
    Doesn't change much - but nicer to read.
    
    Btw: is the testdata/samba3 stuff still needed ("provision_samba3sam.ldif"...)?
    It seems a bit outdated.

commit 505eaa9493a3c119c42168afb113e393a4f270d6
Author: Günther Deschner <gd@samba.org>
Date:   Tue Oct 5 12:19:58 2010 +0200

    s3-selftest: enable smb2 torture tests against samba3.
    
    Guenther
    
    Autobuild-User: Günther Deschner <gd@samba.org>
    Autobuild-Date: Tue Oct  5 14:38:07 UTC 2010 on sn-devel-104

commit 9bcb88ff25a56290ea326fd1ccf12865a4935c4c
Author: Günther Deschner <gd@samba.org>
Date:   Tue Oct 5 15:07:19 2010 +0200

    s4-selftest: move spoolss to skip list.
    
    Guenther
    
    Autobuild-User: Günther Deschner <gd@samba.org>
    Autobuild-Date: Tue Oct  5 13:51:28 UTC 2010 on sn-devel-104

commit a416ff26d6ada4ee96bf3963866f67d5788162d1
Author: Günther Deschner <gd@samba.org>
Date:   Tue Oct 5 14:59:09 2010 +0200

    libndr: fix "excess elements in struct initializer" warning.
    
    Guenther

commit caeb819861e0d87aebc6c1253102529cba6dec56
Author: Günther Deschner <gd@samba.org>
Date:   Tue Oct 5 14:58:52 2010 +0200

    s3-reg_parse: fix uninitialized variable in srprs_key().
    
    Guenther

commit 0a1ce77e29dd24f8f410e8832244bd8d03fd08b5
Author: Günther Deschner <gd@samba.org>
Date:   Tue Oct 5 14:57:59 2010 +0200

    s3-libndr: handle NDR_ERR_IPV6ADDRESS case in ndr_errstr().
    
    Guenther

commit 2b58efb1fcbf7a67d850cb6a68b932983c36c7af
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Oct 5 11:48:16 2010 +0200

    land: Fix failure detection.
    
    What subprocess.Popen.poll() returns is a exit code, not a status.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Tue Oct  5 13:05:25 UTC 2010 on sn-devel-104

commit c94db22a12f67b71135ab674798334fd28472d6a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Oct 5 11:15:56 2010 +0200

    land: Simplify retry checker.

commit 5218bcf76fb30560741cf5511ff38d7dd93e0f18
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Oct 3 04:33:02 2010 +0300

    s4-provision: Reset "debuglevel" after "provision" take place
    
    Otherwise "provision" resets our current debug level and
    we don't get debug messages we may expect onwards
    
    Autobuild-User: Kamen Mazdrashki <kamenim@samba.org>
    Autobuild-Date: Tue Oct  5 11:32:50 UTC 2010 on sn-devel-104

commit fb0add66055f68edc849e29b3609e268b9c7a766
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Oct 3 04:30:14 2010 +0300

    s4-libnet_vampire: Reparent result.lp_ctx - we have already referenced it
    
    which leads to warning that we are trying to steal
    a context with references

commit 9c27099715b248206c2d5ca9e7db22532ad9f994
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Oct 5 02:47:08 2010 +0300

    s4-test: Fix PYTHONPATH for python.drs_ tests

commit dd380e34598639cfdbe447462972fff03e44b805
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Oct 5 02:45:38 2010 +0300

    s4-test: Use absolute path for 'samba4srcdir'

commit 4aa8aaa6d2f114d4b9a4ab7d9314e9ec01ea3a69
Author: Günther Deschner <gd@samba.org>
Date:   Tue Oct 5 11:38:45 2010 +0200

    s3-waf: convert NSS_INFO into a subsystem.
    
    We don't do the fancy symlinking to idmap modules though.
    
    Guenther
    
    Autobuild-User: Günther Deschner <gd@samba.org>
    Autobuild-Date: Tue Oct  5 10:50:53 UTC 2010 on sn-devel-104

commit d10a601ce0a9f1d66344c6c3b8cbb30c467b18a9
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 27 07:30:41 2010 +0200

    s3-waf: add RPCCLI_WINREG subsystem.
    
    Guenther

commit ea08cd280cd03377cbabac8f6565719186330e44
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Oct 2 17:07:00 2010 +0200

    s3: Stop using the write cache after an oplock break
    
    Autobuild-User: Volker Lendecke <vlendec@samba.org>
    Autobuild-Date: Tue Oct  5 10:09:38 UTC 2010 on sn-devel-104

commit af5308ef9c30be759985a37f29c958eec0dc28cd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Sep 15 12:40:07 2010 +0200

    s4:samldb LDB module - simplify/unify the message handling on add and modify operations
    
    - Perform only shallow copies (should be enough)
    - Perform only one copy per operation (also on modifications)
    - Build a new request on modify operations if needed ("modified" flag) - this
      makes it look cleaner
    - Fix an important bug: the "el" pointers could have changed after
      modifications. Therefore we have to refresh them on the FLAG_DELETE checks
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Tue Oct  5 09:24:57 UTC 2010 on sn-devel-104

commit ca035b35fe646afc1222ce6b16c818b6629a3039
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Oct 5 09:59:30 2010 +0200

    s4:samldb LDB module - assign better memory contexts on two places

commit 0e5b77bec44863b1ad440e45fd0933f07e797261
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Oct 5 09:27:36 2010 +0200

    s4:kdc - use "userAccountControl" always unsigned
    
    It doesn't change much but it's nicer to have it consistent.

commit 933aef0bf4aa52c5b4a584858f635833eb0243bd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 4 18:57:00 2010 +0200

    s4:ldb_modules.c - fix a typo

commit a9ee39cadf02fad849ce7a10785ae22a3c284699
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Oct 5 18:55:28 2010 +1100

    s4-test: changed the gentest test to use a fixed seed.
    
    we need our test suite to produce repeatable results
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Tue Oct  5 08:43:00 UTC 2010 on sn-devel-104

commit 906e3f12973a26e387116508ea745dc554221764
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Sep 4 12:04:18 2010 +0400

    torture: complete dfs referral tests
    
    Autobuild-User: Matthieu Patou <mat@samba.org>
    Autobuild-Date: Tue Oct  5 08:01:39 UTC 2010 on sn-devel-104

commit 8a0095b930f7ad2a4451f56f204fb0bd73bce66b
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Sep 4 01:03:53 2010 +0400

    dfs: Fix wrong size of referral, change order of dc referral
    
    Order of referral is now like w2k8/w2k8r2 as it seems it has an
    influence on how clients manage to get it.

commit 52d32e08a4227909662a50a989633e9acd4bbb2f
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Sep 4 00:39:16 2010 +0400

    idl: dfsblobs fix glitches in the implementation

commit 83f3f5e15aa9928f998c3afe03e71a53ad8e8d6a
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Sep 4 20:08:05 2010 +0400

    ndr: Handle the case of string array with all null terminated strings

commit 7c5d7a5b6337b8543ebb9c71e8d97eceb7a1e44e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Oct 5 17:17:31 2010 +1100

    waf: workaround for the 'make install' breakage
    
    This is a temporary workaround until Jelmer gets a chance to look at
    this
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Tue Oct  5 06:57:59 UTC 2010 on sn-devel-104

commit 5548d3d41e3db378802e614656d3f708a3edd214
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Oct 5 00:36:21 2010 +0200

    Add missing dependencies for com_err.

commit 6ea99a237d982827accd1e9befe133141083d9cb
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 21:19:47 2010 +0200

    ldb: Refer to ldb(3), not ldb(7).

commit c8b6be016a0352d50c9f384cde51bde90227ba58
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 18:05:00 2010 +0200

    heimdal-build: Simplify calls to convenience functions.

commit 3c0a57a99c2c5bc4f7f48ced24e41ec57c6349a2
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 17:17:00 2010 +0200

    heimdal-build: Add HEIMDAL_BINARY convenience method.

commit e9224c6bd12b02d9dd85a18efe59ce51396d460a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 16:48:34 2010 +0200

    heimdal-build: Implement HEIMDAL_LIBRARY with fewer wafsamba functions.

commit 6c81caedf618b742faed822c38c7c653fe95a37e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 16:27:16 2010 +0200

    heimdal-build: Add heimdal specific subsystem function.

commit 017196ad8501bd44bbfedfff9c8e24d801426df7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 16:19:29 2010 +0200

    heimdal-build: Add custom heimdal generator.

commit 9eab95bd08cf63b63de63ed8dc88ca3a40345b19
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 16:14:10 2010 +0200

    heimdal: Fix name of hx509 library.

commit 39f9bfde394e9f2408ba11a40267de9c3a6e119e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 16:03:21 2010 +0200

    heimdal: Fix name of kdc library.

commit 1db3221c9433dc602ea250d7126f279d77821064
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 16:00:17 2010 +0200

    heimdal: Fix name of 'hdb'.

commit 7b188397afc746a11bea70954a6350fa9738ead0
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 15:56:42 2010 +0200

    heimdal: Fix library name of heimntlm.

commit 9b18d48d51ecb7c3350a8950b7928662852b056e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 15:54:07 2010 +0200

    heimdal: Fix library name of gssapi.

commit 14a11337f0723ed36939cfd9114a8f49f3a3a9ff
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 15:50:05 2010 +0200

    heimdal: Fix names of roken, wind libraries.

commit d09cfc04fb29222c39ca4f170982c033fdc8206c
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Oct 4 22:56:20 2010 +0400

    unittests: add a test to avoid regression on previous fix
    
    Autobuild-User: Matthieu Patou <mat@samba.org>
    Autobuild-Date: Mon Oct  4 20:23:31 UTC 2010 on sn-devel-104

commit 19f835dd69e7ea3ecc10732ebb031f78f79ec9f5
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Oct 4 22:54:46 2010 +0400

    unittests: makes the unit tests for ldb.python back in order

commit 9dcad792b6d5ff0481da467b1c6b4524cf462ba8
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Oct 4 00:43:33 2010 +0400

    pyldb: test return code before trying to talloc_steal
    
    Otherwise you can have an error on the talloc_steal as the req can have
    been not talloced yet

commit b53fbc75acc525f2e2450370e704a62791271788
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 22 14:24:03 2010 +0200

    s4:ldap_server: rewrite to socket layer to use tstream
    
    This should make our sasl and tls handling much more robust
    against partial sent pdus.
    
    metze

commit b5f2633f7aca375c597a88bcb061563c94efb7ca
Author: Kai Blin <kai@samba.org>
Date:   Mon Aug 16 21:22:52 2010 +0200

    dnsp: Add support for parsing HINFO records
    
    Autobuild-User: Kai Blin <kai@samba.org>
    Autobuild-Date: Mon Oct  4 19:41:38 UTC 2010 on sn-devel-104

commit 65d2cfdcf1517b2e99df0556eb5bcfbc0c49a453
Author: Kai Blin <kai@samba.org>
Date:   Fri Aug 13 11:09:09 2010 +0200

    dnsp: Parse TXT records

commit da21f78099884ce425dfbb99c8c246f6fcd98a3a
Author: Kai Blin <kai@samba.org>
Date:   Thu Aug 12 15:46:42 2010 +0200

    dnsp: Add MX record parsing

commit 8ff715c3d9ca2d6cc8880fa3040b1d1dbc942590
Author: Kai Blin <kai@samba.org>
Date:   Tue Aug 10 15:34:27 2010 +0200

    dnsp: Allow parsing of AAAA records

commit ee7ee2c4c2f4c75c355cc06ce29d1ef59b2ae581
Author: Kai Blin <kai@samba.org>
Date:   Tue Sep 28 20:33:54 2010 -0700

    ndr: Implement push function for IPv6 addresses
    
    Thanks to Julien Kerihuel for providing the patch that pushed me to
    finish my own IPv6 patches.

commit 013780b1e1942522dfee59d973a341b5f18ace67
Author: Kai Blin <kai@samba.org>
Date:   Tue Aug 10 15:32:59 2010 +0200

    ndr: Add support for pulling/printing an ipv6address type

commit 10a4ea7219bb8a1b880b1f0ae4fb39b5f479bab3
Author: Kai Blin <kai@samba.org>
Date:   Mon Aug 9 07:26:16 2010 +0200

    IDL: More types for the DNSP IDL file

commit 6320cface96baba061b4d097ddbd17d63c663346
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Oct 4 17:18:19 2010 +0200

    s4:dsdb/common/util.c - change the usage of the RECYCLED control
    
    Use it only in conjunction with the DELETE one to allow the functions to work
    also against Windows < 2008R2. This is really important for the vampire
    operation.
    
    Also mark the RECYCLED control as non-critical (so that it's simply ignored by
    older Windows'es).
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Mon Oct  4 16:10:11 UTC 2010 on sn-devel-104

commit 59d00fc439e5851f60925febda8d7f7816a44563
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Oct 2 10:03:55 2010 +0200

    lib/util/asn1: let asn1_peek_full_tag() return an error if we fail to parse tag hdr/len
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Mon Oct  4 14:46:40 UTC 2010 on sn-devel-104

commit 42d1a84a360ed56c123bb7bab6340d9e8425a8c0
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Oct 4 10:35:32 2010 +0200

    libcli/ldap: ldap_full_packet() requires at least 6 bytes
    
    metze

commit 4423aa59abda50c8b71815f922ea03e2009f9e50
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Sep 27 23:57:34 2010 +0200

    tsocket: make sure we delete the fd event before calling close()
    
    We got random double free errors, when getting events from
    epoll_wait() and try to dereference the private talloc pointer
    attached to it.
    
    Before doing the close() in the tstream_disconnect_send() function
    we need to delete the fd event.
    
    commit 38f505530ba06323a56c7d3914630efffcd12629 only fixed it for
    tdgram sockets.
    
    metze

commit c676c950dbb022004e7224b39355decfa74e6032
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 15:23:24 2010 +0200

    compile_et: Support using system compile_et.

commit 0bda3f8cfb34cc23fac8745decfbfb2f97a8fb65
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 14:13:24 2010 +0200

    heimdal: Support using system com_err.

commit 587315f75ddfd56f2b98a8dd886fff1c6730ca0d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 13:53:02 2010 +0200

    land-remote: Force running in foreground when pushing to master.

commit f1b62eaa2cda7c92897ca9239573c67798a41f1a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 13:51:34 2010 +0200

    land-remote: Announce what address email is going to be sent to.

commit 20d39691a8eecd57b27cb709a70c50bf572b8114
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 13:39:32 2010 +0200

    tdb: Only use system pytdb when using system tdb.

commit e805bf52c9ed32bd53759996b5700c5d582a2a58
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 13:38:39 2010 +0200

    tdb: Support using system pytdb.

commit e604532b495a82da09f3a5dea5fc2a0aa59590f7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 13:38:25 2010 +0200

    waf: Add function for checking for system python modules.

commit 6cd722d9507200a90b7c99dcb6749187aa757f87
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 13:17:25 2010 +0200

    pytdb: Add __version__ attribute.

commit 8cec67fe61b1e6e64cab968ee43be424a91e56cd
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Oct 4 01:35:36 2010 +0200

    registry: Make a two more functions static.

commit 515c8f0289f9ac0d418399499da309f3f88b1540
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Oct 4 11:39:51 2010 +0200

    s3: Fix a pointer error
    
    It is not universally guaranteed that an enum is represented as a uint32_t.
    
    This starts to be THE BUG (tm) in Samba. What can I do to explain this
    to people a bit better? It seems that the verbose explanations I put into
    the recent checkins fixing similar bugs are not clear enough.
    
    Anybody who does is not 100% clear about what this patch fixes please
    contact me directly so that we can talk it through on the phone to agree
    on a wording that everybody can understand.
    
    Thanks,
    
    Volker

commit b958f98152ab5946b771bde0fffb37fa25126415
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Oct 4 11:02:57 2010 +0200

    s3: Attempt to get the Tru64 build a bit further

commit 355849ed4cbe5cea86edf6b5414d264c0637ac64
Author: Günther Deschner <gd@samba.org>
Date:   Mon Oct 4 09:28:41 2010 +0200

    spoolss: fill in spoolss_DeletePort IDL.
    
    Guenther
    
    Autobuild-User: Günther Deschner <gd@samba.org>
    Autobuild-Date: Mon Oct  4 08:10:16 UTC 2010 on sn-devel-104

commit 279e0c9610075a95ffe79f8fa223bf2427f83468
Author: Günther Deschner <gd@samba.org>
Date:   Sun Oct 3 08:13:35 2010 +0200

    spoolss: fill in spoolss_SetPort IDL.
    
    Guenther

commit 2ff1c9eb30f220a4c490afc695a951de7b3c45f9
Author: Günther Deschner <gd@samba.org>
Date:   Sun Oct 3 07:24:56 2010 +0200

    spoolss: fill in spoolss_AddPortEx IDL.
    
    Guenther

commit 7d0d6d4d23fd010cf78736d33bd710710758b167
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Oct 3 18:49:56 2010 +0200

    s4:kdc/db-glue.c - remove unused variable
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sun Oct  3 17:30:34 UTC 2010 on sn-devel-104

commit 24282adb9a0db872ba45e878fdbe019c6bc2602e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Sep 29 19:49:57 2010 +0200

    s4:ldap.py - test allowed system flags restriction
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit ca08cde15029b6d8efdc562daf35d49f4fdbd4de
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Sep 29 18:18:55 2010 +0200

    s4:objectclass LDB module - introduce allowed system flags restriction
    
    Let us do the distinction by real use and provision by the RELAX flag
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 4e8206eb4c74de05aa0657fc36ad1569b96a8900
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Oct 3 18:40:05 2010 +0200

    s4:urgent_replication.py - fix up the system flags handling
    
    And relax some more object creations due to the enforced system flags rules.

commit 79a4be4f773ef7ce7340619102374796de150a8a
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 17:39:00 2010 +0200

    s3: Remove smbd_server_conn from msg_force_tdis

commit e128b2316550f654279345c1f38087b125d9b19b
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 17:37:24 2010 +0200

    s3: Remove smbd_server_conn from process_blocking_lock_cancel_message

commit c0eb35c0a245f6f9e8ca430b3ad4d3435d365761
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 17:35:52 2010 +0200

    s3: Remove smbd_server_conn from smb1 receive_unlock_msg

commit db607331d353dc43e1a7cb11e7af0ce7e38faf9a
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 17:34:43 2010 +0200

    s3: Remove smbd_server_conn from msg_file_was_renamed

commit 3cf3d54fbc3c28e40d3e23543c0fef1c9e81559a
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 17:33:11 2010 +0200

    s3: Remove smbd_server_conn from validate_my_share_entries

commit 924357ab524bdb296b86ee4e34b9a9669d1d5901
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 17:29:56 2010 +0200

    s3: Remove smbd_server_conn from msg_close_file

commit 898f7c9603b1a9057f0a65b368c569d52b627238
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 17:28:10 2010 +0200

    s3: Remove smbd_server_conn from smb2 receive_unlock_msg

commit 554f5e7c6035577ab6463f12cc0e5b4a089cbc86
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 17:24:33 2010 +0200

    s3: Remove smbd_server_conn from process_kernel_oplock_break

commit 5d1d575e87dfd8a378f385ce1d99c66956cbb17b
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 17:22:09 2010 +0200

    s3: Remove smbd_server_conn from process_oplock_break_message

commit 35d6d44e5ae6e82c8c1eb05d4bff65b5399f1197
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 17:20:43 2010 +0200

    s3: Remove smbd_server_conn from process_oplock_async_level2_break_message

commit 1d3aa74e4ce5b7d8fd6a916b2f36b46c6897fd27
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 17:18:26 2010 +0200

    s3: Lift smbd_server_conn from initial_break_processing

commit fb2f0c5bdd5bd4cb62072cf2e2b9bc7d73ad6b42
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Sep 19 21:09:18 2010 +0200

    s3: Add msg_ctx_to_sconn

commit fba8e326f819146d10ca3088083df0cf20b571c1
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Oct 3 16:14:34 2010 +0200

    s4:patchfile_dotreg.c - use "size_t" when counting characters in DATA_BLOBs
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sun Oct  3 16:03:41 UTC 2010 on sn-devel-104

commit dcb1a0698acbd89df0f658778ce95825436d3847
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sun Oct 3 20:22:38 2010 +1100

    s4-kdc Remove special case kerberos restriction in the KDC
    
    We should avoid using Kerberos or any other recursive auth mechanism
    in ldb backends, but denying Kerberos here won't be enough, so
    remove the special case.  (Typcially we bind using a different password
    space and DIGEST-MD5 or NTLM).
    
    Andrew Bartlett

commit a095a08e252588996c499f071aae2abae419a5c7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 19 17:46:48 2010 +0200

    s4:deletetest.py - enhance the tests
    
    - Integrate the ldap.py delete protection testing code and enhance it
    - Demonstrate the DISALLOW_MOVE_ON_DELETE system flag
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit b2385e3725e9c41820b315c202a559f875b50743
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 25 11:49:17 2010 +0200

    s4:ldap.py - remove the delete tests
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit dda6c354f6f2c1da95cf42cea90f76ce033de38e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 19 22:36:12 2010 +0200

    s4:dsdb python stuff - introduce also here the "show_recycled" control
    
    But also here beside "show_deleted" to not loose compatibility with older
    provisions.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit e3081b92c16198332f5242a0395701ddfa7392e5
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 19 22:20:08 2010 +0200

    s4:dsdb - substitute the "show_deleted" with the "show_recycled" control
    
    We intend to see always all objects with the "show_deleted" control specified.
    To see also recycled objects (beginning with 2008_R2 function level) we need to
    use the new "show_recycled" control.
    
    As far as I see this is only internal code and therefore we don't run into
    problems if we do substitute it.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 46282da011b411daac052e07a576987d155638b1
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 19 22:12:23 2010 +0200

    s4:dsdb/common/util.c - introduce "DSDB_SEARCH_SHOW_RECYCLED" flag
    
    This is needed since starting with 2008_R2 function level we get another type
    of hidden objects which aren't seen by the "show_deleted" control: recycled
    objects.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 779b97325a1a60e6c72a334d0134ea5178942f7d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 25 07:42:14 2010 +0200

    s4:subtree_rename LDB module - also already deleted objects have to be renamed
    
    This is needed if the SYSTEM_FLAG_DISALLOW_MOVE_ON_DELETE flag was specified
    and the parent is renamed.
    
    To be able to do this we also need to relax the constraint checks (using the
    "isDeleted" proof).
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 69b7a87e98d3ecc937595c1a3cbd3c10abb9c652
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 19 18:23:20 2010 +0200

    s4:show_deleted LDB module - also support the "show_recycled" control
    
    MS-ADTS 3.1.1.3.4.1 and MS-ADTS 3.1.1.5.5
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit e1509ec623480e11760221667c2d8a724e0da05a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Sep 17 12:08:28 2010 +0200

    s4:repl_meta_data LDB module - consider the SYSTEM_FLAG_DISALLOW_MOVE_ON_DELETE flag
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 2b4f6528999243476e8fe25461b54a52f4911683
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Sep 24 18:44:50 2010 +0200

    s4:subtree_delete LDB module - it is only responsible for non-deleted objects
    
    The deleted objects (tombstones, recycled & deleted objects) are handled by
    "repl_meta_data".
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 4768280614b517049ab724026b6867fbee77c6e3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 25 12:02:53 2010 +0200

    s4:objectclass LDB module - fix the "crossRef" delete protection
    
    This is what Windows does
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 6c9b25ea5c1d61db2265ba1d8735ffc27a256f6b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Sep 24 14:13:48 2010 +0200

    s4:objectclass LDB module - fix the delete behaviour of server containers
    
    A typo prevented the right behaviour.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 4b16cc9eef62171a7df276ec88064084147e2f8f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Oct 3 07:53:45 2010 -0700

    autobuild: override the editor when marking the commit
    
    this avoids the problem of a user having an editor set in their global
    .gitconfig, and that having higher precedence than the EDITOR
    environment variable
    
    Autobuild-User: Günther Deschner <gd@samba.org>
    Autobuild-Date: Sun Oct  3 15:22:01 UTC 2010 on sn-devel-104

commit 120f5ee429eabc84a36434854fb0a194cc1312e1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 16:25:34 2010 +0200

    wafsamba: Some reformatting.

commit 257e259a26031945243dcd08ba739614ddaf695b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 16:08:13 2010 +0200

    heimdal: Move asn1 list to heimdal_build.

commit dd5a91b4372daf3c098348881d04496918ddf097
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 16:04:34 2010 +0200

    heimdal: Move SAMBA_ERRTABLE to heimdal_build.

commit 8e5a9e7721a966ce1491f727d25ab3f0b8e8fa58
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 16:01:58 2010 +0200

    heimdal: Move autoproto code to heimdal_build.

commit 3c1eca124e791207d3afa9511d9a9201dfd933b7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 15:59:21 2010 +0200

    wafsamba: Move heimdal library code to heimdal_build.

commit 958d7a5710e52bbb04d5db79a6b2c0e1dab0e355
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 15:06:51 2010 +0200

    land: Inherit EMAIL from the environment.

commit 88d08c172c46fa218eaf9347736e9754be9bce40
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 15:00:33 2010 +0200

    pidl: Allow longs for bitmasks.

commit b7acb8ebb637b29648ae5a6e7043cbf9a6c5ee3a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 14:38:12 2010 +0200

    pidl: simplify some generated code.

commit 9aa90b6cef5d8a6219ab3a6f6f2de55d52f88f62
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 07:10:58 2010 +0200

    heimdal: Convert hx509 to library.

commit beed95e3a2ae4460e80294fc43ef3d916c7f7454
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 06:58:39 2010 +0200

    heimdal: convert some subsystems to libraries, consistent with upstream heimdal.

commit e2eae17961ef7fd3457c126bc19b3ef54149be00
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Sun Oct 3 06:36:49 2010 +0200

    Make sure REG_SZ is properly written to a .reg file (not as hex(1)), fix trailing comma REG_BINARY.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit a8adadbe5b5118d6768953d35b21475b06474412
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Sun Oct 3 06:19:12 2010 +0200

    Fix issues addressed by Jelmer:
    
     * Add a comment about why the reg_strhex_to_data_blob was added
     * Fix int which should've been a boolean
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 6e881dd86ac9e99fed2091b8ba3d677200d8fc3b
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Sun Oct 3 06:11:31 2010 +0200

    Fix patchfile_dotreg to write proper .reg files: 'hex(1..B):', 'dword:', etc
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 2d4500deea1c0ef9be9906dc7566072877193fc5
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Fri Sep 3 11:04:17 2010 +0200

    Fix registry editor to be compatible with Windows 7.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 90d82870b0fb0bc82b6a5a7f7619c0876db97113
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Mon Aug 30 15:27:05 2010 +0200

    5 uint32_t's should be set, not 5 bytes.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit b3d2345bd1b963f30d08067275b51bd7eaa9e1a9
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Mon Aug 30 15:05:25 2010 +0200

    The root key should be created as a root key, not subkey.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit bc2098c45920087c49770892db1e50c76d71d8a4
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Mon Aug 30 12:21:29 2010 +0200

    Do not include the closing doublequote in .reg files.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit deebc934edb9a0a70e7615b1161d7a60fcb1d78f
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Wed Jul 28 14:46:38 2010 +0200

    Fix hex():00,00,00 bugs and strtol dword bugs, these values are explicitly hex.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 1ed896407f8109348de7f138c1f00dddeb19df67
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Tue Jul 27 17:21:48 2010 +0200

    Make sure we write the value stored in value, not line (doublequoted).
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit a23aa3f5f150d06c1943e5031a239d58ef7b068c
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Tue Jul 27 11:13:24 2010 +0200

    Make sure that regf only writes to disk every five seconds or when flushed or destroyed
    
    Brings speed up on a large .reg import from 17.5s to 0.95s, over 18 times faster
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 927e4db0909b54dd94df51d92266ba8dbe09e214
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Mon Jul 26 22:10:43 2010 +0200

    Fix .reg file format parsing.
    
     * multiline data
     * doublequoted value name
     * handle windows format CRLF
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 4356f09d7f4f84fc16b03d84a8de359272368574
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Mon Jul 26 20:16:44 2010 +0200

    Fix registry parsing of strings to also support the windows method.
    
    Specifically: dword:00000000, hex:00,00,00,00, hex(0..B):00,00,00,00
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 4a768fbef7a3ed8bbc0219909f036bdeb01bf4c0
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 13:21:21 2010 +0200

    s3: I thought I had compiled this....

commit 64be07bc70e4d755916304eb5446485801374c12
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Oct 2 13:45:22 2010 +0200

    s4:dsdb_dn_val_rmd_flags - memmem - scan the whole string for occourences
    
    Do this as in "dsdb_dn_is_upgraded_link_val". There is really no reason to
    truncate before search.
    
    Autobuild-User: Matthias Dieter Wallnöfer <mdw@samba.org>
    Autobuild-Date: Sun Oct  3 10:45:39 UTC 2010 on sn-devel-104

commit bb81760e82bee68e0c4d711338170eae3b19a41a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Sep 29 19:50:20 2010 +0200

    s4:ldap.py - delete the right object after test completition

commit f9244a15c78d73bbccf2c623799584c1d65d8310
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Sep 29 19:39:17 2010 +0200

    s4:ldap.py - fix "system only" test
    
    A part was missing

commit 14c660da323c8596ae4babc7f94d51bd793c1b71
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Sep 27 07:46:11 2010 +0200

    s4:acl_read LDB module - fix counter type

commit 55e3720470146d5f55a0776be9888781c06f5b5d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Sep 30 08:47:24 2010 +0200

    s4:getncchanges.c - fix some counter types

commit a01467913a22bc23c44cdc8b2b0fcfee296e29ea
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Sep 27 07:42:29 2010 +0200

    s4:schema_samba4.ldif - update allocated controls list
    
    This needs always to be done after a control allocation otherwise we end up in
    double-allocations and unexpected behaviour.

commit 01c3cb260c49ab6741dc694e2f193edc50cbb31c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Sep 28 12:33:40 2010 +0200

    s4:libcli/resolve/dns_ex.c - fix "const" warning

commit 48dccbf2b52163643b5bbc0d73b65e12b8c92c12
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 11:56:35 2010 +0200

    s3: Move #define VALGRIND to config.h
    
    This fixes the valgrind overrun in the tdb jenkins hash

commit d05ae9451aacd36d9c7ce7c313f95137aa5e8941
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Oct 2 02:13:36 2010 +0200

    s4:rpc_server/echo: fix compiler warning
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Sun Oct  3 09:41:51 UTC 2010 on sn-devel-104

commit ff48f7c00ce39057df48575fe0ceb28250069f67
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 10:54:06 2010 +0200

    s3: Attempt to fix the IRIX build

commit 97b76364e7c8103ee6dd6e41d85d3932e46eafdc
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 10:46:22 2010 +0200

    s3: Attempt to fix a ton of warnings on the build farm

commit c87d4e5ddbbafea6f0d2dd5062041d41e80db877
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Oct 2 23:49:06 2010 +0200

    s3: Remove talloc_autofree_context() from dmapi.c
    
    This is a place where an explicit dmapi_destroy_session would be needed. But we
    don't use a destructor for this.

commit 414cd919ffa2bdc842fc66ee2dc286448a92fc7d
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Oct 2 23:44:58 2010 +0200

    s3: Remove talloc_autofree_context() from unexpected.c
    
    Same argument as in 997a64f6fb11e19d78c: If tdb_close() was needed at exit
    time, we'd have more severe problems by now.

commit da0ef65e04f3e4983f51bc6fb3c9297934da4447
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Oct 2 23:40:48 2010 +0200

    s3: Remove talloc_autofree_context() from srv_samr_nt.c
    
    The dispinfo structs need to survive within a process across pipe opens,
    but they don't have a special destructor

commit 41b54a893116d04fcfb3b7f8d114917bd0f1a437
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Oct 2 23:38:33 2010 +0200

    s3: Remove talloc_autofree_context from pdb_interface
    
    None of the pdb backends have special destructors that need to be run at
    program exit.

commit 32ec1b36e0ba201344097bcfc1c85c6bc316bab3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 2 14:56:28 2010 -0700

    s4-kcc: silence "Testing kcctpl_create_intersite_connections" message
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Sun Oct  3 04:51:44 UTC 2010 on sn-devel-104

commit dfb664a1822f41cbd4f1f5a8ce6fcac4e1547bf6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 2 14:23:43 2010 -0700

    s4-selftest: support 'make testenv SCREEN=1'
    
    this can be used to start a test envioronment in screen windows.
    
    Use:
    
      make testenv SCREEN=1 SELFTEST_TESTENV=dc
    
    to launch just one environment (in this case, "dc")

commit 29e1a847ddb28aee8ae04578b74cb8ab97427b96
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 2 14:21:52 2010 -0700

    s4-selftest: silence warnings about bind chown

commit 3bb59255bb5d0275242cc7c81b3935612b729354
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 2 14:21:11 2010 -0700

    s4-test: silence a tap2subunit error

commit 762ad1c4baf04aa2e5dcdbcf6242b3e34d92cd4e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 2 13:08:37 2010 -0700

    s4-test: silence the Failed to chown message in make test

commit e36f20d39dae2f20ebfcf8be156963e10e150066
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 2 13:03:40 2010 -0700

    s4-ldif: get rid of the ndr_pull_error message on startup
    
    detect if the prefixmap blob is text or binary using the first 4 bytes

commit 87f0145d078d1598c9889e2cc2942e654794ae4a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 2 12:44:28 2010 -0700

    s4-server: exit with status 127 on SIGTERM
    
    this ensures that make test detects a failure if samba is killed by
    SIGTERM

commit b772871f4c85fe15b62cfca5c3a6d1f1a66540d6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 2 12:43:50 2010 -0700

    s4-selftest: added --screen option for test
    
    you can now do:
    
      make test TESTS="some test" SCREEN=1
    
    while in GNU screen, and all the samba servers will launch in their
    own new screen, named after the server name.
    
    You can also do:
    
      make test TESTS="some test" SCREEN=1 VALGRIND_SERVER=1
    
    to run valgrind on each samba server, or
    
      make test TESTS="some test" SCREEN=1 GDBTEST=1
    
    to run gdb on each server

commit 507c413e488dfe374870bae3af0d89c3b015add2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Oct 2 12:42:00 2010 -0700

    s4-selftest: fixed up exit codes on signals for make test
    
    also set $ENVNAME in launched servers

commit 60e25ab06bfe4aefcb06c1376074d717460d67af
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 04:24:46 2010 +0200

    land: Force always emailing when there is no other mechanism of progress reporting.

commit 0bb970dd8126f939f8612ba05553a5715789facd
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 03:56:09 2010 +0200

    land: Attach tarball of logs rather than individual logs to keep the
    mail size reasonable.

commit 997165b23e98c3709c0e7d7eeecec8a96c8d0265
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 02:16:11 2010 +0200

    land: Some cosmetic fixes.

commit 288b217a8f6f26b9e22abc71c8e05d6368eaaf3f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 01:31:11 2010 +0200

    land: Attach test output files to result emails.

commit f6b254c65d5e0cf33c56c666fb6bde1058288edf
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 00:50:53 2010 +0200

    land: Add --revision argument.

commit d8e81a19de99c6784267d45843b8295b4e40fc7c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 00:10:47 2010 +0200

    land-remote: Run remote land command unbuffered.

commit 0e11d18d1462a10f63ff82a11cdd88ffa53c83e5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Oct 2 16:55:06 2010 +1000

    s4-kdc Fix up after import of new lorikeet-heimdal
    
    Autobuild-User: Andrew Bartlett <abartlet@samba.org>
    Autobuild-Date: Sun Oct  3 01:56:04 UTC 2010 on sn-devel-104

commit f213a97ea07f4a3e4322d1c1ebd55f4ab1fb384a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Oct 2 16:52:52 2010 +1000

    Add new files for sha512 support

commit 21460dfc14acdeef69b6cd910da80f261316be63
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Oct 2 16:32:56 2010 +1000

    s4:heimdal: import lorikeet-heimdal-201010022046 (commit 1bea031b9404b14114b0272ecbe56e60c567af5c)

commit a2c4f54dfb47fa73c12ba305d52574aeb6baedd9
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 25 14:34:46 2010 +1000

    s4-heimdal We don't need HDBDIR any more

commit f02d82595f22ad2cf99f2191827011611f7f01fe
Author: Matthieu Patou <mat@matws.net>
Date:   Fri Aug 20 12:01:46 2010 +0400

    heimdal: change the version string

commit 3ca886b83510c52d665dadb480b314c330029a0e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 25 14:58:09 2010 +1000

    s4-heimdal_build fix up build after heimdal import
    
    Heimdal has it's own dynconfig like system, and so we need the
    LIBDIR etc in the CFLAGS here.
    
    We also need to define build rules for the new files imported in
    the merge commit, and fix up some header files.
    
    This includes the work by Matthieu Patou <mat@matws.net>
    
    Andrew Bartlett

commit ab6e3fce040f9ad27cbce44e9038a24f15b601c8
Author: Matthieu Patou <mat@matws.net>
Date:   Sun Aug 15 18:31:28 2010 +0400

    s4:heimdal: import lorikeet-heimdal-201009250123 (commit 42cabfb5b683dbcb97d583c397b897507689e382)
    
    I based this on Matthieu's import of lorikeet-heimdal, and then
    updated it to this commit.
    
    Andrew Bartlett

commit 197a1514d62494cc8b862d169c841a26e04b8925
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Oct 1 03:30:50 2010 +0300

    s4-ldapcmp.py: Don't guess credentials for second Credentials object
    
    This allow us to fallback to first credentials given.
    
    Autobuild-User: Kamen Mazdrashki <kamenim@samba.org>
    Autobuild-Date: Sat Oct  2 23:05:20 UTC 2010 on sn-devel-104

commit da0f3bd2291e561fd8b6f0fafd4bf6cb52dad722
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Oct 1 03:29:33 2010 +0300

    s4-getopt.py: Make Anonymous creds when no credentials
    
    are supplied on command line and caller doesn't want us
    to guess credentials from environment

commit d385d9a3178c6cc705f7cccf6688ba9b60571e96
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Sep 30 21:42:17 2010 +0300

    s4-test-fsmo.py: Implement kind of busy-wait for role transfer
    
    This allows us not to hard code timeout we are going to wait for
    before failing the test - if DCs are not very busy, we won't wait
    at all (speeds up 'make test' by a minute also)
    
    Maximum timeout to wait for is set to 20 secs currently,
    which should be enough even for slow machines and tested
    DCs being under load

commit 657d4d88124f3a6b48e543abadd37948c426dca9
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 29 15:56:23 2010 +0300

    s4-test-dsdb_schema_info.py: Get rid of global module variables

commit 83a15155ebb3399117ce0da7d4e0faa1b72199f9
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 29 15:51:11 2010 +0300

    s4-test-dsdb_schema_info.py: Simplify connection SamDB
    
    by using samba.tests.connect_samdb() helper

commit 2a23f0d524298c2cc78f36a2f5b45560ec36747f
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 29 16:00:43 2010 +0300

    s4-test-fsmo.py: Use common implementation for env_get_var_value()

commit c05180caa78eac0beb26c6791afd8642a97853e6
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 29 16:00:04 2010 +0300

    s4-test-delete_object.py: Use common implementation for env_get_var_value()

commit 302e1d29d82570ec32fd066bb9038649a67d148b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 29 14:53:12 2010 +0300

    s4-python-test: Common implementation for getting environment variable value
    
    Unit-test based python tests require certain input parameters
    to be set in environment, otherwise they can't be run

commit 6546127b6420361469112325d3ec2e2d19ed864c
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 29 04:31:02 2010 +0300

    s4-python-samba: Remove trailing ';'s

commit 6bc7c015fb510756dce4ada4831ca094a5d07a61
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 29 03:02:11 2010 +0300

    s4-test-fsmo.py: Use common implementation for connect_samdb()
    
    Connections are restricted to LDAP only (remote),
    as this test can't be run against local LDBs

commit 98e4d2702aa98d0cf89d3240276f2b5d6e841d45
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 29 03:00:18 2010 +0300

    s4-test-delete_object.py: Use common implementation for connect_samdb()
    
    Connections are restricted to LDAP only (remote),
    as this test can't be run against local LDBs

commit 7acbb7346fdf96f25b3c465dd070b86694beb12b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 29 02:58:23 2010 +0300

    s4-python-test: Implement global connect_samdb() function
    
    This helper makes proper ldb url to connect to
    and is a shorthand for test to create SamDB connections

commit 46ac1c3b478d087723962b6a6b6febf38620bcc9
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 29 01:55:22 2010 +0300

    s4-samba.samdb: Fix masking names from outer context
    
    - 'filter' is built-in
    - 'ldb' is a module name we imported

commit 0cb476fb26f450950c73c5df5223edc736ceb651
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 29 01:53:22 2010 +0300

    s4-python-samba: 'file' is a built-in

commit edfb8c64f60bb56d0dc9124f2aebd21ed9d1188a
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 29 01:35:51 2010 +0300

    s4-samba.samdb: Fix leading indention and trailing ';'

commit e9620c5fd211c854ed3f05f8821079efa729bc33
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 29 01:09:09 2010 +0300

    s4-python-samba: Fix few cosmetics
    
    - we have sys module already imported
    - _glue module is part of samba package so be more precise how to import

commit 24f1893b5dbf78fcd2ce839e091c91426ca9252b
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Oct 3 00:15:39 2010 +0200

    s3: Attempt to fix the non-ads build

commit b9bef1fd3ff5952eec0f123e4cdd290cd41dca67
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Oct 3 00:04:59 2010 +0200

    land-remote: Pass extra arguments on to land.

commit 22f633d09478fae37c1b77fb54b267d57a21a6d8
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 2 23:40:19 2010 +0200

    pytdb: Include Python.h first to prevent warning.

commit 5cdef708230bfca19d552ffe5476fe9fcdf850c6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 2 23:32:12 2010 +0200

    subunithelper: Remove accidentally added line.

commit ab37c48e57a16f69c6b926dbed6d4c1a50bb3fb9
Author: Kirill Smelkov <kirr@landau.phys.spbu.ru>
Date:   Sat Oct 2 17:43:50 2010 +0400

    pytdb: Check errors after PyObject_New() calls
    
    The call could fail with e.g. MemoryError, and we'll dereference NULL
    pointer without checking.
    
    Signed-off-by: Kirill Smelkov <kirr@landau.phys.spbu.ru>
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit bdd6bef5dd839ca6fb2d610b84098d2026bb6db1
Author: Kirill Smelkov <kirr@mns.spb.ru>
Date:   Sat Oct 2 17:43:46 2010 +0400

    pytdb: Add support for tdb_repack()
    
    Cc: 597386@bugs.debian.org
    Signed-off-by: Kirill Smelkov <kirr@landau.phys.spbu.ru>
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit a29142855e3f47a86a07c520a92f73c14e2488d7
Author: Kirill Smelkov <kirr@mns.spb.ru>
Date:   Sat Oct 2 17:43:40 2010 +0400

    pytdb: Add TDB_INCOMPATIBLE_HASH open flag
    
    In 2dcf76 Rusty added TDB_INCOMPATIBLE_HASH open flag which selects
    Jenkins lookup3 hash for new databases.
    
    Expose this flag to python users too.
    
    Cc: Rusty Russell <rusty@rustcorp.com.au>
    Signed-off-by: Kirill Smelkov <kirr@mns.spb.ru>
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 14efa955934b1731df9bfa6cd089ae6e78a4f1d1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 2 22:31:31 2010 +0200

    subunithelper: Fix format time.

commit 20c65121a7debe0ec2b7a316b6d36f97edf0264b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 2 20:32:16 2010 +0200

    land: Implement --fail-immediately directly in Python, provide subunit file.

commit 72119de02b61f567781ecaab7cfe5f48ac15113a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 2 18:41:14 2010 +0200

    subunithelper: Make filter options optional.

commit d7edb40fca382ec822a7b17e4b47ecabb43e99d6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 2 18:40:44 2010 +0200

    format-subunit: Split out summary file writing.

commit 4ece674a99ff6c2ca0b6af435d2fcd488fb67d09
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 2 17:02:02 2010 +0200

    selftest: Move plain text formatter to subunithelper.

commit 8354518c9630269dd0fe3953e9c49a43b9119e6b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 2 13:26:36 2010 +0200

    land: Add separate treestagebuilder for subunit.

commit b965a65e03817a4481306c6332fc88548ad9dea4
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 2 13:17:25 2010 +0200

    land: Cherry-pick tridges changes to autobuild.

commit 4190bd4e3463091d239acb521f7ba1cad04e8af7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 2 13:13:37 2010 +0200

    land: Move stage building into a separate class so we can have subclasses (e.g. subunit-specific).

commit 554289c261995e67e168a388f49d0861d75ce1a4
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Oct 2 02:59:21 2010 +0200

    land: Only pass shell=True if necessary.

commit d03ff1c9daf71fc1a9ddffde63744d809f4705f5
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 22:10:13 2010 +0200

    land: Add --fail-slowly option.

commit 916904443d6df7f9bd7502f31f1f7734e845a48a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 21:55:10 2010 +0200

    Several smaller cleanups, use python coding style.

commit 7f0167770c1be1b0cb7a2ab8c657feac86c9b74d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 21:43:20 2010 +0200

    land: Avoid running things in a shell where not necessary.

commit 56ad550a92c9c0c65da52861e43ed7595131d0ef
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 19:24:20 2010 +0200

    land-remote: Checkout repository first.

commit ff5fdb65f54f2e2efd865112f579989e96d848cf
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 21:35:35 2010 +0200

    land-remote: Use --repository option.

commit 8ce24a9187f7f93cb3557696034c94fc8be161f1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 21:34:31 2010 +0200

    land: Add --repository option.

commit 3c85d031d37eb55c32dd3f9f600795ea51a4b935
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 19:03:18 2010 +0200

    land: Move more functionality onto builder.

commit 74be4a2abfb0be83bacce04dcc531968dc31c4b9
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 18:52:10 2010 +0200

    land: Avoid more uses of chdir().

commit 6f6bfb3f2039ce6ba3bd4c1ee1440becc2c6e104
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 21:28:32 2010 +0200

    Split land.py back out of autobuild.py, so I can change it without
    risking to break the autobuild system.

commit 13756d0e803c228f7ff75ba996acd6afd1df0dcb
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Oct 2 11:50:26 2010 +0200

    s3: Attempt to fix bug 7665
    
    Quite a few of our internal routines put stuff on talloc_tos() these days.
    In top-level netapi routines, properly allocate a stackframe and clean it
    again. Also, don't leak memory in the rpccli_ callers onto the libnetapi
    context.

commit fc6e910e69f49cd482966eb9af3f27c0b65bcf4b
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Oct 2 11:13:34 2010 +0200

    s3: Fix a 64-bit BUG
    
    Quick explanation why this is a problem:
    
    It is not safe to pass a pointer to a uint32_t into a routine that expects
    a size_t *. The routine that this pointer is passed to has no chance to find
    out that in reality it was passed a pointer to a uint32_t. On platforms where
    sizeof(size_t)==8, we get a nice overwrite of a stack area that should not
    be overwritten.
    
    As this happens over an over again: Does someone know a means to make gcc
    stop with an error in this case?
    
    Volker

commit ed5e05a15d3a8bea3a4f428d1664c9c5077866c2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 22:07:04 2010 -0700

    bisect: more bisection options
    
    and fixes for the old ones
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Sat Oct  2 06:14:46 UTC 2010 on sn-devel-104

commit 018d23a2939b6dda41103764d6008b9809b7e192
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 21:10:39 2010 -0700

    script: added bisect-test.py git bisect script
    
    this can be used to work out what commit broke a set of tests

commit 06b27e5e3dd35a8a9b7c76c20844a7ad064e1541
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 19:53:34 2010 -0700

    autobuild: show top commit in emails

commit f9bc389f60b5bfb6f767299315568ffedd02d993
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 19:53:13 2010 -0700

    autobuild: include autobuild.log in logs.tar.gz

commit eadd28233d8df31cddc5c8dd888b768f3ac19730
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 19:07:01 2010 -0700

    s4-repl: use the GC principal name for DRS replication connection
    
    this is required when talking to RODCs (for notify calls), and is good
    practice for all DCs
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 9bae4cd3d967f43c32796d03b1c2ee8ae5119e00
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 19:05:30 2010 -0700

    s4-rpc: added target_principal binding handle option
    
    this allows you to specify a target SPN for a connection
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit ee15dc96926f505ba7f01ccfcfc2959b507f2b96
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 19:04:44 2010 -0700

    s4-dsdb: added dsdb_search_by_dn_guid()
    
    this is more efficient than first searching for the DN, then doing a
    search. We should look at using this in lots of existing code
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 76232a40d844dc37720e07ee0f2131526a1a6942
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Oct 1 09:53:05 2010 +0200

    s4:rpc_server/netlogon: don't use dcerpc_binding_handle_call_send/recv() directly
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Sat Oct  2 03:11:38 UTC 2010 on sn-devel-104

commit 47b3d88a7da37c45d9d0d0be5f164fa0a8c56328
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Sep 30 00:26:33 2010 +0200

    netlogon.idl: add missing flags to DSGETDC_VALID_FLAGS
    
    metze

commit 0ea38779353a964c01a6cdb71d1b627539159d5d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Oct 2 10:58:46 2010 +1000

    s4-gensec Always honour the set server principal
    
    The spengo code won't set this unless it is allowed to by this
    same option, but other callers may need it.
    
    Andrew Bartlett
    
    Autobuild-User: Andrew Bartlett <abartlet@samba.org>
    Autobuild-Date: Sat Oct  2 02:27:39 UTC 2010 on sn-devel-104

commit 23a8fad22bbcd41ee2583d96831295887fe48edc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 16:19:28 2010 -0700

    s4-drs: fixed comparison login in replicated renames
    
    we need to ensure we only ever compare USNs from the same originating
    invocation ID.
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Sat Oct  2 01:45:19 UTC 2010 on sn-devel-104

commit 6e846ca1f3bd812bdba22101d8326987a0013858
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 14:20:57 2010 -0700

    s4-kcc: remove stale repsTo entries in the KCC
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit faa993d95c0cdd29b52d64000e0f0c0585ff01af
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 17:58:47 2010 -0700

    autobuild: fixed tuple count for retry

commit 87698dc2a1adb52c381b35f5cc80437f91e75798
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Oct 2 07:12:48 2010 +1000

    s4-kerberos Don't regenerate key values for each alias in keytab
    
    Instead, store the same key value under the multiple alias names.
    
    Andrew Bartlett
    
    Autobuild-User: Andrew Bartlett <abartlet@samba.org>
    Autobuild-Date: Sat Oct  2 00:16:52 UTC 2010 on sn-devel-104

commit 7b9a6645b11dff64e04c2ddb0cabc9145c0f029f
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Oct 2 05:25:26 2010 +1000

    s4-kdc Rework 'allowed encryption types' handling in the KDC
    
    All DCs and all krbtgt servers are forced to use AES, regardless
    of the msDS-SecondaryKrbTgtNumber value.
    
    Andrew Bartlett

commit a82e3abc707ecaf68ee26828f11987d621ec1bb5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Oct 2 05:09:42 2010 +1000

    s4-auth Add make_server_info_pac() to include 'resource domain' groups
    
    Previously, our PAC code didn't include these groups into the
    server_info from which we would eventually calculate the full
    list of tokenGroups.
    
    Andrew Bartlett

commit 6488d5bc0b585d91b185ae37315293123c4b1001
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Oct 2 04:52:50 2010 +1000

    s4-auth Allocate domain SIDs under the sids array, not server_info
    
    Andrew Bartlett

commit a68f4476f780df4a87a99371b49c5e38b0fcb4d7
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Oct 1 13:58:36 2010 +1000

    heimdal use returned server entry from HDB to compare realms
    
    Some hdb modules (samba4) may change the case of the realm in
    a returned result.  Use that to determine if it matches the krbtgt
    realm also returned from the DB (the DB will return it in the 'right' case)
    
    Andrew Bartlett

commit d17a6f049386ebb8c1418837802dac069d7866e4
Author: Günther Deschner <gd@samba.org>
Date:   Fri Oct 1 22:52:33 2010 +0200

    s3-spoolss: Strip off ", DrvConvert" and ",LocalOnly" in OpenPrinterEx as seen from Win7 clients.
    
    These suffixes and their meaning are not documented (yet).
    
    Guenther

commit 455bbd5e1e21e3d295b84ee6895097ff420c3d20
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Oct 1 21:18:13 2010 +0200

    s3-spoolss: Fixed print job access.

commit b3fd5e11e5c380e040d3fd208a1c904404b82c43
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Oct 1 21:03:15 2010 +0200

    s3-spoolss: Fixed print_access_check server_info.

commit 100843ac239688a3c328f834b7a9f90478e2e8f9
Author: Steven Danneman <steven.danneman@isilon.com>
Date:   Fri Oct 1 12:01:16 2010 -0700

    s3:smbd: Increase unsupported IOCTL debug message to 2
    
    Even printing once per connection, level 0 was too spammy with
    Windows clients frequently sending FSCTL_GET_OBJECT_ID which
    is unsupported.

commit 455fccf86b6544cd17a2571c63a88f8aebff3f74
Author: Steven Danneman <steven.danneman@isilon.com>
Date:   Mon Sep 13 19:15:23 2010 -0700

    s3:events: Call all ready fd event handlers on each iteration of the main loop
    
    Previously, only one fd handler was being called per main message loop
    in all smbd child processes.
    
    In the case where multiple fds are available for reading the fd
    corresponding to the event closest to the beginning of the event list
    would be run.  Obviously this is arbitrary and could cause unfairness.
    
    Usually, the first event fd is the network socket, meaning heavy load
    of client requests can starve out other fd events such as oplock
    or notify upcalls from the kernel.
    
    In this patch, I have changed the behavior of run_events() to unset
    any fd that it has already called a handler function, as well
    as decrement the number of fds that were returned from select().
    This allows the caller of run_events() to iterate it, until all
    available fds have been handled.
    
    I then changed the main loop in smbd child processes to iterate
    run_events().  This way, all available fds are handled on each wake
    of select, while still checking for timed or signalled events between
    each handler function call.  I also added an explicit check for
    EINTR from select(), which previously was masked by the fact that
    run_events() would handle any signal event before the return code
    was checked.
    
    This required a signature change to run_events() but all other callers
    should have no change in their behavior.  I also fixed a bug in
    run_events() where it could be called with a selrtn value of -1,
    doing unecessary looping through the fd_event list when no fds were
    available.
    
    Also, remove the temporary echo handler hack, as all fds should be
    treated fairly now.

commit 229f5443b75d8de2b816c1ddc40d51a0a858e907
Author: Günther Deschner <gd@samba.org>
Date:   Fri Oct 1 20:37:45 2010 +0200

    testprogs: print architecture used in win32 spoolss testsuite.
    
    Guenther

commit a88a7c76de759aaad14c00263df1daeb49ee8533
Author: Günther Deschner <gd@samba.org>
Date:   Fri Oct 1 19:48:11 2010 +0200

    s3-dcerpc: no point for printing NDR twice for internal pipes in log level 10.
    
    Guenther

commit 0ff7e0c998bb4fbc67925be762b528ae6585c4f3
Author: Günther Deschner <gd@samba.org>
Date:   Fri Oct 1 10:34:14 2010 +0200

    samba: share readline wrappers among all buildsystems.
    
    Guenther

commit 405b7d843f9103a29e923892337472e0fd891037
Author: Günther Deschner <gd@samba.org>
Date:   Fri Oct 1 10:33:32 2010 +0200

    s3-readline: move cmd_history to smbclient, the only user.
    
    Guenther

commit b38d0542e193512796d5d9502ac8d688a1036157
Author: Günther Deschner <gd@samba.org>
Date:   Fri Oct 1 10:08:15 2010 +0200

    samba: share select wrappers.
    
    Guenther

commit 0adc1645e23fedf52b10ed545eb9935df9ad7b6f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 13:07:42 2010 -0700

    s4-auth: fixed a vagrind error when creating keytabs
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 0111e80ea9f7a4d833771f349e5ce05025f7276c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 13:07:04 2010 -0700

    autobuild: revert a bit more of the subunit changes
    
    still not quite right - we can enable this again once its fully tested

commit b75c1f57c2a59bffbe4bef7ef7207758466be7bb
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 11:31:28 2010 -0700

    autobuild: disable the subuit changes for now - they break error checking

commit afe78c23ad4868b1c67a3aa855ad7f59d8475412
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 11:17:04 2010 -0700

    autobuild: fixed the tuples in the retry_task
    
    Pair-Programmed-With: Jelmer Vernooij <jelmer@samba.org>
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Fri Oct  1 18:22:22 UTC 2010 on sn-devel-104

commit 2d66bb51caf02c979f53688257dd33d7366b3ebc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 11:12:24 2010 -0700

    autobuild: cwd is needed on all command types

commit f6bc4c08b19f5615a49d281c0792c7fe4627e9bc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 10:26:49 2010 -0700

    s4-rpmd: fixed a use after realloc bug
    
    we could use old_el after the base message had been re allocated, due
    to adding timestamps. We need to re-find the element before using it
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 4beff4d7ba6709009ad81e3becb691b9d81e5611
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Oct 1 10:24:46 2010 -0700

    s4-dsdb: fail the transaction instead of asserting on error
    
    It is more useful to fail the transaction and give the user an error
    message than to assert when we have an error in the repl_meta_data
    module
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 9cdebd0ebcbf9b890679fa77ce6d8e0127fce28e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 17:45:47 2010 +0200

    autobuild: Avoid unnecessary chdir() calls.

commit c4ab2b38af122c7e9173bd5af10f1f9584aa1310
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 14:25:55 2010 +0200

    autobuild: Output test results in subunit.

commit 21475df35d7f28ab031c6b541e6002c27db07651
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 13:39:28 2010 +0200

    s3-selftest: fix prefix in subunit output.

commit f70a98605eb620882073483fedf25d6aa4aca74e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 13:30:01 2010 +0200

    s3: Add subunit-test target.

commit 9af570a2ef2313c309904ad291a8a0858d61eb68
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 13:17:58 2010 +0200

    s3-configure: Require at least version 1.2.6 of external TDB, which has
    TDB_INCOMPATIBLE_HASH.

commit e5dfc64e9c7ef38f77fed1ffc41aad6cf1876766
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 12:59:40 2010 +0200

    s4: Add 'subunit-test' make target.

commit 3dfbf3ce036987b14bbbeab3c35b58960a4fa75f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 12:19:56 2010 +0200

    autobuild: Provide more information about build sequence, stage name and output mime type (all plain text for now).

commit 7210c95e600a27bbf8a31b50d45214dc372a1ecc
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 11:28:48 2010 +0200

    autobuild: Add --always-email option.

commit 0866e2dad23e86cb423665268bbd6235b2188869
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 04:42:59 2010 +0200

    autobuild-remote: Support autobuild.py rather than land.py.
    
    Autobuild-User: Jelmer Vernooij <jelmer@samba.org>
    Autobuild-Date: Fri Oct  1 09:46:37 UTC 2010 on sn-devel-104

commit 1adece8c8d1b336941877e92fab76458204f26b3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 04:11:21 2010 +0200

    Remove land.py - it's been obsoleted by autobuild.py.

commit ebf01a4f89dcaf4f91c410eaf09d07ee5b081ff0
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 02:53:38 2010 +0200

    autobuild: Add --daemon option.

commit 072e3101045ccba1311a7dd3427319f1f1a92f3f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 29 00:52:36 2010 +0000

    autobuild: Remove autogen step for projects that have checked in configure.

commit 28a3d2ea3003d2fcabdfff209db945ad9ec86f87
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 29 02:38:18 2010 +0200

    autobuild: Simplify find_git_root.

commit b77bcea3525df6360a3a409b3145037e269975aa
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 29 02:29:02 2010 +0200

    pidl: Fix handling of typedefs of typedefs.

commit 3975203a0242a01fe6d3737f8f04ec80e90cb831
Author: Günther Deschner <gd@samba.org>
Date:   Fri Oct 1 06:42:58 2010 +0200

    s3-spoolss: fix do_drv_upgrade_printer() which must have been broken since the
    days we moved away from fstrings.
    
    Guenther

commit fa3264f89b1de8c7a284b8bc4469a80db7c6084f
Author: Günther Deschner <gd@samba.org>
Date:   Fri Oct 1 06:08:47 2010 +0200

    s3-net: better handle obscure 0x80070002 error reply when trying to update an
    not yet published printer.
    
    Guenther

commit 21576e3f8c32878910460bf9575c200ad93d682a
Author: Günther Deschner <gd@samba.org>
Date:   Fri Oct 1 06:08:12 2010 +0200

    s3-net: make sure we dont crash when publishing a single printer.
    
    Guenther

commit 5cb5e0aa9881758ec9f5af7da4fbc002ba91f49b
Author: Günther Deschner <gd@samba.org>
Date:   Fri Oct 1 06:07:25 2010 +0200

    s3-spoolss: make sure we dont crash on NULL setprinter level2 elements as seen from win7.
    
    Guenther

commit 48fca54a29375dfad84a9863c70fed8b88d70221
Author: Günther Deschner <gd@samba.org>
Date:   Fri Oct 1 06:05:38 2010 +0200

    s3-spoolss: dont overwrite location change notify.
    
    Guenther

commit 62d87f8f88306cf71686f55a6839bec337c96d1d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 30 20:56:20 2010 -0700

    s3-selftest: added samba3.posix_s3.rpc.spoolss.printer to knownfail
    
    this fails intermittently on sn-devel. Guenther suggested adding it to
    knownfail
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Fri Oct  1 04:37:36 UTC 2010 on sn-devel-104

commit 4c57095bb76aee5922502d1dff307c6dd869f007
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Sep 30 20:13:34 2010 -0700

    heimdal: added verbose logging of hemimdal crypto errors

commit 23b4126f10f3927a8d70517e04872aa4ebf1b502
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 30 19:41:50 2010 -0700

    autobuild: fixed the --tail option for new log locations

commit c03d02d28e7d9e908fa0553006282184487d2c8c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 30 15:24:58 2010 -0700

    s4-rodc: don't set SPECIAL_SECRET_PROCESSING on EXOP_REPL_SECRET
    
    otherwise we don't get the secrets!
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 694f2876c9da51dc16a00d45de92edf8884dfbed
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 30 15:02:50 2010 -0700

    s4-spn: don't try and send an empty SPN list
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit fbee3586fdd6f04db6321646df54c147c843a5e3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 01:31:06 2010 +0000

    selftest: Let selftest provide the tempdir, rather than creating it as sideeffect of tests.py.

commit dc65824065fea3e6ca9ddedd4b118d26d338ee6e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 30 17:24:50 2010 -0700

    selftest: fixed a selftest error on sn
    
    Pair-Programmed-With: Jelmer Vernooij <jelmer@samba.org>

commit 9917d37c3ccebbb8d9ff44b70702394805f2c5e7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 01:41:58 2010 +0200

    delete_object: Remove unnecessary pass calls.

commit b7c7c4bae0591630a9de9caf84ef05c0ecf07ada
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Oct 1 01:05:12 2010 +0200

    s4-selftest: Remove unnecessary PYTHONPATH overrides.

commit 8309e3f6050b7a438ba880c9b4ab6653488f1134
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 30 18:29:58 2010 +0200

    s4-selftest: Normalize paths.

commit 1611499ec6480b073c4025f2bc78e430a6f2308e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 30 18:23:20 2010 +0200

    s4-selftest: Finish conversion of selftest.sh to Python.

commit aca56372c7f12619db204477adbad6f9dda860de
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 30 14:55:04 2010 +0200

    s4-selftest: Convert tests.sh to Python.

commit 6a029cd9ca662863724920030bb3a325cee28691
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 30 14:42:02 2010 -0700

    autobuild: push of ref/notes/commits isn't allowed in master
    
    metze may enable this later
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Thu Sep 30 22:25:02 UTC 2010 on sn-devel-104

commit 176ecce9a661c9145620c3f7af9d13025ed0616c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 30 12:45:00 2010 -0700

    s4-provision: wipe the old keytabs when provisioning
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 67a04613e9106f9ab6c014c57a971d75854908f7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 30 12:44:39 2010 -0700

    s4-rodc: fixed the keyVersionNumber on the RODC account in secrets.keytab
    
    we need to fetch the msDS-keyVersionNumber from the writeable DC
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 75a542a1d93f6f015d866a01d25d5978e9b32583
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 30 12:43:45 2010 -0700

    s4-drs: put the GCSPN flag into the repsTo if requested
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 87f67d336919172845f53067c67d1eab8e7ef18a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 30 12:43:14 2010 -0700

    s4-libnet: wipe the old keytab when exporting
    
    this prevents confusion with old keytab entries
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 57f67701a694b03f7c227c0f58729bf6d3733bbc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 30 12:42:35 2010 -0700

    s4-dsdb: silence the domainFunctionality not setup warning

commit e90b9640bd279a2030e4e3cbac8eabd979fce14c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 30 10:41:36 2010 -0700

    autobuild: added much better email reporting
    
    logs are now accessible via http://git.samba.org

commit 21739bdbc93f9b1af6fdb722484885e4cb2fc57a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 30 09:37:42 2010 -0700

    autobuild: fixed exit status
    
    this should fix the case where we don't send logs on failure

commit 46ec7d78514214aadbd664ba3e2707fa10540a0e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 29 23:30:18 2010 -0700

    s4-drs: added support for level 10 of getncchanges
    
    added a simple mapping from req8

commit 73763b367862121fb1175e829e863daef55a07bd
Author: Zahari Zahariev <zahari.zahariev@postpath.com>
Date:   Thu Sep 30 04:13:02 2010 +0300

    LDAPCmp feature to compare nTSecurityDescriptors
    
    New feature that enables LDAPCmp users to find unmatched or
    missing ACEs in objects for the three naming contexts between
    DCs in one domain (default) or different domains. Comparing
    security descriptors is not the default action but attribute
    compatison. So to activate the new mode there is --sd switch.
    However there are two view modes to the new --sd action which
    are 'section' (default) or 'collision'. In 'section' mode you
    can only find differences connected to missing or value
    unmatched ACEs but not disorder unmatch if ACE values and count
    are the same. All of the mentioned differences plus disorder
    ACE unmatch you can observe under 'collision' view however
    it is more verbose.
    
    Signed-off-by: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>

commit bad98e37e7e4077a74c7b32d74499c78810192c5
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 29 12:17:05 2010 +0200

    s3: Add "smbcontrol winbindd ip-dropped <local-ip>"
    
    This is supposed to improve the winbind reconnect time after an ip address
    has been moved away from a box. Any kind of HA scenario will benefit from
    this, because winbindd does not have to wait for the TCP timeout to kick in
    when a local IP address has been dropped and DC replies are not received
    anymore.

commit 10f0c785c70b89e76f3a9cd3b319262affc9447e
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Sep 30 16:27:42 2010 +0200

    s3: Re-introduce a procid_self()
    
    Giving the parent pid to reinit_after_fork is not a good idea....
    None of the other callers do this, checked it.

commit c7c4d84550c7feafb1de83e3b0dcc11c3fa220df
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Sep 30 15:17:09 2010 +0200

    s3: Fix a typo in dump-domain-list smbcontrol usage msg

commit 6eee95ac04d9113b31af91efe8db3c6b1cc71ed6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 30 10:31:38 2010 +0200

    s4-selftest: Add some more comments to skip file.

commit 73e129b254d1f3dcc5e3b2cc6dffb80a2941bb80
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 30 10:31:29 2010 +0200

    selftest: Eliminate some unnecessary spaces.

commit 124d9fc4d13628ed310ccbdec181ed57be8a3531
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 30 10:31:03 2010 +0200

    selftest: Avoid accessing deprecated BaseException.message.
    
    Thanks to Andreas for pointing this out.

commit e36f72628173ad476744670a5dbf25a3335e0a19
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 30 09:29:42 2010 +0200

    subunit: Import new upstream snapshot (adds subunit_progress())

commit 41182200a35083a0010f95f622a4ce386c5f0518
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 30 09:18:01 2010 +0200

    testtools: Import new upstream snapshot.

commit 1a9f5b45f80030c63dbd5616c6de1e99cbf539c5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 29 22:08:48 2010 -0700

    s4-drepl: don't call UpdateRefs on a RODC
    
    we use the ADD_REF bit in getncchanges instead
    
    Pair-Programmed-With: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>

commit 287e35f4cfe8be3663afcde50d9cc66e120c43b6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 29 22:04:21 2010 -0700

    s4-drepl: fixed the checking of replica_flags in the drepl server
    
    we were incorrectly avoiding a getncchanges when WRIT_REP was not set
    
    Pair-Programmed-With: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>

commit 4d551753d62728b60a439d1b996d4a1e3358c42b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 29 22:03:35 2010 -0700

    s4-kcc: fixed the replica_flags in repsFrom in the kcc
    
    if our calculated replica_flags doesn't match the ones in our repsFrom
    then update it
    
    Pair-Programmed-With: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>

commit d690622f37156307f36e54bc716c0561855cef16
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 29 22:02:54 2010 -0700

    idl-drsuapi: fixed another replica_flags that should use the bitmap
    
    Pair-Programmed-With: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>

commit 92586abac004fe55bdb66af5b0f0e281304cbf56
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 29 17:33:49 2010 -0700

    s4-dns: send A record updates via TKEY

commit c82d6c0b96817129ab6fa23ef8f5d421fd6c7001
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 30 02:28:41 2010 +0200

    s3-spoolss: make sure to exit early and with the appropriate error code in
    _spoolss_GetPrinterDriver2.
    
    Guenther

commit 575ae3ed728974236512b029f8217d99c6fc8526
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 30 02:05:36 2010 +0200

    spoolss: use the correct flags for spoolss_PrinterInfo1 struct.
    
    Guenther

commit 3797d48b76fadb988c40d056751be8671c9e6906
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 29 04:51:56 2010 +0200

    s3-spoolss: Fix servername/printername handling which turns out to be very important to get right.
    
    Guenther

commit 156ab4ec104adf20257b2ef1e361382eac457ee3
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 29 04:49:57 2010 +0200

    s4-smbtorture: add new EnumPrinters test to test printername/servername
    behaviour in EnumPrinter and GetPrinter calls.
    
    Guenther

commit 1f3f75f747cc6388013360bff06574f3299090d3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 29 16:35:52 2010 -0700

    s4-samldb: also set a password on the krbtgt_NNNN account
    
    when we setup the krbtgt_NNNN account using the DCPROMO_OID control,
    we also need to set an initial password for this account
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 768df75ed915bf588426316857885abddaaf5701
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 29 15:50:04 2010 -0700

    s4-devel: added new options to getncchanges script
    
    added --pas, --dest-dsa and --replica-flags options
    
    Pair-Programmed-With: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>

commit 1ec5f5c09cc0e61fc41de720820ccddf6f6259e6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 29 15:49:15 2010 -0700

    s4-drs: implement PAS checks and access checks for getncchanges
    
    This implements partial attribute set checking on getncchanges. If the
    client sends a partial_attribute_set then we only return the specified
    attributes.
    
    This also implements access checking on the NC root for the access
    right GUIDs for requests with and without reveal secrets
    
    Pair-Programmed-With: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>

commit eebe5e1251cb99c1ca2ae4280d72a4c3baea8607
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 29 15:46:23 2010 -0700

    s4-drs: added drs_security_access_check_nc_root()
    
    this checks securiity on the NC root of the specified naming context

commit 3b52b6249b94e104077ead134c35402fa1439493
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 29 15:45:27 2010 -0700

    util: added BINARY_ARRAY_SEARCH_V()
    
    this is used to search an array of values

commit 44c891a35acae620566901bb6e038df45f411e02
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 23:19:26 2010 -0700

    s4-sam: added DOMAIN_RID_ENTERPRISE_READONLY_DCS for RODCs in the PAC
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 9a58cd12b4fd1956a1472072b294309b55de01fa
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 23:18:47 2010 -0700

    libds: added more UF_ -> ACB_ flags mappings
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>
    Pair-Programmed-With: Stefan Metzmacher <metze@samba.org>

commit 77d959fb157ee72f14d278c25ac33e4d84010222
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 29 10:47:34 2010 +0200

    midltests: add midltests-pipe-sync-ndr32-downgrade-02.idl
    
    metze

commit 45e3e54e087120009a79cb70b3377e63cfc0033e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 29 09:37:05 2010 +0200

    midltests: support for fragmented RPC traffic
    
    metze

commit 6c0a4b6477df872d03696faec1b786ad3352a7ca
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 29 09:06:58 2010 +0200

    midltests: print out the alloc_hint for requests and responses
    
    metze

commit 25e19287f01bec1390ef91ce2f617d78175531be
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 29 06:03:08 2010 +0200

    midltests: improve NDR64 downgrade
    
    metze

commit 437db1452265a27e30fbba1c046ce14d0cffaa64
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 29 10:28:29 2010 +0200

    midltests: revert to a simple default midltests.idl
    
    metze

commit 9dcd5e6c8f524f88a028c296023b408e07eb37e4
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 29 08:54:00 2010 +0200

    s3-waf: add basic make test infrastructure, not able to test yet.
    
    Guenther

commit bea8035c22be075a4f89aa17cf225b7b2f499d74
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 29 08:49:39 2010 +0200

    s3-waf: clean up socket-wrapper and nss-wrapper a little.
    
    Guenther

commit 292801bdf39ebdd644d15428d8326147940687b1
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 29 08:48:49 2010 +0200

    s3-waf: add vlp binary.
    
    Guenther

commit 31310826e02a398eec6569a9150a798ee216f745
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 20:47:03 2010 -0700

    s4-spnupdate: when we are a RODC we need to use the WriteSPN DRS call
    
    we can't do SPN updates via sam writes and replication, as the sam is
    read-only

commit 739a4e4e2361fad17a4d041e2e0b4fc73a9d18c2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 20:46:15 2010 -0700

    s4-drsutils: expose DsBind() call in drs_utils.py
    
    this will be used by samba_spnupdate

commit 06022dad70ec11ddbedc09a4a1fffe127ced2a06
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 20:43:58 2010 -0700

    s4-kerberos: use TZ=GMT when we are invoking krb5 code in helpers
    
    Our helper scripts can fail on Fedora with the PDT timezone (Western
    USA). This is the same issue we found with Heimdal earlier today, the
    24 second difference between GMT and UTC, but this time in MIT
    Kerberos as linked into bind9.
    
    By forcing TZ=GMT in these scripts we avoid the problem
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 3b0d6fda38749b01d2f8c4ff0ccbfc6ffc7bde49
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Tue Sep 28 19:35:56 2010 -0700

    s4-rodc: RODC should not accept requests for role transfer
    
    A RODC cannot assume a role, and unwillingToPerform must be
    returned if such request is sent via LDAP

commit cc288603ce67ccca3625d162fadc618df5fbc807
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 19:11:34 2010 -0700

    s4-provision: simplify our generated krb5.conf
    
    we don't want to force the KDC to be ourselves, we should
    be using DNS to find a live KDC. Also remove some other options and
    allow the krb5 lib to use defaults.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 4e0a3ea705a793ef2f68805728caabd58bdf5788
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 19:10:27 2010 -0700

    s4-kdc: RODC DCs should be able to produce forwardable tickets
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 04e3e27fd1062cd9ffe462f4a2c6b0635c3917eb
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 19:09:58 2010 -0700

    heimdal: fixed timegm UTC/GMT bug
    
    This was a wonderful bug!
    
    On some Fedora systems, but not on Ubuntu, there is a difference
    between UTC and GMT. Heimdal replaced timegm() with _der_timegm()
    which did not account for that difference (which is 24 seconds at the
    moment). This led to a mutual authentication failure.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit dacfe67a0e4c591710adbe6b2f53783ac76f4ba1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 19:07:43 2010 -0700

    s4-sam: fixed termination of krbtgt_attrs (comma and NULL)
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit c83775d524612c24be97d3761a1cc29998040fa1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 18:01:21 2010 -0700

    ldb-dn: don't crash on NULL in ldb_binary_encode_string()
    
    Thanks to Nadya for finding this one!

commit 3d4576b170d92f97018076faf0ed914cf2fdd01b
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Sep 29 09:06:39 2010 +1000

    s4-kdc Ensure that an RODC may act as a server (needed to fill
    the krbtgt role).
    
    Andrew Bartlett

commit f84bdf91d865ab176dcc0d829944821b89b88074
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Sep 29 06:44:33 2010 +1000

    heimdal Use a seperate krb5_auth_context for the delegated credentials
    
    If we re-use this context, we overwrite the timestamp while talking
    to the KDC and fail the mutual authentiation with the target server.
    
    Andrew Bartlett

commit e2c305deb1553ab8ba11fa687dcf1c08f2acd88a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 28 09:57:22 2010 +0200

    midltests/todo: add some random idl files I had tested month ago
    
    metze

commit ad99711f4968cb07b85cead5beb8351f63395004
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 29 02:36:51 2010 +0200

    midltests: add midltests-pipe-sync-ndr32-downgrade-01.idl example
    
    metze

commit c5e221c5f88cbc557a6978bc062f5efef224b94a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 29 02:50:19 2010 +0200

    midltests: add some usefull defines to midltests.idl
    
    metze

commit 06108687e8949520b29e0016fb9605facfd6f073
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 29 02:35:54 2010 +0200

    midltests: make it possible to allow downgrades to NDR32
    
    metze

commit 115ad6012540338a73abd9de13c6bb4de3a12cf2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 28 11:04:59 2010 +0200

    midltests: add a midltests_tcp.exe tool
    
    This uses a man in the middle approach in order to dump the
    request and response pdus.
    
    It also tests NDR32 and NDR64.
    
    metze

commit cf4e57281b867878521d6f38ec5b0f552c4d2c90
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 28 10:50:05 2010 +0200

    midltests: move the current implementation to midltests_simple.exe
    
    metze

commit d8a0436fb4d61e16a04a8249ece79d563ae2e3cd
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 28 09:47:55 2010 +0200

    testprogs/win32: add vs2010-metze.cmd
    
    metze

commit ec33a87d5855348e6de4c1f0f02d3bd5a0638985
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 29 01:18:07 2010 +0200

    s3-printing: skip metadata entry when traversing printerlist.
    
    We were creating a new printer (with a very broken name) out of the
    lasttimestamp entry all the time.
    
    Simo, please check.
    
    Guenther

commit fcee50b9c9ca157c839df5761ca0a2f87fc1ac33
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Aug 5 13:43:49 2009 +0200

    pidl: add support for pointers in typedefs
    
    metze

commit d4636c47c70d4ef5441a33cc6ef5eb469cf11bff
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 21 10:34:30 2010 +0200

    pidl:NDR/Parser: remove unused code for array element index
    
    metze

commit 7fff22c29dfb4bd424c08da53c384dcc2c37fe22
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 21 03:48:09 2010 +0200

    pidl:NDR/Parser: simplify logic in ParseMemCtxPullFlags()
    
    metze

commit 3fa29cdd943f18871b16fc845028fc39a5a7ad0d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 21 03:41:03 2010 +0200

    pidl:NDR/Client: make the generated code look a bit nicer
    
    metze

commit bffa192bfea6dccfe56a1b5692333fd8f39cfe7a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 21 00:44:30 2010 +0200

    librpc/ndr: remove 'async' from ndr_interface_call
    
    metze

commit 96666d48a75573c47739e4d217b2aacea7841570
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 21 00:41:29 2010 +0200

    pidl: remove unused async property handling
    
    metze

commit a73a2abb3a2ec79016ddcf5f0994025dd705975d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 21 03:10:10 2010 +0200

    pidl/Python: use has_property($d, "noopnum") helper function
    
    metze

commit 65c5278f4d8e07275db02f146afb847d91cd6596
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 21 03:05:41 2010 +0200

    pidl:NDR/Client.pm: remove unreached code
    
    metze

commit 121ad074f96c7cec79a15acb5587d3fd601f3e09
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 21 02:17:21 2010 +0200

    pidl/Python: remove todo handling from PythonFunction(), it's done by the caller
    
    metze

commit a0fa1dd6fccf21e567abb46574ef4e85b886a8ab
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 21 01:40:56 2010 +0200

    pidl/Typelist: let typeIs() do TYPEDEF dereference in the HASH case
    
    metze

commit 46774388dcb7e6534927ae99adf912c911f25689
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 28 22:53:08 2010 +0200

    s3-waf: add in a little hack to deal with the ECHO rpc module for non-developer builds.
    
    This will be removed once we have the rpc modules subsystem in place.
    
    Guenther

commit e257e7a40b0d7d22c3aff2d1f15bb350775dbff3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 11:24:37 2010 -0700

    autobuild: use git notes for autobuild messages
    
    This avoids changing the commit ID when we add a note that the
    autobuild has passed
    
    thanks to Jelmer for this suggestion!

commit 00611cbcf6ea2da2b0b9179c9ef8e3bd27555c5c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 11:23:35 2010 -0700

    selftest: enable FAIL_IMMEDIATELY in autobuild make test
    
    this should reduce the time we wait for previous failing builds.
    
    Right now this will only work for s4, as we need a makefile change for
    s3 support

commit f4177b66c5b9351cf36b09f6b55b042985d633f0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 10:48:38 2010 -0700

    s4-drs: added support for DRSUAPI_EXOP_REPL_OBJ
    
    this extended getncchanges operation replicates a single object

commit 491e89fa1c8dc4df327866c09cae941578209243
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 10:46:03 2010 -0700

    ldb-tdb: ignore failure to register control on rootdse
    
    this is expected for non-sam LDBs

commit 9aa07e72c88c9e4f52546597610019c8596ea4cc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 10:40:18 2010 -0700

    s4-drs: use drs_ObjectIdentifier_*() calls in getncchanges
    
    this allows for replication by GUID or SID

commit d4939ce4fc5e61c96e047b6a61a5502335da8926
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 10:39:52 2010 -0700

    s4-drs: moved the drs_ObjectIdentifier handling to dsdb_dn.c
    
    this will be used outside of the drs server.
    
    This also fixes the handling of the ndr_size elements of the
    drs_ObjectIdentifier

commit cd3eddbb59a21534f5a854b9a1fb1419530cca3f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 28 10:38:40 2010 -0700

    waf: we don't need the preprocessor recursion limit any more
    
    thanks to ita for this

commit 8045b35b1bda15f619238fac943c604cfe851c94
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Sun Sep 26 21:16:47 2010 -0700

    s4-drs: Added check for drs-manage-topology to updateRefs.

commit 440cee48b93936bfb9b1376e55e457a721bdcc19
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Sun Sep 26 21:14:45 2010 -0700

    s4-drs: Added drs_security_access_check function
    
    It takes a security token, an ldb_context, and the desired CAR and checks
    if the principal has this CAR granted

commit 6caa5128150da5c585957b34e8a9c40396877452
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Sun Sep 26 21:12:48 2010 -0700

    s4-dsdb: adapted check_access_on_dn for use in drs.

commit 4be269664451f3df82a8b4939ffcf5d4274d02ed
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Sep 29 03:59:15 2010 +1000

    heimdal Fix DNS name qualification to not mangle IP addresses
    
    If the host running this code used IPv6 forms for IPv4 addreses
    then the check for '.' would not be sufficient to determine that this
    isn't a name we should mangle.  Instead, check if it can be parsed
    as a numeric address first, and only then mangle.
    
    Andrew Bartlett

commit 89ee9e6518f5bd398bb44e0cd47454e2d69f469e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Sep 28 13:13:28 2010 +1000

    s4-kdc Handle the case where we may be given a ticket from an RODC in db layer
    
    This includes rewriting the PAC if the original krbtgt isn't to be
    trusted, and reading different entries from the DB for the krbtgt
    depending on the krbtgt number.
    
    Andrew Bartlett

commit 9d33929d76d0969917c1d42e1097d75af3401008
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Sep 28 13:10:24 2010 +1000

    heimdal Add an error code for use in the RODC
    
    In this case, the whole request packet should be forwarded to
    a real KDC, with full secrets, as we don't have the password.
    
    This could also be used to implement 'play dead when the LDAP
    server is down'.
    
    Andrew Bartlett

commit 9b5e304ccedc8f0f7ce2342e4d9c621417dd1c1e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Sep 28 13:07:53 2010 +1000

    heimdal Add support for extracting a particular KVNO from the database
    
    This should allow master key rollover.
    
    (but the real reason is to allow multiple krbtgt accounts, as used by
    Active Directory to implement RODC support)
    
    Andrew Bartlett

commit 3021af2777ffd28f595835630510e367e7286c1c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Sep 28 13:05:37 2010 +1000

    s4-kdc Add common setup, handle RODC setup case
    
    This means we just set up the system_session etc in one place
    and don't diverge between the MIT and Heimdal plugins.
    
    We also now determine if we are an RODC and store some details
    that we will need later.
    
    Andrew Bartlett

commit 88abf441d021e753f149a534a232090634652367
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Sep 28 12:57:15 2010 +1000

    s4-dsdb Add ldb_reset_err_string() when we set error codes.
    
    If we don't we could show an old, incrorrect error

commit 063b61289db73444d514d2897339cf135fc8dfc9
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Sep 28 12:55:48 2010 +1000

    s4-dsdb Make samdb_reference_dn() use dsdb_search() and DSDB_SEARCH_ONE_ONLY
    
    This simplifies the function.  While doing so, also change the error
    string setting to set a really clear error string for the failure to find
    and failure to parse cases.
    
    Andrew Bartlett

commit 990720b8cd869a375686cc78f270e68ca9bd28b3
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Sep 28 12:53:06 2010 +1000

    s4-kdc Add function to determine if a hdb entry is a RODC
    
    This is important, as we must ignore the PAC from an RODC.
    
    Andrew Bartlett

commit 85f7bce865e611c5d18b67a3f34723f7da7df92e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Sep 28 12:49:44 2010 +1000

    s4-kdc Use msDS-SecondaryKrbTgtNumber to fill in the full KVNO
    
    Andrew Bartlett

commit 8b57482fa8bfff901c08dbfa4b722b291862c372
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Sep 27 14:43:33 2010 +1000

    s4-dsdb Fix segfault in error case in rootdse module

commit 6bab5c07519baa0be1bf86161236a0307c48e31f
Author: Michael Wood <esiotrot@gmail.com>
Date:   Mon Sep 27 00:05:05 2010 +0200

    Make upgrade procedure more explicit.
    
    Add in a compile step.
    Change the tar command to include the recommended dirs.

commit 9d3046f09857b28dbd1674876b8c63079d183fbd
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 28 20:00:47 2010 +0200

    s3-waf: add AUTH_SCRIPT module to AUTH subsystem (which is build as shared
    module by default).
    
    Guenther

commit 2cf5c661c6577c28f1f5ff8e12b7ae2554277dda
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 28 20:00:12 2010 +0200

    s3-waf: add vfs_linux_xfs_sgid to the list of default shared modules.
    
    Guenther

commit a3e211ca3f6bc0335170546648ebcc54a1db1ef4
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Sep 28 18:40:49 2010 +0200

    s3: Attempt to fix bug 7518
    
    If select returns -1, we can't rely on the fd sets. The current code might loop
    endlessly because when putting an invalid fd (the closed socket?) on the read
    set, a select implementation might choose not to touch it but directly return
    with EINVAL. Thus run_events will see the socket readable, which leads to a
    "return true", and thus a NT_STATUS_RETRY -> same game again.
    
    We should never get into this situation, but to me the logfiles given in bug
    7518 do not reveal enough information to understand how this can happen.

commit 51bc104c5c2e8f23fab1c599a7ec3e4291165244
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Sep 28 10:38:20 2010 +0200

    s3: Increase the debuglevel for connection termination msgs

commit 2a1891a9d67d547847b233dec85925d726696e7f
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 28 09:27:54 2010 +0200

    s3-waf: fix dependencies in most of our module subsystems.
    
    Guenther

commit 5fcd0471e59c35d0769628fa8d1a021bf78b714c
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 28 08:54:39 2010 +0200

    s3-waf: add pam_smbpass.
    
    Guenther

commit 07697fa053099a01035a30f4d05dffeafff96c75
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 28 07:45:47 2010 +0200

    s3-auth_util: make sure the system server info actually contains S-1-5-18.
    
    Without this, all security descriptor checks for the winreg spoolss backend fail
    and make our spoolss system in its current shape basically unusable.
    
    Andreas, please check.
    
    Guenther

commit 314d738f907958a86e2638689f5c45f3b931047e
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 28 05:39:42 2010 +0200

    s3-printing: remove unused old structs.
    
    Guenther

commit b4a5ece84a0a516a1efec6b17d67eb787b824663
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 28 09:16:03 2010 +0200

    ldb: Fix path to alternative buildtools.

commit 0688c5b2f1b6c34e7f79018007848ad8a477e854
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 28 09:08:10 2010 +0200

    samba4: Don't update Makefile/configure from autogen.sh.

commit 63928c82c1c5ed2fa3bab30976566a8a393ef8b4
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 28 09:00:26 2010 +0200

    ldb/tevent: Fix detection of waf paths.

commit 4752d88fed66ac07e6704688cc2188e42d216962
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 28 08:42:26 2010 +0200

    tevent: Remove make targets that are not relevant for tevent.

commit 302423f3062f16f75b3204c1ddf3cf2154f4f224
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 28 08:41:11 2010 +0200

    tevent: Don't update Makefile/configure files.

commit 85443e0850fc58925ab7d3e7f36e1001b7f4a149
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 28 08:38:33 2010 +0200

    ldb: Update autogen-waf.sh to no longer overwrite existing files.

commit 72a41cc820dd52699d7e2b33f2dce273d0f246d7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 28 08:34:10 2010 +0200

    ldb: Remove samba-specific targets from Makefile.

commit 78b4b21b40ba23490581d0bedf4b3208dd13fa13
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 28 08:15:55 2010 +0200

    ldb: Bump version because of addition of ldb_req_location.

commit 02f87d1c367908fa97be35880260e8c2f6fa04a3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 28 07:53:02 2010 +0200

    format-subunit: Display number of failed tests even if there are no
    failed testsuites.

commit 36ffe4f467779cd282ed471f3bed8aee8a7c55bd
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 28 07:40:27 2010 +0200

    selftest: Abort early on SIGPIPE.

commit 7ac4a710725d1e439179c3846525b3245dc3f5f6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 28 07:10:43 2010 +0200

    Add dedicated exception for immediate failure in filter-subunit, don't raise it on known exceptions.

commit c12f1a1e912aeca8645b68c0ef720466c13ce8bb
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 26 18:58:05 2010 -0700

    s4-selftest: added a --fail-immediately option to s4 test
    
    this can be used to force an immediate test failure on the first
    failed test case. You can also use:
    
      make test FAIL_IMMEDIATELY=1

commit 71f88c45a751e5f72de00dee0628b5c1b6614bf3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 26 18:56:50 2010 -0700

    filter-subunit: added a --fail-immediately option

commit c7f6ab890e8e70f27ddc975abec58b5e0cf8d6a5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 27 22:53:06 2010 -0700

    s4-provision: fixed the authority response for our SOA record
    
    some clients rely on this being the hostname, not the domain
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Tue Sep 28 06:39:19 UTC 2010 on sn-devel-104

commit 0bbbfa04f60b173912cedcfe08590fe43b5c2872
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 27 21:08:43 2010 -0700

    s4-dns: implemented RODC DNS update in dns update task
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit c4d2b6fbc21625dc5ed2063e5ad699309fa5a3e1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 27 21:08:23 2010 -0700

    s4-netlogon: added RODC DNS update call fwded to dnsupdate task
    
    when we get a netlogon RODC DNS update, we send it to the dnsupdate
    task

commit 6237d560275d7d19e46afe85cb9f19313359ea80
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 27 21:07:17 2010 -0700

    s4-dns: added --update-list option to samba_dnsupdate
    
    this allows us to use it for RODC netlogon updates

commit 7d380795b63c9b6e5196607960a35cfc90bdf1d9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 27 21:03:45 2010 -0700

    pidl: added ifdef guards around ndr headers
    
    this prevents us parsing the leading headers needlessly

commit bc47af50eb0896c108b7acc5323a897e27120252
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 27 21:03:14 2010 -0700

    s4-kdc: added ifdef guards in kdc.h
    
    this prevents too much recursion in the compiler preprocessor

commit 1587b46fa0f403578f7198a4e7c7ef603aaa5598
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 27 19:47:14 2010 -0700

    s4-ldb: removed an unused variable

commit 17aa2b329494bc82a89bc9bd8a7e6ba66406fc52
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 27 19:47:01 2010 -0700

    s4-kcc: fixed a incorrect context to kcctpl_get_all_bridgehead_dcs

commit e313667983f5225d6f506d53fcd15011d54d5538
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 27 19:46:37 2010 -0700

    s4-dsdb: added samdb_find_site_for_computer() and samdb_find_ntdsguid_for_computer()
    
    these will be used by the new RODC dns update code
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit c9727902499b0cc84fef9a44b5252ac83376456e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 27 19:45:56 2010 -0700

    s4-auth: removed unused variable dom_sid

commit 94dc2c106ba6d33f3b66e0427b5d9ad04aeacc4f
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Aug 31 23:17:11 2010 +0200

    s3: Lift smbd_messaging_context() from open_sockets_smbd()

commit 790ad3d1a4d494f8e98883aa4e1c16777170e874
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Aug 31 23:16:50 2010 +0200

    s3: Remove two calls to procid_self()

commit 886b5b67ee65a867bf8e4c345bc600dd7527de2a
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Sep 26 22:05:43 2010 -0700

    s3: Remove talloc_autofree_context() from myhostname()
    
    No destructor needed, so we can as well use the NULL context

commit 49b4d2e652c189fff2fa4b3a94aed2ba0477cc76
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 06:06:02 2010 +0200

    s3: Remove some remaining files.c globals to sconn

commit d26d79b6401783449ca7d38005a59938325d1995
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 05:50:22 2010 +0200

    s3: Remove talloc_autofree_context() from files.c

commit eadc4b5b780ffdb99b7d4b48592af6c72f682bf8
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 04:54:29 2010 +0200

    s3: Lift smbd_server_conn from file_find_fd

commit 54f7b702125d08f7754881ffbb4ad624c2a1634b
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 04:49:00 2010 +0200

    s3: Remove smbd_server_conn from file_fsp

commit 3009178ee5fc054c284568768d5acdf0208a25f4
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 04:46:18 2010 +0200

    s3: Slightly simplify file_fnum
    
    req==NULL should never happen, see the comment

commit e57811440ad7b407cdd51dfcf3476072d461bcb7
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 04:13:22 2010 +0200

    s3: Remove smbd_server_conn from file_sync_all

commit e2222fc19c6595deed22d8f55daf62692fd786e0
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 04:12:15 2010 +0200

    s3: Remove smbd_server_conn from file_find_subpath

commit 75c6e0e5c7c17ab3ea78e09c226e2fb3472d1e40
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 04:05:25 2010 +0200

    s3: Lift smbd_server_conn from file_find_di_first

commit b448e42de4070410eddbe2fa0085b9328a301159
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 04:00:31 2010 +0200

    s3: Lift smbd_server_conn from file_find_dif

commit fb8686962a542c70a2104247a77b48cacd8a9663
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 03:53:00 2010 +0200

    s3: Remove smbd_server_conn from files_forall

commit 9fc9ff9bfac604007440776d06b71eba5b5005e5
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 03:46:12 2010 +0200

    s3: Remove smbd_server_conn from file_close_user

commit 25ca1cd1a85ca5bd99acfd2f54067c397d8fcb13
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 03:42:36 2010 +0200

    s3: Remove smbd_server_conn from file_close_pid

commit 6a1c4bad131ceec025e7c8d40fdda3f01ce734c1
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 03:40:11 2010 +0200

    s3: Remove smbd_server_conn from file_close_conn

commit c5d27995434910075185e6b290ca933a7ea8afa6
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 03:38:14 2010 +0200

    s3: Remove smbd_server_conn from file_new and file_free

commit 52766081519ecca9ffd90b11719201537ff0c1ed
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 02:37:59 2010 +0200

    s3: Lift smbd_server_conn from file_fnum

commit 5e26e4d30feca67ae8377006c3b1acc4d6c6aa5f
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 02:29:36 2010 +0200

    s3: Move "Files" to smbd_server_connection

commit f83e7d8f8c91a1670dfd9f8322c3cf83c95c2b18
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 02:15:18 2010 +0200

    s3: Remove "server_fd" global variable

commit 93adf70d1a2a3371562606dbda36016e9a15eeaf
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 01:44:06 2010 +0200

    s3: Remove talloc_autofree_context() from receive_unexpected()
    
    This is freed in this routine a few lines down

commit 491102c1ce842e14be8074a4abe6676b83efa5eb
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 28 04:50:32 2010 +0200

    s4:gensec_tstream: remove plain socket handling
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Tue Sep 28 04:54:24 UTC 2010 on sn-devel-104

commit ca360fba107f7948c52a5f7595ab0f99c8142e07
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Feb 3 14:36:10 2010 +0100

    s4:lib/tls: add gnutls backend for tstream
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Tue Sep 28 02:29:42 UTC 2010 on sn-devel-104

commit 381f0fcd1957b3f485db7773924a81a1282936d5
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 22 12:13:28 2010 +0200

    s4:gensec: add gensec_create_tstream()
    
    Based on the initial patch from Andreas Schneider <asn@redhat.com>.
    
    metze

commit d6c48b4a5fb667b0fba91af5d9113209ae72eede
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 28 02:33:23 2010 +0200

    s4:wrepl_server: use SOCKET_FLAG_NOCLOSE instead of a dup()
    
    The key thing is that we might have to turn the incomming
    connection into a outgoing connection.
    
    This change makes sense anyway, because we donate the fd to
    tstream.
    
    metze

commit 9d8b886b3e631e073b12c559948f53bdbba87339
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 28 02:13:12 2010 +0200

    s4:rpc_server: use SOCKET_FLAG_NOCLOSE to avoid calling close() on the socket fd twice.
    
    metze

commit d7c09f312ee326c3108c7d06bc9c7390861d8552
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Sep 27 18:24:01 2010 -0700

    Add torture test BAD-NBT-SESSION as regression fix for bug 7698 - Assert causes smbd to panic on invalid NetBIOS session request.
    
    Jeremy.

commit a738f5b846598fa3f44a7c6aa8019ef886bd1bb7
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Sep 27 18:21:46 2010 -0700

    Small tweak to bugfix for 7698 - Assert causes smbd to panic on invalid NetBIOS session request.
    
    Don't just fail to reply on a bad NBT name, just don't do the
    internal action.
    
    Jeremy.

commit 38f505530ba06323a56c7d3914630efffcd12629
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Sep 27 23:57:34 2010 +0200

    tsocket: make sure we delete the fd event before calling close()
    
    We got random double free errors, when getting events from
    epoll_wait() and try to dereference the private talloc pointer
    attached to it.
    
    Before doing the close() in the tstream_disconnect_send() function
    we need to delete the fd event.
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Tue Sep 28 01:02:55 UTC 2010 on sn-devel-104

commit f98d217514433cd06887f8c0217a7835392f0375
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Sep 27 05:46:07 2010 -0700

    Change to using TDB_INCOMPATIBLE_HASH (the jenkins hash) on all
    TDB_CLEAR_IF_FIRST tdb's. For tdb's like gencache where we open
    without CLEAR_IF_FIRST and then with CLEAR_IF_FIRST if corrupt
    this is still safe to use as if opening an existing tdb the new
    hash will be ignored - it's only used on creating a new tdb not
    opening an old one.
    
    Jeremy.

commit 66761423474edc9736a8a6eae6feaaf958d89d0e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 27 15:03:44 2010 -0700

    s4-ildap: two more places that need talloc_reparent()
    
    these contexts can have references
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Tue Sep 28 00:04:03 UTC 2010 on sn-devel-104

commit 396cdd6343e12a1b3cdd2d4c3bbac37c5fc30330
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 27 14:56:04 2010 -0700

    s4-kcc: don't print "Testing kcctpl_create_intersite_connections"
    
    log level 0 is excessive for this!

commit 8e1a3c8ccab0586e8244b511df95e6f22c49fa8b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 27 14:42:13 2010 -0700

    s4-drs: make getncchanges debug less verbose
    
    quieten make test a little

commit 8edf3d71318acdba73f7415ae2db7b7988e34029
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 27 14:34:43 2010 -0700

    s4-dns: avoid search domains expansion in DNS resolver
    
    add a '.' if the name contains a '.' already, but not at the end

commit 43d0c2e9ea71770aa87e74778c20908606cd55f8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 27 14:34:06 2010 -0700

    heimdal: avoid DNS search domain expansion
    
    When you have a domain search list in resolv.conf, and one of the DNS
    servers for a searched domain is uncontactable then we would timeout
    resolving DNS names.
    
    Avoid this by adding a '.' to the hostname if the hostname already has
    a '.' in it, which we assume to mean it is fully qualified.

commit 48adfb264f0a8772ac04fc51af1c39460c011acb
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 28 01:10:57 2010 +0200

    samr: add three new ACB flags to IDL.
    
    Guenther

commit 77d4c280323ffc9f5f5f17023c90d0a904e14126
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 28 00:10:54 2010 +0200

    s3-spoolss: Fix _spoolss_EnumPrintProcDataTypes error handling

commit 93d7230d25427af2955a9209335f657b8a901860
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 28 00:10:31 2010 +0200

    s4-smbtorture: rework spoolss_EnumPrintProcDataTypes test.
    
    Guenther

commit 2921888a0808efbe765e3f52a83a91c2e03a44a6
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 28 00:10:17 2010 +0200

    s3-spoolss: Fix _spoolss_EnumPrintProcessors error handling

commit a335848a883d98247470b0beb1eed14afec802de
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 27 23:33:52 2010 +0200

    s4-smbtorture: rework test_EnumPrintProcessors to let it test more combinations.
    
    Guenther

commit 0e1588aa980069dd267b3b0207db453c6ab23023
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 27 08:10:58 2010 +0200

    s3-waf: add NDR_PERFCOUNT subsystem.
    
    Guenther

commit 7fbe7007536214af99b2a2c3f07e3c04c7c6cd07
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 27 12:54:26 2010 -0700

    s4-ildap: fixed a talloc_steal with references error
    
    We need talloc_reparent() instead
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Mon Sep 27 20:38:00 UTC 2010 on sn-devel-104

commit aeedd29d390a1bb8ad1b446bf9b39cffd42e5612
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Mon Sep 27 10:01:09 2010 -0700

    s4-ldb: Added ldb_request_replace_control
    
    It is the same as ldb_request_add_control, except it will replace
    an existing control.
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Mon Sep 27 19:00:38 UTC 2010 on sn-devel-104

commit 2cf0525b2382d22b3497f49eb58b9fd8f0c837e1
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Sun Sep 26 17:05:13 2010 -0700

    s4/irpc: Add security token to the binding handle when doing irp call forwarding

commit ed7bbc993d4fd080303611a64fefc2b47d786176
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Sun Sep 26 17:04:43 2010 -0700

    s4/irpc: Add function to add security token to the binding handle

commit d9d4ded71a9214917d9999da0a16aa82eeac0afb
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Sep 27 01:42:26 2010 +0200

    s4:irpc: optionaly pass the security_token via IRPC requests.
    
    metze

commit 3235f44ac48e6945446329d57f3ecd0d10fa47e1
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 02:32:50 2010 +0200

    s3: Make file_fnum static

commit f1c1959f1368741df052fd1d53cd748b8608f2f0
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 01:49:01 2010 +0200

    s3: Remove some unused code

commit 6319e0da100f813efc12b13b805c6c59afe5ab26
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 27 02:32:27 2010 +0200

    s3: Fix some comments

commit 35d9530f3b210f182815fe07b5204be664d5972a
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Sep 26 22:16:14 2010 -0700

    Remove talloc_autofree_context() from pm_process
    
    This would be a classic for talloc_tos(), InFile is freed a few lines down. But
    unfortunately S4 does not support talloc_tos().

commit 8e02130c623fca4bf06baff6789b45d8782bf5b0
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Sep 26 22:15:40 2010 -0700

    Lift talloc_autofree_context() from OpenConfFile()

commit 84127dd50420a7d0e8f389d4af15d52fca6cd809
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 27 12:43:39 2010 +0200

    libsmbconf: parse an empty share as empty share, not as NULL.
    
    This fixes a segfault in net conf import:
    Importing a text file with an empty share resulted in a segfault.
    Now this creates an empty share in registry config, just as it
    should.
    
    Thanks to Gregor Beck <gbeck@sernet.de> for reporting.

commit f4f5ad97741d4c6be32573338baa346808e1f108
Author: Gregor Beck <gbeck@sernet.de>
Date:   Fri Sep 24 11:29:09 2010 +0200

    s3:registry: proposed aix build fix for reg_parse_internal
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit b32625b79f0f1b67c3e7579f7a2e959e89343180
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Sep 27 08:14:54 2010 +0200

    s4:torture/ldap: close connections with an UnbindRequest
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Mon Sep 27 07:14:23 UTC 2010 on sn-devel-104

commit b1ffacb43736c2a2366fbcb0039384b7b8d1683e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Sep 27 08:13:50 2010 +0200

    LDAP-BASIC: test AbandonRequest
    
    metze

commit b65a164f3e05a53c08998dc86eb6a899278f687a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Sep 26 22:34:37 2010 +0200

    s4:libcli/ldap: fix sending oneway requests
    
    metze

commit 9d4df79080e43ca787b9c7f598aa5327b47e83f2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Sep 27 06:46:33 2010 +0200

    libcli/ldap: correctly marshall LDAP Unbind PDUs
    
    metze

commit ff9549192599ef5b88fade7e95fa9a4ccb9232a6
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 27 07:46:52 2010 +0200

    s3-waf: fix dependencies to NDR_XATTR.
    
    Guenther

commit 1e97e73c77a0033f416be20ecb7d418b619683fe
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 27 07:33:09 2010 +0200

    s3-waf: link PReg parser only in registry client side extension.
    
    Guenther

commit 122e35405ea0bdc4dad8c6c86deb60dfcfd6125f
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 27 07:18:16 2010 +0200

    s3-waf: NDR_SRVSVC is defined now from the main librpc wscript_build.
    
    Guenther

commit f2310cacde6cccbbdc80893ed2a571fcf1f81975
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 27 03:55:40 2010 +0200

    waf: add more NDR subsystems for shared IDL files.
    
    Guenther

commit 611c8310aba9b41171f1ffb17e6cc8591293cfec
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 27 07:07:24 2010 +0200

    s4-waf: remove NDR-SRVSVC alias.
    
    Thanks tridge, this was driving me nuts...
    
    Guenther

commit d834671f68e1bc0817d8151cd6cc065851263075
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 27 06:57:36 2010 +0200

    s4-smbtorture: remove unneeded dcerpc_mgmt alias.
    
    Guenther

commit 785410c49373bd9f0cb9c533809fb923ecb18b80
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 26 21:12:02 2010 -0700

    s4-drs: fixed comment in getncchanges code
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Mon Sep 27 04:54:43 UTC 2010 on sn-devel-104

commit 06274bd87080f29f0be2b49a0ea65bf98b6e0b0c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 26 21:11:42 2010 -0700

    s4-gensec: fixed a valgrind error in gensec
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit f9ba8f5d8af87c06e42a9c0c20b70171095c12b3
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Sep 26 11:14:19 2010 +0200

    lib/util: change tevent_req_nterror() to a macro
    
    This way we can record where a tevent_req was finished by
    tevent_req_nterror().
    
    metze
    
    Autobuild-User: Stefan Metzmacher <metze@samba.org>
    Autobuild-Date: Mon Sep 27 03:18:14 UTC 2010 on sn-devel-104

commit a40dcd161c417897c35b46417ea5d103ccd661b9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 26 17:40:05 2010 -0700

    s4-dns: use the generated krb5.conf in samba_dnsupdate
    
    this gives one less thing that an admin can get wrong
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Mon Sep 27 02:35:29 UTC 2010 on sn-devel-104

commit 93be0d6178f4339f7cc4e004c2abbffef1efdc59
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 26 17:39:33 2010 -0700

    s4-provision: fixed the generation of the krb5.conf for vampire
    
    we need a correct krb5.conf for nsupdate from bind9

commit 1622ad414fa13ab373064935a4cedbb75af870e6
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 27 03:47:15 2010 +0200

    s3-waf: move SERVICES into a subsystem.
    
    Guenther

commit f52fda496454b964b20e8b6d48d7c7985dce2686
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 27 03:39:41 2010 +0200

    s3-waf: add PRINTING subsystems.
    
    Guenther

commit cef16c26903a0bb351363ccc4ce6056f5f6e0ddd
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 27 03:31:19 2010 +0200

    s3-waf: add two more REGF based subsystems.
    
    Guenther

commit b7cd6af5b45840a3588ad0cd50b4414f32f8b792
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Mon Sep 27 11:06:51 2010 +0930

    tdb: fix non-WAF build, commit 1.2.6 ABI file.
    
    Sorry Jeremy.
    
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>

commit 2dcf76c9247ff02a1779000dbbecdc418473ca41
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Fri Sep 24 15:45:11 2010 +0930

    tdb: TDB_INCOMPATIBLE_HASH, to allow safe changing of default hash.
    
    This flag to tdb_open/tdb_open_ex effects creation of a new database:
    1) Uses the Jenkins lookup3 hash instead of the old gdbm hash if none is
       specified,
    2) Places a non-zero field in header->rwlocks, so older versions of TDB will
       refuse to open it.
    
    This means that the caller (ie Samba) can set this flag to safely
    change the hash function.  Versions of TDB from this one on will either
    use the correct hash or refuse to open (if a different hash is specified).
    Older TDB versions will see the nonzero rwlocks field and refuse to open
    it under any conditions.
    
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>

commit ccac258d14dda7d8a994a7b80474ce6d85478a6d
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Fri Sep 24 15:39:43 2010 +0930

    tdb: automatically identify Jenkins hash tdbs
    
    If the caller to tdb_open_ex() doesn't specify a hash, and tdb_old_hash
    doesn't match, try tdb_jenkins_hash.
    
    This was Metze's idea: it makes life simpler, especially with the upcoming
    TDB_INCOMPATIBLE_HASH flag.
    
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>

commit 3258cf3f11bf7c68a2e69e1808c4551cc899725a
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Fri Sep 24 15:34:06 2010 +0930

    tdb: add Bob Jenkins lookup3 hash as helper hash.
    
    This is a better hash than the default: shipping it with tdb makes it easy
    for callers to use it as the hash by passing it to tdb_open_ex().
    
    This version taken from CCAN and modified, which took it from
    http://www.burtleburtle.net/bob/c/lookup3.c.
    
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>

commit 7afa7b8a848a6afdb586768168c95b566b7b912f
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 27 00:24:47 2010 +0200

    s3-waf: rework static and shared list handling a little.
    
    Guenther

commit 63c3af79817f8884292ac126b2b167934463b99f
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 27 00:24:04 2010 +0200

    waf: add delimiter argument to TO_LIST.
    
    Guenther

commit 4584a12b6a251389e1574985862ae69857d9e0f0
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 23:38:36 2010 +0200

    s3-waf: add missing IDMAP modules.
    
    Guenther

commit b894847ca0fb72d6fc6591e19ae009595036f9fb
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 21:58:58 2010 +0200

    s3-waf: rework CLDAP and LIBCLI_LDAP subsystems.
    
    Guenther

commit 9f0b88de1a17cb22349ddbaf8d62ef40dc27c6c1
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 20:30:36 2010 +0200

    s3-waf: move gpext subsystem to libgpo/gpext/wscript_build.
    
    Guenther

commit a742e0065aee09499b60f3762af50f180c42c855
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 20:10:49 2010 +0200

    s3-waf: move perfcount subsystem to modules/wscript_build.
    
    Guenther

commit 3e35cc42b55844d52d53639a49832dcb29ee140e
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 20:07:03 2010 +0200

    s3-waf: move charset subsystem to modules/wscript_build.
    
    Guenther

commit 6465dbce6d03705271ccea1dbc179973b44e87f9
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 19:59:18 2010 +0200

    s3-waf: move idmap subsystem to winbindd/wscript_build.
    
    Guenther

commit d7d33317c78c0f15b016bd217ae853dc02d71e2d
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 19:51:40 2010 +0200

    s3-waf: move pdb subsystem to pdb/wscript_build.
    
    Guenther

commit fa8971d90f4f989692e363696b44976d3aae2a65
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 19:43:43 2010 +0200

    s3-waf: move auth subsystem to auth/wscript_build.
    
    Guenther

commit 2839c8f0b2aab9693a41b844c0733af893f1f2a9
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 10:56:09 2010 +0200

    s3-waf: support --with-acl-support, at least for posix acls.
    
    Guenther

commit 89e151167cb90c08236c5eda880732031752b915
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 03:11:01 2010 +0200

    s3-waf: move VFS subsystem to modules/wscript_build.
    
    Guenther

commit ca2bbe00dc799a7783fb101c4860911727739ebd
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 10:44:27 2010 +0200

    s3-waf: add some module specific functions for s3 waf build.
    
    Thanks to Kai.
    
    Guenther

commit 0326012db72ef06066dac0cb2608e26f98d722cc
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 21:28:36 2010 +0200

    s3-waf: convert VFS into a subsystem.
    
    Guenther

commit 8a5dee26b30e2c6e90391a2ae59db2b3a543fdb9
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 21:27:22 2010 +0200

    s3-waf: convert GPEXT into a subsystem.
    
    Guenther

commit 6fcd2437e4527d4832d2d80fe37c45f5c4c100ec
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 21:26:23 2010 +0200

    s3-waf: convert PERFCOUNT into a subsystem.
    
    Guenther

commit a6025af503f72a68f7bf7811750aac4c1e1d9db3
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 21:25:16 2010 +0200

    s3-waf: convert CHARSET into a subsystem.
    
    Guenther

commit ce568816963119ac8436742d1e89f67021b084dc
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 21:23:40 2010 +0200

    s3-waf: convert IDMAP into subsystem.
    
    Guenther

commit 525dcaee51c42ffea06ba1d0b0bc07af8c888a7e
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 21:22:02 2010 +0200

    s3-waf: convert PDB into subsystem.
    
    Guenther

commit a9b05af44724d589b42f66f932ea9684b2497038
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 21:21:38 2010 +0200

    s3-waf: convert AUTH into subsystem.
    
    Guenther

commit 99ac4e92ff3205f80ef0fe823cbbd05eed7d2bb6
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Sun Sep 26 11:47:47 2010 -0700

    s4-ldbmodules: Added new module aclread to handle access checks on LDAP search
    
    It is currently enabled only if the request comes from the LDAP server, and is
    disabled  by default. Use acl:search=true in smb.conf to enable it.
    It filters out all objects the user is not allowed to see, and all attributes
    the user does not have RP on. Extended access not supported yet.

commit 93ba17285d8afb0d6e4040bf443e88ca4ad5147e
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Sun Sep 26 11:39:36 2010 -0700

    s4-tests: Added tests for search checks on attributes
    
    The ACL reach tests are in the knowfail because aclread module is not
    enabled by default

commit 3e08965369c4a03c5c7b939f72a1b3ff0874059f
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Sun Sep 26 11:37:00 2010 -0700

    s4-tests: Removed search tests with anonymous credentials as they fail againts Windows
    
    These tests will fail in make test as well if the acl_read module is enabled.

commit dc9991ab0e191fe5b7dadbcf1d9e57b9ecbd7958
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Sun Sep 26 11:32:22 2010 -0700

    s4-dsdb: Added a function to check access on a particular object by its guid
    
    Similar to dsdb_check_access_on_dn, only it searches by guid.

commit 4d3f528411301d0bc48110921a1ecb4b4f752b1e
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Wed Sep 22 12:50:51 2010 -0700

    s4-dsdb: A helper to determine if an attribute is part of the search filter

commit b77edca7f8728fbba8d4a3e6fe9f226793dad9cb
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Wed Sep 22 12:41:44 2010 -0700

    s4-dsdb: Moved some helper functions to a separate file
    
    We need these to be accessible to the aclread module as well.

commit 3d0e36bc87bd23e3d1bff7468db2eb99531d8d87
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Tue Sep 14 10:51:14 2010 +0300

    s4-ldap: Added a control to apply the access checks on read via LDAP

commit 5ffacff5c4a4799aacf97cbc28581f8e302c145c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 26 12:50:06 2010 -0700

    autobuild: use killbysubdir if available
    
    this will reduce the spurious test output while processes are being
    killed

commit cc79f092ba098543d253884dc9dc2be3c30cd282
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 26 11:46:01 2010 -0700

    autobuild: exit immediately if no changes from master
    
    we don't need to test master in autobuild

commit 065fc8bc10de0c2bbb6f369bd03a70efc13ca12f
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 20:25:15 2010 +0200

    s3-waf: convert LIBGPO into a subsystem.
    
    Guenther

commit be9badc2f63aeccc08ffae7358b7d6c538c4eb63
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 19:44:53 2010 +0200

    s3-waf: convert PLAINTEXT_AUTH, SLCACHE and DCUTIL into subsystems.
    
    Guenther

commit 51ea39c5c87aa78949b32ee6a549de22385f73c1
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 26 21:04:39 2010 +0200

    s3-vfs: fix the build of nfs4_acls.c
    
    Guenther

commit 0fd69f570883847f975033bc1a6306b00a5ae0d2
Author: Andreas Schneider <asn@samba.org>
Date:   Sun Sep 26 19:28:07 2010 +0200

    s3-waf: Link smbd against RPCECHO.

commit d0739d436e50f23ce8378cd3645f6cac74afbc13
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 19:21:56 2010 -0700

    s3: Remove talloc_autofree_context() from nametouid()
    
    pass is freed a few lines down

commit d4bfb5c48847fa73cdf10ede0d72b90ac45a1ef1
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 19:18:46 2010 -0700

    s3: Remove talloc_autofree_context() from guest_user_info()
    
    pwd is freed a few lines down

commit 227945d31c23b2b76c312cef73370865e1722f3a
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 19:16:53 2010 -0700

    s3: Remove talloc_autofree_context() from getpwnam_alloc()
    
    This is given to the memcache a few lines down

commit 3b2efdc7d7fe1346e363e6df679624150a0f95d7
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 18:34:03 2010 -0700

    s3: Remove talloc_autofree_context() from notify_internal_parent_init()

commit 03841f9e44950811907ea83e8caedac2a80bce06
Author: Jeremy Allison <jra@samba.org>
Date:   Sun Sep 26 02:59:32 2010 -0700

    Fix bug #7698 - Assert causes smbd to panic on invalid NetBIOS session request.
    
    Found by the CodeNomicon test suites at the SNIA plugfest.
    
    http://www.codenomicon.com/
    
    If an invalid NetBIOS session request is received the code in name_len() in
    libsmb/nmblib.c can hit an assert.
    
    Re-write name_len() and name_extract() to use "buf/len" pairs and
    always limit reads.
    
    Jeremy.

commit 80f8419ef25baa7b2f6d78469084a2ee80296fa1
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 22 06:23:17 2010 +0200

    s4:schannel: handle move flag combinations in the server
    
    This fixes some testsuites in the CIFS plugfest.
    
    metze

commit 7dbfeb0dc040889244a1110940af2d070f823374
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 25 19:14:42 2010 -0700

    s4-auth: fixed the SID list for DCs in the PAC
    
    the S-1-5-9 SID is added in the PAC by the KDC, not on the server that
    receives the PAC
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>
    Pair-Programmed-With: Stefan Metzmacher <metze@samba.org>
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Sun Sep 26 07:09:08 UTC 2010 on sn-devel-104

commit 65fc066ef43786faae9d4adf8f0941d86315f398
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 25 19:43:13 2010 -0700

    autobuild: fixed detection of master changes

commit c0a1cbda5d70d2a6e0ffedb07cfaaadc01b0fc8d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 25 19:23:02 2010 -0700

    s3-selftest: added samba3.posix_s3.rap.printing as a knownfail
    
    this fails intermittently on sn-devel, Günther suggests adding this to
    knownfail for now

commit f1c2702b268ce2f48cab793422b3c0b7954e9a38
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 25 19:13:28 2010 -0700

    idl-pac: add a decoder for the pac info ctr
    
    Pair-Programmed-With: Stefan Metzmacher <metze@samba.org>
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit f33fc39f37c21e0d1d5cf926db1a742395f25ea7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 25 17:53:14 2010 -0700

    s4-drs: use the system sam_ctx for updaterefs
    
    this is needed for RODC clients calling updaterefs

commit f3ceec9b1b9e0f2a4a40cf25cacbd157fb690de4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 25 17:52:43 2010 -0700

    s4-spn: don't try to do SPN updates as a RODC
    
    we don't have the permissions to do it

commit 95b56aabcbfe2754a34eac627a6bc7226cbd3f17
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 24 05:09:15 2010 +0200

    libcli/ldap: let ldap_full_packet() use asn1_peek_tag_needed_size()
    
    This allows us to read a full packet without read byte after byte
    or possible read to much.
    
    metze

commit 182a69c5be7706fbb542694c7be51d499b61c98d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Sep 23 18:10:28 2010 +0200

    lib/util/asn1: add asn1_peek_tag_needed_size() and asn1_peek_full_tag()
    
    We need a way to ask for the length of a tag without having the full
    buffer yet.
    
    metze

commit e628bf1081929684d888353101296cc17d9f3ae4
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 22 20:31:06 2010 +0200

    libcli/util: let tstream_read_pdu_blob_* cope with variable length headers
    
    metze

commit 0b5a556b76f0d05457c1c370b0f81fba124190a3
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sun Sep 26 12:34:58 2010 +1000

    s4-kerberos Don't segfault if the password isn't specified in keytab generation
    
    Andrew Bartlett
    
    Autobuild-User: Andrew Bartlett <abartlet@samba.org>
    Autobuild-Date: Sun Sep 26 03:29:34 UTC 2010 on sn-devel-104

commit c680a42504f8a3924a594c0b8363665ab6b1f2f4
Author: Matthieu Patou <mat@matws.net>
Date:   Sun Sep 26 04:58:37 2010 +0400

    upgradeprovision: fix a typo

commit 873bd989049e4953afb478ca5518984b26870326
Author: Matthieu Patou <mat@matws.net>
Date:   Sun Sep 26 04:57:04 2010 +0400

    upgradeprovision: Fix a bug with renamed entries
    
    The SD was not refetched for renamed entries, resulting with a try to
    add an additional SD when there was already one.

commit 43274c9071ec357fe629fdfa7966a772d1844188
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Sep 25 07:36:12 2010 +0400

    upgradeprovision: fix a bug with not updated links

commit a8f8f277ff6c8dc9ea060e53c6debbd30dbd87f7
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Sep 7 17:57:52 2010 +0400

    s4 provision: start with gpo of version 0 and be consistent between different policies

commit 76d87b7fb51dfab8f85686bde7fed67701bc9092
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Sep 18 08:15:36 2010 +0400

    s4 upgradeprovision: fix a bug with empty reference objects
    
    Thanks to lukas@eecs.qmul.ac.uk for poiting it to me

commit 3c95d4d31347a2491d2c2f593f2e12f9a389e66c
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Sep 7 17:50:39 2010 +0400

    s4 upgradeprovision: Copy versionNumber if not present it helps to make gpo valid

commit dfa468fd088b30ed1dfdbaabd6b569c600838706
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Sep 7 17:45:55 2010 +0400

    s4 provision: Make GPO folder group writable
    
    The group of this folder is domain administrator and it seems sensible
    that all domain administrators have the right to modify the gpo (they
    have it at the NT ACLs level ...)

commit 8a48ca4e3f2509571f0910165c9e8763864e9c7a
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 16:31:18 2010 -0700

    s3: Remove talloc_autofree_context() from change_to_guest()
    
    pass is freed at the exit of this routine

commit 4ebbbdd011aae397c79cc5a83a729e547480c112
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 16:30:06 2010 -0700

    s3: Remove talloc_autofree_context() from swat
    
    In both cases, pass is freed immediately

commit bf6ca13346e67107d821cec9edf4f767defa490e
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 16:28:21 2010 -0700

    s3: Remove talloc_autofree_context() from smbpasswd
    
    In both cases, pwd is freed immediately

commit 77e96d3229ea95d220a663aa99c7d376f3619d41
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 16:27:04 2010 -0700

    s3: Remove talloc_autofree_context() from net_sam_provision()

commit 2b601d72d55bb6cbdd1e47b002782159e0e589bf
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 16:24:16 2010 -0700

    s3: Remove talloc_autofree_context() from lookup_unix_user_name()
    
    pwd is freed in this routine immediately

commit 9b2d3142c1751a55d942ee8cb6bdcdee713989c2
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 16:23:11 2010 -0700

    s3: Remove talloc_autofree_context() from pdb_init_ads()

commit 2d8b65066e632c1a96b150e0cb5f7c361471ac31
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 16:20:11 2010 -0700

    s3: Remove two talloc_autofree_context() calls
    
    Both allocated blobs are freed in their routines

commit 997a64f6fb11e19d78c0468d86c0c545a4e586d1
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 16:02:04 2010 -0700

    s3: Remove talloc_autofree_context() from serverid_db()
    
    If we needed an explicit tdb_close() in the destructor, we'd be hosed
    long ago.

commit 34c0b166b6abd1d52e4c07a798f41a245d39a426
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 15:59:06 2010 -0700

    s3: Remove talloc_autofree_context() from serverid_parent_init()

commit 8c55a9b459a7f54ab505954f2d1d66538dd98d1b
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 15:56:33 2010 -0700

    s3: Remove talloc_autofree_context() from messaging_tdb_parent_init()

commit c4efae77fae88163b119ac71e8ed3220fb1f73b4
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 15:50:33 2010 -0700

    s3: Remove talloc_autofree_context() from ctdb_read_req()

commit 86919606c7bb9f80200799a23fb491a9bb7f2f14
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 15:46:36 2010 -0700

    s3: Remove talloc_autofree_context() from get_root_nt_token()
    
    The memcache_add_talloc() later on steals it anyway

commit 69ef2b37050d44394c4e68c315a5af0afe332656
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Sep 25 21:13:07 2010 +0400

    upgradeprovision: use the same case for hostname in reference provision as in the current provision
    
    Autobuild-User: Andrew Tridgell <tridge@samba.org>
    Autobuild-Date: Sun Sep 26 01:21:52 UTC 2010 on sn-devel-104

commit e9560722ca01b3a2f23f5750292c0e6450141675
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 25 17:35:55 2010 -0700

    autobuild: added --retry option
    
    this allows the build to auto retry if master changes

commit e8fec1d3c6c9b8b08de45ad724fe1eedb22fba7d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 25 00:07:57 2010 -0700

    s4-dns: the DNS/${HOSTNAME} SPN should be on the DNS account only

commit b8444b64a32d698b01acce2a1307723cc69a472b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 24 23:25:49 2010 -0700

    s4-provision: switch to dns-HOSTNAME instead of dns
    
    We now use a host specific account name for the DNS account, which is
    the account used for dynamic DNS updates. We also setup the
    servicePrincipalName for automatic update, and add both DNS/${DNSDOMAIN}
    and DNS/${DNSNAME} for compatibility with both the old and new SPNs
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 00791652f4a4894ecffbca38d1f9bb4584fb2635
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 25 16:32:55 2010 -0700

    autobuild: enable ccache

commit d9a0546666c4628dbf577c6525ad64f3ee3ef077
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 25 16:18:00 2010 -0700

    autobuild: added --fix-whitespace option

commit 5d5ae099d16d1902e4a85adec5b1e6a9085b6118
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 25 15:53:32 2010 -0700

    autobuild: added --rebase-master and --push-master
    
    Pair-Programmed-With: Stefan Metzmacher <metze@samba.org>

commit 91b62a274411477f67f50f0f653dd17bf1e65c1d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 25 15:30:13 2010 -0700

    autobuild: added a EDITOR script to mark successful autobuilds
    
    Pair-Programmed-With: Stefan Metzmacher <metze@samba.org>

commit f7fb272e953b743ca9830618af9b1c290701ffec
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 25 14:09:11 2010 -0700

    autobuild: added --rebase option
    
    this allows you to rebase on a URL before starting

commit a09b241ebb04dbc0285e5bee0e67027e055f719a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 25 12:51:51 2010 -0700

    script: added autobuild.py automatic build test script
    
    this can be used to run all tests in parallel, in free git clones

commit f1b3c4dd387ac04615c3443d5de1059d2dc59ba4
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Sep 26 02:13:39 2010 +0300

    s4-possibleinferiors.py: Fix usage of 'paged_search' module for remote LDB connections

commit 11785600be99f3a5b6edeef6f9efe4898abeb3d8
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Sep 26 00:21:19 2010 +0300

    s4-fsmo.py: Fix usage of 'paged_search' module for remote LDB connections

commit cf5777111616a2f5239b19b5b95974dd47136c48
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Sep 26 00:20:20 2010 +0300

    s4-delete_object.py: Fix usage of 'paged_search' module for remote LDB connections

commit 04826b65f6699bb6455aa1f2800a26400567d339
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Sep 26 00:18:35 2010 +0300

    s4-sec_descriptor.py: Fix usage of 'paged_search' module for remote LDB connections

commit 7a7068f2ed6a21e6eab06021a3262217fe0afaf8
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Sep 26 00:13:39 2010 +0300

    s4-ldap_schema.py: Remove unused LDB connection to GC port

commit 8780d2934bee14664e44643f70c90b609acda6b0
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Sep 26 00:11:08 2010 +0300

    s4-dsdb_schema_info.py: Fix usage of 'paged_search' module for remote LDB connections

commit 7e1e7b16f6c2184554c429e039227efd6c7ed839
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Sep 26 00:10:24 2010 +0300

    s4-ldapcmp: Fix usage of 'paged_search' module for remote LDB connections

commit 9e6fa8553cb7ca7fece76646c30f7fcb2a86a83a
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Sep 26 02:25:03 2010 +0300

    s4-ldapcmp: Extend ldapcmp to be able to compare more than one context at a time
    
    If no arguments given, ldapcmp will compare all NCs

commit dda1dd63d3c463a9a26d85acf4a9f7cc53396613
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 15:40:54 2010 -0700

    s3: Avoid an explicit ZERO_STRUCT

commit 6ee0d866c2d7dbdede8511fb906c10f6118fa87d
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 15:35:44 2010 -0700

    s3: Lift talloc_autofree_context() from make_auth_context_fixed()

commit 242e3296108f513b286787ac12ea768b9c4ed954
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 15:31:29 2010 -0700

    s3: Lift talloc_autofree_context() from make_auth_context_subsystem()

commit 2d8be31e880bcd1b7444ffd45295cc9948079b6f
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 14:51:45 2010 -0700

    s3: Lift talloc_autofree_context() from make_auth_context_text_list()

commit 61861e4b7d37d5b483360c0e9faa3dd3a1d0e9f6
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 14:50:46 2010 -0700

    s3: Lift talloc_autofree_context() from make_auth_context()

commit b12744513ec24a50cc838bc6273513d3ac3ddba9
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 14:47:42 2010 -0700

    s3: Fix a memleak in make_new_server_info_system()

commit 15a3afbd192cb8c8e4a248aec8f98141af41b8c1
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 14:47:31 2010 -0700

    s3: Remove talloc_autofree_context() from init_system_info()

commit e4591eb8c1e8f800da1304ac0321beb6db4a344f
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 15:44:55 2010 -0700

    s3: Fix a typo

commit a0d3ffbf924cf203fc8dc765954823375645f0b7
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 14:59:42 2010 -0700

    s3: Fix some 64-bit warnings

commit 0a18f89e8a1599bae4ac96b6f3ab358797881ef7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 23 17:40:35 2010 -0700

    pyteven: Fix build warnings.

commit 296ff486e41d309493c9ddb195578cb6355e2b36
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 23 17:29:53 2010 -0700

    Check in configure/Makefile for those projects that have waf as primary build system.

commit e68afdc02f7ead1da8d0e11cf13a1845eebe7d48
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 23 17:13:56 2010 -0700

    pytevent: Add more tests.

commit ddb3c48f1adf3e3202ad904ba9de4027c7e140df
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 23 16:50:36 2010 -0700

    pytevent: Fill in client side fnuctions.

commit ba5d034d5318d340aefa2b3bd2600c0cc43c934b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 23 15:14:57 2010 -0700

    selftest: If a testsuite is killed by a signal, let selftest die.

commit 465cff7531731929b963085a13ef9a74100858e5
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 23 14:28:02 2010 -0700

    tevent: Add infrastructure for python bindings.

commit 1f22b63b3453e7d8919dcbdd41ea62b34001754e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 23 14:01:02 2010 -0700

    tevent: Switch to using waf by default.

commit e81db37a87b83b6ff10ab513eb4a4d06a2c20b17
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 25 10:56:58 2010 -0700

    s3: Fix bug 7470
    
    S_IREAD and S_IWRITE are not standard.
    
    Thanks to Joachim Schmitz <schmitz@hp.com> for reporting!

commit 85ba79063f35b5a073b3670b82daa2aa6dfb40bb
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 24 12:50:13 2010 -0700

    ldb: mark the location of a lot more ldb requests

commit 5568fcd88b2a32ba389694ee35ab521af1ea7394
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 24 12:09:26 2010 -0700

    s4-dsdb: added tagging of requests in dsdb modules
    
    this allows you to call dsdb_req_chain_debug() in gdb or when writing
    debug code to see the request chain

commit f4893e7d33b7c9aaafba5ce8657972d3eb600257
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 24 12:07:16 2010 -0700

    ldb: added request location tracking
    
    this is used to help debug async ldb requests. The ldb request handle
    now contains a location string and the parent request pointer. This
    allows us to print a backtrace of ldb requests in the dsdb modules.

commit d72dbe847e0db605e950e6656d758cb60bf628a7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 24 10:05:07 2010 -0700

    s4-repl: make getncchanges a bit less verbose
    
    this should reduce some of the clutter in make test

commit c53210bf0609de982d0b36f76198defc8a4502da
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 23 19:51:36 2010 -0700

    s4-net: added --ipaddress option to net commands
    
    this allows override of server IP address, bypassing NBT or DNS name
    resolution of DCs
    
    Pair-Programmed-With: Stefan Metzmacher <metze@samba.org>

commit 3d7a4cf5b68a1adcc4b7b53819ffc0c580e92da0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 23 19:52:19 2010 -0700

    s4-pynet: added server keyword to Net() initialisation
    
    this sets up server_address in the libnet context
    
    Pair-Programmed-With: Stefan Metzmacher <metze@samba.org>

commit 805d9425c2ee06e1695e451500d1ffbf90ca8e72
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 23 19:50:00 2010 -0700

    s4-libnet: added server_address option in libnet context
    
    this is used by libnet_LookupDCs
    
    Pair-Programmed-With: Stefan Metzmacher <metze@samba.org>

commit a360428588467c29e8eb40b27a9db525d4c2ea96
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 23 19:49:12 2010 -0700

    s4-finddcs: allow override of server IP address
    
    this will be used to implement --ipaddress option to net commands
    
    Pair-Programmed-With: Stefan Metzmacher <metze@samba.org>

commit bd228f98588919880ca3a9e4c1f23e17ce78aca5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 23 19:48:03 2010 -0700

    s4-repl: don't store repsFrom on DNs other than NC heads
    
    we don't want a refsFrom on the Rid Manage$ DN
    
    Pair-Programmed-With: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>

commit 781796c557025f4bf8c62b903acc1be64acc35b8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 23 19:46:27 2010 -0700

    s4-pycredentials: avoid a tallloc_free on ref
    
    with the new py object structure, we need to unlink not free

commit a1d52540a377c587552bcc7d5cc085d3774e1c01
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 23 15:40:20 2010 -0700

    s4-repl: use namingContexts from rootDSE to initialise partition list
    
    this is preferable to looking for the hasMasterNCs attribute on
    nTDSDSA objects.

commit 370446769dc0fff752f9fb40c7dcf878cc5cd92e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 23 15:39:37 2010 -0700

    s4-repl: force on WRIT_REP when we are a writable replica
    
    this ensures we always mark ourselves as writeable when we are not
    an RODC

commit 3aea12d0ab70997355904aa6625fce6015657aa7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 23 15:38:07 2010 -0700

    s4-repl: use dreplsrv_partition_source_dsa_by_guid to find source dsa
    
    this avoids a list walk in the calling code

commit ca847b593d83f7ce09473469bd79531fdc8d0359
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 23 15:33:36 2010 -0700

    torture: fixed a valgrind error in SMB2-CREATE
    
    the lock structure had uninitialised elements, so we sent a random
    length.
    
    This also adds a 1 byte write, so there is real data that is being
    truncated with the 2nd open

commit 99f0891944e8df91b98934b6c57f9c68dfed8722
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Sat Sep 25 10:19:11 2010 -0700

    s4-dsdb: Fixed a call to the wrong ops function in dsdb_module_search_dn.

commit 8afb252abae78715d3525c1e3d3a17dbdbbb252d
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 23:50:23 2010 -0700

    s3-waf: fix debug2html.
    
    Guenther

commit f3561e5cfc0779f7b60bbe99887d505c05502232
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 23:37:43 2010 -0700

    s3-waf: add missing idmap module objectfiles.
    
    Guenther

commit f2316f86fa6db6dcba9220e017ce32bb176b15e7
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 22:14:22 2010 -0700

    s3-waf: convert DISPLAY_SEC into a subsystem.
    
    Guenther

commit 5d54dc2f9716db434b0b184d39df25db68ea256c
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 21:52:07 2010 -0700

    s3-waf: fix libnetapi and libaddns unresolved symbols.
    
    Guenther

commit 96e982c2ba41e5aade96382ae152b6d76800e112
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 21:46:39 2010 -0700

    s3-waf: install header files for our libraries.
    
    Guenther

commit 4e6d7fa527e860fb2420b1b1dddbec167fb8f533
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 17:06:16 2010 -0700

    s3-waf: convert LIBEVENTLOG into a subsystem.
    
    Guenther

commit bd5f932eef1b44f9d553a3faff941e7bfaca3bf5
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 17:05:44 2010 -0700

    s4-waf: add NDR_EVENTLOG.
    
    Guenther

commit 204ba6577272530edb34ada9389b491c5fd60361
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 17:18:03 2010 -0700

    s4-waf: rename subsystem NDR_LSAPRC to NDR_LSA.
    
    Guenther

commit db4bec3f4c4cf3940c6d39315af17bc621bbe99b
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 16:45:41 2010 -0700

    s3-waf: convert LIBNET et al into subsystems.
    
    Guenther

commit fd9ae125bc177763874af54e0776ebb005a4ae00
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 16:13:55 2010 -0700

    s3-waf: convert PASSWD_UTIL into a subsystem.
    
    Guenther

commit e325a5b67453fd8cfe06d3d0d6c7c5ab7e4ad772
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Sep 24 19:20:06 2010 +0200

    talloc: Add a warning about talloc_autofree_context() and dlclose()

commit e90c707f144a362a708f5d2f3eb85192dc98980a
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 12:42:05 2010 -0700

    s3-waf: convert READLINE into a subsystem.
    
    Guenther

commit 929b22024a4912430ccaedf12bc2962aeac90f63
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 12:27:57 2010 -0700

    s3-waf: convert PROFILE into a subsystem.
    
    Guenther

commit 0541e07fd93b58ef18451010a2555864e0f0d71e
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 12:13:27 2010 -0700

    s3-waf: convert AFS_SETTOKEN and AFS into subsystems.
    
    Guenther

commit fa3eb7f5d4cce88afc9edad81cfbc45fd959fcfd
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 12:04:19 2010 -0700

    s3-waf: let winbind depend on SRV_NDR_WBINT and RPCCLI_NDR_WBINT.
    
    Guenther

commit 1bec7e56a2205078823eb42ea2cca7c50ba16826
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 11:43:40 2010 -0700

    s3-waf: convert LOCKING into a subsystem.
    
    Guenther

commit 2b767853118abf5434f1e0feb29b5d6a4956d290
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 11:28:44 2010 -0700

    s3-waf: add RPC_NDR_WBINT to librpc/wscript_build.
    
    Guenther

commit 44b0a033673430990b4514b9cfdf6e5459e64e80
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 11:16:53 2010 -0700

    s3-waf: add autogen-waf.sh to source3.
    
    Guenther

commit c54881b2e1e102beeec2b76e64654c514d7a93d4
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 24 11:12:39 2010 -0700

    s3-waf: add wscript_build to s3 librpc dir for NDR_ subsystems.
    
    Guenther

commit c9b19d9b696d8528e59eade89695c60a40461ec9
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Sep 24 14:17:58 2010 +1000

    s4-kerberos Rework keytab handling to export servicePrincipalName entries
    
    This creates keytab entries with all the servicePrincipalNames listed
    in the secrets.ldb entry.
    
    Andrew Bartlett

commit d8814b1a48adaf1f428c7119b97c87b69123e6fa
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Sep 23 21:44:24 2010 -0700

    Fix bug 7694 - Crash bug with invalid SPNEGO token.
    
    Found by the CodeNomicon test suites at the SNIA plugfest.
    
    http://www.codenomicon.com/
    
    If an invalid SPNEGO packet contains no OIDs we crash in the SMB1/SMB2 server
    as we indirect the first returned value OIDs[0], which is returned as NULL.
    
    Jeremy.

commit 0a1d153b256e45d7862235ab0fdaa9e92ae883f2
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 18:15:09 2010 -0700

    s3-waf: add check for seteuid method.
    
    Thanks to Kai and Metze!
    
    Guenther

commit 00be7ea4130955021704066401f6d47bd1c717e7
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 16:40:43 2010 -0700

    s3-waf: fix the build.
    
    Guenther

commit 260ad237273d3a1c34811a970680488ad3a83013
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 16:39:41 2010 -0700

    s3-waf: add more diroptions.
    
    Guenther

commit 0b0a717255e8249b31570c2289f7b73ddc678ea9
Author: Kai Blin <kai@samba.org>
Date:   Thu Sep 23 16:29:06 2010 -0700

    s3 waf: more correctly generate symbols for pdb/vfs/auth/etc. modules

commit 0bc3e159316b437a2ba2253c7b7893a1f3049a0e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Sep 23 17:32:46 2010 +1000

    selftest Don't run 'speed' tests for very long
    
    'make test' is too long, and the main thing we need with these
    tests is to ensure they don't segfault - there is no need to benchmark
    every box in the build farm, and we have no 'fail' metric in any case.
    
    Andrew Bartlett

commit b00dc8399290988dbc8fd3d04fb9654d026d8dd8
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Sep 23 17:11:24 2010 +1000

    s4-selftest Run slow tests less often
    
    These tests don't need to be run twice - basic parsing errors that
    will show up with the various options will be caught quite well
    by other tests.
    
    Andrew Bartlett

commit e823cb8cacd9301609314ed52d2b51856294e58c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Sep 23 17:02:31 2010 +1000

    s4-libnet_join Use header constant for 'all encryption types' in msDS-SupportedEncryptionTypes

commit f03913e2ccfcd75a9d569a5b6e9152b091e0014f
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Sep 23 17:01:44 2010 +1000

    s4-kerberos Move 'set key into keytab' code out of credentials.
    
    This code never really belonged in the credentials layer, and
    is easier done with direct access to the ldb_message that is
    in secrets.ldb.
    
    Andrew Bartlett

commit 062b0ebc04406a24c804ffe1d3a95eb0b4500199
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Sep 23 16:54:06 2010 +1000

    s4-libnet Remove libnet_samdump_keytab() and net samdump keytab
    
    There is a beter implementation of this in Samba3, and this uses
    functions in the credentials code that I want to remove.
    
    The same functionality is available by running 'net samsync' and
    'net export keytab'.  This isn't a DRS-backed utility, it only
    used netlogon replication.
    
    Andrew Bartlett

commit f9698cfc970215a77e8ad60afb67f68058093b33
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Sep 23 19:41:20 2010 +1000

    s4-kerberos Fix kerberos_enctype_bitmap_to_enctypes()
    
    The previous code never worked
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 964f9927798b884ddde1c78902d6d81a1d93c8d0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 19 20:34:08 2010 +0200

    s4:repl_meta_data - also on delete operations the new RDN attribute has to be casefolded correctly
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 30afa657851ba1785f1ecfb8f684c233b9157cc1
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 19 22:39:44 2010 +0200

    s4:lazy_commit LDB module - the "show_deleted" control is initialised by the "show_deleted" LDB module
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 29e3806b0e60df2fbadaae248011db7524a71797
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Sep 17 08:49:07 2010 +0200

    s4:rootdse LDB module - make use of "dsdb_forest_functional_level"
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 9123bcbf77260551bd2b97e93445ae0e67ad89a3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Sep 17 10:47:08 2010 +0200

    s4:ldap.py - add tests for the "dsServiceName", "serverName", "dnsHostName" and "ldapServiceName" rootDSE attributes
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 76c346dfc186faf2bc75ecd37b71b182d24e71f4
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 18 21:46:51 2010 +0200

    s4:provision - rootdse - remove static "ldapServiceName" attribute
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 1d9a3481446e99911aaa1d55561886f1970db316
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 18 21:44:26 2010 +0200

    s4:rootdse LDB module - introduce dynamic "ldapServiceName"
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit ccc67a03d69ed5c3c5c6b8fbed5d9e85ea4fd295
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 18 20:54:33 2010 +0200

    s4:provision - rootdse - remove static "dnsHostName" attribute
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 681106af4f34a1b9ef70f7f6cc51216a5f3f4194
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 18 20:50:25 2010 +0200

    s4:rootdse LDB module - introduce dynamic "dnsHostName" attribute
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 5f60f5e5e7c973d20962afd9318edb1365530f89
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Sep 15 18:44:00 2010 +0200

    s4:provision - rootdse - remove the static attribute "serverName"
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 5fd7bc85640a7a8730daf379bfe314a91a02577f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Sep 15 18:36:03 2010 +0200

    s4:rootdse LDB module - make "serverName" dynamic
    
    This helps to fix bug #7347. "dsServiceName" cannot be made dynamic in such a
    simple way since it's already needed on LDB initialisation time.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit e446ef1c3fc3ebcc511caf5d1d94804cfb7a8202
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Sep 16 14:37:11 2010 +0200

    s4:rootdse LDB module - remove "priv" checks where not needed
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit f1535694f76afdd1c1d5db4240abe0f94b90f8c5
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Sep 15 18:24:53 2010 +0200

    s4:rootdse LDB module - better that the "edn" control handling is done last
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit b6eb1b207222ef776d1e3ec6bdf807dbd1b85911
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 18 20:42:18 2010 +0200

    s4:torture/rpc/netlogon.c - remove the dependency on "samdb_server_site_name"
    
    Since this one relies on the right server loadparm context which we aren't able
    to provide over torture.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 65ca9e691bb12d37de39e382c897d7b41d846c26
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Sep 16 17:31:56 2010 +0200

    s4:provision.py - support still not fully provisioned trees regarding the rootDSE module
    
    We simply override the NTDS settings path manually
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 439d7ff935f845ae381e8650e7e2b80d65e929d2
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Sep 16 16:58:18 2010 +0200

    s4:provision.py - make more use of "names.serverdn" on NTDS settings location
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 679eb33e798efbfdaebb9cf0cd3977bb945e8075
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Sep 15 15:19:38 2010 +0200

    s4:samldb LDB module - it isn't allowed to create user/computer accounts with a primary group specified
    
    It can only be changed afterwards. We allow a "relax"ed exception for the
    provision state since we need this for the guest account.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 2e913994f2455019a3b99cb19df2f319b7218e17
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Sep 15 15:01:00 2010 +0200

    s4:dsdb/common/util_samr.c - remove the primary group specifications
    
    Now also the primary group detection/change on modify operations does work
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit c03ec03212ff08b56710f1935caa6aa7f6cb529f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Sep 15 14:57:59 2010 +0200

    s4:ldap.py - test default primary groups on modify operations
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit f46c6233e75509736f0c2a1c376ccab5c0f22fd2
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Sep 15 14:13:18 2010 +0200

    s4:samldb LDB module - support the "userAccountControl" -> "primaryGroupID" detection also on modify operations
    
    Also requested by MS-SAMR 3.1.1.8.1.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 72bb8c3fb37096ebb3c9bcc23032769c395997f4
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Sep 15 13:49:24 2010 +0200

    s4:ldap.py - enhance SAM user/groups behaviour test regarding default primary groups
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 4492d0a6319c4886f508b95a0fbff970c45c682b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Sep 15 13:36:04 2010 +0200

    libds:flag_mapping.c - support also the default read-only DC primary group
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit f45848e33afecc7b0494b554af48a9e8107cb4cf
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Sep 16 23:24:02 2010 +0200

    s4:python/samba/join.py - add a comment to point out that NCs have to be assigned dynamically
    
    We could also have DNS partitions (only to make one example).
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 8223342e50247cbfb7d3244cf717944f1d93a676
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Sep 16 23:19:32 2010 +0200

    s4:python/samba/join.py - use constant for DC function level
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit f84724cebcb7ac3ea47620854a318a4ac7c23688
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Sep 15 18:21:43 2010 +0200

    s4:rootdse LDB module - make more use of LDB result constants
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 08298457d4f0762cd5245a865d9b3a09cd74353e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 19 09:40:13 2010 +0200

    s4:rootdse LDB module - fix comment typo
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 7a1a0cde2e4b3f1ef43de9021dcc1e60da87089b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 18 10:06:03 2010 +0200

    s4:password_hash LDB module - don't assign "lp_ctx" twice
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 9ca8214978246b07326973bc7534682bb27e7084
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 19 13:00:38 2010 +0200

    ldb:ldb_match.c - fix counter variable type
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 0f163eb61113424e55887a9d0f2a7a89b109c4d0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Sep 16 18:08:56 2010 +0200

    ldb:ldb_msg_add_linearized_dn - handle NULL DNs
    
    Don't let the routine crash
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit e59cdaf40eba6afbad987bc9de8442a72433a0c9
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Sep 20 09:23:37 2010 +0200

    s4:rootdse LDB module - fix counter types
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 1a1be71eb80df3c75ddb61350b45a43c124cf2b3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 19 17:52:42 2010 +0200

    s4:extended_dn_in LDB module - fix a counter type
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 6c349d479f3ec553fcfca1d6c60ad7cbec5d938d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Sep 16 14:02:21 2010 +0200

    s4:drepl_out_helpers.c - fix a counter type
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 80f3e92d0a2f0844de6041a89f3e36769c2803ce
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Sep 16 22:08:10 2010 +0200

    s4:rpc_server/dcerpc_server.c - fix a "const" warning
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit ae60328b1c40d1d3c89b822cb0c5c62fde953674
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Sep 16 22:05:48 2010 +0200

    s4:libcli/resolve/file.c - fix "const" warning
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 8ba3eacf6b8ef4e6e681d4626b1efd99b04eca33
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 15:33:43 2010 -0700

    s3-waf: remove duplicate CONFIGFILE from dynconfig.py which caused sysconfigdir
    to be ignored.
    
    Guenther

commit b828dc055e9e3c6f1f174e191fb3bbc09528ec6a
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 15:13:23 2010 -0700

    s3-waf: fix the build of nsstest with --enable-nss-wrapper.
    
    Guenther

commit 0261b96bd86ed8026328bc3d1516dcb97a2ee84c
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 13:55:18 2010 -0700

    s4-waf: move the RPC_NDR subsystems to main librpc wscript_build.
    
    Guenther

commit 859f3cdd4a9d282594f195b032a65ea1c2db2703
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Thu Sep 23 11:45:16 2010 -0700

    s4/eventlog6: Add dummy implementation for calls 0x5 and 0xB
    
    The code is enough to let us run all dcdiag tests against samba4 server

commit 411e6bc3f2d18c675475113fbab6c586204472be
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Thu Sep 23 11:39:47 2010 -0700

    s4/eventlog6: Build and hook EventLog6 RPC endpont mapper and idl

commit b23609812a72fb90cb80351de5bc144601a4a82d
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Thu Sep 23 11:38:19 2010 -0700

    s4/eventlog6: Add endpoint server for EventLog6 RPC
    
    The file is generated using PIDL --template command.

commit 55fe86bccc4c579e77fab8a20a53e4bbb2a55bc8
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Thu Sep 23 11:31:32 2010 -0700

    s4/eventlog6: Add idl for EventLog6 RPC
    
    The idl is translated from [MS-EVEN6].pdf.

commit bea4948acb4bbee2fbf886adeb53edbc84de96da
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 21 05:41:37 2010 +0200

    pidl:NDR/Parser: fix range() for arrays
    
    metze

commit 66731461a6882faf5ec6ba23944e4d4b357125b7
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 18 10:56:10 2010 +0400

    tdb: add restore
    
    Based on an idea by Simon McVittie, largely rewritten

commit e74b7091cd97eba52227d8e93d003043a2f1a0cf
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 23 10:28:22 2010 -0700

    selftest: Pass prefix to setup_env function.

commit 4c3985b584e89cb90e49c352f53da5621107c453
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 23 01:42:57 2010 -0700

    selftest: Use variable for clientdir.

commit 4b901f6d8b898a7582a167835071c856f267536f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 23:40:20 2010 -0700

    torture: Remove unused variable.

commit 133878fe68b2522a46d1c347815779fe0c1ede01
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 11:14:00 2010 -0700

    s3-waf: convert LIBMSRPC into a subsystem.
    
    Guenther

commit 43b5f209f138039517742a3bf9e7fe64f596f7d1
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 11:05:56 2010 -0700

    s3-waf: fix the build after rpc_server crypto changes.
    
    Guenther

commit 76f249fb44599450a12b7f0c62f5f3830d203a24
Author: Simo Sorce <idra@samba.org>
Date:   Sat Sep 11 09:52:42 2010 -0400

    s3-dcerps: check auth_type
    
    make sure the auth type used throught the auth operation is consistent.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 926a3f4fcdb82c86dff94a9ac78010d59a04ea1b
Author: Simo Sorce <idra@samba.org>
Date:   Sat Sep 11 09:46:08 2010 -0400

    s3-dcerpc: Use spnego own sign/seal functions
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 678993470fdc86a57841c7d35ec9c60f6b81c1cc
Author: Simo Sorce <idra@samba.org>
Date:   Fri Sep 3 16:43:38 2010 -0400

    libcli: fix compile warning
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit b11fff1f481a21d84b713421cfbfd42ef1e73f4b
Author: Simo Sorce <idra@samba.org>
Date:   Fri Sep 3 16:33:45 2010 -0400

    s3-dcerpc: remove auth_data_free_func
    
    Everything is using a talloc pointer now, no need to have an
    accessor function to free data anymore.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 3453bc7b1108390354c0825ee6b2b0bb28fca2f3
Author: Simo Sorce <idra@samba.org>
Date:   Fri Sep 3 16:27:47 2010 -0400

    s3-dcerpc: make auth context opaque
    
    This way we always double check in advance that the context
    is of the right type with talloc_get_type_abort instead of
    potentially accessing random memory by addressing the wrong
    structure in the union.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 0ec372057308198cd2f1742c4a56868e6dab7213
Author: Simo Sorce <idra@samba.org>
Date:   Fri Sep 3 15:09:34 2010 -0400

    srv_pipe: reorganize code so that related functions are close to each other
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit d10e192b83e2c016873d7c2198f62173834287f0
Author: Simo Sorce <idra@samba.org>
Date:   Fri Sep 3 11:03:49 2010 -0400

    s3-dcerpc: finally remove the legaqcy spnego_type variable from pipe_auth_data
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit b475cfd0b2376fdf2a8426f33be8c940b035fe26
Author: Simo Sorce <idra@samba.org>
Date:   Fri Sep 3 10:19:27 2010 -0400

    s3-dcerpc: use new spnego server code
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 4cdee9b0eddd47ad2cfb866f63cdeb3f65200a3e
Author: Simo Sorce <idra@samba.org>
Date:   Tue Aug 31 15:08:31 2010 -0400

    s3-dcerpc: add spnego server helpers
    
    squashed: add michlistMIC signature checks
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 77c73a5ec92f9294195dfef977f66dfe66182c6d
Author: Simo Sorce <idra@samba.org>
Date:   Fri Sep 3 09:38:57 2010 -0400

    spnego: make spnego_context public
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 2c9f420d75ac0a231b84c2d85e9470bb595d6daf
Author: Simo Sorce <idra@samba.org>
Date:   Thu Sep 2 17:50:21 2010 -0400

    s3-dcerpc: move client spnego stuff in /librpc/crypto
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 59722ef2fb6973ac06de5c17c3f84995bac20816
Author: Simo Sorce <idra@samba.org>
Date:   Thu Sep 2 17:43:21 2010 -0400

    spnego: avoid explicit dependency on dcerpc specific structures
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 62d7226b7898ade0dc19a5b13a9632fd096c5771
Author: Simo Sorce <idra@samba.org>
Date:   Wed Sep 1 18:31:05 2010 -0400

    s3-dcesrv: use gssapi helper in srv_pipe.c
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 28c22d04fb816f1c4418b95e9e69710e488af94c
Author: Simo Sorce <idra@samba.org>
Date:   Wed Sep 1 18:27:53 2010 -0400

    s3-dcerpc: add server helpers for gssapi auth
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 8efd31ccad96bb6da1bdb6bf2fbb8fe9d67b640e
Author: Simo Sorce <idra@samba.org>
Date:   Wed Sep 1 17:09:52 2010 -0400

    s3-dcesrv: use ntlmssp helper in srv_pipe.c
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit bbf535764b39941e64664b51562cb1525a99a959
Author: Simo Sorce <idra@samba.org>
Date:   Wed Sep 1 15:50:06 2010 -0400

    s3-dcerpc: add server helpers for ntlmssp auth
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 4194383cfe151aa57e0b288c77a113c5922eb019
Author: Simo Sorce <idra@samba.org>
Date:   Wed Sep 1 19:05:43 2010 -0400

    gssapi: remove unused function argument
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 412ebad02b74d8fbb1f6493e87abab7e345dc000
Author: Simo Sorce <idra@samba.org>
Date:   Wed Sep 1 17:27:56 2010 -0400

    gssapi: avoid explicit dependency on dcerpc specific structures
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 0e5eb82a6f29e33ca2cafe0ed7103395837b3fc0
Author: Simo Sorce <idra@samba.org>
Date:   Wed Sep 1 11:58:33 2010 -0400

    s3-dcerpc: move crypto stuff in /librpc/crypto
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit ffdfcfb514c1a0849ba334ae6b9b00d3ad3c2227
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 21 20:56:23 2010 -0700

    s3-dsgetdcname: always pass in messaging context.
    
    Volker, please check.
    
    Guenther

commit c3f5d990652aec4b4f1f23a5e1c7b644cd46cbe7
Author: Michael Adam <obnox@samba.org>
Date:   Thu Sep 23 18:48:25 2010 +0200

    s3:registry: try to fix the build of reg_parse_internal on HP-UX
    
    The HP compiler does not seem to like {} for char[4].

commit 82c0e79b8d8c693c128e83d8062e1543f3bb311d
Author: Björn Jacke <bj@sernet.de>
Date:   Thu Sep 23 09:25:58 2010 -0700

    s3: fix tdbdump build on Solaris and other boxes
    
    needed to fix up aea64ef275b6e94ca7afb8fa2bb172416773abdf

commit 80e240fe17b9f12663e09a84a29955d2bf8ed1cd
Author: Kai Blin <kai@samba.org>
Date:   Thu Sep 23 09:16:05 2010 -0700

    s3 waf: Remove iniparser source list from source3/wscript_build

commit 67b6252eedbde910da4effb3c3f62af449e3503a
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Wed Sep 22 19:20:21 2010 -0700

    s4/dsdb:kcc: cleanup and improve readability

commit 519180c341edd1be51fbbb622132c2f5d9a37731
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 22 19:18:25 2010 -0700

    s4:dsdb/kcc: we don't need to manually allocate [out,ref] pointers anymore
    
    metze
    
    Signed-off-by: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>

commit 224fbbe33fbb4acea1c0907b1b7566d749521a92
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 22 19:04:58 2010 -0700

    s4:irpc: use LIBNDR_FLAG_REF_ALLOC for the server side when pulling
    
    The dcerpc server also uses it, so it was surprising that the
    IRPC server side doesn't used it.
    
    The reason to have this is that we want to handle error cases
    and returns like NT_STATUS_NOT_SUPPORTED sane, without crashing
    while marshalling the response.
    
    metze
    
    Signed-off-by: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>

commit be0ed310b335b5098f2ba475a709c1832de10127
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 22 18:55:40 2010 -0700

    s4:irpc: add padding to the IPRC header for 8 byte alignment
    
    As we marshall the iprc header and the payload to the ndr_push
    context, we should pad the irpc header to let the payload start
    at an 8 byte boundary.
    
    This way we get the alignment still be correct if we remove the
    header before passing the raw payload to the caller.
    
    As we use IRPC more and more for complex NDR marshalled structures
    we need to get this right, in order to not get random ndr_pull failures.
    
    metze
    
    Signed-off-by: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>

commit 148d4fa6899abab05481efae593cfc43cfe21d3c
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 07:58:33 2010 -0700

    s3-waf: first run in using NDR_ subsystems (mostly from shared directory).
    
    Guenther

commit ce6ef803ce36b69f914f59b3e494e8e9398342ff
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 07:56:38 2010 -0700

    s4-waf: add NDR_LSARPC and NDR_SAMR.
    
    Guenther

commit 6abf9cc89c98bd5172d27a72a7f634d9fb45e786
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 07:05:11 2010 -0700

    s3-waf: convert LIBADS_PRINTER into a subsystem.
    
    Guenther

commit 5fb686cbc5c2e407772ad257da1a30628e6927e8
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 07:01:52 2010 -0700

    s3-waf: convert LIBADS_SERVER into a subsystem.
    
    Guenther

commit 29b1588adf50a520e78f70c40b3f4707a1bc46b9
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 06:56:36 2010 -0700

    s3-waf: convert LIBADS into a subsystem.
    
    Guenther

commit 697090fb2d7644ac1e29c19fb9784c90b6860c5e
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 06:45:56 2010 -0700

    s3-waf: convert smbd into a subsystem.
    
    Guenther

commit d6121bdee06f32ffcf4a22ff50b728ea1e47c394
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 06:26:15 2010 -0700

    s3-waf: add libaddns.so.
    
    Guenther

commit 9bba222e8a960f790904527fb9c7443299f5882d
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 06:15:13 2010 -0700

    s3-waf: recurse into ../lib/crypto.
    
    Guenther

commit 43e3555ed94131da9ef7fc9a8bd3d81ce9ec6db4
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 05:54:12 2010 -0700

    s4-waf: move two more NDR_ subsystems to main directory.
    
    Guenther

commit 247521064ff0fcb6763c1e337f277227b4cef421
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 02:14:23 2010 -0700

    s3-waf: convert LIBMSRPC_GEN into a subsystem.
    
    Guenther

commit ea228cdf7c73c5fd4ae1f22c118d56629c1c58ec
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 01:52:15 2010 -0700

    s3-build: move epmapper client to LIBMSRPC.
    
    Guenther

commit e8df0db8c4c2304a8528cd84f6871509321b706a
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 01:51:53 2010 -0700

    s3-waf: move epmapper client to LIBMSRPC.
    
    Guenther

commit 494dc5565bf3b76c4acb7afb37dda9a4bae51889
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 21 01:24:13 2010 -0700

    s3-waf: recurse into main wscript_build from main librpc directory.
    
    Not doing anything with it yet though.
    
    Guenther

commit 7f537736088f4e20f211bd25bd512f620b16484b
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 02:13:15 2010 -0700

    waf: fix generated nbt.h path, should fix s4 install.
    
    Guenther

commit de49623d4b3bc577694b1601dcdb2eb413692389
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 01:32:43 2010 -0700

    s3-waf: fix LOCALEDIR usage.
    
    Guenther

commit 031dd8cc623a315e8776faae687b53d126ecb700
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 21 00:41:58 2010 -0700

    waf: move majority of shared NDR_ subsystems to main wscript_build.
    
    (so they can be used by s3 waf later)
    
    Guenther

commit dc4920bfa7f55e660c9944049ba0dd66931abcde
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 00:48:16 2010 -0700

    s3-waf: rework libnetapi to have no unresolved symbols.
    
    Guenther

commit 4d7525537a0090273d85f468af338668920c8dcf
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 00:27:34 2010 -0700

    s3-waf: add libsmbsharemodes.so.
    
    Guenther

commit 8ccbbe042b7fed310de9a75ddccc69e51bae72d4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 22 23:21:56 2010 -0700

    lib-subunit: fixed build on systems without subunit devel library
    
    Pair-Programmed-With: Jelmer Vernooij <jelmer@samba.org>

commit d2008fbbb951a941d380b4efa0eaf9f3cfe54e13
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 22 22:50:05 2010 -0700

    s4-kcc: the kcc should not be setting the repsTo attribute
    
    repsTo is set by other DCs, when they ask to be notified about changes
    in a partition

commit 7a05e04dfc81d20aff92e17c61af81bbe66d2492
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 22 22:41:02 2010 -0700

    s4-gensec: fixed a client side bug in GENSEC/SASL/SSF negotiation
    
    this is the client side equivalent change for the previous fix
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit c0ff93b033da632d5ad4a004d6fff05d08f5cf78
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 22 22:35:28 2010 -0700

    s4-drs: we don't need to decode to utf8 in python dcerpc strings any more
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit bf1f2d4eb8c35ca4547993f33a1e19ff0c3c03c2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 22 22:28:58 2010 -0700

    s4-gensec: prevent a double free in the error path of GSSAPI auth
    
    the caller frees mem_ctx, so we shouldn't
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 202525db1339805af5d5e837712b0aa834e8f5e0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 22 22:20:30 2010 -0700

    s4-gensec: fixed a GSSAPI SASL negotiation bug
    
    Fixed a bug that affected mismatched negotiation between the GSSAPI
    layer and the SASL SSF subsequent negotiation. This caused some ldap
    clients to hang when trying to authentication with a Samba LDAP
    server. The client thought the connection should be signed, the server
    thought it should be in plain text
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit d1cbd68bb12c6d5193e864e5b0bae16c7ec4c5f4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 22 11:18:04 2010 -0700

    s4-kcc: added service->am_rodc
    
    use a rodc flag on the service instead of calling samdb_rodc each time

commit c166b44b4756c2e038ebbbe27898aff0a5c954da
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 22 11:15:56 2010 -0700

    s4-kcc: pass the service context into the kcc connection code
    
    this will be used for the RODC changes needed for the kcc

commit b6f149eec38a69aea2efec307c559e08721a26ca
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 00:13:34 2010 -0700

    s3-waf: add all remaining binaries from the make build.
    
    Guenther

commit a11d6c77e460bdb9755a66a62483b3ad0ae57373
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 00:06:17 2010 -0700

    s3-build: fix the build of split_tokens.
    
    Guenther

commit 34008ef6b35f09b37a3cc7d99cb085e9ff9c85df
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 00:05:31 2010 -0700

    s3-build: fix the build of test_lp_load.
    
    Guenther

commit 099394a8f768e16c15b001bd27757ecf4b1d5f0b
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 23 00:04:08 2010 -0700

    s3-build: strip down dependencies of smbta-util.
    
    Guenther

commit 8037a46c2e5a2e1ee9479690e38770fdffdcd413
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 22 17:15:15 2010 -0700

    s3-waf: reconcile objects to old make-based build.
    
    Guenther

commit 9ddfbd1c4ea38b47854b298dfba22f8e7026c897
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 22 14:22:09 2010 -0700

    s3-waf: add libsmbclient.
    
    Guenther

commit 7378b6d2a20a8ff0678891b6ef1d72afbfe8c1e0
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 22:08:04 2010 -0700

    s4-selftest: Move credentials tests to standard python directory.

commit cc5b673e18246f35a908152b7c4a8cb0dc3a89f2
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 22:05:55 2010 -0700

    s4-selftest: Move samba3sam test to standard python directory.

commit 5651f8a9a77c09f585f4ba8ab04fe9968a5432cb
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 22:02:39 2010 -0700

    s4-selftest: Fix prefixes for ldb tests - they're samba4 specific.

commit 136aa0d5ac8d3105cdebb579edf4a8043b5cc83f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 21:03:05 2010 -0700

    smbtorture: Report times.

commit a15a33a9a8806426955fb3cab6b798ab4173cc67
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 20:18:45 2010 -0700

    torture: Use system subunit library if available.

commit 029add7e079cc9532016b49c323b52eadef25695
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 19:55:58 2010 -0700

    smbtorture: Use subunit C library.

commit 20c95cf6856b7d18784e8429d1ba31443a883d49
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 19:28:02 2010 -0700

    selftest: Fix testsuite counts when running only a limited number of
    testsuites.

commit 3d0e6db9dc68aace8b2993faa45f48b3f5f4e855
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 19:21:58 2010 -0700

    selftest: Fix idlist running.

commit f9ed11c7562d1ff2cf23de0057df6ff80927c9fc
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 19:14:33 2010 -0700

    s4-selftest: For idlist tests, leave out environment name.

commit 0dde34ffc7bab04c9dd320d98ad543fac98b12e5
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 19:13:16 2010 -0700

    s4-selftest: Add environment name to test suite manually, so we can
    leave it out if we want to.

commit 9bce7838788db26c9846b619e3ac7edc46a65beb
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 19:08:37 2010 -0700

    selftest: Fix use of --load-list.

commit cd8d7804208c9674be07b239e22fd4f612fb9952
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 18:53:52 2010 -0700

    s4-selftest: Cleanup formatting.

commit a171816672b4ffca18c3a3b9a0f4d8fb6f0487ee
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 18:30:27 2010 -0700

    selftest: Add prefix on a higher level, so it can be more easily
    excluded.

commit 7170b875c26e2e43103b80da2376b020f0d1af4f
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Sep 22 18:34:19 2010 -0700

    Thank goodness for code reviews. Volker caught - this should be lp_posix_pathnames()
    not lp_unix_extensions().
    
    Jeremy.

commit 56f127d7367b8380cda76a8f1af11ce7a9095af4
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 13 17:27:16 2010 +0200

    no need any more to manually create catalog file in build-manpages-nogit

commit 60d5a83e9e2361b8d237daef095e2eeb20ed8bdd
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 13 17:26:20 2010 +0200

    no need any more to create catalog file manually in build-manpages-git

commit 9e2eefad44c4d8024cc51db2cdf0aa2b6ca5f6ae
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 13 17:18:18 2010 +0200

    docs: use abs_top_builddir instead of BUILDDIR to let configure create correct catalog file
    
    The use of the catalog file is still controlled by exporting the
    XML_CATALOG_FILES variable as described in build/README

commit 791246b85747aa046e096df96c7646d449b3e04e
Author: Michael Adam <obnox@samba.org>
Date:   Thu Sep 9 17:25:22 2010 +0200

    add script to build only the manpages (not the complete docs) - no-git version
    
    this version uses make clean to clean the source tree before building

commit b56ebe5cac0ca63b197b8544b8fa5bb5060b1576
Author: Michael Adam <obnox@samba.org>
Date:   Thu Sep 9 17:24:30 2010 +0200

    add script to build only the manual pages (not all the docs) - git version
    
    the git version uses git clean to clean the docs source tree.

commit aea64ef275b6e94ca7afb8fa2bb172416773abdf
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 22 18:00:10 2010 +0200

    s3: tdbdump does not use our libs

commit bf1a4b2bc411cba18980d00bf630aa61fc4e4699
Author: Steven Danneman <steven.danneman@isilon.com>
Date:   Wed Sep 22 13:23:49 2010 -0700

    s4:libcli:smb2 Rename pending_id to async_id and make 64-bit
    
    Match MS-SMB2 - 2.2.1.1   SMB2 Packet Header - ASYNC

commit 7e31704762b63ac580f3b778520d9f5f7d212cbe
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 17:47:28 2010 -0700

    selftest: Remove unused --analyse argument.

commit 1716cdbef36b7905c08d89de1ca3de4b61e3fe0f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 17:17:42 2010 -0700

    dsdb: Use short path for ldb_handlers.h, in case ldb is installed in the
    system.

commit 8dd0c8c5460c6f16367a4a73f0ce4b27d5acab4f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 17:17:25 2010 -0700

    ldb: Use waf as default build system.

commit c031329af1f4300237ba200a4d6ff5eb041d8e3d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 17:15:38 2010 -0700

    ldb: Depend directly on replace, fixes the build on systems with
    tdb and tevent installed in the system.

commit 1c3c9a483be6d63b8efb67bfd2c04ef9302ccce6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 16:44:17 2010 -0700

    s4-param: Fix more memory leaks, invalid memory context.

commit 5b10c82a5837073836fcf04152a6f032c98c93d1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 15:36:06 2010 -0700

    s3-selftest: Fix test prefixes in subunit output.

commit 3fea9df85a7d489b81e21a7a63f9e115de712d4c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 15:35:36 2010 -0700

    s4-param: Check type when converting python object to lp_ctx, fix some
    memory leaks.

commit 63031a2a78cff19f1f17137adfbc85a4df05ae36
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 13:57:07 2010 -0700

    pygensec: Implement start_mech_by_name().

commit 6abe823ce6c6fd1804d45b7c63c770d22b3e7265
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 13:05:55 2010 -0700

    subunithelper: Cope with errors outside of testsuites.

commit 5a75fb194a290cb09fc03312262bd57196e86cb9
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 12:52:29 2010 -0700

    ndrdump: Move blackbox test to standard python namespace.

commit 18f10eec0ea55108e97da019f07a18b8854c2883
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 11:39:53 2010 -0700

    s4/selftest: Simplify running of python tests.

commit 31d5ac05402ed9ac8158d143283c7f8b2d7bb7b4
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 22 11:30:34 2010 -0700

    selftest: Let tests add prefix to tests by themselve.

commit 54f0da368f35ce7d7fd4b093b865ffea284d826b
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 22 14:10:03 2010 +0200

    s3: Use asprintf where appropriate

commit 7ba5855a734037cf7308007b953ce0a92b050173
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Sep 21 21:16:31 2010 +0200

    s3: Fix pam_smbpass logging on FreeBSD

commit fe4576dff0dd949d87a099afc6b66e4763537fdd
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 22 12:40:42 2010 -0700

    s3-registry: fix some c++ build warnings.
    
    Guenther

commit 314dc23ecfb5fc014f9c2ef70bd508eb837632b0
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Sep 22 12:26:13 2010 -0700

    Fix bug #7693 - smbd changing mode of files on rename
    
    When using "map archive", don't change the archive bit on
    renames or writes with UNIX extensions turned on.
    
    Jeremy.

commit cf6e773e1a75b1d7d32dfa952d3bb743db6e1b7c
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 22 11:28:45 2010 -0700

    s3-waf: fix the build.
    
    Guenther

commit a1ced101969e7613bc9e1a83c087dbe56c378abe
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 22 11:04:38 2010 -0700

    s4-smbtorture: print out membership in RPC-SPOOLSS-ACCESS.
    
    Guenther

commit 9b73bb0099d6b33d9e951895be3c877628b6c7dd
Author: Björn Jacke <bj@sernet.de>
Date:   Wed Sep 22 11:16:47 2010 -0700

    libreplace: fix endless strerror_r has been redefined warnings on AIX

commit 0027af02d2d0114b2e1e06b49e590db1efe38879
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 22 03:57:30 2010 +0300

    s4-drs-test: Relax a check that may possibly fail
    
    This check may fail due to automatic replication between DCs
    during the test execution.
    Ideally we should block automatic replications (somehow)
    during this test. But until then, we need just to skip
    this check, it is not *that* important anyway

commit e3b81c6062c9b82d246ac8103c07c246e2a72250
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 22 03:24:01 2010 +0300

    s4-ldapcmp: Enable comparisons between LDBs too
    
    This will enable us to compare two LDBs or and LDB with running
    AD server. Comparing LDB against running running server
    may come into handy when one want to see if 'net vampire'
    command does what it does the right way

commit e12e661f35983dfab3e7d869df7770f519b49e48
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 21 22:54:10 2010 -0700

    s4-selftest: Move more tests to scripting/python, simplifies running of tests.

commit 118c6548bbc4d1ff889688372190a4503fc2855f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 21 21:33:30 2010 -0700

    selftest: Fix run for systems without testtools installed.

commit 7c1b00f4a80ee5eb91333cad9c27ba699c6b2e3b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 21 20:58:23 2010 -0700

    selftest: Use idlist testing for python tests.

commit bf907d2c4a7c9c4d95d2af644eb5f8dc97e073c3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 21 20:36:50 2010 -0700

    selftest: Support running individual tests using idlists, for testsuites that support them.

commit 1783d0d6fcf20e568a1187b1e28cbf1d60c54d34
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 21 20:23:41 2010 -0700

    s4-selftest: Use loadlist in a couple more places.

commit 0aff42a6e4bd4330c50566a13ecf684486f8e96d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 21 20:16:40 2010 -0700

    torture: Remove active_testname variable.

commit ea1ed67d15b0b2d70fff638c3c5c79de66312e9c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 21 20:11:47 2010 -0700

    s4-test: Allow running individual tests for smbtorture tests.

commit e456c69498bfe5beb8421bcde523d24f50a34d0c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 21 20:11:43 2010 -0700

    torture: Fix running individual tests.

commit e8b20039a7b77e17fd3caa66b68528f70d3b6cec
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 21 17:35:53 2010 -0700

    selftest: Fix generation of test id file.

commit 4c681f760fbf0dc98627fdc94046df793c405ef1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 21 17:35:26 2010 -0700

    strlist: Make test names unique.

commit 94f84da1f6ef5d05439e582012eb5349de618e41
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 21 16:46:12 2010 -0700

    s4-land: Print commands that are being run.

commit 10da4b042250ca13deca40d11320451a06663d2e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 21 16:08:46 2010 -0700

    pymessaging: Remove unused older python irpc bindings.

commit cb5c86e5027fd7bca73e855bcf433846a7c680f3
Author: Michael Adam <obnox@samba.org>
Date:   Wed Sep 22 06:27:49 2010 +0200

    s3:net: add subcommand net registry deletekey_recursive
    
    to delete a key including subkeys

commit 7a25d13742fe190e2b8b97f62d7db85db4e816e9
Author: Michael Adam <obnox@samba.org>
Date:   Wed Sep 22 06:21:38 2010 +0200

    s3:registry: remove unneeded TALLOC_CTX argument from reg_deletekey_recursive

commit a2ea85b68d86ed3651f00626b837cfa8184cc21b
Author: Michael Adam <obnox@samba.org>
Date:   Wed Sep 22 06:00:00 2010 +0200

    s3:tests: fix misplaced '...' for grep pattern in test_net_registry.sh

commit a52b7e7229174500c8b8d5e52206e68749b99e2b
Author: Gregor Beck <gbeck@sernet.de>
Date:   Mon Sep 20 15:32:02 2010 +0200

    s3-net: add command rpc registry import
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit 96ba0cb8f2a02a5f991ef92ed9eeb81d1a42216b
Author: Gregor Beck <gbeck@sernet.de>
Date:   Mon Sep 20 16:45:57 2010 +0200

    s3-net: add command rpc registry export
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit 0afc83c25556fc8162415738d1e8743009c4837c
Author: Gregor Beck <gbeck@sernet.de>
Date:   Mon Sep 20 15:01:40 2010 +0200

    s3-net: add command registry convert
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit e7c2724c8148d837d60b5e6cb6204ac5ea28164c
Author: Gregor Beck <gbeck@sernet.de>
Date:   Mon Sep 20 15:01:01 2010 +0200

    s3-net: add command registry export
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit 2a10fd769b3e2695433f579cd28c1a6f3bbce26e
Author: Gregor Beck <gbeck@sernet.de>
Date:   Mon Sep 20 14:54:30 2010 +0200

    s3-net: add command registry import
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit 44d10d05464b16082d318b0e7001432484013a29
Author: Gregor Beck <gbeck@sernet.de>
Date:   Mon Sep 20 15:24:03 2010 +0200

    s3-net: let rpccli_winreg_Connect optionally return WERROR
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit 47313afe97973e1293af2f1ab0d08ecaedb74e1e
Author: Gregor Beck <gbeck@sernet.de>
Date:   Mon Sep 20 14:46:25 2010 +0200

    s3-registry: handle registration entries (.reg) files
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit f76049422899dc19abe597d990e6ca9ec391c962
Author: Gregor Beck <gbeck@sernet.de>
Date:   Mon Sep 20 14:37:07 2010 +0200

    s3-lib: add srprs, primitives to build simple recursive parsers
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit e5bbc2be05f1d35bebbaea3b120d699467a30304
Author: Gregor Beck <gbeck@sernet.de>
Date:   Mon Sep 20 14:33:21 2010 +0200

    s3-lib: add cbuf, a talloced character buffer
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit 9c2e89da1011fdeb82bcf53a69781c07d18df728
Author: Gregor Beck <gbeck@sernet.de>
Date:   Mon Sep 20 14:24:00 2010 +0200

    s3-docs: document net registry
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit a233c0c0d2a307a64994480bd7b2c783e28fe72a
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 21 20:54:45 2010 -0700

    s3-lsa: Fix sid in DEBUG in_lsa_EnumAccountRights.
    
    Andrew, you removed the sid_copy buit forgot the sid, please check.
    
    Guenther

commit 7c9dab47618a809792cfdc43f0e3c5d88d2d7843
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Sep 21 19:08:40 2010 -0700

    tevent: include libreplace heade before tevent header
    
    this is supposed to fix bug #7463. Thanks to Joachim Schmitz.

commit 617268101a36fa01ab8c3865435d5316a915784a
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 21 16:13:33 2010 -0700

    s3-libgpo: fix the build of scripts client side extension.
    
    Guenther

commit 2cf1f0586038d5460d42a9cd4c3bc5c8a936d6ad
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Sep 21 15:41:23 2010 -0700

    s3: Remove a global variable in bugfix for bug 7665
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 93c95824c754384f12891f1c8daf527e178a2bff
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 21 15:54:34 2010 -0700

    s4: Add script for landing a branch through a remote server, such as sn.

commit fd25d67d0d7a0837dfcba882cf60700189a41f37
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 21 14:18:21 2010 -0700

    s4: Add convenience script for building and landing a tree in the
    background, sending results by email.

commit 049c4fa04dcee5a6083630b0464b715c5ca531cd
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 21 00:40:17 2010 -0700

    pytalloc: Add default compare function.

commit 1d90227c3c31dae573ac1dc3096925cb82e994b6
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Sep 21 11:08:19 2010 -0700

    s3: Remove a pointless if-statement

commit 81d257e8aef096c4f6ef79d20543aaf287dc9e1a
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Sep 21 10:52:46 2010 -0700

    s3: don't build krb5 locator plugin if we don't build winbind
    
    this fixes bug #7329

commit aa57fd8224a09f26a0f6127024fe739b84eadf49
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Tue Sep 21 09:10:54 2010 -0700

    s4-ldap: Fixed a problem with NC's having a parentGUID attribute
    
    NC's other than default NC had a parentGUID, due to an incorrect check of whether
    the object has a parent. Fixed by checking object's instanceType instead.

commit 24cac1366644279be55dfce6e286f19da605e78e
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 21 01:23:43 2010 -0700

    s3-waf: remove reg_util_legacy from waf build as well.
    
    Guenther

commit bf38287c76f90593d5a7eeb9889e12b3bea54adf
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 21 00:18:27 2010 -0700

    s3-winbindd: another attempt to fix the non-ldap build.
    
    Guenther

commit 2d67730dafc84f3412397604e23a9e247b6d109b
Author: Michael Adam <obnox@samba.org>
Date:   Tue Sep 21 09:08:33 2010 +0200

    s3:registry: move regio.h from include/ to registry/

commit 4f7d41aa3deba47f8e31093ab4cbdc8706a850b2
Author: Michael Adam <obnox@samba.org>
Date:   Tue Sep 21 08:53:49 2010 +0200

    s3:registry: move the reg_db.h from include/ to registry/

commit a35daebaf1d0201077fe57f78350804c2e4fde50
Author: Michael Adam <obnox@samba.org>
Date:   Tue Sep 21 08:50:54 2010 +0200

    s3:registry: move prototype from reg_init_smbconf.c to its own header.

commit d25b2adf34a86c8abd0129304143f72dd6a9807c
Author: Michael Adam <obnox@samba.org>
Date:   Tue Sep 21 08:45:06 2010 +0200

    s3:registry: move prototype from reg_init_full.c to its own header.

commit 0bd2756b974f171eb837d30309e2a46915edd861
Author: Michael Adam <obnox@samba.org>
Date:   Tue Sep 21 08:37:14 2010 +0200

    s3:registry: move prototypes from reg_init_basic.c to their own header.

commit 4696cd6cbe02d93039240f82917582f4e7a91aa9
Author: Michael Adam <obnox@samba.org>
Date:   Tue Sep 21 08:23:20 2010 +0200

    s3:registry: move reg_api_regf prototypes to their own header file.
    
    These two calls are currently only used in the WINREG rpc server.
    And this reqires linking in the regfio code.

commit b11cc305083844052d0b82560e3a7006b3520f14
Author: Michael Adam <obnox@samba.org>
Date:   Tue Sep 21 08:11:18 2010 +0200

    s3:registry: move the reg_api prototypes to their own header.

commit e4eda5f9bcabbdb82aa4a65e5cd8558a36944270
Author: Michael Adam <obnox@samba.org>
Date:   Tue Sep 21 07:44:56 2010 +0200

    s3:registry:reg_api: update (C)

commit 6a3c687f039f8f6cfeb8d12d81cd71157ad43ddd
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 20 22:18:45 2010 -0700

    pidl/python: Allow passing in UTF8 string objects as well as unicode
    objects for IDL strings.
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit d86d2256b98e8975d536b85ba5221508642dea22
Author: Michael Adam <obnox@samba.org>
Date:   Tue Sep 21 07:40:36 2010 +0200

    s3:services_db: convert get_common_service_dispname() to talloc

commit 919450a60ed996c35a1443a18d057031d56649c7
Author: Michael Adam <obnox@samba.org>
Date:   Tue Sep 21 07:40:13 2010 +0200

    s3:registry: regfio fix the build

commit 58cfbc510c7359708d4eae3045085155c912218e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 20 22:23:15 2010 -0700

    rpc_talloc: Update test now that we create fewer references.

commit 7fc40d2ed3ab378c409e6f868d75733352ed5ddf
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 20 21:04:04 2010 -0700

    pytestrpc: Be more verbose.

commit c4c6f8f1755486056f77b9a7f830d10a9ebfb7b0
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 20 21:02:16 2010 -0700

    s4-pild-python: Fix assignments - even though we reference the mem_ctx
    of an object we still use the actual ptr.

commit f161fa3ac8e437600e64354652114e99edac32bb
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 20 20:19:16 2010 -0700

    testrpc: Convert from a single unit test to a simple test script, be
    more verbose.

commit a7393449eba9fc5173934096651b2fa232ae6764
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 20 20:02:21 2010 -0700

    pidl: Fix segfault when accessing unicode objects.

commit 5dd47eeac275d8a9da0a47fda3d71f69ee6c0c4a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 20 19:54:24 2010 -0700

    s4-pidl-python: use correct talloc pointer when allocating subobjects.

commit 08cf13a3df212bd421275f61e2db146752490c7d
Author: Michael Adam <obnox@samba.org>
Date:   Tue Sep 21 06:51:38 2010 +0200

    s3:registry: remove now (finally) obsolete reg_util_registry.{c,h}

commit 7f1efa6ea25eba0c0829131758746ac0c2ab9e42
Author: Michael Adam <obnox@samba.org>
Date:   Tue Sep 21 06:49:40 2010 +0200

    s3:services_db: does not need legacy registry code any more.

commit 8df2ab974689c585f19b5a0de40a80245d12639d
Author: Michael Adam <obnox@samba.org>
Date:   Tue Sep 21 06:48:19 2010 +0200

    s3:services_db: rewrite svcctl_init_keys() to use reg_api calls instead of legacy

commit a6f0f912cc461dcca2b34242327c6fc82d6ff849
Author: Michael Adam <obnox@samba.org>
Date:   Tue Sep 21 03:11:43 2010 +0200

    s3:services_db: extract core of svcctl_set_secdesc to _internal version
    
    The internal version operates on an already opened key.

commit f2a4d5536b68f344edab717c4e6dfbef15523499
Author: Michael Adam <obnox@samba.org>
Date:   Tue Sep 21 03:00:29 2010 +0200

    s3:services_db: create the "Security" subkey if it does not exist in svcctl_set_secdesc()
    
    Windows behaves like this. - Tests will follow.

commit 8be007dbb0c10a0755a87639eccabd7f5cdd05b3
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 11:24:36 2010 +0200

    s3:services_db: remove bogus comments
    
    (from copy and paste probably...)

commit 5fe2abb2f85afe2e8655257446c7dd03a08b2d57
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 11:20:37 2010 +0200

    s3:services_db: remove unused legacy function svcctl_fetch_regvalues().

commit e869af9e0e6e460d8ae225310f58f458e094e86f
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 11:18:33 2010 +0200

    s3:rpc_server:ntsvcs: registry is not directly used an more.

commit d760e543a1340a2166a43f83b27b5a4a6a39dfcf
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 11:17:38 2010 +0200

    s3:rpc_server:ntsvcs: use svcctl_lookup_dispname instead of legacy svcctl in _PNP_GetDeviceRegProp

commit 4cee4bbd02cdd0e4bc458378016621948e58d47c
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 10:57:53 2010 +0200

    s3:rpc_server: registry is not direclty used in the svcctl server any more

commit 3cab10975464a6f67c1728301ffc0264fb1763e0
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 10:30:30 2010 +0200

    s3:srv_ntsvcs_nt: make fill_svc_config() use svcctl_get_string_value()
    
    instead of using legacy svcctl_fetch_regvalues()

commit 3c85a9fcbe56aadc6a50706d253d7d010cf91c63
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 10:27:56 2010 +0200

    s3:services_db: publish svcctl_get_string_value()

commit e28bc8d763978762480367d031a4a62ebd411f8a
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 08:06:30 2010 +0200

    s3:services_db: factor out common code of lookup_dispname and lookup_description
    
    into a new function svcctl_get_string_value()

commit 53dcbc2dd2705c5273163c757e2587e3596c6971
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 06:19:57 2010 +0200

    s3:services_db: change svcctl_lookup_description() to use reg_api functions

commit 9fee03365621cca011da4521d98f1e1aa2882278
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 06:03:58 2010 +0200

    s3:services_db: rewrite svcctl_lookup_description() to use a tmp talloc ctx
    
    Also remove a possible memory by tallocing the result string
    also in a default case, where a string constant was returned before.

commit 464515cd610b5ee3862d8bc8558cd698d4f7258e
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 08:11:07 2010 +0200

    s3:services_db: change svcctl_lookup_dispname() to use reg_api functions

commit e464ca9f311e3becd5f88f41fa7a95520fe6fbc3
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 04:58:27 2010 +0200

    s3:services_db: make svcctl_lookup_dispname() use a temp talloc ctx

commit a4b1042f33b505dcb51ac25bf84a597d98fa9d4b
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 04:41:59 2010 +0200

    s3:services_db: change svcctl_get_secdesc() to use reg_api functions

commit 4fc2b5c40e63579c2fe4e95bdbaa31108f2b3475
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 04:12:42 2010 +0200

    s3:services_db: use temp talloc ctx in svcctl_get_secdesc()

commit 9bfd587358fb58b98dd0fbdd72069430a89cefc7
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 03:38:45 2010 +0200

    s3:services_db: remove the TALLOC_CTX argument from svcctl_set_secdesc

commit 91d5446390dc41b43fe18785a765bbd71ff709c2
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 03:36:23 2010 +0200

    s3:services_db: fix a debug message

commit d2794b05a6b8be40ebde4a47b9c03008242b1c46
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 03:34:49 2010 +0200

    s3:services_db: rewrite svcctl_set_secdesc to use tmp talloc ctx
    
    and add a common exit point

commit 7cefb898729bc46e1ba9fd1c8b48e7aef0486339
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 02:43:33 2010 +0200

    s3:services_db: rewrite svcctl_set_secdesc() using reg_api calls instead of legacy

commit f53c17b4ff27c39fbeccce4d369f4bb8f1b13ce7
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 00:46:59 2010 +0200

    s3:services_db: untanlge assignments from check in read_init_file().

commit a67a553f40833a182b89a058d59015bcf19640f0
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 00:40:44 2010 +0200

    s3:services_db: untangle assignments from check in construct_service_sd().

commit 7ffcf90bb9b7214e30b82a0e8e371207409052eb
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 20 20:36:36 2010 -0700

    s4-drepl: use the partition UDV and hwm for extended getncchanges ops
    
    we find the NC root then load the uptodateness vector and highwater
    mark, if available, from there

commit 6f47a24bc55be0ea907594a748774675a105b5e3
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 20 21:05:37 2010 -0700

    s3-libnetapi: Fix Bug #7665, memory leak in netapi connection manager.
    
    Guenther

commit c201e494c476e3245f887c4491a909126d1c3333
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 20 17:41:18 2010 -0700

    s4-smbtorture: print SVCCTL security descriptor in test_QueryServiceObjectSecurity().
    
    Guenther

commit 1585c4df68a66569524a41def95488666dd827dd
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 20 16:01:51 2010 -0700

    lib/tdb: fix c++ build warning in tdb_header_hash().
    
    Guenther

commit 80ca590d38d16723c6f457249e4051d5aa5843c5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Sep 17 18:06:05 2010 +1000

    s3-lib/util Remove unused smb_uuid_unpack()
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 03011bf11837e75474f91f422ddf35d827d31cd1
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Sep 17 18:04:05 2010 +1000

    s3-libads call common GUID_from_ndr_blob()
    
    This does a length-limited check, and so avoids reading beyond the
    allocated memory if the server sends less than 16 bytes.
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 6acb47b1154562415bf966f72262481d25e58708
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Sep 17 17:46:51 2010 +1000

    s3-uuid Remove unused smb_uuid_pack()
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit d7bc452a893a77eb21b547cd8cdf8b420c60ab5d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Sep 17 12:33:44 2010 +1000

    s3: Replace sid_binstring and sid_guidstring with PIDL-based alternatives
    
    This reduces the manual marshalling of these structures by removing
    the duplication here.
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit d44e86b473554ad549993c928af68e348ccefe2b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 20 15:46:41 2010 -0700

    Open alpha 14.

commit 8efd1074c21fde70a31756dd54b3b31811beccc8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 20 12:16:09 2010 -0700

    s4-pyrpc: fixed build on python 2.4
    
    Pair-Programmed-With: Jelmer Vernooij <jelmer@samba.org>

commit 3fe8e97a7289c18903a9f481a13f8793f9f17bab
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 19 21:49:00 2010 -0700

    s4-rodc: fixed repsFrom store on RODC
    
    We were disallowing repsFrom store as a RODC on the basis that it is a
    write to the directory. It should be allowed, as its is a
    non-replicated attribute.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 59951163bea67b1a5d5eeef109f200a6323c00f3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 19 21:48:35 2010 -0700

    s4-kcc: a bit more debug info on repsFrom creation
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit ead126caace0cd94ab515f5d9f2199b60a84f914
Merge: 8853bab... db67f43...
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 20 15:24:44 2010 -0700

    Merge branch 'v4-0-stable' into newmaster

commit 8853babb504298bd87fb5cae2120f2be63b08312
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 20 15:03:56 2010 -0700

    s3-build: try to fix the non-ldap build.
    
    ldapsam_search_suffix_by_name is already prototyped in smbldap.h.
    
    Guenther

commit ccbcffadb6e3b8dc6951e7d80e65a06eb5df61de
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Sep 17 11:15:28 2010 +1000

    libcli/ldap Add const to ldap_encode_ndr_dom_sid()
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit db67f43aefccccedbd8bf59c7d97c99295b7a168
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 20 14:41:29 2010 -0700

    s4-mkrelease: Update for waf.

commit aa8a2e310571b20f29d36d3dac60ae87c814d8e1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 20 14:41:09 2010 -0700

    wafsamba: Fix docstring for DIST_BLACKLIST.

commit 4752a6b6d7767a62f322ee3d8e3a412e7699fcea
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Sep 20 21:28:06 2010 +0300

    s4-test: yet another test for ATTID-ot-OID conversion
    
    Test with a valid ATTID for prefixMap lookups,
    but supplied ATTID is with index not to be found
    in the test prefixMap

commit f06d98764a455981c664512acc423715dec3d7a4
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Sep 20 20:52:48 2010 +0300

    s4-dsdb-schema_prefixmap: return WERR_DS_NO_ATTRIBUTE_OR_VALUE when ATTID is not found
    
    rather than WERR_INTERNAL_ERROR - it is not internal error!

commit 395b09c1b6ac9df42202966d90b1a121712df418
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Sep 20 21:31:20 2010 +0300

    s4-dsdb-schema_prefixmap: Print debug message when internal failure occurs

commit 0740d0ae85870a6b392cb3ab6cbc3fb36ed3714c
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Sep 20 21:31:11 2010 +0300

    s4-devel-getncchanges: Add common Samba options as a group to be displayed
    
    Those options are processed but never shown with --help argument

commit d0a6c32add2e934174771750cdc1893f146d53cf
Author: Günther Deschner <gd@samba.org>
Date:   Fri Aug 27 00:07:25 2010 +0200

    s3-nmbd: move SYNC_DNS to nmbd.h
    
    Guenther

commit 102a70e809b262fca8ea09fbd4e2788511150006
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 26 17:21:39 2010 +0200

    s3-util: use shared dom_sid_dup.
    
    Guenther

commit 4dbd743e467096624961533335afccadc67af0e6
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 26 15:48:50 2010 +0200

    s3-util_sid: use shared dom_sid_compare_auth and dom_sid_equal_X functions.
    
    Guenther

commit 400616017974f057c8a2e817b62b90b1490d4129
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 26 16:41:15 2010 +0200

    libcli: add dom_sid_compare_domain()
    
    Guenther

commit 62544c5d2b9caab818ce82eb0b3877854a9719b6
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 26 14:07:20 2010 +0200

    s3-build: only include smbldap.h where needed.
    
    Guenther

commit 8e16d6dbdfdbfd42de32497d92f3fae32cd39ba4
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 26 10:14:07 2010 +0200

    s3-build: only include ctdbd_conn.h where needed.
    
    Guenther

commit c7fe04abc791dd1b3c5272a96fb5f26f6ce5c252
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 26 09:58:09 2010 +0200

    s3-build: only include async headers where needed.
    
    Guenther

commit 58c79b828baa15ba1619574c8277c455364676e8
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 20 13:53:09 2010 -0700

    s4-smbtorture: add NetRemoteTOD libnetapi torture test.
    
    Guenther

commit b3a3fe6ee034c8b5c032f6445338dcee305f760c
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 20 13:40:55 2010 -0700

    s3-waf: fix the build after registry changes.
    
    Guenther

commit dc192787955542510724541cf23b4d8ed4cc99d4
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Mon Sep 20 13:49:19 2010 +0930

    Really enable core dumps in Linux
    
    commit e1f1ce68e1f685400a8c68bcec14018e3d1fc29d
    Author: Rusty Russell <rusty@rustcorp.com.au>
    Date:   Mon Sep 20 13:33:30 2010 +0930
    
        source3: dump core on Linux, even after seteuid/etc.
    
        The "dumpable" flag is reset on every call to set*uid, so we need to
        reset it to 1 in the signal handler itself.
    
        This code dates back to commit ac01fda2b97b 6 years ago :(
    
        Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
    
    Signed-off-by: Jeremy Allison <jra@samba.org>

commit e4d7bc24d1a3e1d712c2fd9da160f837707ba6d3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 20 13:08:29 2010 -0700

    wafsamba: Fix parsing of IS_GIT_VERSION.

commit cd7335abd31e7c4a42d3fc108fa873645bf4c53c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 20 13:07:27 2010 -0700

    s4-mkrelease: Update to use waf build.

commit 0e8975a4fe52a15feb5e97a1b9bbc8717ecae74c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 20 13:06:13 2010 -0700

    Update version info.

commit b17b6f78218c57359aa351003aa1033665d93f36
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 20 12:11:05 2010 -0700

    Update WHATSNEW.txt.

commit 2c9cb11f53cb6454c0941028f6c4339244f2af93
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 19:32:28 2010 +0200

    s3:registry: move prototypes of unused hilvl functions to ret_api_util.h and comment them out

commit 8eb487cabac003911a49a4b5d3a9346fcb639430
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 19:30:58 2010 +0200

    s3:registry: move (commented out) hilvl util functions to reg_api_util.c

commit 0f7e503d21562a8c8aee3de609bdcade790bc7a0
Author: Michael Adam <obnox@samba.org>
Date:   Mon Sep 20 02:42:10 2010 +0200

    s3:registry: move higher level function reg_open_path to new module reg_api_util
    
    The reg_api.c code should just export functions that direclty relate to winreg
    api calls.

commit c9e17edfc6f9dc7f3ae251102dbb7bfcf08a770d
Author: Günther Deschner <gd@samba.org>
Date:   Sun Sep 19 22:35:26 2010 +0200

    s3-waf: add net.
    
    Guenther

commit 99d898938c7d656d852e4c91f7534e2cba99c5f8
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 20 09:47:21 2010 -0700

    s3-waf: add libnetapi

commit b4eba4268d87ab7436eb567c5a629445f81a8ecc
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Mon Sep 20 09:46:10 2010 -0700

    s4/dcdiag: Handle ListRoles command for dcdiag:KnowsOfRoleHolders test

commit 7250cb3e735fb1b96ebbbcd129e29283a26a508c
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Mon Sep 20 09:44:19 2010 -0700

    s4/fsmo: Create separate function for retrieving fsmo role dn and owner dn.
    
    This functionality is needed for DsCrackNames ListRoles command also.

commit faeeb5c8e7b3f2ed4e91db6dd11560658f16182d
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Mon Sep 20 09:41:00 2010 -0700

    s4/drs: use type enum drsuapi_DsNameFormat in DsCrackNames code

commit b55853cd64a5eeeedf1ffb9c09ba0749e3b17617
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Mon Sep 20 09:39:44 2010 -0700

    s4/drs: Added the rest of the enum drsuapi_DsNameFormat values
    
    According to documentation - [MS-DRSR] 4.1.4.1.2 and 4.1.4.1.3

commit f12756b5acac3fad4178f009865f8bcc5b6934a2
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 24 13:44:54 2009 +0200

    s4-smbtorture: add test_SetServiceObjectSecurity() to RPC-SVCCTL.
    
    Guenther

commit 1c82ca01c39e24251e59d7be44390baff998f329
Author: Björn Jacke <bj@sernet.de>
Date:   Sun Sep 19 22:57:23 2010 -0700

    s3/winbind: remove unused winbindd_check_cache_size

commit 1c8fd86a1dcffd0e829d218b7d3b689c24be8a64
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 6 15:13:48 2010 +0200

    s3: Fix the charset_pull routine (bug 7531)
    
    In the push routine we do the SVAL, so we should do the SSVAL here.

commit dbfb42c1b50e9372184ad170f10ba75b87565965
Author: Kai Blin <kai@samba.org>
Date:   Sun Sep 19 15:41:45 2010 -0700

    s3-waf: Build libwbclient as dynamic library

commit 34f47a33dffa429c6f8bc58c4d8b27a1152ad259
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 19 16:11:57 2010 -0700

    s4-rootdse: mark registered controls as non-critical
    
    this is needed for clients that may include unnecessary controls in
    requests and mark them as non-critical

commit c1a6820c85334da43ad47fcc1975a9b4c9577479
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 20 03:18:49 2010 +0200

    s3-waf: fix the file locations of gen_ndr'ed files.
    
    Guenther

commit ad8533c0b0cffa037f1395d586381d8db642e93a
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 20 03:10:43 2010 +0200

    s3-waf: fix the build after reg_api changes.
    
    Guenther

commit 91e8f8ded2f78bdd5b1db11562a575488a024322
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 20 02:10:43 2010 +0200

    s3-registry: move regf based reg_api calls into own file.
    
    Guenther

commit 323f729df07794da6b79db5e72b1389fb79b8bde
Author: Günther Deschner <gd@samba.org>
Date:   Mon Sep 20 01:51:54 2010 +0200

    s3-registry: add reg_querymultiplevalues to reg_api matching table.
    
    Guenther

commit 3f55c2ee7ac89f96e902b1f1b782e3e033e42f43
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 15:42:16 2010 +0200

    s3-waf: add rpcclient to the waf build.
    
    Guenther

commit 01371d968e09719e3034a919eddf3c90a48a71e4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 19 13:20:33 2010 -0700

    s4-rodc: override client site from cldap response

commit 8beed3679d09e0c89a081ef6b32536cf57419521
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 19 13:02:40 2010 -0700

    s4-dns: fixed the dns_domain_info_type for netlogon DNS calls
    
    w2k8r2 does check this field (WSPP docs need an update)

commit 6642ae9703e4ccb1fdfefa81a6da5b5fa52b53ad
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 19 13:02:05 2010 -0700

    s4-dns: added --all-names option to samba_dnsupdate
    
    this forces the re-registration of all names

commit 94694ecf4e3c8df4d3818d24916125f9e85ec6a9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 19 12:31:58 2010 -0700

    s4-libnet: use the right domain name in libnet_lookup

commit 1555659e7801c1f924dcd58d1c277dbe1191deb0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 19 12:31:33 2010 -0700

    s4-cldap: improved debug msgs in finddcs_cldap()

commit dfedbaeb055acb0d7abf74b9534308149a018ee4
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Sep 19 12:29:42 2010 -0700

    testtools: Import newer upstream revision.
    
    This fixes (among other things) a warning during 'make test' on systems with Python 2.6.

commit 1fc1be4685667f95e855fd2f781651c341e06fbd
Author: wilco@baanhofman.nl <wilco@baanhofman.nl>
Date:   Mon Aug 30 12:17:41 2010 +0200

    Fix regf.idl, subkey and rootkey types were switched.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 7efcb3ca66b12972de3707164c7bd415619a4bb8
Author: wilco@baanhofman.nl <wilco@baanhofman.nl>
Date:   Mon Jul 26 23:00:43 2010 +0200

    Fix file corruption (non-updated header) on new allocation.
    
    Also fixes debug messages to use hex offsets.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit d0cef92532f7c943e1c70d49ed96f090235b928e
Author: wilco@baanhofman.nl <wilco@baanhofman.nl>
Date:   Mon Jul 26 20:13:22 2010 +0200

    Fix crash when no subkeys exist. Fix writing outside of buffer error by regf backend.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 2c3f56098b0322db2e74e860a0f236fde9f74bbc
Author: wilco@baanhofman.nl <wilco@baanhofman.nl>
Date:   Mon Jul 26 12:32:32 2010 +0200

    Add python bindings for open_hive function to be able to load REGF files.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 5d807107bb675cedb4b42022a7a907ea1bdf13d0
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Sun Sep 19 10:48:31 2010 -0700

    s4/fsmo: Naming master support added
    
    Test suite for fsmo is extended with a test case for naming master too.

commit 55f465576c4602e74a6bc5c194adb27231c520f8
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 14 17:27:55 2010 +0200

    s4-smbtorture: add LOCAL-NDR-NTLMSSP.
    
    Guenther

commit f6fa73bbd38100529ae5b1a3133e78148e0f7268
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 18 20:57:26 2010 -0700

    s4-rodc: added RODC DNS update support to samba_dnsupdate
    
    for DNS updates that have a netlogon equivalent, send via netlogon

commit 50f56c6a82e7bd3742730a50b7d7c614482b9fec
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 18 20:22:44 2010 -0700

    s4-finddcs: added some debug messages on failure

commit e72a1e20557f212af03d32152f0cc11acee57814
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 18 20:22:23 2010 -0700

    s4-pydsdb: added am_rodc() method on samdb

commit 2666cc9c161d4a0f5083f546dbcf470d34b24499
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Sep 18 19:28:05 2010 -0700

    s4-pydsdb: don't force am_rodc unless it is set by caller
    
    we should normally get the rodc flag by looking at the database, not
    by forcing it in the database connect

commit 7a59c90189b3b129c4cf9826a45ac5678e66d95b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Sep 19 10:42:29 2010 -0700

    pytdb: Make filename argument optional.

commit 4c726556784643a3c5860ec716e30cc1c7b99ce1
Author: Kirill Smelkov <kirr@landau.phys.spbu.ru>
Date:   Sun Sep 19 13:53:29 2010 +0400

    pytdb: Add support for tdb_freelist_size()
    
    Cc: 597386@bugs.debian.org
    Signed-off-by: Kirill Smelkov <kirr@landau.phys.spbu.ru>
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit b3314d6ad8de732f563f095ea538c7b95c667d73
Author: Kirill Smelkov <kirr@landau.phys.spbu.ru>
Date:   Sun Sep 19 13:53:32 2010 +0400

    pytdb: Add support for tdb_transaction_prepare_commit()
    
    Cc: 597386@bugs.debian.org
    Signed-off-by: Kirill Smelkov <kirr@landau.phys.spbu.ru>
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit b826ef9697c4bd236b6d861712fa1e450157bc6f
Author: Kirill Smelkov <kirr@landau.phys.spbu.ru>
Date:   Sun Sep 19 09:34:33 2010 -0700

    pytdb: Add support for tdb_enable_seqnum, tdb_get_seqnum and tdb_increment_seqnum_nonblock
    
    Cc: 597386@bugs.debian.org
    Signed-off-by: Kirill Smelkov <kirr@landau.phys.spbu.ru>
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit a2621034e985c87f87f7b196b75da56ffe8948dc
Author: Kirill Smelkov <kirr@mns.spb.ru>
Date:   Sun Sep 19 13:53:19 2010 +0400

    pytdb: Update open flags to match those for tdb_open() in tdb.h
    
    Namely TDB_NOSYNC, TDB_SEQNUM, TDB_VOLATILE, TDB_ALLOW_NESTING and
    TDB_DISALLOW_NESTING were missing.
    
    Cc: 597386@bugs.debian.org
    Signed-off-by: Kirill Smelkov <kirr@mns.spb.ru>
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 277a1b229cf1b456560a50d021e2eaf2158e5134
Author: Kirill Smelkov <kirr@mns.spb.ru>
Date:   Sun Sep 19 13:53:21 2010 +0400

    pytdb: Fix repr segfault for internal db
    
    The problem was tdb->name is NULL for TDB_INTERNAL databases, and
    so it was crashing ...
    
        #0  0xb76944f3 in strlen () from /lib/i686/cmov/libc.so.6
        #1  0x0809862b in PyString_FromFormatV (format=0xb72b6a26 "Tdb('%s')", vargs=0xbfc26a94 "")
            at ../Objects/stringobject.c:211
        #2  0x08098888 in PyString_FromFormat (format=0xb72b6a26 "Tdb('%s')") at ../Objects/stringobject.c:358
        #3  0xb72b65f2 in tdb_object_repr (self=0xb759e060) at ./pytdb.c:439
    
    Cc: 597089@bugs.debian.org
    Signed-off-by: Kirill Smelkov <kirr@mns.spb.ru>
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit c4b1971259638875317aa991b6a119b668ac03a8
Author: Kirill Smelkov <kirr@mns.spb.ru>
Date:   Sun Sep 19 13:53:20 2010 +0400

    pytdb: Add support for tdb_add_flags() & tdb_remove_flags()
    
    Note, unlike tdb_open where flags is `int', tdb_{add,remove}_flags want
    flags as `unsigned', so instead of "i" I used "I" in PyArg_ParseTuple.
    
    Cc: 597386@bugs.debian.org
    Signed-off-by: Kirill Smelkov <kirr@mns.spb.ru>
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 92eccf89a188702b79d9f4ac59f2ff4c5c7aeaac
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Sep 18 18:45:41 2010 +0200

    waf: add a '+' to the git hash if the working tree isn't clean
    
    metze

commit a66db2cb7897fe0e40e9e520f75cccb14d3a1721
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Sep 19 07:26:54 2010 +0200

    waf: fix typos in GIT_COMMIT_* strings
    
    metze

commit 9e058c6e7292b628ca08bb34b5930d0f4a77ef27
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 17 13:17:12 2010 +0200

    s3-rpcclient: add some winreg commands.
    
    Guenther

commit 1d8094172c69ec8d64701b70a87ddf31b0d8f4f9
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 17 13:16:26 2010 +0200

    s3-nltest: add dsregdns command to nltest.
    
    Guenther

commit 8e73826b3c2323c6e81a285f49c6b9d606cb7a53
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 17 13:15:35 2010 +0200

    s3-libnetapi: support NETLOGON_CONTROL_FORCE_DNS_REG in I_NetLogonControl().
    
    Guenther

commit 47a7a5830c145dd12e200fa12fec41bc745046d3
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 17 13:14:50 2010 +0200

    libnetapi: deal with NULL data in I_NetLogonControl2().
    
    Guenther

commit 1473330bbe7c4f28ec00e69035386bf8fe11d9e7
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 18 09:31:32 2010 +0200

    s3: Add a missing prototype

commit 7fddf9c89e8ead26e6367195441f49bce5a6b3db
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 18 07:37:04 2010 -0700

    s3: Fix bug 7688, rpcclient command line completion crashing
    
    We've grown more than 100 rpcclient commands by now, so this would overwrite
    the array of 100 completions. There's nicer ways to fix this problem, but 1000
    rpcclient commands should be at least a bit away.

commit 252e8c27eb07eea7ec45e76a9256692db1019af4
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Sep 17 21:16:24 2010 +0200

    s3: Fix some nonempty blank lines

commit d76bb4ac409ff7f95776302bb436c7dec55adb26
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Sep 18 15:09:22 2010 +0300

    s4-drs: Check for schema changes only in case we are *not* applying Schema replica
    
    This fixes the problem when we fail to replicate with
    a partner DC that has a newer Schema with attributeSchema
    objects with OIDs that we don't have in our local prefixMap.

commit 1fac1f0d2882ae9ac81a02fa6d9957f6cb3fb88d
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Sep 18 02:28:29 2010 +0300

    werror: Add W_ERROR_HAVE_NO_MEMORY_AND_FREE() macro

commit c3489a7918758848953f00cee6a36519cd059daf
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Sep 18 00:44:17 2010 +0300

    s4-ldapcmp: Fix options parsing for common Samba options
    
    And also set 'creds2' to be equal to 'creds' in case
    username2 paramater is not supplied on cmd line

commit 78b6265ac2a79cdf0051b895ecebeb77ac3a372c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 7 21:24:07 2010 +0200

    s3:rpc_client: remove unused rpc_pipe_set_hnd_state()
    
    metze

commit fde3412ccb176448f6d3ee4538c7b8838f2fe214
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 7 20:52:58 2010 +0200

    s3:rpc_client: use rpc_api_pipe_send() for auth3
    
    metze

commit 6ecf8d16bc9f8da8acb6d24e5d224d6161a5497c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 7 20:51:38 2010 +0200

    s3:rpc_client: rpc_pipe_bind_step_one_done() doesn't need reply_pdu
    
    metze

commit de6254d3d6ffdd2a562ec9224a8390810c28c0dd
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 7 20:39:20 2010 +0200

    s3:rpc_client: allow DCERPC_PKT_AUTH3 via rpc_api_pipe_send/recv
    
    metze

commit 1a22b1b44df62931a35254d06d2fc638c996c5f7
Author: Björn Jacke <bj@sernet.de>
Date:   Fri Sep 17 14:05:53 2010 +0200

    lib/util: usec_time_diff takes arguments the other way round than TvalDiff did

commit 10eefd85c988503309021316f744ebb25579b873
Author: Björn Jacke <bj@sernet.de>
Date:   Fri Sep 17 13:47:05 2010 +0200

    s3: fix order of arguments in nsec_time_diff call

commit 311744a1312d4be51c0d50a71884f604ea2e3b99
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Sep 17 05:28:36 2010 +0300

    s4-test: Add unit test for dsdb_schema_info_cmp()

commit 9256b5f22677cc265b0560a15c0e0a719ba3138d
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Sep 17 02:54:46 2010 +0300

    s4-schema: Helper func to compare schemaInfo signitures

commit 1295da92f9a5272b73a0abcecb680f7c0d5bc854
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Sep 17 02:48:50 2010 +0300

    s4-schema: use dsdb_schema_info_blob_is_valid() to verify schemaInfo blob
    
    instead of parsing it.

commit aedefd3e99f36d11e49e6fbf51cb16ceffec13c4
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Sep 17 02:45:59 2010 +0300

    s4-prefixMap: use dsdb_schema_info_blob_is_valid() for schemaInfo blob validation
    
    This fixes a leaking dsdb_schema_info object also.

commit e691b1fd276bbf26961a23a5c450e96f16da5d4e
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Sep 17 02:37:46 2010 +0300

    s4-dsdb: Add dsdb_schema_info_blob_is_valid() to verify schemaInfo blobls

commit c79861a14e671ea037f550dbf5c2ae9e84fb3803
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Sep 16 02:17:34 2010 +0300

    s4-pyrpc: Print location and type name we got when checking for types

commit e2d6b64219b883363b4d1d92db27bf180c887d07
Author: Sumit Bose <sbose@redhat.com>
Date:   Fri Sep 17 10:33:08 2010 +0200

    Fix array size of  a memmber of struct cli_ulogoff_state
    
    The too small array makes UID-REGRESSION-FIX fail on 32bit
    architectures.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 90d685afe57e08ce7da575783c4d279e1be021f6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 17 17:06:29 2010 +1000

    s4-devel: developer script for adding DNS entries via netlogon RPC
    
    this calls the netlogon DsrUpdateReadOnlyServerDnsRecords call to add
    DNS entries for a RODC via RPC calls. The call is routed via a IRPC
    call to winbind, as winbind is the one with the schannel credential
    chaining setup.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit fb81cc080d40844010daae559e6be6a747c10ecd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 17 17:04:28 2010 +1000

    s4-pyrpc: allow python to access irpc interfaces
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 1c7c1a86ecf401f54b9462bb9d0946356ddb688d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 17 17:03:54 2010 +1000

    idl: build python interfaces for winbind and idmap IDL
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 39bd61e018d8495f9a7368d1656c6f52d422e6e3
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Sep 17 10:11:48 2010 +1000

    s4-winbind Add a proxy method to update DNS records with a read-write DC
    
    This must be done in winbindd as it already has the schannel connection
    and the credential chain.  If we re-established that elsewhere, we
    would break the chain in winbindd.
    
    Andrew Bartlett
    
    Signed-Off-By: Andrew Tridgell <tridge@samba.org>

commit b772f4cdffda7f7e1bd0a7951bec0304102606d2
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 17 10:06:16 2010 +0200

    testprogs: skip two tests in spoolss tester.
    
    Guenther

commit 6f5fa763c13f43cc805a9bd939c21970404deaec
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 17 10:02:13 2010 +0200

    s4-smbtorture: fix winreg querymultiplevalues NDR test warning.
    
    Guenther

commit 66ad6c75e9efbd9837c70a716b556520c0279597
Author: Björn Jacke <bj@sernet.de>
Date:   Thu Sep 16 22:18:45 2010 +0200

    ѕ3: remove smb_msleep prototype from here

commit 6bc68fabb81d019e017d7f51fdd0b275b3f78609
Author: Björn Jacke <bj@sernet.de>
Date:   Thu Sep 16 21:36:00 2010 +0200

    s3: remove TvalDiff macro, we can use the shared usec_time_diff function

commit 2b254c814b139f93997f61525d77b934596c53a3
Author: Björn Jacke <bj@sernet.de>
Date:   Thu Sep 16 21:36:37 2010 +0200

    s3/s4: merge msleep and smb_msleep
    
    the merged variant is renamed to smb_msleep as some platforms already have a
    msleep function.

commit 0fd16018a1c993166eae72390433398347538a81
Author: Björn Jacke <bj@sernet.de>
Date:   Thu Sep 16 19:45:43 2010 +0200

    s3: remove TspecDiff macro, we can use the shared nsec_time_diff function

commit aada7196940377ca6942eed470fc2e0e42f71b32
Author: Björn Jacke <bj@sernet.de>
Date:   Thu Sep 16 19:02:27 2010 +0200

    s3: use nsec_time_diff instead of TspecDiff

commit ec643df212e521fc19119820b1e4fac15986bf28
Author: Björn Jacke <bj@sernet.de>
Date:   Thu Sep 16 18:52:45 2010 +0200

    s3/vfs_scannedonly: use smb_msleep instead of nanosleep
    
    Thanks to Joachim Schmitz. This fixes bug #7478

commit 0858b7546eebf9e853e4e7288b50edbcdcdc5826
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Sep 16 09:31:10 2010 +0200

    s3: Add the PAC info3 struct to the netsamlogon_cache in ntlm_auth

commit 547b268cfaa2e791bf92e8804bfa504c4e37050b
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Sep 16 10:34:59 2010 +0200

    s3: Correctly unwrap the krb ticket in gss-spnego

commit 70ab7eb5303a5ff058939541dd5bc1f81113a48e
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Sep 16 10:22:00 2010 +0200

    s3: Fall back to raw NTLMSSP for the gss-spnego protocol
    
    This is to handle the mod_auth_ntlm_winbind protocol
    sending "Negotiate" to IE, which sends raw NTLMSSP
    instead of a SPNEGO wrapped NTLMSSP blob.

commit de2c143f4d540f695db5c7fe8685614c03977365
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Sep 16 10:21:20 2010 +0200

    s3: Split off output generation from manage_squid_ntlmssp_request

commit ae483bbe9af526623189cefe7735f3f2813da6d7
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Sep 16 10:36:21 2010 +0200

    s3: Wrap the ntlm_auth loop with a talloc_stackframe

commit 0730d982e68bacbb89584ee8297c6e275955b7c4
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 16 18:41:37 2010 +0200

    s4-smbtorture: add NDR spoolss_GetPrinterDriver2 in and out check functions.
    
    Guenther

commit 809094a2c8224f725adcd1faff42c1de3f3eccad
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 16 16:49:54 2010 +0200

    s4-smbtorture: finally enable most of our NDR_OUT NDR tests that we couldnt handle previously.
    
    Guenther

commit c29b16faa87dab686c8d36abc009c7d92d28a6b2
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 16 16:21:39 2010 +0200

    s4-smbtorture: add functions to do NDR_OUT ndr_pull validation including NDR_IN context.
    
    Guenther

commit 5f9caf18dbba8b6ddb2779bcec4836b605b5fa1e
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 16 16:25:51 2010 +0200

    s4-smbtorture: fix some indentation in NDR testsuite.
    
    Guenther

commit 725126b1723438ba8b6f9dd41eac8730856da41e
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 16 16:22:32 2010 +0200

    s3-smbtorture: fixup trailing whitespace in ndr testsuite.
    
    Guenther

commit 567a2e68d67608fca6c040393bd55b8699a5c3e2
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 16 14:42:22 2010 +0200

    s4-smbtorture: add spoolss_GetPrinterDriver2 NDR tests.
    
    Guenther

commit 1250a6343560705423bcf5c9a25f6448e251e526
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 16 14:41:37 2010 +0200

    s4-smbtorture: mention -v switch for hexdump imports into the NDR testsuites.
    
    Guenther

commit dfe25088ba8b1e6fdaf49ef88d2da07fd8f1d950
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 16 14:31:53 2010 +0200

    s4-smbtorture: activate spoolss_GetPrinterData NDR pull test.
    
    Guenther

commit 43d54406b19a8041633eb26d7a809e3fd7de3ef6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 21:17:54 2010 +1000

    s4-winbind: fixed two valgrind errors
    
    - allocate the dc info on the right structure
    - zero the number of group members when allocating the winbindd_gr
      return
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit b04b8b5610f23cd50c9a7a00eeca81229acd36d5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 20:12:20 2010 +1000

    wbclient: gr_mem can be NULL
    
    if the structure was partly created and an error occurred, then don't
    crash
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit a16328449171c1138bce3a9f32b7c1fa211e58d2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 20:11:47 2010 +1000

    wbclient: paranoid check for double free
    
    added while tracking down a crash in the wbinfo blackbox test
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit ff515ff4772a555facce75eead91ceff271713f5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 20:06:44 2010 +1000

    tdb: added TDB_NO_FSYNC env variable
    
    this might help reduce test times and load on test machines

commit a394a8104eb2cebdcda44510c6ed86b6f773a06d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Sep 16 17:53:36 2010 +1000

    torture/raw Allow one more 'not implemented' status return as a valid response
    
    The Samba4 server responds to most ioctl calls with NT_STATUS_NOT_SUPPORTED
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 4083b8ac6ca9c107e50503f41b66077fb65eb2d9
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Sep 16 15:47:42 2010 +1000

    s4-torture assert that we get a temp datagram socket.
    
    I've seen a segfault because we failed to check this isn't NULL
    before we use it.  This will still of course fail, but not so
    spectacularly.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 6832d5e9334f93d2b41fa50580379a2381311748
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Sep 16 14:37:20 2010 +1000

    libcli/auth/ntlmssp Be clear about talloc parents for session keys
    
    The previous API was not clear as to who owned the returned session key.
    This fixes a valgrind-found use-after-free in the NTLMSSP key derivation code,
    and avoids making allocations - we steal and zero instead.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit d5a4e53ad8dd572b9469530dfcd37601e2905a88
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 17:20:08 2010 +1000

    s4-kdc: prevent segfault on bad trust strings
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit dc59de562774a1ee09e3c819c3523e66da975f24
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 17:05:58 2010 +1000

    s4-netlogon: added IDL for netr_DsrUpdateReadOnlyServerDnsRecords
    
    this is used by a RODC to do DNS updates, as TSIG updates are not
    allowed by RODCs
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 5958997a9bc44876c6f3b810689f52e5e3bd6ded
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 17:04:53 2010 +1000

    s4-rpcserver: allow saving of bad RPC packets
    
    use:
    	dcesrv:stubs directory = .
    
    to save files like this:
    
      RPC-netlogon-48-pullfail.dat
    
    when a RPC packet can't be parsed or is unknown. Only enabled in
    developer builds
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 83a24ff2efd48b0e192024798695f6cfec9000b5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 16:57:21 2010 +1000

    pidl: prevent ndr_print_*() dying on NULL pointers
    
    when using ndrdump you can get uninitialised structures containing
    pointers. Don't segfault when trying to print them

commit 14340a45bef921db19581258838ec2371d4d21e9
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 30 13:22:57 2010 +0200

    idl: Added EPMAPPER_STATUS_CANT_PERFORM_OP.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 7e729c4f6a374f5fa1e348404e370dbf122a5a0b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 14:13:48 2010 +1000

    s4-dns: use a non-forwardable ticket in samba_dnsupdate
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 89827af5250a0e65e19ee3752cfe407a6e01856f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 14:13:29 2010 +1000

    s4-kerberos: obey the credentials setting for forwardable tickets
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit efb37a5b8c3667c948e1ec9815a1c9ac575a4456
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 14:12:57 2010 +1000

    s4-pycredentials: expose forwardable setting via python
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 6a82997285db9aff0085e6a54e58a34a97152ebb
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 14:12:37 2010 +1000

    s4-credentials: added ability to control forwardable attribute on krb5 tickets
    
    with the latest bind9 nsupdate, we need to be able to control if the
    ticket we use is forwardable
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 377ffcb0292505bfcdc6fbcfdc379614364cc868
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 13:02:43 2010 +1000

    s4-drs: make debugging DsUpdateRefs a bit easier

commit e5cd023a41ce4b8a51bbace4da395a7f0843d212
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 13:02:23 2010 +1000

    s4-drs: initial skeleton for DrsReplica{Add,Del,Mod} calls

commit 4cf53c6d0b8b418adf39b6dd81d44c7b6d587e0c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 13:00:20 2010 +1000

    s4-drs: removed a debug print in repl secret

commit f95e6a32e430dba459f01a9400bebdf78549abae
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 10:58:03 2010 +1000

    s4-test: enable valgrind on wbinfo tests

commit eeafe1eb65b92c4a1cfafbadd71c991c9c2be50e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 16 07:38:14 2010 +1000

    s4-pydrs: fix for python 2.4
    
    thanks to Kamen and David Gonzalez for spotting this

commit 32976e2eaacdd9dbbe773cc9aace7e3def40fb36
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 16 00:02:14 2010 +0000

    s3: Add convenience make target buildfarm-test.

commit bad0041390da289f6cfad3a44f702998291edd8c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Sep 16 00:01:51 2010 +0000

    s3-selftest: Move Samba3-specific script to source3/selftest.

commit cd56e40117c542fd90362abe8130f7f8d8ee02e3
Author: Björn Jacke <bj@sernet.de>
Date:   Thu Sep 16 00:57:39 2010 +0200

    s3/printing: avoid a possible race condition in the cache timeout

commit 447d96878a8b5a335447c37eca2a46b7133caa78
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Sep 15 15:40:15 2010 -0700

    Fix all sid_parse returns to be checked. Tidy up some checks and error
    messages.
    
    Jeremy.

commit db8cfda320d0e2453d01cdae884fd8aa108bcda7
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 16 00:19:51 2010 +0200

    s3-smbd: prevent call_nt_transact_ioctl() crash in FSCTL_FIND_FILES_BY_SID case.
    
    Jeremy, please check.
    
    Guenther

commit fe59119e06d334a06052b4aac71679488f581383
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 15 23:02:43 2010 +0200

    s4-smbtorture: try FSCTL_FIND_FILES_BY_SID with random blob data in RAW-IOCTL.
    
    Guenther

commit 3b87e3e95179c527a7fce7e5ed6cb1d33345a2ff
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 20:54:09 2010 +1000

    s4-repl: if we are an RODC don't set WRIT_REP in replication
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 05ec123b3b159dade51980f3c4bf8662502bb38e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 20:24:50 2010 +1000

    s4-repl: add partial attribute set to getncchanges calls for RODCs
    
    when we are a RODC we must supply a partial attribute set in the
    getncchanges call
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 520252c8d2b7465d592a05ee68bd466e71330a1f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 20:23:47 2010 +1000

    s4-repl: added min_usn to extended replication call
    
    the repl_secret code needs to set it to avoid too many duplicate
    attributes
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 1da147e6fa485800d2988168889071d97e393fa3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 19:00:01 2010 +1000

    s4-repl: added repl_secret handling
    
    initiate a repl secret extended op when requested
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit d5673b5501225e295bae2a5c0084cf3ce5582dca
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 18:59:17 2010 +1000

    s4-repl: cleanup the extended op calls in repl server
    
    - use generic parameter names
    - trigger a run of pending ops on all extended ops
    - don't prevent parallel fsmo transfers
    - moved extended op code into drepl_extended

commit aabd89d8f7d80d614c941111d7a049f9f35b943b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 18:52:11 2010 +1000

    s4-pyjoin: use new pynet finddc interface
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 2edbf74f35a49e5793ee2621061856e1167b41a0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 18:51:09 2010 +1000

    s4-pynet: return the full netlogon response from python finddc
    
    this gives the caller the other server parameters
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit e18c0030e065a70f7291eb269112e9f04d5788dc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 18:50:09 2010 +1000

    s4-pyjoin: fill in the dns name in the python replication method
    
    this is needed to get the repsFrom DNS entry right
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit e2b6d171d427f9899be8a1bb6781fd09c0094385
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 18:49:34 2010 +1000

    s4-drs: get lpcfg_dnsdomain() instead of lpcfg_realm()
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit e5ac820b9ea8416537b65faaf43fdc45924a66b1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 18:49:06 2010 +1000

    s4-pyrpc: added py_return_ndr_struct()
    
    This can be used to return structures from other python interfaces as
    python objects
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit f89f3cf30fad625d03de600b85e542791125c8f5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 16:19:26 2010 +1000

    s4-repl: split out the extended op handling
    
    this is not part of the rid allocation logic
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 54b53704747f45757642c9d4a17645ac777dc9ea
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 16:15:12 2010 +1000

    s4-repl: cleanup getncchanges extended op calls
    
    Multiple calls are allowed to run in parallel as long as they don't
    conflict.
    
    This also cleans up the variable names in the extended op calls.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 7f1db0d8df6c5b68c9eb9a2d578ce79a43ce0719
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 15 16:45:37 2010 +0300

    s4-drs: Wait DsReplicaSync for as long as it takes to complete
    
    In case the caller wants sync execution, we should
    not cancel the call for internal timeout reason,
    but rather wait for its execution

commit 7b20b795ab024fda4e159852b60d829f7ae793c7
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 15 16:53:48 2010 +0300

    s4-irpc: Don't install endtime-timer in case timeout is INFINITE for the call

commit ee169d73479a5e8672d56617f2ad9cfac254f8bf
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 15 16:41:47 2010 +0300

    s4-irpc: Add 'timeout' param for dcesrv_irpc_forward_rpc_call() call
    
    It is to be used when caller wants to explicitly
    specify the timeout for the call

commit 839ed051fc4fe62b9b2ce008898b538509769f88
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 15 14:22:27 2010 +0300

    s4-irpc: Add value for "infinite" timeout for IRPC calls

commit aa7df7b7379cc437515774d0ea91fb106aba5dc8
Author: Björn Jacke <bj@sernet.de>
Date:   Wed Sep 15 18:23:50 2010 +0200

    s3/printing: make clock jump save and use monotonic time for cache timeout

commit adf8ca6ff8c6dbc365034a27f8d27a15aa533f97
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 15 20:05:51 2010 +0200

    subunit: Re-add outputmsg.

commit 627de92521cb20c5387656946bcbf5ecf3be5332
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Sep 15 10:50:50 2010 -0700

    Add check for invalid data size.
    
    Jeremy.

commit 6400f3ee62108e3dd1e6c1013ccea9fb4b08d562
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 15 10:29:44 2010 +0200

    s3: Fix some debug msgs in ntlm_auth

commit 301b60acc00b12a409a37f6cc17315f25fa49f86
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Sep 14 21:10:27 2010 +0200

    Fix a typo

commit e7f21fa9418aaaee81ddf16f444ba318f7c2b03e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 21:50:36 2010 +1000

    s4-rpcserver: set unbind method to NULL in remote server
    
    this prevents a possible crash on disconnect

commit 9a7d1b1e970f522a1fea655918116b6a8eb50521
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 15 14:34:50 2010 +0200

    s3-docs: more typos in rpc_server manpage.
    
    Guenther

commit 2d1cf2671f347ac688eb295a1d063a908ef59aa1
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 15 14:31:39 2010 +0200

    s3-waf: fix the build.
    
    ... this starts to get like "re-run make idl"...
    
    Guenther

commit effbebcec152e7cb306c2ea32aeedae5e3c5ff6b
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 15 14:16:45 2010 +0200

    s3-docs: fix rpc_server manpage type.
    
    Guenther

commit 33d05a85e52dbe349f632fcfbeeb90e5fa9dff5f
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 15 13:24:44 2010 +0200

    s3-rpc_server: fix some uninitalized variables and c++ build warnings.
    
    Guenther

commit 480c97b5b1bbfce220f21250cb707034bd3e5109
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 15 13:18:27 2010 +0200

    s3-printing: fix print_spool_terminate().
    
    Simo, Andreas, please check.
    
    Guenther

commit ccb7fdc52b7edf6fd6486731c3db6bc673bc48cd
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Tue Sep 14 18:07:09 2010 +0300

    s4/fsmo: Extended fsmo test with infrastructure, pdc and rid roles

commit 2eeba94c9cca41f72d6b95cb8eda585e33e21745
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Wed Sep 15 10:17:55 2010 +0300

    s4/fsmo: Handle infrastructure, pdc and rid extended ops
    
    With this change we can transfer all roles back and forward, except
    for the naming master. Also this commit fixes the naming of
    fsmo_role_dn - used to point to the DN from which we read fSMORoleOwner
    role_owner_dn - used to point to the NTDSDSA who owns the role
    Now we always pass fsmo_role_dn, role_owner_dn to the extended operation
    and to drepl_create_role_owner_source_dsa
    
    Conflicts:
    
    	source4/dsdb/repl/drepl_ridalloc.c

commit 46087219357b13cf7c440ee6f4d536ff537bbd2d
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Tue Sep 14 17:59:32 2010 +0300

    s4/fsmo: Remove empty new lines

commit db46b2bdb04174b90508605911fa0325fb22fd7f
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 6 15:29:32 2010 -0400

    s3-winbindd: Use rpc_open_pipe_interface in winbindd.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit e580c6d88f4f124e06562fe56c1d9437d1205658
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Sep 15 11:38:53 2010 +0200

    s3-rpc_server: Use talloc_stackframe.

commit 8ec7aaef48c3d9a6b1f07602c5410b5524099d36
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 7 15:24:30 2010 -0400

    s3-rpc_server: Moved ncacn_np declarations in common header file.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 390642a9e6d1b0d1aacbe17b48c4f3695ee1d80d
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 7 15:24:00 2010 -0400

    s3-rpc_server: Moved "external" pipe functions to rpc_ncacn_np.c.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 34225c93af154fc205be7bf14edd609d39bbdb9c
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Sep 14 13:37:46 2010 +0200

    s3-rpc_server: Added new parametric option 'rpc_server'
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 738c843e99b780e8b4457eef8c4f94d23e08c754
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 6 13:03:35 2010 -0400

    s3-rpc_server: Renamed rpc_ncacn_np_internal.c.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 5685914344d21e5fdac98c367b3dd1eba555f227
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 6 11:33:15 2010 -0400

    s3-rpc_server: Convert rpc_connect_spoolss_pipe into a generic interface.
    
    This way we have one common way to open internal pipes whether they
    are shortcircuited or piped to an external process.

commit 344260d03e9a50bce051e180df75f696e2478228
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jun 22 18:03:55 2010 -0400

    s3-rpc_server: Added support for internal connections to external daemons.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit e7c4555b7caf379af38403fe497eea58415b51ed
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jun 18 10:56:58 2010 -0400

    s3-rpc_server: Accept connections and process requests.
    
    Signed-off-by: Andreas Schneider <asn@cynapses.org>

commit f7f9916dc78d2fb31f65a5186ce68a66fd707cd7
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jun 18 10:55:44 2010 -0400

    s3-rpc_server: Added helper functions to read data from a ncacn socket.
    
    Signed-off-by: Andreas Schneider <asn@cynapses.org>

commit 7b1748d959d42ae69cfd2936cbc4fafd76046f02
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jun 22 18:01:45 2010 -0400

    s3-rpc_client: Added a tstream based transport.
    
    Signed-off-by: Andreas Schneider <asn@cynapses.org>

commit a1f1da722633f0e52b85ee4bf3420b6c70b9907b
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jun 18 10:40:19 2010 -0400

    s3-rpc_server: Addded function to create custom pipes_struct.
    
    Signed-off-by: Andreas Schneider <asn@cynapses.org>

commit b1fdc5a70457979d8aea6574ae135d83efd7628a
Author: Simo Sorce <ssorce@redhat.com>
Date:   Thu May 20 09:16:29 2010 -0400

    s3-rpc_server: Add generic listener callback.
    
    Signed-off-by: Andreas Schneider <asn@cynapses.org>

commit 3c26e95840454f8a311df037d90663abbda5854c
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jun 18 11:00:38 2010 -0400

    s3-rpc_server: Added initial generic RPC server infrastructure.
    
    Signed-off-by: Andreas Schneider <asn@cynapses.org>

commit 11721874c3bc47fe7612cae611fbe321f683df6f
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jun 16 09:03:37 2010 -0400

    s3-rpc_server: Added debug to see how much data has been read out.
    
    Signed-off-by: Andreas Schneider <asn@cynapses.org>

commit 5ccd7a56fa07426c19905d080d6202d7335b4847
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jun 14 21:11:10 2010 -0400

    s3-rpc_server: Make process_incoming_data() public.
    
    Signed-off-by: Andreas Schneider <asn@cynapses.org>

commit 2ef693e3c83fa0ce298ef8b592d7d4c4ec3dd845
Author: Simo Sorce <ssorce@redhat.com>
Date:   Mon Jun 7 15:18:31 2010 -0400

    s3-rpc_server: Make pipe destructor public.
    
    Signed-off-by: Andreas Schneider <asn@cynapses.org>

commit 3f04b54197ba7dadd9831d7b5d1f57cf9d0b4014
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jun 22 18:03:17 2010 -0400

    s3-rpc_server: Fixed unhandled error condition.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 94d86a22a1ecfb74ccaa4ce441c33186544a69c8
Author: Simo Sorce <ssorce@redhat.com>
Date:   Thu May 20 08:39:10 2010 -0400

    s3-misc: Introduce lp_ncalrpc_dir() in S3, like we have in S4.

commit 65bd8f881db3315c1369835fe6cfc2f27a04ae15
Author: Andreas Schneider <asn@cynapses.org>
Date:   Mon Sep 13 11:29:31 2010 +0200

    s3-printing: Document the printer list functions.

commit 25a2d94974c7befd13f90e52b61e297c31ae52e9
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 14 15:49:29 2010 -0400

    s3-printing: Add method to skip refresh if just happned.
    
    This way if multiple process try to refresh at the same time we don't do it
    over and over again.
    
    Signed-off-by: Andreas Schneider <asn@cynapses.org>

commit 7022554915a0dc7522151eb2a9a21317372471b9
Author: Simo Sorce <ssorce@redhat.com>
Date:   Thu May 13 18:42:55 2010 -0400

    s3-printing: Use printer list tdb in pcap.
    
    Signed-off-by: Andreas Schneider <asn@cynapses.org>

commit d2a027ea941a963de2ff2ee569440a408e883869
Author: Simo Sorce <ssorce@redhat.com>
Date:   Thu May 13 11:35:59 2010 -0400

    s3-printing: Added a printer list database.
    
    Signed-off-by: Andreas Schneider <asn@cynapses.org>

commit c35629cbb2e5f7c6743c8c15e0b3bb424e611931
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 10 09:56:36 2010 +0200

    s3-nltest: add dsgetdc command.
    
    Guenther

commit bbdbb0cbcc3de9a3188b77c2d34cf46a33bbe980
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 15 10:11:38 2010 +0200

    s3-libnetapi: try using netr_DsRGetDCNameEx() in DsGetDcName().
    
    Guenther

commit 3fe966d28003f8a09a29c9a9051672e0e066e7b6
Author: Günther Deschner <gd@samba.org>
Date:   Sat Sep 11 01:23:01 2010 +0200

    s3-libnetapi: add DS request flags to public header.
    
    Guenther

commit 26672e228a6eb327f5810ee1b6adb8b4bb39d5ec
Author: Günther Deschner <gd@samba.org>
Date:   Sat Sep 11 01:19:07 2010 +0200

    s3-libnetapi: add DS_X_FLAGs to public header.
    
    Guenther

commit 45d772e0e616186cd8b45c81d7c775e07ab0d7ae
Author: Günther Deschner <gd@samba.org>
Date:   Sat Sep 11 01:18:04 2010 +0200

    libnetapi: add DOMAIN_CONTROLLER_INFO_FLAGS.
    
    Guenther

commit 5901e81acff9b6da965782276e457069bf2be55d
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 14 17:39:45 2010 +0200

    s3-nltest: convert server input argument into --server.
    
    Guenther

commit a609c03956843b11d335b7f3b0f8d5a330588711
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 10 09:56:02 2010 +0200

    s3-nltest: rename print_result to print_netlogon_info_result.
    
    Guenther

commit 2d23ddb68d20a7e10297841ff7a550c03a8c6b74
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 14 23:58:10 2010 +0200

    s3-build: only link in prs parser where needed.
    
    Guenther

commit f7051250eab1bb3336b3159e3b9a077a0e046263
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 15 08:22:37 2010 +0200

    s3-waf: only link in prs parser where needed.
    
    Guenther

commit 5a0bb2234e86c6718c9dbfd7a087ab7c1b7f6bb4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 14:24:51 2010 +1000

    cldap: prevent crashes when freeing cldap socket
    
    As a callback may destroy the cldap socket we need to ensure we don't
    reference the cldap structure after the callback
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit ea223baabc599415bf8da14a53cb77632343bc82
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 13:14:42 2010 +1000

    s4-server: check the return of irpc_binding_handle_by_name
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit beb9c6be70bcbd04c087c8352cf480e4f869448f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 12:22:48 2010 +1000

    s4-finddcs: ensure we free previous cldap requests before starting a new one

commit fcf576f002cc2b6dc7e3ecc3533572adcfcb1ffe
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 12:16:00 2010 +1000

    s4-selftest: enable logging in valgrind server xterm
    
    when running with valgrind on the server, enable logging in the xterm
    so you get a permanent record of any errors

commit a498ab90fbad872c36900a86fe7ccada64c3c4a7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 11:23:15 2010 +1000

    s4-rpc: fixed double free in RPC proxy
    
    the unbind method is only called when the dcesrv_connection_context is
    being destroyed (its called from the destructor). That means that priv
    is either already free, or is about to be freed, so don't free it
    again

commit 0212800de8c6367c9da7939fc43a1fa23c7da2bf
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 11:21:43 2010 +1000

    tsocket: we return -1 on error, not fd
    
    the code used this pattent:
    
     if (fd < 0) {
       ...various cleanups...
       return fd;
     }
    
    it is much clearer to do this:
    
     if (fd < 0) {
       ...various cleanups...
       return -1;
     }
    
    as otherwise when reading the code you think this function may return
    a fd.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 0009d1771a757c1df152693840991ecc57564f34
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 09:53:49 2010 +1000

    s4-libnet: print the domain name on domain open failure
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit c18e9566ea62fb1a3cb46ca6ce703e32e24cf550
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 09:53:29 2010 +1000

    s4-libnet: force IDL printing for high debug levels
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 66460c946ac8b4dadb00cb10cfa14a642a206871
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 09:52:56 2010 +1000

    s4-resolve: the file backend should not look at the name type
    
    this matches the behaviour of our DNS resolver
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 6012f311159ddf0ee45dd954eb0808463e406356
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 09:20:59 2010 +1000

    s4-finddcs: show required server type bits on failure
    
    when we skip a DC because it doesn't have the required server type
    bits, show what bits we wanted
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 6c45eeb94430d9312c28e6f28da3c9d1db8156cc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 09:20:14 2010 +1000

    s4-repl: use consistent API calls for getting DN GUID
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 52ae57850006abeb5d2ca90deeebf83a989ccf01
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Sep 15 09:19:47 2010 +1000

    s4-netlogon: fixed logic for setting DS_SERVER_WRITABLE
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 59d415f43f72146b15a721e928cf346777239bfc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 14 20:10:51 2010 +1000

    s4-finddc: use NBT lookup for a 1C name if joining a short domain name
    
    once we get the 1C lookup reply, use a CLDAP query to find the details
    for the server
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 99f514f233fb1b3dcdd19cd2cc9ca9130ea841c8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 14 18:28:44 2010 +1000

    s4-selftest: use the full domain name in joins
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 4e9f449106bb31cad87b7985837b2181c1df3558
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 14 18:28:27 2010 +1000

    s4-join: give a clear error when using short domain form
    
    we now require the full domain name, for the DNS/CLDAP lookup
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 011978eb1baf16c622ffcfcaf9944a217d95fadf
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 14 18:22:13 2010 +1000

    s4-rodc: use python finddc code to avoid the need for --server
    
    The DC is now found via DNS/CLDAP
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 2e92484c60f55b967dcd3c698e6553c2eed4a4ea
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 14 18:21:38 2010 +1000

    s4-pynet: added finddc call
    
    this gives access to the CLDAP/DNS finddc code from python
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 58d59a08ad3620c980cac47ece3a3f900d2eb336
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 14 17:48:52 2010 +1000

    s4-libcli: change finddcs.h -> finddc.h
    
    this prevents conflicts with old generated files and we can only even
    return one DC with this interface.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 7f029aad350d64efa8aef0ec1432d077ea3426b2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 14 17:37:01 2010 +1000

    s4-finddcs: rename finddcs to finddcs_nbt
    
    finddcs_nbt is currently unused, but will later be a fallback is a
    cldap DC find fails.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit ee61568be6bcb217d106c08ec915775c8476ed56
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 14 17:36:23 2010 +1000

    s4-winbind: use finddcs_cldap() in winbind
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 0c447e316f17e64becaf70c91006b90de21887df
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 14 17:34:55 2010 +1000

    s4-libnet: use finddcs_cldap() in libnet_lookup
    
    this may later be changed to do fallback to NBT as well, but for now
    cldap is sufficient
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit fede78f29d15bb718186122f136cc25f0557773f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 14 15:48:19 2010 +1000

    s4-cldap: don't set the writable bit when we are a RODC
    
    when we are a RODC, don't respond with the writable bit in the server
    type response of netlogon requests
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 898674cb1ca5b071653acfe3bcfeac895fffc6c8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 14 15:46:31 2010 +1000

    s4-finddcs: added finddcs_cldap()
    
    this finds DCs with a specified set of server_type bit using SRV
    lookups and CLDAP
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 5bbfe2b42fd065e34bf20a24cb235863ad41fddc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 14 13:12:00 2010 +1000

    s4-secrets: fixed shadowed variable warning
    
    we already have a 'v' in scope

commit 4ff452151a1d253b44cccfce034873c260ff414c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 14 07:49:12 2010 +1000

    cldap: use ipv4 not up for unbound cldap sockets
    
    If we use "ip" we end up with a PF_INET6 socket which breaks sendto()
    for v4 addresses.

commit dbc9b185afa2fe59f73526b081ef6acff7d61aaa
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 13 23:08:28 2010 +1000

    s4-resolve: added resolve_name_multiple_recv()
    
    this allows for multiple replies to a SRV lookup
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit fa7fd4f261955753edfa3a415dcbf1f206200504
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 13 23:07:44 2010 +1000

    s4-dns: fixed lookup of SRV records using dns_ex
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit ce2004d631bb7eb0aa838f07ef48465a6f199d22
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 13 23:07:10 2010 +1000

    s4: fixed some printf format errors

commit 041c699f3ae10d189405b93977e3143813fb4525
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 13 16:37:10 2010 +1000

    s4-libnet: converted finddcs call to tevent_req
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 94fb6120d80d05de0f24ea71a93c761517fd4231
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 13 12:15:52 2010 +1000

    s4-secrets: fetch secure channel type with domain SID
    
    The secure channel type is needed to work out what DC to connect to
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit bd51d30809180b64c5c6fc98c2bd79040b93051c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 13 11:38:12 2010 +1000

    s4-auth: when we are a DC enable winbind auth
    
    As a RODC we need to forward some auth requests to a writable DC
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 67ac8555b1e80aed07e420bca63e5c133c63fb5e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 13 11:36:43 2010 +1000

    s4-auth: set the RODC bit for RODC schannel
    
    When we are using SEC_CHAN_RODC we need to set the
    NETLOGON_NEG_RODC_PASSTHROUGH bit in the negotiated flags in
    ServerAuthenticate2
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 52445e1583580e135da9e85c93608d0909dea8a7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 13 07:44:06 2010 +1000

    s4-schannel: fixed reference to context after free
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 5b02cf1eb0b2e524cb58ec6ed6e766c252b06af9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Sep 13 07:41:56 2010 +1000

    s4-auth: allow multiple active auth backends
    
    when we are an RODC we need to be able to allow multiple auth backends
    to process a single auth request. First the sam backend will try to
    authenticate, using locally stored passwords. If this backend can't
    find local passwords then it will try the winbind backend and
    authenticate via a writeable DC
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 890a33c99bc0a468984c456647311db0a19528aa
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 12 22:24:46 2010 +1000

    s4-smb: serialise session setup operations
    
    the mixture of async and sync code in gensec makes a EOF on a socket
    during a session setup cause a crash. The simplest solution is to
    stop processing events on the socket until the session setup is
    complete.

commit ba2c394ed479bb121b7b20ddd724e92d71ac1518
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 12 22:17:01 2010 +1000

    talloc: fixed spelling errors in comment

commit 13a8745cae2b38c8071b182a4c020305c76e62b8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 12 10:06:39 2010 +1000

    s4-rodc: add a trigger message for REPL_SECRET to auth_sam
    
    when an RODC tries to authenticate against an account and the account
    has no password information it needs to send a message to the drepl
    server to tell it to try and replicate the secret information from
    a writeable DC
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit f6d85be52830d17dbf6e7b01bf854a49dccbc7f8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Sep 12 10:02:02 2010 +1000

    s4-messaging: add support for no_reply in irpc messages
    
    It can be useful for a irpc message to be one-way, where the client
    sends a messages and the server does not reply. This will be used for
    things like a triger message from an auth context to the drepl server
    to tell it to try a REPL_SECRET on a user in a RODC.
    
    Previously we've used raw messaging for messages that have no reply,
    but that doesn't allow us to use messages described by IDL
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit b9393e48963bb0e800383d5fdf6888b472d44fb2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 10 20:18:11 2010 +1000

    s4-kcc: removed redundent loop check
    
    el has already been checked for NULL

commit 2fbf10ea1b1a52b1d01651d2f9ae4983013f1abd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 10 20:17:39 2010 +1000

    s4-smb: smbsrv_blob_push_string() can return -1
    
    need to use ssize_t, not size_t for error handling

commit a17da707858baac78d5938313d935572520fabf1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 10 20:16:29 2010 +1000

    s4-dsdb: check for invalid backend type

commit 3e88f3cf339e49aedfaf949646df1e4b217435f4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 10 20:16:14 2010 +1000

    s4-rootdse: setup length after NULL check

commit d00cb8b3d311a694369e3a9a627ab7d6bc534c4b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 10 20:15:51 2010 +1000

    s4-dsdb: fixed use after free for RODC

commit 597372df34ba48b96e5c9cad4d552ce1b932b66e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 10 20:15:27 2010 +1000

    s4-dsdb: free right context on failure
    
    down_req is not initialised yet

commit cbd8297b4dcf9446e30b752d977e15ba440dff70
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 10 20:15:00 2010 +1000

    s4-dsdb: defer ac->msg after check for NULL ac

commit 5a4a11cb98460dfab0517636a1434e0a96009c4e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 10 20:14:29 2010 +1000

    s4-anr: check for allocation failure before use

commit ba726b5580a7e946eb02631b0a03f9b2d2164a9b
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Sep 14 18:20:08 2010 +0200

    s4: Fix two typos

commit eeb24afd78a6448e808aaf96dbd7d5abf51bbd40
Author: Pierre Carrier <pcarrier@redhat.com>
Date:   Tue Sep 14 16:43:39 2010 -0700

    Allows changing the maximum number of simultaneous clients in winbindd through an smb.conf option.
    
    Signed-off-by: Jeremy Allison <jra@samba.org>

commit 0b270f014f67b8ff49b70fb41b2cceac121f337e
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Sep 14 14:53:17 2010 -0700

    Ensure incoming timespec values correctly wrap at nsecs.
    
    Jeremy.

commit 55b315094ef8a8ed691f9717c28cab301e17ef25
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Sep 14 14:45:45 2010 -0700

    Fix string_to_sid() to allow non '\0' termination of the string - allows
    string_to_sid() to be used in formatted strings like FOO/S-1-5-XXXX-YYYY/BAR.
    
    Jeremy.

commit 15abd86d54c582edfec29dfd55c256b6565da569
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 4 14:13:31 2010 +1000

    s3-torture Add tests to show that the dom_sid parsing was faulty.
    
    Andrew Bartlett

commit 1892df6ca803aed94e91cbd7a12ca1b8470dfc89
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 4 14:11:46 2010 +1000

    s3-util_sid Use the NDR parser to parse struct dom_sid
    
    The manual parser failed to constrain the maximum number of
    sub-authorities to 15, allowing an overflow of the array.
    
    Andrew Bartlett

commit 46f585e364fc1640cf01ba0c738c6c5559f0b4fd
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 4 14:10:31 2010 +1000

    libcli/security Use sid_append_rid() in dom_sid_append_rid()
    
    This ensures that the maximum number of sub-authorities is respected,
    otherwise we may run off the end of the array.
    
    Andrew Bartlett

commit 51ecf796549287b7f10092778ffb52e018ae32fe
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 4 14:09:17 2010 +1000

    libcli/security Merge source3/ string_to_sid() to common code
    
    The source3 code repsects the limit of a maximum of 15 subauths,
    while the source4 code does not, creating a security issue as
    we parse string-form SIDs from clients.
    
    Andrew Bartlett

commit 72a8ea4d1545190bad85ee9f2216499e78b3625a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 4 14:05:59 2010 +1000

    s3-util_sid use ARRAY_SIZE() to ensure we never overflow the dom_sid
    
    This ensures that this, unlike the MAXSUBAUTHS macro, can't get
    out of sync with the structure.
    
    Andrew Bartlett

commit 9d44688681bc196baf1bccbdf84092ffc0510bb7
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 4 14:05:30 2010 +1000

    s3-util_sid Accept S-1-5 as a SID

commit ce1e273a47105fcef71d054c0192b7985fd5b4f2
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 4 14:04:55 2010 +1000

    s3-dom_sid Use C99 types in dom_sid handling
    
    Andrew Bartlett

commit 4e8d6a779c9aa9b9418b4f835d831ad4492c3f6c
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Sep 14 22:40:51 2010 +0200

    s3/profile: remove the magical clock initialization from the profile code
    
    there's no point in not profiling times if no monotonic clock is found -
    monotonic and realtime clock are equally fast. Just use clock_gettime_mono
    instead.

commit 5f6a145800a9e67c638f3ee05e43bb12fafffb48
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Sep 14 22:17:47 2010 +0200

    s3/profiling: don't use CLOCK_PROCESS_CPUTIME_ID
    
    that clock is a CPU burnometer but we need a chronometer for profiling.

commit 9c00fb4aa68ac7b044e954906e5ed20e039373a3
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Sep 14 14:08:44 2010 +0200

    libreplace: use CLOCK_HIGHRES when available
    
    in Solaris 8 CLOCK_HIGHRES was the (only) name for CLOCK_MONOTONIC

commit 33da33c59e431f6f097bdd143fb48db465607669
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 14 17:57:23 2010 +0200

    ntlmssp: when pushing an ntlmssp NEGOTIATE_MESSAGE deal with NULL strings.
    
    Guenther

commit 48976ac4978e3a0ff419755e1f77f60345480663
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 14 15:15:43 2010 +0200

    rpc_server: Remove unnecessary dependency on server modules, build
    system will take care of that.

commit 8209198998270e6374c0d7da2598c20dd9c4d8b3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 14 15:00:50 2010 +0200

    waf: work around circular dependency finder erroneously removing dependency of gensec on dcerpc.

commit d286b1755cc95c24acf51324638311de93f86819
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 14 14:41:42 2010 +0200

    selftest: Error out rather than die() when setting up an environment
    fails.

commit d98754ca93bae4740a84118dc4e33e07b4d16e09
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 14 14:36:56 2010 +0200

    selftest: If setting up environment fails, mark testsuites that use it as
    errorring, don't skip it.

commit 73edd661eaec3b1f0d8705d545160ff4a2d97948
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 14 15:23:45 2010 +0200

    s4-smbtorture: try to fix spoolss winreg Form tests on bigendian machines.
    
    Guenther

commit 4c3e6a59af9c58c8140a2f9498a9e150f09eee10
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Sep 14 13:10:05 2010 +0200

    tdb: add ABI/tdb-1.2.4.sigs
    
    metze

commit 3db545ece4c48e7b14e9d9835bcc894253f627d1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 14 12:48:57 2010 +0200

    nss_winbind: Fix soname.

commit dcadb90bd3d678e45fa84c2899ec23bf604bffa8
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 14 03:47:04 2010 +0200

    subunit: Use RemoteError when passing errors to upstream subunit.

commit 8e328c4e329221011a2f018c5c050dc6b642db70
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 14 02:36:51 2010 +0200

    param: Add prototype for lpcfg_private_dir(), used by openchange.

commit 1e5ea0be8461ebde4fc52fedeebb0628e1eaf44d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 14 00:22:55 2010 +0200

    subunit.pm: Fold Subunit::Filter into Subunit, trim further.

commit c0923cfac1a15efddaadfb851d0eab93eba31ef3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 14 00:09:46 2010 +0200

    subunit.pm: Remove output_msg/control_msg functions.

commit 7d4968e161d5868b65dd5d8ef5bb0e391109c0b5
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Sep 14 00:04:54 2010 +0200

    selftest: Remove testsuite parsing.

commit d3960f6b406272cc37820fad04aed6ddfd4e6cce
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 13 23:56:26 2010 +0200

    subunit.pm: Simplify subunit handling in perl.

commit 49411fa1079fc78cba4751d57a3c76096fc1b772
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 13 23:22:35 2010 +0200

    subunit.pm: Pass through milliseconds in time reports.

commit 9f3a43c0182b8b13b2f4ff615b5aca816f4f05b3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 13 23:07:41 2010 +0200

    selftest: Report times in milliseconds rather than seconds.

commit d67eeafc4de2bd5a90b7865a2910b03d6c5c1fca
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 13 22:29:38 2010 +0200

    subunit: Use standard subunit functions for reproducing subunit streams.

commit d2fb9ce472909c9e481d7d81d699460c882480a9
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 13 22:13:15 2010 +0200

    subunit: Remove unused methods.

commit b61cc18972616f33397745e20150613928e683a2
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 13 22:09:46 2010 +0200

    subunit: Use standard functions for addSuccess, addExpectedFail,
    addFailure, addSkip.

commit c1fe7b498a680a4f9d94e3633e6d9c566fb61fe4
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 13 21:55:22 2010 +0200

    subunit: Use standard addError method implementation.

commit 881f610f06fc644bbbd146d939be5cd1adc19a73
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 13 21:42:32 2010 +0200

    subunit: Pass TestCase objects to startTest rather than test name strings.

commit 1626dc2bc95ef1c17221ba1a6404a72e21fcfc5b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 13 21:31:08 2010 +0200

    subunit: Use subunit standard functions for handling time and progress.

commit fb1c96665201a8090bcf14db7a71a752e4cd7041
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 13 21:17:05 2010 +0200

    subunit: Use standard subunit test protocol client, use standard name for startTest.

commit 8530d5afdee8fbc4d87398839d37c503dc05410d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 13 20:53:54 2010 +0200

    subunit: Initial work on using the standard TestResult class.

commit 4c45e291a77ba300d88ca7a9f3fb3153b6e4b3dc
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 14 08:38:30 2010 +0200

    s3-waf: fix the build after privilege code changes.
    
    Guenther

commit 9271570516087e006cf167895d51550a4ee858ab
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Sep 14 00:02:01 2010 +0200

    s3: Remove some unnecessary if-statements

commit b3fccd10a63058f982082887cefd77af633f516c
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Sep 13 16:54:21 2010 -0700

    Fix bug 7409 - Thousands of reduce_name: couldn't get realpath.
    
    Don't log this at level 1 - every EACCES will generate one.
    Thanks to muehlfeld@medizinische-genetik.de for pointing this out.
    
    Jeremy.

commit 69db4b4ccf051b05517e6eb9039ab48f90608075
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 13 18:09:20 2010 +0200

    ntlm_auth: Fix a valgrind error

commit 6e720ecd259742d274d6281088c5052070c955e6
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Sep 13 22:41:06 2010 +0200

    s4:SID handling - always encode the SID using "ldap_encode_ndr_dom_sid" for LDAP filters
    
    This makes also lookups through special backends as "samba3sam" work.

commit a4b7fac86d6f348d785409555849449527e22e58
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Sep 13 22:39:50 2010 +0200

    s4:cosmetic - the SID attribute is called objectSid - not objectSID

commit 0a19290ca7cb5531d71e65a37fd11276330b2a12
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Sep 13 21:18:13 2010 +0200

    testdata/samba3/provision_samba3sam.ldif - update also here the maximum domain controller functionality
    
    And we do support also LDAPv2.

commit f1b21bee16258a85ab9a12a6a56a1cedda0955e1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Sep 13 20:40:19 2010 +0200

    param: Only include param_proto.h for Samba builds, provide those
    prototypes necessary for external users (OpenChange) manually.

commit 95a0b6830f00c8949b2d8eee73db38d238275262
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 13 11:56:48 2010 +0200

    s3: Fix a typo

commit e03f8ded0198ff80dc001f3461eb0384e52f9f5b
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 13 11:44:19 2010 +0200

    s3: Fix a typo (authentictaion->authentication)

commit 4dcd5ac4424d6003d73a1cac36e2543eba98ae94
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 13 11:31:58 2010 +0200

    s3: Do not directly log off after a pam_logon

commit 2ef4acb2bd67b1b5d483e859705e445c6e01e4cd
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 13 11:31:26 2010 +0200

    s3: Fix wbinfo arg for --pam-logon

commit 8768f627dc2c6994e551ed15c204b6f26d496dd7
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 13 11:08:40 2010 +0200

    ntlm_check: Fix some nonempty blank lines

commit d10b2c07be2cfdca09f07d3045ce891989d83a09
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 10 04:47:32 2010 +0200

    lib/tdb: change version to 1.2.4 after hash checking improvments
    
    lib/tdb: change version to 1.2.4 after hash checking improvments
    
    metze
    
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>

commit 786b7263000dedcb97e7369402e2e9dc967e36c4
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Mon Sep 13 20:05:59 2010 +0930

    tdb: put example hashes into header, so we notice incorrect hash_fn.
    
    This is Stefan Metzmacher <metze@samba.org>'s patch with minor changes:
    1) Use the TDB_MAGIC constant so both hashes aren't of strings.
    2) Check the hash in tdb_check (paranoia, really).
    3) Additional check in the (unlikely!) case where both examples hash to 0.
    4) Cosmetic changes to var names and complaint message.
    
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>

commit f77708e96268d18abbfb038f4e78fe9e11a2856f
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Mon Sep 13 19:59:18 2010 +0930

    tdb: fix tdb_check() on other-endian tdbs.
    
    We must not endian-convert the magic string, just the rest.
    
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>

commit 82e5644c9dbf5c2e4b0c4183372e0a79203d32a5
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Mon Sep 13 19:58:23 2010 +0930

    tdb: fix tdb_check() on read-only TDBs to actually work.
    
    Commit bc1c82ea137 "Fix tdb_check() to work with read-only tdb databases."
    claimed to do this, but tdb_lockall_read() fails on read-only databases.
    
    Also make sure we can still do tdb_check() inside a transaction (weird,
    but we previously allowed it so don't break the API).
    
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>

commit 9e0deff904877068d19b41e965732f145c2554b9
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Mon Sep 13 19:55:26 2010 +0930

    tdb: make check more robust against recovery failures.
    
    We can end up with dead areas when we die during transaction commit;
    tdb_check() fails on such a (valid) database.
    
    This is particularly noticable now we no longer truncate on recovery;
    if the recovery area was at the end of the file we used to remove it
    that way.
    
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>

commit fe958c009be224be91e9ed4cdafe5330735d0a38
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Sep 13 10:38:08 2010 +0200

    Revert "s4:samldb LDB module - simplify the message handling on add and modify operations"
    
    This reverts commit 1d94bb3ad4d9c6de3b77ed4690a54ebf2399cc0d.
    
    This commit causes unconditional behaviour (sometimes it works, sometimes not) -sorry for introducing this.
    
    I will rework this further.

commit 123712840f99e633ea8eb2a6491dec8767316aa4
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 22:26:10 2010 +0200

    s4:samldb LDB module - remove a disastrous "talloc_free"
    
    This completely destroys the program logic (async callbacks). Sorry for
    introducing this.

commit 0939ba4488c4c4e59ae10ed0b99b3e237c7f9a84
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 22:24:42 2010 +0200

    Revert "s4:util_samr.c - also here we've now the default primaryGroupID detection working"
    
    This reverts commit 7e9e35db4126f953e8a2579d992c63b274011119.
    
    Sorry, the logic is working differently here. We do still need this.

commit eaa55b41239eadd302d983879217a0f391ea701b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 22:10:06 2010 +0200

    s4:torture/rpc/samr.c - fix typos in outputs

commit 7e9e35db4126f953e8a2579d992c63b274011119
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 21:19:27 2010 +0200

    s4:util_samr.c - also here we've now the default primaryGroupID detection working

commit 4a2941535d8a34c533ddbadccd4df9aec4539639
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 19:11:26 2010 +0200

    s4:ldap.py - tests the primary group detection by the "userAccountControl"

commit 4fd8ce42ce429111d70d078c1e12bc20dec0af05
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 18:39:50 2010 +0200

    s4:setup/provision_self_join.ldif - now the samldb LDB module detects automatically that this is a DC account

commit 7f424155e62d04d23bb1c825ecd546eed18725e0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 18:26:06 2010 +0200

    s4:samldb LDB module - "samldb_check_primaryGroupID" - support RID derivation from "userAccountControl"
    
    Specified in MS-SAMR 3.1.1.8.1 and probably fixes also bug #7441.

commit 1e52e72e409a3a5b52e4f75b985122ac94d8aa4a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 18:00:21 2010 +0200

    libds:flag_mapping.c - introduce a call which maps the "userAccountControl" to the default primary group RID

commit 2fb111f7313ddd3bf5f4eee0a54284b201100605
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 17:49:47 2010 +0200

    libds:flag_mapping.c - fix counter variable types

commit 22d42432acb158a7b0ebb4faee3aebd53a494efd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 15:05:19 2010 +0200

    s4:samldb LDB module - free the "ac" context after the delete checks

commit 1d94bb3ad4d9c6de3b77ed4690a54ebf2399cc0d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 14:38:11 2010 +0200

    s4:samldb LDB module - simplify the message handling on add and modify operations
    
    We perform always only one shallow copy operation of the message on the "req"
    context. This allows to free the "ac" context when we've prepared all our
    changes.

commit 79f22e5d700c5ffb6c0f0d64ad701558aa53bf57
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 14:41:53 2010 +0200

    s4:samldb LDB module - move "samldb_prim_group_users_check" more down to see that it is only in use by the delete operation
    
    add and modify helpers will stay on the top of the add and modify operation
    since they will likely be shared as much as possible.

commit bb1da645ed1005b5e77dd3e013af93b0f027d51e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 14:40:17 2010 +0200

    s4:samldb LDB module - add a comment to mark the beginning of the extended operation handler

commit dad7cdad2261b8b860a67ecfdcb027ff9a7985db
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 13:14:36 2010 +0200

    s4:samldb LDB module - refactor "samldb_find_for_defaultObjectCategory" to be again synchronous
    
    Also to make it easier to comprehend

commit 6aca09b0b723d0116c0038e4e43a13a77b68deca
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 12:54:31 2010 +0200

    s4:samldb LDB module - refactor the "primaryGroupID" check on user creation
    
    This looks more straight-forward now.

commit e1de425cb8734fb7be1e17cfb22ebd95d9b4df9a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 12:53:37 2010 +0200

    s4:samldb LDB module - get rid of the SID context variable
    
    Since we get more and more rid of async stuff we don't need this in the context
    anymore.

commit 79a98b893aa098b3ed822647e2cdb1d471f4901b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 12:31:41 2010 +0200

    s4:samldb LDB module - use also here the real attribute denomination "sAMAccountName"
    
    Purely cosmetic - but nicer to read

commit 0eb281d8f210200025aecb478f818b659ad5b546
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 12:29:21 2010 +0200

    s4:samldb LDB module - rename "check_SamAccountType" into "check_sAMAccountType"
    
    And a small cosmetic change.
    I like to have the real attribute names in the function denominations

commit 4ef9760db170bf2ec2aa277426d07c345dd7848b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 12:25:55 2010 +0200

    s4:samldb LDB module - make "samldb_check_sAMAccountName" synchronous again
    
    To make it more understandable

commit 64af772b38ca4109a4bd47e228b602f1f74e61bc
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Sep 12 15:05:46 2010 +0200

    s4:fsmo.py - fix an obvious typo

commit adfa071c5a10521a7fe6a55735358ce27a777dc4
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Sep 11 18:24:54 2010 +0200

    s3: Remove a nesting level in winbindd_dual_pam_chauthtok

commit 6bd6fdcd7275511f542ec4c640028a6c088a4d8a
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Mar 9 15:39:56 2010 +0300

    s4:unittest: Test wbinfo --group-info and --gid-info
    
    Signed-off-by: Matthias Dieter Wallnöfer <mdw@samba.org>

commit 8a0db43ad8d84c195fd6cd716ec92f9b47ab4649
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 11 19:13:13 2010 +0200

    test_wbinfo.c - count more possible failures

commit 1ddd63bddb902c82d52c1516b2649c610ae87db4
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 11 17:44:43 2010 +0200

    ldb:tools/cmdline.c - reorganise imports

commit b5d872704cc1074203b570f3965d67b8a9d177f5
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 11 18:01:57 2010 +0200

    s4:param/secrets.c - reorganise imports

commit 7e710c4de92c310897817acc06d229cce763d2d7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 11 17:53:32 2010 +0200

    s4:rpc_server/common/common.h - introduce two forward declarations to suppress parameter declaration warnings
    
    Always Tru64 in file "param/loadparm.c" and possibly others.

commit 5f98d31fc086e57507acb6e46095a1329f0e5f3b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 11 17:43:44 2010 +0200

    ldb:tools/cmdline.c - make a counter unsigned where appropriate

commit c0a863b6f35315a748fa3bb4ae4e4e7c48ad2102
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 11 17:41:38 2010 +0200

    s4:ldb_register_samba_handlers - fix up and convert result codes to LDB/LDAP results

commit ea3f21dff6c28dc26a3cf9223da84ff4c545b22c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 11 16:50:47 2010 +0200

    lib/replace/wscript:Tru64 build - Better use version 600 for _XOPEN_SOURCE
    
    This means we request the "Single UNIX Specification, Version 3" with C99
    compatibility as the Python 2.5 release on the system. This prevents
    redefinitions with different values.
    
    > [ 451/1918] Compiling scripting/python/pyglue.c
    > cc: Warning: /usr/local/include/python2.5/pyconfig.h, line 951: The redefinition of the macro "_XOPEN_SOURCE" conflicts with a current definition because the replacement lists differ.  The redefinition is now in effect. (macroredef)
    > #define _XOPEN_SOURCE 600
    > ----------------------^
    > cc: Warning: default/source4/include/config.h, line 54: The redefinition of the macro "_XOPEN_SOURCE" conflicts with a current definition because the replacement lists differ.  The redefinition is now in effect. (macroredef)
    > #define _XOPEN_SOURCE 500
    > ----------------------^

commit 83cd3f76307edcba7df2fbbde54a029ce5b4e9f8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 11 14:02:11 2010 +0200

    s4:dcesrv_samr_GetGroupsForUser - also universal group memberships are returned here
    
    Tested using User Manager for Domains against Windows Server 2008.
    MS-SAMR 3.1.5.9.1 is wrong in this case therefore I've informed the dochelp team.

commit e84ab1b35fc6d1b1fbb4c02102be96db3e08cb83
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 11 20:38:15 2010 +1000

    s4-privs Fix enum privileges in LSARPC server
    
    We were returning the index, not the LUID value
    
    Andrew Bartlett

commit 07cf3ba5c46bf43de7b1ce3278203e357bed19dd
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 11 20:38:02 2010 +1000

    s3-auth Fix typo in comment

commit 6d6158617ce55426e7753d37cb96bd4705ee1054
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Jul 19 15:43:25 2010 +1000

    nss-waf: use the right winbind pipe path
    
    s4 uses a different location for the winbind pipe to s3

commit a82fe6f4729b138e81a00cdd4204361f35864ef6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Jul 19 15:42:42 2010 +1000

    winbind-waf: the installed name is libnss_winbind.so.2
    
    the .2 is what libc adds to the name for this version of the nss API

commit e13ed6fc789d27daf5326a81b42469da3d54de01
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 1 19:12:29 2010 +1000

    s4:gensec Put the "NTLM" string for NTLMSSP's SASL name in a header

commit 2921a888dce74e8592ad4f7d51d92b8fa6d44711
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 11 13:40:48 2010 +1000

    s4-param: removed the lp_ varients of the functions
    
    these made debugging much harder. We should replace these with
    generated macros

commit 2a93814592f8177da38a6459bd447fab8575f4e3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 11 13:36:48 2010 +1000

    s4-param: move back to auto-generation of loadparm prototypes

commit 837230f85e12e72186dacfb97fe2dbf8a37d28f0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Jul 28 17:30:09 2010 +1000

    s4-credentials: get all attributes in cli_credentials_set_secrets()
    
    This ensures we get whenChanged, which is needed by the s3 winbind
    code to ensure we don't repeatedly try to change the password

commit bc6a3a2e3f783b8a7dd87e72c55443fbfde12c00
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 11 19:42:17 2010 +1000

    security.idl Clarify that this is not a network structure

commit b9b93b845cc7fd20d6d2acafd8958b9d87bfd8db
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 11 12:53:21 2010 +0200

    libcli/auth/schannel_state_tdb.c - fix includes
    
    Otherwise we get a "declared inside parameter list" warning.

commit 2442d256368daa11b55ca61578a73620653736df
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 11 12:15:20 2010 +0200

    lib/replace:wscript - additional attempt to fix the build on Tru64
    
    Obviously we really need both definitions ("socklen_t" has been found by
    "_XOPEN_SOURCE"=500). But now FIONREAD wasn't accessible.

commit a02a2c3557928e507d1220303d9a3f79e8c46bb1
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 11 17:00:10 2010 +1000

    libcli/security Use talloc_zero when making a struct security_token

commit fdcadb5c3c2e3de1e2d1755653a9d02ccb548db8
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 11 16:59:53 2010 +1000

    libcli/privileges Fix comment

commit 0eea8ecfe262e515011e7637c5a574f23923f169
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 11 16:58:45 2010 +1000

    s4-privs Seperate rights and privileges
    
    These are related, but slightly different concepts.  The biggest difference
    is that rights are not enumerated as a system-wide list.
    
    This moves the rights to security.idl due to dependencies.
    
    Andrew Bartlett

commit 3b4db34011f06fb785153fa9070fb1da9d8f5c78
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 11 16:13:33 2010 +1000

    s3-krb5 Fix Kerberos on FreeBSD with Samba4 DCs
    
    The idea of this patch is: Don't support a mix of different kerberos
    features.
    
    Either we should prepare a GSSAPI (8003) checksum and mark the request as
    such, or we should use the old behaviour (a normal kerberos checksum of 0 data).
    
    Sending the GSSAPI checksum data, but without marking it as GSSAPI broke
    Samba4, and seems well outside the expected behaviour, even if Windows accepts it.
    
    Andrew Bartlett

commit ee943fb2bfc1fe7bad924aea9096c246bef6d60b
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 4 09:32:21 2010 +1000

    libcli/security Remove unused SE_NONE define
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit eb6a0cc3268beabc09218b965d79083e80fb0464
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 4 09:23:12 2010 +1000

    libcli/security Move 'private' privileges functions to another header
    
    These functions work on the bitmap, and are only exposed because
    the source3/ privileges storage uses the bitmap in account_policy.tdb
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit b733d9dee0624d80ed965bd231995026218de5a4
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 4 09:18:05 2010 +1000

    s3-samr Explian better the use of two privileges in this call
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 6d2b1ef71d5e0b61559c99d58857ce533a036044
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 4 09:16:23 2010 +1000

    libcli/security Remove 'always true' return from se_priv_put_all_privileges
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit aefe60da8c6a5e48d807fa2e64d332b67fae25b8
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 4 08:37:21 2010 +1000

    s3-util_sid Tidy up global struct security_token
    
    This no longer needs to be global, and should be const.  We now also
    init it with the C99 style initialisers.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit da9bca62825f838ac57d7a56dc8b0e9b5de181c8
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 4 07:02:38 2010 +1000

    s4-rpc_server Put all 'logon failure' messages at the same debug level 4
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit eb84c7ac908ad68443496c70775f16ce5d30310a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Sep 4 07:01:38 2010 +1000

    libcli/auth Failure to find the cached session key for SCHANNEL isn't level 0
    
    This happens all the time, particularly now that we don't keep the
    db around after a reboot.  Don't scare the admins with the level 0.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit e3edd7ca3ad73ff81a6ffddfeae208b930766e86
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Sep 3 20:30:50 2010 +1000

    s3-privs Add const
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 4bf09967a40814619199a1ec6c7424612a767071
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Sep 3 20:30:16 2010 +1000

    s3-privs Remove extra pointer on privilege mask
    
    Now that this is a scalar, this isn't required.
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 86fdb4c152d40ce862dea0ca7b5790df4b168289
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Sep 3 16:33:41 2010 +1000

    s3-privileges: add handling of both old and new formats in database
    
    We update privileges on a per-record basis instead of all at once, as
    this maintains maximum compatibility is someone uses old tools with a
    new version of Samba. The also auto-detects the byte order of the old
    entries in the database, and copes with either native or reversed byte
    order.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 45aecc283398a061f185ebc5577fcb4de0b89262
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 2 14:15:13 2010 +1000

    s4-lsa: privilege IDs should use the enum, not an int
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 382e2b321b6b79cfd0db59ae2c506fcd750a3df6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 2 14:14:51 2010 +1000

    privileges: privilege luids are not all below 64
    
    the ones brought across from s3 have higher values
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit a32cdadb7cbff255b5a0133a3bb54352d0d42f61
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Aug 31 09:28:51 2010 +1000

    libcli/security Make sec_privilege_from_index() return SEC_PRIV_INVALID on failure
    
    This is clearer and more consistent than using a magic -1 return
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 0b41ef789575e5194e9b499cf5fe0df4616f1bb8
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Aug 31 09:20:39 2010 +1000

    libcli/security Remove unused declarations from privileges.h
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 96e59faa623ffa1faa50ecf7974c5ff00c9b6399
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 16:29:05 2010 +1000

    s3-privs Remove unused function
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 9883993b66826d2f692ebdd3c928f4f7a0cddc7d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 15:38:18 2010 +1000

    s3-privs Overhaul PRIVILEGE_SET handling, avoid dealing with the bitmap
    
    This avoids us dealing with the privilege bitmap in the LSA server, and
    overhauls much of the rest of the handling to be currnet with the modern
    world of talloc.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit ad5ec58a714aba1f6c0894ca4e7207f1c5072949
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 15:27:40 2010 +1000

    s3-privs Hide the bitmap-based grant_privilege and revoke_privilege
    
    The new wrappers avoid anything but the core privileges code
    dealing with the bitmap values directly.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 4080ff7af5eec946a01c52f8d9ba01f1ef81fe71
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 14:17:02 2010 +1000

    s3-privs Make privilege_enum_sids() take an LUID, not a bitmap
    
    This moves one more privileges call away from direct bitmap manipuation.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 71832a404e5028c1c3933351c608a99e4fc80e42
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 14:16:36 2010 +1000

    libcli/security Expose sec_privilege_mask()
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 6d78e11e17b80bc932e5f4fb1ff6b27909f405d0
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 14:00:50 2010 +1000

    libcli/security make sec_privilege_id() return SEC_PRIV_INVALID on failure.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 8ff6bc2350894924ad362e0f058a24de3e459270
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 13:33:19 2010 +1000

    libcli/security Remove unused functions and constants.
    
    All the callers to these functions have been removed or reworked.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 62e5900cd13f6daf77ab65f70245fe21ac5fd053
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 13:30:38 2010 +1000

    s3-privs Rework access_check_object() to take two privileges
    
    This allows the privileges bitmap to be used only when setting
    privileges, and uses an the LUID constant for all 'does this user
    have this privilege' operations.
    
    The advantage is that we now only need one API to determine if a
    token has a privilege, and much less code needs to know what type
    is used for the underlying bitmap.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit a53a42ffb88fd6b758b8cacf492bceeb93da09c1
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 13:28:19 2010 +1000

    libcli/security Rename all privilege bitmaps constants
    
    The idea here to to make it very clear how they differ from the
    enumerated LUID values.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit e0cbc68c0a29bc036949adb7be5e140edd07a3b2
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 13:24:43 2010 +1000

    s3-privs Rework privilege enumeration to also use new DB format
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 2bb7b827d60424aaccd12bd811d4a42de72f0185
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 13:17:48 2010 +1000

    libcli/security Remove luid_to_se_priv() and luid_to_privilege_name()
    
    These functions duplicate other functions in the merged code.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit ed6b4ddd71ebdcdbdea7949ecbef11f409766534
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 13:14:40 2010 +1000

    s3-privs Directly manipulate the privileges bitmap.
    
    There is no longer any reason to go via the se_ functions to
    manipulate this bitmap.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 92efe9a86aae64d85323a9fcf6d20fd3f85bc22c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 13:09:29 2010 +1000

    libcli/security Add an invalid LUID privilege value
    
    This helps code that may not want to specify any privilege
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit aab0b557b9577d2ef8bed7a0674b702ea94c0d4a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 13:06:18 2010 +1000

    libcli/security Improve dump of privileges:  Just walk the table
    
    This removes some logic recently added that was just too smart - it
    is easier to just walk the table and do a bit match here.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 3bb77516b841def60e08e50bafc37517dd9d3ae0
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 13:04:27 2010 +1000

    s3-privs Convert from user_has_privileges() -> security_token_has_privilege()
    
    This new call is available in the merged privileges code, and
    takes an enum as the parameter, rather than a bitmask.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit b057867de3fbb423ef6afb9b7038ab99c83124d8
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 12:59:38 2010 +1000

    s3-privs Remove a pointer from grant_privilege()
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 0e2142a9275b567a3c6a8f90e95240d9e686ec27
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 12:50:49 2010 +1000

    s3-privs Remove pointer indirection from se_priv_to_privilege_set()
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 2387e3bcfeb4c2e54342a8fff4b157e9ba68024b
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 12:47:29 2010 +1000

    s3-privs Call security_token_set_privilege() rather than manual assignment
    
    This avoids as much direct modifiction of the bitmask as possible.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit a02ae674dd6ffaa8ebc4017af6a644162c59a00d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Aug 30 12:44:08 2010 +1000

    s3-privs Remove a pointer indirection from revoke_privilege()
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit cbd72ab93bc35aa71a55b190cd999dda4106be07
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 12:19:09 2010 +1000

    libcli/security Don't export privs[] as a global variable
    
    Instead, provide access functions for the LSA and net sam callers
    for the information they need.
    
    They still only enumerate the first 8 privileges that have traditionally
    been exposed.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 33ce8633d6a5e5cc54209c92397025114f0a46ea
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 12:12:10 2010 +1000

    s3-lsa Use sec_privilege_id() to lookup name to LUID
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 3c93d1ecbf563f46c4aa5fe9f0c5f3ee053f702d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 11:56:37 2010 +1000

    libcli/security Merge privilege lists from source3 and source4
    
    The LSA enumeration in source3 will not show the new privileges,
    but otherwise, they are now in common, and can be set by name.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit d2e41105e2caab83251d54c3fde72971038dd5df
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 11:52:51 2010 +1000

    libcli/security Return number of entries in the old source3 list
    
    This ensures there isn't a behaviour change when the source3 list is combined
    with the longer source4 list.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit eb8e3155dee3e4258a603da61a9e7822503cd8dd
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 11:27:57 2010 +1000

    libcli/privileges Simplify get_privilege_luid() to return just the enum
    
    As Samba only deals with the lower 32 bits of the LUID, just return those
    and let the LSA layer deal with the upper 0 bits.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit cdda15c062369d94bc468dce7b541ea505d664e5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 11:26:20 2010 +1000

    libcli/security Don't memcpy a uint64_t value, just assign it.
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 780de03f009d9583541f6bbc6932b0c1b142231b
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 10:52:38 2010 +1000

    libcli/security Use ARRAY_SIZE() consistantly.
    
    This avoids the use of SE_END, and has all callers walking the
    array using the same termination condition.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 66ac968dd50ebe8481995a34bb6651c0e24e928d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 10:30:18 2010 +1000

    libcli/security Fix and clarify privilege manipulation function comments
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 9fb92c6014e48b000b26010bc21aa3821bab10cf
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 10:21:13 2010 +1000

    libcli/security Make the two privileges tables share a common struct definition
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit dbee98d30fc9c7db6693170215b8c1819b3e2f3d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 09:35:55 2010 +1000

    libcli/security Move source4/ privileges code into the common libcli/security
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 0d25212cc161dee2f38c8ad60e50543596000f18
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 09:22:31 2010 +1000

    s3-privs Move manual prototypes to common privileges.h
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit b29b6c13a373c39190db0e2bd0440f7f2619b33c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 10:04:05 2010 +1000

    s3-privs Inline dump_se_priv into callers now that it's just a uint64_t
    
    The previous 128 bit structure needed this helper function.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit f85b822bd4feaab179ffbf00496fcb7d1905fc8c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 09:50:31 2010 +1000

    libcli/security Use talloc_realloc() not TALLOC_REALLOC_ARRAY()
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 3f589c2155557c02c9dc0eeee972bb68c1fd147f
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 09:50:12 2010 +1000

    libcli/security Use C99 types
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit b0690d6da7c60ef54d243e487260540666cc58ff
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 09:41:32 2010 +1000

    libcli/security Use true and false, not True and False
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit f20bba97d8146e830dbaeb761a05dcede1bdfee2
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 08:56:15 2010 +1000

    s3-privs Move source3/ privileges implmentation into common
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit cae7babb1fcfbb0655bc1f7f6be51212f3d13c69
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 22:49:27 2010 +1000

    s3-privs Rename structure elements for greater clarity
    
    It is important to make clear which is the LUID and which
    is the Samba-only bitmap mask.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 25b0da5c532bbaee819fe239217e2d2f2c81a6c6
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 22:35:35 2010 +1000

    s3-privs More clarity in variable names
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit f20c78150946c2822722858c2f614babfd857317
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 22:30:26 2010 +1000

    s3-privs Rename mask -> privilege_mask to be more clear
    
    After SE_PRIV was removed, it became less clear what these
    parameters were for.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit d1bb21b0d531ef8f40400716b3e1f6314c7c1e8a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 22:08:22 2010 +1000

    s3:auth Remove NT_USER_TOKEN
    
    The all UPPER case typedef is no longer the preferred Samba style
    and this makes it easier to see that this is the IDL-derivied structure
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 4bfc8d3b1a6f6deacb8845c5d81b4897cc292cfb
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 20:04:11 2010 +1000

    s3-auth Change struct nt_user_token -> struct security_token
    
    This common structure is defined in security.idl
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 4bf783d4d6693f927f5e7ef7a9855766c91983f2
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 20:54:13 2010 +1000

    s3-auth Change type of num_sids to uint32_t
    
    size_t is overkill here, and in struct security_token in the num_sids
    is uint32_t.
    
    This includes a change to the prototype of add_sid_to_array()
    and add_sid_to_array_unique(), which has had a number of
    consequnetial changes as I try to sort out all the callers using
    a pointer to the number of sids.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 6a0176b07da0b416bc9d750ddea92c612849597c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 19:42:01 2010 +1000

    security.idl Add comments
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 2606dfa9a42d19c971f6c04e4030af51b57484bc
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 19:21:53 2010 +1000

    security.idl Update Windows privileges list to Win2008R2
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 3e36aefc66d482e5fd78b8be6c21aa116fe587c8
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 19:20:32 2010 +1000

    s3-privs Only store low bits of luid in privileges table
    
    Samba only uses the low bits, and this makes the code simpler.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 9abfd8fe3bf4fd3bfae34e7b621369d3f67cf73c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 18:38:59 2010 +1000

    s4-privs Add a lookup by index of privilages
    
    Now that privileges are no longer given luid values sequentially,
    we need another way to look them up for enumeration.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit e113af6fb11504a87fd821fb0d77ff855a36e6d5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 18:38:16 2010 +1000

    privs Add my Copyright
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit d2883ffde92b60c57466146975a3a279b5826c89
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 16:04:53 2010 +1000

    security.idl clarify which privilages are LUID and bitmap values
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 86233ec13527ad93ef3add7d24bd8f781693f2b0
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 16:03:41 2010 +1000

    s3-privs Remove comment already moved to security.idl
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 82f84ff3828a8a4e2249db367b1a38f69190e616
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 16:02:12 2010 +1000

    s3-privs Use constants from security.idl
    
    The values in security.idl have been updated to match these.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit e655e9f6765f951447a36cc3890437f21a13ca0d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 15:56:21 2010 +1000

    s4-privs Remove link between enum sec_privilege and the privilege bitmap
    
    This allows us to set the enum sec_privilege constants to the LUID
    values that are seen from windows, which we need to match, in order
    to preserve the support for the NT Print Migrator tool after a merge
    with the source3/ privileges code.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit fcaa86f4026cac94ed257406cbf4a59947b6029f
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 14:37:00 2010 +1000

    s3-privs Further changes to remove SE_PRIV
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 821b9e61aa057530212438988c204d79f1f70b1d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 27 12:44:35 2010 +1000

    privs Move privilege bitmasks to security.idl
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 99aae4a0ee4f5d069bebe998337d1cdb0c1c390a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 10:35:45 2010 +1000

    s3:privs Change to new host endian neutral privilages tdb format
    
    These values are stored in account_policy.tdb, and the old format,
    using a 128 bit bitmap was not endian neutral.
    
    The previous endian-dependent format was introduced in
    46e5effea948931509283cb84b27007d34b521c8
    replacing a 32 bit number which was used at the time.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit c79336e48a12723a4c7d1d1e377a84b7aac4163d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Aug 26 08:49:28 2010 +1000

    s3:Change SE_PRIV to uint64_t
    
    This removes the SE_PRIV typedef
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 42a98a570b57c3b4625f56179c6697a45427e8a6
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Aug 24 14:47:26 2010 +1000

    s3:privileges Change SE_PRIV to be just a uint64_t
    
    We don't need 128 possible privileges here, as we only use 12.
    
    This reverts some of 46e5effea948931509283cb84b27007d34b521c8
    by Jerry back in 2005, where he introduced the SE_PRIV structure
    to replace the uint32_t used at the time.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit b8f28c2e70b3fa332313126ea6f1f2f42fb46a90
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 11 08:42:10 2010 +0200

    lib/replace:wscript - don't check twice for type "bool"

commit ae5d807725906810f8b9ad77d1aad1462dd513dc
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Sep 11 08:22:09 2010 +0200

    lib/replace:wscript - attempt to fix the features detection on Tru64
    
    Hopefully now we detect the built-in "socklen_t"
    
    https://bugs.internet2.edu/jira/browse/SSPCPP-114
    http://h30097.www3.hp.com/docs/base_doc/DOCUMENTATION/V50_HTML/MAN/MAN5/0001____.HTM

commit a89b0ef53b990721d6e897b938bed75577b623d9
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Sep 10 23:33:18 2010 -0700

    Add check missing from previous patch after talloc_strdup().
    
    Jeremy.

commit 1787c1dfc3a506c0afee6d2bb67ba8789c709b86
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Sep 10 23:28:15 2010 -0700

    Factor out the recent changes into a function - check_parent_exists().
    Fix this to ensure that if "start" is manipulated, then "dirpath"
    is changed also.
    
    Ensures that when the path:
    
    /a/long/file/name/path.txt
    
    is processed, we first stat:
    
    /a/long/file/name/path.txt
    
    and if this fails, we try to stat:
    
    /a/long/file/name
    
    if this path exists (the normal case when creating a new
    entry in a directory) then we no longer do the individual
    path name walk, but only do case insensitive lookup on the
    last component. If the stat fails we do the full pathname
    walk as normal in 3.5.x and below. Metze, examine this
    change for your back-port.
    
    Jeremy.

commit f76983ae3fce835b01025e1726f4bf1e6402c3ec
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Sep 10 15:07:28 2010 +0200

    s3: Simplify the logic in generate_krb5_ccache
    
    gd, jra, others, please check!

commit 306465a5a4571cabe5c1c61224873471910b94b6
Author: Björn Jacke <bj@sernet.de>
Date:   Fri Sep 10 21:36:20 2010 +0200

    s3/winbind: use mono time for startup timeout check

commit e2de1b8e717f94944006f3478a133f256cef50de
Author: Björn Jacke <bj@sernet.de>
Date:   Fri Sep 10 21:03:17 2010 +0200

    libreplace: clock_gettime sets errno

commit 3eda2815f648fdb688f9bace4c45870c7a427dfc
Author: Björn Jacke <bj@sernet.de>
Date:   Fri Sep 10 20:46:10 2010 +0200

    s4/pvfs: use monotonic time for this timeout

commit d320aa1212ba926f81d37ee0690381f1f287f30d
Author: Björn Jacke <bj@sernet.de>
Date:   Fri Sep 10 20:39:20 2010 +0200

    s4/ldap: use time_mono for reconnect timeout

commit 54ca77183b63946025c7953cdb9fb558b6b91b1d
Author: Björn Jacke <bj@sernet.de>
Date:   Fri Sep 10 20:28:41 2010 +0200

    s4/torture: use time_mono for timeouts

commit 478ac36b9c4b655c013846ae5ec02c56cbc626d7
Author: Björn Jacke <bj@sernet.de>
Date:   Fri Sep 10 20:25:19 2010 +0200

    s4/torture: use time_mono for delta time

commit d4d34bddd7e8105124f0bfab810f51bd1b1ce76d
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 10 23:06:46 2010 +0200

    s3-selftest: add print_test_extended (as called from RPC-PRINTER) to knownfail list.
    
    Guenther

commit 07af8f2514c4fbc94487eb2234d4fc764481e06a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Sep 10 22:39:39 2010 +0200

    s4:client/client.c - fix wrong return codes in "do_connect"
    
    Detected by the Solaris cc compiler.

commit 9d4dc69627b709d134ad0b8850a777ae33aaa4e7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Sep 10 22:26:24 2010 +0200

    s4:lib/policy/gp_filesys.c - remove dead code
    
    Found out by Solaris cc

commit 55bc079b9ab24f583bf1ec66947e4bcb8a112794
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Sep 10 22:35:10 2010 +0200

    s4:torture/locktest.c - add a cast in order to quiet a warning on Solaris cc

commit ace43d4ccd5e225bbefec7e9f3a3f64e07e3c99a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Sep 10 22:22:14 2010 +0200

    s4:libcli/wrepl/winsrepl.c - add more "char *" casts in order to suppress Solaris warnings

commit 5c33ef2758d8e8d3978feef9056e79bce31c9d74
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Sep 10 22:22:14 2010 +0200

    s3/s4:libcli/tstream - add more "char *" casts in order to suppress Solaris warnings

commit ece428f02c981eea4b8a0997fbe55d5ecf39c1a0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Sep 10 22:22:14 2010 +0200

    s4:torture/ntp/ntp_signd.c - add more "char *" casts in order to suppress Solaris warnings

commit 68c9877796cec39441cd323f7123f513e57cdb7e
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 10 22:40:46 2010 +0200

    s3-printing: fix non-ads build after prototype changes.
    
    Guenther

commit aa00d331a606efc1750fe76debb16dd11f87e333
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Sep 10 14:34:19 2010 +0200

    s3: Simplify generate_krb5_ccache slightly
    
    strequal deals with a NULL string input just fine

commit e8509589287ea04c6290dd127d3ef0c3e0b3f49d
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Sep 10 11:56:26 2010 -0700

    Check all SMB_MALLOC returns correctly. Found by Andreas Moroder <andreas.moroder@gmx.net>.
    
    Jeremy

commit 55598c4746f51f4a607c7b11e43ad56dcee22d87
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Sep 10 19:28:07 2010 +0200

    s4:torture/rpc/winreg.c - hopefully this attempt fixes Solaris "cc" on the buildfarm
    
    The Solaris "cc" incompatiblity on this codepart seems to be harder to fix than
    it looks like.

commit 4fc1319db9b27f97da94e6b15a93b7c10d60fa17
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Sep 10 19:17:25 2010 +0200

    s4:getncchanges_change_master - also in this call "i" needs to be unsigned

commit 8de2c15df32d44dfffbc3d0e9c9fd105f87c6886
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Sep 10 12:49:32 2010 +0200

    s3: auth.krb5ccname and auth.unix_username are both fstrings
    
    There's no point in checking for != NULL

commit f101349c73a2c52f887cf1e3789fd42307b45297
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 8 17:56:33 2010 +0200

    selftest/s3-selftest.sh: knownfailure filtering for non-build-farm make test
    
    metze

commit c91bdd2b0e02d31a1ea3a13a7f32a10e12c83fa8
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 8 17:54:29 2010 +0200

    s3:torture: fix printf output, lines can't start with lower case "test"
    
    metze

commit a489fb3ee252a052ed6bc6033bf021b249dbecca
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 8 17:55:12 2010 +0200

    s3:torture: fix run_uid_regression_test
    
    metze

commit cd8e2fd9fa2d2b0ef8c3c7189697577d46c2f848
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 8 17:53:47 2010 +0200

    s3-errormap: map ERRSRV/ERRbaduid to NT_STATUS_USER_SESSION_DELETED
    
    metze

commit 88f96578cde4fa0b4aa18234a5c4c2f453fcc2c8
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Sep 8 17:53:47 2010 +0200

    s4-errormap: map ERRSRV/ERRbaduid to NT_STATUS_USER_SESSION_DELETED
    
    metze

commit 0ad2890c4e5a0249d45440f66b0ceae33c832328
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 10 06:36:02 2010 +0200

    s4:provision: remember the setup directory if it wasn't the default
    
    This fixes make test without a make install.
    
    metze

commit bf7ca3f5e7e6f126fd8baec5548dfd45bc5e168f
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 10 16:55:23 2010 +0200

    s3-spoolss: Fix _spoolss_GetPrinter().
    
    In the error case, we need to TALLOC_FREE(r->out.info), don't ask :-)
    
    Guenther

commit fc1a5dbffb1330bba0e4deebdf18b812ccc1a823
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Sep 10 16:06:24 2010 +0200

    s3-spoolss: Don't leak memory on the session counter list.
    
    Thanks Günther, please check.

commit ed2c06f9da0401fb95dcc16b4d3a3bd4f27b09f2
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 1 19:39:57 2010 -0400

    s3-spoolss: Allow multiple client backchannels.
    
    When we run spoolssd we need to support multiple clients connecting.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit a736385b9749fe127411348ff3e0d1cc4405e47f
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jun 30 18:35:29 2010 -0400

    s3-spoolss: Split function to send notification.
    
    More digestible this way.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 9db2be245e89e14f4c95037f67e7092f298a74f5
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jun 30 14:19:43 2010 -0400

    s3-spoolss: Use a single structure for all the back channel data.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 433ac757dcac5841a47db3350865771a5d7301b2
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jun 30 15:32:15 2010 -0400

    s3-spoolss: Rename Printer_entry to struct printer_handle.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 4a8d042afa41510b557e13b2aafcff611a137f28
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jun 30 15:11:41 2010 -0400

    s3-spoolss: Move Printer_entry to srv_spoolss_nt.c
    
    It is used only there, and it is a good idea to make this one private and
    opaque to the rest of the code.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit e257e68b4bcd49c6401b0982e71f3f3085711750
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jun 30 12:19:41 2010 -0400

    s3-spoolss: Allocate printer entries on the pipe struct.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 0e5b1a67d26f99ae6d6f5e05f968dd3107191791
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jun 30 12:07:44 2010 -0400

    s3-spoolss: Rename session counter structure and use talloc.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit c59961dd814965e1dedd172b5e11c31310b80cc7
Author: Günther Deschner <gd@samba.org>
Date:   Wed Dec 3 10:40:04 2008 +0100

    s3-dsgetdcname: cleanup receive_getdc_response a little.
    
    Guenther

commit 33fdf8dac2dfd843ea10e3703d65b903b253270e
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 10 11:51:32 2010 +0200

    s3-build: use proper RPC_X_OBJ target names.
    
    Guenther

commit 4577fb3163f3921dfea45ee96c041e549cc84255
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 10 11:49:49 2010 +0200

    s3-waf: use proper RPC_X_SRC names.
    
    This allows to build using waf without --enable-developer and should also fix
    support for rpc server modules.
    
    Guenther

commit 788bfc8a25849bccc963a4b948c1e5857f2d885c
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Fri Sep 10 13:44:20 2010 +0300

    s4/fsmo: Change return type from NTSTATUS to WERROR for drepl_takeFSMOrole
    
    This removed an unnecessary conversion of the return type in
    drepl_take_FSMO_role.

commit 0ad22777ec44bf7eb35c2d9898ee1843ac308f76
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Fri Sep 10 09:00:56 2010 +0300

    s4/fsmo: Fix callback declaration

commit 25dd9fae66f4dd65692b8161da499aaca104f434
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Sep 10 02:05:27 2010 +0300

    s4-drs: return DRSUAPI_EXOP_ERR_SUCCESS in extended_ret
    
    in case we are handling extended operation.
    
    It seems that windows accept both DRSUAPI_EXOP_ERR_SUCCESS
    and DRSUAPI_EXOP_ERR_NONE, but Samba is a little bit
    more picky on this.

commit 611cd51096a8de8fdf43d0c9b639314bd7ebd2c2
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Sep 10 02:02:56 2010 +0300

    s4-drs: Hanlde extended operations only once
    
    Most of extended operations I know of work like:
    1. do extended operation
    2. collect a set of objects to return and start replication cycle
    3. continue returning object as we have no more to give
    
    This way we ensure we are doing 1. only once

commit d08439d42b4a04279e74bc3625cb672eb22007fe
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Sep 10 01:59:21 2010 +0300

    s4-dreplsrv: fix 'dn' for partition object being created

commit 750300aedf0bd59b704e222f82ff1d114d2b5da7
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Sep 10 01:58:07 2010 +0300

    s4-drs-fsmo: try to dispatch ops in queue as soon as possible
    
    In most cases this will transfer of schema master role to
    look like a synchronous operation.

commit 62b52748273b6d02d9acb3efe4956db4735b4322
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Wed Sep 8 10:25:54 2010 +0300

    s4/fsmo: Added python tests for schema master transfer op

commit c34cae81fee5e3b68746f9da97496bf056ff9d55
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 9 16:16:05 2010 +1000

    s4-fsmo: update FSMO changes for recent IRPC work
    
    the IRPC API has changed
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit ab01ce6e963b8251bdd3200bcfcf2a37068d3319
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Thu Aug 26 11:19:24 2010 +0300

    s4/drs: update repsFrom only when we are not in getncchanges extended op

commit 36e663ad712c062805f6b17c45c2ae7fa5141dd9
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Thu Aug 26 11:09:58 2010 +0300

    s4-ldap: Added support for FSMO role transfer via LDAP by modify on rootDSE
    
    GetNCChanges with the corresponding extended operation is initiated and added to
    the queue when a modify request is received on becomeSchemaMaster, becomeRidMaster,
    becomeNamingMaster, becomeInfrastructureMaster and becomePDC attributes in
    rootDSE.

commit 5ba2858b0271feecf3f7bc5bee7577d0e181563d
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Thu Aug 26 10:59:02 2010 +0300

    s4-rpc: Added handling of fsmo role transfer to GetNCChanges
    
    This adds support for DRSUAPI_EXOP_FSMO_REQ_ROLE, DRSUAPI_EXOP_FSMO_RID_REQ_ROLE
    and DRSUAPI_EXOP_FSMO_REQ_PDC.
    Developed in collaboration with Anatoliy Atanasov <anatoliy.atanasov@postpath.com>

commit 0229ac455dbe3125d72c0371d03c592b460526f3
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Wed Aug 25 00:26:28 2010 +0300

    s4-irpc: Added internal rpc call DREPL_TAKEFSMOROLE
    
    It schedules a getncchanges with extended op 6, to be used when a modify request on
    becomeROLEMaster atteibute on rootDSE is received.

commit 657b7039c38e97af9dbacafb5ab7a5966f52eaea
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Wed Aug 25 00:22:16 2010 +0300

    s4-drs: Implementation of GetNCChanges extended op 6 - fsmo role transfer
    
    Basically the candidate owner makes a getncchanges call with extended op 6 when they want to
    become the new owner. The current owner then updates the corresponding fSMORoleOwner attribute
    in its database with the new owner, and replicates the change to the candidate, who then becomes the
    owner.
    The patch was made in cooperation with Anatoliy Atanasov <anatoliy.atanasov@postpath.com> who
    kindly helped to debug it.

commit c8794d2625e81b8c11dec7726a42e632854472af
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Tue Aug 24 23:01:43 2010 +0300

    s4-drs: Refactored drepl_service and send_ridalloc_request so that the structures can be used for other extended ops

commit 19a3633e6e279fcb26ec1595e1f9c2ca3c8b3330
Author: Björn Jacke <bj@sernet.de>
Date:   Fri Sep 10 11:51:15 2010 +0200

    s4/torture: use time_mono for deltas in lock test

commit 7b1efc7282ea0a2e2f7ba84c5c2bb3cd0c6f52c5
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 10 11:28:54 2010 +0200

    s3-build: only link LIBNDR_XATTR_OBJ where needed.
    
    Guenther

commit 32a1b21f1c65589a142919f85cf78ece169d3d92
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 10 11:28:38 2010 +0200

    s3-waf: only link LIBNDR_XATTR_SRC where needed.
    
    Guenther

commit a1392ee9a04765d849e1d297fb5f156ad169afd0
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 10 11:27:52 2010 +0200

    s3-build: link ndr_notify only where needed.
    
    Guenther

commit b15ac83bda4adbdfc7b7e04ad126cffd8d44efba
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 10 11:26:35 2010 +0200

    s3-waf: link ndr_notify only where needed.
    
    Guenther

commit ed239fc784299e6cfc4417101fdefbc413d6531c
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 10 11:24:28 2010 +0200

    s3-build: link ndr_named_pipe_auth only where needed.
    
    Guenther

commit f8b10a738c5da88a72fa969e217f6c72016d44b0
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 10 11:23:59 2010 +0200

    s3-waf: link ndr_named_pipe_auth only where needed.
    
    Guenther

commit 26ea51c7ab59f54f0b88f1367a0982404b9be18b
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 2 13:19:02 2010 +0200

    s3-spoolss: allow a short printername w/o servername.
    
    Verified with RPC-SPOOLSS-PRINTSERVER-enumprinters_old test.
    
    Guenther

commit 718fd39f10310d10ebc2276021d97d48f1163a88
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Sep 9 15:29:03 2010 -0700

    Fox missing SMB_MALLOC return checks noticed by "Andreas Moroder <andreas.moroder@gmx.net>".
    
    Jeremy.

commit e6b85c2a7b3cfa0dd3c9859c88e5462c616d5a2a
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Sep 9 15:28:43 2010 -0700

    More paranoia to ensure SD's can't be set on read-only shares.
    
    Jeremy.

commit 9962462278e250f4ad2aa068bb6afb8015270e81
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 2 13:39:12 2010 +0200

    s3-selftest: rename printer "print4" to "lp".
    
    This should trigger a false error condition in our code.
    
    Guenther

commit cf76cf02995f6050fc71066366810b355d26d4b9
Author: Günther Deschner <gd@samba.org>
Date:   Fri Sep 10 00:16:30 2010 +0200

    s4-smbtorture: add spoolss_OpenPrinter with unc and printername in RPC-SPOOLSS-PRINTSERVER.
    
    Guenther

commit 7277c9e5ade72164b4fe72accb07860454b66a99
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Sep 9 16:57:01 2010 +0200

    s3: Fix messsssages

commit 789a16298945a7c728c419d8466f8fa9447f5dc2
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Sep 9 16:25:09 2010 +0200

    s3: Ensure NULL termination for "workstation" in auth_crap

commit 9f4c1a2a7b9c94df821413acb4fb61327e605f7f
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 9 23:13:33 2010 +0200

    s3-nmbd: use NETLOGON_NT_VERSION_1 in LOGON_PRIMARY_RESPONSE.
    
    Guenther

commit 18962ea3852d0d0fc7371e99813bebd54fae0a19
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Sep 9 16:02:38 2010 +0200

    s3: These assignments are overwritten immediately
    
    Dump them

commit 71b95703f99d2a5b71c8d31abf04e2a05336afb8
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 8 18:55:27 2010 +0200

    s3-nmbd: use autogenerated marshalling for LOGON_SAM_LOGON_REQUEST.
    
    Guenther

commit 36d7efa75a799522b8ac5995509573d667213799
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 9 13:16:21 2010 +0200

    s3-nmbd: use autogenerated marshalling for LOGON_PRIMARY_QUERY.
    
    Couldn't find any reproducer for a short request, so removing it for now.
    
    Guenther

commit bfda968e0776dfc95e761ffd3a91f72702286fee
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 9 22:39:05 2010 +0200

    s3-nmbd: use autogenerated marshalling for LOGON_REQUEST.
    
    Guenther

commit f002b7fa1b4162e691abb68eb95eee2a809faaf5
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 9 22:38:37 2010 +0200

    s3-nmbd: handle source_name in one location in nmbd_process_logon().
    
    Guenther

commit 5fc7d14b064d83b40c65a8c41ea05a9b43af6f5d
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 7 11:41:05 2010 +0200

    s3-nmbd: use nbt_netlogon_packet in process_logon_packet().
    
    Guenther

commit fe30e359670d67e9a8b8ccd22d4eb6d363f88827
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 8 11:58:04 2010 +0200

    libcli/netlogon: add LOGON_REQUEST handling to pull_nbt_netlogon_response().
    
    Guenther

commit 9a1dbe04a8f1a7cbd0352504990c9240fdd22dae
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 8 18:59:19 2010 +0200

    libcli/netlogon: add LOGON_RESPONSE2 to pull_nbt_netlogon_response().
    
    Guenther

commit daa948df2bf23f15bcdb4df170306ef71d952e7c
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 7 22:41:44 2010 +0200

    libcli/netlogon: add NETLOGON_RESPONSE2 to push_nbt_netlogon_response().
    
    Guenther

commit c82bcef16d386c846410dbe2e79f9fad619fc4ea
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Sep 9 21:29:21 2010 +0200

    s4:client/cifsdd.c - restore Solaris cc compatibility
    
    "static const struct"s need to be global in order to work with Solaris cc.

commit ad25264dd7c815449ee361d342fd3b7e74f8d0bb
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Sep 9 21:26:43 2010 +0200

    s4:torture/rpc/winreg.c - restore Solaris cc compatibility
    
    "static const struct"s need to be global in order to work with Solaris cc.

commit 59559bd02fb2dfaf19c0b4b86f5443115dd17f38
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Sep 9 20:31:38 2010 +0200

    s4:libcli/security/*.c - fix some wrong typed counters
    
    According to "librpc/gen_ndr/security.h" they need to be "uint32_t".

commit 4f5dd3f93b96429baa85ec3ef730ea4bdc2b7945
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Sep 9 01:43:01 2010 +0300

    s4-dreplsrv: Do allocations on long-living context so that callback gets called

commit 118df599ce139d72f77692415ab38efaebf0245c
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Sep 9 00:55:51 2010 +0300

    s4-drs-test: Add 'reset' and 'replace' tests for drsuapi_DsReplicaUpdateRefs
    
    At first I got the impression we are not handling those cases,
    but after those tests surprisingly passed I saw that
    we have correct behavior implemented in a helper function.
    
    So I decided to commit those tests in case someone change the
    strange-looking check for DRSUAPI_DRS_ADD_REF flag in
    a function that handles delete operation :)

commit 3593298c7e095b0935bffe05e3b1e190abf91707
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 8 01:07:44 2010 +0300

    s4-dreplsrv: Call dreplsrv_out_operation::callback in case we fail to even run the operation
    
    Operation was scheduled already, so we need to call
    the callback function for it to be able to do its job.
    
    For instance, if we are blocking an rpc call until an
    operation is completed and there is no memory, then
    client will be blocked without knowing what is going on
    with the server.

commit 7ee34182dffdf497bdad5a1e155bc2ca80d71111
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Sep 7 22:24:24 2010 +0300

    s4-dsdb/repl/drepl_out_pull.c: Remove unused code

commit ef56945d0e33aebb089789906b9d037852c9b028
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Sep 7 22:18:53 2010 +0300

    s4-drepl_service.c: Update (C)
    
    and remove few trailing white spaces

commit 3fa3bc7ebaa2f8a5bacb7766329e89ab4e36f644
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Sep 7 21:22:47 2010 +0300

    s4-drepsrv: Dump more info when drepl_replica_sync() fails
    
    There are many spots where this function may fail
    and I find it very useful to know where exactly function
    fails and what are the input parameters during testing.
    
    REPLICA_SYNC_FAIL() macro now dumps an error message
    so we may remove extra DEBUG() dump in implementation.

commit 81e97c09c366b6b51ef2229789c8d223f812a6d0
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Sep 9 16:39:33 2010 +0200

    s3-printing: Make missing auth_serversupplied_info const.

commit 59c14282eb54a60a2b889585c3aeb280742ac14a
Author: Andreas Schneider <asn@cynapses.org>
Date:   Thu Sep 9 11:22:06 2010 +0200

    s3-spoolss: Use systerm server_info for winreg connection.
    
    This will ensure that we have the rights we need to access the regsitry.

commit 1c42bc3ad48c9019a62f556ff2841df5f5f832d9
Author: Andreas Schneider <asn@cynapses.org>
Date:   Thu Sep 9 11:21:43 2010 +0200

    s3-spoolss: Make auth_serversupplied_info const.

commit bbf2cd50b04a026750aa5518b590994ba0b4afc5
Author: Andreas Schneider <asn@cynapses.org>
Date:   Thu Sep 9 11:32:03 2010 +0200

    s3-printing: Make auth_serversupplied_info const.

commit 021539570b4beac81d22edd60c0cf026f2628479
Author: Andreas Schneider <asn@cynapses.org>
Date:   Thu Sep 9 11:37:49 2010 +0200

    s3-msdfs: Make auth_serversupplied_info const.

commit 0d9fa9e96fd85fab6b51a590612ad2385617f972
Author: Andreas Schneider <asn@cynapses.org>
Date:   Thu Sep 9 11:35:50 2010 +0200

    s3-rpcint: Make auth_serversupplied_info const.

commit 669213e812340896d5fa5dbfb7e3180255af297a
Author: Andreas Schneider <asn@cynapses.org>
Date:   Thu Sep 9 11:00:18 2010 +0200

    s3-auth: Added get_server_info_system function.

commit cd2b9db04b7a27a36b68c7eb846aec68830566ef
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Sep 8 19:39:36 2010 +0200

    s3-spoolss: Fixed some build warnings.

commit 3d420ea2bb3259525a50964bf70b1956cf62d4c1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 9 21:38:01 2010 +1000

    s4-rodc: cope with missing searchFlags
    
    this can be missing after the schema tests

commit b2ea0ca3d6280902135942f61cd3f28daecf77c1
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Sep 9 15:20:48 2010 +1000

    s4-dsdb Change debug levels for startup messages
    
    We should make the 'common' error not show up, but the unusal case fatal.
    
    Andrew Bartlett

commit 22d5a9655042a09a425954d5ec54af55fb6111a4
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Sep 9 14:58:06 2010 +1000

    s4-setup Make krb5.conf use DNS by default
    
    We set up our DNS pretty well these days, and I think the previous setting
    was only there because Andrew Kroeger copied this out of our selftest code
    in bf3f3af92677bce8f03b0dd2be552d6c8c730ca1.
    
    Andrew Bartlett

commit 977db514b3c615393182154b4273beeb4ad911fe
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 9 18:06:33 2010 +1000

    s4-test: added a RODC test using rpcecho
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 6bfe8b74aa751fbd48f1f9c60a5617e81e3b304e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 9 18:02:31 2010 +1000

    s4-test: added a RODC to our testing
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit b9c0b59034726f1114fb8696a3be012b6fd3a622
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 9 18:02:08 2010 +1000

    s4-rodc: get the domain name from the partitions DN
    
    don't rely on the netbios domain name being the first part of the
    realm
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit c95c3863dfec8e0160ff3bb217c6922666feed05
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 9 17:59:40 2010 +1000

    pyldb: expose PyLdbDn_FromDn()
    
    This is needed by the dsdb python interface
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit c44bdbc01d53efcccb725600764b981216b1ff10
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 9 17:35:14 2010 +1000

    s4-provision: fixed error format string
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 54e86d881d2955bae49bd87fe08e74bbfc86fd0e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 9 17:34:55 2010 +1000

    s4-pydsdb: expose samdb_partitions_dn() as get_partitions_dn() in python
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 650dcda2a2c59657b11052ebef622c351c4db477
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 7 15:25:45 2010 +1000

    s4-rodc: s->schema need initialisation
    
    this fixes a segfault in net rodc preload

commit a4d23ed66ff32b5a9dc00ea82036436df0e97505
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 9 11:10:01 2010 +0200

    lib/util: remove some unused_result warnings.
    
    Guenther

commit f1aa9ebb08d617f4eeeebed70af202764f40ee90
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 9 11:09:35 2010 +0200

    s3-utils: remove unused variable in smbget.
    
    Guenther

commit eedf476c248319efa2fcf552dc330b10423a1bb0
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 8 19:12:21 2010 -0700

    s3: Remove "mem_ctx" from a few functions

commit eaf778593f7e56774913ec4348b1c59a9488676c
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 8 19:09:21 2010 -0700

    s3: Remove "mem_ctx" from wcache_save_creds()

commit d38e1d13eab1a8d8aa8c660a40f6803aa62c3d68
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 8 19:03:15 2010 -0700

    s3: Remove "mem_ctx" from lookup_cached_name()

commit c7d6e6f57174a684c5b84b31993b1d92311d4b80
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 8 19:01:11 2010 -0700

    s3: Remove a nested if-statement

commit 6f1916524bb1f7d38130ba273e3bebe0c93f3a74
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 8 18:09:07 2010 -0700

    s3: Fill in workstation in winbindd_pam_auth_crap_send

commit f50687153861efcbac2cbd281ab24141ea83167b
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 8 18:07:31 2010 -0700

    s3: Fill in domain in winbindd_pam_auth_crap_send

commit c2048db59d52051c045386a0075a11aea2f5bef7
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 8 17:56:55 2010 -0700

    s3: Remove redundant flag checks
    
    We're checking these in the parent already (winbindd_pam_auth_send and
    winbindd_pam_auth_crap_send). No point in doing it in the child as well

commit 4e4228bd5d970350516162cc716ec2e083ead56f
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 8 16:58:21 2010 -0700

    s3: Remove unused arg "user_sid" from winbindd_store_creds
    
    All callers have passed in NULL

commit 7372a50a0333b362745c89b7f0c17f77db156dec
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 8 16:54:50 2010 -0700

    s3: Remove unused winbindd_update_creds_by_sid

commit a0de3fc690d30a8fd4b0ebc1bc35670a8ba3109d
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 8 10:04:53 2010 -0700

    s3: Remove unused winbindd_dual_show_sequence()

commit bec9baf88a54d0e0d3fe1065c27df0f76c960e65
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Sep 8 20:54:38 2010 -0700

    Don't rely on the underlying ACL modules to enforce share level
    security when setting ACLs, check at the call level as well.
    
    Jeremy.

commit fcac46a61245e6b05f88ed80ec4b554ffd55dc63
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Sep 8 16:55:24 2010 -0700

    Optimization suggested by Metze. Without this patch,
    FindFirst with 'path\to\some\dir\with\files\*'
    
    triggers the following stat calls
    
    path\to\some\dir\with\files\* => ENOENT
    path\
    path\to\
    path\to\some\
    path\to\some\dir\
    path\to\some\dir\with\
    path\to\some\dir\with\files\
    path\to\some\dir\with\files\* => ENOENT
    
    With this patch we get :
    
    path\to\some\dir\with\files\* => ENOENT
    path\to\some\dir\with\files = OK
    
    Jeremy.

commit 4f0b190a3086db3789e4198f5409a2b5c1980bf9
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 8 15:29:32 2010 +0200

    s3: "== false" looks wrong :-)

commit 0ee8aa5c5dd92a58db0c58159a24d07684432f0e
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Sep 8 15:13:45 2010 -0700

    Fix warnings caused by double ";;" at the end of the time_mono() fixes.

commit 3fb5aba9cf59198dea3b43754dbe6b3ffb3ea474
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 8 23:23:09 2010 +0200

    s4-waf: fix bin/python/samba/dcerpc/nbt.so.
    
    Thanks to Brad Hards for pointing this out.
    
    Guenther

commit 8140182f3d53019702f49330a40ffa9d47d8d3df
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 8 22:45:12 2010 +0200

    wafsamba: Eliminate sys.path updating if installing to a standard python
    path.

commit b4b453a287781eba7adaa3c38bd174642a5cb651
Author: Björn Jacke <bj@sernet.de>
Date:   Wed Sep 8 22:29:00 2010 +0200

    s3: use time_mono throughout in smbget

commit 1b5cdd76b76a98e464f352c1d44be3ea0b279c87
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Sep 7 01:04:10 2010 +0200

    s3/ldap: use monotonic clock for timeouts in smbldap
    
    tevent would need monotonic clock features to make also smbldap's idle handling
    aware of backward clock jumps. Other areas in smbldap are clock jump save now.

commit 3c58fb27b0deb4971a77e8aa5ba74d984b81ab7c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 8 22:11:55 2010 +0200

    setup: Use standard octal ints rather than harcoding.

commit 17e96d8194c1d1ded747f11ffe93ff9eaa0d4266
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Sep 8 22:11:23 2010 +0200

    popt_common: Add missing dependency on libsamba-hostconfig.

commit e2b63996e851b9621d287ad9d853930ecbc39d7f
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 8 12:07:42 2010 +0200

    s3: Make winbind_add_failed_connection_entry static

commit 3928565bc97a7c03305c7fd58fbd41be68940f24
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 8 20:59:46 2010 +0200

    s3: Fix a typo

commit 81ece84b789c64243db1661df6c9fa590d19490f
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 8 11:18:40 2010 +0200

    s4-smbtorture: add torture ndr nbt testsuite.
    
    Guenther

commit 1217809c465a35b0a2727111d820007097b2b611
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 7 22:41:06 2010 +0200

    nbt: add nbt_netlogon_response2 to IDL.
    
    Guenther

commit 8f8ff8bb29cb6f07ddcb310a089b695dbe176b34
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 7 13:16:27 2010 +0200

    nbt: add NETLOGON_LOGON_REQUEST.
    
    Guenther

commit 778950ca9322700c10c92b411873309398aa8dd1
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 8 11:19:48 2010 +0200

    nbt: add decode_nbt_netlogon_packet() to IDL.
    
    Guenther

commit 958df10a44f1370ab46f8ed571e6927e1e182d87
Author: Günther Deschner <gd@samba.org>
Date:   Tue Sep 7 11:50:39 2010 +0200

    s3-nmbd: fix indentation in process_logon_packet().
    
    purely cosmetic, no code change.
    
    Guenther

commit ed68eb768b59835b96099d3073a5aa8b1da0e082
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 8 19:01:10 2010 +0200

    s3-nmbd: remove trailing whitespace in nmbd_processlogon.c
    
    Guenther

commit 32e95772f9e6e6538da7eefa388e015be17af0e8
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Sep 1 18:00:44 2010 +0200

    s3-spoolss: Move spoolss winreg to new dcerpc client funtions.

commit 2226347182322c845ca382142299ad9d1bf49abd
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Sep 7 17:38:24 2010 -0700

    s3: Simplify cm_connect_sam a bit

commit bcad45ed432b67715cb08f6555f218472f3977eb
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Sep 7 17:37:13 2010 -0700

    s3: Check for sid instead of name in cm_connect_sam

commit 80eba8143802dec1cad6debd85df3ab5ff47c83e
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Sep 6 16:07:24 2010 +0200

    s3-spoolss: Fixed a possible crash bug.

commit 77b9b979668d5cbe38d3073f5d7ca26d03bf33b9
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Sep 7 16:54:31 2010 -0700

    s3: Remove a superfluous ;

commit 5b016dbab852cd443c8f9049acb94a113de227e1
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Sep 7 02:15:09 2010 +0200

    s3/libads: use monotonic clock for ldap connection timeouts

commit f69085e5ff525d534f66c6163aacb8c320a484bc
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Sep 7 03:29:19 2010 +0200

    s3: use monotonic clock for aio timeout

commit 8833adb04ffeb21848b56bb6606ca2982ccca1e4
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Sep 7 03:05:35 2010 +0200

    s3/nmbd: tidy up debug message: ttl isn't a hex value

commit a63822f5d22e14315099050166c64826f69b46c9
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Sep 7 01:54:01 2010 +0200

    s3/libads: use monotonic clock for DNS timeouts

commit b428952eefd250d6d4ce77ad89325e9803940d11
Author: Björn Jacke <bj@sernet.de>
Date:   Mon Sep 6 20:27:24 2010 +0200

    lib/util: add time_mono() for monotonic time a la time()

commit e64e3985688e57a882e0e128b256ec5f84c6f67a
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Sep 7 17:00:20 2010 +0300

    s4-dreplsrv: Run NC replication synchronously if requested

commit 3f109f8fd7bdd2cc691beb78463fba7a469e2a3d
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Sep 6 14:33:14 2010 +0300

    s4-drs: Dump exact error when failure occurs during DsReplicaUpdateRefs call

commit 7612760c2226bc43c68f1a7e3b2985d0a22bf277
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Sep 6 20:58:45 2010 -0700

    s3: Prune the printername cache when a printer is deleted
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 7ca69f7462f741860d514a78e3198db634db2a6b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 7 14:33:20 2010 +1000

    librpc: bitten by the strncasecmp define again

commit 2d77c766faabbc0790427f4c49555d4049efdb3b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 7 13:45:46 2010 +1000

    waf-abi: fixed small uninitialised data on PPC64
    
    on PPC64 Linux systems a 'S' line from nm means "small object
    uninitialised data"

commit 73c3932b2d0dac784a0605abf6e532dba5514a01
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 7 11:57:44 2010 +1000

    s4-ldapserver: serialise ldap server operations
    
    This ensures that two ldap server operations cannot happen in parallel
    by using packet_recv_disable() and packet_recv_enable() to disable
    other interfaces during ldap calls.
    
    This prevents problems caused by parallel ldap operations where
    transactions could overlap.

commit a8bac4a09a4a81c280c62fb4dcdbd0e61c782479
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 7 11:55:47 2010 +1000

    s4-packet: make packet_recv_disable() a lot more efficient
    
    this avoids doing an epoll system call when we want to prevent receipt
    of packets on a socket, unless there actually is a packet to receive.

commit cad0219e69d2acc766583083c0738c2b9ea3901f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Sep 7 11:25:42 2010 +1000

    s4-process: fixed the thread process model so it compiles
    
    it doesn't actually work, but at least it now compiles

commit e5e5a1110fb4092a1221512627b1f9d03ec8839c
Author: Julien Kerihuel <j.kerihuel@openchange.org>
Date:   Fri Aug 27 14:04:07 2010 +0200

    Add unique IP address binding for client connections (EPM and ncacn_ip_tcp levels)
    
    This allows for binding strings like this:
    
      ncacn_ip_tcp:host[localaddress=192.168.2.1,seal]
    
    which will force the connection to be locally bound to the specified
    IP address
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 35aed17b2651bc6dd9be415f8b8060357ee78ecb
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Sep 5 23:28:06 2010 +0300

    s4-test: refactor API-DELETEUSER test a little to:
    
     - fail torture_context in case libnet_DeleteUser() has failed
     - make use of torture_assert_* macros to track down where failur occured
     - use only one memory context internally

commit dea5c7b9486f7d4cbefd563a4e366c2fb3ccbf8f
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Sep 5 22:54:05 2010 +0300

    s4-idl: redefine dreplsrv_refresh() to be alike other RPC function definitions
    
    Sorry for the 'custom' definition first time

commit cf616ec316f9ee24d1fb8aacdf512f354fa4f656
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Sep 5 20:16:50 2010 +0200

    wafsamba: Create bin/defaukt/modules if it does not yet exist.

commit 61e537cf50ef60176c65c3a73d9a2f55c54e01e0
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Sep 5 18:00:44 2010 +0200

    waf: Use os.makedirs rather than os.mkdir in case parent directories
    don't exist yet.

commit df194692952cb495fe1bc68b01965ff4b9bd2843
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Sep 5 16:27:43 2010 +0200

    s3: On Solaris, iov_len is an int
    
    We can't use &iov.iov_len passing it to a size_t *

commit 49321571ea592be2307eef101cc783f883aa2503
Author: Matthieu Patou <mat@matws.net>
Date:   Sun Sep 5 03:00:05 2010 +0400

    upgradeprovision: avoid working with None objects ...

commit b1535582100a551cedc245f12cf63a1340985bdd
Author: Matthieu Patou <mat@matws.net>
Date:   Sun Sep 5 02:59:20 2010 +0400

    upgradeprovision: do not try to remove/change attribute before the RID Set object is present

commit 13d575d6e320961153d7071bc4f9b5cccdfb71b6
Author: Matthieu Patou <mat@matws.net>
Date:   Sun Sep 5 02:58:31 2010 +0400

    upgradeprovision: cleanup

commit 1d0815281e41cb1ca2cf72a3dba28a9ca75fb65d
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Aug 14 20:44:35 2010 +0400

    s4 upgradeprovision: add dns_update_list if missing

commit e2d575ee8099bb31e3bc926cf6730a3ca77e69ef
Author: Matthieu Patou <mat@matws.net>
Date:   Sun Sep 5 02:57:16 2010 +0400

    python-ldb: allow ldb_rename to take optional control(s)

commit 42dfa71ef5d08b500e911e2ba54dba0b1b4a4599
Author: Matthieu Patou <mat@matws.net>
Date:   Sun Sep 5 02:56:30 2010 +0400

    dsdb: make the ATTRIBUTE NOT FOUND more clear

commit e4d1bdbe5505d63f7cd5b8cc7f07a11f9361f93b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Sep 5 04:33:29 2010 +0200

    s4/selftest: Fix path to include/config.h, set BUILDDIR automatically.

commit 851ad13047b7abe6cd0666c74984ddff37e5e096
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Sep 5 03:16:48 2010 +0200

    selftest: Cope with parentheses in testnames in --load-list.

commit 474c98fe263455f97f764195d44fb7b7406748b0
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Sep 5 03:14:44 2010 +0200

    selftest/subunit: Parse timestamps generated by upstream subunit.

commit ef9657017cf082bd49ed81f3df85a0fb1786f715
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Sep 5 02:20:56 2010 +0200

    selftest: Print out unmatched tests when using --load-list.

commit 3c250677245e89ce0062db1758c855b051ddef77
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Sep 5 00:58:41 2010 +0200

    dsgetinfo: Set modulesdir when using ldb without ldb_wrap
    
    (Is there a particular reason we're not using ldb_wrap here?)

commit 6185fb4e9e3d3e654ad9f6325da0f4886013dda6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Sep 4 23:05:16 2010 +0200

    dnspython: Update to latest upstream.

commit 5de2ec0def3e4ad0ead20b426e81509fd8e48c6d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Sep 4 23:04:28 2010 +0200

    subunit: Import latest upstream.

commit ed4253504167748c0bb829176d41c09365937189
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Sep 4 23:04:07 2010 +0200

    testtools: Import latest upstream.

commit 955076530425b2c37c7ad545f9a596e8daca0321
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Sep 4 21:13:37 2010 +0200

    testr: Fix configuration to use idfile, in case more than a couple of
    hundred tests fail.

commit bde18c6218fa6b593ff4f3db8bcd2f83e9b661aa
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Sep 4 21:08:35 2010 +0200

    selftest: Don't make printing the log output a side-effect of check_env(), do it manually.

commit 3c2b733698507e33716a2f837d6b58c34bea9b78
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Sep 4 18:24:02 2010 +0200

    selftest: Remove stop() method, not used anywhere.

commit 7154e93b21b0d6dcc578548e203a08b77c21d972
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Sep 4 18:18:55 2010 +0200

    selftest/samba4: Remove references to Samba34.pm, which no longer
    exists.

commit 025494b6bd8c266d0df0f23cbb50db048df9697b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Sep 4 18:03:19 2010 +0200

    selftest: Refer to subunit README rather than documenting locally.

commit 261d9aaff0ff45e7fdd7e3140fc0e86997490b28
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Sep 4 17:59:48 2010 +0200

    ldb: Add missing aliases for ldb_ildap.

commit 72f3727464ff0f1116546a6eb61cdb8ee6872003
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Sep 4 03:42:52 2010 +0200

    dsdb: Add missing dependencies for dsdb ldb modules.

commit 84c1874677b27e76f2acb3640b867aaebbb9b343
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Sep 4 03:42:37 2010 +0200

    waf: Support aliases in SAMBA_MODULE.

commit 1ba533f4cb7a7274a3c49dd69a30e20f579738a2
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Sep 4 02:18:31 2010 +0200

    waf: Make shared modules available in the build dir.

commit 54d2dce7b15579cc4daaad07a9e0344ef4fc17f7
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 19:57:02 2010 +0200

    librpc/rpc: add dcerpc_binding_handle_set_timeout()
    
    metze

commit 1df9fe81f52deebc23f762c80c974ca772553b21
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 20:05:39 2010 +0200

    s3:rpc_server: implement rpcint_bh_set_timeout() as dummy
    
    metze

commit d5355dda819e0dc6c75678f4756becef94715ffa
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 20:05:08 2010 +0200

    s3:winbindd: implement wbint_bh_set_timeout() as dummy
    
    metze

commit a510b9de39bfc970084ab77d94f67d6bec5c4923
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 19:59:15 2010 +0200

    s3:rpc_client: implement rpccli_bh_set_timeout()
    
    metze

commit 0879571897c0c0485890119768a4dad860ee88b0
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 19:52:59 2010 +0200

    s4:lib/messaging: implement irpc_bh_set_timeout
    
    metze

commit 99a26edcb37cfce19a1221f518e6c57e55120682
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 19:52:20 2010 +0200

    s4:librpc/rpc: implement dcerpc_bh_set_timeout()
    
    metze

commit 27918981de05edf0d07bdb4adc75701b29c957d3
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 19:51:58 2010 +0200

    librpc/rpc: add set_timeout() to dcerpc_binding_handle_ops
    
    metze

commit 2907310803a3168582fa0d7ffb5c357e89723434
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 19:28:00 2010 +0200

    s3:rpc_server: make it possible to use rpcint_binding_handle() directly
    
    metze

commit 389d35708ea910e68468648396f405e52907c749
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 2 18:41:45 2010 +1000

    torture-lsa: cope with STATUS_SOME_UNMAPPED errors
    
    Now that we support SePrintOperatorPrivilege, an interaction between
    the spoolss tests and the privileges tests cause a failure. The
    failure happens like this:
    
     - the spoolss.access test creates and then deletes an account with
       SePrintOperatorPrivilege privilege
    
     - this leaves the privileges database with an entry for a deleted
       account that is still visible via LSA calls. This is correct
       behaviour (verified against w2k8r2)
    
     - the lsa.privileges test then enumerates all accounts that have at
       least one privilege, and gets the SID for the deleted account
    
     - it then called LookupNames and LookupSids on this deleted account,
       and gets an error.
    
    The fix is to not call LookupSids and LookupNames on sids which have
    SID_NAME_UNKNOWN as the type
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 48323d88cc4ca3a08d1bd79c748061c775d57eca
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 2 16:46:20 2010 +1000

    selftest: run client tests with log level 1
    
    this PIDL print functions to display

commit aefbdc4a9d78d0b92dabb960fadd13801202afe2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Sep 2 16:45:50 2010 +1000

    waf: fixed make test with TESTS="test1 test2"
    
    when multiple tests are specified, make escapes the space in MAKEFLAGS
    with a backslash, so we need to use shlex.split()

commit b58bfb351025816b18389ac2377c429b8a777dde
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Jul 20 15:31:49 2010 +1000

    util: added samba_start_debugger()
    
    This developer function is useful for debugging unusual error
    conditions

commit 31d3227074a63ab7f66f74eca019884bb2e236da
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 16:05:38 2010 +0200

    s4:lib/messaging: make irpc_request private and remove unused code
    
    metze

commit dd7154234c267254cea199638062c5be1cd8b253
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 15:59:44 2010 +0200

    s4:libcli/composite: remove unused composite_continue_irpc()
    
    metze

commit a9078aad3c970e325e71f72f9f2c09e7136082cd
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 15:42:56 2010 +0200

    s4:lib/messaging/tests: make use of irpc_binding_handle()
    
    metze

commit a65d1eb05ce2eb0369e7489205c57191cd09c989
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 15:21:16 2010 +0200

    s4:lib/messaging: use irpc_binding_handle() for python bindings
    
    metze

commit 993d37baf589da85f5285f4a0edc45da692cc192
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 13:18:14 2010 +0200

    s4:wrepl_server: use irpc_binding_handle_by_name() in wreplsrv_scavenging_replica_active_records()
    
    metze

commit f43ec0e7516a1039172ce3e7f26ad47eb0271310
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 13:05:32 2010 +0200

    s4:wrepl_server: use irpc_binding_handle_by_name() in r_do_release_demand()
    
    metze

commit 2e07f82f7cb905d5892d5dec7966ff17725bbc79
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 12:58:10 2010 +0200

    s4:wrepl_server: use irpc_binding_handle_by_name() in r_do_challenge()
    
    metze

commit 8202cf7966b8125ac175ceb8cef18037c9a8cc31
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 16:59:05 2010 +0200

    s4:auth_winbind: use irpc_binding_handle_by_name()
    
    metze

commit 52d4a97afc4b09f860e84f059c419d33bfec18ff
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 12:33:17 2010 +0200

    s4:libcli/wbclient: use irpc_binding_handle_by_name()
    
    metze

commit 5c73c84f291573e835e9286c8b3a0831bc3c7dad
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 12:09:36 2010 +0200

    s4:rpc_server/netlogon: use irpc_binding_handle_by_name()
    
    metze

commit e117177307fe42e0e6ef92ee66df1154ffe3b9ec
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 11:39:15 2010 +0200

    s4:smbd/service_task: use irpc_binding_handle_by_name()
    
    metze

commit ff0362fc3567ec2dab902c685f7715a6070a63e3
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 11:34:17 2010 +0200

    s4:dsdb/kcc: use irpc_binding_handle_by_name()
    
    metze

commit 3c4150522cc85fd5774ca3346ff11f9d481bca7a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 11:13:01 2010 +0200

    s4:libcli/finddcs: use irpc_binding_handle_by_name()
    
    metze

commit f2422a0faab4443649633d6b378a4357eff194f2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Aug 30 13:45:48 2010 +0200

    s4:rpc_server/common: use irpc_binding_handle_by_name() in dcesrv_irpc_forward_rpc_call()
    
    metze

commit 611357aee31ad58632a2b029a91d950a2cffb341
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Aug 30 13:44:41 2010 +0200

    s4:lib/messaging: add irpc_binding_handle_by_name() helper function
    
    metze

commit e26f0abe9183ac46fd8b749f7696f404414b780e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Aug 30 13:44:01 2010 +0200

    s4:lib/messaging: add irpc dcerpc_binding_handle backend
    
    metze

commit 328c7084f2356dfad5c482fac4cd783b8027ab6b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Aug 31 13:25:59 2010 +0200

    s4:lib/messaging: move messaging prototypes from irpc.h to messaging.h
    
    metze

commit 8740caece0a236d7db4c8efa757766532b06691b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 15:42:28 2010 +0200

    s4:lib/messaging/tests: fix some compiler warnings
    
    metze

commit 705f4c205685b0a167402ff54e37abd75b92a72d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 10:39:18 2010 +0200

    s4:auth_winbind: remove unused winbind_samba3 backend
    
    This uses the winbind protocol directly, which needs to be avoided!
    
    metze

commit 0f35d51ab65b974d3362e0b6f7ebff7b41fb5835
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 16:15:27 2010 +0200

    s4:auth_winbind: fix segfault in winbind_check_password_wbclient()
    
    We should only look at err if WBC_ERR_AUTH_ERROR is returned.
    
    metze

commit 5b0e0acc819dedba3ef631e66be6c632fdf23e77
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 10:57:01 2010 +0200

    s4:auth_winbind: fix compiler warnings
    
    metze

commit 14ffb7d699df450a4fc5fc362cec7f804cae922b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Sep 3 13:27:01 2010 +0200

    nsswitch/libwbclient: LIBWBCLIENT depends on LIBWINBIND-CLIENT
    
    metze

commit fdffa90ef99e10b963ecec73a65e18ecb6cec932
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Sep 3 06:20:49 2010 +0300

    s4-drs: A quick fix for DRSUAPI_EXOP_FSMO_RID_ALLOC extended_op handling
    
    When DRSUAPI_EXOP_FSMO_RID_ALLOC extended op is handled
    in DsGetNCChanges() stub, we need to returned a well know set of
    object - see: [ms-adts], 3.1.1.5.1.7
    
    With this hack we are going to return just objects modified
    during RID allocation procedure - i.e. "RID Manager$", "RID Set" for
    computer object and computer object itself.
    
    Which is a close approximation of what we are expected to return.

commit 65b21c056217b03ad0e0aa321bc9d85e048d2ee6
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Sep 3 04:29:02 2010 +0300

    s4-dreplsrv: Refactor drepl_replica_sync() to behave as described in MS-DRSR
    
    see: MS-DRSR - 4.1.23.2
    
    Note: Synchronious replication not implemented yet.

commit 715743b38dec1968dce843573a12947407d74324
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Aug 31 04:16:18 2010 +0300

    s4-dreplsrv: Helpers to locate source DSA in a partition by GUID or DNS name

commit 3691e6c97b2187730d42a2bb79ecc06f37aab344
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Aug 31 04:15:37 2010 +0300

    s4-dreplsrv: Helper to find NC by DN or GUID or SID

commit 5685fb64e4f4660d586e57c59800d0f374d10749
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Aug 31 00:01:25 2010 +0300

    s4-dreplsrv: Add caller-specific data parameter for dreplsrv_fsmo_callback_t
    
    It is to be used when we need to preserve a state
    to be used in tha callback when dreplsrv_out_operation is completed

commit cf728f890f6d2cd8cc831ba95a5d2d0dac6e8e35
Author: Günther Deschner <gd@samba.org>
Date:   Thu Sep 2 13:41:08 2010 +0200

    s3-spoolss: fix some debug statements.
    
    Guenther

commit 4208d40a74cdf01cf404b6378f8b8b00715c3e63
Author: Michael Adam <obnox@samba.org>
Date:   Mon Aug 30 14:49:16 2010 +0200

    docs:vfs_gpfs: improve the CAVEAT section on run and build time dependencies

commit 0bc53f7d9f9af5379422811347e80beb0318b673
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Sep 3 02:39:38 2010 +0200

    pidl: Keep only a single copy of samba.dcerpc.base.ClientConnection.

commit c5449c929841817ac76197b4fc8c6792b9dc3204
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Sep 3 00:35:29 2010 +0200

    pidl: Factor out generation of interface type name.

commit 804aaad526419e2be9101190bbccf95152f1d4b4
Author: Simo Sorce <idra@samba.org>
Date:   Thu Sep 2 16:09:19 2010 -0400

    s3-kerberos: use krb5 compat macros in fill_keytab_from_password()
    
    This one uses the compat macro in the right way, without actually
    breaking the code.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit d9c63fbe9275c0abfc0351cac3669fb52c1c99da
Author: Simo Sorce <idra@samba.org>
Date:   Thu Sep 2 16:07:00 2010 -0400

    Revert "s3-kerberos: use krb5 compat macros in fill_keytab_from_password()."
    
    This reverts commit 9986d25ed195ee77bd73c96f057c527b4c3a8f03.
    
    This patch was causing us to free unallocated memory.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit ac317eba25ab9d55866523858a5a9c6b1363de1f
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Sep 2 22:13:59 2010 +0200

    s3: Remove unused nss_info_adex_init()

commit 4ca96834f3b77757d1e03fbc5290677b6724b785
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 11 13:35:14 2010 +1000

    s3-param: added lp_set_cmdline() and --option= parameter
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit f6a631bdec3ec2aba8a923136b66edf36273d9f2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 31 14:00:37 2010 +1000

    s4-resolve: added resolve_name_ex_send()
    
    this allows access to the flags that control name resolution
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit cecc58e0582a8574f239a26e354c00a6d570c3d5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 31 12:28:55 2010 +1000

    s4-auth: make the disabled acct messages a bit less verbose
    
    raise the debug level
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit b7060c7c5c78d7a7416707c6217fe163c1183e2d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 31 12:07:40 2010 +1000

    s4-selftest: try DNS before bcast in selftest
    
    this better reflects real usage

commit efbc702b1eac7c35b0d64d45a8043db3642361a0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 31 12:07:07 2010 +1000

    s4-resolve: add a default domain for unqualified names in file backend
    
    this better emulates what happens with real DNS

commit 39599e949b9231fa5d88b1a6830b442c1faba1d9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 30 15:41:22 2010 +1000

    s4-pidl: added a test for all generated rpc interfaces
    
    this tries to instantiate all types in all generated python RPC
    interfaces, then checks that all attributes can be read, written and
    compared.

commit 71f2ebcae09a3581cb27966b44387a10ea89236d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 30 15:37:11 2010 +1000

    pidl: cope with dom_sid28 in python generator
    
    treated the same as dom_sid2

commit eccb22c9fb21f6b439dd6ced03e946f84dccd455
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 30 15:29:26 2010 +1000

    doc: patched bind9 is no longer needed
    
    bind9.7.2rc1 contains all the patches needed to work with Samba4 krb5
    DNS updates with w2k8r2.

commit e2fdcf1a7a977d6984abae71d24b9dbdac19bbce
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Aug 28 22:18:00 2010 +1000

    pynet: fixed ref count error on Py_None
    
    ensure we don't run out of None ...
    
    Pair-Programmed-With: Jelmer Vernooij <jelmer@samba.org>

commit 58d92cefe266e423f05dec3a2fef91ebc870c350
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Aug 28 22:00:21 2010 +1000

    pidl-python: cope with NULL pointers in more places
    
    NULL is converted to Py_None

commit e7e39584a9dcfd7d98dc10b88baa53019a77e652
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Aug 28 21:53:27 2010 +1000

    pytalloc: treat a NULL ptr as Py_None

commit 9f5dcb2235b42177bc325a48930917b5d68308e4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Aug 27 12:08:49 2010 +1000

    s4-net: use CommandError() in net rodc
    
    this integrates better with the net command
    
    Pair-Programmed-With: Jelmer Vernooij <jelmer@samba.org>

commit 768475d5716faaf3e730404d44d68f7a3250d861
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sun Jul 11 23:11:09 2010 +1000

    s4:dsdb Fix attribute being searched for in dereference against Fedora DS
    
    The problem here is that these attributes are not mapped in the
    simple_ldap_map, and they were changed a while back.
    
    Andrew Bartlett

commit 68c61dfa3fa925c63247bef83f10dfa2efa458e6
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sun Jul 11 23:08:46 2010 +1000

    s4:dsdb Make the dereference control critical if input is critical
    
    This helps us ensure that the backend knows about and respects the
    dereference control if our caller has asked that the extended DN control
    be considered critical.
    
    Andrew Bartlett

commit 379d073444f7acafb6e5761dd667073ad7371771
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sun Jul 11 23:07:06 2010 +1000

    s4:dsdb Don't reload the schema against OpenLDAP backend
    
    The schema should be considered read-only when we are using the OL
    backend, as we can't update the backend schema in real time anyway.
    
    Andrew Bartlett

commit 896553a1a85f541f72ab6b45e71d89d00e727791
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jul 8 11:44:13 2010 +1000

    s4:provision Allow OpenLDAP backend to provision again
    
    OpenLDAP does not have any post-setup requirements at the moment.
    
    Andrew Bartlett

commit 9aae50443df5471b91e4d829c0ca0285adeb71bb
Author: Zahari Zahariev <zahari.zahariev@postpath.com>
Date:   Sat Jul 3 21:43:42 2010 +0300

    s4:provision Improved error handling in provisionbackend
    
    When using OpenLDAP as a backend with Samba4 we get failure during
    provision and this patch will help better determining the real error.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 97246f7bbd4f1df1002b606051bfb2dde4977e4a
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Sep 1 01:42:56 2010 +0300

    s4-test-dssync: Print the reason for skipping FetchNT4Data test

commit 5b875a83a9c641f9e016bd4e83051170f7bd50d0
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Sep 1 12:55:18 2010 +0200

    s3: Print the IP of the server that stopped responding

commit d45f901b9304977f7125fefcfc889076471442b4
Author: Björn Jacke <bj@sernet.de>
Date:   Wed Sep 1 11:22:09 2010 +0200

    s4/ldb: fix standalone build

commit 5568ceda47905657b79f7971a3a5eca1ba0cedc1
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 1 10:56:17 2010 +0200

    s3-ctdb: ctdbd_init_connection() is static to this file.
    
    Guenther

commit 7afa6675ee4bdc7ed914635807c3aef5bec1ae3a
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 1 10:51:13 2010 +0200

    s3-auth: fix uninitialized error code in get_guest_info3().
    
    Guenther

commit e5c7ec66982e6d2705c7a103aff5502f441404bb
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 31 16:58:23 2010 +0200

    winreg: add winreg_RestoreKeyFlags to IDL.
    
    Guenther

commit 95f9542e055d027adeb596a2c67fe48add77033c
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 31 23:09:39 2010 +0200

    s3-auth: remove global include of krb5pac.h.
    
    Guenther

commit 16c2d9182d0c0ff55eba4d8bce2931b579b00339
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 31 16:58:54 2010 +0200

    s3-printing: add debug to get_correct_cversion().
    
    Guenther

commit bf3912be46b2cac71a1ff89f548b9e3528872c6c
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 31 14:27:56 2010 +0200

    s3-libads: avoid crashing in ads_keytab_list().
    
    Heimdal's krb5_kt_start_seq_get() will leave a non 0 fd in the krb5_kt_cursor
    struct when it cannot find a given keytab.
    
    Guenther

commit d5436c650c806bb04424205b1d5c9c699b051d7d
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 31 17:25:18 2010 +0200

    s3-auth: remove unused variable in check_sam_security().
    
    Guenther

commit d8c9756d539f9a869bd09fb67b3adcbd2a6a0fc0
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 31 22:28:00 2010 +0200

    s3-kerberos: use more krb5 compat macros in get_mem_keytab_from_secrets().
    
    Guenther

commit 765bee9d7a2ea990db37e7811fe449af3c61e7a0
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 31 22:27:32 2010 +0200

    s3-kerberos: use smb_get_enctype_from_kt_entry() in
    get_mem_keytab_from_secrets().
    
    Guenther

commit e26a9363335fa0c6e72f46531395bf0f9d950e83
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 31 11:04:40 2010 +0200

    s3-kerberos: use get_kerberos_allowed_etypes in fill_keytab_from_password().
    
    Guenther

commit 9986d25ed195ee77bd73c96f057c527b4c3a8f03
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 31 11:00:03 2010 +0200

    s3-kerberos: use krb5 compat macros in fill_keytab_from_password().
    
    Guenther

commit 3d78279fd437a5ef5b4ed7ff88c1f605cd0999d9
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 31 11:01:23 2010 +0200

    s3-kerberos: fix flush_keytab() compile with heimdal.
    
    krb5_kt_cursor is not a pointer in heimdal but a struct.
    
    Guenther

commit a20e94bb0ebf4f1bd19dca527f48696a62a97ab1
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Aug 31 23:03:55 2010 +0200

    Revert "s4/heimdal_build: use GetTimeOfDay macro instead of gettimeofday"
    
    This reverts commit 659829851703797b47d398d3c71ad971b2c5dab7 which later on
    needs some tweeks to not break some builds

commit 5648c3f67eeebee0a17cf9e7b64fb2cbfe2e2e68
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Aug 31 16:52:56 2010 +0200

    s3: messaging_ctdbd_connection() was only called with procid_self()
    
    Eventually we'll get this right...

commit 808ceac9f54bb3988fc2bb6b0d86eaded07283e1
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Aug 31 16:51:28 2010 +0200

    s3: messaging_ctdbd_init potentially modifies my_vnn
    
    If we call messaging_ctdbd_connection() we end up with the wrong vnn in our
    messaging context.
    
    This is a bit of a hack, get_my_vnn() needs to go eventually along with
    procid_self()

commit 301bf22eab92999bc4b0f2d733830618b8b9d428
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Aug 31 16:11:10 2010 +0200

    s3: Make ctdbd_init_connection static

commit 079baa76884a90740051f8dd0408eea4404adce8
Author: Björn Jacke <bj@sernet.de>
Date:   Wed May 12 10:50:17 2010 +0200

    s3: use fine grained time in netprot response

commit 659829851703797b47d398d3c71ad971b2c5dab7
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Aug 31 13:11:13 2010 +0200

    s4/heimdal_build: use GetTimeOfDay macro instead of gettimeofday

commit b4ae2efa963649c46fa4a3e3ad054c691f38af5b
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Aug 31 13:10:45 2010 +0200

    s3: use monotonic clock for time deltas in smbget

commit 20254221d2c935ebcf2c4ea4372b1634bd09b1f0
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Aug 31 13:06:39 2010 +0200

    tdb/waf: the deps for rt are provided by libreplace

commit 7c88ccde30b824e14183f7fd07f0c307c7ff693d
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Aug 31 11:31:19 2010 +0200

    replace/waf: add rt to deps at this place

commit f222387533645689b8529235d5e6c77418064f9e
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Aug 31 11:30:17 2010 +0200

    s4: use GetTimeOfDay macro instead of gettimeofday

commit 7eff519703f15d123c9b256a674b1c6ad8c84446
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Aug 31 03:29:55 2010 -0600

    packaging: build fixes

commit 4c8531b642c579e69c27a8920c1aacbee04260c9
Author: Björn Jacke <bj@sernet.de>
Date:   Mon Aug 30 18:58:20 2010 +0200

    s4/torture: use monotonic clock for time deltas in denytest

commit 60002600b86808551df0fb9b907869590b670450
Author: Björn Jacke <bj@sernet.de>
Date:   Mon Aug 30 18:54:42 2010 +0200

    s4/ldb: use monotonic clock for time deltas in ldbtest

commit 8aa0b709d4924262c73c96d54bc0a28fa8b8aff0
Author: Björn Jacke <bj@sernet.de>
Date:   Mon Aug 30 18:02:19 2010 +0200

    s3: use monotonic time in timeout of sys_select_intr()

commit 73ad77f20a136b74a4ae381c8b97acf248d3c8fe
Author: Björn Jacke <bj@sernet.de>
Date:   Mon Aug 30 17:56:37 2010 +0200

    lib/util: add nsec_time_diff to calulate diffs from timespecs

commit 0ca6a73d011abd20d8a9256f6dfe3517bd1a27ef
Author: Björn Jacke <bj@sernet.de>
Date:   Mon Aug 30 15:46:22 2010 +0200

    s3: use monotonic clock for time deltas in namequery functions

commit 5728b0fb5f59f856d2f20a5237dc31a1ca0c4afe
Author: Björn Jacke <bj@sernet.de>
Date:   Mon Aug 30 15:44:54 2010 +0200

    s3: use monotonic clock for time deltas in smbtar

commit fc6767502896dfcd74767deae4775b3177369598
Author: Björn Jacke <bj@sernet.de>
Date:   Mon Aug 30 12:15:54 2010 +0200

    s3: use monotonic clock for time deltas in smbclient

commit 6e9747c1ce4806c0b81400f2627579e0bbf95207
Author: Björn Jacke <bj@sernet.de>
Date:   Mon Aug 30 15:30:16 2010 +0200

    s3: add TspecDiff macro

commit 4b09919f70b171bc6e053bc3014ffc0e36bc1ff1
Author: Björn Jacke <bj@sernet.de>
Date:   Wed Aug 25 12:23:50 2010 +0200

    s4:process_thread: use monotonic time for time deltas

commit c091b3344badac6241b85c6cf2f7dacb0f06047c
Author: Björn Jacke <bj@sernet.de>
Date:   Mon Aug 30 12:10:29 2010 +0200

    lib/util: add function to query the monotonic clock with the required fallback to the realtime clock

commit 63b1f2ee813b430e1f4bec3abb28a6266f8a82c8
Author: Björn Jacke <bj@sernet.de>
Date:   Thu Aug 26 12:22:02 2010 +0200

    libreplace: make a define for a best effort monotonic clock

commit 8c6ca6e25a4d33e4f9ae2ef13a3872cd533ba6f6
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Aug 24 11:14:19 2010 +0200

    s3: we have clock_gettime everywhere, remove ifdefs

commit 8589f46b86b8acd0439e1325818cc69f9050240d
Author: Björn Jacke <bj@sernet.de>
Date:   Mon Aug 30 16:51:56 2010 +0200

    s3: use clock_gettime() in timespec_current()

commit 3df1037a74181ef314e2115ade836546a572ee48
Author: Björn Jacke <bj@sernet.de>
Date:   Thu Aug 19 19:07:04 2010 +0200

    libreplace: add clock_gettime replacement function for systems that don't have it

commit 9f87bc4588c2ac669f6e808158dca7ec8517a461
Author: Björn Jacke <bj@sernet.de>
Date:   Fri Aug 27 00:13:07 2010 +0200

    libreplace/waf: look for clock_gettime

commit 4e104f185e1aa12c0923e82d3991a658eb2b9474
Author: Björn Jacke <bj@sernet.de>
Date:   Thu Aug 19 18:39:45 2010 +0200

    libreplace: move detection of clock_gettime to libreplace

commit e8662248c8bf7dfc830ce34f301f30f59e600cd8
Author: Björn Jacke <bj@sernet.de>
Date:   Mon Aug 30 14:35:49 2010 +0200

    libreplace: move gettimeofday TZ arg check here

commit c2e2be51a64dab19b001bddb39341a035ba6a2a1
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 30 09:55:44 2010 -0600

    packaging: cifsutils are no longer part of Samba

commit eee63b7e75e6fe3e244285698211da46052e7c18
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Aug 31 11:18:11 2010 +1000

    s3-auth Rename NT_USER_TOKEN privileges -> privilege_mask
    
    This is closer to the struct security_token from security.idl
    
    Andrew Bartlett

commit 8c15cf54ae797d8f01a61228d367b5a785f06d98
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Aug 31 09:32:52 2010 +1000

    s3-auth Rename NT_USER_TOKEN user_sids -> sids
    
    This is closer to the struct security_token from security.idl

commit 6beb5563f3464cf32109c9069b39a5cf71134321
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 30 15:22:29 2010 +0200

    s3: Fix a segfault in the printer code using create_conn_struct

commit b4610cdb3b1d8e20bafd6d2d563360a59ef33ba3
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Aug 30 13:42:20 2010 +0200

    s4:lib/messaging: add some const to messaging_send()
    
    metze

commit 734677292fb6fb4f7cccc7ab1c6fd04ad2203aed
Author: Thomas Nagy <tnagy2pow10@gmail.com>
Date:   Mon Aug 30 15:02:26 2010 +0200

    Disable gccdeps if -MD is not supported
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit a8d8cf00eae08466ef6a232ccbb5ede9ee4d9626
Author: Björn Jacke <bj@sernet.de>
Date:   Mon Aug 30 19:49:35 2010 +0200

    vfs_smb_traffic_analyzer: fix off by a second bug
    
    convert_timespec_to_time_t is rounding but here we keep track of milliseconds
    here - so we should use plain the tv_sec.

commit 20e7b4ec744dead1544a4b7625dc3fcb5d802418
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 23 23:02:44 2010 +0200

    s3-auth: The unlock of the account is now done by the get_sampwnam call.
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit c5cfad142c6bc5cd4819726cf2444108bc7639c3
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 23 10:08:53 2010 +0200

    s3-passdb: Try to unlock the account if it is locked out.
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 2ab0b63bd89d2d833695dc33aecec7a63ccbab0c
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 23 10:08:34 2010 +0200

    s3-passdb: Added a pdb_try_account_unlock function.
    
    The function checks if the account has been autolocked. If we have a
    lockout_duration and a bad password time it checks if we can unlock the
    account.
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 9dd7e7fc2d6d1aa7f3c3b741ac134e087ce808fd
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Aug 18 17:17:42 2010 +0200

    s3-auth: Use SamInfo3_for_guest to create guest server_info.
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 5f419eaa3289903a44c34fa1280e51bc197c65f3
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 30 09:27:24 2010 -0600

    packaging: Build with -O3

commit ebf05a1db3aa9310884d523083bf2026df837691
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 30 09:26:49 2010 -0600

    packaging: Attempt to fix the RPM build

commit 85b8d7c605a2a8dec83696fea65d6aea5df66ce6
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 30 15:52:27 2010 +0200

    s3-kerberos: try to fix the build w/o kerberos support.
    
    Guenther

commit 1d3bd5b1c03e7e15fa2f089537cb29fd46797b16
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 30 15:56:16 2010 +0200

    s3: Fix some uninitialized variable warnings

commit 4ccf3a05af0f3c09ff8e85c63578cf1857312e6b
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 30 08:36:51 2010 -0600

    s3: Fix the build of the nfs4_acl module

commit 9b704e4b9a740e233cf05233108700b4486b849c
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 30 14:50:15 2010 +0200

    s3-waf: fix the build after gssapi changes.
    
    Guenther

commit 9697687e25c6b7ed53e32f8fc804c483e0221a2f
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 30 14:47:52 2010 +0200

    dcerpc-gssapi: include missing dcerpc_krb5.h header.
    
    Guenther

commit d524f5851865a802441f67fe01e04380505543d4
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 30 14:44:13 2010 +0200

    dcerpc-gssapi: fix "shadows a global declaration" warning when gssapi is unavailable.
    
    Guenther

commit 2a2557075ece5a2bac1163e73310d9319fb1ba7f
Author: Simo Sorce <idra@samba.org>
Date:   Fri Aug 27 15:23:20 2010 -0400

    s3-dcerpc: Implement DCERPC_AUTH_TYPE_KRB5 server side
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 36fdb211a6f2cfa7c939dc40df5094019c6e977f
Author: Simo Sorce <idra@samba.org>
Date:   Wed Aug 25 16:21:51 2010 -0400

    dcerpc-gssapi: add function to retrieve client name
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit d15d76af5f169d27eeecab909174b67f7b44d0ee
Author: Simo Sorce <idra@samba.org>
Date:   Sat Aug 21 10:59:52 2010 -0400

    dcerpc-gssapi: add function to extract authtime
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 6c80e04120542624438e4ca015bdaca45e4baee3
Author: Simo Sorce <idra@samba.org>
Date:   Fri Aug 20 09:30:49 2010 -0400

    dcerpc-gssapi: add function to extract authorization data (PAC) form gssapi context
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit fb1aef085e0ae52869bb3906e803e10951da5781
Author: Simo Sorce <idra@samba.org>
Date:   Fri Aug 20 09:31:07 2010 -0400

    dcerpc-gssapi: add function to check flags
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit e6ed1dc249f6a1a536efcd7519bc9d9bd5c180dd
Author: Simo Sorce <idra@samba.org>
Date:   Fri Aug 20 04:45:56 2010 -0400

    dcerpc-gssapi: add initial server side code
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit b31f75d8f6dbfcad4438262eeb3ecda165f72fae
Author: Simo Sorce <idra@samba.org>
Date:   Thu Aug 19 11:25:32 2010 -0400

    s3-dcerpc: add krb5 helpers
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 26e24928b368071909883e345e775f8615e61154
Author: Simo Sorce <idra@samba.org>
Date:   Sat Aug 21 10:50:05 2010 -0400

    s3-krb: Reformat and add doxygen comment to decode_pac_data()
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 43d0ef11752a2e9b55c8b45ce5ec503f28625f10
Author: Simo Sorce <idra@samba.org>
Date:   Wed Aug 25 16:22:03 2010 -0400

    rpcclient: support starting sign/seal with krb5/spnego
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit f3501cf8488c77a896b56fb33bfbb68ee13cb1e9
Author: Simo Sorce <idra@samba.org>
Date:   Thu Aug 26 18:49:49 2010 -0400

    s3-smbd: use make_server_info_krb5() in smb2 too.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a413a86daa25a277ddb068ed5606a604d62d70ef
Author: Simo Sorce <idra@samba.org>
Date:   Thu Aug 26 18:49:28 2010 -0400

    s3-smbd: use make_server_info_krb5()
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 08a8e25d6bfc559b56250efcce8e73845de23194
Author: Simo Sorce <idra@samba.org>
Date:   Thu Aug 26 18:48:46 2010 -0400

    s3-auth: add helper to get server_info out of kerberos info
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit ce60d6d9cf3ebc6b071ebd944047f7cbc2b9e2ec
Author: Simo Sorce <idra@samba.org>
Date:   Thu Aug 26 17:59:17 2010 -0400

    s3-smbd: User helper function to resolve kerberos user for smb2
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 94adbf37263b9d5e4adca5e5adf38a3255f205da
Author: Simo Sorce <idra@samba.org>
Date:   Thu Aug 26 17:58:52 2010 -0400

    s3-smbd: Use helper function to resolve kerberos user
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit b9772a4886fa5137574a1ba0734fa1e30343283b
Author: Simo Sorce <idra@samba.org>
Date:   Thu Aug 26 17:57:26 2010 -0400

    s3-auth: Add helper function to retrieve the unix user from a kerberos ticket
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit fc79f358eb6a1dd7ed2e5f5b1e31fb664a182595
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Aug 30 10:45:52 2010 +0200

    docs-xml/vfs_gpfs: document 'gpfs:refuse_dacl_protected'
    
    metze

commit 4d76c18f78742ba92b4772037ac306b567351ca1
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Aug 30 10:31:38 2010 +0200

    docs-xml/vfs_gpfs: document 'gpfs:merge_writeappend'
    
    metze

commit 6cf66a04ad690e78311411e2195b3a1710953262
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Aug 30 10:24:52 2010 +0200

    docs-xml/vfs_gpfs: document 'gpfs:winattr'
    
    metze

commit a8a704001e5da10fae5df5fc2856d06250739248
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Aug 30 10:12:41 2010 +0200

    docs-xml/vfs_gpfs: document 'gpfs:getrealfilename'
    
    metze

commit 196699a6a1412687f7d5fe24c506577002dd769e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Aug 30 09:29:46 2010 +0200

    docs-xml/vfs_gpfs: document 'gpfs:leases'
    
    metze

commit d35d846db14a4bb28a97a7bab6dbfdbe7a62b593
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Aug 30 09:01:21 2010 +0200

    docs-xml/vfs_gpfs: document 'gpfs:sharemodes'
    
    metze

commit 0e87461dfb90a17d2774572ebd04650decf1c8da
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Aug 30 02:40:04 2010 +0300

    s4-drs-test: Skip a check that may possibly fail
    
    This check may fail due to automatic replication between DCs
    during the test execution.
    Ideally we should block automatic replications (somehow)
    during this test. But until then, we need just to skip
    this check, it is not *that* important anyway

commit 5c5e5ff6077d544fc6a75f423ff6f14715fb4256
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Aug 29 19:47:40 2010 +0300

    s4-util: Print more informative error messages in 'net drs replicate'

commit 0007203978eaf3b570d00862a95fecd1193e3f85
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Aug 29 17:17:47 2010 +0300

    s4-drs-test: Use dns hostnames to run 'net drs replicate' command

commit 11a3d78951c897c46264203daaad12a3ead5cf8c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Aug 25 10:05:15 2010 +0200

    librpc/ndr: correctly implement ndr_charset_length()
    
    Before we ignored the charset type.
    
    metze

commit fbf3d03550495df58adeb291a44776270d6cf01d
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 29 23:13:46 2010 +0200

    s3: Fix an uninitialized variable

commit f687d43454cfc3bd293adfbb942358794c780b56
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 29 23:13:34 2010 +0200

    s3: Fix the build without cluster

commit e466bb4af45175a3fe1d6dff54c10d81c4e68257
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 17:25:22 2010 +0200

    s3: Remove smbd_server_fd()
    
    This breaks the perfcol_onefs() build.
    
    Tim, Steve, this use of smbd_server_fd is replacable by calls into
    substitute.c. I don't have a onefs environment around to build a fix, so I've
    decided to insert an #error, making it not compile. The fix should be pretty
    obvious, you can get the socket data via "%I" and "%i" substitutions.

commit e784e160ec899a32b673dfaa77fa12c8f27d296c
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 17:21:07 2010 +0200

    s3: Remove two uses of smbd_server_fd()
    
    Actually, this is a bit cheating. But those two files depend on
    smbd_server_conn anyway, it does not make things worse.

commit 5a6be0b3149e43bad14bb75c308ced904909dc58
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 17:19:42 2010 +0200

    s3: Remove smbd_server_fd() from srv_netlog_nt
    
    This is not actually used. If it was to be activated, we'd have to pass in a
    pipes_struct.

commit 744cc264517ac440d606570f6e36b8aa1ba836f3
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 17:16:08 2010 +0200

    s3: Remove smbd_server_fd() from smbd_register_ips

commit 5bbc4df1680342a5d0678462bac66d5e536219f6
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 17:12:43 2010 +0200

    s3: Lift smbd_server_fd() from msg_release_ip()

commit 467208e9f417158e97941ddabcec001fac36ab3a
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 17:09:56 2010 +0200

    s3: Lift smbd_server_fd() from release_ip()

commit 64323839261f66cfcb81e524e727c129961c573c
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 16:58:54 2010 +0200

    s3: Remove a use of smbd_server_fd() in smbd main()
    
    The effect this might have is that we set the socket options a bit later in
    inetd mode.

commit 70df6fcb2ad99b173ec80bc4b678537dcac036c0
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 16:57:51 2010 +0200

    s3: Pass sconn to check_reload
    
    This removes a use of smbd_server_fd()

commit babfe237171b0dc7561da0a0867d4b9bef2ee872
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 16:56:47 2010 +0200

    s3: Pass sconn instead of msg_ctx to housekeeping_fn

commit 4a58c640cce3b37d5eef62caddd15f64ef8befbe
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 16:33:00 2010 +0200

    s3: Set the client_id in substitute.c once
    
    This never changes during a client connection's life, so we can set it
    once.

commit 8d256b8f30e726bec6755712121840d3a4c9b620
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 16:19:31 2010 +0200

    s3: Remove some uses of smbd_server_fd()
    
    The change in behaviour is that we don't detect "socket option" changes anymore
    when printers are added or removed.

commit 291526b9cf54bab0e099896ebb668d24d151b5ab
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 16:18:07 2010 +0200

    s3: Remove a use of smbd_server_fd
    
    This disables different socket options per user for ntlmssp authentiation, a
    change in behaviour which is exotic enough I believe.

commit b5ed9c2c4d7cec930a9bb4d1a79561d012879bd1
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Aug 28 20:02:13 2010 +0300

    s4-kcc: Notify dreplsrv that Topology has changed

commit b954834ad1a60f006d0d391f17edbcaac9ed48f2
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Aug 28 20:00:39 2010 +0300

    s4-dreplsrv: Implement irpc stub to be used to force dreplsrv to update internal cache
    
    This IRPC calls is to be used whenever repsFrom/repsTo are
    changed by administrative tool or KCC (i.e. Topology changes).
    
    At present, only KCC may change topology.

commit 53551a76c5b6bdcbb2e039ee98f4a712fbc6e8cb
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Aug 28 02:26:00 2010 +0300

    s4-dreplsrv: Move partition cache update before scheduling another set of replications

commit d15a7d9099f4eef8e1a82d0935cca8cfab542e5c
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Aug 28 01:30:09 2010 +0300

    s4-testenv: Synchronize DCs after 'net vampire'
    
    During 'net vampire', vampired DC adds information in its own
    database, se we need to force replicate vampired_dc to the
    first DC to be sure everything is in sync prior starting tests

commit a052497c7427ba7212fbc6a5d0053990dcf0c0dc
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Aug 27 17:25:56 2010 +0300

    s4-kcc: Assert when unexpected repsFromToBlob version is passed
    
    At present we only support v1 structures (Win2k3 and earlier),
    so it is good to make it obvious.
    In case we start supporting v2 we will be able to notice this
    function should be refactored right away

commit d1d2997b0efaadb9017b7bfe97c280fe9520e6dd
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 15:11:53 2010 +0200

    s3: Remove an unused macro

commit 0a8d49575c77e3ef84d6fa6d346035a2dfbc8039
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 12:41:27 2010 +0200

    s3: Remove some references to smbd_server_fd()

commit 15d0d9bcfbc1489725082a4e860f9d403a874d4d
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 14:15:31 2010 +0200

    s3: Fix a (highly unlikly) memleak in set_local_machine_name()

commit 460597dea16f2b5f8a4f9c6cf54b8c26bf94ed6d
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 14:13:54 2010 +0200

    s3: Fix some DEBUGs

commit 755ef5cf1159f4af40e763ab797be8fcaa0c6d37
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 14:05:20 2010 +0200

    s3: Remove smbd_server_fd() from set_local_machine_name()

commit 5e58156654759674d1a93208302c4d4c8f4c258c
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 13:10:30 2010 +0200

    s3: Fix a typo

commit 0f83aa865090bfaf06add6a9e8b7215ab1db7d95
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jun 27 15:36:38 2010 +0200

    s3: Remove the dependency of g_lock on procid_self
    
    procid_self() references global vars, don't depend on them unnecessarily

commit 520c5aae40ce882b8c5c020eb728d4198106d6b7
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 21 14:59:14 2010 +0200

    s3: Remove smbd_server_conn() from check_unix_security

commit 92fd03c5f08055283af55f5a1dffaf84edb7e9ce
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 21 14:57:16 2010 +0200

    s3: Lift smbd_server_fd() from pass_check()

commit a3995ef31cfbd798921bf5fd34721b4251e173be
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 21 14:52:16 2010 +0200

    s3: Lift smbd_server_fd() from password_check()

commit 2257a0cd86cf9bf187b08066b21db948709dd95d
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 21 14:42:24 2010 +0200

    s3: Fix some nonempty blank lines

commit 636d1079891c898d62fe2567a8ac7c3d10df1c08
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 13:04:09 2010 +0200

    s3: Fix smb_pam_passcheck

commit 831611e221d82b8074727fb8e948d0cbe3eb6f0a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Aug 25 11:12:16 2010 +0200

    pidl:Samba4/NDR/Client: support argument based stubs for [in,out,string]
    
    metze

commit 94faf0ccbe061681de0a529b5cfd61da10d5226a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Aug 25 11:02:52 2010 +0200

    pidl:NDR: [in,out,string] doesn't need to pointers
    
    metze

commit aa3b75ad1fa60dbf1ea3bd61782c59b39020b2e3
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Aug 25 11:07:29 2010 +0200

    pidl:Samba4/NDR/Client: correctly copy [out,charset()] buffers
    
    If the conversion from CH_UTF16 to CH_UNIX uses multi-byte characters
    in CH_UNIX, we should not silently truncate the string, but return
    an error.
    
    metze

commit eeebaa63f1fe85fe9d58bad50920432263de84c0
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Aug 25 11:13:08 2010 +0200

    pidl:Samba4/NDR/Client: fix skip reason for unsized arrays
    
    metze

commit 8e6f67392998d09073aa04932a4c838e264a56ce
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Aug 28 09:42:10 2010 +0200

    selftest/Subunit.pm: fix perl warnings
    
    Argument "\n" isn't numeric in numeric ne (!=) at selftest/Subunit.pm line 136
    
    metze

commit 67522702ac96b8432c7ccabeaa162a5a88b5780f
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 28 12:54:22 2010 +0200

    s3: Those functions are no macros anymore :-)

commit a6111c2a7b9b6d8d4b6dec91072743683f9cae8c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Aug 28 08:38:48 2010 +0200

    lib/util: remove implicit discard_const_p() from SAFE_FREE()
    
    This should fix a lot of warnings on IRIX.
    If callers know what they're doing they can use discard_const_p()
    on their own.
    
    metze

commit db6d1c6276e1435e92e190ee9a80de55ca28561d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Aug 28 08:27:08 2010 +0200

    s3:smbd: s/sa_len/sa_socklen , because sa_len is a macro on IRIX
    
    metze

commit 8494d09b894f65b1f948c47710137946075bcfec
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Aug 28 08:25:19 2010 +0200

    Revert "lib/tsocket: sa_socklen is a macro on irix, so better use sasocklen"
    
    This reverts commit 3d4fb698660381e650d7caeb5b7cff12847c0fb8.
    
    This was wrong... The problem was in the caller, sa_len is a macro on irix
    
    metze

commit 04f021e69227a9c8094a5d617f53f3a1887e2da3
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Aug 27 15:25:04 2010 -0700

    Fix bug #7653 - When SMB2 is on, Windows 7 clients can not connect as guest to a share.
    
    Fix "security = share" with SMB2 by mapping internally
    to "security = user" and "map to guest = Bad User".
    
    Jeremy.

commit 9322fa4077a9c15c9b5431ac2369b50bfffbb73d
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 21 14:41:01 2010 +0200

    s3: Lift smbd_server_fd() from smb_pam_passcheck

commit 26ee30585dbffd7e887c48ddf0900fe0afd90e47
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 21 14:38:11 2010 +0200

    s3: Lift smbd_server_fd() from smb_pam_start
    
    smb_pam_passcheck() is the only caller that fills in NULL, all other callers
    now properly fill rhost

commit 619c348ba325961c23dd7883bbaf33e7a99846e6
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 21 14:48:28 2010 +0200

    s3: Pass "private_data" through string_combinations()

commit ef334b95faaa8b8d97ff091299c454dfc8fd390c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Aug 27 19:02:49 2010 +0200

    s4:torture/rpc/winreg.c - set "error_message" to NULL in "test_HKLM_wellknown"
    
    Hopefully this fixes the build on Solaris 8.

commit e736ace470cec34fe51ee0a7b03981ab9b16d6cd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Aug 26 22:48:27 2010 +0200

    s4:torture/spoolss_access.c - fix discarded const warning
    
    "discard_const_p" seems the most appropriate here.

commit a133d83607ce9db9a4725b170001e934648150da
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Aug 26 22:43:05 2010 +0200

    s4:torture/raw/notify.c - freeable stuff shouldn't be "const"

commit 4def6775b56242590b4f7d9cb0f5b0442e33248f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Aug 26 22:35:09 2010 +0200

    s4:ntvfs/posix/pvfs_*.c - quiet Solaris warnings
    
    Fix the function argument of "pvfs_xattr_ndr_load/save".

commit e4afcd62bccf04f2afc779d7292f49e10c29b970
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Aug 26 22:30:04 2010 +0200

    s4:credentials_krb5.c - quiet a Solaris warning

commit e8cfc2f1de4b60f192a391dd02e405a152a7d5a6
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Aug 27 14:44:16 2010 +0200

    s3: Cache results of finding printer names
    
    With hundreds of printers or on a slow machine, this can become expensive.
    
    Problem reported and patch sponsored by DESY, Hamburg (www.desy.de)

commit 44b2a7941c1da4c565cb14bae7acc355787ecc6e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Aug 27 11:42:05 2010 +0200

    lib/tsocket: sa_socklen is a macro on irix, so better use sasocklen
    
    metze

commit 8e1d3b5f8fe4b5bbb61a357e9db62adad7d767f1
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Aug 18 19:51:45 2010 +0200

    s3: Pass rhost through to smb_pam_passchange

commit 6bcab329e7d5d3c6a6f02f3ebdfe397bc18bb521
Author: Sumit Bose <sbose@redhat.com>
Date:   Fri Aug 27 11:29:08 2010 +0200

    s3-waf: build samldap passdb backend
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit c679290f6e942c44dac7c0bf8105a27d9260d5a8
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Fri Aug 27 12:34:27 2010 +0300

    s4-dsdb: Fixed a compiler warning.

commit c9e3640afeaa7684f2f05fc697592f116e74935a
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Aug 27 10:29:26 2010 +0200

    s3: source/ is long gone :-)

commit bdab6c36e84178b361b77ad0ee70757df6aca26a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Aug 27 03:38:46 2010 +0200

    s4-pynet: pynet depends on pyrpc_util

commit 64552e11dd4435ebd85a0c291987457a99d7fe50
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Aug 27 02:17:26 2010 +0200

    pyrpc: Add py_check_dcerpc_type().
    
    This function checks whether the type of a PyObject matches a
    DCE/RPC Python type.
    
    Pair-Programmed-With: Andrew Tridgell <tridge@samba.org>

commit 5115f789c007a155e34505852d847b99b7f4c886
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Aug 26 16:46:45 2010 -0700

    Fix bug #7651 - mknod and mkfifo fails with "No such file or directory"
    
    Ensure we check the correct stat struct once we've created the
    special fix. Thanks to izh1979@gmail.com for pointing out the
    bug.
    
    Jeremy.

commit 338184fb3a3869f81ead82dcc477c87d858334d3
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 26 23:25:00 2010 +0200

    s3-proto: remove obsolete prototypes.
    
    Guenther

commit 33f9c078d310ffadb2392a9169d7b9341a3b7806
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Aug 26 22:01:01 2010 +0200

    s3: Fix typos

commit e1055701ff94e7cd548fae76ce479cc7278c41e7
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Aug 18 19:57:21 2010 +0200

    s3: Remove smbd_server_fd from expand_msdfs_target

commit 1991c2a8ee71dc1d6841d619ef323131c71137fa
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Aug 26 20:08:15 2010 +0200

    libcli/auth/ntlm_check.c - fix parameter indentation

commit 53a32347034af180c8b767607eedd346134ab4cc
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Aug 26 20:07:53 2010 +0200

    s4:ntlm/auth.c - add a whitespace in a debug output

commit b11b2425a9cc919f34d7c8b1dae7b40f3cf11f08
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Aug 26 18:37:00 2010 +0200

    s4:dsdb_module_find_dsheuristics - free the "DN" also on other exit cases

commit 433c08045ee96ca2e507cdec47bf9ef1dd95540e
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 26 15:49:17 2010 +0200

    s3-selftest: do not remove nsswrapper environment when running smbtorture4.
    
    Guenther

commit 4b3630b7e7c843add1965b6d35b3f2020957c101
Author: Pierre Carrier <geoffroy.carrier@gmail.com>
Date:   Mon Aug 23 00:53:40 2010 +0100

    winbindd: Add the client status in the clients list output
    
    Hello list,
    
    Considered relevant by a customer.
    As I suppose one doesn't send SIGUSR2 very often, I didn't bother adding another DEBUGLEVEL.
    
    --
    Pierre

commit b219bfe699ef9bfa91135808ef2ee192adf0245b
Author: Pierre Carrier <geoffroy.carrier@gmail.com>
Date:   Mon Aug 23 00:53:39 2010 +0100

    winbindd: useless function
    
    Hello list,
    
    Seems simple enough for my first patch :)
    
    --
    Pierre

commit ff2037876f80d5e49bf341bdcd1e8c13adc7b247
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Thu Aug 26 17:37:49 2010 +0300

    s4-dsdb: Removed an unnecessary space in dsdb_module_find_dsheuristics()

commit a571487e6c6774e640abb67f3cefac2dedac9044
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Thu Aug 26 17:18:40 2010 +0300

    s4-dsdb: Added utility functions for retrieving dSHeuristics from the module stack
    
    Also a function to check dsHeuristics value to determine of anonymous access should be blocked

commit 0de795414eca3f73386a7bd731ee2d1d6f051db9
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Thu Aug 26 17:08:01 2010 +0300

    Added values for the flags in dSHeuristics
    
    These specify the character position, while the character value of that character
    controls behavior

commit 9cb771a4a05b3c204a2b0626b22a29874919b3aa
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Aug 26 17:50:13 2010 +1000

    pidl-python: ensure we allocate ref ptrs before use
    
    this fixes a crash on samba4.samr.python in the build farm

commit 331905216a22989973d00dbc612e90ffa010ff0e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Aug 26 17:41:30 2010 +1000

    s4-devel: added enumprivs developer script
    
    this enumerates all LSA privileges on a server
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 057a47130de16b3e8796a7d2dc92b2ceeddd8ab6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Aug 26 17:32:48 2010 +1000

    s4-net: fixed docstring on spn command
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit d8f48c7ffc7d1abc37e1681240266240d4f69e7a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Aug 26 16:37:24 2010 +1000

    s4-net: added "net rodc preload" command
    
    this command will preload the credentials for an account from the full
    domain controller
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit da366ba221e326aa1a62160d38b5d2df0b0eb780
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Aug 26 14:35:30 2010 +1000

    s4-drs: split out drs utility python functions
    
    these will be re-used by other net commands

commit 502a5313c49baf70e49b6d200acccf2860aa8aba
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Aug 26 09:45:16 2010 +1000

    s4-pyrpc: convert rpc_talloc.py test to unittest framework
    
    This fits in better with our test framework
    
    Pair-Programmed-With: Jelmer Vernooij <jelmer@samba.org>

commit d132b3fbc0ccd89ebb6741e4dd6609b807cbdee3
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Aug 26 11:41:05 2010 +0200

    s3-build: Don't paste the summary.
    
    The buildfarm outputs the summary if it is available and use the exit
    status of the filter or subunit formatter as exit code.

commit a701484230bf1119900287326f7a57c07776e4e9
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Aug 25 10:07:54 2010 +0200

    pidl:Samba3/ClientNDR: remove unused ParseOutputArgument function
    
    metze

commit 3c7a7bbb9a6258744523f41935f3967e48056787
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Aug 26 03:50:08 2010 +0200

    subunit: Make sure "]" in failure reason ends up on its own line, so the
    next subunit parser in the line parses it correctly.

commit e260965929563daad9464c599732b2ab358c9dc5
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Aug 26 03:49:17 2010 +0200

    manpages: Avoid using Samba-Team specific DTD, which requires net access
    or modification of /etc/catalogs.

commit 64564f7338107f781d814e7721e85cc882106c2b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Aug 26 02:25:44 2010 +0200

    subunithelper: Pass along lines as normal output when ignoring them for not containing commands.

commit 3aab0c701caa885a1256b07ab5ca7f9a51c6018b
Author: Günther Deschner <gd@samba.org>
Date:   Fri Aug 20 12:15:13 2010 +0200

    s3-build: only include rpc_misc.h where needed.
    
    Guenther

commit 8b4f5319efdb43cc5858424528ee5d4a9dcea730
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 18 19:05:59 2010 +0200

    s3-build: use talloc_dict.h only where needed.
    
    Guenther

commit 7a05ca2c9cd387a92e1ad699ae72caea55895c13
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 18 18:59:23 2010 +0200

    s3-build: use dbwrap.h only where needed.
    
    Guenther

commit ca765d2f50f8eff1537f70bb637918d90301acf4
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 18 18:45:36 2010 +0200

    s3-build: only include krb5 environment variables where required.
    
    Guenther

commit c8f811034288e45b762b51b8cfb66b021a32f5bd
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 18 18:36:18 2010 +0200

    s3-build: only include libnscd.h where needed.
    
    Guenther

commit 184339825dc2d27e5c9f0b66c413042b596c6375
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 18 18:34:01 2010 +0200

    s3-build: include mangle.h only where needed.
    
    Guenther

commit 7b6fc9f414380482bd1c9476f8404bf52aa797f1
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 18 18:26:17 2010 +0200

    s3-dcerpc: only include rpc_dce.h where needed.
    
    Guenther

commit d9a76054318eb2fbe2bb539d6091379814f16b0e
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 18 18:25:54 2010 +0200

    s3-build: remove unrequired ntlmssp forward declaration.
    
    Guenther

commit 2b41f421fd14cb2190b43dbf079c734e7024335c
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 18 18:13:42 2010 +0200

    s3-idmap: only include idmap headers where needed.
    
    Guenther

commit 3ef531ec34dc709479005b00f50d1daf8e65269a
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 18 16:51:06 2010 +0200

    s3-build: no point in including doserr.h, noone uses them.
    
    Guenther

commit b5bdcdd65e5292223fae9892eb5575b872b27591
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 18 16:44:47 2010 +0200

    s3-build: only include "fake_file.h" where needed.
    
    Guenther

commit c2177909187ad104d5d2e13bad0f45fb97d121e2
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 18 15:22:09 2010 +0200

    s3-nmbd: move nmbd proto out of main proto.h
    
    Guenther

commit 7ff7eb0b5299f90a313986bfc547f48ef9f8dc9c
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 18 12:42:49 2010 +0200

    s3-build: only include nsswitch header where needed.
    
    Guenther

commit 08eff4d311ef3dd4973645e28a7669db4c383cad
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 18 12:26:53 2010 +0200

    s3-build: remove unrequired forward declaration for struct printjob.
    
    Guenther

commit aba1bf4b5e1bf82f769c3c545578414202c74106
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 18 12:24:35 2010 +0200

    s3-build: only include memcache.h where needed.
    
    Guenther

commit c5ffecb136225dba294327cc3a437e5f17475253
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 26 00:13:55 2010 +0200

    s3-build: further rationalise LIBMSRPC_OBJ and remove RPC_CLIENT_OBJ.
    
    Guenther

commit 6a795dd14674bfa2f6fe5206a9237f867c48e875
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 26 00:13:00 2010 +0200

    s3-waf: further rationalise LIBMSRPC_SRC and remove RPC_CLIENT_SRC.
    
    Guenther

commit d6949f58fa82196fc67a87e6bf47a5c05698a734
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 26 00:05:34 2010 +0200

    s3-build: remove RPC_CLIENT_OBJ1.
    
    Guenther

commit 75e55f9535d3a66933c901658c61e1fdaa596515
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 26 00:05:16 2010 +0200

    s3-waf: remove RPC_CLIENT_SRC1.
    
    Guenther

commit a52fde4f944bf8cfa2dd69498bdf6da8e39c0139
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 26 00:03:42 2010 +0200

    s3-build: use LIBMSRPC_OBJ instead of single files.
    
    Guenther

commit 1217c4f48490e85ac953a3f285b0d9bacda0f243
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 26 00:03:15 2010 +0200

    s3-waf: use LIBMSRPC_SRC instead of single files.
    
    Guenther

commit 0b05e32f92cfc64de1c3ce02d1eb3ab4f8d5a25f
Author: Günther Deschner <gd@samba.org>
Date:   Fri Aug 20 00:11:33 2010 +0200

    s3-waf: only link in samr util code where needed.
    
    Guenther

commit 4991af46d75018c31ec80dc28c3eabd6e541b8ab
Author: Günther Deschner <gd@samba.org>
Date:   Fri Aug 20 00:10:14 2010 +0200

    s3-build: only link in samr util code where needed.
    
    Guenther

commit ecf32c851a9b40d1f280e57770f8126420e52f86
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 19 16:18:10 2010 +0200

    s3-build: remove RPC_PARSE_OBJ.
    
    Guenther

commit 83dc8314f1a688dc43ae5129fb7b1edb74670202
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 19 16:25:55 2010 +0200

    s3-waf: remove RPC_PARSE_SRC.
    
    Guenther

commit 88720f80c5682ae8043f2c0558cc43354ad472b7
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 25 23:53:24 2010 +0200

    s3-build: only link in epmapper client code where needed.
    
    Guenther

commit 4d78984570223a803353490b1fa39793ba9b98b3
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 17 00:59:23 2010 +0200

    s3-waf: only link in epmapper client code where needed.
    
    Guenther

commit ff5ab04882b1ae5940b0e9f41174d6e4e4b8f863
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 25 23:15:52 2010 +0200

    s3-build: only link in netlogon client code where needed.
    
    Guenther

commit 13cff589178fdb03dfa35113930e85c50e368494
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 25 23:14:33 2010 +0200

    s3-waf: only link in netlogon client code where needed.
    
    Guenther

commit 0ed16e94c374efb06650f741827bcbed85f1af59
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 17 00:46:25 2010 +0200

    s3: separate out cli schannel functions that depend on cli_netlogon.
    
    Guenther

commit 064826c4d17f71e30386ff775935f86dd426f124
Author: Günther Deschner <gd@samba.org>
Date:   Fri Aug 13 12:32:53 2010 +0200

    s3-build: only link in samr client code where needed.
    
    Guenther

commit 6810ead40dc216c17c6ba1a9731d2598bf342c6d
Author: Günther Deschner <gd@samba.org>
Date:   Fri Aug 13 12:27:20 2010 +0200

    s3-waf: only link in samr client code where needed.
    
    Guenther

commit 1895d669c260dfd0632d8ff88759bfd407286fa1
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 19:13:16 2010 +0200

    s3-build: only link in lsa client code where needed.
    
    Guenther

commit c107c662030d8874d4e359a1ec5075b4bfa6c39a
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 19:06:57 2010 +0200

    s3-waf: only link in lsa client code where needed.
    
    Guenther

commit 562c5999ec636227a3b66bba314481f8367df90a
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 18:58:49 2010 +0200

    s3-build: only link in srvsvc client code where needed.
    
    Guenther

commit 0d0deba7bc8a8b1d7cdfa54f25111d9002ca50ee
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 18:52:23 2010 +0200

    s3-waf: only link in srvsvc client code where needed.
    
    Guenther

commit 0ae0ca062bb040cc317cc767f37bfa693fb498a1
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 18:47:51 2010 +0200

    s3-build: only link in wkssvc client code where needed.
    
    Guenther

commit cfca94656a182522e1c36feda3455a05277cf486
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 18:47:38 2010 +0200

    s3-waf: only link in wkssvc client code where needed.
    
    Guenther

commit 2190386518d9f10f754f91785b1f78b584f3cf4b
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 18:42:06 2010 +0200

    s3-build: only link in svcctl client code where needed.
    
    Guenther

commit 03269d678351ea14cfede4d30291ca1bde294ff8
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 18:41:45 2010 +0200

    s3-waf: only link in svcctl client code where needed.
    
    Guenther

commit 9a195fd2330c13b3e9cb4029d41f640e85738d14
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 18:36:16 2010 +0200

    s3-build: only link in dssetup client code where needed.
    
    Guenther

commit 2d72cab5d088fb87e23eebe45cea6735a2770712
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 18:36:06 2010 +0200

    s3-waf: only link in dssetup client code where needed.
    
    Guenther

commit 5c8b54820bf8b57977c38536a5a3e6c76c21dfe2
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 18:30:57 2010 +0200

    s3-build: only link in initshutdown client code where needed.
    
    Guenther

commit e25e9bec2489fe9ac13b59747ec1786969166889
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 18:30:46 2010 +0200

    s3-waf: only link in initshutdown client code where needed.
    
    Guenther

commit f97ff9d440316416eb91e30a48bffdf2aa207610
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 18:22:31 2010 +0200

    s3-build: only link in echo client code where needed.
    
    Guenther

commit 3b24db6bf8fd0e9e8ff21cf4578256f8462d26ef
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 18:22:19 2010 +0200

    s3-waf: only link in eventlog echo code where needed.
    
    Guenther

commit 0f10349f14e2439dedc2448d3649a5fea53c9dd4
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 17:50:37 2010 +0200

    s3-build: only link in dfs client code where needed.
    
    Guenther

commit 09b973f6bb9801c75cf623019b4b6b830ec8fae0
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 17:47:48 2010 +0200

    s3-waf: only link in dfs client code where needed.
    
    Guenther

commit a66bb0d8ec40208020b4ce8cf80e110ec8e2a5e2
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 17:45:54 2010 +0200

    s3-build: only link in drsuapi client code where needed.
    
    Guenther

commit bd22ef79c2a8167da0783f9759fd7df63554a146
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 17:42:59 2010 +0200

    s3-waf: only link in drsuapi client code where needed.
    
    Guenther

commit 4dbb682bc5ee9b1893ad815b710aac46d5bf94db
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 17:40:18 2010 +0200

    s3-build: only link in ntsvcs client code where needed.
    
    Guenther

commit 1a00dd4aa7372e9ca9066b28f1ff7aaa7ce3d3a4
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 17:38:09 2010 +0200

    s3-waf: only link in ntsvcs client code where needed.
    
    Guenther

commit 50df1c6f8726f5f34c6031c70ae3df7026f949f4
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 17:35:24 2010 +0200

    s3-build: only link in winreg client code where needed.
    
    Guenther

commit ad855c0970c939da7bfe719a4707cf7f39eff330
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 17:31:40 2010 +0200

    s3-waf: only link in winreg client code where needed.
    
    Guenther

commit 2af95fc88b95e0c251ef6df8084ac55ad73ade1a
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 17:28:48 2010 +0200

    s3-build: only link in eventlog client code where needed.
    
    Guenther

commit dc663295d19357773a0c5d990f50be831a1e76e8
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 17:19:59 2010 +0200

    s3-build: only link in spoolss client code where needed.
    
    Shrinks a lot of binaries by 1 MB each.
    
    Guenther

commit 72f30e82e406ae3690c0d324b844fc6b3a4c02c4
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 17:19:24 2010 +0200

    s3-waf: only link in spoolss client code where needed.
    
    Shrinks a lot of binaries by 1 MB each.
    
    Guenther

commit e978a3d3f4974753f09fbafdd0cf3ad15209911f
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 19 23:15:22 2010 +0200

    s3-lsa: separate out init_lsa headers.
    
    Guenther

commit aa54d239e2abee69f68be554e018fa578f4178af
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 25 23:04:11 2010 +1000

    s4-pynet: some systems don't have Py_TYPE()
    
    we need a better method than this ....

commit e69b13ccdd008c792f8856a121b188cb11a9afa8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 25 15:21:36 2010 +1000

    s4-pyrpc: added a test for talloc behaviour in pidl python code

commit 717ee453dd72511bab2b7fc0e9712e67e5870421
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 25 15:21:08 2010 +1000

    s4-pyglue: added talloc_total_blocks() python call

commit ba5b3fb2480af2b3f8b5b69e4c161af07241e0c4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 25 14:33:17 2010 +1000

    s4-rodc: removed python memory workaround
    
    we can now assign pidl generates structures directly without errors

commit 4f8087cdb95c6036358a41398d73c3ad90c5755c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 25 14:32:38 2010 +1000

    s4-python: reference substructures onto the parent structure
    
    when a python object that is part of a parent structure is created, we
    should reference it on the parent structure. This ensures that when
    the child object goes out of scope that the parent structure is still
    valid

commit 634e06e465be7a8921cb95884ec427f48bf812da
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 25 14:29:59 2010 +1000

    pytalloc: fixed py_talloc_steal()
    
    py_talloc_steal() was implemented as a macro which evaluated it's 2nd
    argument twice. It was often called via a macro with a 2nd argument
    that was a function call, for example an allocation in
    py_talloc_new(). This meant it allocated memory twice, and leaked one
    of them.
    
    This re-implements py_talloc_steal() as a function, so that it only
    does the allocation once.

commit 9218de4b740427a5f381be59ab00a21b0690fb9e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 25 12:34:30 2010 +1000

    s4-pyglue: pyglue now depends on pytalloc

commit 956341965cee91632aa1a93dd6f9bde453ae1720
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 25 12:34:15 2010 +1000

    s4-rodc: setup secrets database at end of RODC join
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 5a367f641ef44a4b58eaea751146a139c70f4afd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 25 12:33:38 2010 +1000

    s4-pyglue: added talloc_report_full() and talloc_enable_null_tracking()
    
    these are useful for tracking down leaks and bugs in python scripts
    
    Pair-Programmed-With: Jelmer Vernooij <jelmer@samba.org>

commit cb0f8f0ee087475e63bcc969cf501ce9eae9c98f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 25 12:32:48 2010 +1000

    s4-repl: load RODC partitions using msDS-hasFullReplicaNCs
    
    we mark these as incoming_only
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit d78417a5d66f9d7a6d282baa6968eb9ba902328e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 25 12:31:32 2010 +1000

    s4-pytalloc: use better names for python talloc objects

commit be598569bbb9dec5cb8035441ef7411ebed29991
Author: Michael Adam <obnox@samba.org>
Date:   Fri Aug 6 11:58:46 2010 +0200

    s3:smbd: add nfs quota support to the linux-non-sysquota code
    
    This is based on the implementation for solaris and FreeBSD.
    It makes rpc calls out to the nfs server to retrieve quota
    information.

commit 3add3aa17de7954b01e2c9273295195438ac30e5
Author: Michael Adam <obnox@samba.org>
Date:   Fri Aug 6 10:21:09 2010 +0200

    s3:smbd: add a nfs backend for sysquotas.
    
    This module is based on the Solaris/FreeBSD implementation
    of NFS quotas in the quotas.c module.
    
    It implements the SMB_USER_QUOTA_TYPE query of the
    get_quotas call. The other types and the set_quota call
    are not implemented.

commit 896f3c8a49864ff022ac2d32a81f5b4ce53fd16b
Author: Sumit Bose <sbose@redhat.com>
Date:   Tue Jun 22 15:06:27 2010 +0200

    s4-smbtorture: Added a torture test for forest trusts
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 75e334fb615136b9431bc6334bd479b671db1c85
Author: Sumit Bose <sbose@redhat.com>
Date:   Tue Jun 29 16:24:36 2010 +0200

    s4-smbtorture: Make test_SetupCredentials3 public
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit df7c7185fd61646efcbb506557078547c58f7b97
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 16 04:07:01 2010 +0200

    s4-smbtorture: fill in trust_domain_passwords_check_in in NDR lsa test.
    
    Guenther

commit 18b0a52b89457187f14e8003c72da56e6e661988
Author: Sumit Bose <sbose@redhat.com>
Date:   Mon Aug 23 16:14:58 2010 +0200

    Fix RPC-LSA-TRUSTED-DOMAINS for changed IDL

commit e2f15d2a25302ee529006b2d1d6b99993c7102e8
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 16 04:06:48 2010 +0200

    s4-trusts: fix trustDomainPasswords drsblobs IDL and server side support.
    
    Also remove bogus trustCurrentPasswords struct which we just had because our IDL
    was incorrect.
    
    Guenther

commit 2eff142cce536a8966e63bdf9e514bc22d03acc4
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Aug 25 11:17:33 2010 +0200

    s3-build: Use a wrapper script to run the tests.
    
    This fixes the buildfarm and returns the correct exit code of selftest.

commit f42af4ea6810c65a37eec08e08acb5d831457bca
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 24 23:37:57 2010 +1000

    s4-dsdb: make more of the UF_* flags available on pydsdb
    
    this really should be moved to IDL

commit 64bf637edfc0dbc4a1856aee894ecb2e37c54d93
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 24 23:37:25 2010 +1000

    s4-rodc: broke up RODC join into separate functions
    
    this also removes some of the magic constants

commit e3c0409c7a22d8412a74436aa5733bc527730b5a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 24 22:10:46 2010 +1000

    s4-rodc: added REPL_SECRET exop replication of accounts
    
    During a RODC join, we need to fetch the secrets for the machine
    account and krbtgt account using GetNCChanges
    DRSUAPI_EXOP_REPL_SECRET calls
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 4ab1a489c74079644c1fce5df1ced5a0bbbc9f39
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 24 22:09:18 2010 +1000

    s4-dsdb: add more DS flags to the dsdb module
    
    These are from libds/common/flags.h
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 8438da96ba632671327506423239169402917c51
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 24 22:08:27 2010 +1000

    s4-dsdb: added get_attid_from_lDAPDisplayName() on samdb
    
    This can be used to form the partial_attribute_set list for
    GetNCChanges
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 495bd182f5e26cbcb721ab8209f8acad4d612726
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 24 15:42:54 2010 +1000

    s4-rodc: next step in RODC join code
    
    a RODC net join can now replicate the schame, config and base
    partitions, by calling the net.replicate*() python hooks, and driving
    the GetNCChanges calls from python
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 4cacdf00020c808ae8e3ef59378da682ce346133
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 24 15:41:40 2010 +1000

    s4-pynet: added replicate_init() and replicate_chunk() calls
    
    these calls allow python code to pass chunks from DRS replication
    calls into the code that applies the chunks to a database
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 631c5f1fd5e77a6d380df3bc83dc166d902315af
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 24 15:40:42 2010 +1000

    s4-libnet: added libnet_vampire_replicate_init()
    
    this is used to setup for later calls to the replicate chunk functions
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit e5a5ca028e645d2852a2a063730d4f51a3ee84b1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 18:59:47 2010 +1000

    idl-nbt: fixed typo

commit d3a0ff311e07b1080f33319d521217aa48b483e3
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Aug 24 21:40:25 2010 +0200

    s3: Make char_flags and base_reverse const arrays
    
    This moves those arrays from dynamic to static, shared memory, removing them
    from globals.c.
    
    I did it by dumping the result of init_tables() with dump_data(). Some massage
    by an editor macro made it the initializer.

commit 2d81721a3fd9aa0cfdb2501cbcdd6eedc78c15c3
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Aug 24 20:47:29 2010 +0200

    s3: Move "trans_num" to smbd_server_connection

commit 1808dd0a854f0cf95718da28a9fc58134af04d83
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Aug 24 20:10:20 2010 +0200

    s3: Make srv_send_smb take an sconn instead of a sock fd

commit aa830cde6a44187149c207085acdb75fe4e8e343
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Aug 24 11:07:38 2010 +0200

    pam: fix unused variable warning

commit d55e7e52f16c673ad2190e21b5b4b3873cf2551d
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 24 03:04:41 2010 +0200

    s4-waf: try to fix the s4 wbinfo build dependencies.
    
    Guenther

commit 898c6123355a3a11ec17f0396c4cb3018c75c184
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 23 16:02:23 2010 +0200

    s3-dcerpc: avoid talloc_move on schannel creds in cli_rpc_pipe_open_schannel_with_key().
    
    Initially, the schannel creds were talloc memduped, then, during the netlogon
    creds client merge (baf7274fed2f1ae7a9e3a57160bf5471566e636c) they were first
    talloc_referenced and then later (53765c81f726a8c056cc4e57004592dd489975c9)
    talloc_moved.
    
    The issue with using talloc_move here is that users of that function in winbind
    will only be able to have two schanneled connections, as the cached schannel
    credentials pointer from the netlogon pipe will be set to NULL. Do a deep copy
    of the struct instead.
    
    Guenther

commit 33060f67be100836d381a74bced351c6579cc58d
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Aug 23 13:05:56 2010 -0700

    Final part of fix for bug #7636 - winbind internal error, backtrace.
    
    Ensure cm_get_schannel_creds() returns NTSTATUS.
    
    Jeremy.

commit a782a80d2f5e70d40708bd578a1f456c451d2979
Author: Simo Sorce <idra@samba.org>
Date:   Mon Aug 23 17:11:32 2010 -0400

    s3-dcerpc: Allocate structure members on the right context

commit a16a56f60156b3284f9acef9a675122b36ebf7dc
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 23 21:00:27 2010 +0200

    s3: PAM_RHOST and PAM_TTY are enums on FreeBSD

commit 2d80364f1ba33519a4b12a5d910ff58d74e6e5c2
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Aug 23 07:37:36 2010 +0200

    s4:getncchanges.c - fix some counter variable types
    
    They should be "unsigned" since they count LDB objects. And also the SID array
    can be counted as "unsigned".

commit 481044f8b303236bc9932b91ed689bb189382494
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Aug 23 15:10:07 2010 +0200

    replace: Fix ifndefs for formatting defines.
    
    Thanks to Michael Brown for pointing this out.

commit 85ebc495f68ae7dca4eecc48b1e2f37325185271
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 12:47:51 2010 +1000

    s4-devel: added a getncchanges developer script
    
    this allows for command line access to getncchanges
    
    it also provides a good example of calling DRSUAPI interfaces from
    python
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit f0803de830d4f1a009b5ef2a06fd94e0f25b3ea8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 12:07:56 2010 +1000

    s4-pyrpc: use s4_event_context_init()
    
    This fixes a crash when using kerberos and the python dcercpc
    interface, which requires event nesting
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 470d87701bfc4d3d58b9cf0c6e5f240bc24707d9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 12:07:19 2010 +1000

    s4-pyregistry: use s4_event_context_init()
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 68fe347592d455638a30a87eace0ba9ebb9a7707
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 12:07:00 2010 +1000

    s4-event: event_context_find() should use s4_event_context_init()
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit b4a048d763e6bf2202392343946568b311c1708b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 11:36:29 2010 +1000

    s4-net: role should be case insensitive for join
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 635c41ab822d12cf3bb8172fdfab28c6c8ac3597
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 11:33:19 2010 +1000

    s4-drs: show the user sid that does the GetNCChanges call
    
    this is useful when debugging replication
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 826177bd2427a6fdf32c2466040de73a7f286d35
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 11:32:28 2010 +1000

    s4-drs: removed the warning on WRIT_REP being set
    
    we just need to clear this flag

commit bd7f9813de5d4f7832342f607d8308e916f0c14d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 11:31:48 2010 +1000

    s4-net: added initial implemention of RODC join
    
    This does the join using python code
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 1337f5875c2adbb594d421e457f9e6ed5dd4071a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 11:30:22 2010 +1000

    libnet-s4: added replicate() command in pynet
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit bdc1639642de79aa08e839f77be210683e6361f6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 11:13:22 2010 +1000

    s4-libnet: split libnet_Vampire() into two parts
    
    libnet_Replicate() will do just the replication portion of
    libnet_Vampire(). This will be used by the RODC join, where the join
    part of the operation happens in python, and behaves quite differently
    to the libnet_Join() code.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 2d2a0cb5823080694df0ba161017a83876048d93
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 11:11:35 2010 +1000

    s4-libnet: show the DN when DsAddEntry() fails
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit a2cb6ef017402e16d2012ffa165b66eb3dafe10b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 08:52:19 2010 +1000

    s4-net: moved the net join command to python
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 8a442b082284782987237a0ecf77213c43ed5dae
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 08:50:04 2010 +1000

    s4-libnet: added join type constants to python interface
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 10813bdd852f63eb48dc8ca63a312a80b3897489
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 07:52:25 2010 +1000

    s4-python: added ndr_print() method in ndr

commit 895064000d9a4764e5f8d007d6eb2ab761ce2eca
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 07:51:55 2010 +1000

    pidl-python: fixed the docstrings for ndr_print, ndr_pack and ndr_unpack

commit 0d7557e2dc489a16949451fa2372a206ffa055a6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 23 07:28:09 2010 +1000

    libreplace: fixed the strptime() waf test
    
    Thanks to Jelmer for pointing this out

commit 6cf29b3e4f3880882eb7df45dbcfaf7bd2b8d9f4
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 20 12:15:15 2010 +1000

    s4:security Change struct security_token->sids from struct dom_sid * to struct dom_sid
    
    This makes the structure much more like NT_USER_TOKEN in the source3/
    code.  (The remaining changes are that privilages still need to be merged)
    
    Andrew Bartlett

commit abcfc114978fd2d065f800bcfe53f63ab567c069
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 20 22:30:46 2010 +1000

    s3:pdbtest Fix command name of pdbtest
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit 0d9460a3680258744de8ecd42a90c3ba1e42832f
Author: Andreas Schneider <asn@samba.org>
Date:   Sun Aug 22 22:55:01 2010 +0200

    s3-build: Add a test-buildfarm target to stay UNIX Makefile compatible.

commit d8734c3c03ca3cd501b064c5f3b4684e62e751d6
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 20 17:51:48 2010 +1000

    s3:param Clarify parameter name on init_globals()
    
    This parameter is used with the registry backend to
    cause the globals table to be re-initialised.
    
    Andrew Bartlett
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit 8531921e3d4bba30ed6d10bf671b0b70d2f4f3f7
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 22 20:00:46 2010 +0200

    s3: Turn two macros into functions

commit 177e394f93278407557702d9f53bae65fd5fc434
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Aug 18 18:23:49 2010 +0200

    s3: Pass the rhost through smb_pam_accountcheck

commit 265f0b7745b811d6ba1575eb277213f707215a3b
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Aug 18 17:31:39 2010 +0200

    s3: Rename auth.c:backends to auth_backends

commit 6ff012a777889de5066fa77de9ed766f8421b1d5
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 22 18:41:39 2010 +0200

    s3: Fix some nonemtpy blank lines

commit 8bc58990a469b15a0ffc9977a5b9c2345eea9fe5
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Aug 22 17:12:26 2010 +0200

    s4: Only install testparm to /usr/bin/, no longer to /usr/sbin.

commit 4ec7dd8deb3d123941da21a880241ebe29f3bbb6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Aug 22 17:03:47 2010 +0200

    s4: Install testparm to /usr/bin, consistent with old behaviour.

commit cfcfe3c1f5ab8f1cb919acbf8f215afdd9cc7d91
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Aug 19 09:22:54 2010 +1000

    s4-waf: re-use SAMBA_LIBRARY() in building shared modules
    
    make SAMBA_MODULE() call SAMBA_LIBRARY() to do the heavy lifting. This
    fixes the problem with modules being a bit too slim :-)
    
    Pair-Programmed-With: Jelmer Vernooij <jelmer@samba.org>

commit de951249356a3705fc2a3c51575134415ac0ea05
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Aug 18 16:50:26 2010 +0200

    s3: Move check_access to cgi.c, its only user

commit 70c5bed4b2ca4660e8a06cee6d4e813744cc7be8
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Aug 18 16:48:20 2010 +0200

    s3: Replace calls to check_access by allow_access
    
    We already have both the name and address of the client stored now

commit bc69a9d0d8aa746c2db88484ebf48f9aa7d73de6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Aug 22 05:24:55 2010 +0200

    Avoid use of Samba DTD, which requires net access.

commit aa74b6ade4af5da962acd1ebf43b9e719ebe1f51
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Aug 22 05:02:00 2010 +0200

    wafsamba: fix CHECK_XSLTPROC_MANPAGES().

commit 3dc720371368b670635f986f9a7bd412b00255a8
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Aug 22 05:00:57 2010 +0200

    Use DocBook DTD rather than Samba one, as no Samba-specific things are
    used in the tdb manpages.

commit d7d19fdc84d73fda85e1794af7c7122ded6b24bb
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Aug 22 14:51:12 2010 +1000

    s4-net: better error message on net setpassword

commit a2012dfc6b73f74fb9e9e3d815f3b8ede340f552
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Aug 22 14:50:46 2010 +1000

    librpc: add python bindings for the netlogon pipe
    
    Pair-Programmed-With: Jelmer Vernooij <jelmer@samba.org>

commit d55b19b56af3fc8e122a890adad8b56bb05814be
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Aug 22 14:50:22 2010 +1000

    pyldb: do type checking on the list form of ldb add
    
    Pair-Programmed-With: Jelmer Vernooij <jelmer@samba.org>

commit 24159a59a3b404346e7931ef8817d09eeeb0711f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Aug 22 14:49:10 2010 +1000

    pidl: give the varible name for bad type in python calls
    
    This makes it much clearer which argument to a function had the wrong
    type

commit 34b86155743f0ef1916bc3ae15907961c230c9ab
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Aug 22 14:47:22 2010 +1000

    pidl: cope with bad type conversions in unions
    
    This prevents a crash when converting bad types in NDR unions
    
    Pair-Programmed-With: Jelmer Vernooij <jelmer@samba.org>

commit 5a025c82f566b378a125abf0f9e74fc076d394c0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Aug 22 14:46:01 2010 +1000

    pidl: added a __ndr_print__() method on python NDR objects
    
    This allows you to print a returned NDR structure using
    s.__ndr_print__() which gives an easy view of complex
    structures, such as those from netlogon

commit 45ac8ffdb4181c31605ccda5035664a8019ffc49
Author: Kai Blin <kai@samba.org>
Date:   Sat Aug 14 07:40:51 2010 +0200

    s3: Fix netgrent configure checks for compilers not supporting -Werror-implicit-function-declaration
    
    This should fix bug 7620.

commit 554b1140a891d8b9a4a7be1eefae97b4e3a710ec
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 21 11:32:58 2010 +0200

    s3: Fix bug 7635

commit af081ec4a101aa5d0babfd913e40f5f8ed1b0fe9
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Aug 20 15:57:08 2010 -0700

    Fix bug 7627 - smbclient ignores "-I" when used with "-L", fails name resolution.
    
    Still needs some more work to fix missing netbios name issues, but fixes
    underlying issue of IP address being ignored.
    
    Jeremy.

commit 22a0168504846d618f70bb79175950f37f341769
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Aug 20 15:56:37 2010 -0700

    Fix const warning.

commit 7e936e3122aed539b348bc5deea1732b65d94950
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Aug 20 21:58:22 2010 +0300

    s4-ndr_basic.c: Fix ndr_*_hyper() when [bigendian] data is processed

commit 26efea195ae3d5a26b1152923f114cd841e89b5f
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Aug 19 15:52:49 2010 +0300

    s4-drsuapi: Implement custom printing for drsuapi protocol for
    
    drsuapi_DsReplicaAttribute and drsuapi_DsAttributeValueCtr objects
    
    This makes tracing what data has been transferred much easier

commit f35811bfe074ec3c9c1f6b860b6d07d47b1cce92
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Aug 18 18:35:53 2010 +0200

    s3: Use sconn->client_id in session_claim

commit 5d7c27cb5b35848ff32f7c7e3f66247990c28ad1
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 12 15:59:17 2010 +0200

    s3:librpc: make dcerpc_read_ncacn_packet_send/recv() available
    
    metze

commit fe7819ae6f82bee65c14c57f87ec82b2243f4356
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 12 15:49:32 2010 +0200

    librpc/rpc: move dcerpc_read_ncacn_packet_send/recv() to dcerpc_util.c
    
    metze

commit 922f33521ea12bb3a85709e9933cb7d9d10179f7
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Aug 20 14:52:04 2010 +0200

    s3:Makefile.in: use python with -u to disable stdin/out caching
    
    metze

commit c9621a8c005cfc547a26dd92b8183b43665eec5c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Aug 17 08:05:14 2010 +0200

    s3:winbindd: fix error handling in wb_next_grent_fetch_done()
    
    We should not use 'result' uninitialized.
    
    metze

commit 5c272b8ce7d0ffc9ce6b2ff780aa6f9e54415840
Author: Zahari Zahariev <zahari.zahariev@postpath.com>
Date:   Thu Aug 19 18:30:03 2010 +0300

    Remove place-holders when it is single domain
    
    This patch changes the behavior of LDAPCmp in a single domain
    scenario. No place-holders will be applied during comparison
    so replication will be fully tested and even the silightest
    difference will pop up.
    
    There is a second smaller fix when we compre hosts in different
    domains. This fix disables ${SERVERNAME} paace-holder when there
    are more then one serevr (domain controller) in the given domain.

commit 0cc3525c039e08bee32199109a515fa08933b31d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Aug 20 17:17:23 2010 +1000

    s4-dsdb: the RODC_JOIN control also changes samAccountName
    
    when adding a user with the RODC_JOIN control, the samAccountName is
    automatically set to the krbtgt_NNNNN form
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 3d13c9e53a25a3af73c520a0ecfa35eafc80784c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Aug 20 07:26:53 2010 +1000

    s4-pysamdb: fixed get_domain_sid()
    
    we need to actually return the SID!
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit a662bdc0243743f0e6ff7327cca247f1e3e76e84
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Aug 20 07:26:09 2010 +1000

    s4-ldb: added support for rodc_control in ldb
    
    this allows you to specify the RODC join control in python ldb calls
    or on the command line
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit f1c6bab60e52624f5f3188689eb9452a0fdc9221
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Aug 19 13:06:08 2010 +1000

    s4-drs: fixed the error code for EXOP_REPL_SECRET getncchanges calls
    
    when we deny a EXOP_REPL_SECRET call we should set the exop error code
    to NONE, and the main return code to WERR_DS_DRA_ACCESS_DENIED (based
    on observing windows server behaviour)
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 4cc6b5a69b1f94d96a73ac15d58ff71d2e4febfd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 18 18:38:26 2010 +1000

    s4-drs: bring us much closer to the docs for DRS secret replication
    
    The rules for when a RODC can replicate secrets are:
    
     - it can always replicate its own acct
     - it can also replicate its krbtgt acct
     - it can't replicate other krbtgt accts
     - it can't replicate interdomain trust accounts
     - it can't replicate users in the denied group list
     - it can replicate users in the allowed group list
    
    otherwise it can't replicate
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 6eb34e69078630f1795a75d186eccf50e1f3c683
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 18 18:36:12 2010 +1000

    s4-dsdb: fixed dsdb_get_extended_dn_sid()
    
    it should honor the component_name
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit ba079f9d674417eed26c21d21f0e0ff03a3c5e33
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 18 18:35:41 2010 +1000

    idl: added the RODC allow/deny secrets RIDs
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit c12293991988bda16ff85135e83c21d23d08abca
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 18 14:31:05 2010 +1000

    s4-drs: implement RODC attribute filtering override
    
    When a RODC uses extended getncchanges operation
    DRSUAPI_EXOP_REPL_SECRET it gets an override on the ability to
    replicate the secret attributes.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit dc7cf47371e15a1bfe8c97341773076f00c67aa1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Aug 18 14:27:17 2010 +1000

    s4-drs: added sam_ctx_system on DRS bind state
    
    The getncchanges call needs to be able to access the sam as the system
    user for RODC clients. To do this it needs a sam_ctx connection with
    system credentials
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 34092c11b49a8bb16838be414cb71b0b5c2136bf
Author: Michael Adam <obnox@samba.org>
Date:   Fri Aug 20 11:14:06 2010 +0200

    s3:loadparm: make lp_load_ex static. We have wrappers for external callers.

commit 0ec0095d1a40435042b8ff9e4bc7fedbeb371e5f
Author: Jim McDonough <jmcd@samba.org>
Date:   Thu Aug 19 08:46:59 2010 -0400

    s3-libsmbclient Convert dos error codes to NTstatus in async libsmbclient.
    
    DOS error codes were being lost with the conversion to async
    libsmbclient.  If we're passing around NTSTATUS internally,
    let's just convert it when we get it.
    
    DOS ACCESS_DENIED on nautilus was not prompting for other credentials,
    because it was not being mapped.

commit cbe9f879afc7b212c1e105fcb54b4563d5f6dfe0
Author: Simo Sorce <idra@samba.org>
Date:   Thu Aug 19 07:35:01 2010 -0400

    s3-ads: Fix wrong test in if statement

commit 861566c6d03a9040d0b791df80c845da9c537b8f
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 19 15:24:20 2010 +0200

    s3-waf: fix the build.
    
    Guenther

commit 6864a3e98660396b3cd1e6adae039012929bf59b
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 19 14:22:01 2010 +0200

    s3-ldapsam: add samba.ldif LDAP schema.
    
    This one is suiteable for cn=config setups and should be added via ldapadd.
    
    Thanks to Sumit Bose <sbose@redhat.com> for providing it.
    
    Guenther

commit 4349027b632d8e6757b5c46014a4a21f37ec434e
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 19 14:02:22 2010 +0200

    s3-cli: fix uninitialized variable.
    
    Volker, please check.
    
    Guenther

commit 28ba023b4c2bcae3baed5aefe782d7705271af26
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 19 14:01:47 2010 +0200

    s3-idmap: fix uninitialized variable in idmap_tdb_sids_to_unixids_action().
    
    Michael, please check.
    
    Guenther

commit 4fec72db1c73c03e6a666723dcc8eb8a2667d598
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Aug 19 12:37:00 2010 +0400

    s4 provision: POLICY_ACL is already an FS acl no need to translate it

commit 6e7d6844620936cf5394c3d35ac1c8c8c5d042fc
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Aug 19 12:33:57 2010 +0400

    s4 provision: Add some documentation to GPO related functions

commit 2cadfe8f2a3c0a4cf200288f0b6123eca866c510
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Aug 14 18:51:55 2010 +0400

    unit tests: debug to ease locating pb, remove dir if exists to avoid error

commit ed51bf5f68b77f97b00b30e1a6be3773841299b6
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Aug 14 16:57:49 2010 +0400

    s4 upgradeprovision: exit with a non null return code so that it can be trapped in blackbox tests

commit a5653bcf837f6941fd26d233fbba15976fb0897e
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Aug 12 17:28:28 2010 +0400

    s4 upgradeprovision: add more attrbutes the ignore list
    
    Also format in a pretty way the int64 ranges

commit e378d7fd89beeffc20bafa04e0fcfb895eaccbf5
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Aug 12 12:22:08 2010 +0400

    s4 upgradeprovision: Deal with bootstrap indexing attribute to avoid useless reindexing

commit d79a5cc3584fe5763ddf0d8e22fb8140c376ba41
Author: Matthieu Patou <mat@matws.net>
Date:   Sun Jul 11 15:36:32 2010 +0400

    s4 upgradeprovision: Add a function for schema reloading
    
    Full schema reloading is needed when we modify exisiting elements that
    have attributes that comes from not from the default schema (ie.
    openchange schema, user schema ..)

commit eaf1d050febc4d9ebf6cde9fd671ac5362d10e29
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Aug 12 01:25:27 2010 +0400

    s4 upgradeprovision: upgrade_delta_samdb return a msg_diff of @ATTRIBUTES
    
    This is used by upgradeprovision to readd this delta just before loading
    a merged schema

commit 3e49b20cf0b0cadccc4e5b5ff3d20cbf60eeb3c4
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Aug 10 18:19:40 2010 +0400

    s4 upgradeprovision: Fixes for increment_keyversion
    
    fix

commit 503824b75723f62bbe7ee578d0ed6ad4a1203665
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Aug 10 17:39:29 2010 +0400

    s4 upgradeprovision: fix a typo and pass correct parameter to increment_calculated_keyversion

commit f6ac919a91663a97fbc27fb8430c73e13bf03a55
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 18 18:25:20 2010 +0200

    s3-libsmb: fix some uninitialized variables.
    
    Volker, please check.
    
    Guenther

commit 9b8f7a2a01845a37176ce7b4b4024503d6e9ca62
Author: Surbhi Palande <surbhi.palande@canonical.com>
Date:   Thu Aug 19 11:56:30 2010 +0300

    -ENOTSUP translates to NT_STATUS_NOT_SUPPORTED
    
    https://launchpad.net/bugs/276472
    
    This patch adds the translation of Unix Error code -ENOTSUP to NT Error Code
    NT_STATUS_NOT_SUPPORTED. The absense of this translation wrongly sends back to
    the client a STATUS_DENIED message in samba3.
    
    Signed-off-by: Surbhi Palande <surbhi.palande@canonical.com>

commit ba706d696b8fb14b8d449cd198d982eef18e4320
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Aug 18 18:16:24 2010 +0200

    s3: Remove smb_pam_accountcheck from the auth modules
    
    We go through the same check in auth/auth.c line 287 after the module has done
    its job. So we don't have to do that check twice.

commit 89899f55dc1fb137a0adfd734c87b65039f598a4
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Aug 19 03:17:36 2010 +0300

    s4-drs: ATTIDs for deleted attributes should be based on msDs-IntId value if it exists

commit e05027401f4733e43b62148fa5c59559f49b4c1b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Aug 19 03:08:29 2010 +0300

    s4-test: make better error message for ATTID checks

commit c3cf388eaf322b7646aa464774baa324be81a56d
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Aug 19 02:47:14 2010 +0300

    s4-test: Change attribute syntax and value for readability
    
    When it comes to read logs and dumping data received
    Octet String syntax comes in handy

commit a46ead0724f54a6034913fe5d1da077140d58133
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Aug 18 13:21:10 2010 +0300

    s4-test: Enable drs.rpc.msdsintid test case - it should be passing now

commit 695072478d5d5bd476524228fc09cde200abcf6b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Aug 18 03:19:45 2010 +0300

    s4-dsdb: No need for dsdb_syntax_one_DN_drsuapi_to_ldb() to be public
    
    It is intended to be used in schema_syntax.c module

commit 6a51afcfdbcbce7813fb59c0655e4178268ca70e
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Aug 18 03:52:48 2010 +0300

    s4-drs: GetNCChanges() to return correct (in AD-way) ATTIDs
    
    Depending on which NC is being replicated, GetNCChanges() returns
    either ATTID based on local prefixMap or msDs-IntId value of
    the attributeSchema class for the attribute being replicated.
    
    If set, msDs-IntId value is always returned when replicating
    object form NC other than Schema NC.
    Objects in Schema NC replica always use prefixMap based ATTIDs.

commit 35d886db176123b3ef3a0436463f59edcaed1322
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Aug 18 03:06:53 2010 +0300

    s4-dsdb-syntax: ATTID should be msDs-IntId value for the attributeSchema object
    
    in case object replicated is not in Schema NC and attributeSchema
    object has msDs-IntId attribute value set

commit fffc98f33e333b8711da053e5cd5ddcc601cd275
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Aug 17 04:48:24 2010 +0300

    s4: fix few comment typos

commit d01804dda9d1e1793f3e1d2f863c4444ed7e900c
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Aug 17 04:44:52 2010 +0300

    s4-schema_syntax.c: Fix white spaces and alignment

commit c5ec1f3d9246f5737279340bf1755baf542d982b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Aug 17 04:20:46 2010 +0300

    s4-dsdb: Use dsdb_syntax_ctx in *_drsuapi_to_ldb functions

commit b5af7b9a1eb70db949c83fe6b55e402b82a2a9a4
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Aug 17 04:12:54 2010 +0300

    s4-dsdb: Use dsdb_syntax_ctx in *_ldb_to_drsuapi functions

commit ca809186137e259060032ef61d9d3e93cddad298
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Aug 17 03:58:26 2010 +0300

    s4-dsdb: Use dsdb_syntax_ctx in *_validate_ldb functions

commit b7d1586ccd05a78a4fae512c54fa39dda408e08b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Aug 17 03:21:46 2010 +0300

    s4-dsdb: Add context structure for dsdb_syntax conversion functions
    
    This structure is intended to hold context-dependent data.
    
    Syntax-conversion and object-conversion functions need
    that data to convert objects and attributes from drs-to-ldb
    and ldb-to-drs correctly.
    
    For instance: ATTID value depends on whether we are converting
    object from partition different that Schema partition.

commit 20a8481d3ff149e3cece6f2d8d2cf6ae8462d11a
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Aug 16 18:57:02 2010 +0300

    s4-test-dssync: remove unused variable

commit da2554117e2d9dc4bde7d47d6e81d5d572ca1d02
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Aug 18 16:25:15 2010 -0700

    Fix bug 7626 - Typo in configure samba_cv__CC_NEGATIVE_ENUM_VALUES two underscores.
    
    Noticed by bj@sernet.de.

commit 34230608dfa7e9f4aa0c633e7a92df37ca94d28f
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Aug 16 16:31:33 2010 -0700

    Fix bug 7563 - Creation of symlink using smbclient is buggy.
    
    Fix semantics of symlink. "oldpath" should be an untouched blob,
    "newpath" should fit the share path semantics.
    
    Jeremy.

commit 8f7bf85c40068523b607b01a141d24e27b9f4be1
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Aug 18 16:44:04 2010 +0200

    s3: Remove an unused variable

commit ce60e8d69735bc2d5c6f776c84dea2e17dae95ac
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Aug 18 15:47:15 2010 +0200

    librpc/rpc: call do_ndr_print hook in dcerpc_binding_handle_call*()
    
    metze

commit 1ab17f13a27429d34439c0ba3b77685e3a55c2c3
Author: Simo Sorce <idra@samba.org>
Date:   Wed Aug 18 09:36:54 2010 -0400

    s3-ads: Remove unused wrapper and make function static

commit d7c8fb21bb0a29bb7227d4b242aba2f1524f6c48
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Aug 10 07:44:15 2010 +0200

    s3: async cli_list

commit 77761d9adcf34a9d1cd4567422c98efac101b3f6
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Aug 13 14:01:03 2010 +0200

    s3: Add cli_flush

commit 71dfa62b61380396785c7856c38f45c77c966ff0
Author: Simo Sorce <idra@samba.org>
Date:   Wed Aug 18 06:46:53 2010 -0400

    s3-ads: cleanup ads_keytab_list()

commit 64d8300a56eb0891389a5a2afc5e4902c2d909a2
Author: Simo Sorce <idra@samba.org>
Date:   Wed Aug 18 06:09:27 2010 -0400

    s3-ads: cleanup ads_keytab_create_default()

commit 3a9912370dc36500d207aeb9d1ae58834526b6c3
Author: Simo Sorce <idra@samba.org>
Date:   Wed Aug 18 04:33:32 2010 -0400

    s3-ads: cleanup ads_keytab_add_entry()

commit d6d1ed8bdfb290ac6e1fa4264f2b84d0e4790d98
Author: Simo Sorce <idra@samba.org>
Date:   Wed Aug 18 04:16:41 2010 -0400

    s3-ads: Split, simplify and cleanup keytab functions
    
    add helper function for both smb_krb5_kt_add_entry_ext() and
    ads_keytab_flush()

commit b9353c65c0662895c8e87f3d1c66574444ccfa12
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Aug 18 13:20:50 2010 +0200

    s3: Fix serverid_register_msg_flags
    
    Thanks, Andreas, for pointing this out! (How drunk have I been?...)

commit 937da4d14111e1cd32f514a9382291f12764c1c9
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Aug 18 12:08:47 2010 +0200

    s3-lib: Fixed a possible crash bug.
    
    Volker please check!

commit 555b175212d5c7e5b8628d4d5e3cba4541037dbb
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Apr 29 14:00:30 2010 +0200

    s3-printing: Added function to update the queue.

commit 7e9d6021c91919f2e457e1e471cb253886aad9aa
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Apr 29 13:43:40 2010 +0200

    s3-printing: Rename jobs_changed functions to jobs_added.

commit 536d4d48bfc3e915be210988fa7d9f6433d875f2
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Aug 18 11:17:52 2010 +0200

    s3: Fix an uninitialized variable

commit a847f13d7b0c8606471792a50e9c64d1f6bd430c
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Aug 17 09:34:27 2010 +0200

    s3: Use pipe_struct->client_id->name for pjob.clientmachine

commit 29093bc0009bbcd5f9a98a2f4611fc3eb65f2539
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Aug 17 09:17:26 2010 +0200

    s3: Move initializing pjob.clientname to print_job_start()

commit 4b5e252354660501576c8452f48514852f40270e
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 16 11:01:26 2010 +0200

    s3: Add "client_id" to pipes_struct

commit 6d10684556e9f9e847ec03dd8af057e8d4558e35
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 16 09:39:29 2010 +0200

    s3: Remove unneeded "client_address" from connection_struct

commit 7b6835ec1da127713d0a412edcbe0a3c1bcc6192
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 16 08:30:36 2010 +0200

    s3: Add smbd_server_connection->client_id

commit ac7b63384d3f8afdb768f95e7744380f4df07d76
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 16:13:00 2010 +0200

    s3: Lift smbd_server_fd from reload_services()

commit 59289d4fa9e5f6f2ff6abd13e8f07ca6ee3e2a3c
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 17 15:03:58 2010 +0200

    s3-build: only include smb_signing.h where needed.
    
    Guenther

commit 5a2f6c970027aacf8505d0971b44907900959f6d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Aug 18 13:15:03 2010 +1000

    s3:selftest This test does not fail anymore (Samba4's smbtorture has been fixed)

commit effc61cb782a470a0a3dee317ad271e521f6c3be
Author: James Peach <jpeach@samba.org>
Date:   Thu Aug 12 14:31:52 2010 -0700

    smbtorture: Make SAMBA3CASEINSENSITIVE report failures properly.

commit b7ad0c6e394b09a8933080e966ba1c77575d9f31
Author: James Peach <jpeach@samba.org>
Date:   Thu Aug 12 12:36:24 2010 -0700

    smbtorture: Emit correct test results if setup fails.
    
    If the test setup fails, we still need to format the test result for the
    UI. At leas in the subunit case, the format doesn't specify what to do
    here, so we fail every test manually with the setup failure message.

commit 21fe7533032168222a32bc12e2ade1169d41b763
Author: James Peach <jpeach@samba.org>
Date:   Thu Aug 12 12:35:53 2010 -0700

    smbtorture: Ensure that the RPC setup returns correct status.

commit f37793ef0aa31eec9a6e619b55fa07c3025fcac6
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Aug 18 10:00:40 2010 +1000

    s4:ldap_server use talloc_unlink() to avoid talloc_free() with references
    
    Both the session_info and the ldb can have references.
    
    Andrew Bartlett

commit 23dc2e4244a99f1e955d54c22516a7a8c108d989
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Aug 14 20:33:36 2010 +1000

    s4:auth Change {anonymous,system}_session to use common session_info generation
    
    This also changes the primary group for anonymous to be the anonymous
    SID, and adds code to detect and ignore this when constructing the token.
    
    Andrew Bartlett

commit 2ceb3d8d35b87926d0ffc933782321598457fc11
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Aug 14 19:55:30 2010 +1000

    s4:auth Avoid doing database lookups for NT AUTHORITY users

commit ba52834dd97d4c855ab98c2cbab1d6ed8d189de8
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Aug 14 17:45:57 2010 +1000

    s4:auth Remove system_session_anon() from python bindings

commit a68a5592c5fc88fc7ba335cfbe375d687c8b8112
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Aug 14 14:16:41 2010 +1000

    s4:auth Remove the system:anonymous parameter used for the LDAP backend
    
    This isn't needed any more, and just introduces complexity.

commit d99ff145aec8933a49be9e6fcc4d9e39591bbb28
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Aug 14 14:15:49 2010 +1000

    s4:auth Remove special case constructor for admin_session()
    
    There isn't a good reason why this code is duplicated.
    
    Andrew Bartlett

commit 7c6ca95bec5141707d4f19e802062731d6789cc5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Aug 14 13:30:51 2010 +1000

    s4:security Remove use of user_sid and group_sid from struct security_token
    
    This makes the structure more like Samba3's NT_USER_TOKEN

commit 60086dcf9a58525d400b39e9464847d73cbce6d2
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Aug 14 13:28:40 2010 +1000

    s4:ntvfs Don't treat the user SID and primary group SID special for idmap
    
    This simply askes IDMAP about all the user SIDs, rather than the user
    and group sid, followed by all but the first two sids from the token.
    
    Andrew Bartlett

commit e229f68b3e8f146d5dfa4ab57f126cc7ea5c7214
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Aug 14 13:26:35 2010 +1000

    s4:security Bring in #defines for the user and primary group token location
    
    This will allow us to stop duplicating the user and primary group SID in the
    struct security_token, and therefore make it more like the NT_USER_TOKEN
    in Samba3.
    
    Andrew Bartlett

commit 26ff85893437c2c762972ed2eb542c6cfe1bb049
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 16 08:00:48 2010 +0200

    s3: Remove smbd_server_fd() from session_claim

commit f8ecec21e2c4451fe892885cfc12afa98a8c14f6
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 15:46:29 2010 +0200

    s3: Remove smbd_server_fd() from read_smb_length()

commit 840b0f523b978aa6cb9acbac26023a756afcea81
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 15:45:21 2010 +0200

    s3: Move read_smb_length() to smbd/reply.c

commit e65197e56f86fd523516fc3ef577e72877cfab22
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 15:40:08 2010 +0200

    s3: Remove smbd_server_fd from receive_smb_raw
    
    This is only called from client code

commit a58cea002626cee2db77ac12aa091e5b48381662
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 15:38:31 2010 +0200

    s3: Lift smbd_server_fd() from receive_smb_raw_talloc

commit 1f0afe1aed5cc267c3c24322992bfcb7c82847b1
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 15:36:28 2010 +0200

    s3: Lift smbd_server_fd() from read_smb_length_return_keepalive

commit 7d164498dbad77e2072eaae9e421ee1c45336257
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 15:30:21 2010 +0200

    s3: Lift smbd_server_fd() from read_data()
    
    All callers have appropriate debug messages themselves

commit 9671547d17fa8152dbad127fde2a963b2ba834a0
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 15:23:47 2010 +0200

    s3: Lift smbd_server_fd() from read_fd_with_timeout()

commit 786c41b0954b541518d1096019e1ce7ca11e5e98
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 21:51:14 2010 +0200

    s4:netlogon RPC server - "ServerPasswordSet" operations - introduce also here the new password change syntax

commit 4c8edc8f5e9db9a08b5d672707ce71d82efdad15
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jul 6 18:16:32 2010 +0200

    s4:kdc/kpasswdd.c - let the user change his own password with his own rights
    
    Now it's finally possible that the user can change his password with a DSDB
    connection using his credentials.
    
    NOTICE: I had to extract the old password from the SAMDB since I was unable to
    find it somewhere else (authinfo for example).

commit cd711da6ca206a6fe6911c55882ee3e7e7ecedc9
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jul 6 18:07:31 2010 +0200

    s4:samr RPC server - samr_password.c - make real user password changes work
    
    Now it's finally possible that the user can change his password with a DSDB
    connection using his credentials.

commit 2a423e05476cfae4d3465683831aa4d5f03bd3c9
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 21:06:11 2010 +0200

    s4:kdc/rpc server - adapt the "samdb_set_password" calls which perform password sets

commit eb345ebedf06ccef420f4352d145c54c1d39efe3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 21:26:07 2010 +0200

    s4:samdb_set_password/samdb_set_password_sid - make more arguments "const"

commit d72d7f9c5f318b58e38a47d38debe72bb6f53891
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 20:44:28 2010 +0200

    s4:samdb_set_password/samdb_set_password_sid - make the adaptions to support the password change control
    
    And introduce parameters to pass the old password hashes.

commit 35954bb3108ce1d2c05c729712ce881402bf3723
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 20:31:30 2010 +0200

    s4:password_hash LDB module - perform the adaptions to understand the new password change control

commit 23bd3a74176be4a1f8d6d70b148ababee397cf8c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jul 8 16:00:19 2010 +0200

    s4:acl LDB module - support password changes over the DSDB_CONTROL_PASSWORD_CHANGE_OID control
    
    This control is used from the SAMR and "kpasswd" password changes. It is
    strictly private and means "this is a password change and not a password set".

commit 895a9fbbfb06f371f4dbab3174451ace50dbb2b7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 20:01:27 2010 +0200

    s4:DSDB - DSDB_CONTROL_PASSWORD_CHANGE_OID - add a structure as value to the control
    
    This contains the NT and/or LM hash of the password specified by the user.

commit bbb9dc806e4399c65dee9b5dc2cde0bfaa9609bd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 19:52:18 2010 +0200

    s4:DSDB - rename the "DSDB_CONTROL_PASSWORD_CHANGE_OLD_PW_CHECKED_OID"
    
    Rename it to "DSDB_CONTROL_PASSWORD_CHANGE_OID". This control will afterwards
    contain a record with the specified old password as NT and/or LM hash.

commit 7eebcebbab8f62935bd1d5460e58b0a8f2cc30e8
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Aug 17 17:13:15 2010 +0200

    Revert "waf: enable gccdeps in developer mode"
    
    This reverts commit 61930f50cbace4741500d8b53fc11a4ef3e0d4f8.
    
    This breaks the build with older gcc versions
    gcc --version
    gcc (SUSE Linux) 4.3.2 [gcc-4_3-branch revision 141291]
    (This is SLES 11)
    
    Please only enable it if thet compiler supports it.
    
    metze

commit 656607943d8028721e2caa6a0d62d769864046e6
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Aug 17 14:22:35 2010 +0200

    s4:selftest: recreate $SELFTEST_PREFIX/s4client with each make test run
    
    Otherwise just fill the disks of the build-farm hosts.
    
    metze

commit 39f99e7d53848534c9a78c82b6d22101e1cbf539
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Aug 17 14:18:03 2010 +0200

    s4:selftest: run ldapi tests in 'dc:local' environment
    
    metze

commit 38e41728c5fdf90ec063572b3fae2d1c267f20a6
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Tue Aug 17 17:05:42 2010 +0300

    s4-tests: Added tests for acl checks on search requests

commit c36082222643059b3f81d2dcd962c550fb497b74
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 14:46:46 2010 +0200

    s3: Directly call write_data from print_job_write()

commit 3aba8e9b7e1feb3a429dfa8e68fb00b61e985ffd
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 14:45:48 2010 +0200

    s3: Remove unused "pos" arg from print_job_write

commit feb22e08972ab8a2ed6610b4d1ac1de361e6a500
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Aug 17 13:44:42 2010 +0200

    s3-samr: Correctly fix the transition from enum to uint32_t.
    
    What type an enum is depends on the implementation, the compiler and
    probably the compiler options. sizeof(enum) is normally not sizeof(int)!

commit 56f04188df598767901ab918e2be1f23a922c531
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 20:15:28 2010 +1000

    s4-ldb: ensure element flags are zero in ldb search return
    
    the distinguishedName element was getting an uninitialised flags value

commit bb2ba90663609c4051bf9cbedb4246802216126a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 18:29:42 2010 +1000

    s4-ldbwrap: ensure session_info in ldb opaque remains valid
    
    A DRS DsBind handle can be re-used in a later connection. This implies
    reuse of the session_info for the connection. If the first connection
    is shutdown then the session_info in the sam context on the 2nd
    connection must remain valid.

commit 8835a360cad78feabb17be6802e43fe7aa763fa4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 18:25:45 2010 +1000

    s4-rpcserver: log unknown RPC calls at debug level 3
    
    This was added as we are occasionally getting an encrypted unknown
    netlogon call, and I'm having trouble looking at it in wireshark

commit 2688375ffeba81ad635ca6bce175b1c849178482
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 18:24:29 2010 +1000

    s4-netlogon: added SEC_CHAN_RODC
    
    This seems to be equivalent to SEC_CHAN_BDC, but for RODCs

commit 82c171aa558c6b9ea0455915c9a2a2286498b8ea
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 15:20:11 2010 +1000

    s4-net: use an encrypted ldap session when setting passwords
    
    this allows for "net setpassword -H ldap://server -Uusername%password USERNAME"
    to set a password remotely on a windows DC
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 896f10301cc3db10793cac115bcbca0f58f0f010
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 14:55:23 2010 +1000

    s4-dsdb: check the type of session_info from the opaque
    
    we saw a crash with a bad pointer here, and this may help track it
    down
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 21729b63f0a43798751517369a032ba8672aeb20
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 14:21:07 2010 +1000

    s4-drs: allow getncchanges from RODC with WRIT_REP set
    
    w2k8r2 is setting this bit as a RODC. Instead of refusing the
    replication, we now remove the bit from req8, which means other places
    in the code that check this bit can stay the same
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 45a2b408ba16ebabedc519a7235b05c104dede6b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 14:12:21 2010 +1000

    s4-drs: added domain_sid to DRS security checks
    
    we need the domain_sid to determine if the account is a RODC for our
    domain
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 84bedf4028a5c841f08c079bfd20b9111fe52777
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 14:11:24 2010 +1000

    s4-drs: fixed check for SECURITY_RO_DOMAIN_CONTROLLER
    
    check more than the user_sid, and also check for the right rid value
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 4e9daa0f032547787a1a1957a6f4f4002aa50371
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 14:10:34 2010 +1000

    s4-dsdb: added support for UF_PARTIAL_SECRETS_ACCOUNT
    
    when this is in user_account_control the account is a RODC, and we
    need to set the primaryGroupID to be DOMAIN_RID_READONLY_DCS
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit df14f645b3c56ca7652463d53731437158d5c4bb
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 13:19:53 2010 +1000

    s4-dsdb: cope with cracknames of form dnsdomain\account
    
    this is used by w2k8r2 when doing a RODC dcpromo
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit f6e0b151a32a2fa450ded3af2fd87d9767cd4540
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 12:06:24 2010 +1000

    s4-dsdb: set LDB_FLAG_INTERNAL_DISABLE_VALIDATION for msDS-SecondaryKrbTgtNumber
    
    msDS-SecondaryKrbTgtNumber is setup with a value that is outside the
    range allowed by the schema (the schema has
    rangeLower==rangeUpper==65536). We need to mark this element as being
    internally generated to avoid the range checks
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 0caf347098913e9d224d1db4b48887e2b78bae03
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 12:04:45 2010 +1000

    s4-ldb: added LDB_FLAG_INTERNAL_DISABLE_VALIDATION
    
    When this flag is set on an element in an add/modify request then the
    normal validate_ldb() call that checks the element against schema
    constraints is disabled
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 9e27201b24106babc7ac2400f7f063f438b0ddcd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 12:03:47 2010 +1000

    s4-ldb: added LDB_FLAG_INTERNAL_MASK
    
    This ensures that internal bits for the element flags in add/modify
    requests are not set via the ldb API
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 6baa834ebe710d73cfd54e465479a2b2de9d2476
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 11:21:11 2010 +1000

    s4-ldb: use LDB_FLAG_MOD_TYPE() to extract element type from messages
    
    The flags field of message elements is part of a set of flags. We had
    LDB_FLAG_MOD_MASK for extracting the type, but it was only rarely
    being used (only 1 call used it correctly). This adds
    LDB_FLAG_MOD_MASK() to make it more obvious what is going on.
    
    This will allow us to use some of the other flags bits for internal
    markers on elements
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 527042f78bc1672ca9a2f766b232165fb2a81d9f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 11:13:59 2010 +1000

    s4-dsdb: support LDB_CONTROL_RODC_DCPROMO_OID for nTDSDSA add
    
    this control disables the system only check for nTDSDSA add operations
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 974279b67de6aa346f961b4546bfa556b4ab7ece
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 11:12:54 2010 +1000

    s4-dsdb: fixed test for LDB_CONTROL_RODC_DCPROMO_OID
    
    the ldb_msg_add_fmt() call returns LDB_SUCCESS on success

commit eed3838b4806cebd986b07bea21b88974b394d2f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 11:12:09 2010 +1000

    s4-ldapserver: support controls on ldap add and rename
    
    we need to pass the controls down to the add and rename ldb operations
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 191d632e237761004fe0fe79a29a7274b7267d45
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 09:59:18 2010 +1000

    s4-dsdb: added support for LDB_CONTROL_RODC_DCPROMO_OID
    
    this control adds a unique msDS-SecondaryKrbTgtNumber attribute to a
    user object.
    
    There is some 'interesting' interaction with the rangeLower and
    rangeUpper attributes and this add. We don't implementat
    rangeLower/rangeUpper yet, but when we do we'll need an override for
    this control (or be careful about module ordering).
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit dcd9fcc7b395cc2babfa89aa26163e43186ad669
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 17 09:17:17 2010 +1000

    s4-ldap: use common functions for ldap flag controls encode/decode
    
    many controls are simple present/not-present flags, and don't need
    their own parsers
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 16ad1bbb4e8c50b9b45ed2cbdd8a815b267e3961
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 17 13:18:34 2010 +0200

    s3-dcerpc: try to fix the non gssapi build.
    
    Guenther

commit 36cfadcf6a49ec208c2525f1541597b25d8b9397
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 17 13:06:36 2010 +0200

    s3-dcerpc: fix c++ build warning.
    
    Guenther

commit 35052d71d3de5e0eb3d2dfa06bf75f7547c543f8
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 17 13:06:13 2010 +0200

    s3-dcerpc: fix uninitialized variable in cli_get_session_key().
    
    Simo, please check.
    
    Guenther

commit ff175167321f0134f2f2e445aee1af04afe72f39
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 17 13:03:58 2010 +0200

    s3-util: remove unused variable.
    
    Guenther

commit 0a89722671aa7fba8d7befa530dc69bb67260919
Author: Simo Sorce <idra@samba.org>
Date:   Tue Aug 17 06:40:38 2010 -0400

    s3-ads: Remove unused function and file

commit aca7b22e96482bdd90e59973e25dc41690969bab
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Aug 17 08:02:46 2010 +0200

    s3:winbindd: don't ignore 'result' in wb_dsgetdcname_done()
    
    Ignoring it could cause a segfault in winbindd_getdcname_recv()
    
    metze

commit 40ae8b74b669ced9dee0c33e15bc5e0ac8680506
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 16:02:37 2010 +0200

    s3: Remove smbd_server_fd() from write_data()
    
    This completely removes the DEBUG(0, ..) error message from write_data(). I've
    gone through all callers of write_data() and made sure that they have their own
    equivalent error message printing.

commit f40ef7e24cda2d25dcb04cb7e83cd1f3d62a66e4
Author: Simo Sorce <idra@samba.org>
Date:   Tue Aug 3 05:11:28 2010 -0400

    s3-dcerpc: Use common send functions for ntlmssp too
    
    Remove unused function.

commit 86914b8fab764667ca5021f44b61c0222dbb2e09
Author: Simo Sorce <idra@samba.org>
Date:   Mon Aug 2 12:15:43 2010 -0400

    s3-dcerpc: properly implement gse/spnego_get_session_key

commit 26a3ba60e661bc2eaf05a2c03f8851d252515d3e
Author: Simo Sorce <idra@samba.org>
Date:   Mon Aug 2 12:05:45 2010 -0400

    s3-dcerpc: Check data and return appropriate error

commit 9b8c7d47f98dffe961dc513f5452dfd72b508136
Author: Simo Sorce <idra@samba.org>
Date:   Mon Aug 2 12:18:58 2010 -0400

    s3-dcerpc: Remove unused function

commit 7b12513d125e13a4db3f32adc05030fbb302f510
Author: Simo Sorce <idra@samba.org>
Date:   Mon Aug 2 10:28:10 2010 -0400

    s3-dcerpc: make a few local functions as static

commit 9a9a38c666a8285fdfac35758aa85f5d33ba6e95
Author: Simo Sorce <idra@samba.org>
Date:   Mon Aug 2 10:14:02 2010 -0400

    Change debug statements to use __location__

commit 72a0098415c1d676a77a032c0f5fda90e9c1b905
Author: Simo Sorce <idra@samba.org>
Date:   Mon Aug 2 10:03:04 2010 -0400

    s3-dcerpc: Pull packet in the caller, before validation

commit 558320cf582a5ebc50af28061f5e33f7e4158fba
Author: Simo Sorce <idra@samba.org>
Date:   Mon Aug 2 09:47:01 2010 -0400

    Add my (c)

commit 1791d0533552d9070a72c7e4b827f6b6dd03fae4
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Aug 13 15:56:49 2010 +0200

    s3-samr: Fixed some build warnings.

commit 5f1b12059949a37edd10a59e04ab44fa782cb5ee
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Aug 17 08:45:22 2010 +0200

    s3: Fix a ton of type-punned warnings

commit 8f3542c58e843d49dcecd2753f85f45731bd13c0
Author: Brad Hards <bradh@frogmouth.net>
Date:   Tue Aug 17 08:43:28 2010 +1000

    build fix

commit 045e04a2c6649c2c11d0925969f960662f637673
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 16 11:38:26 2010 +1000

    s4-ldb: test the 'displayName=a,b' bug
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit ec3ed2898fec44ceb48ee78fc934c6f4e67aaf73
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Aug 3 17:15:10 2010 +1000

    s3-provision: cope with the policy directory already existing
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit fd59a7c4affdd1a6c6fe7caf29264acabcd0c03e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 16 11:03:58 2010 +1000

    s4-ldb: fixed the ldb 'displayName=a,b' indexing bug
    
    the problem was the inconsistency between the key form of DNs between
    the itdb used for indexing and the on disk form
    
    Thanks to Matthieu Patou for finding this bug!
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 1cc471d69fc6ff5dc835462b712645415f8feca4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 16 11:00:41 2010 +1000

    s4-ldb: add some comments explaining the ltdb_index_idxptr() function
    
    this function copes with alignment sensitive CPUs
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 68e86969fae55584f12191f09ac0442d09872030
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 11:43:46 2010 +0200

    s3: Remove smbd_server_fd() from smbd_process

commit 0bd39c73be4cc14ac0961441f8ab3e65d0e9346a
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 11:41:08 2010 +0200

    s3: Remove smbd_server_fd() from smbd_echo_loop

commit 2cd643865d89b403f1b30b68ba4e6f040705dc8d
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 11:40:28 2010 +0200

    s3: Remove smbd_server_fd() from smbd_echo_reader

commit a23483310d4403071ec77e50d83b1a679ca20cdf
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 11:39:09 2010 +0200

    s3: Remove smbd_server_fd() from smbd_echo_reply

commit bb867df269a3c39c6f757f53c3770a0501eb42ff
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 11:36:27 2010 +0200

    s3: Remove smbd_server_fd() from keepalive_fn

commit a2bf46e9ec27092cf25515587956cbd68a909248
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 11:35:23 2010 +0200

    s3: Remove smbd_server_fd() from smbd_server_connection_handler

commit 8e7a92bc242bf167a62e36f0d9258af41d39cb25
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 11:34:48 2010 +0200

    s3: Remove smbd_server_fd() from smbd_server_connection_read_handler

commit 6737c3dd32aeff76322f0f6056612f71da2fe45e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 11:33:53 2010 +0200

    s3: Remove smbd_server_fd() from chain_reply

commit b9d052c72874de91ffabc2fb75e1af57e0d4f839
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 11:33:05 2010 +0200

    s3: Remove smbd_server_fd() from construct_reply

commit 61989a9e54ef0ded0fbf2d5353aa8d0c0e34e409
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 11:31:51 2010 +0200

    s3: Remove smbd_server_fd() from switch_message

commit ee796255cee4efa280b8896deca492a877b2e135
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 11:31:13 2010 +0200

    s3: Remove smbd_server_fd() from smbd_server_connection_loop_once

commit 95b232a008c00d69280f0fb15425d5f10c21b7a1
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 11:29:44 2010 +0200

    s3: Remove smbd_server_fd() from receive_smb_raw_talloc_partial_read

commit 4a27c10903a90604c354dc335a7e42c15b798a1d
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 11:10:13 2010 +0200

    s3: Remove smbd_server_fd() from make_connection

commit 897d09174d541a2fcdb35b424167c78b0c5fcce3
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 11:05:18 2010 +0200

    s3: Remove smbd_server_fd() from share_sanity_checks

commit 05604b315b41a8af02dc7e28436625cd5236bfbd
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 09:24:30 2010 +0200

    s3: Remove smbd_server_fd() from setup_new_vc_session

commit a98604d7f281f890fefd23e23e887c2199842484
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 09:24:17 2010 +0200

    s3: Remove smbd_server_fd() from make_connection_snum

commit 910e3df7dd10e43e058874002b60e452c13cfa18
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 08:59:19 2010 +0200

    s3: Remove smbd_server_fd() from reply_echo

commit 495bb1efb3f4ee38b97438e20d295c8e3c959fbb
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 08:57:26 2010 +0200

    s3: Remove smbd_server_fd() from reply_writebraw

commit 36cfc1d145d003005111612c67474fac5b9f442e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 08:56:18 2010 +0200

    s3: Remove smbd_server_fd() from send_file_readX

commit 209b3aee1c265a3d81ede4242963c043288289bb
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 08:54:23 2010 +0200

    s3: Remove smbd_server_fd() from send_file_readbraw

commit cc5f83831961fdcee1a286ff465e616cbcba1f13
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 08:52:01 2010 +0200

    s3: Remove smbd_server_fd() from reply_readbraw_error

commit 59645506a092ed2d9b49d901c45968d10ea3b6a2
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 08:51:28 2010 +0200

    s3: Remove smbd_server_fd() from sendfile_short_send

commit 6f85247494e04657a11e0a05933bdc2da788277e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 08:50:26 2010 +0200

    s3: Remove smbd_server_fd() from fake_sendfile

commit 3e28c05e98485c0cd3ffa3855314128400f32ad9
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 08:48:54 2010 +0200

    s3: Remove smbd_server_fd from netbios_session_retarget

commit 2d571fdddbe86672ce47f22d8dd05e6dddaffa06
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 23:14:26 2010 +0200

    s3: Remove smbd_server_fd from vfs_pwrite_data

commit 30ce02299b3c6cb7e2f9f80ce530e8d5e3441d6c
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 23:14:16 2010 +0200

    s3: Remove smbd_server_fd from vfs_write_data

commit a92efa0e4738bef8a5411fb7a0bb361e3a67ca14
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 23:13:28 2010 +0200

    s3: Remove smbd_server_fd from send_trans2_replies

commit 50b3ee57e2860c4074de356a45f9d54a3236f3e8
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 23:13:11 2010 +0200

    s3: Remove smbd_server_fd from smbd_initialize_smb2

commit 0e12c216dcf2fccccd6b38dfbe532bfa2593ae79
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 23:12:46 2010 +0200

    s3: Remove smbd_server_fd from reply_special

commit 7a1c32c98a7b536fd1478f33c2e56cc2522d7eba
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 23:12:21 2010 +0200

    s3: Remove smbd_server_fd from pipe_write_done

commit 7c0c7f33379efd3caa222e4c76d7390d5aadd58b
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 23:12:01 2010 +0200

    s3: Remove smbd_server_fd from send_break_message_smb1

commit e34c5e235d831160599202960cc1a3411883934f
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 23:11:43 2010 +0200

    s3: Remove smbd_server_fd from api_dcerpc_cmd_read/write_done

commit 215d803cdbfeb7df8b4cc20c7b8d532b7be7bb99
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 23:11:23 2010 +0200

    s3: Remove smbd_server_fd from send_trans_reply

commit 9878fa6f725e4c44b863de0b18269746b9ca7144
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 23:10:45 2010 +0200

    s3: Remove smbd_server_fd from send_nt_replies

commit 774bae74d15621c303228c44ce4ea3707f9e078c
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 23:10:18 2010 +0200

    s3: Remove smbd_server_fd from blocking_lock_reply_error

commit 9115beb88c1640f00b5d5cddcfc2a09a54b3a90e
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 23:10:01 2010 +0200

    s3: Remove smbd_server_fd from generic_blocking_lock_error

commit c9458a756cd48abb69e5c520baba00f954ca445f
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 14:54:13 2010 +0200

    s3: Remove smbd_server_fd from handle_aio_read/write_complete

commit bda7c70bc0c04eeb0adb2a1a08bf958895a68879
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 14:53:45 2010 +0200

    s3: Remove smbd_server_fd from schedule_aio_write_and_X

commit 2f53d1deb7a244e67302425d0f5e82caaa51f027
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 14:52:59 2010 +0200

    s3: Add "sock" to smbd_server_connection

commit 7644fbdff9036088a51dfe21b32849c9d9908d16
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 16 21:40:04 2010 +0200

    s3-waf: Added missing client option to pidl list for wbint.

commit 0827e52b4e82bf52f723c76a286cf6746054294a
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 14:30:07 2010 +0200

    s3: Simplify the logic of check_access by an early return

commit 17150dfa9ae97ef5ac2c2c55a0b31b1fd4a3501d
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 12:11:07 2010 +0200

    s3: Lift smbd_server_fd() from read_target_host

commit 1b022d1d3d613d2299350f9c8cea8cec4510d0b2
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 16 21:30:26 2010 +0200

    s3-waf: Try to fix the idl build.

commit 5af3177dbd79c3fe494ae82509a37368c8caf204
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 16 20:35:31 2010 +0200

    s3-waf: Create a variable for LIBNDR_NTPRINTING_SRC.

commit 53e0421300f6f1d8e143eddda8bec9221b73e6bb
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 16 20:25:46 2010 +0200

    waf: Generate the ntprinting ndr functions.

commit 45c7f83ccb2822564ec8df3c41b5c0a9dead6e9c
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 16 20:35:16 2010 +0200

    s3-waf: Fixed the rpc_client build.

commit b3f9345d7639c724aa553ade0223789a45c934b4
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 16 21:12:52 2010 +0200

    Fix a typo

commit f036b449db07c17d04b7f47b1defedef2c2a0970
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 16 20:18:20 2010 +0200

    s3-waf: Fixed the build.

commit efd822982e531d82b4b95624146b90cd3334f78f
Author: Jim McDonough <jmcd@samba.org>
Date:   Mon Aug 16 14:07:44 2010 -0400

    s3-printing: fix BUG 7280 - auto printers not loading with registry
    config

commit dadcc840091c848ccedc3348591d0e19eff75182
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Aug 16 18:45:26 2010 +0200

    s4:samdb_set_password_sid - fix comment
    
    Add more possible result NTSTATUS codes

commit c80d4cb6fe6b02307599e0b9ad20031a3130f2f5
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 16 16:40:12 2010 +0200

    s3-selftest: fix make oldtest (testparm_s3 tests use $LOCAL_PATH).
    
    Guenther

commit 760948a5d4b65fe9353357e701e854f437adf7cb
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 12 15:28:27 2010 +0200

    s3:winbindd: remove rpc_pipe_client references from winbind_dual_ndr code
    
    metze

commit 13c744fa30b94e6ab4321c69a8a3d01ef42845d7
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 12 15:13:54 2010 +0200

    s3:winbindd: use dcerpc_wbint_* functions instead of rpccli_wbint_*
    
    metze

commit 2ccaa2355872612559935090cb032031659ea284
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 12 15:12:11 2010 +0200

    s3:winbindd: add binding_handle to struct winbindd_child
    
    metze

commit e79c8098d62d415d988a840f71f5733b9dfb9f68
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 12 14:50:47 2010 +0200

    s3:include: remove unused dispatch* fn pointers from rpc_pipe_client
    
    metze

commit 7f2343be122e80a426eeea29ed602fbc84bdc77b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 12 14:49:47 2010 +0200

    s3:winbindd: remove unused wb_ndr_dispatch* functions
    
    metze

commit 12379097abbab06f7a41bdcd00093f0c7ba08a8f
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 12 14:48:27 2010 +0200

    s3:rpc_server: remove unused rpc_pipe_internal_dispatch()
    
    metze

commit 745f63fd1ead248d5a7cd257c0cb38af3ed9dd8b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 12 14:46:24 2010 +0200

    s3:rpc_client: remove unused cli_do_rpc_ndr* functions
    
    metze

commit dd16d3b2d6cdaa036fe12c80b06d9963d20f5b27
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 12 14:39:42 2010 +0200

    s3:rpc_client: remove unused rpc_pipe_open_local()
    
    metze

commit d418f9f11abb5b5ed038acbaf5dbb2a656d39d87
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 16 13:53:10 2010 +0200

    s3-printing: Lift the use of smbd_server_fd from job_submit.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit dc2313d1e87b68a5d85be8443e377491f979ecbc
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 16 13:42:23 2010 +0200

    s3-param: also remove lp_update_encrypted from loadparm.
    
    Andreas, please check.
    
    Guenther

commit 13d1e39e473aa7c8cd78b3ca48bbe7889b29f620
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 14:26:20 2010 +0200

    s3: Fix some type-punned warnings

commit 731604d8aeccc4b49db1a7f88a5334788a8ed4ef
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 16 13:30:00 2010 +0200

    s3-smbtorture: fix printf statement in ioctl test.
    
    Guenther

commit 976e1b46ef5d5751af5fb9b6bf9d0ed9bd2e3bf0
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 16 08:11:00 2010 +0200

    s3: Remove an unused struct definition

commit 96ae4570230d2d47e23da6909f6e21dd43a19868
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 10:22:12 2010 +0200

    s3: Remove get_client_fd()

commit a482b3e14ec4e3eada9c2477c9eae2bfbe017f53
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jul 29 13:18:35 2010 +0200

    s3-auth: Remove docs about obsolete 'update encrypted' option.

commit 66b6a8cf62c2fe9b1eafeb094916e6046f686359
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jul 29 13:16:09 2010 +0200

    s3-auth: Remove obsolete 'update encrypted' option.

commit f03ac22770ef96d4b0fec81d94efefcddd8b310b
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 16 12:22:27 2010 +0200

    s3-selftest: add samba3.posix_s3.rpc.spoolss.notify to knownfail list.
    
    Guenther

commit dba68d845200bb4416a87c5777de2b554110d20b
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 16 12:11:19 2010 +0200

    Revert "s4:RPC-SPOOLSS-NOTIFY: skip test_RFFPCNEx() for now, as the test is broken"
    
    This reverts commit 8ca8250443319e0f19f05aab2014118fd03eaa8a.

commit f24c99fba05ee24232f8047a11f09a093da7b266
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 16 12:08:33 2010 +0200

    s3-build: always check for python.
    
    This should fix make test. Metze, please check.
    
    Guenther

commit b0b73ca041ba3d90b3924b380abed4975e5354d9
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Aug 16 10:07:24 2010 +0200

    pidl:Samba4/NDR/Client.pm: correctly copy fixed size out arrays
    
    metze

commit 1fc3676974b254fd5fd402e7fa600b9020748734
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 19:45:29 2010 +0200

    s4:samdb_set_password - fix formatting
    
    (Sorry, I've overseen this)

commit af3c6a42426241704580f4440b09a8c155d212df
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 18:19:52 2010 +0200

    s4:passwords.py - proof the most important extended error codes

commit 3fcd76237d1c621e6bb876c4c33706e0db2056e2
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 18:05:29 2010 +0200

    s4:samdb_set_password - implement the extended LDAP error code detection

commit 2dbff00b6dd3affc95c717296d52343daf49361b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 17:38:47 2010 +0200

    s4:password_hash LDB module - introduce the extended LDAP error codes on the important failure cases

commit 33bb063b053c24a84fdd13b866d1f80a964aeabf
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 10:20:48 2010 +0200

    s4:password_hash LDB module - support this new password set syntax

commit 6dc0c07a51ee3d26ffc44e6178b6ae842190bd19
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 10:02:43 2010 +0200

    s4:passwords.py - another special password test
    
    This looks like a password change but it's rather a password set operation.

commit 28cfae774edf7bd4e2c4d9285b0d0508bee64284
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 09:36:25 2010 +0200

    s4:password_hash LDB module - allow to compare against both NT and LM hashes on password change operations
    
    This is to match the SAMR password change behaviour.

commit 9476c43967af66e854cfda13bf09e21da7e63a44
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 18:45:09 2010 +0200

    s4:ldap_backend.c - Windows returns WERROR codes in majuscule HEX format

commit fb58c0f36575510ca6572e695afdd81469ced3dd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 09:25:58 2010 +0200

    s4:ldap_backend.c - map error codes - add a change which allows custom WERROR codes
    
    This is strictly needed by my recent passwords work, since I want to remove
    most of the password change stuff in "samr_password.c". Since AD gives us
    CONSTRAINT_VIOLATION on all change problems I cannot distinguish on the SAMR
    level which the real cause was about. Therefore I need the extended WERROR codes
    here.

commit 08b628efe40bd93993ed4b662d924436444bb242
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 14:56:19 2010 +0200

    s3: Remove some unused code

commit 3d447e01603c9289d027730565c1771585b19dde
Author: Andreas Schneider <asn@samba.org>
Date:   Sun Aug 15 13:17:36 2010 +0200

    s3-test: Try to fix the build farm subunit parsing.

commit 98187fe3092273713b7ac9f8dada01bc5485c7ef
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 09:48:53 2010 +0200

    s3: Increase debug level for shutdown_other_smbds

commit 02002a52f243d29d61f62802c7e0d878b3d84a34
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 09:48:19 2010 +0200

    s3: Add debugs to shutdown_other_smbds

commit f94039a8ea9c59c481e98e53080fe37d05c883a4
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 15 09:43:56 2010 +0200

    s3: Fix a typo

commit fb274f056b85b56fec773c05329c41b72e0f7715
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 15 09:24:22 2010 +0200

    s4:subtree_rename.c - relax the checks when requested
    
    (Needed by upgradeprovision for example)

commit 887b7306a779509d9929d18d0ca91b17d510fd5b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Aug 11 01:54:05 2010 +0300

    s4-test: Add drs.rpc.msDSIntId test to knownfail tests

commit 776a3cdc08cb6220656c3b4b7f782d87677e29c0
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Aug 13 23:42:34 2010 +0300

    s4-test: Run all DRS-RPC.* tests in ncacn_ip_tcp_tests tests group
    
    Andrew, please check.

commit e58aed25fcc2a4f4ed5b4c167fc8f954c5d471f5
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Aug 13 22:30:39 2010 +0300

    s4-drs-test: Make the two DRS test suite a top-level test suites
    
    so that test cases gets visible with "smbtorture --list"

commit d6ccd4c9daaaf19e9fb4dd16ba8b6599d28ef1d5
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 14 19:44:58 2010 +0200

    s4:ldap_backend.c - fix a DS error code after WERROR change

commit 7ffae937625afa59f2e554f4aa7dc2113699f7df
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 14 19:41:46 2010 +0200

    werror.h - fix order and duplicate DS error codes

commit ab3e20b82fca206d03a68acc501fdbd5a59b47a7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 14 18:47:15 2010 +0200

    s4:libnet - free the "c" context also on error conditions
    
    (and if it's NULL then "talloc_free" does ignore it)

commit 2de63aa2801a907905b3e05557074af5b896d486
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 14 18:36:49 2010 +0200

    talloc:documentation - explain that "talloc_free" works also with "NULL" pointers
    
    (talloc.c)
    ...
    > static inline int _talloc_free_internal(void *ptr, const char *location)
    > {
    >        struct talloc_chunk *tc;
    >
    >        if (unlikely(ptr == NULL)) {
    >                return -1;
    >        }
    >
    >        tc = talloc_chunk_from_ptr(ptr);
    ...
    
    Obviously this never had been documented before.

commit 07af3f289e403396a9ddef744cf42e2badc1f1cc
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 14 17:11:40 2010 +0200

    s4:samdb_set_password - return "NT_STATUS_WRONG_PASSWORD" when a user account doesn't exist
    
    This is for the (SAMR) account detection protection mechanism.

commit 1fa9e994423b96cc6a13682f79e827cae6850553
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 14 17:10:59 2010 +0200

    s4:password_hash LDB module - improve an error message

commit 4b569d74a4be62a65e9c6ef1248eb83eae215831
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 14 11:51:47 2010 +0200

    s4:password_hash LDB module - implement the SAMR behaviour when checking old passwords
    
    Sooner or later this module should take over all password change actions.

commit e335b24ad00c3398f2bd4b7da9c4df6087597121
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 14 11:19:29 2010 +0200

    s4:password_hash LDB module - fix wrong error codes
    
    To match the passwords.py test

commit a9b055291c39198be5fb1648ba1f51418af16e09
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 14 11:59:47 2010 +0200

    s4:passwords.py - test the error code when there doesn't exist any password yet
    
    After the creation of a user object we don't have any password yet.

commit c335c5f54a2bb174b558f7edaced468e597c7ed6
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 14 10:46:38 2010 +0200

    s4:passwords.py - perform testing of wrong old passwords on change operations

commit 4f6377043dc7a524a2afd05cd151c82350f06cfe
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 14 11:19:53 2010 +0200

    s4:torture/rpc/samr.c - fix a wrong torture error message

commit 13a4922ae631578fcc88eb6b98a15361fd805186
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 12:23:13 2010 +0200

    s3: Remove a conn NULL check from claim_connection
    
    We've already dereferenced conn before

commit 19280b65a5744ffc23fae1918f371582a237c195
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 14 10:06:55 2010 +0200

    s3: Fix an uninitialized variable

commit 4f8ef205ac05cfb445e1252b02faccf9f442f1c3
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 4 23:44:50 2010 +1000

    s3:auth Add error paths for invalid password_state values
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 70211ea6a3517cb64f18fe7768078e7d51c51ca1
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 17 19:04:31 2010 +1000

    s3:auth Change winbindd -> auth interface to more standard structures
    
    This removes conversions to and from the source3 varient of the
    server_info structure when replaced in s3compat, and presents a tidier
    interface to winbindd in any case.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit b1b9752506e73766ec66c3c5d26797e9f0112527
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 17 18:10:13 2010 +1000

    s3:auth Change 'make_user_info' to be talloc based
    
    This is an ideal candidate, as it already uses a free function.  It
    now uses talloc destructors to clear the passwords if required.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit e66f6e715fc98641f6cb20f137867723a315f672
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 1 21:53:42 2010 +1000

    s3:auth Whitespace fixes after auth merge

commit 23994e1b53b8528007f6325ce5f286712ec021be
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 1 21:52:01 2010 +1000

    s3:auth Make Samba3 use the new common struct auth_usersupplied_info
    
    This common structure will make it much easier to produce an auth
    module for s3compat that calls Samba4's auth subsystem.
    
    In order the make the link work properly (and not map twice), we mark
    both that we did try and map the user, as well as if we changed the
    user during the mapping.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 272e49e85c47d88ef0a84bce88e6f8d984f2eae4
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 4 16:44:08 2010 +1000

    s4:auth Move struct auth_usersupplied_info to a common location
    
    This also changes the calling convention slightly - we should always
    allocate this with talloc_zero() to allow some elements to be
    optional.  Some elements may only make sense in Samba3, which I hope
    will use this common structure.
    
    Andrew Bartlett

commit 61930f50cbace4741500d8b53fc11a4ef3e0d4f8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 9 16:39:13 2010 +1000

    waf: enable gccdeps in developer mode
    
    there are some bugs in the waf builtin preproc this that avoids

commit 952ef310b5e96fe2529562d4bb288f313be62e8a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 9 16:38:33 2010 +1000

    s4-build: fixed library name in dcerpc_server.pc.in
    
    Thanks to Metze for spotting this

commit 3828c76c76e4e9ce7bdb33bc4871f5cf571cc18b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 9 16:37:52 2010 +1000

    ndr: allow ndr_print to print DATA_BLOB
    
    this prints DATA_BLOB structures using the ndr->print() calls
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 7bb5d353e84fa2998ae03fb7ecff1c59685dd9b7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 9 16:36:50 2010 +1000

    dnsp: dnsp_name is 2 byte aligned
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 60eae5a1342cb0e4463d380aa2db837684e111c7
Author: Michael Adam <obnox@samba.org>
Date:   Fri Aug 13 17:26:36 2010 +0200

    s3:idmap: fix sid_to_unixid for builtin and own domain.
    
    The old idmap code created a new mapping if asking the backends failed.
    Now with the new layering, if passdb (which is used for our own domain
    and builtin), then we need to continue and ask the backends, giving
    tdb or whatever the default backend is a chance to create a mapping.

commit 9f60eb8c1b325ece9127a7c3858de7c7a48ae18f
Author: Michael Adam <obnox@samba.org>
Date:   Fri Aug 13 16:15:38 2010 +0200

    s3:idmap: fix spacing/indentation

commit a739cb59445f069594f01f38a6e3c7eedccd4dcc
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 23 12:02:31 2010 +0200

    s3:idmap_ldap: use idmap_rw_new_mapping in idmap_ldap_new_mapping

commit a7ba9064d6e5446cb3d0a8d773c8f31b95667134
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 23 12:18:35 2010 +0200

    s3:idmap_ldap: add idmap_rw_ops to idmap_ldap_context and init in db_init()

commit 6659ac11de986bb29225b87cb891c3b50175d1f9
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 23 12:02:31 2010 +0200

    s3:idmap_tdb: use idmap_rw_new_mapping in idmap_tdb_new_mapping

commit 5a82cffb8b9444afbfa763cad2a7be57a1874d66
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 23 12:12:37 2010 +0200

    s3:idmap_tdb: add idmap_rw_ops to idmap_tdb_context and initialize them in init_db

commit 3f3cff9127b971c0de50975ed47cbb2d102a0e03
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 23 12:02:31 2010 +0200

    s3:idmap_tdb2: use idmap_rw_new_mapping in idmap_tdb2_new_mapping

commit e82ef14008082ae34af5d1f0205aa2b5782fc567
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 23 12:01:47 2010 +0200

    s3:idmap_tdb2: add rw_ops to idmap_tdb2_context and initialize in idmap_tdb2_db_init

commit 307e5b239ada7f817b941f7ffa4af6f1451ae91e
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 17:12:32 2010 +0200

    s3:idmap: add abstract idmap_rw new_mapping mechanism without registering backends

commit 9897647584f042e7227f3fdbf5a9a5b91a9ce83e
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 14:13:55 2010 +0200

    s3:idmap_ad: untangle two assignments from checks

commit 264910b06f71ed76df8ce432d320c33ec9dac42f
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 14:12:14 2010 +0200

    s3:idmap_ad: remove unused filter_low_id and filter_high_id from idmap_ad_context
    
    The filter range from the idmap_domain is used now.

commit d515d7fe49287b62a42aab5a8261745d27e349c9
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 14:09:57 2010 +0200

    s3:idmap_ad: use range from idmap_domain in idmap_ad_sids_to_unixids()

commit 96607d9543ebc1b485fa701db8f4f11fd501b750
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 13:13:57 2010 +0200

    s3:idmap_ad: use range from idmap_domain in idmap_ad_unixids_to_sids()

commit f07049495d81dc4ad2df440f274d470ac41b83c9
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 12:47:41 2010 +0200

    s3:idmap_rid: remove a comment that does not apply in that place.
    
    Probably got copied from a different location.

commit a75822836719f17b74cb009c482482bd78349cc7
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 12:44:22 2010 +0200

    s3:idmap_rid: remove unused domain_name from the idmap_rid_context.

commit 2916b302f35e434a1f9dfe329a146cb815bcda7e
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 12:42:52 2010 +0200

    s3:idmap_rid: remove range from idmap_rid_context()
    
    Now, the idmap_domain range that is centrally parsed is used.

commit ac63c50684ec2edb4a99f6ed1995288700ce5642
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 12:42:06 2010 +0200

    s3:idmap_rid: use range from idmap_domain in idmap_rid_sid_to_id()

commit cda44b9e8e8f0edc111f5fa8daf6f8a9f5bf2a7f
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 12:38:19 2010 +0200

    s3:idmap_rid: use ranges from idmap_domain struct in idmap_rid_id_to_sid()

commit a6f58b76cccc95f2ac69f5e215fd3a0c9d639c9e
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 12:32:35 2010 +0200

    s3:idmap_rid: remove unused talloc context var from idmap_rid_sids_to_unixids()

commit 376e2bcc6e6f8c8b032d83116dc742c5975f042e
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 12:31:41 2010 +0200

    s3:idmap_rid: remove unused talloc context arg from idmap_rid_sid_to_id()

commit 597292a819450866a28e8a46091a0287db9631c1
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 12:30:58 2010 +0200

    s3:idmap_rid: remove unused talloc context var from idmap_rid_unixids_to_sids()

commit 62833871bc5e2efe203d8f0a1efaf7c9fa62ff94
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 12:29:57 2010 +0200

    s3:idmap_rid: remove unused talloc ctx argument from idmap_rid_id_to_sid()

commit 622bda8a67083af2b1d0821e5cffcce4a50ea0b8
Author: Michael Adam <obnox@samba.org>
Date:   Mon Jun 21 17:28:37 2010 +0200

    s3:idmap_rid: untangle assignment from check in idmap_rid_initialize()

commit a896ba07bb0808143979d752ce89e94c47164f0c
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 23 12:39:59 2010 +0200

    s3:idmap_ldap: add my (C)

commit 58cb5163f269f11ecf2846bb00022d0b382af1d7
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 21:55:02 2010 +0200

    s3:idmap_ldap: create mappings for unmapped sids in idmap_ldap_sids_to_unixids()

commit 26c82596d95d31dc3d141656266123ca1fff8644
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 20:19:46 2010 +0200

    s3:idmap_ldap: add a idmap_ldap_new_mapping().
    
    High level function to create a new mapping for an unmapped sid.
    This builds logic that used to reside in the top level idmap code
    in the backend.

commit 4ed6f315d93213154a39748c4ecc68d3d51df488
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 20:18:27 2010 +0200

    s3:idmap_ldap: add idmap_ldap_get_new_id() to allocate a new id given a domain
    
    Currently this only works with the default domain, calling out
    to idmap_ldap_allocate_id(). In the future this will be extended
    to also work for non-default domains.

commit 5f77570bb6ba0a8e8233e5f8081acac48829e772
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 20:15:25 2010 +0200

    s3:idmap_ldap: move idmap_ldap_set_mapping() further up.

commit 3e71eaeca09fd8df39e6b894c02e83be8df4bac1
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 19:45:39 2010 +0200

    s3:idmap_ldap: make idmap_ldap_alloc_context a member of idmap_ldap_context
    
    this hides this beneath the idmap structure and removes a global variable

commit 523b94f180a8390788a3a7ce3e10ff94f350ac98
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 19:17:48 2010 +0200

    s3:idmap_ldap: call idmap_ldap_alloc_init from idmap_ldap_init.
    
    The alloc subsystem is now subordinate to the idmap system.

commit c85426186704316e64153b938c85582e6d0ebb17
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 19:03:46 2010 +0200

    s3:idmap_ldap: remove the (now unused) range from idmap_ldap_alloc_context

commit 3f39921e7e1175523766a108f338ea38038c5d79
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 19:03:12 2010 +0200

    s3:idmap_ldap: use ranges from idmap domain in idmap_ldap_allocate_id()
    
    Second step in removing the idmap range from the idmap_ldap_alloc_context.

commit 5518bcb840c288a4b041e1a0aa15e6cdefd9f028
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 18:59:28 2010 +0200

    s3:idmap_ldap: add idmap_domain arg to idmap_ldap_alloc_init and verify_idpool
    
    First step in removing idmap ranges from the idmap_ldap_alloc_context.
    The range from the domain is to be used now.

commit 1cf27374ab97841cf7b70a73217151276938885b
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 10:16:54 2010 +0200

    s3:idmap_ldap: remove unused filter range from struct idmap_ldap_context

commit 5bb4a94c6c022256e04e047ecf70be0d2cf09924
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 10:16:20 2010 +0200

    s3:idmap_ldap: don't load ranges - they have been loaded into struct idmap_domain

commit 634cd2e0451d4388c3e3f78239495cf595368b15
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 10:00:49 2010 +0200

    s3:idmap_ldap: use filter range from idmap domain, not idmap_ldap_context

commit 3a5f86216b820c4c57d46b586634b93e1ce423f2
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 14:49:00 2010 +0200

    s3:idmap_ldap: re-implement allocate_id in idmap methods.

commit 5bb5b69b0faff34ec0defbd2d358eeaf6daf4ea8
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 09:39:11 2010 +0200

    s3:idmap_tdb: add my (C)

commit 78979c642030c725489643fc7f395ea578c69261
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 09:01:32 2010 +0200

    s3:idmap_tdb: properly initialize the idmap_tdb context with zero

commit 9c3d4dff828574263f4f2ff3632c08af387a01f1
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 09:35:52 2010 +0200

    s3:idmap_tdb: prevent opening the idmap db more than once.

commit 66a38d8612733427637b13c721dd474389b7cc90
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 08:53:54 2010 +0200

    s3:idmap_tdb: rewrite sids_to_unixids to create mappings for unmapped sids.

commit 4f2bb1a2595a23d3bba0d0b3bb7bb38872e47c95
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 08:44:04 2010 +0200

    s3:idmap_tdb: add a idmap_tdb_new_mapping().
    
    High level function to create a new mapping for an unmapped sid.
    This builds logic that used to reside in the top level idmap code
    in the backend. To be called inside a transaction to guarantee
    atomicity of the operation.

commit 47387b3ebb0d4d04403d0d65312d29af6bccc95a
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 08:43:11 2010 +0200

    s3:idmap_tdb: move the set_mapping code up

commit 2b2a8f9b3b283a39f391548775628e1aeb6fb811
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 08:35:28 2010 +0200

    s3:idmap_tdb: use transaction wrapper for idmap_tdb_set_mapping().

commit b0615e475786faba1146949d5414518a0c2d05cf
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 09:47:27 2010 +0200

    s3:idmap_tdb: remove unused struct idmap_tdb_state.

commit 28535349bd321fbaad8c8cdcdcbf5a1a95b18c96
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 08:17:39 2010 +0200

    s3:idmap_tdb: remove unused idmap_alloc_db

commit 9010194972310e0749d426b3810785e4f5fce51d
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 08:17:06 2010 +0200

    s3:idmap_tdb: remove unused idmap_tdb_alloc_close().

commit 2e4a0382f5f9df4e50c7a7e9759bf02f54c21925
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 08:16:05 2010 +0200

    s3:idmap_tdb: give idmap_domain arg to idmap_tdb_allocate_id and use ctx->db
    
    instead of alloc_db

commit 4301a81c995e0230eaac859c0a5444a90d944ed0
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 08:12:43 2010 +0200

    s3:idmap_tdb: call idmap_tdb_init_hwm() from idmap_tdb_open_db().

commit 10395064933bd1c92d647606b4b3958aaacaf759
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 08:11:19 2010 +0200

    s3:idmap_tdb: move idmap_tdb_init_hwm up.

commit f739ccb1b9da4b5b7941944e8a4342049254c8d8
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 08:07:40 2010 +0200

    s3:idmap_tdb: remove unused idmap_tdb_load_ranges()
    
    The idmap_tdb_state (which should actually be called idmap_tdb_alloc_context)
    is being removed since the alloc part is combined with the id mapping part.

commit b1285a5cb3411dc0e2437d0952318b4837f14d81
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 23 10:53:29 2010 +0200

    s3:idmap_tdb: have idmap_tdb_open_db take an idmap_domain struct as argument
    
    the other arguments are not needed any more and are removed.

commit 53856fc8b0cdbb01eb0b639800be3ec1812aae41
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 07:56:46 2010 +0200

    s3:idmap_tdb: rename idmap_tdb_alloc_init->idmap_tdb_init_hwm and use db from idmap_tdb_context
    
    instead of the special idmap_alloc_db

commit 384e35f8a754feb601fdd9d032c3aad121e0fbc3
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 07:51:15 2010 +0200

    s3:idmap_tdb: move definition of struct idmap_tdb_context up.

commit db3897258392eca17835a72d022364aa5b668c32
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 07:43:14 2010 +0200

    s3:idmap_tdb: remove filter_low_id,filter_high_id from idmap_tdb_context
    
    These are now taken from the idmap_domain struct.

commit 3315f2cf9b6113ff84dde3a402f98c5c49f74bb9
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 09:46:08 2010 +0200

    s3:idmap_tdb: add idmap domain arg to idmap_tdb_upgrade and use domain range

commit 6d66018187624f4b0a0a21f34abb6e74053ce7d3
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 07:42:00 2010 +0200

    s3:idmap_tdb: use filter from idmap_domain rather than from idmap_tdb_context

commit 053e4510cd4a674e3c9809b0829f32e1bca183ea
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 07:35:28 2010 +0200

    s3:idmap_tdb: give idmap domain argument to idmap_tdb_sid_to_id
    
    instead of idmap_tdb_context. This is in preparation of using the
    filter from the idmap_domain struct.

commit f7a5f0987c014b26bafd4a3af8fc49396d735d34
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 07:32:12 2010 +0200

    s3:idmap_tdb: give idmap domain argument to idmap_tdb_id_to_sid
    
    instead of idmap_tdb_context. This is in preparation of using the
    filter from the idmap_domain struct.

commit 0f248169d9b42fcd9f70d7cf8d13640011dd3256
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 14:41:31 2010 +0200

    s3:idmap_tdb: implement allocate_id in idmap methods for tdb backend

commit 2b9ad09ae7bbfc4382e620705b2bc9c06e60fa5a
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 09:26:17 2010 +0200

    s3:idmap_tdb: add idmap_tdb_get_new_id() to allocate a new id given a domain
    
    Currently this only works with the default domain, calling out
    to idmap_tdb_allocate_id(). In the future this will be extended
    to also work for non-default domains.

commit 9e8df7403af834699eb94a71a5c1131a98c8b4c9
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 09:19:21 2010 +0200

    s3:idmap_tdb: convert idmap_tdb_allocate_id() to use transaction wrappers

commit 85e9b35993cbcbabc3abbf4f8490581c06c5f88a
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 15 09:12:49 2010 +0200

    s3:idmap_tdb: remove an extra blank line

commit aad8756daebf4eee03fb67e28324c723b81c3a02
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 09:39:24 2010 +0200

    s3:idmap_tdb2: add my (C)

commit dac9f73ccd7041334308367a2f712df87173bb76
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 23 11:30:56 2010 +0200

    s3:idmap_tdb2: move idmap_tdb2_new_mapping() up. spare a prototype.

commit 627b9aa4b7ccc87938c864a9be19e23b404d3fa1
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 09:31:53 2010 +0200

    s3:idmap_tdb2: get rid of an extra variable in idmap_tdb2_db_init().

commit d27992e70837850136b93b93886740c77ead0416
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 08:23:25 2010 +0200

    s3:idmap_tdb2: move idmap_tdb2_set_mapping() up to its _action callback.

commit 3bc40a09799ed3b39ff387d07b0a3928ae800444
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 08:04:53 2010 +0200

    s3:idmap_tdb2: use the right talloc context for db_open in idmap_tdb2_open_db()

commit 39079acc5770c23f4c1428be60202f48882eeef3
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 22:02:54 2010 +0200

    s3:idmap_tdb2: don't check whether sid is already mapped in idmap_tdb2_new_mapping().
    
    idmap_tdb2_new_mapping() is called from inside a transaction only
    with sids, that have been verified not to be mapped directly before
    that in the same transaction.

commit 1a52e0d25b2d32e336f1bac4d41039e290311a6b
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 17:40:12 2010 +0200

    s3:idmap_tdb2: add the db_context to the idmap_tdb2_context
    
    this removes the idmap_tdb2 global variable

commit 83ad3cdf6966e25ca931ebb6feabbf9be059e838
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 22:36:33 2010 +0200

    s3:idmap_tdb2: talloc_zero (instead of talloc) the idmap_tdb2_context

commit c08a45ebd9aa18d0d5795c90fc467cee089f2b7f
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 17:30:07 2010 +0200

    s3:idmap_tdb2: rename idmap_tdb2_alloc_load -> idmap_tdb2_init_hwm

commit 41cead6a31ff7f5733103fd36711a25559edf43c
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 17:28:34 2010 +0200

    s3:idmap_tdb2: move idmap_tdb2_alloc_load() up to reduce need for prototype

commit 2c549be359152964f9126530664e24bedd75f6f5
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 17:26:26 2010 +0200

    s3:idmap_tdb2: remove unused idmap_tdb2_state and idmap_tdb2_load_ranges

commit fd81228ed8691e3c8fc61e0be6f516b219c0e39f
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 17:24:40 2010 +0200

    s3:idmap_tdb2: give idmap_tdb2_alloc_load() and idmap domain arguemnt
    
    and use the ranges from the idmap domain for checking the HWM values

commit bd4cc44c7d99dd2aeabed73ef0659909b78c6830
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 17:21:27 2010 +0200

    s3:idmap_tdb2: add an idmap_domain struct argument to idmap_tdb2_open_db()

commit 871945ae199472f4635a272467a3df5bb4d8c44c
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 17:31:52 2010 +0200

    s3:idmap_tdb2: remove filter_low_id and filter_high_id from idmap_tdb2_context
    
    Now these are taken from the idmap_domain struct.

commit 2842389e55f846d559e3ae6297e6dc93b9ac68f8
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 17:17:44 2010 +0200

    s3:idmap_tdb2: don't parse config and fill filter_low_id and filter_high_id
    
    into idmap_tdb2_context in idmap_tdb2_db_init().
    Now these are taken from the idmap_domain struct instead.

commit 6a70e7da58c61ada84e4fbe43d6631f359a466e4
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 1 16:45:51 2010 +0200

    s3:idmap_tdb2: honour the "idmap read only" flag in the tdb2 module.
    
    Note that this will not prevent the idmap script from writing its
    mappings to the database, but no new unix ids will be allocated via
    the allocator and hence no new mappings will be autogenerated.

commit d5c3cb5a8a55e325a84d5fc5f704af86588b2027
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 17:14:51 2010 +0200

    s3:idmap_tdb2: use range from idmap_domain in idmap_tdb2_allocate_id

commit 4b10036da81857449e95272381faa2167ee4f10b
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 17:12:44 2010 +0200

    s3:idmap_tdb2: use filter from idmap_domain rather than from idmap_tdb2_context

commit 77096b9a26b23edc6a059dc2bc4f56d26f4aa0ea
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 17:06:17 2010 +0200

    s3:idmap_tdb2: pass idmap_domain (not idmap_tdb2_context) to idmap_tdb2_sid_to_id

commit 863212ad0e5ae59a218d9960553ec1e946f17826
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 16:02:07 2010 +0200

    s3:idmap_tdb2: pass idmap_domain instead of idmap_tdb2_context to idmap_tdb2_unixids_to_sids
    
    The reason for this will become apparent later: The ranges are being moved to
    the idmap_domain: They are universal.

commit bb8a4415c86bd23909d7fc34b933d8214b3e1846
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 15:49:30 2010 +0200

    s3:idmap_tdb2: also support idmap script for named domains
    
    this can be configured via "idmap config DOMAIN : script = foobar"

commit f27858548e64b9f27d62a900aec400ea66266fa5
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 15:47:23 2010 +0200

    s3:idmap_tdb2: move the idmap script from idmap_tdb2_state to idmap_tdb2_context
    
    The state (aka idmap_tdb2_alloc_context) is being removed.
    The (global) idmap script was wrong there anyways.
    It belongs to the per-domain context.

commit 834008c2cd55a87d4fada2390606381ec7316915
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 15:31:55 2010 +0200

    s3:idmap_tdb2: remove use of idmap_tdb2_state from idmap_tdb2_allocate_id
    
    idmap_tdb2_state should actually be called idmap_tdb2_alloc_context.
    This is being removed as the idmap and allocation is moved together.
    We use the idmap_tdb2_context * that is sitting in dom->private_data.
    This contains the same ranges as those in the state anyways.
    Later, when we can also allocate for named domains, this will become
    necessary anyways.

commit 1dfb20d0292623f21f47e93afaba865d9ff3b05b
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 15:31:05 2010 +0200

    s3:idmap_tdb2: move definition of struct idmap_tdb2_context up.

commit 5b264561e7959019974d6934af7568891a1d2c99
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 15:08:16 2010 +0200

    s3:idmap_tdb2: open the db after loading the ranges in idmap_tdb2_db_init().

commit 8da3d7c39be33899b29276cb2778cb9e1771bb6e
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jul 29 23:13:54 2010 +0200

    s3:idmap_tdb2: add allocation of new mappings to idmap_tdb2_sids_to_unixids
    
    This moves the new_mapping feature inside the tdb2 backend to make creations
    of mappings atomic.
    
    Note: The new internal function idmap_tdb2_get_new_id() that is used to allocate
    a new unix id is prepared to function for multiple explicitly configured idmap
    domains, but currently it does only work for the default domain. The extended
    allocation support requires extension of the data base format to store multiple
    counters (per domain). This will be added in a later step (TODO!).

commit 36017ecebf87b2c04d5af37bc209a64a4c6527a7
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 14:47:11 2010 +0200

    s3:idmap_tdb2: re-implement allocated_id in idmap methods.

commit 1cd1dff7569fbcd2ab02066764933fc50f0dc966
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 16:59:26 2010 +0200

    s3:idmap: add idmap_unix_id_is_in_range() for checking an id against an idmap range

commit 212627e9c0d62cf36f5f6101f0226f76bcee3881
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 16:29:13 2010 +0200

    s3:idmap: don't check range for passdb idmap domain

commit 24ff45ff4dd01d0ea5db7e7b182c8a4c8a9df761
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 16:07:55 2010 +0200

    s3:idmap: parse ranges and "read only" in idmap_init_domain().

commit dc4d838401787a5754d2114ba94029bef2a19f6d
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jul 29 17:51:13 2010 +0200

    s3:idmap: add a read_only flag to the idmap_domain struct.
    
    This will be used to mark "allocating backends" (tdb, tdb2, ldap) read-only.

commit 10c50f74d0efc4a6e4d58e7158b319da41528f8f
Author: Michael Adam <obnox@samba.org>
Date:   Wed Jun 16 16:05:34 2010 +0200

    s3:idmap: add low_id and high_id to the idmap_domain struct
    
    This global data will replace the backend-specific filter_low_id
    and filter_high_id. The presence of a range is generic to all
    idmap configs.

commit c09ee2bcb41ef80ab4f33abf5de3ff4aca324f51
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 15:55:01 2010 +0200

    s3:docs: fix net manpage to reflect removal of net "idmap secret alloc" feature

commit 502d00e463ad39b9d8843bd3539fdedfa56add38
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 15:00:38 2010 +0200

    s3:net: remove the "net idmap secret alloc" functionality.
    
    This is now not available any more, since allocation is moved
    below the id mapping layer. The functionality could be
    reintroduced on a per domain basis as an e.g
    "net idmap secret <domain> alloc" command.

commit 8496c663ff2c93911b0221e24fdf4f4b31e9e563
Author: Michael Adam <obnox@samba.org>
Date:   Fri Jul 30 15:15:47 2010 +0200

    s3:docs: add documentation for new "idmap read only" parameter

commit 6d9f4d6d36da6f9ab729d769d00e615fe8b4a499
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 1 15:35:01 2010 +0200

    s3:loadparm: add new boolean parameter "idmap read only"
    
    This will be used to be able to put the default idmap config
    read only. This can make sense for instance with the tdb2
    idmap backend and using the idmap script feature.

commit 2056703d56c67b4f01b61edafdf17d5e20220078
Author: Michael Adam <obnox@samba.org>
Date:   Fri Jul 30 15:01:37 2010 +0200

    s3:docs: remove documentation of removed parameter "idmap alloc backend"

commit c62f7c7a0b46ab4f834ff847f3f1a13374a53714
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 15:53:27 2010 +0200

    s3:loadparm: remove parameter "idmap alloc backend"

commit 7dd8339ca1d8cb8b44c128097f4ee4ee6f0b412f
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 11:56:55 2010 +0200

    s3:idmap: remove unused definition of idmap_alloc_methods.
    
    Allocation is now completely handled in the allocating backends.

commit 3a2487e66b85bcceba6d52881f7bc4810b757023
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 11:55:18 2010 +0200

    s3:idmap: remove idmap_alloc_context from idmap.c
    
    The registering of alloc backends is being removed.
    The idmap backends are responsible for initializing
    their alloc code on their own if necessary.
    
    No list of alloc backends is maintained any more in the top level.

commit 12a0ab3c96acf4333371b67d81d33b3bf0c5489a
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 11:47:04 2010 +0200

    s3:idmap: remove the alloc methods list from idmap.c
    
    The registering of alloc backends is being removed.
    The idmap backends are responsible for initializing
    their alloc code on their own if necessary.
    
    No list of alloc backends is maintained any more in the top level.

commit a423f5151d3ecf7d3dc37ae85b5868a46cdb9d39
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 11:45:58 2010 +0200

    s3:idmap: remove unused get_alloc_methods().

commit 75a6c244591b4bc13c494c2b0ec40926379d2d4a
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 11:44:44 2010 +0200

    s3:idmap: remove unused smb_register_idmap_alloc().
    
    The registering of alloc backends is being removed.
    The idmap backends are responsible for initializing
    their alloc code on their own if necessary.

commit f96575d6db1f0137469d2611a3f3111a8101366d
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 11:41:05 2010 +0200

    s3:idmap_ldap: remove unused idmap_ldap_alloc_methods.

commit 0369eb5555cddcdf80a7901dd64cef3114e524bc
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 11:38:58 2010 +0200

    s3:idmap_ldap: remoce unused idmap_alloc_ldap_init

commit 0dfe400d64285cb2433718d6c09961d9513bd9a2
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 11:37:40 2010 +0200

    s3:idmap_ldap: don't call idmap_alloc_ldap_init in idmap_ldap_init
    
    The registering of alloc backends is being removed.
    The idmap backends are responsible for initializing
    their alloc code on their own if necessary.

commit bc59660fc19493076a847e6439b80e5f6b6324d5
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 11:34:46 2010 +0200

    s3:idmap_tdb: remove unused idmap_alloc_methods

commit 5e317beadb0f73f825e46cff01aefeb8b5529454
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 11:33:34 2010 +0200

    s3:idmap_tdb: remove unused idmap_alloc_tdb_init()

commit dd4adc172171bab0e2a211d50b0c584834aff161
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 11:32:20 2010 +0200

    s3:idmap_tdb: don't call idmap_alloc_tdb_init in idmap_tdb_init
    
    The registering of alloc backends is being removed.
    The idmap backends are responsible for initializing
    their alloc code on their own if necessary.

commit 77e41c0ad47f9a0974ad34e4de3d0721117c7917
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 11:29:00 2010 +0200

    s3:idmap_tdb2: remove unused idmap_tdb2_alloc_init().

commit 261663389b3b04b9071b11b4f2dba39a15fda03b
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 11:28:02 2010 +0200

    s3:idmap_tdb2: remove unused idmap_tdb2_alloc_close().

commit 39fced2f33eb60b25f8c1bddea09c429fc218f1a
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 11:27:18 2010 +0200

    s3:idmap_tdb2: remove unused idmap_alloc_methods.

commit 8a13c959313fb876d5ef798be8e54d2971e5307d
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 11:24:52 2010 +0200

    s3:idmap_tdb2: don't call smb_register_idmap_alloc() in idmap_tdb2_init
    
    The registering of alloc backends is being removed.
    The idmap backends are responsible for initializing
    their alloc code on their own if necessary.

commit 7b4c6f7e89c6e5b9e68676f89e32a0d51cf947f5
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 10:14:18 2010 +0200

    s3:idmap_tdb: make idmap_alloc_tdb_init() static.

commit fe8b1588b465bd84a20cc137aabdaab7453a2211
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 00:27:23 2010 +0200

    s3:idmap: remove unused idmap_alloc_init().

commit 212468bc6e032c1f704a1d5042222b7299f9bcfb
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jul 29 23:20:21 2010 +0200

    s3:idmap: use allocate_id() from the idmap_methods in idmap_allocate_unixid()
    
    The idmap alloc methods are being removed.

commit 770b22ff5aa3f852daaf6f0fd1b2f4f81d78343c
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 22 14:31:24 2010 +0200

    s3:idmap: add an allocate_id method to the idmap_methods struct.
    
    The idmap_alloc_methods are being removed, but this single "alloc" method
    is still needed for the samba-wide Unix-ID allocator, which is used in
    group-mapping and ldapsam:editposix.
    This method should ultimately also disappear.

commit 0d369271c5d7c466e2594a446a14977302850e2e
Author: Michael Adam <obnox@samba.org>
Date:   Sun May 30 21:40:44 2010 +0200

    s3:idmap: factor out common code of idmap_allocate_uid|gid()
    
    into new idmap_allocate_unixid().

commit 0d0032e744e394597d108def097143927637f854
Author: Michael Adam <obnox@samba.org>
Date:   Wed May 19 10:20:08 2010 +0200

    s3:idmap: remove the set_mapping method from the idmap API

commit 95617a03db896a2ac2051f74e7d7ba1209fbc61b
Author: Michael Adam <obnox@samba.org>
Date:   Thu May 20 10:28:03 2010 +0200

    s3:idmap: remove idmap_new_mapping() - now implemented in the backends

commit e2968160a4649573e7820b72589042e4208ccee8
Author: Michael Adam <obnox@samba.org>
Date:   Sun May 16 00:32:10 2010 +0200

    s3:idmap: add a debug message to idmap_sid_to_gid

commit a08e60dd2ccc5e4be5697e3215440ec0267fe586
Author: Michael Adam <obnox@samba.org>
Date:   Sun May 16 00:31:39 2010 +0200

    s3:idmap: add a debug message to idmap_sid_to_uid

commit 9ee31346911bb14715704a10086214b1ddc15371
Author: Michael Adam <obnox@samba.org>
Date:   Fri May 14 16:19:46 2010 +0200

    s3:idmap: don't call idmap_new_mapping idmap_sid_to_gid
    
    The setting of a new mapping is moved into the backend code
    to achieve atomicity and greater flexibility.
    
    Michael

commit f301ea59773b174da9009dfd482a56d7e72a76dd
Author: Michael Adam <obnox@samba.org>
Date:   Fri May 14 16:18:16 2010 +0200

    s3:idmap: don't call idmap_new_mapping idmap_sid_to_unixid.
    
    The setting of a new mapping is moved into the backend code
    to achieve atomicity and greater flexibility.
    
    Michael

commit ccfe40c27f9be794d5ae6d4cb337d820b0a03718
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 18:05:20 2009 +0100

    s3:winbind: increase interface version after removing calls
    
    Michael

commit 95b840cbf1a22c13c038f9ffe999672bf444daa9
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 17:59:18 2009 +0100

    s3:idmap: remove unused method set_id_hwm from idmap API
    
    Michael

commit 3715a1687f0b258d0c8f0966eddc8aa6586a8735
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 17:56:19 2009 +0100

    s3:idmap: remove unused alloc method get_id_hwm from idmap API
    
    Michael

commit 672ab10ee784fcfc3270df3e7665f74ff08f7d40
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 15:52:34 2009 +0100

    s3:idmap: remove unused method dump_data() from the idmap API
    
    Michael

commit 0f913731563e3265ccc17589a01b5667c45019ec
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 14:44:24 2009 +0100

    s3:idmap: remove the remove_mapping method from API and backends
    
    Michael

commit d888e726a9b1e1e1603211821a71fd88aea566c7
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 14:38:21 2009 +0100

    s3:idmap: remove unused idmap_remove_mapping().
    
    Michael

commit c03fa64a2c05672f4b4d5a05263a449c0c7e85e1
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 14:36:51 2009 +0100

    s4: remove REMOVE_MAPPING from wb_samba3_protocol
    
    Michael

commit 3b56f7f6b5040a8f130060e7e1d8c062aa6d3b16
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 14:34:50 2009 +0100

    s3:winbind: remove the method REMOVE_MAPPING from winbind's API
    
    Michael

commit 6740c180e668307f1ee16084f5d6531508bb1cbf
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 14:31:55 2009 +0100

    s3:idmap: remove unused idmap_set_mapping().
    
    Michael

commit 74da3163f6ef7ec8c8e5d52d926dbc3e02be0c2d
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 14:30:25 2009 +0100

    s4: remove SET_MAPPING from wb_samba3_protocol
    
    Michael

commit 474020b1aeca8c527ea9aac6c39c6fb8386ace23
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 14:29:15 2009 +0100

    s3:winbind: remove the method SET_MAPPING from winbind's API
    
    Michael

commit 1ac8bf4ea8f28bf39990c42449eda07966bd5f81
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 13:57:21 2009 +0100

    libwbclient: unimplement wbcRemoveGidMapping()
    
    Michael

commit 89100cb509dadeb0f9905f15ea8a631094e3f052
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 13:56:09 2009 +0100

    libwbclient: unimplement wbcRemoveUidMapping()
    
    Michael

commit 788123ec2e975bd9019aa9a8a70f4a95b82431b8
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 13:54:03 2009 +0100

    libwbclient: unimplement wbcSetGidMapping()
    
    Michael

commit 2e657035081984b84063e1fbb6f6e3314e8d6166
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 13:51:53 2009 +0100

    libwbclient: unimplement wbcSetUidMapping()
    
    Michael

commit 806e00628810a0fd1d2884bcdb649df147f05286
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 13:49:42 2009 +0100

    s3:idmap: remove unused idmap_set_gid_hwm()
    
    Michael

commit 002fe91768757f20de2a40f14480b6c5f8b74bdc
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 13:49:06 2009 +0100

    s3:idmap: remove unused idmap_set_uid_hwm()
    
    Michael

commit 61f019d61d2aeb5d5dd79c3048d9c6048f4881f5
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 13:46:25 2009 +0100

    s4: remove SET_HWM and SET_DUAL_HWM from wb_samba3_protocol
    
    Michael

commit 66e67c1bad2b6bd7c28600ba166971a83e3f3520
Author: Michael Adam <obnox@samba.org>
Date:   Mon Jun 28 00:34:29 2010 +0200

    s3:winbind: remove SET_HWM from winbind's API.

commit ec33a624a395d6108e47a4eef9430626ec83b314
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 13:39:33 2009 +0100

    libwbclient: unimplement wbcSetGidHwm()
    
    Michael

commit e09a269bcc76be2101a285c0466f7fffa74366ac
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 13:37:11 2009 +0100

    libwbclient: unimplement wbcSetUidHwm()
    
    Michael

commit a03e2cacafacabda3fe75c784c0c360e5384339f
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 13:33:54 2009 +0100

    s3:net: rewrite "net idmap restore" using dbwrap
    
    This removes the use of libwbclient from "net idmap".
    
    This detects the idmap backend from the current smb.conf
    and stores the id mapping tables in the corresponding data bases.
    Currently, only tdb and tdb2 backends are supported.
    Support for the ldap backend may be implemented later.

commit 80bceab9cb53318387133edde4be888d7b3156b1
Author: Michael Adam <obnox@samba.org>
Date:   Mon Jun 14 12:25:11 2010 +0200

    s3:net: change "net idmap dump" to use dbwrap instead of direct tdb access
    
    This way, it will also work in a samba-ctdb cluster.

commit a0920a5ee5f7b390b0177a0d2899bf7da43c17e1
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 12:20:46 2009 +0100

    s3:net sam provision: compose sid before getting uid for Guest
    
    Michael

commit d923907ced67b349013041327aef2d915c476102
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 12:12:43 2009 +0100

    s3:net sam provision: allocate the uid after composing the sid for Administrator
    
    Michael

commit c45eca5751fe7b50106d77b5421c1169338c27e1
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 12:01:16 2009 +0100

    s3:pdb_ldap: move some code in ldapsam_create_dom_group()
    
    to make the flow more similar to ldapsam_create_user().
    This prepares for calling winbind_sid_to_gid() instead of
    winbind_allocate_gid(): we need the group_sid for this...
    
    Michael

commit 0dc3cd75a175a33a3883aa50a324db9699cb4c6b
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jan 22 11:10:01 2009 +0100

    s3:groupdb: allocate a gid after allocating a rid in pdb_default_create_alias()
    
    Michael

commit b28371b9a4145d5d84d290a5fece40536838b7ed
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 1 14:03:32 2010 +0200

    s3:idmap_tdb2: fix a debug message

commit a8492d2a927a6f381d0ba091019a0d3e90788d4f
Author: Michael Adam <obnox@samba.org>
Date:   Sat Aug 14 01:54:37 2010 +0200

    s3:test: add a new "valgrindtestenv" target, similar to gdbtestenv
    
    this runs the daemins in xterm under valgrind instead of in gdb

commit 1bc1fbe5fddfbd808daa2538221a976bbdeb5a6b
Author: Michael Adam <obnox@samba.org>
Date:   Sat Aug 14 01:52:41 2010 +0200

    s3:gdbtestenv: also start an xterm with nmbd. and start winbindd before smbd.

commit 40090d9b24d62c1f0e48c33f18178f076bfa7f7d
Author: Michael Adam <obnox@samba.org>
Date:   Sat Aug 14 01:49:52 2010 +0200

    s3:gdbtestenv: also set the xterm's window title appropriately

commit e051f3bd62201511afb2b4830b1ca597857cea65
Author: Michael Adam <obnox@samba.org>
Date:   Sat Aug 14 01:48:09 2010 +0200

    s3:gdbtestenv: print the server's name in the icontitle instead of "server"

commit 045f4c96d5d9c0528661499ce0e5cc729df9713d
Author: Michael Adam <obnox@samba.org>
Date:   Fri Aug 13 17:29:07 2010 +0200

    pidl: fix printing of server side ndr request debug messages
    
    The macros NDR_PRINT_IN_DEBUG and NDR_PRINT_OUT_DEBUG are made for
    the client side. For the server side, the NDR_SET_VALUES flag needs
    to be added for the OUT struct and not for the IN struct, otherwise,
    the OUT part can print uninitialized data and the IN part may
    recalculate string lengths illegally.

commit ad871b73a26f3b48a522c8374c00aa5ff7d2eb4c
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Aug 13 22:51:29 2010 +0200

    s3: Fix some error messages

commit 15d3541c678894adebd3e9c446e3aa1c43148837
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Aug 13 10:47:08 2010 -0700

    Eliminate any chance of a class of "uninitialized auto variable" errors.
    
    Jeremy.

commit 11ab43084b10cf53b530cdc3a6036c898b79ca38
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Sat Aug 14 02:13:26 2010 +0930

    tdb: workaround starvation problem in locking entire database.
    
    We saw tdb_lockall() take 71 seconds under heavy load; this is because Linux
    (at least) doesn't prevent new small locks being obtained while we're waiting
    for a big log.
    
    The workaround is to do divide and conquer using non-blocking chainlocks: if
    we get down to a single chain we block.  Using a simple test program where
    children did "hold lock for 100ms, sleep for 1 second" the time to do
    tdb_lockall() dropped signifiantly.  There are ln(hashsize) locks taken in
    the contended case, but that's slow anyway.
    
    More analysis is given in my blog at http://rusty.ozlabs.org/?p=120
    
    This may also help transactions, though in that case it's the initial
    read lock which uses this gradual locking routine; the update-to-write-lock
    code is separate and still tries to update in one go.
    
    Even though ABI doesn't change, minor version bumped so behavior change
    can be easily detected.
    
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>

commit f00b61c7d4611802c66495824c97af6cad69704e
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 10 11:33:03 2010 +0200

    s3-selftest: move make test to selftest.
    
    The old "make test" can be still called as "make oldtest".
    
    Guenther

commit 472d2a356fe2fad8b54920d99e2829344fd646cd
Author: Günther Deschner <gd@samba.org>
Date:   Fri Aug 13 18:28:48 2010 +0200

    s3-selftest: fix testparm tests as non-root.
    
    Thanks to Andreas for pointing this out.
    
    Guenther

commit ca8db7fd63749989dcb3daae0c38b8b788ebdfb8
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Aug 10 13:45:55 2010 +0200

    s3-smbd: Publish nt printers.
    
    Reloading of the printers requires rpc services up and running! The
    first call in reload_services will be skipped.
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit aff002e829b8169997f7f446959e2f1d5baf3a60
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Aug 10 12:29:27 2010 +0200

    s3-smbd: Move rpc services init to smbd parent.
    
    The move to the parent makes it possible to use an internal rpc pipe
    really early and as we migrated serveral parts of samba to rpc function
    this is required. This should speed up the fork of a smbd a bit cause
    the rpc services are already running.
    
    We still have several problems here which aren't solved. We don't have a
    dependency tree here. For example we have to make sure that the registry
    is initialized before we can use the winreg pipe. The spoolss server
    requires winreg, so we have to start winreg before we can start the
    spoolss server. I'm sure there are more dependencies.
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 62a2a9e27f8983717f13dbe3d92b21ed4b9bf22e
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Aug 10 12:28:46 2010 +0200

    s3-smbd: Regroup some init functions.
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 9ab62b774f071be83375a4b2544a7e70e147e699
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 9 15:57:38 2010 +0200

    s3-smbd: Fixed indent.
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 4a5cef82d8c2a0f35e9c06a0dc262fdb367279a1
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 9 14:50:12 2010 +0200

    s3-loadparm: Added some comments to lp_load_ex calls.
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit e18039062c77947dd4e6d1c841a7c587a85ab8ce
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 9 14:49:08 2010 +0200

    s3-smbd: Cleanup the order of the init functions.
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 120bd9775a286e173a22f7c90b61e107887122e4
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 9 14:47:55 2010 +0200

    s3-smbd: Make sure the event context is initialized.
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 2c99eef35561cf83b3e75d5d56d4fb03311c4aa8
Author: Günther Deschner <gd@samba.org>
Date:   Fri Aug 13 16:01:56 2010 +0200

    s3-build: remove pointless RPC_PARSE_OBJ2.
    
    Guenther

commit 0f264935e0946f5d369df643028d1cf4b408cf76
Author: Günther Deschner <gd@samba.org>
Date:   Fri Aug 13 16:02:28 2010 +0200

    s3-waf: remove pointless RPC_PARSE_SRC2.
    
    Guenther

commit 734f5819069a5e38226223a45ca6aa59a0523b23
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Aug 13 15:08:38 2010 +0200

    s3: Replace some cli_errstr calls by nt_errstr

commit 06a2c2364120f6c5a64545d0007ae3eb77f8afed
Author: Günther Deschner <gd@samba.org>
Date:   Fri Aug 13 15:24:00 2010 +0200

    s3-libnet: also remove libnet/libnet_samsync_keytab.c.orig.
    
    Guys, what are you doing here ? ;-)
    
    Guenther

commit f0475ac36cf4a7e186f0cbaab08202a3306bd496
Author: Günther Deschner <gd@samba.org>
Date:   Fri Aug 13 15:22:06 2010 +0200

    s3-libnet: remove source3/libnet/libnet_join.c.orig, added by a previous commit.
    
    Guenther

commit bb8936c08709ea5e59eeba2f67359c7511fb89f0
Author: Günther Deschner <gd@samba.org>
Date:   Fri Aug 13 15:12:29 2010 +0200

    s3-dcerpc: fix build warning seen with -O3.
    
    "warning: assuming signed overflow does not occur when assuming that (X + c) < X is always false"
    
    Guenther

commit 71d80e6be0687ac7c2f3caab5e7b8caf400fe37e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Aug 10 08:25:02 2010 +1000

    s3-krb5 Only build ADS support if arcfour-hmac-md5 is available
    
    Modern Kerberos implementations have either defines or enums for these
    key types, which makes doing #ifdef difficult.  This shows up in files
    such as libnet_samsync_keytab.c, the bulk of which is not compiled on
    current Fedora 12, for example.
    
    The downside is that this makes Samba unconditionally depend on the
    arcfour-hmac-md5 encryption type at build time.  We will no longer
    support libraries that only support the DES based encryption types.
    However, the single-DES types that are supported in common with AD are
    already painfully weak - so much so that they are disabled by default
    in modern Kerberos libraries.
    
    If not found, ADS support will not be compiled in.
    
    This means that our 'net ads join' will no longer set the
    ACB_USE_DES_KEY_ONLY flag, and we will always try to use
    arcfour-hmac-md5.
    
    A future improvement would be to remove the use of the DES encryption
    types totally, but this would require that any ACB_USE_DES_KEY_ONLY
    flag be removed from existing joins.
    
    Andrew Bartlett
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit fff6fa72ffa7890cee516bd7e65b50bdb8daf51d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Aug 10 12:00:29 2010 +1000

    s3:libnet Add other required headers for libnet_samsync_keytab.c
    
    Due to missing defines in modern kerberos libraries, this code was
    not compiled and so this wasn't noticed.
    
    Andrew Bartlett
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 5390baeb6b97acbfde89bdb6a2c678a516a0e360
Author: Björn Jacke <bj@sernet.de>
Date:   Fri Aug 13 14:53:22 2010 +0200

    tdb: add TDB_DEPS variable filled with required libraries
    
    This is required for Solaris, which needs to link in librt to make use of
    fdatasync().

commit 37177f1c05398e1d4a59bebcdb3cd16dd6e8382b
Author: Günther Deschner <gd@samba.org>
Date:   Fri Aug 13 13:33:40 2010 +0200

    s3-build: pointless to link in libads and dcutils into smbcacls.
    
    Guenther

commit 3f76555ebea15cafbb635b116e67df4fd99bd734
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 17:08:08 2010 +0200

    s3-build: separate out libads_printer.
    
    Guenther

commit d1be71f1e0f5df19f978eecd8a2b96ab3cae44e0
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 17:04:12 2010 +0200

    s3-waf: separate out libads_printer.
    
    Guenther

commit b0343b2c0b4851c7bfd3e2fdec171790f09536be
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 15:43:03 2010 +0200

    s3-selftest: add testparm tests to selftest.
    
    Guenther

commit 84fd910c347ddfad6f01edbe7f6e25546c8382ee
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Aug 12 14:24:01 2010 -0700

    Fix bug #7617 - smbd coredump due to uninitialized variables in the performance counter code.
    
    In the file rpc_server.c, function _winreg_QueryValue()
    
    uint8_t *outbuf
    
    Should be :
    
    uint8_t *outbuf = NULL;
    
    As it is later freed by
    
          if (free_buf) SAFE_FREE(outbuf);
    
    in some cases, this frees the unintialized outbuf, which causes a coredump.

commit c67b4ed3a406011d0fc7e1e2cbdc27ec4822e57c
Author: Jim McDonough <jmcd@samba.org>
Date:   Thu Aug 12 17:51:02 2010 -0400

    s3-libnet: fix bug #6364: Pull realm from supplied username on libnet join

commit 73a69e2d0f011327dddf2d0086e13b7b05397af7
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 16:51:24 2010 +0200

    s3-waf: fix the build.
    
    Guenther

commit 616e187d68e3e7b202413a96518b31d029e9563a
Author: Björn Jacke <bj@sernet.de>
Date:   Thu Aug 12 16:18:45 2010 +0200

    s3: fall back to cups-config for underlinked libs
    
    some OpenBSD systems have underlinked cups libraries. If linking against cups
    alone fails, try to link against all the cups-config --libs cruft, which we
    usually don't want. (bugzila #7244)

commit 1d443f6bc251303e827e97401771a66c03fc33e7
Author: Björn Jacke <bj@sernet.de>
Date:   Mon Aug 9 18:37:58 2010 +0200

    Revert "s3: Use cups-config --libs"
    
    This reverts commit 911db761148. This was introduced in 18f1f5b56b140
    intentionally.

commit feb432292ee7c8a158524b8c5abbe41ca7882d4b
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 12 16:28:10 2010 +0200

    ntlmssp: fix unitialized variable in ntlmssp_server_postauth().
    
    Guenther

commit 5130e664b91636a9ca31a52897ba1d121d0252a2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 5 21:01:25 2010 +0200

    pidl:Samba3/ClientNDR: implement rpccli_ stubs on top of dcerpc_ stubs
    
    metze

commit 56a6a972f2eba3b668add8af69ebb3a724cea28f
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Aug 6 12:20:07 2010 +0200

    s3:Makefile: link in dcerpc client stubs
    
    metze

commit 7e24d1dd57ab0a664eb83ff1178d56a9c8d90ecb
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Aug 6 11:50:09 2010 +0200

    s3:winbindd: add wbint dcerpc_binding_handle backend
    
    metze

commit 262dcfcd87997a94ea097b58e60d29e334d0167d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Aug 7 14:37:21 2010 +0200

    s3:rpc_server: add rpc_pipe_open_internal dcerpc_binding_handle backend
    
    metze

commit 2c0e296dd74c1b064d836f6807a808231f8998d4
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Aug 6 11:30:51 2010 +0200

    s3:rpc_client: add dcerpc_binding_handle backend
    
    metze

commit b34209006fd75533b22e77c77d8fde3e4cb1506a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Aug 7 14:48:57 2010 +0200

    s4:librpc/rpc: make struct dcerpc_binding_handle private
    
    metze

commit 51fb4c386040c9fdc44f4473025c9d83e628b5e6
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Aug 10 13:27:12 2010 +0200

    pidl:Samba4/NDR/Client: add sync dcerpc_pipe based stubs as compat for OpenChange
    
    This will activate the compat wrappers for all functions of an interface:
     #define DCERPC_IFACE_MYPROTO_COMPAT 1
     #include <ndr_myproto_c.h>
    
    This will activates the compat wrappers just for specific functions:
     #define DCERPC_CALL_MYFN1_COMPAT 1
     #define DCERPC_CALL_MYFN2_COMPAT 1
     #include <ndr_myproto_c.h>
    
    metze

commit 719981adfdd6d828ec0a78ca2be2776502751674
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 5 16:10:52 2010 +0200

    pidl:Samba4/NDR/Client: add non struct base dcerpc_binding_handle client stubs
    
    metze

commit 62297dff8f64de8ffa3fe4d2a7cd99d45173561d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 5 13:29:56 2010 +0200

    pidl:Samba4/NDR/Client: convert code to $self->pidl()
    
    metze

commit 570eefc57a051166d99445a830b8d7e5ffbd86f7
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 5 12:59:46 2010 +0200

    pidl:Samba4/NDR/Client: s/interface/if/
    
    metze

commit 76691e9eaf9520429c7ea0ef6b2955c143b068e5
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 5 18:22:02 2010 +0200

    pidl:Samba4/NDR/Client: make use of the new dcerpc_binding_handle_call() infrastructure
    
    metze

commit db89fdac7329d02bf08f705443b62369bb23081e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 17:56:10 2010 +0100

    pidl:Samba4/NDR/Client: remove old dcerpc_pipe based sync stubs
    
    They're unused in Samba and only used by OpenChange.
    I'll add a compat functions for OpenChange later.
    
    metze

commit 7eef08cc63ed231b54dd2a5936579ffc60a0c087
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 5 18:18:30 2010 +0200

    s4:librpc/rpc: add dcerpc_binding_handle dcerpc_pipe backend
    
    metze

commit 4030bc9b2df3f2a1c18b373a94c53e48ba80cfc1
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 5 18:14:04 2010 +0200

    librpc/rpc: add dcerpc_binding_handle abstration
    
    metze

commit 282831874379445a071dfe157ae4cfba6aeb10aa
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Aug 10 15:11:02 2010 +0200

    s4:librpc/rpc: fix dcerpc_log_packet() prototype
    
    metze

commit af89b460f72acb843b57a80a8f61a26056dc0dd2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 12 10:50:47 2010 +0200

    s4:librpc/rpc: autodetect the need of async call logic
    
    metze

commit a2e1f54b3eac810e147ee5e608c6bdee03f5a8a7
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Aug 10 14:29:42 2010 +0200

    pidl:Samba3/ClientNDR: ignore "todo" functions
    
    metze

commit 6fe216642a1003a2fda2b8332199ff84c8712984
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 12 09:31:38 2010 +0200

    testprogs/midltests: add some example IDL files and there midltests.exe output
    
    metze

commit f7e14a8e5e65b15d83dc1be3fe2dc47b5c46d764
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Aug 12 12:55:11 2010 +0200

    s3: Reduce the load on the echo handler
    
    If the parent is fast enough, the echo handler should not step in. When the
    socket becomes readable, the echo handler goes to sleep for a second. If within
    that second, the parent has picked up the SMB request from the net, the echo
    handler will just go back to select().

commit c672797a0a2fe3aa3bd2d2ef449cb5866d289981
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Aug 12 12:48:43 2010 +0200

    s3: Slightly simplify the logic in smbd_server_echo_handler

commit c7a2e52ef171512e2c0f80a57dd3f61b4cf0dba1
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Aug 12 12:48:30 2010 +0200

    s3: Slightly simplify the logic in smbd_server_connection_handler

commit 277248a4a7241a277cf442f0683b925d01a37ae6
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Aug 12 12:25:41 2010 +0200

    s3: ?true:false is a *bit* pointless :-)

commit f62756e8f06c0c3d54c41460c8d25cb12af5fb24
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Aug 10 19:41:38 2010 +0200

    Fix a typo

commit 44de839dabb6062d524ddc0001ca23fb8505e643
Author: James Peach <jpeach@samba.org>
Date:   Fri Aug 6 15:21:31 2010 -0700

    smbtorture: Don't crash RAW-QFILEINFO if there's no alternate name.

commit 88d48a7d92ca7dedc5357a1e7caab544e586bafb
Author: James Peach <jpeach@samba.org>
Date:   Fri Aug 6 15:25:12 2010 -0700

    smbtorture: Make BASE-OPENATTR report a failure if it fails.

commit c43e832c5160fbffb31ddd64b43dbbc8124b1ca0
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 11 12:45:51 2010 +0200

    s3-waf: fix the waf build with more recent MIT krb5 libs.
    
    (such as MIT krb5 1.7.1 on fedora 13).
    
    This whole area needs more work and love later, for now it builds at least.
    
    Kai, please check.
    
    Guenther

commit 03bfd4290f70ab2de46ccd82a429fda57c8c6bb9
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Aug 10 01:08:19 2010 +0300

    s4-test: Implement DRS-RPC-msDSIntId test case

commit d595f070f6ab7c6c8732c3c3a4ca39d37bcca3b4
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Aug 10 21:05:47 2010 +0300

    s4-dsdb: fix attributes_by_msDS_IntId index sorting

commit 06f59855a7b4fcc6f4957d9e1a8e29e387397b50
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Aug 7 12:52:07 2010 +0300

    s4-test: Move dsdb_schema loading into public function
    
    I will use this function for tests implementation later

commit c30f9bd7345cddd85502eb9d099279606959f447
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Aug 5 04:55:04 2010 +0300

    s4-test: Move RPC-DSSYNC test in DRS-RPC test suite

commit da074f10e3900413a134ee8143c68f05563da13f
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Aug 5 18:37:24 2010 +0300

    s4-test: Move dssync.c to torture/drs/rpc

commit f3c06892eccac1169a73615637bf82bf956ce523
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Aug 5 18:35:35 2010 +0300

    s4-test: strip trailing white-spaces

commit 067b5721c71cbc0004ea59d357e79cd4fc8d8954
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Aug 10 21:01:11 2010 +0200

    s4:objectclass LDB module - weak the check for the "rIDSet" delete constraint
    
    Perform it only when a "rIDSet" does exist. Requested by ekacnet for
    "upgradeprovision".

commit 303089f5b8ced9fb80ed76cb0205f0cdf11fc530
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Aug 9 19:52:00 2010 +0200

    s4:dsdb/common/util.c - provide a call which returns the forest function level
    
    Sooner or later we'll need this too since not all operations depend only on the
    current's domain function level (see the MS-ADTS docs).

commit 3b1d74f4b677842a0cbe16ba29be7d672c07b87c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Aug 9 19:48:03 2010 +0200

    libds/common/flags.h - fix a comment's typo

commit e53fc1228f12ff2ce2c84936e38fef3b5ae311c4
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Aug 9 19:45:45 2010 +0200

    s4:dsdb/common/util.c - use LDB constants whenever possible

commit 75adca63f21ab4b415e0f909a54972d8dd57a153
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 6 21:31:21 2010 +1000

    libcli/auth Make the source3/ implementation of the NTLMSSP server common
    
    This means that the core logic (but not the initialisation) of the
    NTLMSSP server is in common, but uses different authentication backends.
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 979b672dcb013ed38a312b280fa6c0642469649b
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 6 20:53:39 2010 +1000

    s3:ntlmssp Split the NTLMSSP server into before and after authentication
    
    This allows for a future where the auth subsystem is async, and the
    session key generation needs to happen in a callback.
    
    This code is originally reworked into this style by metze for the
    source4/ implementation.
    
    The other change here is to introduce an 'out_mem_ctx', which makes
    the API match that used in source4.
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 4969b3de632c1545d7ea5997c52b85aa4baaf4d8
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 6 20:48:17 2010 +1000

    s3:ntlmssp Always call ntlmssp_sign_init()
    
    There is no code path that sets nt_status before this point, without
    a return.
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 617ec0733dad40c9441b1e1533fb3d99bf22c24f
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 6 20:41:54 2010 +1000

    s3:ntlmssp Don't use talloc_tos() for NTLMSSP blobs for now
    
    This code will, I hope, soon be merged in common, and the Samba4
    use case does not currently support talloc_tos() properly.  Use another
    context for now.
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit d112557a05b23480abd3f2f52c1c7b8ded2b4f66
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 6 20:24:35 2010 +1000

    s3:ntlmssp Don't permit LM_KEY in combination with NTLMv2
    
    This is another 'belts and braces' check to avoid the use of the
    weak 'LM_KEY' encryption when the client has chosen NTLMv2.
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit f6cc686036281ee9b467ba18e96ee5086b89bef7
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 6 19:43:06 2010 +1000

    s3:ntlmssp Don't reply with the LM_KEY negotiation flag when not available
    
    This ensures the client isn't confused and we don't enter this
    weaker authentication scheme when we don't really, really need to.
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 3c0a17a1274df1b38b3acd9335192cd78730b01c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 6 19:01:34 2010 +1000

    s3:ntlmssp Don't use the lm key if the user didn't supply one.
    
    This may help to avoid a number of possible MITM attacks where LM_KEY is
    spoofed into the session.  If the login wasn't with lanman
    (and so the user chose to disclose their lanman response),
    don't disclose back anything based on their lanman password.
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit f744e42bd08cd724da09b5b04bafb68de07888cc
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 6 18:35:25 2010 +1000

    s3:ntlmssp Add extra DEBUG() message for auth system failures
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit e0c94d14b3ddc6f20e8f37b2a01b045ca2ad7375
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 6 18:18:51 2010 +1000

    s3:ntlmssp Redirect lp_lanman_auth() via 'allow_lm_key'
    
    This will allow this to be handled via common code in the future
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 78fa58f8c36a111b5231a979aaa8b89a29ec815f
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 10 11:51:01 2010 +0200

    libcli/auth/ntlmssp: remove outdated comment. The version flag is well understood now.
    
    Guenther

commit d84a2aeb6405f37d485a2108c05c932518dcd272
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 10 11:39:04 2010 +0200

    s3: fix the waf build.
    
    Guenther

commit 1e83b36afb67c43d99c4fdd2a8eba0da5da5b95e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 6 18:16:32 2010 +1000

    libcli/auth Move some source3/ NTLMSSP functions to the common code.
    libcli/auth Use true and false rather than True and False in common code
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit e0f79dabee39c3f3e49823055c3a30929278a294
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Aug 9 16:16:24 2010 -0700

    Fix bug #7608 - Win7 SMB2 authentication causes smbd panic
    
    We need to call setup_ntlmssp_server_info() if status==NT_STATUS_OK,
    or if status is anything except NT_STATUS_MORE_PROCESSING_REQUIRED,
    as this can trigger map to guest.
    
    Jeremy.

commit 7b419696036bbcf7e37792721899bc65b4a2f0f8
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Aug 10 00:54:50 2010 +0400

    s4 upgradeprovision, fix a typo preventing the ridset to be correctly identified

commit a22989a54afd411a8d038110c7df2c545b4121b7
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Aug 9 19:38:30 2010 +0200

    pidl:NDR: correctly handle no pointer bracket arrays with 'string'
    
    metze

commit be396411a4e1f3a174f8a44b6c062d834135e70a
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 9 14:31:24 2010 +0200

    s3-winbind: Fix Bug #7568: Make sure cm_connect_lsa_tcp does not reset the secure channel.
    
    This is an important fix as the following could and is happening:
    
    * winbind authenticates a user via schannel secured netlogon samlogonex call,
    current secure channel cred state is stored in winbind state, winbind
    sucessfully decrypts session key from the info3
    
    * winbind sets up a new schannel ncacn_ip_tcp lsa pipe (and thereby resets the
    secure channel on the dc)
    
    * subsequent samlogonex calls use the new secure channel creds on the dc to
    encrypt info3 session key, while winbind tries to use old schannel creds for
    decryption
    
    Guenther

commit 46bcb627803caa83c59f8ca9c1064e399000e64d
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 9 11:47:23 2010 +0200

    s4-rpc_server: Fixed the build of the dcerpc_server library.
    
    Brad please check!

commit 56db40d5fd7b60361664d964fb92f687ac2ca3ce
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Aug 9 10:45:46 2010 +1000

    s4-build: use @PACKAGE_VERSION@ in s4 pc.in files
    
    this gets replaced by vnum from the build rule

commit ebd4ea733811a4e37bc7231bf2aa8fd5612ffb02
Author: Brad Hards <bradh@frogmouth.net>
Date:   Mon Aug 9 10:37:34 2010 +1000

    s4-build: added dcerpc_server library
    
    OpenChange needs this for dcerpc_register_ep_server()
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 016418d6c240da20f010d2bbd95051feef0a5244
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 22:54:43 2010 +0200

    s3: Remove the smbd_messaging_context from load_printers

commit 1c1d83a5327b86042df7c33d075e05adff7a30f2
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 22:53:02 2010 +0200

    s3: Remove the smbd_messaging_context from pcap_cache_reload

commit 795589b4f81b8d40d3cd6a53b85153df01e3ff01
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 22:50:28 2010 +0200

    s3: Remove the smbd_messaging_context from cups_cache_reload

commit 83045b1ba9fb8aa211d94b66453e2a2a61cae7ed
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 22:47:45 2010 +0200

    s3: Remove the smbd_messaging_context from cups_pcap_load_async

commit d0ac5c69fb0460e8ae2882a75df3415fd4d95323
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 18:55:03 2010 +0200

    s3: Remove the smbd_messaging_context from smb_conf_updated

commit 10a76f5d42253aa726104f38a325424e6cf1d7ad
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 18:53:15 2010 +0200

    s3: Remove the smbd_messaging_context from spoolss_init_cb

commit b71f2af1a6e0db46c6aaf3a732e8352f340fdfac
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 18:48:01 2010 +0200

    s3: Remove some smbd_messaging_context references from smbd_process

commit 37d71a56fd95dfa8687dcbf88eaa6114c316d96d
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 18:47:02 2010 +0200

    s3: Pass sconn to smbd_process

commit 1702b17494523ff7fad513268bad59148a08ac5b
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 18:43:37 2010 +0200

    s3: Lift the server_messaging_context from housekeeping_fn

commit e64bd85d90b2ccb6ee89bb5d4c5d50d3f991d423
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 18:42:12 2010 +0200

    s3: Lift the server_messaging_context from check_reload

commit 53ed39de4aee1e0def1423b0c53e903d1be0741c
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 18:41:13 2010 +0200

    s3: Make check_reload() static

commit f0896759cef9de8ae4a4b5eb2d26586fb10bbf39
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 17:32:21 2010 +0200

    s3: Lift the server_messaging_context from spoolss_setjob_1

commit 18ff84b089cbbdf5c29fc678417090caa0ecd8d1
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 17:31:38 2010 +0200

    s3: Lift the server_messaging_context from construct_printer_info6

commit 35c39b07cc4d284b8e6af5212c4d602909ac6f30
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 17:30:57 2010 +0200

    s3: Lift the server_messaging_context from construct_printer_info2

commit 73a5c2d02d5f768a952a219b5c62231b0f9af75b
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 17:29:12 2010 +0200

    s3: Lift the server_messaging_context from construct_notify_jobs_info

commit 788498d2ff1b07cc94250395dd1da6bb63be2454
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 17:28:16 2010 +0200

    s3: Lift the server_messaging_context from construct_notify_printer_info

commit 02c008613f6cd6fc12ac014cb311ca0285a30068
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 17:25:42 2010 +0200

    s3: Pass messaging_context through s_notify_info_data_table

commit 1b60ead64add4920bf92b73a0e57e0a7e320e99f
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 17:19:12 2010 +0200

    s3: Lift the server_messaging_context from update_monitored_printq_cache

commit ef208c5571bb20a0701f1da845c07f38f84c26e1
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 17:17:05 2010 +0200

    s3: Lift the server_messaging_context from print_job_endpage

commit d1f3a2efb7eef8372b7431cc5de3f8ab5d6ac981
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 17:15:23 2010 +0200

    s3: Lift the server_messaging_context from print_job_write

commit ae1600b99557e482fbb7aa04478b54b86976f6ae
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 17:12:52 2010 +0200

    s3: Lift the server_messaging_context from print_job_delete1

commit de108248729cbed4464f0fb68b6f4b2d2bbdcc1e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 17:11:23 2010 +0200

    s3: Lift the server_messaging_context from print_job_set_name

commit 3b5b74c7dd931815e7b3763ad1cbf47c3710f60d
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 17:09:00 2010 +0200

    s3: Lift the server_messaging_context from print_queue_update_with_lock

commit c2894503d1c66504e74f378141a9cfb221091c63
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 17:07:28 2010 +0200

    s3: Lift the server_messaging_context from print_queue_update_internal

commit 2b13864569115a3f459a4ffffba36b1d33513c83
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 17:05:15 2010 +0200

    s3: Lift the server_messaging_context from traverse_fn_delete

commit 8b6d88854c55553fce59aa8956d025b16f513a25
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 17:02:24 2010 +0200

    s3: Lift the server_messaging_context from print_unix_job

commit 0b423493c30ca291ed09c9c2fc288d59635e79df
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 17:00:55 2010 +0200

    s3: Lift the server_messaging_context from pjob_delete

commit 6806ae729065ed0914d89b84eb486b0fe8bec89a
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:54:09 2010 +0200

    s3: Lift the server_messaging_context from pjob_store

commit 9ff35d0690f0938e489523d0528c9e5700cf82a3
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:50:17 2010 +0200

    s3: Lift the server_messaging_context from pjob_store_notify

commit 128976e01121c877cb815e60504fb6a5391255a2
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:42:59 2010 +0200

    s3: Lift the server_messaging_context from notify_printer_byname

commit d62c73b799baf908269835f2d69b1a2094ef23c6
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:41:31 2010 +0200

    s3: Lift the server_messaging_context from notify_printer_location

commit 83c4c04121addc39ae7b13001545ed303b8adf1c
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:40:08 2010 +0200

    s3: Lift the server_messaging_context from notify_printer_port

commit f3313c53078d60a437cfa4bea71995beb223b819
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:38:54 2010 +0200

    s3: Lift the server_messaging_context from notify_printer_printername

commit c427423aeecfc8c123a75079d4398b093ab9bc76
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:37:21 2010 +0200

    s3: Lift the server_messaging_context from notify_printer_sharename

commit 7285e0d5dd3f6186a919bbf04a66469d5c1090ea
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:35:56 2010 +0200

    s3: Lift the server_messaging_context from notify_printer_comment

commit 4e4bf13e704f8e2af77cbc5099953380dc0758dc
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:34:44 2010 +0200

    s3: Lift the server_messaging_context from notify_printer_driver

commit b71debcca0bc7adc99787ceee028e3ef3a0cb267
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:33:05 2010 +0200

    s3: Lift the server_messaging_context from notify_job_submitted

commit aa5fd419b27b7c52eccc6c129b17d606e4635b3e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:31:41 2010 +0200

    s3: Lift the server_messaging_context from notify_job_name

commit 06cf2ae6ea3c8ef5e092dc3b465461746f3d466b
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:29:31 2010 +0200

    s3: Lift the server_messaging_context from notify_job_username

commit 7a9f94dae87061b15245314cbe6d079f62f1db98
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:28:03 2010 +0200

    s3: Lift the server_messaging_context from notify_job_total_pages

commit bd6626c40ce9806a6f5bc8aee4fe969028bda928
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:26:40 2010 +0200

    s3: Lift the server_messaging_context from notify_job_total_bytes

commit edbed43119212c3642951516a1e6c065bd9db756
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:24:51 2010 +0200

    s3: Lift the server_messaging_context from notify_job_status

commit 9b3a53a7a7f6b055bfa074fe6d3fcaa6d6ccc9ce
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:21:42 2010 +0200

    s3: Lift the server_messaging_context from notify_job_status_byname

commit 21811fe72df202413ca7f65bf271d4c9fe1345c5
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:19:03 2010 +0200

    s3: Lift the server_messaging_context from notify_printer_status

commit 49d18478fd952b360221852a0bc0e2f4f6427aea
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:16:37 2010 +0200

    s3: Lift the server_messaging_context from notify_printer_status_byname

commit 30de2f735b160c0a3d311748066c73421f7a484d
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:09:20 2010 +0200

    s3: Lift the server_messaging_context from send_notify_field_buffer

commit dddb5a8795643e79d1869d226ad018336d1d44c4
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:07:56 2010 +0200

    s3: Lift the server_messaging_context from send_notify_field_values

commit 6720c6e071058a4b1dd0406d40fe6f30632044dc
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:01:51 2010 +0200

    s3: Lift the server_messaging_context from send_spoolss_notify2_msg

commit fc6e7bdc9e752b7b5ee4b978a605dde5b7c075e4
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 15:59:00 2010 +0200

    s3: Lift the server_messaging_context from print_notify_event_send_messages

commit c6e6aee0a0524cf68bb206b339040c4ccf208bb2
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 15:55:19 2010 +0200

    s3: Lift the server_messaging_context from print_queue_status

commit a36103ca05109e402c4db57f892d61023d0e6104
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 15:53:06 2010 +0200

    s3: Lift the server_messaging_context from get_stored_queue_info

commit c50c973036cda52c0ce04a5220168fbfa7195dc0
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 15:51:30 2010 +0200

    s3: Lift the server_messaging_context from print_job_end

commit a4c27786ffe3b9513a0e64ce25f37dfe0ff0dc1b
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 15:47:51 2010 +0200

    s3: Lift the server_messaging_context from print_queue_length

commit 31d23c83fef2b67c3afa4cf1d1f409086f92649d
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 15:39:48 2010 +0200

    s3: Lift the server_messaging_context from print_queue_update

commit bc760e79c868c11af9771c0179c18c9d543b9294
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 15:35:31 2010 +0200

    s3: Lift the smbd_messaging_context from start_background_queue

commit 75b4dfd14d4dac5268c01351768b2317fcce34fb
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 15:18:12 2010 +0200

    s3: Lift the smbd_messaging_context from smbd_setup_sig_hup_handler

commit 5281e6294112a521e2c9603f1617b18107480973
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 15:15:01 2010 +0200

    s3: Lift the smbd_messaging_context from smbd_sig_hup_handler

commit 39da717fe1583308239278615ac44f8b910c50e3
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 15:09:47 2010 +0200

    s3: Lift the smbd_messaging_context from reload_services

commit 7c7ffb70fb53c8cedd388c016836d13107f28ac1
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 15:02:29 2010 +0200

    s3: Lift the smbd_messaging_context from reload_printers

commit 89b4c905776fefc12c1e3cc4b1c47b64863e9f30
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:59:47 2010 +0200

    s3: Remove smbd_messaging_context from dummysmbd

commit 9a4ac5b2d36fc8202d770c79c7a3ecf6d967b087
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 16:46:48 2010 +0200

    s3: Fix the build without ADS

commit cc280f0cd1f970b044011dee386e15ec87eccec8
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:52:59 2010 +0200

    s3: Lift the smbd_messaging_context from print_queue_purge

commit 9723f33ef54235b27d0126810fdd7546d2510f23
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:51:40 2010 +0200

    s3: Lift the smbd_messaging_context from print_queue_resume

commit 5f9165a7eaa081b15f2ca435ca86210eaa5c4752
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:50:15 2010 +0200

    s3: Lift the smbd_messaging_context from print_queue_pause

commit 9441e8c52c4d624f80bf826daa312b45cd0a80f4
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:48:30 2010 +0200

    s3: Lift the smbd_messaging_context from print_job_start

commit bff871384a281dab89a3117cfcb45f7cbe0824dd
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:47:18 2010 +0200

    s3: Lift the smbd_messaging_context from print_job_checks

commit 7df0e672f237b01f69f1d8671732c56634e49d64
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:46:04 2010 +0200

    s3: Lift the smbd_messaging_context from print_job_resume

commit 2811c258f6e01d10c0eb0cb0537f96bf5f1d6275
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:44:32 2010 +0200

    s3: Lift the smbd_messaging_context from print_job_pause

commit 8dcbeecd6d0aac40da23aef8a4e126faa1bf43e2
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:42:47 2010 +0200

    s3: Lift the smbd_messaging_context from print_job_delete

commit 4a514d2261b7528696f96bb29717fb7a20708869
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:40:46 2010 +0200

    s3: Lift the smbd_messaging_context from construct_printer_info7

commit 99b2da4504307b6eefc6afbd502d931d29625ea0
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:39:40 2010 +0200

    s3: Lift the smbd_messaging_context from is_printer_published

commit bccb7c87cca02adacd7ede9b60d543b8b3b1eb29
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:37:47 2010 +0200

    s3: Lift the smbd_messaging_context from check_published_printers

commit 7d08c25f989df14131567d055a9c922e27247c14
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:35:50 2010 +0200

    s3: Lift the smbd_messaging_context from nt_printer_publish

commit 61837197d8e0583d1ced7edd57353a72699495bb
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:33:45 2010 +0200

    s3: Lift the smbd_messaging_context from nt_printer_publish_ads

commit 8c665f6da62f7b181bc975212ec5e486af401a44
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:32:37 2010 +0200

    s3: Lift the smbd_messaging_context from store_printer_guid

commit e43ffde91f6781c135d4125b91911e79c06a7409
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:31:14 2010 +0200

    s3: Lift the smbd_messaging_context from nt_printer_remove

commit 39ce462043d32e94b71a98001a43a95360017528
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:29:39 2010 +0200

    s3: Lift the smbd_messaging_context from print_time_access_check

commit be7fd4ae5054435b25b1a6a460b626d556f39936
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:28:17 2010 +0200

    s3: Lift the smbd_messaging_context from print_access_check

commit d79895e82606bcfe265a67bf9a6b7e03368f0bae
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:24:48 2010 +0200

    s3: Lift the smbd_messaging_context from printer_driver_files_in_use

commit 862e888f71119b528d72290ad565d5a6203b4f17
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:23:12 2010 +0200

    s3: Lift the smbd_messaging_context from printer_driver_in_use

commit 51c47a330257c58e8c3b5db197df07cf3bf7d9a1
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:20:48 2010 +0200

    s3: Lift the smbd_messaging_context from netr_set_machine_account_password

commit ae8619f703d3ee7d639a79afbcfbd3dd66845c45
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:19:53 2010 +0200

    s3: Lift the smbd_messaging_context from get_md4pw

commit 7850496fe79c3e60a7dd87629a25b054e7bf3439
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:17:21 2010 +0200

    s3: Lift the smbd_messaging_context from enumprinterdrivers_level

commit ab196c7bfb531e854b1b4fce54c6b9c113991b6d
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:16:24 2010 +0200

    s3: Lift the smbd_messaging_context from enumprinterdrivers_level_by_architecture

commit e1af63fdeefdaa1ed2f6723a2fe6d8cf8fe1f40b
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:14:33 2010 +0200

    s3: Lift the smbd_messaging_context from update_dsspooler

commit 8ee2a0a26917729212b8c91a54bb4231e6bd6cb1
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:12:57 2010 +0200

    s3: Lift the smbd_messaging_context from construct_printer_driver_info_level

commit 9daa6a2501a1486aa78e7eed71d12a404df2e882
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:11:39 2010 +0200

    s3: Lift the smbd_messaging_context from enumprinters_level5

commit d7803ea49c1412296220b0496e0ace7f67571237
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:11:03 2010 +0200

    s3: Lift the smbd_messaging_context from enumprinters_level4

commit 89d8998d7c0f386e106817ead9ec4360b3c2f1de
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:10:11 2010 +0200

    s3: Lift the smbd_messaging_context from enumprinters_level2

commit e35ac20ca32e9c4221da6320706eb3562b544302
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:08:58 2010 +0200

    s3: Lift the smbd_messaging_context from enumprinters_level1

commit bf10fa67ef423d37b70b5c53990fd6ff98f4566d
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:07:37 2010 +0200

    s3: Lift the smbd_messaging_context from enum_all_printers_info_2

commit ada007d971dfa429fa6add8bfb8436cc824cd123
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:05:46 2010 +0200

    s3: Lift the smbd_messaging_context from enum_all_printers_info_1_network

commit 2c0e63067b61461368fe7b725b732274101ecd95
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:04:56 2010 +0200

    s3: Lift the smbd_messaging_context from enum_all_printers_info_1_name

commit 6dc35f8f70eee4ae536ea17e4b5cb223cbb4c501
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:03:52 2010 +0200

    s3: Lift the smbd_messaging_context from enum_all_printers_info_1_local

commit 67fbb0462e5ac5a752f990da653e0492f2e12166
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 14:02:52 2010 +0200

    s3: Lift the smbd_messaging_context from enum_all_printers_info_1

commit 259b9d7809f31202c544c6536f3ef98c93bb0fd0
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 11:01:58 2010 +0200

    s3: Lift the smbd_messaging_context from enumprinters_level0

commit 1a3ba2f6eb9a5b1af6722f780761fcde45a896db
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 11:00:22 2010 +0200

    s3: Lift the smbd_messaging_context from enum_all_printers_info_level

commit 5b0a36b552f44e6fb6110588773005a3f7c1d739
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:58:04 2010 +0200

    s3: Lift the smbd_messaging_context from construct_printer_info0

commit f776d107a1459d943a1f5797d48d58ae24d50c39
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:56:50 2010 +0200

    s3: Lift the smbd_messaging_context from set_printer_hnd_name

commit 1af73b04fc30c6be8a9fa792e2ecdb1affb9996b
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:55:41 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_del_driver_list

commit d104e37ed12653008301d68a584d76270a558ca4
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:54:01 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_del_driver

commit ae6a3ac22503fe342e7e04f83dd6c7a449e204ea
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:52:19 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_get_driver

commit 3a85d0c79a660555b5dfaaf38340900edb624d3f
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:47:35 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_add_driver

commit 6bd973ad0128f6abaa976289c549132451f9625b
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:46:00 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_printer_getform1

commit d78c8c26e4ae720734eb7ce2409b128fff362bbb
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:44:13 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_printer_setform1

commit cf016e3e494765f40b4866bd81dd91b8694dd833
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:41:54 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_printer_deleteform1

commit 428e86e562e830093b9af6bab09e851a4163b934
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:39:42 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_printer_enumforms1

commit fe5985316c9b63057b68f7ce6bf0062fe61edbeb
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:37:43 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_printer_addform1

commit b9fe8de0ff7d0a44c5d0169b552a673e3d225524
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:35:57 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_printer_get_changeid

commit 8efa27cdbea926d55b4ae43884796910a2b0b85e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:34:00 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_printer_update_changeid

commit 747f5c531862ba3f06f1b8c54eed5c01e549efc8
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:29:50 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_delete_printer_key

commit 3ccdbc4119ca50b4a745b820f05f0a0f0965e827
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:27:40 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_enum_printer_key

commit 30d64d2f92a0edd8c62ed0b0fb14ff695b808714
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:25:54 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_delete_printer_dataex

commit 9346df6289b17c4c4e53e77922788ec8fcc071df
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:23:49 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_enum_printer_dataex

commit cb8f700855eb0867aad38c3b653c00e416cdd870
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:22:11 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_get_printer_dataex

commit e4cd34926f3d8c8f0c567467de39d47cf4b816f7
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:19:35 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_set_printer_dataex

commit 7471ecb27f1bcec6f75b58bd34d4c42fd9434f14
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:14:31 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_set_printer_secdesc

commit 4fb993f61346b783e100839879211825b5568336
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:11:00 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_get_printer_secdesc

commit bd8a1d8a8601474e1cf7cec459d05e2fe45b28b0
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:08:22 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_get_printer

commit 9751d7613b3db543a2cdb515c597d9600531dd76
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 09:37:43 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_update_printer

commit d7f8a6f82d56d7d46a0bcf8ed833ad09b9d00f26
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 09:34:23 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_create_printer

commit 2eb58637221899b63da4eb819d23284031f27976
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 09:32:12 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_printer_opendriver

commit c29e1c3e41ff0e85f053b2c40dae0f27098bcd79
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 09:30:30 2010 +0200

    s3: Lift the smbd_messaging_context from winreg_printer_openkey

commit 80cda2e807ee32e3a1e3f93097310798fa4a3814
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 09:27:04 2010 +0200

    s3: Lift the smbd_messaging_context from nt_printing_tdb_migrate

commit 2d3623529fed0be2945cecfb19cef579e5af057e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 09:22:05 2010 +0200

    s3: Lift the smbd_messaging_context from rpc_pipe_open_internal

commit 33256d6478381af3bee9ef064566e69cb4943c39
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 09:11:45 2010 +0200

    s3: Lift the smbd_messaging_context from np_open

commit 7c90a6bf38829dc6be026b65b29b81db9fbbdf0d
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 09:08:40 2010 +0200

    s3: Lift the smbd_messaging_context from make_internal_rpc_pipe_p

commit d5b8a993e0d782b123ed537709c28efede468419
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 08:47:05 2010 +0200

    s3: Remove a direct reference to smbd_server_conn

commit 5acb5b09ee4d00cee83b7df3bc0a52894e9f303d
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 7 18:39:38 2010 +0200

    s3: Remove references to smbd_messaging_context()

commit 43c2dcaf4caa8b0ff471bcceaf4141ddcd78faee
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 8 10:14:01 2010 +0200

    s3: Fix a type-punned warning

commit ad94ae980462dc4c581a2fa1d7e927c2ae625c19
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 5 17:19:16 2010 +0200

    librpc/idl/mgmt.idl: add missing size_is()
    
    metze

commit 0a7f749bc80d9846b97cd22cd503473a205aaafd
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 5 16:10:37 2010 +0200

    pidl:NDR: correctly handle bracket arrays with 'string'
    
    metze

commit d6eb42cc619206c280edd732b1b56563a21e8f4d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Aug 6 14:52:58 2010 +0200

    s3:rpcclient: we also need some ndr_pull functions
    
    metze

commit 08cf7ac7a0d885ca4bf733c7f7f705b3f2a30e92
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Aug 6 14:51:54 2010 +0200

    s3:libnet/libnet_samsync.c: we also need some ndr_pull functions
    
    metze

commit 1c515fb94b9bc4d432aa6435e352cb8294f436e2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Aug 6 14:50:31 2010 +0200

    s3:utils/net_rpc_service.c: we also need some ndr_pull functions
    
    metze

commit 8ca8250443319e0f19f05aab2014118fd03eaa8a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Aug 8 10:15:12 2010 +0200

    s4:RPC-SPOOLSS-NOTIFY: skip test_RFFPCNEx() for now, as the test is broken
    
    See https://bugzilla.samba.org/show_bug.cgi?id=7486.
    
    metze

commit cc6951243d5641e2185ed9dee3b6ee4de07d217b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Aug 8 09:23:00 2010 +0200

    s3:rpc_server: fix valgrind warning
    
    metze

commit ac9f06c9b93ada5d0e8331a122e199a8f69049a3
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Aug 8 09:21:57 2010 +0200

    s3:smbd: fix valgrind warning, sizeof(16) != 16...
    
    metze

commit 66412bfc76dc8b7337f3690ec75b14542a3df11e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Aug 7 14:27:27 2010 +0200

    s3:rpc_server: fix memory leaks in rpc_pipe_internal_dispatch()
    
    metze

commit 9e88b57407fc9d201277a70226a6be3fb713ae39
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 7 18:27:36 2010 +0200

    s3: Fix typos

commit 6598d6dc41743b5390c803097eea27f951efa531
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Aug 7 18:15:01 2010 +0200

    s4:rpc_server/lsa: better include a .h file don't include a .c file
    
    This fixes the build with --nonshared-binary=smbtorture,
    as use by the source3/ make test.
    
    metze

commit 72fd7fb49dac33bf4fd91bf1d8795f62b5a9fb82
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 7 13:23:07 2010 +0200

    s3: Remove some references to smbd_messaging_context()

commit 390bfed7b7d9edfa61e6d3b1f79ba33fbd44c42d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 7 13:32:52 2010 +0200

    s4:kcc_connection.c - fix typo in error message

commit bc702a394ddd1912c621054acbc75f29166fd17a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 7 12:30:33 2010 +0200

    s4:ldap.py - comment a test part which fails with another error code on Windows

commit 8243272fa071dadd62199f84d7caf608d90ea6ed
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 7 11:59:57 2010 +0200

    s4:ldap.py - test the new "systemFlags" constraint

commit f99d672b138e17e6b40f286a527812f75b65c3d7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 7 11:50:10 2010 +0200

    s4:objectclass LDB module - "add operation" - enhance and clean the "systemFlags" section
    
    Also here we have to test for single-valueness.

commit e009d02bd5718fb5e9f636a616ff3b622d68325d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 7 11:07:03 2010 +0200

    s4:ldap.py - test for an invalid "objectCategory" attribute

commit 6e6af9c14c1a421b8c3323982e5bd8bbb69589bb
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Aug 7 11:04:53 2010 +0200

    s4:objectclass LDB module - "add operation" - implement "objectCategory" validation

commit 299b59b7c3603642154d78a5e3251926c8ce6e62
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Aug 5 22:23:22 2010 +0200

    s4:ldap.py - proof for the impossibility to add a LSA-specific object over LDAP

commit 89c71a8f06414a62c04d3460e9b4c9348bfb7fd1
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Aug 5 22:22:57 2010 +0200

    s4:urgent_replication.py - relax also here the add of a secrets object

commit 67b1e1b8f3314f49d028a11df5ccda1e81986cda
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Aug 5 22:00:27 2010 +0200

    s3:dcesrv_lsa.c - use the RELAX control in order to create LSA objects

commit 25e973d5db9ffa6d4138cdbe7c3dd1880149ad2a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Aug 5 21:58:57 2010 +0200

    s4:dsdb/common/util.c - add a function "dsdb_add"

commit 7d62128e2cce540043df84d51967e43bdca4c493
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Aug 5 21:40:11 2010 +0200

    s4:objectclass LDB module - "add operation" - reject creation of LSA specific objects
    
    (only using the RELAX flag allowed)

commit a3c6d4c4d52c174d7fcac73fb315dc7e7c03fdd9
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Aug 5 21:02:29 2010 +0200

    s4:objectclass LDB module - "add operation" - move two checks
    
    To be more consistent with the MS-ADTS doc.

commit ace6f52d57e40d3e198f844fd3f2f35392ffc620
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Aug 5 21:01:38 2010 +0200

    s4:objectclass LDB module - "add operation" - deny multiple "objectclass" message elements
    
    Requested by MS-ADTS 3.1.1.5.2.2

commit 9f0cbe1558ec473f0a75b662bbc123473aa0a7aa
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Aug 5 20:59:56 2010 +0200

    s4:objectclass LDB module - "add" operation - free "mem_ctx" as soon as possible
    
    We don't need to have it around until the end of the function.

commit 92282a815d2d7351b21fd734a345e1500db89068
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 7 12:35:54 2010 +0200

    s3: Remove references to smbd_messaging_context() from the spoolss server

commit a5a0711f0c5e8b3e42301d5b050197a413e86fa7
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 7 12:27:22 2010 +0200

    s3: Remove a reference to smbd_messaging_context()

commit 19a908350eef1ae7725e3412da087be8e7cf05b0
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 7 11:58:48 2010 +0200

    s3: Remove some references to smbd_messaging_context()

commit 77c63149a3c91798445a56b31624036473e7f570
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Jul 8 18:00:07 2010 +0200

    s3: Remove procid_self() from connections_fetch_entry()

commit 21229178bd4703a70f222e102bd2588449ac023b
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Jul 6 22:52:19 2010 +0200

    s3: Add msg_ctx to pipes_struct

commit c9b654f5810f46b20e082895499c0bf2a3077173
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Jul 6 22:43:14 2010 +0200

    s3: Remove smbd_messaging_context() from send_stat_cache_delete_message()

commit 4b47245a9d7292255a5dca8286283b5519de12e6
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Aug 7 18:56:35 2010 +1000

    s4:ntlmssp Merge more aspects of the source3/ NTLMSSP layer
    
    This changes the talloc treatment of the session keys to avoid
    memory duplication - the session key has always been allocated
    onto the ntlmssp_context by the auth subsystem callback.
    
    The remainder of the changes are cosmetics, such as avoiding
    using lm_session_key as a pointer (and avoiding then doing an
    if statement on something that is always true).
    
    Andrew Bartlett

commit 6644f48d724085f839da86ef75bd814a46359ea5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 6 17:53:44 2010 +1000

    s4:ntlmssp Re-add gensec_ntlmssp wrapper to allow merge with source3/
    
    By re-adding this wrapper, the actual guts of these functions are now very
    similar to that found in source3/libsmb/ntlmssp.c
    
    This should make it easier to merge the implementations.
    
    Andrew Bartlett

commit 1979486c8ea9125cb8b16782acc0dcea9c6f552e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 6 17:51:34 2010 +1000

    s4:ntlmssp Always setup the session keys and signing state
    
    While it would save some CPU to only setup the session key when
    requested (like windows does), this instead matches the
    implementation in source3/libsmb/ntlmssp.c
    
    We could re-add this later after the codebase is merged.
    
    Andrew Bartlett

commit b03bc8822b5282fa1acd8e3a90b1424656fced4c
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Aug 7 10:29:43 2010 +0200

    s3: Remove a pointless "else"

commit 4c6fd6043b3cf3b395b58037e99b1c2b7334a411
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Aug 6 23:27:36 2010 +0200

    s3: Remove an unnecessary NULL check
    
    Now that connections.tdb is not used for the broadcast messaging anymore,
    connections_fetch_entry is only called for real connections.

commit 16949ef75a91adf68c2888cb4cb0d7f802e8781e
Author: Günther Deschner <gd@samba.org>
Date:   Fri Aug 6 17:38:15 2010 +0200

    s3-net: fix copy/paste typo in usage of "net printing".
    
    Guenther

commit 0f8e032628865861b356755b4fbafb6fbfeddbeb
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 5 15:14:04 2010 +0200

    s3-netlogon: remove global include of netlogon.h.
    
    This reduces precompiled headers by another 4 MB and also slightly speeds up the
    build.
    
    Guenther

commit ccd4af271f73e88abd6899a347f9ce5af69c1f1c
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 5 15:03:00 2010 +0200

    s3: remove global include of samr.h
    
    Guenther

commit a90ed3381a772c46c06aaae66ec6113d878a6029
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 4 12:01:50 2010 +0200

    s3-build: no need to include privileges.h twice.
    
    Guenther

commit 002ac5681f95760968bc5111cc39e849a0449c44
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 3 00:03:03 2010 +0200

    s3-net: only include netapi header when needed.
    
    Guenther

commit 164ee0fe56af9e4b1f30c83165b0580220ac9531
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 2 23:21:09 2010 +0200

    s3-libsmb: include nbt.h in namequery_dc code.
    
    Guenther

commit f9012635da311afb31ce33ef5917e9a73207d688
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 2 23:18:53 2010 +0200

    s3-libnet: include netlogon.h in libnet samsync header.
    
    Guenther

commit af38b5f8009ac9f0ea7fb9cc10c0565e4908b2c3
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 5 15:25:35 2010 +0200

    s3-smbtorture: include svcctl.h
    
    Guenther

commit 441d607589afec65d9064703e6f11cc0806333bb
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 2 23:17:25 2010 +0200

    s3-services: include svcctl.h where needed.
    
    Guenther

commit c31df3adb2775523f465fdc9d03849c540c073a0
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 5 15:02:09 2010 +0200

    s3-build: remove global include of krb5pac.h.
    
    Put in samr and netlogon, as they were pulled in via krb5pac.h.
    
    Guenther

commit 257a1f1097576fa981341521bda15824e7fac555
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 2 23:12:16 2010 +0200

    s3-krb5: include krb5pac.h where needed.
    
    Guenther

commit 2523aec6d19c519280793020f6db21c65a3c95ea
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 2 22:54:29 2010 +0200

    s3-rap: include svcctl.h where needed.
    
    Guenther

commit ae36783c7bed73461c012d78ec3e1f3a6bc3d221
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 2 22:52:00 2010 +0200

    s3-passdb: include samr.h where needed.
    
    Guenther

commit 677dcfa6782f03fa11c322b6c8e1abdc0a354604
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 2 23:23:12 2010 +0200

    s3-param: include svcctl headers in loadparm.
    
    Guenther

commit 728fba1233afc632fbe2b6d5262ac32db751233f
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 2 22:48:16 2010 +0200

    s3-nmbd: include svcctl.h where needed.
    
    Guenther

commit bf9a1dd4605cbf9c29e2b5bab9042b389980f1da
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 19 21:00:41 2010 +0200

    s3: Remove some explicit calls to procid_self()

commit e6604e5d20c4ec45787ff49d5392484ef1d2f313
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 19 21:04:04 2010 +0200

    s3: Remove some explicit calls to procid_self()

commit e9eb263391b2be16924b7e6ea935fdf44b1a0ead
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Aug 6 13:49:37 2010 +0200

    s3-spoolss: Make sure we convert a 4 byte value to uint32_t.

commit 043c6f46583fac13588baf207582a08cfa802a28
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Aug 6 13:49:01 2010 +0200

    s3-spoolss: Fixed setting driver version correctly.
    
    We are in a loop here, so setting tmp to 0 at the beginning of each
    iteration sets info8->version to 0 if we enumerate over another value.

commit 33d1879d5b50e2d98c1bb13b835e7cfb178e3336
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Aug 5 10:04:57 2010 +0200

    pidl: Samba3/ClientNDR - Correctly copy arrays, if r.out.size < r.in.size.
    
    metze
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 8f0c86373241cb9e308ed4b91b2b51d6e67fd88f
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Aug 6 12:32:30 2010 +0200

    s3: fail db_open_ctdb if ctdb is not around

commit fe5f4d91ce5067c4222648967719f67f6e670642
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Aug 6 13:06:42 2010 +1000

    s3-printing: cope with missing printers in print migration
    
    The printers database may be completely missing in a new install, and
    we may have SECDESC entries for printers that have been removed. Don't
    consider these fatal errors in the migration.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a2607a62f3ff359715e49fed93ec23f744e861b5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Aug 6 16:14:11 2010 +1000

    s4:ntlmssp Adjust Samba4 ntlmssp code to look more like the code in Samba3.
    
    This does not change behaviour, and some of the whitespace isn't ideal, but
    at the moment making this code more similar, even in cosmetics, will assist
    later merge efforts.
    
    Andrew Bartlett

commit 91a8d9bc9bfe557c1095a7262e3a1b28fc3279ab
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Aug 5 16:05:31 2010 +0200

    s3-torture: Improve the winreg deletekey torture comments.

commit 2a15f7008c5b49cfa91c8001ad2541c5a6c80f73
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Aug 5 15:35:52 2010 +0200

    s3-torture: Correctly cleanup the winreg volatile key test.
    
    Günther please check!

commit 0a8e382d73d16062502b98037d89bf003abc3c4b
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Aug 5 15:24:20 2010 +0200

    s4-torture: Fixed the winreg EnumValue test against Windows.
    
    Günther please check!

commit ee11bb8748afebf2b42876a59da210f628613a02
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Aug 5 14:05:58 2010 +0200

    s3: Remove some direct cli->inbuf references in interpret_long_filename

commit 869a19f06c0ef7b106dfbbc3db1ed1091a1a4259
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Aug 5 14:02:56 2010 +0200

    s3: Remove a pointless wrapper function

commit 61fb8a4fd1a8b30fffdf941a9ff843825bf966e3
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Aug 5 13:45:59 2010 +0200

    s3: Explicitly pass flags2 to clistr_pull_talloc
    
    Required to eventually make cli_list async

commit 1cbe8b85ae155896e8a4ef39f4b129b2f1e6b1d8
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Aug 5 13:11:14 2010 +0200

    s3: Remove some pointless wrapper functions

commit 6cb5a0d097e52577e956d3527b753c1bcf124d9d
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Aug 5 13:06:11 2010 +0200

    s3: Remove some pointless wrapper functions

commit 0a224bc77b9bb59c72b9d79d9e8637837ffd878c
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Aug 5 12:48:52 2010 +0200

    s3: Save the received trans2 from the inbuf in cli_trans

commit a13b96f04a59ec9be9e72ffab4dc6b3f9e1b4dc3
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Aug 5 12:45:20 2010 +0200

    s3: Fix a crash in masktest

commit 174a46837d728e67e8a8226db143f9018f5faf2d
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Aug 5 11:36:37 2010 +0200

    s3-spoolss: Use the correct value for the data length.

commit ce2a086119330a0a39e6d7423432c1b2e0da247b
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Aug 5 10:49:53 2010 +0200

    s3-popt: Only include popt-common.h when needed.

commit c136b84f0d28d1a88c5918b06f81766a271a3780
Author: Günther Deschner <gd@samba.org>
Date:   Thu Aug 5 02:25:37 2010 +0200

    s3-secrets: only include secrets.h when needed.
    
    Guenther

commit 1946ab5a1b4be6d64307fb24847640f959a1e024
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue May 11 07:35:43 2010 +0200

    s4-dns: ndr_dnsp helper functions
    
    these handle the dnsp_name type

commit febd35ecd29a25979ff4f7a8f7a0d9dc80399dfb
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Aug 5 15:25:38 2010 +1000

    s4-dns: fix dnsp for old build

commit 8892748085d896f46582ea52d299513ce035d8a3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue May 11 07:09:46 2010 +0200

    s4-dns: expanded the DNSP code to handle more record type

commit a41dffcb6a0a2dcb6bbcf3ecbb4a7a1df47d85df
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue May 11 07:09:05 2010 +0200

    pidl: added a new type dnsp_name
    
    This is a name type used in DNS where each DNS component maps to a
    length byte followed by the string
    
    We want these to map to a char *, which is why we need to do this in
    PIDL

commit 1a701914fd226f7d3844bd6feadcd58cb7144246
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Aug 5 15:22:49 2010 +1000

    s4-ldb: added ldif handler for the dnsRecord attribute

commit 2883bc94c76bc54187bb9bd0db1a36dd482a0aea
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Aug 5 15:20:13 2010 +1000

    dns: first version of dsnRecord parser

commit e7a6a3ec0da01666c8e0c9772007ce7146df9d75
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 2 00:32:52 2010 +0200

    s3: avoid global include of ads.h.
    
    Guenther

commit 385adcce732e3a0788ce935fbc76363feb9ff22f
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 4 16:49:43 2010 +0200

    s3-libnet_join: add ads.h as helper header to IDL.
    
    Guenther

commit 31c484edb95c09b0b400cff9bab6b6cb2c33b120
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 4 15:31:08 2010 +0200

    s3-printing: move AD related printing components to an own file.
    
    Guenther

commit 867626abcad88b84684e9d328abf51d4f410a1cb
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 2 19:22:22 2010 +0200

    s3: Convert cli_list() to return NTSTATUS
    
    If needed, the callback functions can count themselves

commit 2ff73f0df3257c27cb3cdae779e679de3170be17
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 2 15:25:45 2010 +0200

    s3: Use data_blob_null

commit dbdef72953ddca5fd827dc3798e7f0c3b63696ce
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Aug 4 19:43:59 2010 +0200

    s4:LDB modules - remove the "kludge_acl" module code
    
    Obviously this has been forgotten by Nadya.

commit 4b17ff4a9088860646e127b17df18d415dbdc97d
Author: Günther Deschner <gd@samba.org>
Date:   Wed Aug 4 14:55:10 2010 +0200

    s3-waf: fix the build.
    
    Guenther

commit d50a9e8d9e706f545862ab1f5b9a8eaa27447844
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Wed Aug 4 15:22:17 2010 +0300

    s4-dsdb: Removed kludge_acl as it is no longer necessary
    
    Moved the access check on extended operations to acl module and removed kludge_acl

commit f4e60b42d37b5136dfd124de8bb5c1c9cd084957
Author: Christian Ambach <christian.ambach@de.ibm.com>
Date:   Wed Apr 21 15:10:39 2010 +0200

    small optimizations for shadowcopy2 module
    
    - remove a compiler warning
    - replace strlen usage
    
    Signed-off-by: Christian Ambach <christian.ambach@de.ibm.com>

commit b77f241b28bcf29a88e28a49623a5e99a356bb34
Author: Christian Ambach <christian.ambach@de.ibm.com>
Date:   Wed Apr 14 10:05:56 2010 +0200

    fix snapshot content display with hide unreadable
    
    With the hide unreadable option set, snapshots are be displayed
    as empty with shadow_copy2 and a NFSv4 ACL module.
    
    To prevent multiple conversions of the paths when the acl call
    does a VFS_STAT (as the nfs4acl code does), a check was added
    to convert_shadow2_name() so it will not touch paths any more
    that look like they have already been converted.
    
    Signed-off-by: Christian Ambach <christian.ambach@de.ibm.com>

commit cc2aa855a3cc690716233bde57ae74711813db0f
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Nov 12 12:30:58 2009 +0100

    s3: Fix shadow copies after the change for in-path @GMT-
    
    Signed-off-by: Christian Ambach <christian.ambach@de.ibm.com>

commit 68c6e07591ed35c2c6aca2e1979ee08ae469c13c
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Nov 9 11:06:30 2009 +0100

    s3: Fix in-path shadowcopy2 module
    
    Signed-off-by: Christian Ambach <christian.ambach@de.ibm.com>

commit 72cd5bcd58a2c85ba7257dfcfca61af3ddc1f590
Author: olivier <olivier@virtscano.fakenet>
Date:   Tue Aug 3 00:20:11 2010 +0200

    make scannedonly notify the scanner if no .scanned: file was found during rename

commit 64b26affe0afa2999130cdd4f1d521dccd877c9c
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 3 15:55:20 2010 +0200

    s3-dcerpc: fix some uninitialized variables build warnings.
    
    Guenther

commit bf19a5228aa582e35d1447cb918a1f66bfdf8b2d
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 3 15:13:57 2010 +0200

    s3-spoolss: fix type-punned pointer build warning.
    
    Guenther

commit 743a2dedf42c2aa3e9e6caee92e3e9581ae56dce
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 3 14:51:27 2010 +0200

    s3-spoolss: fix uninitialized variable build warning.
    
    Andreas, please check.
    
    Guenther

commit c530aa33cd9ac75bdd79754a2886bff54115800a
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 3 13:18:01 2010 +0200

    s3-printing: make sure to set NTSTATUS code before checking it.
    
    Andreas, please check.
    
    Guenther

commit bf5d88ec1caf47d9b0009396811d6bff5bfecc31
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Mon Aug 2 16:47:38 2010 +0300

    s4/vampire: update dNSHostName for the Server object

commit f8279045964cd0140be23b436ead1169096a8d18
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Aug 3 04:26:57 2010 +0300

    s4-schema: More verbose error log when subClassOf is not found in schema
    
    Error message show failing classSchema object
    but not the specific value for the failure,
    which makes diagnostics by log files really hard.

commit a268e0846f1bc37a3dd63d2085884edc91b83e2a
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Aug 3 04:14:45 2010 +0300

    s4: fix comment typos

commit eab6d8c390f34ab331115a190735cb010ca59829
Author: Günther Deschner <gd@samba.org>
Date:   Tue Aug 3 00:12:27 2010 +0200

    s3-spoolss: remove duplicate (and incorrect) header.
    
    Guenther

commit b6e9d8d406974ec2f4593fd0147113fe86b883f9
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 2 18:32:40 2010 +0200

    idl: Fixed a possible crash bug.

commit 31782e52955f4f9301611a1e94b52b880f2ae302
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Aug 2 10:21:36 2010 +0200

    s4:librpc/rpc: avoid using DCERPC_NDR_REF_ALLOC for epm_Map()
    
    metze

commit b1a584f9dc67bee1ecde408620dd815be3533091
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Aug 2 09:53:27 2010 +0200

    s4:torture/libnet: avoid dereferencing dcerpc_binding_handle internals
    
    metze

commit d3fff4590420a3b2d1858e6c8dbaf4df93447a46
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 2 13:49:59 2010 +0200

    s3-spoolss: Fixed a segfault if a value has no data.

commit 307bd439d7f5df828923189c02fcbe30124d1e01
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 2 13:21:47 2010 +0200

    s3-spoolss: Move some debug message to a higher level.

commit 4412bafa4460bbafe2170f980e8ce88937422529
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 2 12:38:57 2010 +0200

    s3-spoolss: Fixed some C++ build warnings.

commit 772fbce9ffd7ec9de7d33e29d96852dce7f35c43
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Aug 2 12:09:03 2010 +0200

    s3-spoolss: Use a stackframe to allocat memory.
    
    This is faster and should be more secure to use if something goes wrong.

commit 6463281f36edc796e51960d4b0c896af24e1b3c2
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 2 16:08:30 2010 +0200

    s4-smbtorture: remove another old and now invalid s3 special case during spoolss testing.
    
    Guenther

commit 45952b56797982d27731b20d97f5648c9414814a
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 2 15:52:09 2010 +0200

    spoolss: fix potential crash bug in spoolss_PrinterEnumValues push path.
    
    Guenther

commit ff1c5b37f619ed3373b65af72c026a36de4b94c9
Author: Günther Deschner <gd@samba.org>
Date:   Mon Aug 2 15:31:10 2010 +0200

    s3-spoolss: remove unused MAX_OPEN_PRINTER_EXS define.
    
    Guenther

commit 322b52419485b882658c53c21f86e5bdfa82b71f
Author: Günther Deschner <gd@samba.org>
Date:   Sun Aug 1 15:34:52 2010 +0200

    s3-build: fix some c++ build warnings.
    
    Guenther

commit 911db761148329f3bfc84ee68e0747215d0e8b2d
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Aug 2 11:03:13 2010 +0200

    s3: Use cups-config --libs

commit e4b32cb0d44ce7e5b068f8b9f6ce0567d79426aa
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 1 22:12:04 2010 +0200

    s4:ldap.py - remove superflous spaces
    
    Sorry, forgot to delete them in the last commit

commit e92f44782385be5315daa77f7821296f96ea729d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 1 21:12:50 2010 +0200

    s4:ldap.py - additional "instanceType" checks

commit c38219adfc12828d436bd46b17107feba619aa55
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 1 17:34:43 2010 +0200

    s4:instancetype LDB module - add checks requested by MS-ADTS 3.1.1.5.2.2
    
    We've to test for the WRITE flag if we are performing an NC add. And if it
    isn't an NC add then only the WRITE or no flag is allowed.

commit ba4578f98b411f175803160a9a1f81c1c3786f1f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 1 17:36:11 2010 +0200

    s4:objectclass LDB module - consider the "instanceType" when adding NCs
    
    This is requested by MS-ADTS 3.1.1.5.2.2 (NC add operation).

commit 89c7859006a47d646762f8f3e2256f72d6133c70
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 1 17:02:45 2010 +0200

    s4:descriptor LDB module - remove the "forest DN" check
    
    Also here we have to work with the default base DN.
    
    After some reading I've discovered that this isn't really true. The forest
    partition does exist on one or more DCs and is there the same as the default
    base DN (which is already checked by the module).
    And if we have other DCs which contain child domains then they never contain
    data of the forest domain beside the schema and the configuration partition
    (which are checked anyway) since a DC can always contain only one domain!
    
    Link: http://www.informit.com/articles/article.aspx?p=26896&seqNum=5

commit f824e459f0c7971e86ff214bdfe84ce93dba14aa
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 1 17:02:45 2010 +0200

    s4:acl LDB module - remove the "forest DN" check
    
    After some reading I've discovered that this isn't really true. The forest
    partition does exist on one or more DCs and is there the same as the default
    base DN (which is already checked by the module).
    And if we have other DCs which contain child domains then they never contain
    data of the forest domain beside the schema and the configuration partition
    (which are checked anyway) since a DC can always contain only one domain!
    
    Link: http://www.informit.com/articles/article.aspx?p=26896&seqNum=5

commit 149f4251c5ae38d598a14aa899f5b418acf1c962
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 1 16:39:45 2010 +0200

    s4:acl LDB module - remove unused call "is_root_base_dn"

commit 3f2a8d508123550c7fd4c7d29ab7d53f24a61629
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 1 17:44:50 2010 +0200

    s4:urgent_replication.py test - adapt the test for the harder delete restrictions
    
    Otherwise we are not able to delete the "test crossRef" object which points
    to the default NC anymore.

commit ea5c40428f7e195f9db1efbd320969184bda6593
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 1 13:09:46 2010 +0200

    s4:ldap.py - perform tests on the additional delete constraint checks

commit 316eda12068af4f059a082d0a9299d8fdb02d602
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 1 12:50:56 2010 +0200

    s4:objectclass LDB module - implement additional delete constraint checks
    
    MS-ADTS 3.1.1.5.5.3

commit c59ab01e33aa5fbfd3837d311c0e65593ab7a08a
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 1 20:15:57 2010 +0200

    s3: Fix an uninitialized variable

commit fb167a602879e9348d7fab1a24e04dc289678725
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 1 20:15:39 2010 +0200

    s3: Fix a C++ warning

commit 0213cfa6af19fe1267662af802f42b8c0ce7194c
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 19 21:00:31 2010 +0200

    s3: Fix some nonempty blank lines

commit 9bf2d260aa584f4cc8daa4228e71049ee2524ad3
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Aug 1 19:55:06 2010 +0200

    s3: Fix an uninitialized variable

commit 542396ccd9a8b06a769300c5952477e13e3db8ae
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 1 11:26:08 2010 +0200

    s4:ldap.py - add a test for "CN=System" object rename behaviour

commit 7ea1796fa44335858360031b778c5867b1c4c3fe
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 1 11:06:18 2010 +0200

    s4:subtree_rename LDB module - rename "check_system_flags" into "check_constraints" and perform more checks
    
    Always considering MS-ADTS 3.1.1.5.4.1.2.

commit 2e66033ab93ed036289892bd3718839472b3f27f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 1 11:05:26 2010 +0200

    s4:subtree_rename LDB module - introduce out of memory checks

commit f997fd299d24339d8a386f37f710503c2d815a18
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Aug 1 11:32:14 2010 +0200

    s4:dsdb/samdb/ldb_modules/util.c - remove unused variables

commit b99a02a7d4b21e37b9ff61171311ca1b143e2b14
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Aug 1 11:18:05 2010 +0200

    s4:torture/rpc/winreg: fix "strict aliasing" compiler warnings
    
    metze

commit c7ba3c4dcf77e51434783e5da2b505bf6c7a14c4
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Aug 1 11:17:14 2010 +0200

    s4:torture/rpc/winreg: fix the build with non gcc compilers (e.g. on solaris)
    
    metze

commit 81cc92c5af1a6e8c140e5c388d610f9061ca86db
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jul 9 19:22:01 2010 +0200

    s4:ldap.py - performs some "systemFlags" testing

commit 3cdc83d4f9a67011cfa51b242cb84f3f6b59e226
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jul 4 20:07:09 2010 +0200

    s4:subtree_rename LDB module - introduce the "systemFlags" protection rules
    
    This is done in a dedicated call "check_system_flags".

commit 3244f6feaab218984978ac14e156d62e101a1104
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jul 8 21:05:33 2010 +0200

    s4:dsdb/pydsdb.c - import "systemFlags" into Python
    
    Needed by ldap.py tests

commit 4e3afb36dab12b460cdd0cbc95607d4032115c05
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 31 21:26:38 2010 +0200

    s4:subtree_rename LDB module - "subren_ctx_init" - fix the "out of memory" return

commit 1b7029b47be296588b80e4c2ba871dba572cf18e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 31 20:59:02 2010 +0200

    s4:torture/winreg.c - fix warnings of Solaris 10 cc through the appropriate casts

commit 380b2cb4b0d9e63b2825840697604bd977b40807
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 31 20:58:47 2010 +0200

    s4:torture/winreg.c - remove unreachable code

commit f0c4a1aff4407826c301c54f58d0fb65c71c4a07
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 31 20:57:18 2010 +0200

    s4:torture/winreg.c - add a FIXME comment on a codepart which isn't standard C-compatible
    
    It seems to be GCC specific since it doesn't compile on Solaris 10 cc:
    http://build.samba.org/?function=View+Build;host=sunX;tree=samba_4_0_waf;compiler=cc

commit f5f236a4b9943a3b44dea40940c3cb00960e669e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 31 14:52:44 2010 +0200

    s4:dcesrv_netr_LogonGetDomainInfo - improve the client OS informations update
    
    As ekacnet pointed out on the mailing list we don't need to do a delete if we
    (re)set the values afterwards - only if we don't set any new ones.

commit 76e5d41d6a887e598bef8ec57ddc405c368acc00
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jul 31 11:35:31 2010 +0200

    s4:blackbox/newuser: use test specific user names
    
    As this test doesn't delete the user accounts at the end,
    we should use test specific user names. That lowers the
    chance of conflicts with other tests.
    
    metze

commit 0b4247ef7a60e7fe419681919daa3b31cae7bc48
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jul 31 11:31:43 2010 +0200

    s4:selftest: skip samba4.blackbox.ktpass for now as it's not portable
    
    ktutil might not be installed or from MIT.
    We should build a samba4ktutil and use that instead,
    until then we need to skip this test.
    
    metze

commit 34692556bed72130acd2985cc734d74c8a57203e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jul 31 11:12:10 2010 +0200

    s4:blackblock/ktpass: use test specific user name
    
    metze

commit 16756196566770b07ebe066ff7329773c1ae07dc
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jul 31 09:00:44 2010 +0200

    s4:librpc/rpc: use the correct ndr flags in dcerpc_ndr_validate_in()
    
    metze

commit 9e0000224a53f418eb4d2c87f1b8d8c47e348665
Author: Günther Deschner <gd@samba.org>
Date:   Sat Jul 31 00:54:45 2010 +0200

    s3-printing: remove unused get_local_printer_publishing_data() call.
    
    Guenther

commit 813fbbd68c50811ad3776140e409d31b60dba76f
Author: Günther Deschner <gd@samba.org>
Date:   Sat Jul 31 00:47:20 2010 +0200

    s3-build: avoid to globally include printing and spoolss headers.
    
    This shrinks precompiled headers by 3MB and will slightly speed up any build.
    
    Guenther

commit 28c74564c5bd3c972745deaa904ec8695f21ea1f
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 30 16:34:53 2010 -0400

    cleanups: Trailing spaces, line length, etc...

commit 57bd974e5865212641f6941dd875bc1bc4967ed9
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 30 14:01:01 2010 -0400

    s3-dcerpc: Use dcerpc_guess_sizes in the server code too.

commit 4c64e4d4af3403559b370381d7f14a83a39adfa7
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 30 13:12:35 2010 -0400

    s3-dceprc: Improve dcerpc_guess_sizes() interface
    
    Make it possible to pass in the NDR padding size so that theoretically
    client and server code can decide to use a different alignment.
    
    Pass in the header length as a parameter so that this function can be used for
    different type of packets.
    
    Make sure padding size will not make the fragment exceed the maximum length.
    
    Calculate padding taking in account the header length.

commit 3469fbc5e4098e798a03d14fece24fde2b60d9b9
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 30 12:19:20 2010 -0400

    s3-dcerpc: rationalize packet creation in the server code
    
    Move all related functions into create_next_packet, but make it transport
    neutral (not pass in pipse_struct)

commit a9d3a596a7c4d7e5775751cbce74e2fb07ce2192
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 30 11:27:40 2010 -0400

    s3-dcerpc: Make function to guess pdu sizes common.

commit 9329a9fe848761e2835ff58123d8f64d8bab35b2
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 29 20:20:49 2010 -0400

    s3-dceprc: consolidate use of dcerpc_push_dcerpc_auth()

commit da6c246aacc298ec0c7536289afbd9e0d99ea130
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 29 20:21:53 2010 -0400

    s3-dcerpc: Remove unused functions

commit 186f93633b4890c444115ac4eed109aa24f20b44
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 29 19:55:44 2010 -0400

    s3-dcerpc: use common spengo wrapper code for client SPNEGO/NTLMSSP

commit 984438ca1522bfc2d882b2e3e7e8db187577e05a
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 29 16:34:39 2010 -0400

    s3-dcerpc: add sign/seal support when using SPNEGO/KRB5

commit 0b24e8e869207dcb567b61272794daef48ee492a
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 28 17:06:51 2010 -0400

    s3-dcerpc: Add SPNEGO incapsulation for KRB5 auth

commit e286b9c0bd7bf553f216d7c8288bb75a6b3dde95
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 29 20:07:19 2010 -0400

    rpcclient: Use DCERPC_AUTH_LEVEL_CONNECT if no sign/seal is set for ntlmssp

commit fcdda8f44372b567b866b0eee90c7a9444f7f96c
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Jul 30 16:18:51 2010 +0200

    s3: Remove "cli" from "struct finfo"

commit a6e1fa23adaa31579366ec3445949cbde0520ac5
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 30 11:24:23 2010 +0200

    s4-smbtorture: remove ifdefed symlink test, this is already skipped internally
    in the s3 case.
    
    Guenther

commit 89071133e34cd5264bfc55d77d4ee77dc3604a9f
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 30 11:23:06 2010 +0200

    Revert "s4-torture: Disable setting REG_BINARY printer data with size 0."
    
    This reverts commit 104c419345a42a9a02ae25df482f449dc41a6380.

commit b7f029016a6a3fb98652c65f27ae80ad78048396
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Jul 29 13:47:27 2010 -0700

    We should be using the winbindd separator in this case, not hardcoding a \\ value.
    
    Jeremy.

commit a8cd3ef99eb70d70b9272b6e3ab5cc737195e06c
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Jul 29 14:48:06 2010 +0200

    s3: Do the ftruncate write cache optimization in one place
    
    Instead of hand-tuning all the cases that are below this piece of code, this is
    a general case that we can catch upfront.

commit a86cad3921c4a8ddbcab1929c825356aec4fe76a
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Jul 29 14:21:14 2010 +0200

    Revert "s3: Avoid pwrite calls for the 1-byte writes with zero content"
    
    This reverts commit 6763730304627a58139450fd3e03a0ce48e31bb9.

commit fec8505e0be067a09929216cfe476802f21d14fe
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Jul 29 17:04:18 2010 +0200

    s3: Avoid an unnecessary ftruncate call
    
    If we just created the file, it has length 0 by definition. This is still done
    while holding the share mode lock, so no race around wrt other cifs clients.

commit 4f4303048260ca19a5feef6b9338add1a19fb53c
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Jul 29 12:44:00 2010 -0700

    Fix bug #7589 - ntlm_auth fails to use cached credentials.
    
    In handling the WINBINDD_PAM_AUTH message winbindd canonicalizes a *copy*
    of the mapped username, but fails to canonicalize the actual username
    sent to the backend domain process. When "winbind default domain"
    is set this can lead to credentials being cached with an index of
    user: user, not DOMAIN\user. All other code paths that use
    canonicalize_username() (WINBINDD_PAM_CHAUTHTOK, WINBINDD_PAM_LOGOFF)
    correctly canonicalize the data sent to the backend. All calls
    the can cause credentials to be looked up (PAM_CHAUTHTOK etc.)
    correctly call canonicalize_username() to create the credential
    lookup key.
    
    Jeremy.

commit e8d386704e4c126b979ffe6c8b588fb311cc2e34
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jul 29 20:48:01 2010 +0200

    s3-spoolss: Increased debug level for trace output.

commit b2be8f2267a2fdee2d9fce6a100225eea8e7928b
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jul 29 20:45:07 2010 +0200

    s3-spoolss: Fixed debug statements and increased level.

commit bc1c82ea137e1bf6cb55139a666c56ebb2226b23
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Jul 28 05:15:40 2010 -0700

    Fix tdb_check() to work with read-only tdb databases. The function tdb_lockall() uses F_WRLCK internally, which doesn't work on a fd opened with O_RDONLY. Use tdb_lockall_read() instead.
    
    Jeremy.

commit 39d287ec67d9c33b17c8809ac34d3c09f72f689d
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 22:52:45 2010 +0300

    s4-test: Expand DSSYNC test to be executed against all partitions
    
    It is still possible to supply specific partition
    to test with on command line using
    --option="dssync:partition={PARTITION_DN}"

commit bd6f77ee0bb5f73ade9e7a20eef650f9be98096d
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Jul 14 05:10:34 2010 +0300

    s4-test-dssync: Issue warning in case we have diffrences in link attributes
    
    In case differences in messages are:
     1. Attributes with different values, i.e. 'replace'
     2. Those attributes are back-link attributes
    then we just warn about those differences.
    
    It turns out windows doesn't send all values for back-link
    attributes in replicated_object but in linked_attributes.
    
    I consider this as workaround for the problem.
    A better solution might be to merge linked_attribute values
    into replacted_objects before comparing those with LDB result
    (although this will work for Win2k8 and latter)

commit 5bf54f17bd1c9067437088456f16b6dd504efc14
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Jul 14 03:42:56 2010 +0300

    s4-test: Simplify test_GetInfo() - we have what we need through LDB connection
    
    we have already opened.
    
    Added 'config_dn' and 'schema_dn' members which are to be used
    later for extending the test_FetchData() to be executed
    against every partition in case partition is not specified explicitly.
    
    DsSyncText.site_name was removed also as it is not used anymore

commit 88f17981001c509c4844304b5a120540ae2963f6
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jul 13 02:37:58 2010 +0300

    s4-ldb: use TALLOC_CTX type instead of 'void'

commit e8ac4a8b82798ef0691d384f59d880dc38b56592
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 28 17:06:14 2010 -0400

    s3-dcerpc: Try to fix build when gssapi_ext.h is not available

commit 7c9c075987e7cdb2d5cb6311876f088f907e46f2
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 28 15:53:56 2010 -0400

    Do not refernece pipe_auth_data directly in dcerpc_gssapi.c

commit d17abc69f690ccc845a0a1d6d291b6e21ce86b3d
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 28 15:35:02 2010 -0400

    s3-dcerpc: Avoid ifdef, it is handled within dcerpc_gssapi.c already

commit 44add9952e5375f2858b26a2f676be49b70d839a
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Jul 28 20:09:48 2010 +0200

    s3: Fix cli_qpathinfo2
    
    Does not fix the DIR_CREATETIME test, but it is definitely an error.

commit c4b3c9ec0f2efa937529160999f7e44bcad3591f
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 28 12:44:37 2010 -0400

    smbd: Fix build warning

commit 7eaa15af2c5b544946bfb2b8c522ba9677527972
Author: Simo Sorce <idra@samba.org>
Date:   Sat Jul 24 13:02:57 2010 -0400

    s3-dcerpc: Add sign/seal with gssapi

commit 1abcbd70aed327ae5233423ce74662241fa9d21a
Author: Simo Sorce <idra@samba.org>
Date:   Sat Jul 24 10:35:25 2010 -0400

    s3-dcerpc: Add next authentication step with gssapi

commit 135a82e78f9537fb7b7f4b82fb7cba065737675f
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 23 14:47:36 2010 -0400

    s3-decrpc: Introduce gssapi support for dcerpc krb5 auth

commit 72088096af8dbf57cbc85c71cd0eef4447e7560d
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 21 12:11:37 2010 -0400

    rpcclient: Use DCERPC_AUTH_LEVEL_CONNECT if no sign/seal is set for krb5 auth

commit 183e0a0d9f87bc619cd832decf5745be1d28f598
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 22 16:14:16 2010 -0400

    s3-dcerpc: Refactor calculate_data_len_tosend()

commit c08d684f4ef679831e8fed69cd87e4d9b06cb3e0
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 21 13:33:09 2010 -0400

    s3-dcerpc: Add auth trailer only when appropriate.

commit 866f85e31973de356c3843836d5cacdbdf245e32
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 21 12:12:58 2010 -0400

    s3-dcerpc: consolidate unmarshalling of dcerpc_auth

commit 146af48d4887e8fa0c66bf53aa5f204366648478
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 20 18:43:37 2010 -0400

    s3-dcerpc: revive cli_rpc_pipe_open_krb5()

commit 250e341e0aad67c2f70fea597f34deadea1d2ccc
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 20 18:39:46 2010 -0400

    misc: Remove unused structure elements

commit b00f9a0a2d3b692dd12e182a2a4a7979c626dec7
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 20 17:26:32 2010 -0400

    s3-rpcclient: Allow choosing spnego mech: (ntlm/krb5)

commit 2463a871776bb4de8653d6a44469d2adb3ec9418
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 20 13:26:36 2010 -0400

    s3-dcerpc: Use dcerpc_AuthType in pipe_auth_data

commit 1e915d231d4191bf3a0bb54ba99a31ad6b2afd3b
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 20 11:49:23 2010 -0400

    s3-dcerpc: Cleanup and refactor create_rpc_bind_req()

commit 3c3237dd0afa37ba0e545424f5008973b645cf96
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 20 11:23:11 2010 -0400

    s3-auth: Remove unimplemented functions

commit bfe53d414548cd8a0226136b73cf2b766b6a61ef
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 20 11:22:50 2010 -0400

    s3-dcerpc: Set flags directly instead of calling unimplemented functions.

commit 7407c979a1469997c9277c501787b5f222216aac
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 19 20:03:08 2010 -0400

    s3-dcerpc: Use dcerpc_check_auth in client code too

commit 9565e3f6a7ef2fb590558eb7b29c6c2fc657fca9
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 19 19:49:35 2010 -0400

    s3-dcerpc: Make dcerpc_check_auth() common code

commit 5f2cca6b2a7b8b7bad4a47a2bd31174c45fa2611
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 19 19:42:12 2010 -0400

    s3-dcerpc: Add the same paranoia checks we have in the client code

commit 49a8c2965d2982e6510609fa9772a56597494641
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 19 19:34:34 2010 -0400

    s3-dcerpc: Split auth checking into a generic function.

commit 1fc71c9c6ff26f2d49f314b8425c6cd4c91683f3
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 19 17:51:18 2010 -0400

    s3-dcerpc do not pass pipes_struct to dcesrv_auth_request()

commit 2ce169ce187cc7229aecdc3e5cd889c5194956aa
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 19 17:14:56 2010 -0400

    s3-dcerpc: Make dcesrv_auth_request() return NTSTATUS codes

commit aa4c5a2bfb27fc274de2a83c4724e0f10ad6b119
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 19 16:16:40 2010 -0400

    s3-dcerpc: Use the common dcerpc_add_auth_footer() in the server code

commit 31393334194be7763072900408bb61ebb7c1d11a
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 19 16:10:35 2010 -0400

    s3-dcerpc: Move dcerpc_add_auth_footer() to the common helpers file

commit 6f5cdf9ae9707cdbc62e0ed5ad2578316796b4b3
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 19 09:07:22 2010 -0400

    s3-dcerpc: Introduce generic helper function to add auth trailer

commit 1b572493e2ea30b262a0ca1b04e913017a3ac13d
Author: Simo Sorce <idra@samba.org>
Date:   Sat Jul 17 17:53:44 2010 -0400

    s3-dcerpc: Pass explicit arguments so that this is not client specific

commit e2b0e43da9b6c3f1fb12a10898dcc09e56da795a
Author: Simo Sorce <idra@samba.org>
Date:   Sat Jul 17 17:32:35 2010 -0400

    s3-dcerpc: Move marshalling of dcerpc_auth_header in the callers

commit 6ffd7dc7805f572bcedf0693514f6aeb7be861f9
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 11:06:36 2010 +0200

    s3-rpc: Use struct pipes_struct.

commit f7a1453957223ead6ca2297dc57ce8c353f7fe5d
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 10:28:57 2010 +0200

    s3-include: Use struct pipes struct and get rid of the typedef.

commit 97dba0c0d957e17ac89e3c78eb5749621eab2a43
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 10:28:36 2010 +0200

    s3-winbind: Use struct pipes_struct.

commit 6457f814f50a00496384aad1712aba53d2609f63
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 10:28:18 2010 +0200

    s3-uid: Use struct pipes_struct.

commit d34fc3d1682c85c7d36fab168bc75bbb61b2931b
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 10:27:55 2010 +0200

    s3-wkssvc: Use struct pipes_struct.

commit 31a4240b8dd4d3f6b7f181b4d70284833589f696
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 10:20:10 2010 +0200

    s3-winreg: Use struct pipes_struct.

commit ce59e69bcab308c998d8a54a68c805444d6e93ee
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 10:19:26 2010 +0200

    s3-svcctl: Use struct pipes_struct.

commit 0fee377a52762a36a435e3fe2ffe0853cdac0bef
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 10:19:05 2010 +0200

    s3-srvsvc: Use struct pipes_struct.

commit 64fbaad942d12b343badaf8e45115a5b5ce5ea0f
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 10:18:08 2010 +0200

    s3-spoolss: Use struct pipes_struct.

commit c3817fe9d220a3cee3d651db2808212de2b7f2cb
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 10:17:21 2010 +0200

    s3-samr: Use struct pipes_struct.

commit 667d43d4c8916043e6474418a57aaa0d03aee078
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 10:16:34 2010 +0200

    s3-rpc_pipe: Use struct pipes_struct.

commit 33d30926d1a9c2f077bdbc186c34ee01d9d2e74b
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 10:15:45 2010 +0200

    s3-ntsvcs: Use struct pipes_struct.

commit 3fd138fae33529fbba2da4853c10f026a6b11fb4
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 09:49:07 2010 +0200

    s3-netlogon: Use struct pipes_struct.

commit 872f9655587a0bb314172797c799cd5d2a0b4e8f
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 09:48:42 2010 +0200

    s3-lsa: Use struct pipes_struct.

commit 35d629d54ce30a4dbf6a53f4616ed77dd0033a1b
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 09:48:25 2010 +0200

    s3-initshutdown: Use struct pipes_struct.

commit ba023aeaa95161029a0bec7dd79116a0c9db22f7
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 09:48:08 2010 +0200

    s3-eventlog: Use struct pipes_struct.

commit c9e37375361714dce009c5305e185e73a483a7eb
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 09:47:40 2010 +0200

    s3-echo: Use struct pipes_struct.

commit 96786a7df036d095649de300be4f37f8bcb70a6c
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 09:47:25 2010 +0200

    s3-dssetup: Use struct pipes_struct.

commit 2956bc986f319f29bce3262ae52dd990d938146c
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 09:47:04 2010 +0200

    s3-dfs: Use struct pipes_struct.

commit 46397f788bf283f7eb0f26e6eeb6a2926d2769bc
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 09:46:43 2010 +0200

    s3-rpc_server: Use struct pipes_struct.

commit c1e81686af605bf0dafb45c316bfca3cd1a2cf9a
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 28 09:23:25 2010 +0200

    pidl: Use struct pipes_struct.

commit dc87fbcb0f9a6ce1d722c62dafee540e75ba310e
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 30 13:18:21 2010 +0200

    s3-lib: Remove redefinition of RL_COMPLETION_CAST.
    
    This is already defined in replace/system/readline.h.

commit a20ee817b269f575e1c38a7d48d7d0a81ef108b4
Author: Karolin Seeger <kseeger@samba.org>
Date:   Wed Jul 28 09:27:43 2010 +0200

    WHATSNEW: Update changes.
    
    Thanks to Simo for providing the summary!
    
    Karolin

commit dace013898a450b50606740704c83ba25855e332
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Jul 27 10:59:55 2010 +0200

    s3: Remove a typedef (struct file_info)

commit 9168713774c02ba2f71d89379cc239a900ebeafe
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jul 27 12:27:54 2010 +0200

    s3-spoolss: Fixed FILL_DRIVER_STRING leading to wrong results.

commit 90c17828824401c7be065a7bbf706dcafef0fc31
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 26 18:28:15 2010 -0400

    s3-spoolss: Avoid segfault, check drivername is actually not NULL.

commit 6cd2f2ff31768a40ca60112964b35bf040b2e6d8
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 26 19:14:03 2010 +0200

    s3-spoolss: Fixed a possible segfault in winreg_get_printer.

commit bb0226f10ef86296af273ea0e9692b72d0ead4c2
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jul 26 18:12:13 2010 +0200

    s3-spoolss: Correctly set the default values.

commit b95d5563ddff7aec15f4138be731578785dca7ec
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jun 15 13:37:44 2010 +0200

    s3-printing: Added automatic migration of printing tdbs.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 924cc43d1b8f8358f7c7aaef16b06437e39cd05b
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 30 10:40:24 2010 +0200

    s3-spoolss: Move the standard mappings to spoolss.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit c3186f22c5d501cc6afed7556579906d27763251
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 30 10:39:43 2010 +0200

    s3-lib: Make the standard_mapping parameter const.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 1be454538b2e4d242be90e43fab9eb09f0b07a57
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 30 10:25:08 2010 +0200

    s3-spoolss: Remove the program global current_user_info.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit d8c81423aa52f1810cafeefa186f7dd0590cb0de
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jun 29 15:05:00 2010 +0200

    s3-spoolss: Remove unused MAGIC_DISPLAY_FREQUENCY
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 8fe6813ca0e6ccbe4fed91425f82443f5cb166a4
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 28 09:57:41 2010 +0200

    s4-torture: Enable tests with keynames including a slash.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit db2a777b0ee1e75fb6d11ad1240d7214a4e1dac4
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jun 15 13:37:44 2010 +0200

    s3-printing: Added automatic migration of printing tdbs.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 35e03ef5c22020e047bd05e61be6c46701a07702
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jun 15 11:48:12 2010 +0200

    s3-printing: Move all tdb upgrade functions to a separate file.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit c18913a2c216d9dd092f4efb3dfbad376fc29bb6
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 7 05:03:32 2010 -0400

    s3-smbd: Convert reply_printqueue to use spoolss.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 3f68a39458dddf7cfc67ce78248f3f1bdad18ba6
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jun 1 17:09:21 2010 +0200

    Revert "s4-smbtorture: skip driverName and printerName DsSpooler tests for now."
    
    This reverts commit 23eb2888d94b34822e4c49b1d62f4bd3fac43fcf.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 96c25cdad5e82a1aed77692796617532f663aca1
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jun 8 13:03:22 2010 +0200

    s3-spoolss: Create winprint print processor key.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit f5a2f8fa2b66d23eb2e99443f6d6bb85b6199b63
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 7 10:37:48 2010 -0400

    s3-printing: Removed unused function print_job_fd().
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 21cd59e7a5b319a8800c904d21f0d1e885acc7fb
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 7 07:35:23 2010 -0400

    s3-smbd: Use the right check to test if we can print.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit bdab6b10d25f536fe25c09b3821376e278395abc
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 7 08:01:13 2010 -0400

    s3-printing: Moved printing.c headers to include/printing.h.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 628f9bee05b96b806225f3494c05c3a86acb1a1f
Author: Simo Sorce <ssorce@redhat.com>
Date:   Wed May 5 08:56:46 2010 -0400

    s3-spoolss: Use WERROR for print_job_delete.
    
    And also check for PJOB_SMBD_SPOOLING in print_job_write.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 95f587a565543678da3beeff46167001b92bea79
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 7 07:45:25 2010 -0400

    s3-printing: Removed unused printfsp.c.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 849cc65654d20e7077621ead2429a82fcac35197
Author: Simo Sorce <ssorce@redhat.com>
Date:   Tue May 4 04:28:48 2010 -0400

    s3-smbd: Migrated to new spoolss functions for printing.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 660506d359d76700f6f6ae5b7e9c4d05fe505fb6
Author: Simo Sorce <ssorce@redhat.com>
Date:   Tue May 4 02:51:12 2010 -0400

    s3-printing: Handled case when smbd spools a file on behalf of spoolss.

commit 94ee35f9cc0880c267bee14047d559948eb14ede
Author: Simo Sorce <idra@samba.org>
Date:   Sat May 1 17:42:52 2010 -0400

    s3-printing: Made print_job_start more robust.
    
    Explicitly return ntstatus errors instead of relying on elusive errno.
    Split the function to make it easier to follow.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 4761498c9e40d8b00060d2949bfcff32c6cf7f99
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 11 11:14:55 2010 +0200

    s3-printing: Moved remaining prototypes to nt_printing.h.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 7c629bda2f86271b709292dbc5a9e811e438a902
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 11 11:07:36 2010 +0200

    s3-printing: Remove unused printer registry key functions.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit ae405eed4fa1857e90f240671c539088be51d562
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 11 11:02:59 2010 +0200

    s3-printing: Removed unused security descriptor functions.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit e2d3c0efa9a972d76279c3f834784525de1439b0
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 11 10:55:20 2010 +0200

    s3-printing: Removed unused nt_forms.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit c918cfdedec5730b0851fd8132986f26b40a3cdc
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 11 10:52:11 2010 +0200

    s3-printing: Removed unsuded c_setprinter functions.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit d8ab3e52dc717cbfd82b02c00426e98001acc764
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 11 10:49:46 2010 +0200

    s3-printing: Removed unused free_a_printer function.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 5c1f28374712c1e23d794670a9cd91052e99f34e
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 11 10:49:03 2010 +0200

    s3-printing: Removed unused mod_a_printer functions.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 4e45d5f8244fae0e26a6d0592a092f2a9c791666
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 11 10:46:10 2010 +0200

    s3-printing: Removed unused get_a_printer functions.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 38d6274864ebb4d31333946379496d67745cd3c5
Author: Simo Sorce <idra@samba.org>
Date:   Wed Apr 28 18:55:20 2010 -0400

    s3-smbd: Added code to print via spoolss.

commit 8d44b11c6bf90f4698e472b46d4f47a136b960ba
Author: Andreas Schneider <asn@samba.org>
Date:   Mon May 10 16:46:34 2010 +0200

    s3-spoolss: Removed wrong comment.
    
    This doesn't reflect the current implementation.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit f6db3694edc947ca46d52f3627844127525b262c
Author: Andreas Schneider <asn@samba.org>
Date:   Mon May 10 16:41:10 2010 +0200

    s3-spoolss: Moved shared printing functions to nt_printing.h
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 395dcbd111fd531324eb3e77940756e448a22024
Author: Andreas Schneider <asn@samba.org>
Date:   Mon May 10 16:44:47 2010 +0200

    s3-spoolss: Removed the last free_a_printer() call in spoolss_nt.c.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit c26bfd228de962b70ba744fd9dc9ca62ecca1470
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 7 09:42:55 2010 -0400

    s3-spoolss: Removed unused set_printer_dataex().
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 6d6ce4d1adbcb59231ec81fdc757d14f51a18534
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Apr 30 10:35:08 2010 +0200

    s3-spoolss: Create and update DsSpooler values.

commit 3fe2f6443d3ad623360701fcb09ed8913da6baa3
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Apr 30 10:14:09 2010 +0200

    s3-spoolss: Use a temporary talloc context in update_printer.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit c52e019ae10ba01f97851c0d4578a64209633a41
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Apr 29 14:07:10 2010 +0200

    s3-spoolss: Use the existing memory context for winreg_get_printer.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit c7ae6cb0464ed505fc0d44bb5095bb897c11d458
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Apr 28 22:46:22 2010 +0200

    s3-spoolss: Don't return the printer devicemode in spoolss_EnumJobs.
    
    Jobs have their own DeviceMode, see print_job_devmode().
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 48828ab154160489586fd07e442739db35103fca
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Apr 28 12:41:23 2010 +0200

    s3-spoolss: Fixed the driver unc strings for dependent files.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit a1fe2ed68aef71083dc6a9938440e32e5a0cf63c
Author: Simo Sorce <idra@samba.org>
Date:   Mon Apr 26 18:50:44 2010 -0400

    s3-spoolss: Use winreg_delete_printer_key to delete printers.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit fdf669d37744487a7671b1d90541dbc21a41aeb6
Author: Simo Sorce <idra@samba.org>
Date:   Mon Apr 26 18:33:20 2010 -0400

    s3-spoolss: Get rid of get_server_name.
    
    This function was useless the structure is public and used everywhere.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 44bc6714b0c5f40eb73def532b3074a4b19f6df4
Author: Simo Sorce <idra@samba.org>
Date:   Mon Apr 26 17:34:24 2010 -0400

    s3-printing: Converted printer publishing functions.
    
    Use spoolss_PrintInfo2 and winreg calls.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit d17d73f4be6938b942f1eed875c6dd629d8bec88
Author: Simo Sorce <idra@samba.org>
Date:   Mon Apr 26 14:46:33 2010 -0400

    s3-printing: Convert print_driver_in_use.
    
    Use spoolss_PrintInfo2 and winreg calls.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 017a305fede73b3f61517f38dec2bf706e2648df
Author: Simo Sorce <idra@samba.org>
Date:   Mon Apr 26 13:51:33 2010 -0400

    s3-printing: Convert print_time_access_check.
    
    use spoolss_PrintInfo2 and winreg calls
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit afc4a387628e00376a118fbd9aeeec0694201e6f
Author: Simo Sorce <idra@samba.org>
Date:   Mon Apr 26 13:08:32 2010 -0400

    s3-spoolss: Use spoolss_PrinterInfo2 in notify code.

commit 78b985ac3e38bbbb42545a722096bf53ee2821eb
Author: Simo Sorce <idra@samba.org>
Date:   Mon Apr 26 11:56:00 2010 -0400

    s3-spoolss: Convert do_drv_upgrade_printer() to winreg functions.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 375bdfc7f89d8941c006bc2afb058176d81027e3
Author: Simo Sorce <idra@samba.org>
Date:   Mon Apr 26 10:24:46 2010 -0400

    s3-spoolss: Removed construct_dev_mode() function.
    
    Replace it with spoolss_create_default_devmode() or
    copy_devicemode() where needed.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 0d694e1261975bdc565b673e38001c67f9ca239a
Author: Simo Sorce <idra@samba.org>
Date:   Mon Apr 26 09:30:10 2010 -0400

    s3-spoolss: Use spoolss_PrinterInfo2 in construct_printer_driver_info_level.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 7f6f5806ff4bd97b22b77e011f22402f5583acb5
Author: Simo Sorce <idra@samba.org>
Date:   Fri Apr 23 17:58:10 2010 -0400

    s3-spoolss: Use spoolss_PrinterInfo2 for job info.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 52b8f1f4710f1e3482031a76fd2191388289967f
Author: Simo Sorce <idra@samba.org>
Date:   Wed Apr 14 20:48:00 2010 -0400

    s3-spoolss: Migrated driver functions to winreg.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit e517588a2073986ccd0edd76f9e3c865146bf1f4
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Apr 26 11:52:19 2010 +0200

    s3-spoolss: Set c_setprinter always to 0.
    
    This value is only used for the well known printers list which Samba
    doesn't implement.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 90e96d3ee20caf4aa58ea87a3afc5013f31d0ae4
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Apr 22 23:52:33 2010 +0200

    s3-spoolss: Migrated spoolss_DeletePrinter to cleanup winreg keys.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit be6dc65b9e1b96872a10d3622b345d6be35872ef
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Apr 26 11:53:25 2010 +0200

    s3-spoolss: Migrated spoolss_GetPrinter and spoolss_EnumPrinters to winreg_update_printer.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit a2c51a88cca77accdcd6660bdbdeccad63b8ee6a
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Apr 22 10:59:27 2010 +0200

    s3-spoolss: Migrated spoolss_OpenPrinter to create defaults with winreg_create_printer.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 653364f5a38fb6ec7c6ede38b62b2b15200b9f77
Author: Andreas Schneider <asn@samba.org>
Date:   Fri May 7 10:38:54 2010 +0200

    s3-spoolss: Removed unused function printer_info2_to_nt_printer_info2().
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 665eba334e96ee120f036e693c2a36167deaede2
Author: Andreas Schneider <asn@samba.org>
Date:   Fri May 7 10:38:17 2010 +0200

    s3-spoolss: Removed unused function convert_printer_info().
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit e2c9ad93cb914186b89e2055f1bed3cceee1f768
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Apr 16 11:35:05 2010 +0200

    s3-spoolss: Migrated spoolss_AddPrinter and spoolss_SetPrinter.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 2a5dba555520bf99a9545e1c7296075baf92cbea
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Apr 15 15:20:42 2010 +0200

    s3-spoolss: Migrated spoolss_Forms to use the winreg changeid function.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 67bdaa561608eca2f8ae500c6c6590630aa79094
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Apr 1 12:46:22 2010 +0200

    s3-spoolss: Migrated spoolss_GetForm to the winreg function.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit a879bba0acc8682949a2ca38e23f354baa6f96d1
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Apr 1 11:53:01 2010 +0200

    s3-spoolss: Migrated spoolss_SetForm to the winreg function.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 76f72fe5157cb6dd37f1beaa0ff6473bd67c6b0f
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Mar 31 15:31:53 2010 +0200

    s3-spoolss: Migrated spoolss_DeleteForm to the winreg function.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit fad361aa8a050e99ac64c3aae6ee292d2a538c80
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Mar 31 14:48:27 2010 +0200

    s3-spoolss: Migrated spoolss_AddForm to the winreg function.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 2ae1796b090b793397f4082a996b8e430172d365
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Mar 31 13:04:30 2010 +0200

    s3-spoolss: Migrated spoolss_EnumForms to the winreg function.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 142431d09774da4004ed7fae7f0891f7ba62f8f9
Author: Andreas Schneider <asn@redhat.com>
Date:   Fri Mar 26 13:22:57 2010 +0100

    s3-spoolss: Migrated spoolss_DeletePrinterKey to the winreg functions.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit fb5529f6230526701df5506836f93ca9b03e43e8
Author: Andreas Schneider <asn@redhat.com>
Date:   Mon Mar 15 12:30:32 2010 +0100

    s3-spoolss: Migrated spoolss_DeletePrinterDataEx to the winreg functions.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit e210230587bc129e7136b436242d7b9ae781d13d
Author: Andreas Schneider <asn@redhat.com>
Date:   Wed Mar 17 16:38:52 2010 +0100

    s3-spoolss: Migrated spoolss_EnumPrinterKey to the winreg functions.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit df35b343dbb10ef5b248265e0b23ea0711ecce46
Author: Andreas Schneider <asn@redhat.com>
Date:   Mon Mar 15 14:01:01 2010 +0100

    s3-spoolss: Migrated spoolss_EnumPrinterDataEx to the winreg functions.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 795618a59284e5ce44ec6de60eccdfafecfbbc99
Author: Andreas Schneider <asn@redhat.com>
Date:   Mon Mar 15 12:28:09 2010 +0100

    s3-spoolss: Migrated spoolss_GetPrinterDataEx to the winreg functions.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 3d7e99e2c3247f1d6303196485f86d2ab05ec8c8
Author: Andreas Schneider <asn@redhat.com>
Date:   Mon Mar 15 12:20:31 2010 +0100

    s3-spoolss: Migrated spoolss_SetPrinterDataEx to the winreg functions.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 71be0ec140c6e5cd3315fd20f6c8795fa0aaca63
Author: Andreas Schneider <asn@samba.org>
Date:   Wed May 26 11:27:28 2010 +0200

    s3-registry: Redirect KEY_CONTROL_PRINTERS to KEY_WINNT_PRINTERS.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 65eb38bc00a723052d8ac371cb2cf7fd68e0954b
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Apr 8 11:26:40 2010 +0200

    s3-registry: Init all needed registry keys for printing.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 5604a78f0919f77fdf041989e3e2e0f61da80fd9
Author: Simo Sorce <idra@samba.org>
Date:   Thu Apr 22 16:53:15 2010 -0400

    s3-spoolss: Migrated NT_DEVICEMODE to spoolss_DeviceMode.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 104c419345a42a9a02ae25df482f449dc41a6380
Author: Andreas Schneider <asn@redhat.com>
Date:   Fri Mar 26 14:40:05 2010 +0100

    s4-torture: Disable setting REG_BINARY printer data with size 0.
    
    Signed-off-by: Jim McDonough <jmcd@samba.org>

commit 6446c75f70fcb80c9d66fd7d6d9cfdd01157c385
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Jul 27 02:36:57 2010 -0700

    Fix several places where talloc_asprintf returns were unchecked.
    
    Jeremy.

commit 1890a2a1725848b622f1cd7b904b3c41fd318568
Author: Karolin Seeger <kseeger@samba.org>
Date:   Tue Jul 27 09:48:05 2010 +0200

    WHATSNEW: Update changes.
    
    Thanks to Jeremy for providing this summary!
    
    Karolin

commit cc43f985d15c128486d945c2c4f1576622ab4374
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Jul 27 00:23:37 2010 -0700

    Second part of fix for bug 7578 - 'net idmap restore' fails to set HWM, causing duplicates.
    
    Jeremy.

commit cf38e8d8222aa1000bcf1022692011a993984df4
Author: Karolin Seeger <kseeger@samba.org>
Date:   Tue Jul 27 09:02:36 2010 +0200

    WHATSNEW: Update changes.
    
    Thanks to Holger for providing!
    
    Karolin

commit 4f01159a3165d7ae3a845956b46b23b03d8f6ef9
Author: Justin Maggard <jmaggard10@gmail.com>
Date:   Tue Jul 27 08:42:04 2010 +0200

    s3: Fix bug 7578
    
    Uninitialized variable read in _wbint_SetHWM

commit 75db0f0a63f671912e52edd6f15dc3bb5f929d56
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Jul 23 20:08:58 2010 +0200

    s3: Early start of an async nbench
    
    The current nbench implementations have the problem that they fork a child
    per simulated client. With hundreds or thousands of clients this can put
    quite some load on the client. This test (when finished) will read the
    standard dbench client.txt and run completely async from within one
    process.
    
    Volker

commit 2ad4b4f63ef6e8fa8f875135a4fa5764ef57c6ac
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 26 10:35:15 2010 +0200

    s3: Convert cli_qpathinfo_streams to cli_qpathinfo_send

commit 27fb920ee8caade141cf0fd39e75afac7f4b5d0b
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 26 10:08:38 2010 +0200

    s3: Factor out parse_streams_blob

commit 7c242cab9533ec240756fe1f18e99aef7d4086c2
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 26 09:41:25 2010 +0200

    s3: Convert cli_qpathinfo_basic to cli_qpathinfo_send

commit f62bde93ce911445c0f3cb952d17d271a6536385
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 26 09:27:11 2010 +0200

    s3: Convert cli_qpathinfo2 to cli_qpathinfo_send

commit 9a2d08bd3c10b8632c1497cfac3f91bcccbed8a7
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 26 09:21:17 2010 +0200

    s3: Use error status instead of cli_errstr

commit 5030ba5e9473b4d169f69afdcf2de20ce14f82f9
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 26 22:57:47 2010 +0200

    s3: Callers of cli_qpathinfo_recv might ignore the output

commit b6c4eb3c5204a5d43af10ba349fedc5f40796607
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Jul 23 12:22:23 2010 +0200

    s3: Log the correct core path on Linux if core_pattern is set
    
    Contributions from Bill Hymas, IBM

commit 2ef87d8ec00f70aa8714c739525c487e44142853
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 26 15:04:52 2010 +0200

    s3: fix a typo

commit 63d86757b463b89be98f9714deedbfb8c3c77b84
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 26 09:11:40 2010 +0200

    s3: cli_qpathinfo2 expects at least 68 bytes

commit 0ba4404f21c76f139ca6ea287385dc2eb4817c4e
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 26 08:34:35 2010 +0200

    s3: Convert cli_qpathinfo1 to cli_qpathinfo

commit 9851e1989aa87dbd121fb16062d5ec2e969f1b81
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 26 07:49:58 2010 +0200

    s3: Fix a structure mess-up
    
    I wonder why the compiler did not complain -- maybe because
    the structs have the same data members? No clue.

commit cc8977b15723667eae995c120c6086f3b97f051d
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 26 07:47:39 2010 +0200

    s3: Remove some unused struct members

commit 059ad34e0f61459fb5d9e0a845d3ac0d8df1b49d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Jul 26 11:15:14 2010 +1000

    lib: added samba-util.pc creation
    
    Thanks to Brad Hards for this patch

commit 334d5bfe30188a42af758db3f6a3551dd074900a
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 25 21:32:13 2010 +0200

    s3: Convert cli_get_ea_list_path to cli_qpathinfo_send

commit 5380f67730154d872ad21a3d9908cfc2bb91edbd
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 25 19:42:22 2010 +0200

    s3: Factor out parse_ea_blob

commit d5e285abae34339f6eabc54a17049dcc5b56a6b0
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 25 17:49:20 2010 +0200

    s3: Convert cli_posix_stat to cli_qpathinfo_send

commit 786e4cd0980f0562b28ac74612a72faa4e2050cc
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 25 17:46:01 2010 +0200

    s3: Convert cli_posix_getfacl to cli_qpathinfo_send

commit cb9baa7c2c6edafd835bc6e36a385b0d00f5277e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 25 17:37:16 2010 +0200

    s3: Convert cli_posix_readlink to cli_qpathinfo_send

commit 535774d88068052accedb21b626fd97a79502c0e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 25 17:26:43 2010 +0200

    s3: Add async cli_qpathinfo

commit ce3dfd777f8f2da4cb08f6c91a465e647b84a8f1
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 25 13:19:34 2010 +0200

    s3: cli_qpathinfo->cli_qpathinfo1

commit b04eba165e45bafbe813f93b9e133dc489d2fe2e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 25 19:12:28 2010 +0200

    s3: Fix cli_posix_stat
    
    nlink seems to be defined as 8 bytes, not 4
    
    Jeremy, please check!

commit 1528a4ffbe40fe63329e67370f13c0ef6b117b81
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 25 19:11:30 2010 +0200

    s3: use dump_data in query FILE_BASIC_UNIX_INFO
    
    Jeremy, please check! To me this is a lot more readable than the decimal
    listing of the bytes.

commit 032bf5c62948387a43501509d046b21f7a6f9d85
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jul 24 13:17:15 2010 +0200

    s3: Fix a typo (missing space)

commit 5912206606babc178aa1e3c1a3be853eba808323
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Jul 23 10:54:46 2010 -0700

    Fix bug 7583 - Smbclient fails to kerberos connect to a Alfresco JLAN CIFS Server
    
    Correctly calculate the gssapi channel binding checkum.
    
    Jeremy
    
    Signed off by: simo <idra@samba.org>

commit c75106fd3ab3715af190dbbdeda9809a019edaac
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Jul 20 19:48:39 2010 +0200

    s3: not use as-needed by default and auto use if enable-developer is active
    
    as discussed on samba-technical, we don't want people out there to use it
    unwittingly by default. However by enabling it when enable-developer is used we
    make sure that we don't break the feature.

commit 61cfbf342fb508477bd45ed8378af7ba6f147727
Author: Simo Sorce <idra@samba.org>
Date:   Sat Jul 17 16:34:33 2010 -0400

    s3-rpc_server: Cleanup the way we free pipe auth data

commit 636de433ac9cb658c35b8fc45933d8dcb98a991e
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 19 15:43:22 2010 -0400

    cleaup: Reformat cli_get_session_key()
    
    merge cli_get_session_key

commit 3b502d899d8924d285e72f8a9fe666865d6f6926
Author: Simo Sorce <idra@samba.org>
Date:   Sat Jul 17 16:01:07 2010 -0400

    s3-dcerpc: Fix potential memleak
    
    Use a free function for schannel data too for now.

commit a3713d746949788c393ecf2b0d10d105c2220b22
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 20 13:56:25 2010 -0400

    s3-dcerpc: Properly initialize output buffers on nak/fault

commit 26f1218a3678e648c73db3b34732703396ad48b2
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 20 20:00:12 2010 -0400

    s3-libsmb: Use data_blob_talloc to get krb5 ticket and session keys

commit 8137f2d7e7e69db66a5191c1a80e0bda52506528
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 20 19:45:00 2010 -0400

    misc: cleanup get_krb5_smb_session_key()

commit e8460b4ebc82659d2cf1ea1588c708fa7069be5c
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 20 19:41:19 2010 -0400

    misc: cleanup cli_krb5_get_ticket()

commit 5002b3a90d6002ce51ad1d8a038ea4c7be98ab43
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Jul 20 16:17:58 2010 -0700

    Add approriate TALLOC_CTX's thoughout the spnego code. No more implicit NULL contexts.
    
    Jeremy.

commit 8df0f0e49e1a91fa10edd65582aa43020e6bc101
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Jul 20 15:12:07 2010 -0700

    Fix warning on 64-bit machines.
    
    Jeremy.

commit cce19c51625e2d73a541bbdfcc549f5a63c26abe
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Jul 20 14:59:31 2010 -0700

    Fix one more data_blob -> data_blob_talloc. Move away from implicit NULL context tallocs.
    
    Jeremy.

commit 4ed9437b7e24365b9acd179b6553793db95a4c54
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Jul 20 13:35:43 2010 -0700

    Add TALLOC_CTX argument to spnego_parse_negTokenInit, reduce
    use of malloc, and data_blob().
    
    Jeremy.

commit dc443ee6e9e97c08bcceaa1cbc155635e73e8118
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Jul 20 21:54:45 2010 +0200

    s3: Fix two uninitialized variables

commit 7d17bfcf51880c84a2f2173c941f2955d045f5c5
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Jul 20 11:14:49 2010 -0700

    Rename spnego_gen_negTokenTarg() -> spnego_gen_krb5_negTokenInit()
    as this correctly describes what this function does.
    
    Jeremy.

commit 8a882b645c7913a12776065d239cd97d0628108c
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Jul 20 11:04:19 2010 -0700

    Remove gen_negTokenTarg(), as it's not actually creating a TokenTarg frame, but a TokenInit one.
    Move to using spnego_gen_negTokenInit() instead.
    
    Jeremy

commit 668744964db9210d7b106dcaa27ea1152bd635cd
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Jul 20 09:51:48 2010 -0700

    Fixes pointed out by <david.kondrad@legrand.us>. Free memory if not being
    returned to caller. Remove unneeded asn1_tag_remaining() calls.
    
    Jeremy.

commit f5def289d3d66e41c0a7ace3145107123e4ea54f
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Jul 20 09:34:32 2010 -0700

    Fix warning - no return value for a non-void fn.
    
    Jeremy.

commit c58aeaaf311d4b1ec50cd9a606969c5643dd1380
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Jul 20 18:03:13 2010 +0200

    s3: also run the test prog from the explicit external lib bug check
    
    on Linux linking already stops with a broken ld, on FreeBSD8 linking works but
    the binary is broken, so we must check both.
    
    this should be the final fix for bug #7561

commit b20e5eb3aab2d0c3b028e769dd126387699a8f7d
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 19 18:57:12 2010 -0400

    dcerpc: Clarify what the arguments of dcerpc_pull_auth_trailer() actually represent.

commit 2a8399f7ce676e7e4fa70e8f8f04ba2876350695
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Jul 20 13:39:59 2010 +0200

    s3: check for explicit external lib bug in ld's as-needed code
    
    Second part of fix for bug #7561
    
    Based on test provided by Olaf Flebbe.

commit 09944302a195a3571dde29e3f77134a7542e1077
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Jul 20 13:35:03 2010 +0200

    s3: add configure swtich to manually disable as-needed
    
    first part fix for bug #7561
    
    based on earlier patch from metze

commit fa4dec31cf3bc37ff86fde722b1fa85d1ab1f0c6
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Jul 20 11:13:51 2010 +0200

    Revert "s3: Don't use as-needed"
    
    This reverts commit b9835a1f9d8b81e4121a01a190dffaefe67cbe5c.

commit 4581902553b511a5ad4bae3249df9326b4cf95ec
Author: Simo Sorce <idra@samba.org>
Date:   Sat Jul 17 16:58:50 2010 -0400

    s3-dcerpc: Unifiy cli_pipe_auth_data and pipe_auth_data
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit a91727fc7974aeb314bfb6378f078e6727b20344
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 19 13:39:01 2010 -0400

    s3-auth: Add auth_ntlmssp wrapper for client side
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit e958b39042b67acaf2dc90a1f3d9bea51d7cebd8
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 19 13:36:33 2010 -0400

    s3-auth: Move auth_ntlmssp wrappers in their own file
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit a04bbd281c5b94166e23026ea06e98939250028c
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 16 18:33:38 2010 -0400

    s3-auth: Refactor and rename auth_ntlmssp_server_info()
    
    Rename it to auth_ntlmssp_steal_server_info() to make it clear that
    the server_info struct is stolen from the auth_ntlmssp_state structure.
    Use talloc_move instead of manual steal&clear
    Add comments to explain what is going on.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 0bb8d133c9a39873828dbe977513edd31e1a7045
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Jul 19 17:14:26 2010 -0700

    Remove gen_negTokenInit() - change all callers to spnego_gen_negTokenInit().
    We now have one function to do this in all calling code. More rationalization
    to follow.
    
    Jeremy.

commit 8cba4a0c9639c48ec2433a98529bd8352e9d06c9
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Jul 19 16:45:16 2010 -0700

    Move the addition of the 16 byte guid out of spnego_gen_negTokenInit() and
    into negprot_spnego() where it belongs (it's not an SPNEGO operation).
    Add a TALLOC_CTX for callers of negprot_spnego(). Closer to unifying all
    the gen_negTokenXXX calls.
    
    Jeremy.

commit 625a51138916473eacc1447b11ffd93db0832077
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Jul 19 15:41:45 2010 -0700

    Remove parse_negTokenTarg(), as it's actually incorrect. We're processing
    negTokenInit's here. Use common code in spnego_parse_negTokenInit().
    
    Jeremy.

commit 962951e63d0bd3588085314b3bd94bac35415347
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Jul 19 14:21:01 2010 -0700

    Fix [Bug 7577] SPNEGO auth fails when contacting Win7 system using Microsoft Live Sign-in Assistant
    Based on code from <david.kondrad@legrand.us>. Cope with every NegTokenInit ::= SEQUENCE value.
    Jeremy.

commit 6763730304627a58139450fd3e03a0ce48e31bb9
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 19 16:15:01 2010 +0200

    s3: Avoid pwrite calls for the 1-byte writes with zero content
    
    When a write cache is empty and we write one 0, there is no point in actually
    writing into the write cache, which would trigger a potentially superfluous
    write cache flush. We can rely on posix semantics to give us 0's when
    subsequent read calls want to read from file areas not written yet.
    
    Jeremy, please check!

commit 944494d350fa0e42aa8a87849fa7168731f3b0a6
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 19 13:53:34 2010 -0400

    s3-auth: Remove unused variable.
    
    It was a spurious remnant after a rebase.

commit f9f3358348229b14d368316e327cfd2a4cb48c7c
Merge: 7e4de49... 630a2eb...
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 19 13:48:31 2010 -0400

    Merge branch 'master' of ssh://git.samba.org/data/git/samba

commit 630a2eb68af0d523a1bb4451bbaa75d2ba47d252
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Jul 19 14:26:20 2010 +1000

    waf: make the error msg when gen_ndr directory is missing clearer
    
    the next time someone removes gen_ndr/README the fix should be more
    obvious.

commit a709e423d2940a7c71099ff11383a5f0ef3b1d7e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Jul 19 14:20:33 2010 +1000

    waf-idl: put the gen_ndr/README file for source3 back
    
    This was removed by 100d37fc4624690423f6a932709b3f9046d05c64, probably
    accidentially.

commit 5cefbfef26bf2d5f470f1d8c52d75e9756c0f738
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Jul 16 14:52:42 2010 +0200

    s3-rpc_server: Added callbacks for init and shutdown of a rpc service.
    
    This adds two callback function for each rpc service. One is for
    initialisation and the other for shutdown. rpc_<service>_unregister()
    needs to be called to execute the shutdown function.

commit b91e5cf17d09e4e8bf73e78b96f69831a7cb0d0b
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jul 15 12:47:19 2010 +0200

    s3-rpc_server: Don't register the same rpc commands twice.

commit b742c4952e1df7a898a73330e9c01a8f48a557b4
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 19 12:47:09 2010 +0200

    s3-docs: Add more verbose description of "log writeable files on exit".

commit 775f1ed045666f30e2b45512b30ed8e9a0df322a
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 19 12:35:58 2010 +0200

    s3-docs: Add more verbose description of "ctdb locktime warn threshold".

commit 4c0f760edfa9ccdfe0340af46c27e388457ae9af
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 19 12:22:05 2010 +0200

    s3-docs: Add more verbose description of "username map cache time".

commit a785b4349c9041c81e0fb17060e0c0c4ece99439
Author: Karolin Seeger <kseeger@samba.org>
Date:   Mon Jul 19 11:54:05 2010 +0200

    s3-docs: Remove older documentation of smb2 parameters.
    
    Jeremy, these parameters were already documented. My fault.
    Sorry for the noise!
    
    Karolin

commit 35b1e00ba330d5f90f121f2af384ff416dd4a62b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 14:19:07 2010 +0300

    s4: Remove trailing whitespaces
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 11a44ce6f885de1c1f78c791cbe85a915934ae8a
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 14:18:49 2010 +0300

    ldb: Mark _DEPRECATED_ ldb_msg_diff() and ldb_msg_canonicalize() functions
    
    They are not quite safe to use (requires caller to steal
    resulting message in own context) and may lead to holding
    memory for too long.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 31aeb841c9823574cb6f13986f4da34d00bb40a1
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 14:18:14 2010 +0300

    s4-dsdb: use ldb_msg_normalize() in ldb_msg_difference()
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 1e20dbd8127bcecda8e4a656d326b391cc5c8e8d
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 14:16:38 2010 +0300

    s4-test: Use ldb_msg_normalize() in sqlite3 backend
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 91d9f88d28e58157ca63caeb76ff779321d7bb53
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 14:13:20 2010 +0300

    s4-test: Use ldb_msg_normalize() in torture/rpc/dssync.c test
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit d71b20e8dc9d8e8366ffb5147c84586f5d71416e
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 14:03:53 2010 +0300

    s4-dsdb: use ldb_msg_normalize() in ldbadd-process_file()
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 2ad701911e2bd5d4cdc5d5db64449f3cc01df3cd
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 14:01:49 2010 +0300

    s4-dsdb: use ldb_msg_normalize() in source4/lib/ldb/common/ldb.c
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 86cc914717a915808479126a14baa915450b24f6
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 13:59:40 2010 +0300

    s4-dsdb: use ldb_msg_normalize() in source4/dsdb/schema/schema_set.c
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit e5a9469a88e039b558e13273ae637f874bbb42b3
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 13:55:42 2010 +0300

    s4-ldb: Add ldb_msg_normalize() to accept a memory context from client
    
    Previos implementation from ldb_msg_canonicalize()
    was moved into this function and now ldb_msg_canonicalize()
    is based on ldb_msg_normalize()
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 48574ccc3f46a58940a06b524ff3be3c6da6b104
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 13:47:41 2010 +0300

    s4-ldb: Use _ldb_msg_add_el() in ldb_msg_add()
    
    Previous implementation was 'leaking' attribute name
    string, that is allocated by ldb_msg_add_empty()
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 3944c81d08177e7fa360b1925648686c729e2773
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 13:46:05 2010 +0300

    s4-ldb: Use _ldb_msg_add_el() in ldb_msg_add_empty()
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 8d523d46f5dfcbf5a428fd75b908fe5bd738e62c
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 13:44:13 2010 +0300

    s4-ldb: Add separate function to add empty element into ldb_msg
    
    It just adds another element, nothing more.
    Caller is responsible to fill-in the added element and
    determine how to handle data allocation contexts.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit a95fd4ef647ed6d4c81ab862e08e7c42ee2fe0d6
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 13:41:57 2010 +0300

    s4-ldb: Write more explanatory comment for ldb_msg_add()
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 8deae13313b87c0d7efa64e9334c06987ed90ac6
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 13:40:50 2010 +0300

    s4-pyldb: Use ldb_msg_difference() in py_ldb_msg_diff()
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 148b8588bc7864f4771c8dcf21cfdc150b22e701
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 13:38:09 2010 +0300

    s4-test: Use ldb_msg_difference() in torture/rpc/dssync.c test
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit fa0db46af16080dd3a540072f7ad664c0b9270ca
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 13:35:07 2010 +0300

    s4-tools: use ldb_msg_difference() in ldbedit - modify_record()
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit fb1c0796c7c533f468b74d55507e9877b93ead72
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 14:27:30 2010 +0300

    s4-dsdb/schema/schema_set.c: fix trailing spaces and comments spelling
    
    Few comments split on several lines also...
    
    (Sorry Metze, I know you hate reviewing "and this, and that"
    type of patches, but those are just cosmetics)
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit a11d3b4dfbdddb16d3f132ea8fe0175cb7d09444
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 13:26:45 2010 +0300

    s4-dsdb: use ldb_msg_difference() in source4/dsdb/schema/schema_set.c
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 65b967a706bb4ee2da1d4211c31c91d31a81e8f1
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jul 16 14:23:24 2010 +0300

    s4-ldb: Implement ldb_msg_difference() function to accept a memory context from client
    
    Old implementation from ldb_msg_diff() was moved into
    this this function but with changed interface
    so that a memory context may be passed.
    
    ldb_msg_diff() function is now based on ldb_msg_difference(),
    which fixes a hidden leak - internal ldb_msg object
    (returned from ldb_msg_canonicalize) wasn't freed
    and stays attached to ldb_context for the connection lifetime.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit c09dcb903cdc1a68f71e892501a450df31367a54
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 16 19:44:22 2010 -0400

    s3-auth: Use talloc hierarchies to properly free auth_ntlmssp_state contexts
    
    Turn auth_ntlmssp_end into a destructor and attach it to auth_ntlmssp_state.
    Remote auth_ntlmssp_end and use TALLOC_FREE in the callers.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 673fcfa3775ac6bdc467dde0bcf6670966cab50c
Author: Simo Sorce <idra@samba.org>
Date:   Sat Jul 17 10:22:04 2010 -0400

    s3-auth: auth_make ntlmssp_state the parent context
    
    There is no need for a separate mem_ctx member.
    Also make the ntlmssp_state a children of auth_ntlmssp_state
    Also cleanup auth_ntlmssp_end to free only what is not automatically freed
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit e60ed80754f1f51c74bc338cc3a81d12f49d9687
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 16 18:23:55 2010 -0400

    s3-auth: Simplify how we free the auth_context
    
    Turn the freeing function into a destructor and attach it to the
    auth_context.
    Make all callers TALLOC_FREE() the auth_context instead of calling
    the free function.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit e4bd6eb72fba92c0b0a3e5e636e5312629758bc1
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 16 17:47:21 2010 -0400

    s3-auth: Cleanup and readability fixes
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit cdcdaaa6dd61475b8c0f37ce140a77271175cc9d
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 16 17:30:14 2010 -0400

    s3-ntlmssp: Remove ntlmssp_end and let the talloc hierarchy handle it.
    
    All the members are children of ntlmssp_state anyway.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 7e4de49bfceed18c81abf93703a61d0a22617a24
Merge: 378e4d5... 27aece7...
Author: Simo Sorce <idra@samba.org>
Date:   Sun Jul 18 20:04:42 2010 -0400

    Merge branch 'master' of ssh://git.samba.org/data/git/samba

commit 27aece72004a84a6e0b2e00987d8a362e307d1d8
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 18 17:12:30 2010 +0200

    s3: Actually use the usecs in aio_fork_suspend
    
    Jeremy, please check!

commit 1946beb679c7de75b142b30d84b5e4bf12c7e6bd
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 18 17:12:11 2010 +0200

    s3: Fix an uninitialized variable

commit 55512f479172047ae7f69604c23fffecf66de8c4
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 18 14:40:43 2010 +0200

    s3: Work better without the aio sighandler
    
    Refuse async I/O if we can't set up the signal handler

commit b1717ac92edbc08e1f4cd2a38dd9f60be8492469
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 18 13:39:51 2010 +0200

    s3: Fix some nonempty blank lines

commit 7ac58281aeebe4be282ca719ba1da2f821e521a5
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jul 17 23:16:26 2010 +0200

    s3: Remove a direct use of procid_self()

commit 898fd584a4f96ba40c2692550518856671892add
Author: Andreas Schneider <asn@samba.org>
Date:   Sun Jul 18 15:04:20 2010 +0200

    s3-rpc_client: Fixed a segfault in rpccli_samr_chng_pswd_auth_crap().
    
    This fixes the WINBIND-WBCLIENT test. The test set
    old_lm_hash_enc_blob.length to 0 and we don't check the length here. So
    the memcpy segfaulted.

commit 0d16a591f4053785f419b27b7bc9694ecdd47fd0
Author: Andreas Schneider <asn@samba.org>
Date:   Sun Jul 18 11:28:24 2010 +0200

    s3-waf: Fixed the build.

commit b9835a1f9d8b81e4121a01a190dffaefe67cbe5c
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 18 11:56:17 2010 +0200

    s3: Don't use as-needed
    
    This is just broken. RHEL5 can't deal with it, FreeBSD8 is broken with it, and
    who knows what other platforms are broken. I can rather live with a system that
    links in a bit too much than a system that does not work at all.

commit bd54969d9bf970e29392856eb351ecf5a129daac
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jul 17 21:37:43 2010 +0200

    pam_winbind: Fix shadowing a global on FreeBSD
    
    FreeBSD defines a function pam_error()

commit 3c0e10d70c7f3b5f50269166d3c7f44e13157d5a
Author: Simo Sorce <idra@samba.org>
Date:   Sat Jul 17 15:43:28 2010 -0400

    s3-dcerpc: Fix build and remove unneeded headers
    
    Sorry, botched a rebase.

commit 52f6bfea4b88f36f5744283d8fa64b13f2146696
Author: Simo Sorce <idra@samba.org>
Date:   Sat Jul 17 15:22:26 2010 -0400

    s3-dcerpc: Move mere processing functions from srv_pipe_hnd.c to srv_pipe.c

commit 3c3cfb9806458816dc07703dc3e18fe02b21127c
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jul 17 21:13:11 2010 +0200

    Fix a typo

commit 628b57ca37641634a34d9b172c7cd5c35a882d4e
Author: Simo Sorce <idra@samba.org>
Date:   Sat Jul 17 15:00:24 2010 -0400

    s3-dcerpc: Move common cli/srv functions into a common file

commit 3925411de4067cc1c203b27cfb082bc693a13def
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jul 17 20:20:14 2010 +0200

    s3: Really fix the 64-bit warnings
    
    Hmm. Forgot to git commit this piece, sorry :-(

commit 32fd6e3c252d7c63252c5e8bbf39dcd52865d839
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jul 17 17:20:03 2010 +0200

    s3: Fix some 64-bit warnings

commit a7e6b2aeb4a5ae3bf575c14bf866544b975d5f0b
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jul 17 17:08:30 2010 +0200

    s3: Right now we do not have includes in Makefile.in
    
    Skip the expansion step on non-GNU-make systems

commit b7a1dd69804e19971b23fc4ebff3bb7234abfad7
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Jul 17 21:45:12 2010 +0400

    s4 pam_winbind: don't build if pam header are not installed

commit c55f5f2a35a138e130e15eee8206b5f72675b7e8
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Jul 17 20:07:52 2010 +0400

    s4 nss_switch: fix build problem on computer without the iniparser
    
    Although the build was ok on my workstation it appears that on build
    server it was not because the include path was not correct.

commit dbbfad82862343eed0be86c8ca4fa23bdff5beb5
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Jun 5 19:16:20 2010 +0400

    s4-waf: add the missing bits for builing nss_winbind and pam_winbind
    
    This is something that was not picked up during the migration to waf

commit e461e29cd9a81d4a74fcd489c2c7b693b49f41d4
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Jul 12 00:07:20 2010 +0400

    s4 unittests: add blackblox test for ktpass

commit 5a8c77f97b30ab2c81f7170a12dddb4ab9972414
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Jun 28 21:38:35 2010 +0400

    s4: create a simple version of ktpass
    
    This script is intended to be a replacement for the ktutil of Windows.
    It's use is for exporting keytab that will be used for kerberized
    services.

commit feb21905cb4926baffd95b822c07c22d06260bf5
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 16 23:25:12 2010 +0200

    s3-build: add LIBNDR_XATTR_OBJ.
    
    Guenther

commit 3036822985cf109cfe551f5306cb495a659fd112
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Jul 16 14:39:52 2010 -0700

    Fix bug #7570 - New smb2 max parameters are undocumented.
    
    Jeremy.

commit c5e85a4987ca846741efac855aaf313d851d954c
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 16 23:09:54 2010 +0200

    s3-dcerpc: rename SCHANNEL_SIG_SIZE to NL_AUTH_SIGNATURE_SIZE and move to IDL.
    
    Guenther

commit 5815119cb0ca56f5155936d99dae5fc9e4a53db8
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 16 23:00:17 2010 +0200

    s3-perfcount: make it possible to compile the example perfcount daemon.
    
    Guenther

commit 3b0c87cf319b562aeb1f5e12135905d6d57e926f
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 16 22:46:58 2010 +0200

    s4-smbtorture: run all testcases with bigendian push as well in RPC-BIND.
    
    Guenther

commit 1c7d08990469cc41e07e11e3d3d714021753f7e2
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 16 22:42:11 2010 +0200

    s4-smbtorture: rearrange testlist in RPC-BIND.
    
    Guenther

commit 7755e196a15ada80505c3ffd77b41c20e60b69ec
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 16 22:41:32 2010 +0200

    s4-smbtorture: make sure to wipe out dcerpc auth flags before RPC-BIND starts.
    
    Guenther

commit 65116adcebe23d3ae42a641515f6001268ed0ef0
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 16 15:15:48 2010 -0400

    s3-dcerpc: Fix ability to receive Big Endian PDUs

commit ec25a000317f863df7af0d97f1fd8948b2f8959d
Author: James Peach <jpeach@samba.org>
Date:   Fri Jul 16 11:07:31 2010 -0700

    smbtorture shell: Allow any config option to be set.
    
    Not sure what I was thinking by restricting the shell to "torture:"
    parametric options. It's really extemely useful to be able to set
    arbitrary options.

commit e058de31e81a23692ccb2bef290042a558e0e795
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Jul 16 11:05:34 2010 -0700

    Make the "map to guest" parameter work correctly with NTLMSSP (spnego
    and raw) under SMB2. Still need to investigate fixing this with krb5
    auth (does this make sense ?).
    
    Jeremy.

commit 378e4d5b8d30733f0f28cc2bceb28d9b9b594707
Merge: 2f24953... 6b266b8...
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 16 09:57:03 2010 -0400

    Merge branch 'master' of ssh://git.samba.org/data/git/samba

commit 6b266b85cf34145ac1f03d8f787b81121e4ec92b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Jul 16 14:32:42 2010 +1000

    s4-loadparm: 2nd half of lp_ to lpcfg_ conversion
    
    this converts all callers that use the Samba4 loadparm lp_ calling
    convention to use the lpcfg_ prefix.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit e4c35c5a09dd66c9280caa39130b7e3b941b7e51
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Jul 16 14:32:10 2010 +1000

    s4-loadparm: change lp_*() to lpcfg_*() and provide s3 compatibility lp_*()
    
    This patch changes all Samba4 loadparm functions that take a
    loadparm_context or a loadparm_service structure to use a lpcfg_*()
    prefix. It then creates lp_*() functions which are wrappers around the
    lpcfg_*() functions. This should allow us to mix Samba3 and Samba4
    code which uses loadparm calls.
    
    This first patch just makes the manual changes to the core loadparm
    code. The tree will not build with just this patch. The next patch
    replaces all of the callers, and was generated automatically with a
    perl script.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 8b1980c22cd68f19ae47dee844963ae74b896e00
Author: Karolin Seeger <kseeger@samba.org>
Date:   Fri Jul 16 10:02:39 2010 +0200

    WHATSNEW: Start 3.6.0pre1 release notes.
    
    Karolin

commit 2f249538ac8f2a54d9c8f8dbf0107db2f33bfe16
Merge: 0ab8e8b... 5f8678f...
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 15 20:50:06 2010 -0400

    Merge branch 'master' of ssh://git.samba.org/data/git/samba

commit 5f8678f34be57ccbbf9d9c93ee34b1d8f09c75c4
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 16 02:37:51 2010 +0200

    libcli/netlogon: re-enable debugging.
    
    Now that we do not share binary objects anymore, we can safely enable
    debugging here again.
    
    Guenther
    
    This reverts commit 3eb122069b9f81196ac658375fcb828924af3e94.

commit 914fd13eddef5cd917a10da1816565acfaa5fd57
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 16 02:20:34 2010 +0200

    s3-registry: use some prs macros to the only place where they are used.
    
    Guenther

commit 196b4e83424c65f8d56ef17e5fca1dfb11c9cf2b
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 16 02:07:51 2010 +0200

    s3-waf: fix the build.
    
    Guenther

commit 7cf4797dd3c13555dee59fdf0c959ac66b7633b1
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 16 01:11:39 2010 +0200

    s3-dcerpc: fix c++ warning.
    
    Guenther

commit f4c6c7e7b8714e8ab6b1245ab95e19133956d83e
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 15 17:45:29 2010 -0400

    Move the remnants of rpc_parse code under registry/
    
    The registry code is the only last user of this code.
    Move everything under registry/ and hope someone will get rid od
    it completely from there in the future.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 7520d8e9263f43e756d73dfd036cab215fe0d5fb
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 15 17:27:11 2010 -0400

    s3-parse_prs: Remove unuesd functions
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 53945a2e990df92cdee8b54b3d1c3ade0305e99c
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 15 16:54:14 2010 -0400

    s3-dcerpc: Use a local function to dump pdu regions
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 67b6fe3dc39aaf88787471b1ce10f47db74c5b1e
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 15 16:19:04 2010 -0400

    s3-misc: Move smb_io_time() to regfio.c
    
    This is the last file using this function and we do not want anyone
    else to keep using hand marshalled stuff anyway.
    So make it also private to that file.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 100d37fc4624690423f6a932709b3f9046d05c64
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 15 10:28:59 2010 -0400

    s3-dcerpc: Use DATA_BLOB for pipes_struct input data
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 8f2bfa88b5846528aa78840979a8ce8babef2cc0
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 15 08:48:51 2010 -0400

    s3-dcerpc: Use DATA_BLOB instead of prs_struct for req_data
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 8e9cd4144e0997991c1b54acf4e62213bce9019e
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 14 23:31:38 2010 -0400

    s3-dcerpc: Use DATA_BLOB instead of prs_struct for rpc_out
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 3b83211cd8859429541b383bafb657d58f16fe30
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 14 19:57:01 2010 -0400

    s3-dcerpc: Avoid unnecessary memory allocation for dcerpc_ctx_list
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit ff121c89d365db657128bb53bd63d18c8bfa7155
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 14 19:39:54 2010 -0400

    s3-dcerpc: Use DATA_BLOB instead of prs_struct for reply_pdu
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit b44a91b2206b514ff47b8841d607ffd2cc297c8b
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 14 18:29:32 2010 -0400

    s3-dcerpc: Use DATA_BLOB instead of prs_struct for incoming fragments
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit cc15396c8a70270d4c85055111e58d71f5c96dd6
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 14 16:15:13 2010 -0400

    s3-dcerpc: Read a pdu in 2 steps, header first the payload
    
    We can't really cope with receiving more data than expected anyway
    as there is code that checks if the size of the buffer is consistent with
    pkt->frag_length and throws an error if not.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 79c207ed62ef661add5d48ea898b7a415a9c17d9
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 14 13:56:13 2010 -0400

    s3-dceprc: Use IDL defined constants for length calculations
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 84c50a248e3a7c02d6cbcbb5ce49a6580700d39a
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 14 14:01:44 2010 -0400

    Reformat and cleanup
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit bd19c964d54571b1cdb8e4f1ea47a24e790e6e3c
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 14 12:18:49 2010 -0400

    s3-dcerpc: Move common helpers into a common file
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit ca3bdca52e93ec492f06f18d8428e80bbad375be
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 14 11:09:04 2010 -0400

    s3-dcerpc: Padding is never done on a DCERPC_PKT_BIND_ACK packet.
    
    Empirically verified against Windows.
    It never pads the auth credentials on this packet type.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit cb3725a9310d88a8d5226025292e25d178d7a4db
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 14 02:04:04 2010 -0400

    dcerpc: remove ncacn_packet_header and related functions
    
    ncacn_packet_header was an artifact and it is not necessary anymore
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit f9a15d1d94b4ea97f560536c32780b1c7e43c451
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 14 01:59:10 2010 -0400

    s3-dcerpc: Refactor code and stop using ncacn_packet_header
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 2452a7a4c1094047f4c67f0901b746e069639f8f
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 13 23:56:01 2010 -0400

    s3-dcerpc: consolidate respones packet creation code
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 8cd3912afa51468e14d13b77394a308dd184b775
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 13 18:01:16 2010 -0400

    s3-dcerpc: Convert frag from prs_struct to a simple DATA_BLOB
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 31b59bbf99835279a0a78858aca2f327150eb5e2
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 13 15:43:44 2010 -0400

    s3-dcerpc: Convert rdata from prs_struct to a simple DATA_BLOB
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 8246214e7ef5374acc0a1f97f4f1203374fba7f8
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 13 12:03:21 2010 -0400

    s3-dcerpc: Remove unused functions and headers
    
    parse_rpc.c is dead, long live parse_rpc.c !
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 8ffac961db75aa3e0727e0c8f3e15cb0916f64d7
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 13 11:53:41 2010 -0400

    s3-dcerpc: Stop using hand marshalling in create_next_pdu_noauth()
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a678d4e3b4766ce9520152da3d8d3ba299a470f1
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 13 09:52:56 2010 -0400

    s3-dcerpc: Stop using hand marshalling in create_next_pdu_schannel()
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 5918a6c751e9dc1a93c4e1851149a270c4216ee1
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 13 09:26:13 2010 -0400

    s3-dcerpc: Stop using hand marshalling in create_next_pdu_ntlmssp()
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit f0626d14f051c11cdb2356bd730342249feeb0a9
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 13 10:27:37 2010 -0400

    s3-dcerpc: Stop using hand marshalling in rpc_finish_auth3_bind_send()
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 7d9c62c646d3bc72d19c2d188305680ce0cd8ad0
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 13 08:49:35 2010 -0400

    s3-dcerpc: Do not parse the packet twice.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 282db1f5d28fe923700faef4576aa78d312547c0
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 13 08:39:03 2010 -0400

    s3-dcerpc: Remove unused function
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 137743fac2ef917e2e9ba7d85840aa392e3a6946
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 13 08:29:21 2010 -0400

    s3-dcerpc: Do not reparse the header
    
    Instead pass back and use the packet we have already parsed.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 459c8e32fd49766ba7382c4c3da1d0c61d9deadb
Author: Simo Sorce <idra@samba.org>
Date:   Tue Jul 13 07:59:12 2010 -0400

    s3-dcerpc: Pull the whole packet at once instead of fetching just the header
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 602e10f3fdb5f0f94e5f22b639121220d419d47f
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 12 09:36:39 2010 -0400

    s3-dcerpc: Delay parsing rpc header in client code
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 8ce15b3a71a29fe27b7146c1b802aa11e7c96433
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Jul 15 16:06:11 2010 -0700

    Fix bug - 7551 smbclient does not return proper exit code.
    
    Catch error in cli_push.
    
    Jeremy.

commit 0e212acd32b0378e9d7ea912f0eee5afa230d898
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jul 15 16:45:13 2010 +1000

    s4:testprogs Operate the blackbox kinit and net tests using the :local config
    
    This :local tells selftest.pl to use the local smb.conf for the test
    environment, not the generic client smb.conf
    
    This then makes the rest work properly - otherwise, it may attempt to
    connect to the wrong KDC for example.
    
    The only problem is that we can't test the 'net join' with this set,
    so this is removed from the test.  The member server test environment
    checks this anyway.
    
    Andrew Bartlett

commit 8769e75a616a3f4b7cc1a2b5f7ea261262ad75d2
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jul 15 14:05:23 2010 +1000

    s4:testprogs Show that we no longer delete the old keytab entries
    
    By using a CCACHE obtained while the old password was still valid, we
    can tell if the server still accepts incoming Kerberos connections
    with the old password.
    
    Andrew Bartlett

commit 299057d8d97cce349af2ff931396fae1f09493a5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jul 15 14:03:11 2010 +1000

    s4:provision Handle machine account password changes while keeping keytab
    
    The challenge here is to update the existing record if it already
    exists, rather than deleting the old record.  This ensures that the
    secrets.keytab handling code keeps the previous password in the
    keytab.
    
    Andrew Bartlett

commit 3e8dba17030544a389611814e47521ceafa1ae8a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jul 15 14:01:56 2010 +1000

    s4:pyldb whitespace fix

commit fcdf619b361b9c30b59f65ba38f69f344b4c95ae
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jul 15 14:00:48 2010 +1000

    s4:pyldb Fix memory handling for ldb_message_element
    
    The problem here is that we need to use the array, not the individual
    message element as the memory context.
    
    Andrew Bartlett

commit 5d61b477c66dce60d8ea37081f0c7394c77e1867
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jul 15 10:54:08 2010 +1000

    s4:testprogs Prove kerberos still works after a password change
    
    Changing the machine account password should not prevent connections
    with a current, valid CCACHE.  This is because when the password is
    changed, the server-side keytab keeps one old password around.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 36b5feceee2ea23d6da757999f238e28ab7de485
Author: Matthieu Patou <mat@matws.net>
Date:   Sun Jul 11 17:27:13 2010 +0400

    s4 upgradeprovision: Adapt the list of attribute modified
    
    * isMemberOfPartialAttributeSet is now allowed to be deleted (on schema
     objects)
    * attributeDisplayNames is now allowed to be added and modified (used on
      display specifiers)
    * spnMapping is now allowed to be altered on Directory Service objects
    * minPwdAge is now modified if the previous value was 0
    
    We issue a clear information about the userControl attribute for
    administrator to invite the user to modify himself the value.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit a748402f61b4b3ea0df6666f4ec90f42fb45eaf8
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Jul 10 14:48:40 2010 +0400

    s4 ldb modules: relax some tests about attributes that should not be here
    
    For attributes that we know that are harmless and that used to be stored
    in the ldb we relax the tests on the existance in a given objectclass.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 7478224189598f192065b91d57080f1dd1719a99
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Jul 5 01:00:13 2010 +0400

    s4 upgradeprovision: Synchronize the calculated keyversionnumber with the one previously stored
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 0a1b1121c48e26c5218e2ccc0c8a8cc724b96624
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Jul 5 23:46:46 2010 +0400

    s4 upgradeprovision: do not copy RID Set it's automaticaly created by the RID manager
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 2afc2f20b65b28140274828249160f1483090b5e
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Jul 3 16:26:24 2010 +0400

    s4 upgradeprovision: add function to backup the provision before updating
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 6c51b3a43298e43332893f52d6951bf475bae6af
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Jul 3 16:53:44 2010 +0400

    s4 upgradeprovision: fix whitespaces
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 62a32975c86e71eb1c5efeec0a4dee9d1ac20c10
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Jun 15 12:54:05 2010 +0400

    s4: Add unit test for increment_calculated_keyversion_number
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 93239016443c1ba40ec69c025a91d60c09833c20
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Jun 15 12:49:19 2010 +0400

    s4 upgradeprovision: introduce a new function to update the field use for calculating msds-keyversionnumber
    
    This function change the version field of the unicodePwd in the
    replPropertyMetaData so that the version is equal or
    superior to the reference value passed.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit f97c90c9cd124314b4a0862e702dd021bd2df9a0
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Jun 22 20:03:15 2010 +0400

    s4 python: Add functions to samdb to manipulate version of replPropertyMetaData attribute
    
    This change contains also helpers for attribute id to attribute oid
    conversion and from attribute id to attribute name.
    It brings also unit tests
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 6a0856da9cc075acaa7fcb6bad614f8f403df9c7
Author: Matthieu Patou <mat@matws.net>
Date:   Wed Jun 16 18:47:18 2010 +0400

    s4 dsdb: Use the changereplmetadata control
    
    This control allow to specify the replPropertyMetaData attribute to
    be specified on modify request. It can be used for very specific needs
    to tweak the content of the replication data.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit d861ebbd8167cf6da6d7565799dbc5267adf6bae
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Jun 22 19:56:37 2010 +0400

    s4 dsdb: create a new control: changereplmetadata
    
    This control is designed to allow replmetadata to be specified
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit b67a71f00bb84f14f7568d0afe143843d31a0a45
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Jun 21 10:55:18 2010 +0400

    ldb: allow ldb_sequence_number to be called in python
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 0496af8341b08ad2b8ceb42892ddde06af279c52
Author: Matthieu Patou <mat@matws.net>
Date:   Sun Jul 4 16:39:17 2010 +0400

    s4: Unit test update_machine_account_password through kinit
    
    This patch is for testing the chgdcpass script which is mostly a call to
    update_machine_account_password.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 7ea70f86ac3a34d84082fed8b5f80ec1b46893bf
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Jun 28 13:49:08 2010 +0400

    s4: Add a simple script to change dc password
    
    This script will mostly be used by unit test (blackbox type) to test the
    change of the dc password
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit fd2eb0dfd092e00408f206e6fe7ff302ccd27a10
Author: Matthieu Patou <mat@matws.net>
Date:   Sun Jul 4 16:38:54 2010 +0400

    s4 provision: move update_machine_account_password to helpers
    
    This is to allow reuse of this function and also unit tests
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit ff93d58b60458678436f2f983803705020537991
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Jul 15 10:36:40 2010 +0200

    s3: Fix crashes in the printing code
    
    create_conn_struct did not create the conn->sconn!=NULL assumption we now
    depend on. Thanks to Andreas Schneider for testing!

commit 23ad6919a1e5f16d02e22adcf36ea7f039a9eeea
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 14 08:57:47 2010 -0400

    s3-dcerpc: Break memory hierarchy for shared structure
    
    Handles are shared among multiple pipes_struct. We cannot allocate
    them on any specific pipes_struct or it will vanish for all others
    as soon as that pipes_struct is freed, leaving back dangling
    pointers.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 0ab8e8be62bcbb1f6441f745736fcee7cbd559eb
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 14 08:57:47 2010 -0400

    s3-dcerpc: Break memory hierarchy for shared structure
    
    Handles are shared among multiple pipes_struct. We cannot allocate
    them on any specific pipes_struct or it will vanish for all others
    as soon as that pipes_struct is freed, leaving back dangling
    pointers.

commit d35e9008a78ed8303dad97296455faf6d0302805
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Wed Jul 14 14:44:46 2010 +0300

    s4: Added acl search tests for anonymous connection.
    
    The tests make sure that we comply with dsHeuristics setting and
    restrict anonymous access to rootDSE. They will be enabled when the
    implementation is pushed. tests are verified against win2k8.

commit e30aa4566646e137c98bd53e4e2fda8c2d458595
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jul 14 12:35:39 2010 +0200

    s3-dcerpc: fix crash bug in error path of process_complete_pdu().
    
    Guenther

commit ee56f74cae1d7387465f966dbe751398eaf01f10
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Wed Jul 14 10:30:40 2010 +0300

    Fixed system_session_anon to actually make an anonymous session
    
    It seems that because the flag is false, this always used the supplied credentials
    rhather than establish anonymous connection.

commit 0d95cee58f80e46636fa4b826d248c9ce9983c9b
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jul 12 14:26:34 2010 +1000

    s3:auth Change auth_ntlmssp_server_info API to return NTSTATUS
    
    This fixes a bug where register_existing_vuid() could be called with a
    NULL server_info if the alloction failed.
    
    Andrew Bartlett
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 1debe30689e75023fab44028ef6942a692e37e95
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jul 12 14:25:28 2010 +1000

    s3:smbd Give the kerberos session key a parent
    
    Nothing will free this, so this prevents a memory leak.
    
    Andrew Bartlett
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 39d1a525d1bb658bd0a666c3f630a669b5399ef1
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jul 12 14:21:34 2010 +1000

    s3:smbd Fix segfault if register_existing_vuid() fails
    
    The register_existing_vuid() call will handle both the ntlmssp_end and
    vuid invalidation internally, so we don't want to do it again.
    
    Andrew Bartlett
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit bfdd85d4a592fcf95d9cea4f63d86330df62ac58
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jul 14 01:32:02 2010 +0200

    s3-selftest: enable RPC-BIND against s3.
    
    Guenther

commit 595c5a2498d0c71731c9d5cee0bfd53746350b9d
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jul 14 01:31:12 2010 +0200

    s4-smbtorture: add very simple RPC-BIND testsuite.
    
    Guenther

commit 14cf257969a1cd793dd69214a6d255722a8a5499
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jul 13 23:57:07 2010 +0200

    s4-smbtorture: rename rpc/bind.c to rpc/multi_bind.c.
    
    Guenther

commit 7dad3251e3a2e672441e8306f5a015dc32019657
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jul 13 23:35:25 2010 +0200

    s3-libnet: add missing header file, sorry.
    
    Guenther

commit 80b47fcb0a73fb97a1b918173a61c55831239a0a
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 2 00:14:04 2010 +0200

    s3-libnet: better separate headers.
    
    Guenther

commit f85167a161b078b0ffa23598a4a548fb2fd54cbf
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jul 13 15:37:13 2010 +0200

    s3-winbind: Don't cache queries to builtin and own sam domain.

commit 57ebc8af8061e1a81a46300154ac6c4d489b302a
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jul 7 14:27:04 2010 +0200

    s3-winbind: Set status before we leave in some msrpc functions.

commit 5bdb8b472ce9c8072d4ffade4075f9ec17ae3819
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Jul 13 09:30:35 2010 -0700

    Revert "Remove the global char *LastDir."
    
    Volker pointed out I'd missed the "last directory" cache
    part of this code. Return us to caching the directory we're
    in (reduces sys call load).
    
    Mea maxima culpa.
    
    Jeremy.
    
    This reverts commit 2f30aea3324f32f9b8555e961256fc1280da2871.

commit 53e1586e2a2c32ad57524343de81f9cff5882b48
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jul 13 17:07:49 2010 +0200

    s3-waf: fix the build.
    
    Guenther

commit 0e31a3af9457ff425efc19f952a4a9d07211e068
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jul 13 16:45:52 2010 +0200

    s3-ldb: fix build warning.
    
    Guenther

commit 0b2d965e4bd7ccc694ddff2342936c5c7d5dd9e5
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Tue Jul 13 17:15:54 2010 +0300

    s4: Reorganized dsHeuristics reset so the code can be reused
    
    Moved the setting of dsHeuristics to a method as soon we will have to set other
    values as well in different tests

commit 0c93b7dff7600074977bb4504169488b090f1d46
Author: Simo Sorce <idra@samba.org>
Date:   Sun Jul 11 17:49:06 2010 -0400

    s3-dcerpc: Remove unused functions and headers
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit bc6a3e0030f262d9182b241d09df403483c1bf03
Author: Simo Sorce <idra@samba.org>
Date:   Sun Jul 11 17:35:02 2010 -0400

    s3-dcerpc: Use dcerpc_push_ncacn_packet() in api_pipe_alter_context()
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 3ba93a986faa8cc3c7d6deaa753573ae6c654cea
Author: Simo Sorce <idra@samba.org>
Date:   Sun Jul 11 17:07:19 2010 -0400

    s3-dcerpc: Use dcerpc_push_dcerpc_auth() for spnego auth continuations.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 70500734f9840eaf77f3077e1e64498692af2323
Author: Simo Sorce <idra@samba.org>
Date:   Sun Jul 11 11:48:22 2010 -0400

    s3-dceprc: Use dcerpc_push_ncacn_packet() in api_pipe_bind_req()
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit f6648c500b79b0575ccff7b9057c4006c21acadd
Author: Simo Sorce <idra@samba.org>
Date:   Sun Jul 11 11:15:40 2010 -0400

    s3-dcerpc: Use a DATA_BLOB in bind processing and avoid one mem copy
    
    Also move dcerpc_push_dcerpc_auth() invocation in api_pipe_bind_req()
    to simplify the workflow.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 8213bba892c419022efdb3d800647ef3bcf51388
Author: Simo Sorce <idra@samba.org>
Date:   Sun Jul 11 10:47:32 2010 -0400

    s3-dcerpc: Rearrange api_pipe_bind_req() to do checks before allocating memory
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 87605e2030262bc24b59468fe4b5837e8ff584b0
Author: Simo Sorce <idra@samba.org>
Date:   Sun Jul 11 12:18:13 2010 -0400

    s3-dcerpc: fix dcerpc_push_ncacn_packet, pass arg by address
    
    There is no need to copy the whole structure twice by passing it in by value.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit fe9036cf5bd8aa775a0419be8effae257d6f97f2
Author: Simo Sorce <idra@samba.org>
Date:   Sun Jul 11 10:37:07 2010 -0400

    s3-dcerpc: pass the packet to setup_bind_nack()
    
    Allows to not rely on p->call_id but use the value directly from the request
    packet header.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 272704e8c24cff706c5ce38567f7ab35b335cf92
Author: Simo Sorce <idra@samba.org>
Date:   Sat Jul 10 18:53:36 2010 -0400

    s3-dceprc: Add debug messages
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 4ba89230ae03d00f9c6a0882df1361c5369b77a9
Author: Simo Sorce <idra@samba.org>
Date:   Sat Jul 10 17:05:58 2010 -0400

    s3-dcerpc: Remove unused members
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 29a3142be856b010ccebb153afad0bf6499d5b56
Author: Simo Sorce <idra@samba.org>
Date:   Sat Jul 10 17:05:24 2010 -0400

    s3-dcerpc: Remove unused functions
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 8e235df2de96954af0bd8dc1cc464f6d9d834372
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 9 19:34:34 2010 -0400

    s3-dcerpc: Use dcerpc_pull_ncacn_packet() to unmarshall dceprc requests
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit e340aa40d19cb03d9c9b5d6e64ac073aeee4b759
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 9 18:23:49 2010 -0400

    dcerpc: move dcerpc_pull_auth_trailer into a the common dcerpc_util.c file
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 77fb3649cede61407ba5df008ceaa49d32ef71d7
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 9 19:35:22 2010 -0400

    s3-dceprc: Store opnum in its own variable
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a138b3d31ef9952dc59630f478264f74091f613d
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 9 16:28:52 2010 -0400

    s3-dceprc use a DATA_BLOB to hold the curren pdu in pipes_struct
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit d078b54b22061be808c07a40e0e55dd00591cc69
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 9 15:46:43 2010 -0400

    s3-dcerpc: use dceprc_push_ncacn_packet_header in create_next_pdu_noauth()
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 53e9c262712ffe5b1fa60ca53a1e5b407d1ebea8
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 9 15:38:03 2010 -0400

    s3-dcerpc: Use dcerpc_push_ncacn_packet_header() in create_next_pdu_schannel()
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 98913d8f44b48da345e115847efdbefbe5536e5f
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 9 15:33:03 2010 -0400

    s3-dcerpc: use dcerpc_push_ncacn_packet_header() in create_next_pdu_ntlmssp()
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 77699c777e78a1cd8ed8bc9c92cfeebe46997f70
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 9 15:32:25 2010 -0400

    sr-dcerpc: add dcerpc_push_ncacn_packet_header()
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit aca330a2c5f4a98a050af1a991f7b4eae1a31b0c
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jul 9 14:23:59 2010 -0400

    s3-dcerpc delay rpc header unmarshalling
    
    Use dcerpc_get_frag_length() to get the whole pdu first
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 43064a74a3ee9f7e4a269ceddb7fffb80dea514f
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 8 20:25:50 2010 -0400

    s3-dcerpc: Remove unused headers
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit cf664b73a4682a09a8e03b69e65aa5f7b18ff13d
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 8 19:17:13 2010 -0400

    s3-dcerpc: Use dcerpc_set_frag_length()
    
    Automatically calculate the fragment length where possible.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit ea66d8e4a5cf44924cc59063a023b7fc158629f9
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 1 22:37:38 2009 +0200

    s3-dcerpc: link against ../librpc/rpc/dcerpc_util.c
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 716f9d6847a867744f7456eacf45abacb6eb1963
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 1 22:37:09 2009 +0200

    s4-dcerpc: move some util functions up to main librpc directory.
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 229791382989c5005ec8e7c0a6d3b84745d37cbe
Author: Simo Sorce <idra@samba.org>
Date:   Sat Jul 10 16:55:37 2010 -0400

    s3-dcerpc: Remove unused prototype
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 25d487bebfdc771b1e0ab510ecbe4a8601f8fc98
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 12 18:57:32 2010 -0400

    s3-dcerpc: Fix ntlmssp sign/seal.
    
    Header calculation was misplaced.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 6555307aa11741171258541da2c13ce25d9e3f55
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 12 16:27:22 2010 -0400

    s3-dceprc: Fix auth_length in auth3 response
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 1b51ddd37085e6dcc2fbe5056e902270d1efb076
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jul 12 15:09:42 2010 -0400

    s3-dcerpc: Fix miscalculation of buffer start address
    
    This was breaking schannel

commit 77a3858f2f25e84e8e23d82097be710195a250d5
Author: Volker Lendecke <vl@samba.org>
Date:   Sat May 22 23:44:01 2010 +0200

    tsocket: Fix some unreachable code

commit c186f92437a918a256b84be84dcf6de569f0cc20
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 11 17:30:53 2010 +0200

    s3: [ug]id_to_unix_... can not fail
    
    Remove some silly failure checks

commit c6a6d884f98aead1f449bc94aee19c3069efca27
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jul 10 14:15:08 2010 +0200

    README.Coding: fix typos
    
    Thanks to Michael Wood <esiotrot@gmail.com> for the review.
    
    metze

commit 1c2ff4563d0fd7e1d00117eef051f5554daaba14
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jul 10 10:06:17 2010 +0200

    README.Coding: add examples for good and bad comments
    
    metze

commit 23f810041bdd990a2dfabb5fcb076a269809ce7a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jul 9 13:08:07 2010 +0200

    s4:provision: remove --policy-guid and --policy-guid-dc cmdline options
    
    metze

commit 800c7af0c9f78ce81d40270bf9a385235869e0d7
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jun 25 13:26:06 2010 +0200

    s4:provision: also use fixed GUID names of the default group policies for domain and domain controllers in tests
    
    metze

commit f16007430a683c0e43e1aca13f59c55dde70dfac
Author: Matthieu Patou <mat@matws.net>
Date:   Fri Jul 9 00:09:49 2010 +0400

    s4 provision: use correct GUID for default policies
    
    The value of GUID for policy is not random for default policies, it is
    described here ("How Core Group Policy Works"):
    http://technet.microsoft.com/en-us/library/cc784268%28WS.10%29.aspx
    at paragraph System\Policies Container.
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit e962e7e9562f26b1ea6854b1a34f0237c3abf222
Author: Matthieu Patou <mat@matws.net>
Date:   Fri Jul 9 20:29:27 2010 +0400

    s4 unittests: remove the provision directory before (re)generating

commit cad04dabbb89b024628ab3ec9bf2772d2fbe5182
Author: Matthieu Patou <mat@matws.net>
Date:   Fri Jul 2 23:52:33 2010 +0400

    s4 net: Add spn module to list/add/remove spn on objects
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 22dfb16d73667d7adbe28e85d880c44a5e9f9344
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jul 10 09:25:57 2010 +0200

    testprogs/blackbox/subunit.sh: initialize failed to 0
    
    This is a short-term workarround for broken scripts,
    which use "exit $failed", without initializing failed.
    
    We need a discussion on the mailing list how to handle this
    in a nicer way.
    
    This should fix some random failures in the blackbox tests.
    
    metze

commit 80f9ad4074889bd5acec74316c427ec2b3963006
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jul 10 09:09:28 2010 +0200

    s4:winbind: let WBSRV_SAMBA3_SET_STRING() initialize the whole buffer
    
    We should not send uninitialized bytes to the winbind pipe,
    this makes also makes valgrind very unhappy.
    
    metze

commit 751a26214e3d88d2d1bd89787524e7a49c30037f
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jul 10 09:08:57 2010 +0200

    s4:wb_cmd_list_groups: also handle NT_STATUS_NO_MORE_ENTRIES
    
    metze

commit c7a30c6b173cb2720bcb7d5eefe00899f629b91e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jul 10 09:08:31 2010 +0200

    s4:wb_cmd_list_users: also handle NT_STATUS_NO_MORE_ENTRIES
    
    metze

commit 1ea4215e5681ccef921bbf77bb1af79fc1a82b77
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jul 10 09:06:44 2010 +0200

    s4:libnet_GroupList: allocate children strings on the correct talloc parent
    
    Otherwise the _recv() function won't move the children strings to the
    callers memory context and let the callers crash.
    
    metze

commit 35c554bef02e9acfe9cbec12d1f4ebc1067bedd4
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jul 10 09:04:43 2010 +0200

    s4:libnet_UserList: allocate children strings on the correct talloc parent
    
    Otherwise the _recv() function won't move the children strings to the
    callers memory context and let the callers crash.
    
    metze

commit 85f73840b0c64ef8082c8a9665c3cc3caa176c1d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jul 10 09:14:15 2010 +0200

    s4:buildtools: add 'make show_waf_options'
    
    metze

commit c48ff4c6a937924f16bc37251c74b753fbe1f5c1
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jul 10 09:10:52 2010 +0200

    s4:buildtools: make it possible to use advanced test options via the make waf wrapper
    
    You can to do thinks like this now:
    make test TEST_OPTIONS="--valgrind-server" TESTS=wbinfo
    
    metze

commit c0aa55d55033e0dfb0ee0933b137dba38de2fd16
Author: Ira Cooper <samba@ira.wakeful.net>
Date:   Thu Jul 8 16:30:12 2010 -0400

    s3: Cleanup of the initial SMB2 counters patch.
    
    This reorganizes smbd_smb2_request_dispatch to have a central exit point,
    and use the normal profiling macros.
    
    Signed-off-by: Jeremy Allison <jra@samba.org>

commit 1caa8b06f781758943e31c367e70014de1d04380
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jul 9 16:27:34 2010 +0200

    s4:drepl_notify: hide some bugs from the make test output
    
    It's useless to get messages like this every few seconds:
    
    dreplsrv_notify: Failed to send DsReplicaSync to
    edbf4745-2966-49a7-8653-99200f1c9430._msdcs.samba2003.example.com for
    CN=Configuration,DC=samba2003,DC=example,DC=com -
    NT_STATUS_OBJECT_NAME_NOT_FOUND : WERR_BADFILE
    
    We have a non bug regarding non-linked DN attributes
    and changes of the target DN.
    
    metze

commit 02a627e71995dc1b0d75165b0772da332b67ba7e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jul 9 12:52:11 2010 +0200

    s4:drsuapi: don't return all linked attributes at the same time
    
    Windows gives them in chunks, but I don't know the correct
    rule to calculate the chunk size.
    
    For now I'll use 1500 as the max size.
    
    Windows isn't happy when it gets ~ 100000 linked attributes in one
    response. It corrupts its directory index and later moves some objects
    to the LostAndFound folder.
    
    metze

commit 5b5ee73ece4d74747234115de08be19b4a9ae62a
Author: Andreas Schneider <asn@cynapses.org>
Date:   Fri Jul 9 15:42:34 2010 +0200

    s3-build: Add a gdbtestenv environment for Samba3.
    
    This will open 3 xterms; smbd with gdb, winbind with gdb and a window to
    run client commands.
    
    Example: make gdbtestenv SMBD_OPTIONS="-d2"

commit 9e928995f0289fcf56bfa60a7541a829e2d67a38
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jul 9 09:24:30 2010 +0200

    s4:selftest: run RPC-SAMR-LARGE-DC against the vampire_dc to test the rid alloc code
    
    metze

commit de632de6ef10cba5fd2591f1d01ab447dae595c8
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jul 9 09:23:04 2010 +0200

    selftest/Samba4: set dreplsrv:periodic_startup_interval = 0
    
    metze

commit 538bb9b3ec2d3250bb97fe6f6f01e6917399fd01
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jul 8 16:20:11 2010 +0200

    s4:dsdb/repl: expose drsuapi_DsExtendedError to the caller (e.g. the ridalloc client)
    
    metze

commit 49deed5a77af0a774cf186c2332416fbf6bba05b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jul 8 16:18:21 2010 +0200

    s4:drepl_out_helpers: don't return NT_STATUS_OK, if an extended operation doesn't return success
    
    metze

commit 658a0f9ef84aa16c270d715283f38b9bb9e683c1
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jul 8 15:38:16 2010 +0200

    s4:drepl_ridalloc: only ask the rid master for a new rid pool if we need to.
    
    if we are at least half-exhausted then ask for a new pool.
    
    This fixes a bug where we're sending unintialized alloc_pool
    variable as exop->fsmo_info to the rid master and get back
    DRSUAPI_EXOP_ERR_PARAM_ERROR.
    
    metze

commit afba6204a31908396f4bebb7b5885e48670bda73
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jul 8 15:14:59 2010 +0200

    s4:dsdb:ridalloc: use ridalloc_ridset_values infrastructure in ridalloc_allocate_rid_pool_fsmo()
    
    metze

commit cd8d8dfe1445879d91d922abef83dbea8f1eed26
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jul 8 21:38:28 2010 +0200

    s4:dsdb:ridalloc: use ridalloc_ridset_values infrastructure in ridalloc_allocate_rid()
    
    metze

commit 3b8c9276dcfa349013450c18d09bfd1b78e6224e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jul 8 15:10:07 2010 +0200

    s4:dsdb:ridalloc: use ridalloc_ridset_values infrastructure in ridalloc_create_rid_set_ntds()
    
    metze

commit 12d26d59bddaa7d3469b4e9ecab4146a9ea67180
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jul 8 12:32:33 2010 +0200

    s4:dsdb:ridalloc: add ridalloc_ridset_values infrastructure
    
    metze

commit bbed1fdfcdcc0d270bb861bf06b509a1655a13a2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jul 8 12:34:15 2010 +0200

    s4:dsdb:ridalloc: use dsdb_module_constrainted_update_uint64() to update rIDAvailablePool
    
    metze

commit ad173331148a9fdd793cc5fa4776bdfd53bb4727
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jul 8 12:06:39 2010 +0200

    s4:dsdb:ridalloc.c: fix C++ warning
    
    metze

commit 217177a4df55439cec1d2563ab1af8fbdfe4a991
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jul 8 12:02:42 2010 +0200

    s4:dsdb: add dsdb_module_constrainted_update_uint32/64() wrapper functions
    
    metze

commit 65ca5a3542cb1ccb07da0831c61c043f4632ffa8
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jul 8 12:01:44 2010 +0200

    s4:dsdb: add dsdb_msg_constrainted_update_uint32/64() wrapper functions
    
    metze

commit 1d6f321a918699906cabbe3ee2970bd0a635180b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jul 8 11:32:59 2010 +0200

    s4:dsdb: add dsdb_module_constrainted_update_int32/64() functions
    
    metze

commit 388e955f28a578e5421182c0aa3afe9da27a6c34
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jul 8 11:32:26 2010 +0200

    s4:dsdb: add dsdb_msg_constrainted_update_int32/64() functions
    
    metze

commit 514c59656152742c0c73ce65e0778f000cdd1437
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jul 8 22:04:23 2010 +0200

    ldb:common/ldb_dn.c - "ldb_dn_get_parent" - no need to manipulate the real DN
    
    Since the parent DN is a duplication of the passed DN parameter.

commit 1c0cb365a895ce670fc32db3380cee7f129ce95b
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Jul 7 21:50:23 2010 +0200

    s3: Optimize the write cache for sequential writes
    
    In case of the one-byte allocating writes we don't work work optimally because
    we start the write cache at the current offset. This patch tries to avoid this
    case.

commit 6a0d3665e2a2cd9cbae4096c82418f9b0406161f
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Jul 8 21:04:13 2010 +0300

    s4: fix warning: unused variable ‘i’

commit 966641b9fed90a34beae32fff091edb983ca6359
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 8 18:38:25 2010 -0400

    s3-dcerpc: Use dcerpc_pull_dcerpc_auth in api_pipe_bind_auth3()

commit 207600991c2e42309672ab7d3c9731c5c77696d1
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 8 16:02:08 2010 -0400

    s3-dcerpc: Use dcerpc_auth in api_pipe_bind_req()

commit 1796767a36fcd880139eb40176c7bcb34fd4ec90
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 8 15:18:08 2010 -0400

    s3-dcerpc: make dcerpc_pull_dcerpc_auth() public

commit a054832f4fda4a158c1d0bf6fa2646bd5835aa2e
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 8 11:36:03 2010 -0400

    s3-dcerpc: make dceprc_push_dcerpc_auth public

commit aca60c29e7f890524ebd3a896a3e4f591b5830f6
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 8 15:16:32 2010 -0400

    s3-dcerpc: use dcerpc_pull_dcerpc_auth() in rpc_finish_spnego_ntlmssp_bind_send()

commit 559113596478a5ac8f5227bc25a3720db56314fe
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 8 15:04:40 2010 -0400

    s3-dcerpc: use dcerpc_push_dcerpc_auth in add_schannel_auth_footer()

commit 1febe9de6b6137d575ac1b1263e7d1f7a29cea1f
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 8 14:55:20 2010 -0400

    s3-dcerpc: use dcerpc_push_dcerpc_auth() in add_ntlmssp_auth_footer()

commit c609e84170486f183ad0a7a13c87c3b7c7bc490d
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 8 14:00:54 2010 -0400

    s3-dcerpc: use dcerpc_pull_dcerpc_auth() in cli_pipe_verify_schannel()

commit 91cb2aed54cb7fe1f5e5c6359b0ef505f689b172
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 8 13:30:50 2010 -0400

    s3-dcerpc: use dcerpc_push_ncacn_packet() in create_rpc_bind_auth3()

commit 7e134f179fe43bdc2e6d94262327199367a038a8
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Jul 8 15:18:30 2010 -0700

    Change one more use of "struct rpc_hdr_info" -> "struct ncacn_packet_header"
    
    Jeremy

commit 6b7e436871ec7cac1d08c830efaab95d8bb3afa3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jul 8 14:51:49 2010 +0200

    s4:acl LDB module - password attributes - check also the "dBCSPwd" attribute
    
    It's also a possible password change/set attribute candidate.

commit 921308f1e830e0443bb49b6d4eb19ae95357a16e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jul 7 18:01:34 2010 +0200

    s4:acl LDB module - move a "mem_ctx" creation to the place where it is actually checked
    
    Memory allocations and their result checks should be as tight as possible.

commit 38896f3362073680da82259485dc1031e08f4d6c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jul 7 19:03:13 2010 +0200

    s4:drsuapi RPC server - "result_site_name" - fix variable denomination

commit 32a2bbb44b58a8a3da6a6b70d5d21a21c1b68d10
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jul 8 09:36:30 2010 +0200

    s4:samdb.py - "setpassword" - performs password sets using the "unicodePwd" attribute
    
    This does work per default on each AD-compatible DC. "userPassword" support on
    Windows however has to be activated explicitly by the "dSHeuristics".

commit 61be498adbdcefb3d2d79bc26019ede01411178f
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Jul 5 23:41:13 2010 +0400

    s4 upgradeprovision: For SID > 1000 do not copy them, let the system regenerated a new one
    
    This should avoid colliion with newly added objects that use the same
    SID as existing users in the upgraded provision.
    
    Signed-off-by: Matthias Dieter Wallnöfer <mdw@samba.org>

commit 690ed0c5e2c61584daa2acb5dbfb680ecee83e0f
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 2 10:17:44 2010 +0200

    s3-rpc: when using rpc_pipe_open_internal, make sure to go through NDR.
    
    Otherwise a lot of information that is usually generated in the ndr_push remains
    in an uninitialized state.
    
    Guenther

commit 309ad2b08f2964c30fd71af027b7c94f5d761e4a
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jul 8 15:58:12 2010 +0200

    s4-smbtorture: skip wbcChangeUserPassword test when no oldpass is set in environment.
    
    Guenther

commit 10c60f237223f805566a66293418bd1cf04a8f5e
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Thu Jul 8 15:38:16 2010 +0300

    Added a test to prove by default users can change each other's pass if the old is known

commit 328f3ca103e8cd8d73e591dccce6d4dd0fc30b48
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Jul 8 13:32:48 2010 +0200

    s3: Slightly simplify make_server_info_pw

commit b595469bf7d6c1171d694366686d99de031c18b9
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jul 8 11:46:48 2010 +0200

    s3-rpcclient: add another usage display to sign and seal commands.
    
    Guenther

commit b0d69a857c14cec052f8c109fdf47f493c8d35c2
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jul 8 10:59:16 2010 +0200

    Revert "s4-smbtorture: skip bigendian tests against s3 in RPC-LSA-SECRETS."
    
    This reverts commit 3587bb63e21c3f033a17bb493dceb64b05fe85d6.

commit 41fc0dd0eff225329fa78fad65953256c986742a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Jul 8 16:42:39 2010 +1000

    s4-net: the net binary depends on the auth subsystem
    
    This helps with the OpenChange build

commit 7571c15af93f638a78d69378ce7c793b0e90dc4e
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 8 01:48:05 2010 -0400

    s3:dcerpc Remove unused structure and functions

commit 7236f8cda93ccfbbbac74b9392bfb5dc93268bcb
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 8 01:14:16 2010 -0400

    s3:dcerpc Use prs_parse_dcerpc_bind

commit 0d9b63663f888bafbc7451845a79dabf9ceadc0f
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 8 01:13:57 2010 -0400

    s3:dcerpc Add prs_parse_dcerpc_bind

commit ae526514a936b46112845480646402fdd385d7a2
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 7 17:14:27 2010 -0400

    s3:rpc user idl define dcerpc_ctx_list instead of custom RPC_CONTEXT

commit d57ecf920cfb0c1a03734f120e888d34bd618f2d
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 2 01:05:55 2009 +0200

    s3-dcerpc: use dcerpc_pull_ncacn_packet() for rpc_pipe_bind_step_one_done().
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 5351a8919dcf705061242813186dfd29e03e72a0
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 2 00:35:19 2009 +0200

    s3-dcerpc: use dcerpc_push_ncacn_packet() in push_next_frag().
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit e8e2fa586b81ddfe45e6751fafcce85842423eed
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 2 00:34:42 2009 +0200

    s3-dcerpc: use dcerpc_pull_ncacn_packet() in cli_pipe_validate_current_pdu().
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit dbeaa5efc7ccbf52fd54e18c0cf7683a8fbc2cd4
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 2 00:33:52 2009 +0200

    s3-dcerpc: use dcerpc_pull_dcerpc_auth() in cli_pipe_verify_ntlmssp().
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 49c529349285a79f13b0e1f261f815c4beb62646
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 1 23:39:20 2009 +0200

    s3-dcerpc: add dcerpc_pull_dcerpc_auth().
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit fe9ce4b60c60273d67b9616f7dcef2020136ddac
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 1 23:18:25 2009 +0200

    s3-dcerpc: use struct ncacn_packet_header instead of struct rpc_hdr_info.
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 77e3fffd09e5548ded472bed25109ddda2d45b30
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 1 23:07:03 2009 +0200

    s3-dcerpc: add dcerpc_pull_ncacn_packet_header().
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 389a6774264b273fa210dcd30669d58a5c0db615
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 1 23:04:23 2009 +0200

    dcerpc: add ncacn_packet_header to IDL.
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit eeb034e72a0e3ed167ffe3c08162311a7c5d2fdf
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 24 23:56:42 2009 +0100

    s3-dcerpc: use dcerpc_push_dcerpc_auth() for all authenticated binds.
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 4b56e6e95b7176921dc1bb28c344975074f4f17d
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 24 23:50:32 2009 +0100

    s3-dcerpc: add dcerpc_push_schannel_bind().
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 0f02dda9154aeeda20d7bb3ca88bbaf89174e3ce
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 24 19:09:29 2009 +0100

    s3-dcerpc: add dcerpc_push_dcerpc_auth().
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 257f5145b571960fce0e12ce0cd04dbd0ac83f6a
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 24 20:29:59 2009 +0100

    s3-dcerpc: remove unused init_rpc_hdr_rb and init_rpc_context.
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 5aabd9af8e2abe0eafcafbba60a10ce9102d77c4
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 24 18:21:18 2009 +0100

    s3-dcerpc: use dcerpc_push_ncacn_packet() for create_bind_or_alt_ctx_internal().
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit dc6e0cedfcdd7ca0d9b7a13ecbc3e8520ddcc8f0
Author: Günther Deschner <gd@samba.org>
Date:   Mon Mar 23 12:45:09 2009 +0100

    s3-dcerpc: remove unused smb_io_rpc_hdr_fault.
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit d6de820480ce5db4b786a66886a5e255344acd43
Author: Günther Deschner <gd@samba.org>
Date:   Mon Mar 23 12:00:40 2009 +0100

    s3-dcerpc: use dcerpc_pull_ncacn_packet() for pulling a RPC fault pdu.
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit cb9eddb31248f0c7b0ffcff642154ca4b0230276
Author: Günther Deschner <gd@samba.org>
Date:   Mon Mar 23 12:00:12 2009 +0100

    s3-dcerpc: add dcerpc_pull_ncacn_packet().
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 0cbe0f3c5fab1da968486269d65c02ffa44e54ca
Author: Günther Deschner <gd@samba.org>
Date:   Mon Mar 23 11:05:21 2009 +0100

    s3-dcerpc: use dcerpc_push_ncacn_packet() for setup_fault_pdu().
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 8fdc02aa63d1a93de7e5008db4efb54e197afd17
Author: Günther Deschner <gd@samba.org>
Date:   Sat Mar 21 00:11:15 2009 +0100

    s3-dcerpc: use dcerpc_push_ncacn_packet() for setup_bind_nak().
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 3d9a12dca7e00e133702ea1d8d31e50eceac9039
Author: Günther Deschner <gd@samba.org>
Date:   Mon Mar 23 11:04:34 2009 +0100

    s3-dcerpc: add dcerpc_push_ncacn_packet().
    
    Guenther
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit f0b918473db75ff389a7d2e3bf4a069b8b30d141
Author: Simo Sorce <idra@samba.org>
Date:   Wed Jul 7 23:43:47 2010 -0400

    s3:winbindd_samr Do not use static contexts
    
    It is a very bad idea to use a static context within the open function.
    Use the memory hierarchy to keep track of a client connection.

commit 90b1a1d29623c6c2abc86e2571b535a7832dd376
Author: Ira Cooper <samba@ira.wakeful.net>
Date:   Thu Jul 1 17:51:41 2010 -0400

    s3: Add SMB2 performance counters.
    
    A performance counter was added for every base type of SMB2 op.

commit 609b8656910eccbb409b58050c306798be22a078
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jul 6 04:06:23 2010 +0300

    s4-dsdb/util: Reorder DSDB_FLAG_* checks
    
    On good thing about having more clear function interfaces
    (and forcing callers to specify clearly what they want)
    is that now I can execute following search:
    git grep DSDB_FLAG_NEXT_MODULE | wc -l
    
    This showed that DSDB_FLAG_NEXT_MODULE flag is about 6 times
    more frequently used than DSDB_FLAG_OWN_MODULE.
    So this should reduce branch prediction by six times
    in this part of the code, right :)

commit 0c4bbb7106cc2d49052eb85f995dc991b578d885
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jul 6 03:31:17 2010 +0300

    s4-dsdb: Implement module switching in dsdb_module_search_dn()
    
    This allows caller to choose from where to start DN search

commit 62a0f11dcbc0dbc7dbb78442d933c0fccee2282b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jul 6 03:26:03 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/acl.c Use DSDB_FLAG_NEXT_MODULE flag

commit 02f0c6d1ebaee211e1749c14bb351c1eaebf3948
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jul 6 03:25:41 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/linked_attributes.c Use DSDB_FLAG_NEXT_MODULE flag

commit 0d2116a42396546eb0de11cac6794d257e5a224e
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jul 6 03:25:28 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/naming_fsmo.c Use DSDB_FLAG_NEXT_MODULE flag

commit b18ab826043c16adf5aafdb89e4a57be90ff8acf
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jul 6 03:25:11 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/operational.c Use DSDB_FLAG_NEXT_MODULE flag

commit 7694b1964f0e51c5f312ef16b9f4d07d0c273bb2
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jul 6 03:24:59 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/partition_init.c Use DSDB_FLAG_NEXT_MODULE flag

commit b62715964a6060c002f0d6ae4ef42d8e296fc582
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jul 6 03:24:15 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/pdc_fsmo.c Use DSDB_FLAG_NEXT_MODULE flag

commit 2ee14378c3b9e46a71b50a37a18ae0bb2705f131
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jul 6 03:23:58 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/repl_meta_data.c Use DSDB_FLAG_NEXT_MODULE flag

commit d7bcac5a9f39a325d984269f7e8651870dcb82ab
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jul 6 03:23:43 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/ridalloc.c Use DSDB_FLAG_NEXT_MODULE flag

commit dc720739ab8d966c6d7d5064281740b6b35b77bf
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jul 6 03:23:21 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/samba_dsdb.c Use DSDB_FLAG_NEXT_MODULE flag

commit 8c7a6a8dc77fa239aca2283583d3fc858cfb8505
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jul 6 03:22:28 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/schema_load.c Use DSDB_FLAG_NEXT_MODULE flag

commit 64c31b7e0ae2085658ad8f5df7791b0343239276
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jul 6 03:22:09 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/util.c Use DSDB_FLAG_NEXT_MODULE flag

commit 76a084feeec208aff2bbfaa45c134592c1719600
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jul 7 17:01:09 2010 +0200

    s3-winbindd: Fix child logfile handling which broke with c67cff0372.
    
    Andreas, please check.
    
    Guenther

commit 0da5e153787b461ea9ba5ac5353a0046a5a26e07
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jul 6 17:02:33 2010 +0200

    s3-winbindd: route samr chgpwd ops for own domain over internal samr pipe as well.
    
    Guenther

commit 519d17e451399f09f154dc581a22e74162ff7807
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jul 7 12:40:41 2010 +0200

    s3-rpc_misc: remove unused UNISTR.
    
    Guenther

commit 7e1fa8d06774de4fa103118006309b2d1d63069b
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jul 7 12:39:46 2010 +0200

    s3-rpc_parse: remove finally unused prs_unistr().
    
    Guenther

commit 8def236f187dbbb804a142124bc5042d0cc89854
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jul 7 12:36:33 2010 +0200

    s3-libgpo: remove handmarshalled PReg parser from registry CSE.
    
    Guenther

commit 5f92bd863c1f2b8b45aae8155a215366f380a0cc
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jul 7 02:45:01 2010 +0200

    s3-registry: add preg.idl.
    
    Guenther

commit f706d1a96e0cc80000c6b87c90becfcbfe26d314
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jul 7 14:56:14 2010 +0200

    s3-rpc_parse: fix c++ buildwarning in prs_init().
    
    Guenther

commit ca460113ea28ca82429845c2b3977989175f8ada
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jul 7 01:50:56 2010 +0200

    s3-notify: use autogenerated FILE_NOTIFY_INFORMATION marshalling in smbd.
    
    Guenther

commit 6ab9eaf90fa732153dc500087b6f7dcea2a94465
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jul 7 01:50:18 2010 +0200

    s3-notify: add MS-CIFS 2.2.7.4.2 FILE_NOTIFY_INFORMATION to IDL.
    
    Guenther

commit 2c1279f454124c9921bce7005b3bc8296c9fc4aa
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jul 7 13:40:48 2010 +0200

    s3-build: some makefile cosmetics.
    
    Guenther

commit 2356496ac6490aa82d37b8d9436d6d40979d2e80
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jul 7 13:44:42 2010 +0200

    s3-build: add IDL_FILES variable.
    
    Guenther

commit 87df785a68c1c8043b345b71c98764ef36b76179
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Jul 6 13:21:54 2010 +1000

    s4-dsdb: use ldb_operr() in the dsdb code
    
    this replaces "return LDB_ERR_OPERATIONS_ERROR" with "return ldb_operr(ldb)"
    in places in the dsdb code where we don't already explicitly set an
    error string. This should make is much easier to track down dsdb
    module bugs that result in an operations error.

commit fc68558ab937859a91214e8675d53c0afaf3c4e6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Jul 6 13:20:19 2010 +1000

    s4-ldb: added ldb_error() and ldb_operr()
    
    These will be used to help avoid the problem we have with hundreds of
    places that do "return LDB_ERR_OPERATIONS_ERROR" without an
    explanation. It is very difficult to track down ldb errors which don't
    have any explanation.
    
    By replacing "return LDB_ERR_OPERATIONS_ERROR;" with "return ldb_operr(ldb);"
    we at least get a file:line message in the ldb error string. It isn't
    an ideal error message, but it is much better than just "operations
    error"
    
    This change also makes ldb_oom() return the error code
    (LDB_ERR_OPERATIONS_ERROR) so you can do:
    
      return ldb_oom(ldb);
    
    instead of:
    
      ldb_oom(ldb);
      return LDB_ERR_OPERATIONS_ERROR;

commit 0b6cebd60288b37f28176e24abeb20109dfd70e5
Author: Kai Blin <kai@samba.org>
Date:   Fri Jul 2 22:35:28 2010 +0200

    s3 build: Fix *netgrent prototype detection on opensolaris

commit 9c3a9824a9165e9d7cf362d4b8c6add8ad0cc983
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Jul 6 15:36:21 2010 +1000

    s4-ldb: added support for simple binds on ldb_ldap backend
    
    this uses the options[] array to pass in bindMech, bindID and
    bindSecret. Currently only "simple" is supported.

commit 7f9153f7e8a3a39d23b6b9c1336031f769dce923
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Jul 6 15:35:16 2010 +1000

    s4-ldb: added ldb_options_find()
    
    ldb_options_find() allows backends to find options in the options[]
    array passed to the connect operation.
    
    This will be used by the ldb_ldap bind code

commit 85504ae6ff72204894ea7a856f0f36b44ad77fe2
Author: Steven Danneman <steven.danneman@isilon.com>
Date:   Mon Jun 28 16:06:33 2010 -0700

    s4:libcli: Modify S4 client library to check for proper CN alignment
    
    MS-CIFS 2.2.7.4.2 states that FILE_NOTIFY_INFORMATION structures in
    change notify replies must be aligned to 4-byte boundaries.
    
    This updates s4 client to check for this restriction and also adds a
    torture test which should tickle a server into giving unaligned
    structures if it doesn't follow the spec.

commit 00056e73c1cb54f5d6c10e63b70afc2c84e5883e
Author: Chere Zhou <chere.zhou@isilon.com>
Date:   Mon Jul 5 17:18:35 2010 -0700

    s3:smbd: Align change notify replies on 4-byte boundary
    
    MS-CIFS section 2.2.7.4.2 states this is mandatory.  WinXP clients
    don't seem to care, but a Win7 client will send an immediate Close()
    to the directory handle when receiving an incorrectly aligned
    change notify response.

commit 502bddf7676b8061a877e7c83b647a64963c3efe
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jul 6 17:51:00 2010 +0200

    s4:new_partition LDB module - fix an uninitalised variable warning
    
    > [ 651/1946] Compiling dsdb/samdb/ldb_modules/new_partition.c
    > ../dsdb/samdb/ldb_modules/new_partition.c: In function 'new_partition_add':
    > ../dsdb/samdb/ldb_modules/new_partition.c:195: warning: 'down_req' may be used uninitialized in this function
    The "down_req" variable isn't used anymore.

commit b03040c5a903e24a8216b9245f2925eb2205cd67
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jul 5 17:42:40 2010 +0200

    s4:SAMR rpc server - "SetUserInfo" - fix the implementation of the expire flag
    
    It has to consider the "password_expires" flag to known if the "pwdLastSet" has
    to be updated or to be resetted.

commit 7f15ca4427ae07520a457fa8f19991f6e350205b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jul 5 15:54:21 2010 +0200

    s4:SAMR rpc server - "QueryUserInfo" - send back the password expired flag on level 21
    
    Taken from the s3 server code

commit 9c8135785ad7b2bee4a0d37470dc37fed04a6516
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jul 5 16:55:50 2010 +0200

    s4:dsdb - samdb_result_force_password_change - also when "pwdLastSet" is "-1" we shouldn't force a password change
    
    This value is set by the ADUC console.

commit 293d3eb545b04438a13313b06927469f928d6479
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jul 6 19:53:37 2010 +0200

    s3-selftest: add "make testenv" target to Makefile.
    
    Guenther

commit a679319192a50f8115c830ceabe33010d584e3c9
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Jul 6 18:39:26 2010 +0200

    s3:pdb_ldap: change LDAP password before samba password hashes
    
    this way we can catch up with password change refuses from ldap password policy
    overlays and abort the password change early.
    
    Thanks to Andy Hanton <andyhanton@gmail.com> for the initial patch.

commit 44d8c8dbb721eadface3785cee135b2912ca00e7
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jul 6 14:56:50 2010 +0200

    s3-winbind: Handle aliases in rpc_lookup_groupmem().

commit 11ae9aff971759f2b4658b294e9f1845500ecd4e
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jul 6 12:50:48 2010 +0200

    s3-winbind: Fixed the winbind caching.

commit 66fc77e8863ef126317c1077628989e437827514
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jul 6 10:58:46 2010 +0200

    s3-winbind: Use same format for all msrpc debug messages.

commit 2794c5ad24170c58d9d491e1f6cec1a58b82ad3f
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jul 6 10:53:01 2010 +0200

    s3-winbind: Fixed debug messages of open_internal_lsa_pipe().

commit 9d23f8fbc5b80b0a2f34bbd1a1beef63cb06d3c1
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jul 6 15:33:50 2010 +0200

    s3-winbind: Make sure that the policy handles are closed.

commit c5cd35658be8c473893f4aa230b38de667f12154
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jul 6 01:05:39 2010 +0200

    s3-winbind: Make sure we close all policy handles in sam.

commit c67cff0372d987d13105b81a7625ff42a3ceac43
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jul 5 19:43:25 2010 +0200

    s3-winbind: Create all logfiles in the same directory.
    
    If log file is set in the config file, we should create the log files of
    the winbind child processes in the same directory.

commit a56c6883661123ed7eb07f7e6f0e947714d1d575
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Jul 6 16:55:14 2010 +0200

    s3: Fix another aspect of bug 7262 and make paged results work again

commit 4efa1081aadc4de22bc1e8c51c41978464730f95
Author: Sumit Bose <sbose@redhat.com>
Date:   Tue Jul 6 14:55:32 2010 -0400

    s4:rpc_server/lsa/dcesrv_lsa.c - fix typo
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit b4c3f72d445a5659971b0080ab1eba88695d2a0d
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Jul 6 15:07:05 2010 +0200

    s3: Fix a segfault in the RPC server
    
    After converting the rpc infratructure to talloc, read_from_internal_pipe freed
    the outdata too early. If the last fragment was read in two pieces (as
    rpcclient does it), all the outdata was freed during the read of the first
    piece of the read of the last fragment. Later read&x calls, trying to read the
    rest of the last fragment stepped into p->out_data.frag with non-zero offset
    when this was already freed.

commit 60a3cc850a27a14110541439c05387efb0312210
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Jul 6 11:54:31 2010 +0200

    s3: Fix another winbind crash
    
    This is similar to 09a9cc3, this re-arranges winbindd_ads.c:query_user_list()
    so that "ads" is not accessed anymore across a call to nss_get_info_cached()
    call which can destroy it behind the scenes.

commit 1dcf0e917e99cadf7267566db2139c3dbfc0815a
Author: Günther Deschner <gd@samba.org>
Date:   Mon Jul 5 17:34:19 2010 +0200

    pidl: s3 server stubs: make sure LIBNDR_FLAG_BIGENDIAN is set when negotiated.
    
    Guenther

commit d56cc23c6a31f10151420086bbead715fa911f6e
Author: Günther Deschner <gd@samba.org>
Date:   Mon Jul 5 16:39:44 2010 +0200

    s4-smbtorture: add my (C) to rap torture lib.
    
    Guenther

commit a236bc4b334433eb743cb88a8a5f36c7d694681c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jun 30 08:26:08 2010 +0200

    s4:dsdb/password_hash: implement DSDB_CONTROL_BYPASS_PASSWORD_HASH_OID
    
    metze

commit 6d7b9648e5bff20136dd4462313ce4c3cd502662
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jun 30 08:24:35 2010 +0200

    s4:dsdb: allocate DSDB_CONTROL_BYPASS_PASSWORD_HASH_OID
    
    When importing users from Samba3 we need to control all values.
    
    metze

commit 24d6950f631f7b1f36ee72c1d06b6b4bc9a1033a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jun 30 12:08:30 2010 +0200

    s4:dsdb/password_hash: fix some c++ compiler warnings
    
    metze

commit 4a0edb597caf7ffa9a1f7f6a44a90fecefb30dc1
Author: Zahari Zahariev <zahari.zahariev@postpath.com>
Date:   Mon Jul 5 17:55:11 2010 +0300

    DNS objects should not be ignored
    
    Recently I have found that after vampireing from a clean Windows
    server we have the same DNS objects in the ldb. So ldapcmp has to
    no longer ignore them.
    
    Signed-off-by: Kamen Mazdrashki <kamenim@samba.org>

commit 3255a7c42c13874eb7bfbf058f8388325afe5a7f
Author: Günther Deschner <gd@samba.org>
Date:   Mon Jul 5 17:38:16 2010 +0200

    s3-waf: fix the build.
    
    Guenther

commit 3323e88f74ecdfb94026fc23b870c10bba375d34
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 21 11:15:18 2010 +0200

    s3-winbind: Rename lookup_groupmem to msrpc_lookup_groupmem.

commit 973ef399e3b7853e68bf8d3d54700fd2c89a9611
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 21 11:14:12 2010 +0200

    s3-winbind: Use rpc_trusted_domains in msrpc.

commit b4160af73646f48073778b610938c9f67a5f6e39
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 21 11:13:50 2010 +0200

    s3-winbind: Use rpc_trusted_domains in samr.

commit 9c372a145dacfabd14dd86b6dbc458f20ce73fe9
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 21 11:13:25 2010 +0200

    s3-winbind: Added a common rpc_trusted_domains function.

commit b8a0b95e74bf4e57d5ee5e15a91c7b27f7edd3c6
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 21 10:54:53 2010 +0200

    s3-winbind: Rename common_password_policy to sam_password_policy.

commit 3f2c2c7c70c0cfbcc84c28526d9108e9ee8ed7d5
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 21 10:53:15 2010 +0200

    s3-winbind: Rename common_lockout_policy to sam_lockout_policy.

commit 49dc713957593bc7b2b6a1704f2fcd0f8595a4fd
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 21 10:48:15 2010 +0200

    s3-winbind: Use rpc_sequence_number in msrpc.

commit eba6ff0c1a506601c5447706678171926ba4cd93
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 21 10:47:54 2010 +0200

    s3-winbind: Use rpc_sequence_number in samr.

commit c4a5fc72c732e40c53b6206280ed9c22cc8f0fb1
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 21 10:47:22 2010 +0200

    s3-winbind: Added a common rpc_sequence_number function.

commit 62038010e0cb74a0de8fe68c7566a6db153ea58b
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 21 10:28:47 2010 +0200

    s3-winbind: Use rpc_lookup_groupmem in samr.

commit 3c06d42bec49f3fd0ab0d03fe3cbc7205f6d2e2d
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 21 10:28:21 2010 +0200

    s3-winbind: Added a common rpc_lookup_groupmem function.

commit 1f2fe8dee9df1228974ab713b77e470185552916
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Jun 18 19:08:41 2010 +0200

    s3-winbind: Use rpc_lookup_useraliases in msrpc.

commit aa831374b8484846702622562c28138363fda2f7
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Jun 18 19:08:28 2010 +0200

    s3-winbind: Use rpc_lookup_useraliases in samr.

commit 73b2f60f6d7f11702d24b8e90209ad6406d79a90
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Jun 18 19:07:43 2010 +0200

    s3-winbind: Added a common rpc_lookup_useraliases function.

commit ad8c9125632798ca762d7de5d13b91bfa9e3ea28
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Jun 18 18:20:12 2010 +0200

    s3-winbind: Use rpc_lookup_usergroups in msrpc.

commit c1a6a24a76bacec4d678537716675e0c7f4fb5b4
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Jun 18 18:19:50 2010 +0200

    s3-winbind: Use rpc_lookup_usergroups in samr.

commit 473d1f10868e8fd33641657daa5b4f07e39770ad
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Jun 18 18:19:16 2010 +0200

    s3-winbind: Added a common rpc_lookup_usergroups function.

commit a3f8bbf3daf916878d0b1374f7fae4b65540be28
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Jun 18 17:48:17 2010 +0200

    s3-winbind: Use rpc_query_user in samr.

commit 64f1052c7fc0aa5eca4c9fd0b437a5b35f07c9fe
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Jun 18 17:47:47 2010 +0200

    s3-winbind: Use rpc_query_user in msrpc.

commit 7d304d7e998fef942386d931e8e4ea3ed8b53f4d
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Jun 18 17:47:16 2010 +0200

    s3-winbind: Added a common rpc_query_user function.

commit c48d85026508e35a98bbf4828e688a7bef0249eb
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 17 19:32:18 2010 +0200

    s3-winbind: Use rpc_rids_to_names in samr.

commit fd79bc9a58ccb06f59cda1f42fe9067f3f8af473
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 17 19:31:51 2010 +0200

    s3-winbind: Added a common rpc_rids_to_names function.

commit aa745bedd3c9862c793d2d2dbaa70ff85ea40614
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 17 16:25:33 2010 +0200

    s3-winbind: Use rpc_sid_to_name in samr.

commit 506dc899b26eea7b3115748b6311e8a07fb16909
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 17 16:25:07 2010 +0200

    s3-winbind: Added a common rpc_sid_to_name function.

commit 22c9ced11952bc61c0f074103b5ca9a312f53c70
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 17 16:07:02 2010 +0200

    s3-winbind: Use rpc_name_to_sid in samr.

commit 37dbfaebc7a31a6c44d51003770945cb4dab8848
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 17 16:06:34 2010 +0200

    s3-winbind: Added a common rpc_name_to_sid function.

commit 01730e4b471b7ccf699f9435b87a997980156c37
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 17 15:53:06 2010 +0200

    s3-winbind: Use rpc_enum_local_groups in samr.

commit 44c6432d64635c94348d2a1b0e7c42ac03ea9373
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 17 15:52:44 2010 +0200

    s3-winbind: Use rpc_enum_local_groups in msrpc.

commit 89c8ef97c4141e748e5c566a4c25981c31fba507
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 17 15:51:58 2010 +0200

    s3-winbind: Added a common rpc_enum_local_groups function.

commit 8159b1281be6ebbad0626c71070ddf457f2558e0
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 17 14:55:19 2010 +0200

    s3-winbind: Use rpc_query_user_list in samr.

commit e44d7e1582d84473c5cf1d75ee5ea0396b88cee4
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 17 14:54:55 2010 +0200

    s3-winbind: Use rpc_query_user_list in msrpc.

commit c83e8cbe4ae3192b576b47bfae2a4ba90d6e0ce9
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 17 14:54:02 2010 +0200

    s3-winbind: Added a common rpc_query_user_list function.

commit b3f4e18859e051602a236ee552a641ecd743fc68
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 17 13:57:12 2010 +0200

    s3-winbind: Use rpc_enum_dom_groups in samr.

commit 11610a4e996fd70a2df3b1124f8e658cc9188827
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 17 13:56:54 2010 +0200

    s3-winbind: Use rpc_enum_dom_groups in msrpc.

commit bec184048ee691d9f709365f65104a53f2f33cc0
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 16 21:15:54 2010 +0200

    s3-winbind: Added a common rpc_enum_dom_groups function.

commit 692cc06f0c1e1c2dd0d553bb65a8af78ad0a6523
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 16 17:43:57 2010 +0200

    s3-winbind: Rename winbindd_rpc.c to winbindd_msrpc.c.

commit e1c4b5bbe91b0f2e0abf4e1ddfcd9a7232b12fc8
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 9 16:44:02 2010 +0200

    s3-winbind: Replace the passdb backend with a samr/lsa based backend.

commit 488badb8acdb6bcf9135a3073b08e4f5526d73b0
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 9 15:20:13 2010 +0200

    s3-winbind: Implemented samr backend function common_sequence_number.

commit 645ce68e357948c8bddf46e7b3777788af4d0a72
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 9 15:12:37 2010 +0200

    s3-winbind: Implemented samr backend function common_lookup_useraliases.

commit d92cb43b7723c8103a62602dfe1a02eba2526576
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 9 14:57:15 2010 +0200

    s3-winbind: Implemented samr backend function common_lookup_usergroups.

commit c60a9e8077d875f7b4c9a11351f06506fafda133
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 9 14:41:54 2010 +0200

    s3-winbind: Implemented samr backend function common_password_policy.

commit 54e8f8bd578ce6c0df30eecde471190ee700dc32
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 9 14:39:55 2010 +0200

    s3-winbind: Implemented samr backend function common_lockout_policy.

commit de7990bca160c1f54ce4c1ad848b2761b77c5960
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 9 14:33:02 2010 +0200

    s3-winbind: Implemented samr backend function common_rids_to_names.

commit 79700e690e44485b5037bd191934a56b6e765655
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 9 11:52:26 2010 +0200

    s3-winbind: Implemented samr backend function common_sid_to_name.

commit f11648bfd7dfdacff5889dc3f12d89b59146b4f4
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jun 8 14:42:59 2010 +0200

    s3-winbind: Implemented samr backend function common_name_to_sid.

commit 483d4528d97670d13d1cdb69a041d587e6e2194f
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jun 8 08:47:13 2010 +0200

    s3-winbind: Implemented samr backend function common_enum_local_groups.

commit 47447809c825c90992abd67ef38a7e38b835a072
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 7 22:15:37 2010 +0200

    s3-winbind: Implemented samr backend function sam_lookup_groupmem.

commit 41939ce32f66c288e51013648adfdcae64a97396
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 7 21:46:02 2010 +0200

    s3-winbind: Implemented samr backend function sam_trusted_domains.

commit 48147555d2a2e879b027c09fb48c2ab7c40f4126
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 7 21:20:15 2010 +0200

    s3-winbind: Implemented samr backend function sam_query_user.

commit 7ee0ebe40604123e38b02661ac9cba294ee23563
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 7 16:39:44 2010 +0200

    s3-winbind: Implemented samr backend function sam_enum_dom_groups.

commit 9d0d6ed66f582464dd874ec793cdeb7cf1b9aece
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 7 16:18:12 2010 +0200

    s3-winbind: Implemented samr backend function sam_query_user_list.

commit cc3d9dd042c6c7abd1815acca0af4ab3fb427c73
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 7 10:18:01 2010 +0200

    s3-winbind: Added a skeleton for samr based functions.
    
    The goal is to replace the passdb backend later.

commit 9fa72399073731aba54dfe70c35677b3c2960589
Author: Andreas Schneider <asn@samba.org>
Date:   Thu May 27 12:06:24 2010 +0200

    s3-winbind: Initialize the server_info on winbindd start.

commit 30d25210a97403c083f7f8babe2eaa4d4cdfc1ad
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Jun 11 11:48:37 2010 +0200

    s3-rpc_client: Use the right memory context for array elements.

commit 7d013f4065caad4caf742adc37b0b7622419de1a
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 14 11:49:32 2010 +0200

    s3-winbind: Free some memory which isn't needed anymore.

commit b37db757b6d552a9b3dea7428a811e403a2c6bbd
Author: Günther Deschner <gd@samba.org>
Date:   Mon Jul 5 15:24:55 2010 +0200

    s3-build: add idl_full to Makefile.
    
    Guenther

commit cb52b1ad99e17c09d4c429a780f30772efd6eaf9
Author: Günther Deschner <gd@samba.org>
Date:   Mon Jul 5 15:24:27 2010 +0200

    s3-idl: support --full for s3 build_idl.sh as well.
    
    Guenther

commit 6071ca9daed6e18302da546e5de0c7b1d282bbd2
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jul 5 15:19:31 2010 +0200

    s4:include/smbldap.h - introduce a placeholder for "LDAPMessage" if we don't link against a LDAP library

commit 1d166fd3cff7ed8b6d3d17427fb18fa9f6405b48
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jul 5 11:44:48 2010 +0200

    s4:winbind/wb_cmd_setpwent.c - fix a possible crash condition in the "winbind struct test"
    
    Use a "talloc_strdup" for duplicating usernames.

commit afcf18f3c996558135cb2535e10a9d5dd32f86e7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jul 4 23:21:07 2010 +0200

    s4:samr RPC server - "SetUserInfo" - allow some more informations to be set
    
    Taken from the s3 implementation.

commit 915ddf0dc74d2b36d5da2c1bf377a289291c13b8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jul 4 22:34:43 2010 +0200

    samr.idl:UserInfo structures - fix some names according to MS-SAMR documentation
    
    See MS-SAMR section "FULL IDL"

commit 3278554b3e8864bc412926b67faf8a924a4416c7
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 5 12:36:19 2010 +0200

    s3: Make talloc_attrs() static

commit dfc84ece9ddcaf510bac79e006f05dfdad9f2770
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 21:53:52 2010 +0200

    s3: Remove procid_self() from srv_spoolss_reply[open|close]printer()

commit 9e4ae600b700406fdfb797b0217ec2b7503bfc59
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 20:50:11 2010 +0200

    s3: Remove procid_self() from ctdb_read_req() and ctdb_handle_message()

commit 1832e38425b12841d67aa6194bd4ae53697077ab
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 20:49:43 2010 +0200

    s3: Remove some type-punned warnings

commit 2838047657d5ba37b1ba0259577875919c47b09c
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 20:31:02 2010 +0200

    s3: Put serverid_key and serverid_data together

commit 390c3ffc2a5ec90ad0715c278ecef56a6c1bd9b2
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 20:20:44 2010 +0200

    s3: Remove procid_self() from brl_close_fnum()

commit 6436ea3e7a0000ee1e494b7e81138a948c33c731
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 20:18:29 2010 +0200

    s3: Remove procid_self() from srv_spoolss_drv_upgrade_printer()

commit b0f76a37d35b4e4c688d3a44180f9ae96d9ecb02
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 20:17:32 2010 +0200

    s3: Remove procid_self() from cancel_pending_lock_requests_by_fid_smb2()

commit a521ad4b5ab4849a503e14bef5cc1120ddb18fdc
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 20:16:35 2010 +0200

    s3: Remove procid_self() from remove_pending_lock()

commit e168b85f00540892508c888a17b07e1981e9ad5a
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 20:14:27 2010 +0200

    s3: Remove procid_self() from fill_deferred_open_entry()

commit aa217afc46f3be4b6e5dbdc7289044e661924ab3
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 20:06:07 2010 +0200

    s3: Remove procid_self() from do_lock_cancel()

commit 1af668df028e238a17e7ce0bf30107189a789f55
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 20:05:43 2010 +0200

    s3: Remove procid_self() from do_unlock()

commit 471a47a1de504ea60a1411f44ea82eec123ae0a8
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 20:02:30 2010 +0200

    s3: Remove procid_self() from do_lock()

commit b485c1917fd4320dee1efbafd77cbf402ed62971
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 20:01:48 2010 +0200

    s3: Remove procid_self() from query_lock()

commit 9b0fbcf35ad94e984c085eb209034325396db712
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 19:56:51 2010 +0200

    s3: Remove smbd_messaging_context() from shutdown_other_smbds()

commit 0ea7aed7461767fbdce90ea30dde33816bc41d5e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 19:51:43 2010 +0200

    s3: Remove smbd_messaging_context() from make_connection_snum()

commit a2d7cd55582d6e8ec31661726ccbe231c0c47817
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 19:50:35 2010 +0200

    s3: Remove smbd_messaging_context() from reprocess_blocked_smb2_lock()

commit 3df821acc462626efba86acd7c6a278473d4f0c2
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 19:50:25 2010 +0200

    s3: Remove smbd_messaging_context() from remove_pending_lock()

commit 411412dc65961acf8132ae03a3120c24e8602ef0
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 19:47:45 2010 +0200

    s3: Remove smbd_messaging_context() from push_blocking_lock_request_smb2()

commit 8aa3f47dc96b41b1f8b589f55633a774492e253c
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 19:47:02 2010 +0200

    s3: Remove procid_self() from irix_oplocks_read_fde_handler()

commit c63f75f17c51d1e6ddb4411bc4c0ad3c3e7edb95
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 19:46:15 2010 +0200

    s3: Remove smbd_messaging_context() from smb_set_posix_lock()

commit 8ea271bb2e9e94093c1849a5840bb3a2a38f728e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 19:44:57 2010 +0200

    s3: Remove smbd_messaging_context() from linux_oplock_signal_handler()

commit 02a42a0a1d7d10495711e1a8621d45629e810c67
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:46:27 2010 +0200

    s3: Remove procid_self() from blocking_lock_cancel_smb1()

commit f60c6f55c96f4ed1ed87a4bbc4746d6585d3552a
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:45:15 2010 +0200

    s3: Remove procid_self() from process_blocking_lock_queue()

commit a9aa582de51df042e17e5c35c9e925436bf35afa
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:44:46 2010 +0200

    s3: Remove procid_self() from remove_pending_lock_requests_by_mid_smb1()

commit a07c1586ba280d08dadf1db9ff3f478ac47c9307
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:44:14 2010 +0200

    s3: Remove procid_self() from cancel_pending_lock_requests_by_fid()

commit c49f6a681dca609353263410c809a8c0c90f7aae
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:43:39 2010 +0200

    s3: Remove procid_self() from generic_blocking_lock_error()

commit d42806a01389fc3f265f3490228c3f82600d7077
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:42:55 2010 +0200

    s3: Remove procid_self() from push_blocking_lock_request()

commit eb29f84b5f83306be68804d9edd9be8c1922fa9b
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:40:57 2010 +0200

    s3: Remove smbd_messaging_context() from blocking_lock_cancel_smb1()

commit dd48e0afe06087622483605f472f382f5448dd70
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:40:40 2010 +0200

    s3: Remove smbd_messaging_context() from process_trans2()

commit ae75a90b188a34eff806797fdcfd14586135c285
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:39:57 2010 +0200

    s3: Remove smbd_messaging_context() from process_lockingX()

commit e606b271144fb004adce0a3b265e61b44bf4d38e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:39:31 2010 +0200

    s3: Remove smbd_messaging_context() from reply_lockingX_error()

commit fef875f64fcdae094aabe291b9b8849c28324015
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:38:12 2010 +0200

    s3: Remove smbd_messaging_context() from push_blocking_lock_request()

commit 75e16757e3e696f1a2f4e8d438d0634abe327ab0
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:35:06 2010 +0200

    s3: Remove smbd_messaging_context() from contend_level2_oplocks_begin_default()

commit d1587f99248c7616d168e7025d2c58c4fa7245e4
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:34:31 2010 +0200

    s3: Remove smbd_messaging_context() from reply_to_oplock_break_requests()

commit b01a41d05b06962cae748f0f8fbb7da87861db07
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:32:17 2010 +0200

    s3: Remove smbd_messaging_context() from smbd_do_locking()

commit 914b1c034fe9f52b4c858486730543bee8daaf88
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:31:41 2010 +0200

    s3: Remove smbd_messaging_context() from rename_open_files()

commit 8da057550758919fa0bded72c2ec973f2aefd1d6
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:31:09 2010 +0200

    s3: Remove smbd_messaging_context() from reply_unlock()

commit 9a3f53075ed1d5406dc3b09e8e01829c821723df
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:30:48 2010 +0200

    s3: Remove smbd_messaging_context() from reply_lock()

commit 80cc726b4aadcccca34a32f0352c4cad73d2af95
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:30:08 2010 +0200

    s3: Remove smbd_messaging_context() from reply_writeunlock()

commit 298da9a0a4f1c6374bdd99fd0ada9293a9eddb52
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:28:53 2010 +0200

    s3: Remove smbd_messaging_context() from reply_lockread()

commit ba3b101c45f67154fe11d27d6c432ddf9a65a0d1
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:28:04 2010 +0200

    s3: Remove smbd_messaging_context() from send_break_message()

commit e6a089484bbde72368a93ca83e69858fb3d2be8e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:26:57 2010 +0200

    s3: Remove smbd_messaging_context() from exit_server_common()

commit 6c53365d119fa1b2685d6d6d85604d2c0bee6376
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:26:14 2010 +0200

    s3: Remove smbd_messaging_context() from close_normal_file()

commit f22e58bcd35a5219463863f7dae2d771d9cd5f0b
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:25:02 2010 +0200

    s3: Remove smbd_messaging_context() from notify_deferred_opens()

commit 50db5cb0dfaad0c556c375dee20ee6a2ee881db4
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:20:11 2010 +0200

    s3: Remove procid_self() from fill_share_mode_entry()

commit b9032978785be65dcc189ea982bd843fa8453b80
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:18:58 2010 +0200

    s3: Remove procid_self() from init_strict_lock_struct()

commit 07854cb099555a3d1590ec310b1d938e786a9eb5
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:17:36 2010 +0200

    s3: Remove procid_self() from make_connection_snum()

commit 5387d6ee16d575251d656ce3e17b933e1be52343
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:15:36 2010 +0200

    s3: Remove procid_self() from claim_connection()

commit 33242471e5ad974bf96d2340c9aa8d56941795e7
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:12:24 2010 +0200

    s3: Remove NULL checks from claim_connection()
    
    Nowadays this is only called from make_connection_snum() where we always
    provide a connection_struct.

commit faef081e967f657fb7043de683131f230f5e22c4
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:09:59 2010 +0200

    s3: Remove procid_self() from push_blocking_lock_request_smb2()

commit c89b55b5736db5a78ab5949c762afd281e707256
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:08:16 2010 +0200

    s3: Remove procid_self() from reply_negprot()

commit 2d7cce6b7c0e38a8eb3ecdd9972ba25138f1845e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:07:29 2010 +0200

    s3: Remove procid_self() from break_kernel_oplock()

commit 13441a9e1832a99742b1ca9919f1b61fbccd8419
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:06:26 2010 +0200

    s3: Remove procid_self() from session_claim()

commit f1d6eed9626f286a41a0280e55b91cfd1d16eeb9
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:06:01 2010 +0200

    s3: Remove procid_self() from exit_server_common

commit 23790c9a8f54593602dce27a3fb1b1f752299431
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:02:36 2010 +0200

    s3: Add sconn_server_id()

commit 58b9595babebdeb42cd6ffdc2b12e54b46964127
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 18:02:19 2010 +0200

    s3: Add missing prototype for smb2_opcode_name

commit 0220246c2683e363d4871c7b93480438a5d88a7a
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 17:57:57 2010 +0200

    s3: Add messaging_server_id

commit 9cc52e8411c5b5bda73bbbe58d98a73ebd671b65
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 17:50:04 2010 +0200

    s3: Add msg_ctx to smbd_server_connection
    
    It would be obvious to initialize this in smbd_init_globals(), but there the
    messaging_context can't be initialized yet because we don't have smb.conf
    loaded yet.

commit a27bd84bf827fc3f7efe6afb6329d98a20a00389
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 17:49:30 2010 +0200

    s3:Fix a bogus uninitialized variable warning

commit 300667e4a9f02104fc8759dd846ea41f400441bf
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 16:54:04 2010 +0200

    s3: Pass procid_self() explicitly to messaging_ctdbd_connection()

commit 849f72b254ee52501ba46e8419938d3bf5e31900
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 16:51:06 2010 +0200

    s3: Create a unique id for the smbd parent

commit da35836dd50e7f8036ca79efafc4009eae58222f
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jul 5 10:05:27 2010 +0200

    s3: Keep the connections.tdb data format fixed
    
    At Simo's request, we can not change internal databases anymore. Sorry for not
    respecting this policy.

commit d300085868b7ba3f5cd4dd24fbea8e35ad9f87ee
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Mon Jul 5 00:20:37 2010 +0300

    Changed passwords.py to use the correct account as acl checks now pass.

commit 81240b13b365400e2da903a7fc0af1f501bc1249
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Mon Jul 5 00:17:38 2010 +0300

    s4-dsdb: Implementation of User-Change-Password and User-Force-Password-Change
    
        These CARs need to be checked on password change and password reset operations.
        Apparently the password attributes are not influenced by Write Property.
        Single detele operations and modifications of dBCSPwd are let through to the
        password_hash module. This is determined experimentally.

commit 343e9320ba4446635a50a0fa3849888f3b265e23
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jul 4 10:41:17 2010 +0200

    s4:subtree_rename LDB module - Cosmetic fixes

commit 7d483cdc04d0e58ea171d5d94f53013fb2c2cc0e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jul 4 10:23:41 2010 +0200

    s4:subtree_delete LDB module - fix comments and add my copyright
    
    (I've introduced the subtree delete mechanism)

commit 83dedef2c7b3c471d37f532f56d8eb0d45c20e51
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jul 4 21:22:28 2010 +0200

    s4:wb_cmd_list_groups.c - don't crash when we don't get any group at all

commit 680453a9069fc5f7c84344d702fbd9ac5819401a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jul 4 21:19:36 2010 +0200

    s4:wb_cmd_list_groups.c - indentation and comment fixes

commit b0bba4003e928cdf0540047d6e4b7659cb0ac765
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jul 4 20:04:28 2010 +0200

    s4:libnet - add missing "talloc_free"s for "c" contexts on "recv" operations

commit 05237dca11b902104e271120a31a8a3114b35cc4
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 20:04:55 2010 +0200

    s3: Remove an unused variable -- thanks, metze!

commit 23a31becacee9da11ebe4dff4a3146e19c95a5be
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 20:45:43 2010 +0200

    s3: Remove unused msg_flags from connections.tdb
    
    This breaks rolling code upgrade!

commit b0c83d50f9f609848c19180b6b032e73a1d504cb
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 20:40:46 2010 +0200

    s3: Replace register_message_flags() with serverid_register_msg_flags()
    
    message_send_all is now done by walking the serverid.tdb, not the
    connections.tdb anymore.
    
    Günther, Simo, please check!

commit 8cf1cd2d5c0469f170b0f81dda94a53ce8575af9
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 16:41:51 2010 +0200

    s3: Use msg_ctx->id in messaging
    
    This removes some references to procid_self() deep inside the code

commit 7f0e6df88345c1154f19fd263966ad20c73f5d52
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 16:28:13 2010 +0200

    s3: Pass the new server_id through reinit_after_fork

commit 5a3c64668a33fc3fa8f87a78d06fa040eed9f8f8
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 16:18:12 2010 +0200

    s3: Re-initialize the server_id in messaging_reinit

commit b3194be286a6af28044375e893cfa0b095dba6e6
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 16:09:09 2010 +0200

    s3: Fix some type-punned warnings

commit eb50f77154e23b9dc231926d5a0af07dd7761bc4
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 16:08:59 2010 +0200

    s3: Fix some nested extern warnings

commit b01958b0bdb1a7115b82fc7029d8ffe630614cff
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 16:08:03 2010 +0200

    s3: Remove serverid_[de]register_self
    
    This removes some deep references to procid_self()

commit ba57d23c1ce5ef3b6c4b2e5e100a0457b8abdcbf
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 14:59:23 2010 +0200

    s3: ALWAYS run make test before checkin ....

commit 34558ae9458519f785c1fee48982b1efccaff446
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 14:35:05 2010 +0200

    s3: Slight reshaping of server_exists_parse
    
    Doing a copy and then do the compare is a bit pointless, use memcmp

commit f8e7077d5ca738a62386917c14aebce515955c68
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 13:46:48 2010 +0200

    s3: Don't attempt to deregister from serverid twice
    
    The parent has to take care of crashed child processes anyway, so we don't have
    to clean up in the child

commit 9e3fc22c600e3da150e96ac5f7823835c8be4333
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 11:32:50 2010 +0200

    s3: Fix bug 7338, smbget skips leading slash when using a custom outputfile

commit 285176cbc9e77c6f70aabbc33bae37d35ffe808a
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 11:02:21 2010 +0200

    s3: Fix some nonempty blank lines

commit 8c0fbc410798512b7a4b7db73bcb24cde6fa7849
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jul 4 10:01:42 2010 +0200

    s3: Fix bug 7336: Enable idmap_passdb module build as shared

commit e17ce247a3575ca868bc6e69a6491ff033551443
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jul 3 22:41:23 2010 +0200

    wbinfo: Fix error messages

commit 6dc1c708760b887a5b195f860cd0a02cfcfffadd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 3 21:09:06 2010 +0200

    s4:torture/rpc/samlogon.c - strip trailing whitespaces

commit e2e09f5c45cef1a826c5ab30272b21771d966013
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 3 21:04:47 2010 +0200

    s4:torture/rpc/samlogon.c - provide a function which sets and afterwards resets the minimum password age
    
    This is needed since we on s4 do now use the Windows Server standard of 1 day.

commit 518232d4578d700f5f5ea1609275a6cd1de3a1e7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 3 15:52:00 2010 +0200

    s4:kinit blackbox test - set/reset also here the "minPwdAge"

commit f41d9eb8dc5cf63625260ce577548b0471fc84c8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 3 15:37:45 2010 +0200

    s4:dsdb/tests/python/ldap_schema.py - remove a now useless "schemaUpdateNow" request
    
    "schemaUpdateNow" on s4 is now a non-op and therefore not strictly needed anymore.

commit 465c601071df9de9f15f65bdad3355a77cdc1d59
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 3 14:52:18 2010 +0200

    s4:urgent_replication.py test - remove unneeded "relax" control parameters

commit 326aac06f52a1e4d37449622e02d561ee12608cf
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 3 14:33:23 2010 +0200

    s4:schema_load LDB module - fix a segfault condition on schema refresh
    
    The schema refresh operation itself starts requests from the top of the LDB
    modules stack (see call "dsdb_schema_set_attributes" - search operations).
    This doesn't work well when these do perform "dsdb_get_schema" calls. Since the
    new schema isn't marked as "refreshed" atm (but in fact it still is - we didn't
    terminate the reload/refresh yet) we could perform other calls to
    "dsdb_schema_refresh" and run into serious trouble (segfault).

commit 02eab6602640e73f295a37019c0989dbd799229b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 3 14:07:44 2010 +0200

    s4:schema_set.c - Fix a comment

commit d1ee7ab16ee2993e12dad2a3eed2f1719fae11d7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 3 14:05:04 2010 +0200

    s4:dsdb_schema_set_attributes - remove unneeded filter criterias
    
    We already choose the right entry by specifying the right basedn with scope
    "LDB_SCOPE_BASE".

commit 368aa25f7c1a2b8c05780479b1e03a2632c42d11
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 3 12:47:46 2010 +0200

    s4:dsdb_module_load_partition_usn - check for "res->count" equal/unequal to 1

commit 4df9757b48d72f0fd33ef6b7b4e359d6baa9b44f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 3 12:36:34 2010 +0200

    s4:schema_set.c - fix typo

commit de81160e754cfb65a471f29e03b6e1f1c1461eb2
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 3 12:35:16 2010 +0200

    s4:schema_load.c - jump to "failed" on an error condition

commit 43b0c314d80efdaec17d601929d3e6b0cdebcff0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 3 10:56:14 2010 +0200

    s4:setup/provision_basedn_modify.ldif - set "minPwdAge" to the right value
    
    Now we should have fixed all password related tests to cooperate with this value

commit c0ee606474ffb355e7c4e8dd70c773fe8904fa4b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 3 11:27:20 2010 +0200

    s4:pwsettings net utility - change also here the "minPwdAge" to be the real default
    
    Which is one day.

commit 73c69a195abc68146352da399418b9f64a6ca803
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 3 11:23:39 2010 +0200

    s4:blackbox/test_passwords.sh - perform also here the adaptions for "minPwdAge" != 0

commit ec9fa906c79c4f71d0230dd57dfde6dd67f37201
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jul 3 11:07:10 2010 +0200

    s4:dsdb/tests/passwords.py - set and reset the "minPwdAge" properly
    
    After a patch proposal of Nadya and some reflection I think that it's really
    worth to change all tests which need a "0" "minPwdAge" to set it manually and
    reset the default afterwards.
    
    So we can finally introduce the default "minPwdAge" on provision.
    
    Patch proposal by: Nadya Ivanova

commit 86cde0a7dc8388747060a11f101f715645ef0eae
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Fri Jul 2 16:38:05 2010 +0300

    Tests for user-change-password and force-password-change access rights

commit 61e956036e28b8fe8c57ab47c478a542cbf44532
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jul 2 13:08:00 2010 +0200

    s3-net: forgot to set type in winreg getvalue operation.
    
    Guenther

commit 62341537d7c43d678e66ba663ad07be629e3328e
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Fri Jul 2 11:39:39 2010 +0300

    s4/schema: remove unnecessary deletion of dsdb_schema cached pointer
    
    This is needed so we can find and free old schemas based using
    the cached pointer

commit d9429a874c5bd463f4b89db55fdae14b1764a494
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jul 1 11:22:20 2010 +0200

    s3-registry: remove 2 byte winreg type limitation.
    
    We already pull and push 4 byte winreg type in the registry.tdb, we were just
    not using full 4 bytes within the reg_object functions.
    
    With this change we finally pass the set extended value torture test.
    
    Guenther

commit ddb8fae40174c72be8b3b6fc1c67cbaad3343153
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jul 1 15:50:58 2010 +0200

    s3-registry: allow to read NULL entries (that we allow to store) back from the tdb.
    
    Guenther

commit 6da040261debcbd4b193caf9d5a055efad898aca
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jul 1 03:04:39 2010 +0200

    s4-smbtorture: enable extended SetValue test against Samba3.
    
    Guenther

commit 786198e523257de75d9238cd993594e5f8a8a4b7
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jul 1 02:57:19 2010 +0200

    s3-registry: remove unused reg_util_marshalling code.
    
    Guenther

commit b381fba0892021f164223bae8b0951014a28735e
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 29 16:13:15 2010 +0200

    s3-registry: avoid using registry_value union.
    
    Just pull and push data as is.
    
    Guenther

commit 84c5dd1e4bb1b4c45d7b5ac68ab432cfc399835c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Jul 2 11:39:28 2010 +1000

    s4-ldb: fixed error handling in openldap backend
    
    fixed several bugs in error handling. the ldb context was used without
    being initialised in the error paths, and several error paths did not
    set an ldb error string.

commit 277a9b4aaca60745acfa3f82bd021390de337a26
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Jul 2 11:37:50 2010 +1000

    s4-ldb: fixed the parsing of references in the openldap backend
    
    We need to use ldap_parse_reference() not ldap_parse_result()

commit f9022a1a30dbe57c6b6226c1f3d749b0ba87ce66
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Jun 30 13:49:05 2010 +1000

    s4-dsdb: fixed use after free of sasl mechanisms opaque
    
    the supportedSASLMechanisms opaque must live for at least as long as
    the ldb, or we can crash when the first connection is torn down
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 2671b5aeb0442b1c2a67ba9c43113ba3eec6bc15
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Jun 30 13:47:29 2010 +1000

    s4-dsdb: fixed spelling of supportedSASLMechanisms
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit c48279896d93ab8d4490cbf9d47eb6f763b43785
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 30 23:25:32 2010 +1000

    s4:dsdb Ensure we free old schema copies
    
    It was reported by aatanasov that we kept around one whole schema per
    modification made.  This does not fix that, but I hope moves us closer
    to a fix
    
    The most important part of the fix is that:
    
    -		if (schema_out != schema_in) {
    -			talloc_unlink(schema_in, ldb);
    -		}
    
    was the wrong way around.  This is now handled in the schema_set calls.
    
    Andrew Bartlett

commit 5a66edc99ee782e36efa2fc64a7603247ba3abc1
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Jul 1 23:47:02 2010 +0300

    s4/dsdb: Assert DSDB_FLAG_*_MODULE is always passed in function call
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 73474998e167837002da495993fa75de17e3aecd
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 28 21:29:05 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/util.c Use DSDB_FLAG_NEXT_MODULE flag
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 682f7a53383f1c72f53fc5238f4ca2db348f9df3
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 28 21:28:46 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/subtree_delete.c: Use DSDB_FLAG_NEXT_MODULE flag
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit bf373d5c29737264724ae4f86e05a79d7b69b4ee
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 28 21:28:30 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/schema_load.c: Use DSDB_FLAG_NEXT_MODULE flag
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 7c653c429a7d31d00620fc8cfda913a814c1048f
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 28 21:28:10 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/samldb.c: Use DSDB_FLAG_NEXT_MODULE flag
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 0e023f23408df71aa3ad24f0a78cfead44d63d4b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 28 21:27:51 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/samba3sid.c: Use DSDB_FLAG_NEXT_MODULE flag
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 30a69eb4a0cf61cc21c11bbb71494aae57bfe139
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 28 21:27:32 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/rootdse.c: Use DSDB_FLAG_NEXT_MODULE flag
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 68c6e607d9facd20ba792cd8f8e1a5e8740bf300
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 28 21:26:53 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/ridalloc.c: Use DSDB_FLAG_NEXT_MODULE flag
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit f3f87e8deed86d066346e852269ae12d1966ea0a
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 28 21:26:07 2010 +0300

    s4-source4/dsdb/samdb/ldb_modules/repl_meta_data.c: Use DSDB_FLAG_NEXT_MODULE flag
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit b29921b82ea34f307f04acb86afe64f33a69ab1e
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 28 21:25:28 2010 +0300

    s4-dsdb/samdb/ldb_modules/linked_attributes.c: make use of DSDB_FLAG_NEXT_MODULE flag
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit f570eec26432a66d7fbc2a70017b3df8dbdd1e89
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 28 21:07:51 2010 +0300

    s4/dsdb: Add DSDB_FLAG_NEXT_MODULE flag
    
    Although it is not currently used in implementation,
    my intention is for callers to clearly state what
    action they want to execute.
    
    Currently when a caller wants to pass the call to the next
    module in the chain, this flag is either omitted or 0 is used
    (which is somewhat hacky, isn't it)
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 3721161d90c835604f38d2f178fbcd8c5f708077
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jul 1 17:47:46 2010 -0400

    s3:auth Fix switch statement referencing a uninitialized variable
    
    Looking at the original commit (9a747d500fad699038ecf75615c680a9fd9e4cc7)
    this seem the right solution.
    
    Andrew please check.

commit d1538add736ae3ac7ca3c728e2bd1696d588b374
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jul 1 00:44:15 2010 +0200

    s3-nss_info: only include nss_info.h where needed.
    
    Guenther

commit 04641abb33a06486327088105b578865ed727a23
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 30 23:48:34 2010 +0200

    s3-libads: move ldap posix schema defines to their own header file.
    
    Guenther

commit 3f453f73a80c98cc98b6b61698c547339817285c
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 30 23:47:03 2010 +0200

    s3-libads: move spnego defines to their appropriate header file.
    
    Guenther

commit dff7be8ccb9538cfe8468884aa2eecd129c631cb
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 30 23:38:57 2010 +0200

    s3-libads: only include libds flags where needed.
    
    Guenther

commit 6d810eff81f6a0abb371b2661cb0711e46e1bf1d
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 30 23:20:22 2010 +0200

    s3-libads: move keytab macros out of ads.h.
    
    Guenther

commit 56538be6af9d4d76bffe5f142ba6a62e978561da
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 30 22:36:40 2010 +0200

    s3-libads: move ads_dns out of main includes.
    
    Guenther

commit e64df82146cf62ae6e13b8e4c1adcc8b49b2fd6d
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 31 12:51:58 2010 +0200

    s3-libads: move ads_status to a separate header file.
    
    Guenther

commit 6b25d47fea231fad2009a1e0971ccfa1acf68176
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 31 12:51:29 2010 +0200

    s3-libads: move ads_protos.h to ads_ldap_protos.h.
    
    Guenther

commit 568a54f324c4564438edd6369ae4fdf17b667e6e
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jul 1 23:15:13 2010 +0200

    s3-waf: fix the build after smbd/change_trust_pw.c removal.
    
    Guenther

commit f7a3bd4fa42eba56675c46d0a2baf0dccded8018
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 3 19:05:43 2010 +0200

    tdb: fix the build on mac os x 10.6.4.
    
    Guenther

commit eb634e8c7fcce424186514a8e0a8a799d6e7fc8d
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jul 1 01:19:39 2010 +0200

    s3-libnet_join: small IDL enhancement.
    
    Guenther

commit 2f9076ac29904c98e1a794d04c79db637283f888
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 30 23:09:05 2010 +0200

    s3-libads: use shared well known guids.
    
    Guenther

commit b9e6962dd7616eaeaf8a0bc42c1180541ca06dd3
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 30 22:32:00 2010 +0200

    s3-libads: move KRB5_ENV_CCNAME to separate header krb5_env.h.
    
    Guenther

commit c2e2f783d02c7128ce1d7748ec2764998edc1be1
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jul 1 17:23:01 2010 +0200

    s4:dsdb/tests/python/passwords.py - add the right result codes for user password changes
    
    They will be enabled once the ACL modules supports it. It was my fault to not
    import them earlier.

commit 21c215512661907832570d18e7e61b3bb6447dcf
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jul 1 16:35:12 2010 +0200

    s4:lib/registry/ldb.c - free some "msg" objects earlier through explicit "talloc_free"s
    
    No other functional change

commit de8a339cdf95f6737a8b1d34aa2aa9287bae0e46
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 16:10:32 2010 +0200

    s4:registry - move some common constraint checks to the "local" backend
    
    They should also be enforced when we don't use "ldb".

commit d81e2af69de4401335681d859c44b2c30fb4456c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 18:27:49 2010 +0200

    s4:lib/registry/tests/registry.c - test recursive key generation

commit ae50385d524d8cb4831d8eb0c45feb4d04437f28
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 18:08:47 2010 +0200

    s4:registry - on key add operations we have to handle with paths not always only a name
    
    Recursive key generations are allowed.

commit 781ea5be1399de8abe201ab239d3915331264deb
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 15:45:37 2010 +0200

    s4:lib/registry/local.c - support recursive key generation
    
    Code taken from "local_open_key".

commit 809c74790006c985ac64eb7823a4a450498c832f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 24 21:12:19 2010 +0200

    s4:lib/registry/ldb.c - refactor "reg_path_to_ldb"
    
    This makes it easier to understand and would also support splitting in more
    DN components.

commit 50ae292e60e53275f87ad2281b25eda34d0af59c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 17:37:45 2010 +0200

    s4:lib/registry/ldb.c - use "ldb_path" rather than "ldap_path" as LDB key varibale identifiers

commit d0e877e785f6463dadbb973bc42174674cbdbad2
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 15:52:19 2010 +0200

    s4:lib/registry/ldb.c - "ldb_add_key" - fix talloc handling
    
    - free "msg" when possible
    - prevent "talloc_strdup"s where not necessary

commit e4ba8fb3b9a6eebe7a56179f67d1aeff64cf1abc
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jul 1 13:46:55 2010 +0200

    s3-printing: Fix Bug #7541, %D in "printer admin" causing smbd crash.
    
    Guenther

commit 74721bf706371d3fdc5783995a60808763fc7e6d
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jul 1 01:22:11 2010 +0200

    s3-registry: fix malloc/talloc mismatch upon free in reg_enumvalue().
    
    Guenther

commit 69610484872bb8c9d52cd1b12c56a3bf99be78ae
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 30 17:13:42 2010 +0200

    s4-smbtorture: in extended setvalue winreg test, reduce max random buffer length to 16 bytes.
    
    Guenther

commit 17ddefef8a3dd299fd318a9e3908396beba62cbb
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 30 13:25:28 2010 +0200

    s3-docs: try to make "default case" explanation a little clearer.
    
    Guenther

commit 6625aada8174d61f52d6ef22d49edefa15f4a9bb
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 30 12:10:55 2010 +0200

    s3-libsmb: move change_trust_account_password out of smbd into libsmb.
    
    Guenther

commit e1c185d07db69827435812227a392e711bc06db0
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 30 02:07:15 2010 +0200

    s4-smbtorture: enable QueryMultipleValues{2} torture tests against samba3.
    
    Guenther

commit 2a4bd64973252d87b34f90e14872285ed12135ed
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 30 16:31:46 2010 +0200

    s3-winreg: implement _winreg_QueryMultipleValues().
    
    Guenther

commit de0d9e0bff7d39c3f784112bd043095aeaa1042a
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 30 02:03:27 2010 +0200

    s3-winreg: implement _winreg_QueryMultipleValues2().
    
    Guenther

commit 21869f5ed00af5a05f1d109339cd8b725fcc7d61
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 30 02:02:43 2010 +0200

    s3-registry: add reg_querymultiplevalues() to reg_api.
    
    Guenther

commit a329dd02674010e673fbcc7acf369a19befb6738
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 30 17:13:14 2010 +0200

    s4-smbtorture: add some more multiple_values_tests to RPC-WINREG.
    
    Guenther

commit 14f8953aa4f000173a051b8010252063db5295c1
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jun 30 11:09:10 2010 +0200

    s4:dsdb: move dsdb python tests from lib/ldb/ to dsdb/
    
    metze

commit 19d93c6a1e810dbd634f35cf440412c1ff958448
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jun 30 10:57:37 2010 +0200

    s4:ldb/python: make it possible to run tests standalone
    
    metze

commit 45fc7284982f3d6d3f5757f2e7336c878c4a6519
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 30 10:19:07 2010 +0200

    libcli: Fixed a build warning for a missing prototype.

commit bf844aed5b6ad6a9a5287ebd9b7da121fa9dd1a8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 30 09:37:08 2010 +0200

    s4:auth/session.c - suppress a warning when freeing "group_string"

commit 6abfe8904a1024512c0ea8bb4844e4409e8d994b
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Thu Jun 24 20:48:07 2010 +0300

    s4:schema/schema_set.c - free LDB message diffs
    
    Especially the "free"s after "ldb_msg_diff" are very important since the diff
    message is allocated on the long-living LDB context.
    
    Signed-off-by: Matthias Dieter Wallnöfer <mdw@samba.org>

commit 2821abee1f85c5d9a191a9880808b7022ac2e0b1
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Thu Jun 24 20:48:07 2010 +0300

    s4:auth/session.c - free "group_string" when not needed
    
    Signed-off-by: Matthias Dieter Wallnöfer <mdw@samba.org>

commit 32b8b401d6de27caa02a258fd540a208c486d1d6
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 30 10:20:11 2010 +1000

    s4:dsdb Fix possible schema segfaults for DRS-replication based schema
    
    The problem here is that if the schema has been modified on the source
    domain, there may be attributes that appear over DRS with 0 values (to
    indicate that any existing values on the target should be deleted).
    This would confuse the previous version of this macro.
    
    Andrew Bartlett

commit 73fbc9c1791c2391ccb59a2a02df009cbd2fdc7e
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 29 23:35:45 2010 +0200

    s4-smbtorture: remove duplicate torture_assert_sid_equal macro.
    
    Guenther

commit cc8d6d99df7f13e5396ec3d8e4943511cbe20cc3
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 29 23:10:47 2010 +0200

    s4-smbtorture: fix incorrect IDL for QueryMultipleValue (aka RVALENT).
    
    Found by torture test.
    
    Guenther

commit 1fb8e192cad7de58586645ca915a8934320bac70
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 29 21:53:00 2010 +0200

    s4-smbtorture: add more sophisticated tests for winreg_QueryMultipleValues{2}.
    
    Guenther

commit f6f21202ebecc82832e10353bdf967cf7920a753
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 22:30:05 2010 +0200

    s4:ntvfs/ipc/vfs_ipc.c - remove unused code
    
    Spotted by the Solaris 10 compiler

commit 146dad103bac0488f8bacc45dfbb2ea099e852ee
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 22:33:32 2010 +0200

    s4:ntvfs/ipc/vfs_ipc.c - add casts to suppress warnings on Solaris 10

commit 645c3d200cd015597896d77fd4c22bc01a8b7da3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 22:33:32 2010 +0200

    s4:ntp_signd/ntp_signd.c - add casts to suppress warnings on Solaris 10

commit 95127b3f5f253ce5df6ec27972c456d0859d23c4
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 22:30:05 2010 +0200

    s4:rpc_server/browser.c - remove unused code
    
    Spotted by the Solaris 10 compiler

commit 06bafb75965983601f9afd08b70c9f7463d4c5f3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 22:30:05 2010 +0200

    s4:smb_server/smb2/find.c - remove unused code
    
    Spotted by the Solaris 10 compiler

commit 00f189f78ca5dcaf9917e231ddaef2b4398db0b5
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 22:30:05 2010 +0200

    s4:smb_server/blob.c - remove unused code
    
    Spotted by the Solaris 10 compiler

commit 4f029f6f1b443db0762c3bac275415b385c26435
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 22:23:15 2010 +0200

    s4:dsdb/new_partition.c - remove the "ldb_next_request" call which we find also below the "if" block

commit 17a5c876a69156843a8f4acca0e52e08845511fd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 22:21:22 2010 +0200

    ldb:ldb_map_outbound.c - "ldb_parse_tree_collect_attrs" - remove unneeded return value

commit 8e9d7e84f6d4a0cdc4ed6d1a8a20c1fc88cefb76
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 22:16:15 2010 +0200

    ldb:ldb_modules.c - "ldb_dso_load_symbol" - remove unneeded caste before "dlsym"

commit 657045ca9aa4abe11088127a05d697e5ae99a5c9
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 22:10:14 2010 +0200

    s4:ldb - "ldb_dn_update_components" - fix free of invalid DN parts
    
    Use "LDB_FREE" for such free operations and in addition wipe also the casefolded
    DN out.

commit f1e92c91b21b354802b8e342e414d62368820b43
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 22:07:51 2010 +0200

    ldb:ldb_dn.c - "ldb_dn_set_extended_component" - free the linearized string when the components change

commit 0f0d9aa9b5959a12385c2b79d7dd35e9d081033c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 22:04:24 2010 +0200

    s4:ldb_dn.c - make the code parts which free extended components consistent
    
    Cosmetic

commit 1e04f49ddbfaa002ba930f2b79883ed3688e1ea8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 21:59:37 2010 +0200

    ldb:ldb_dn - "ldb_dn_explode" - move the "dn->comp_num" initalisation upwards and use "LDB_FREE" for freeing "dn->components"
    
    Mostly cosmetic - no behaviour change

commit be7bff5eb59f903fdf8ea35f4dd330ec4313df76
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 29 19:57:06 2010 +0200

    s4-smbtorture: remove some pointless mem_equal tests in LOCAL-NDR-WINREG testsuite.
    
    Guenther

commit 92f3e143b7b89ce25b996d6e68f130bbd7142af5
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 29 17:19:28 2010 +0200

    s4-smbtorture: handle NT_STATUS_NOT_IMPLEMENTED in GetForestTrustInformation test.
    
    When skipping over it, we can at least verify the credential chain.
    
    Guenther

commit 5bc77c8778dda8e688c1eff0167c67fa19b31d75
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 29 17:16:25 2010 +0200

    s4-smbtorture: use TEST_MACHINE_NAME in test_netr_GetForestTrustInformation().
    
    Guenther

commit b31ff0537a22ec35bc457066002709dcfc9d66ae
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 29 17:13:01 2010 +0200

    s4-smbtorture: add netr_GetForestTrustInformation test to RPC-NETLOGON.
    
    Guenther

commit 62e2d4a504e69d4d1038fa158277783dafddefac
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 29 14:54:43 2010 +0200

    s3-utils: remove rpccheck.
    
    Impossible to get this to compile after the conversion to pidl.
    
    Guenther

commit 0e21b4ffa067237ed2c3037216c14a955f339e51
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 14:48:25 2010 +0200

    Revert "s4/dsdb: Fixed partition_search() not to pass special DN's to LDAP backend."
    
    This reverts commit ed4c107bc1eac8531fdd8d09f7698efcbc7ecb14.
    
    See post "Endi's Bug 7530 patches (LDAP backend)" on samba-technical.

commit 2198831e6b7c112b8f7551fccb25305742636df2
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 29 14:52:43 2010 +0200

    Revert "s4/auth: Fixed authsam_expand_nested_groups() to find entry SID if not available in the DN."
    
    This reverts commit fa9557fee3ca546878d99b77f1ff37f724c37024.
    
    See post "Endi's Bug 7530 patches (LDAP backend)" on samba-technical.

commit 1662e383dd890d48e0e1207a51d4b3f9fb12ab65
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 29 12:26:24 2010 +0200

    s4-smbtorture: add NDR torture test for winreg_QueryMultipleValues2.
    
    Guenther

commit 7ae7750c4085b2d95b46fa4433586e9a68d593ae
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 29 12:14:02 2010 +0200

    s4-smbtorture: add RPC torture test for winreg_QueryMultipleValues2.
    
    Guenther

commit c02cbaae34bd27826ba13f98fc40a396b0e1530d
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 29 12:04:56 2010 +0200

    winreg: fix winreg_QueryMultipleValues2 IDL.
    
    Guenther

commit bf07bf2857517b0972f47f5e9b46b7bde80c041b
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 29 11:40:24 2010 +0200

    winreg: fix winreg_QueryMultipleValues() IDL and torture tests.
    
    Guenther

commit ee01fe8c5bd450c82db3f7a7e8c783ac32b0812d
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jun 29 10:42:36 2010 +0200

    s3-client: Make sure we only write to an opened file.
    
    Found by clang-analyzer.

commit f324036e76abb0b572fb65c4c403e7ede259682a
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jun 29 10:34:17 2010 +0200

    s3-winbind: Make sure we crash if domain is really not found.
    
    Found by clang-analyzer.

commit eb7bf9d7309914fb2207f822e8017e1c1001de46
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jun 29 10:07:22 2010 +0200

    s3-net: Make sure we don't call free on garbage.
    
    Found by clang-analyzer.

commit 1db7356fa17cb3aeffcf4aff2149eaceaa5a62ea
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 28 13:20:18 2010 +0200

    s3-net: Use talloc_asprintf and return if file is in wrong format.
    
    Found by clang-analyzer.

commit e52f3d8637c7af2f0ea57954c7f13389f5a1e125
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 28 21:00:30 2010 +0200

    s3-librpc: Fixed GUID_from_data_blob() with length of 32.
    
    If we hit the case that the blob length is 32. The code goes to the end
    of the function and generates a GUID with garbage.
    So try to convert the blob to the GUID and return.

commit 845e7a609d23677539d9439b941e0dffb53f6bc9
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Tue Jun 29 11:46:22 2010 +0300

    Fixed incorrect use of cn instead of lDAPDisplayName

commit cc7c572b3d87d2bd16cd7ec939a2d8a81bf36ef9
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 23 21:15:43 2010 +1000

    s4:secrets Ensure secrets.ldb uses the same hooks as the rest of Samba
    
    This ensures that, for example, the utf8 functions are the same,
    the GUID handler is the same and the NOSYNC flag is applied.
    
    Andrew Bartlett

commit 48c8896f2ede1c441a1448c2e45106a317b64832
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jun 24 09:42:40 2010 +1000

    s4:selftest Split out PKINIT tests from test_kinit.sh and test enc types
    
    This allows us to run the PKINIT tests only against the main DC (for
    which the certificates were generated), while testing the available
    encryption types in each functional level.
    
    In particular, we need to assert that AES encryption is available in
    the 2008 functional level.
    
    Andrew Bartlett

commit d76e4852ebf6ebaaa0e59b481c4b17ac15310aec
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jun 24 09:40:16 2010 +1000

    s4:kdc Rework the 'allowed enc types' calculation
    
    This changes the calculation to apply the allowed enc types to all
    uses of the key (no point allowing a weak kinit to a key the server
    wanted strongly protected).  It also ensures that all the non-DES keys
    are available on the krbtgt in particular, even as it does not have a
    msds-SupportedEncryptionTypes attributes.
    
    Andrew Bartlett

commit f41e71109744cbacfcbf6b8cf545e1f322d68494
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jun 24 10:03:29 2010 +1000

    s4:auth Query LDB for msds-SupportedEncryptionTypes for the KDC
    
    The KDC needs this to determine what encryption types an entry supports
    
    Andrew Bartlett

commit 5167b97ff2d77ef28c59bb36988835ae421f027b
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jun 28 23:19:16 2010 +1000

    s4:kerberos Add functions to convert msDS-SupportedEncryptionTypes
    
    This will allow us to interpret this attibute broadly in Samba.
    
    Andrew Bartlett

commit 9fc3f8194d55c20e1d5404301a0663888c4a0ba5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jun 28 23:17:28 2010 +1000

    s4:libnet_join Fix typo in msDS-SupportedEncryptionTypes

commit 94637e5fe4724261f1cd5f48d8641e82f4b776ae
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jun 28 23:14:23 2010 +1000

    s4:provision Add an msDS-SupportedEncryptionTypes entry to our DC
    
    This ensures that our DC will use all the available encyption types.
    
    (The KDC reads this entry to determine what the server supports)
    
    Andrew Bartlett

commit 30dc87dab98a864ea640fb1df693b6eb8df6a920
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Jun 28 13:40:32 2010 +1000

    build: only use git when found by configure
    
    this rebuilds version.h whenever the git version changes, so we always
    get the right version with samba -V. That adds about 15s to the build
    time on each git commit, which shouldn't be too onerous

commit 3774ba350e6b828512e693b982e0927877cd13eb
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Jun 28 13:39:00 2010 +1000

    build: allow LOAD_ENVIRONMENT() to pass when no configure has been run
    
    this returns an empty environment

commit 8cbd36afe84685ee1e289fee11065d3eb0cadc22
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Jun 28 12:07:55 2010 +1000

    build: allow always=True/False on SAMBA_GENERATOR()
    
    this allows us to force a rule to always run. Will be used by
    samba_version
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 1e8876a4f1b49a614bc478ae68b067e8cf6aec62
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 28 20:46:39 2010 +0300

    s4/repl_meta_data: remove duplicated (and commented out) log

commit 12bc68d4d0d62c72c3a2b86a38c20238b6e387d7
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 28 20:43:11 2010 +0300

    s4/ndr: Fix tuncating of constant to a 'long' type

commit e6371246ef8a6e0f27880d81ef041e9959b22322
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 28 23:12:10 2010 +0200

    s4:lib/registry/ldb.c - add a missing brace
    
    Sorry didn't check that earlier.

commit ba01b216e23ddae9961f7120792969fc2fe075b1
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 28 21:17:37 2010 +0200

    s4:lib/registry/ldb.c - fix memory handling in "ldb_open_key"

commit 094c1034d2fb11e746261ff5b5048cd52fce2938
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 28 21:15:17 2010 +0200

    s4:lib/ldb/registry.c - handle the classname in the right way
    
    This is for "ldb_get_key_info".

commit 2fb3d8a6cc94bd74974a2cc11996a2032774b08c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 24 20:11:09 2010 +0200

    s4:lib/registry/ldb.c - remove really useless "local_ctx"
    
    "mem_ctx" should fit for these few local allocations.

commit 3935502c67edd436134bac0c663ed3d5b593ec32
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 24 16:17:16 2010 +0200

    s4:lib/registry/ldb.c - retrieve the classname correctly in "ldb_get_subkey_by_id"

commit 77e87e66b0e783cd0717f3fed885fcde629aa434
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 24 16:06:39 2010 +0200

    s4:lib/registry/ldb.c - change the "ldb_get_value" implementation to use the value cache and not an LDB lookup
    
    In addition this fixes the use of special characters in registry object names.

commit 3549425b30f00adfbee7e2a16f35a17c8e4cd2f8
Author: Ira Cooper <samba@ira.wakeful.net>
Date:   Mon Jun 28 13:39:28 2010 -0400

        s3: Change exit on immediate socket failure.
    
        This change makes it so socket errors early in the smbd child
        process cause orderly exits not coredumps.
    
    Signed-off-by: Jeremy Allison <jra@samba.org>

commit b6eb17eb1eb23461149b6c8cbefc41f5265a77d9
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 28 20:26:16 2010 +0200

    s4:auth/sam.c - "authsam_expand_nested_groups" - small performance improvement
    
    We can save one search operation if "only_childs" is false and when we had no
    SID passed as extended DN component.

commit a782eaa2fd6f9b7e7b1ebdab0e0b53e4123cca43
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 28 20:25:47 2010 +0200

    s4:auth/sam.c - "authsam_expand_nested_groups" - cosmetic/comments

commit 03ffed73db41e9433ddc41a6fddf79c2a632a043
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 28 19:57:12 2010 +0200

    s4:auth/sam.c - "authsam_expand_nested_groups" - use "dsdb_search_dn" where possible
    
    And always catch LDB errors

commit 5f9a053d6367fe85f0bb4d18eea658411685b1cc
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Jun 28 20:10:08 2010 +0200

    selftest: Remove accidentally committed dummy test.

commit 7cb98a0cdcef27f591357ec63633b50fd9dce29f
Author: Endi S. Dewata <edewata@redhat.com>
Date:   Mon Jun 28 11:13:03 2010 -0500

    s4/spnupdate: Fixed spnupdate to use secrets credentials when accessing SamDB.
    
    Signed-off-by: Matthias Dieter Wallnöfer <mdw@samba.org>

commit 5bee3efacac76fdf8753a7c7cb2845bf6058d088
Author: Endi S. Dewata <edewata@redhat.com>
Date:   Mon Jun 28 11:18:16 2010 -0500

    s4/libcli: Register LDB_CONTROL_REVEAL_INTERNALS and DSDB_CONTROL_PASSWORD_CHANGE_STATUS_OID controls.
    
    Signed-off-by: Matthias Dieter Wallnöfer <mdw@samba.org>

commit ed4c107bc1eac8531fdd8d09f7698efcbc7ecb14
Author: Endi S. Dewata <edewata@redhat.com>
Date:   Mon Jun 28 10:54:37 2010 -0500

    s4/dsdb: Fixed partition_search() not to pass special DN's to LDAP backend.
    
    Signed-off-by: Matthias Dieter Wallnöfer <mdw@samba.org>

commit fa9557fee3ca546878d99b77f1ff37f724c37024
Author: Endi S. Dewata <edewata@redhat.com>
Date:   Mon Jun 28 10:45:04 2010 -0500

    s4/auth: Fixed authsam_expand_nested_groups() to find entry SID if not available in the DN.
    
    Signed-off-by: Matthias Dieter Wallnöfer <mdw@samba.org>

commit ba0ba4e85b6c248cfc8079d6db9b8a22e55f7336
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jun 28 16:54:56 2010 +0200

    s3: Make some routines static in smbldap

commit 4fc51ad07a1787241a4065d35c0d2783661e3a6a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 28 11:25:43 2010 +0200

    s4:repl_meta_data LDB module - fix counter type

commit fc2d8fcb83909845e4b4676ba37143dcb778d5ff
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 28 11:25:43 2010 +0200

    s4:acl LDB module - fix counter type

commit e5c5d371d144847ce1fbb8daa634d6bfbc1af1ac
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 28 11:21:56 2010 +0200

    s4:dcesrv_drsuapi.c - fix a counter variable

commit 666b611182562ad787d349f3a29c07c61339eee0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 28 11:08:19 2010 +0200

    s4:selftest - also "rpc.samr.users.privileges" does work now

commit 4826fdf95f68b63e5d35e13f8d033db0d0949587
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 28 11:05:59 2010 +0200

    s4:lsa RPC server - Fix up "dcesrv_lsa_DeleteObject"
    
    - Return always "NT_STATUS_OK" on success
    - Remove "talloc_free"s on handles since the frees are automatically performed by
      the DCE/RPC server code

commit d01e36e64716d8184eb225e1feb84ab464333139
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 28 10:45:26 2010 +0200

    s4:knownfail - "pwdLastSet" test does work now

commit 560617399745cd04ddbe8ebe02662d631add9a05
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 28 10:43:11 2010 +0200

    s4:torture/rpc/samr.c - test_SetPassword_LastSet - introduce the delays also for s4

commit c0160d0614ad74be275d4008559a45da3d79d2e7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 12 15:47:14 2010 +0200

    s4:torture - SAMR password tests - activate support for password sets on level "18" and "21"

commit b200d8a5ca2d58f5351b6963c864aa52db925f65
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 22 22:11:00 2010 +0200

    s4:selftest - activate the lanman password changes
    
    This is needed for a working "OemChangePasswordUser2" operation.

commit d6098de507ed46750ecd8063c075c5b1b2b3d32d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 21 22:26:31 2010 +0200

    s4:dcesrv_samr_SetUserInfo - implement right "pwdLastSet" behaviour
    
    Behaviour as the torture SAMR passwords tests show.

commit 3c1a9fb87fe165485abaa694e9d9616e46c8cf6e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 27 23:13:14 2010 +0200

    s4:dcesrv_samr_SetUserInfo - deny operations when "fields_present" is 0
    
    Taken from s3

commit ea83d21341306dfab1f14c9491856a9414a29669
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 21 14:54:19 2010 +0200

    s4:dcesrv_samr_SetUserInfo - port the "SAMR_FIELD_LAST_PWD_CHANGE" check from s3 to s4

commit 4c63bb312fa33f6188e543a62282012edb651bbb
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 21 14:41:27 2010 +0200

    s4:dcesrv_samr_SetUserInfo - implement password set level 21

commit b7050267717d7fba0ee4c6bf375e3cc9d2864717
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 12 14:40:11 2010 +0200

    s4:dcesrv_samr_SetUserInfo - implement case 18 which allows to reset the user password

commit 8feda76d4fb4dac680b13e3234925802fb32e7f1
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 21 22:59:11 2010 +0200

    s4:OemChangePasswordUser2 - return "NT_STATUS_WRONG_PASSWORD" when we haven't activated the the lanman auth
    
    This is what s3 does.

commit 8f20a5512a91cb9c6e2e50040cd0b61d39521d69
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 21 21:16:20 2010 +0200

    s4:samr_password.c - add a function which sets the password through encrypted password hashes
    
    Used for password sets on "samr_SetUserInfo" level 18 and 21.

commit 427c95327371d42304594cf32ce8726194a286e5
Author: Günther Deschner <gd@samba.org>
Date:   Mon Jun 28 14:47:16 2010 +0200

    s4-smbtorture: fix typo.
    
    Not my day...
    
    Guenther

commit f2e0ca2662af172868c5a06bd41177cfd8b2aa93
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 28 10:24:28 2010 +0200

    s4:torture/rpc/samr.c - test_SetPassword_LastSet - fix "pwdLastSet" test
    
    - Remove superflous checks (on level 18, 24, 26 we do always have "pwdLastSet"
      resets if "password_expired" > 0)
    - Fixed some bugs
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit c5bab3ea33ac6815cc08d5db4bc7e5fc175d8ebd
Author: Günther Deschner <gd@samba.org>
Date:   Mon Jun 28 14:08:30 2010 +0200

    s4-smbtorture: add trustDomainPasswords blob test to LOCAL-NDR testsuite.
    
    Our parsing of this struct is incorrect atm. and apparently also causes the s4
    server to crash.
    
    Thanks to Sumit Bose <sbose@redhat.com> for providing the auth data retrieved
    from a w2k3 domain.msc operation.
    
    Guenther

commit 158504381e8b2a02915212c69ddcd41b95c5cfc3
Author: Günther Deschner <gd@samba.org>
Date:   Mon Jun 28 14:04:47 2010 +0200

    s3-registry: missed one perflib keyname delimiter.
    
    Guenther

commit 121214df913a2082d2cc3689b322fcd5be60c492
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jun 28 14:08:11 2010 +0200

    s3: More cleanup in winbindd_ads.c:query_user
    
    We can't ads_msgfree after the ads struct has been killed. Do early returns.

commit 8707be6d7587217a62abdedf2b4294e31c261260
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jun 28 13:51:51 2010 +0200

    s3: Fix a valgrind error
    
    nss_get_info_cached does not necessarily fill in gid

commit 09a9cc32ee611c20c0e3384c404dd39f615b89ed
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jun 28 11:52:26 2010 +0200

    s3: Re-arrange winbindd_ads.c:query_user
    
    We can't access the LDAP message after nss_get_info_cached has potentially
    destroyed the ads_struct

commit a67080457926baa044265d46b7286737f4f5913a
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jun 28 11:21:03 2010 +0200

    s3: free -> SAFE_FREE

commit c79e0c0ce4a6689a6cd8ded7cb273d17b6be6211
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jun 28 11:20:23 2010 +0200

    s3: Do an early TALLOC_FREE

commit 658048ecbc417a9632e32f64107f4d31d3dea725
Author: Günther Deschner <gd@samba.org>
Date:   Mon Jun 28 13:15:06 2010 +0200

    s3-registry: fix printing keyname delimiter.
    
    Guenther

commit 3d24040ac6ffec9d6f59ee4e2468548570ee7241
Author: Günther Deschner <gd@samba.org>
Date:   Mon Jun 28 13:14:36 2010 +0200

    s3-registry: fix perfmon keyname delimiter.
    
    Guenther

commit 0c579bc3e65388e22f4d4d52c6edcda71cf2cc06
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 28 12:54:11 2010 +0200

    s3-net: Make sure that the data blob is initialized.
    
    Found by clang-analyzer.

commit f8b6ac6a08138b247bb00ec1d238a56c9b2d13c7
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 28 11:48:15 2010 +0200

    s3-eventlog: Fixed the keyname delimiter for the registry key.

commit 378cd5dc3833c1e1c7d113b3b05b5c41135d6c1e
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 28 11:37:28 2010 +0200

    s3-registry: Fixed keyname delimiter in KEY_CURRENT_VERSION_NORM.

commit e716924590150faf1b0ec46a64c84d37eef0d526
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 28 11:19:18 2010 +0200

    s3-smbd: Make sure that status is initialized when used.
    
    Found by clang-analyzer.

commit 6ac050f73f7be0d49003e4c9053826620f5e3c6c
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 28 11:16:19 2010 +0200

    s3-lanman: Make sure count is not used uninitialized if we jump to out.
    
    Found by clang-analyzer.

commit d11e184ed25e6a89ecfbe24673008d7adf5e770a
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 28 11:13:24 2010 +0200

    s3-vfs: Make sure that retval isn't used uninitialized.
    
    Found by clang-analyzer.

commit ac5600fc7e996bdde23666bc96a834044556c85f
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 28 11:06:22 2010 +0200

    s3-passdb: Make sure dn is initialized and don't free it.
    
    dn is just a pointer to a memory which hasn't been duplicated.
    
    Found by clang-analyzer.

commit 6d89116afe89e29d4e9bd0d69f7032a2b47f4c07
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 28 10:58:08 2010 +0200

    s3-passdb: Make sure we don't call free on a garbage pointer.
    
    Found by clang-analyzer.

commit 06a1766315e775062ba5277be0f739e735cc3547
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 28 10:49:55 2010 +0200

    s3-lanman: Make sure that job_info is not undefined.
    
    Found by clang-analyzer.

commit 459a1d58b1b5f90320a843234067654959fab8b1
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 28 10:44:58 2010 +0200

    s3-nmbd: Leave the sync function if there are no syncs.
    
    Found by clang-analyzer.

commit 34de8a00dd69d8ffba98babf141f484da54a472a
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 28 10:33:47 2010 +0200

    s3-libsmb: Make sure that finfo is initialized.
    
    Found by clang-analyzer.

commit b6100fa72f2f7e42f49538117846c973e2154b00
Author: Günther Deschner <gd@samba.org>
Date:   Mon Jun 28 12:51:28 2010 +0200

    s3-eventlog: make sure _eventlog_OpenEventLogW fails when we cannot open the registry key.
    
    Guenther

commit c4d5cbbdc52504b950b082b8340e32735d48e92c
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jun 28 12:26:17 2010 +0200

    s3: Fix some valgrind errors
    
    Essentially the same change as 15297ee, this time for the client side.
    
    Günther, Andrew B, please check!
    
    Thanks,
    
    Volker

commit a81b97ff340e021c3d2a7ddfe44ec09cc2b9f0d5
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 7 10:03:50 2010 +0200

    s3-passdb: Make sure that we don't assign garbage.

commit dc2e41a16ab5c203d73bfc6e9f368820221ee3ea
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 7 10:00:39 2010 +0200

    librpc: Use switch in GUID_from_data_blob().

commit b46eccfb1983c3107bcce2b8b5689e37cf3ec55f
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Jun 7 09:30:29 2010 +0200

    nss_wrapper: Fixed a possible NULL pointer problem.

commit bdfba236e9aebd6c277851efdb7ee57620810282
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Jun 28 09:57:33 2010 +0200

    s4:ldap_server: don't start if we can't bind to port 389
    
    metze

commit 5a18fc2b2a520977440e301d816bdf11ac966bc2
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Mon Jun 28 10:34:14 2010 +0300

    Implementation of self membership validated right.
    
    When this right is granted, the user can add or remove themselves from a group even
    if they dont have write property right.

commit a0bb31df5d48ddd346728971ff4e0506b8304d9a
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 28 04:37:37 2010 +0300

    s4/test: Run DrsDeleteObjectTestCase as part of S4 testing
    
    I put this test in the end of the list of tests as it
    runs with 'vampire_dc' environment running.
    
    Currently there are tests that are failing when we have
    2 DCs constantly replicating in the test environment
    (this, of course, should be fixed in the near future)

commit 431386f3278bfa6fa9b74db9a8a40fd300621c2b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 28 04:33:40 2010 +0300

    s4/drs: re-implement 'renaming' object replication
    
    We should rename objects only after we make sure, that
    changes on the partner DC are newer than what we have.
    This fixes a bug, when we have following situation with 2 DCs:
    - we have an object O on the two DCs
    - we rename (delete) object O on DC1
    - DC1 replicates from DC2
    In the above scenario, object O will be renamed back
    to its original name (i.e. it will be restored).
    
    Now, we check that DC2 state is older than what we have,
    so nothing happens with object's DN.

commit 46556432c067bfd651e79ecd370ff3d18ae83bd7
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 28 04:27:27 2010 +0300

    s4/drs-test: Add few comments in DrsDeleteObjectTestCase test
    
    Also remove unused code

commit 6f6365daba99c03788fc33a226467964825578db
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 26 19:58:45 2010 +0200

    s4:rpc_server/srvsvc/dcesrv_srvsvc.c - remove unreachable code

commit f12dab8e00026a381296b6f5fbf5bac98af49627
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 26 19:58:45 2010 +0200

    s4:rpc_server/wkssvc/dcesrv_wkssvc.c - remove unreachable code

commit 3c3ecf40e5bb0f81b8c0aa094384d7c3ee0e48bd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 26 19:58:45 2010 +0200

    s4:rpc_server/lsa/dcesrv_lsa.c - remove unreachable code

commit d85d6054c98b4c164075e19175ac64e1b6f9acab
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 26 19:55:07 2010 +0200

    s4:lsa/lsa_lookup.c - use a better type for the "rtype" of the wellknown SIDs
    
    To suppress warnings on Solaris 10

commit 3f2e9ce2b40f67de8ef8488551b72f90fbc06315
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 26 19:45:45 2010 +0200

    s4:rpc_server/drsuapi/drsutil.c - remove unreachable code

commit e5e4184e5a599c07e3814a3e7913a5caadd8c5f6
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 26 19:45:45 2010 +0200

    s4:rpc_server/dcesrv_auth.c - remove unreachable code

commit 75d6842c4087cd9f204b8beafaa88f1fac7cf999
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 26 19:43:51 2010 +0200

    s4:winbind/wb_samba3_protocol.c - add cast to suppress warnings on Solaris 10 cc

commit 0c29224da36e06aa5b395496ca1050be3f4e8df2
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 26 19:43:51 2010 +0200

    s4:kdc/kdc.c - add cast to suppress warnings on Solaris 10 cc

commit c8a5ed8db9a765434db3d5e6037f4acfa33fd0e6
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 26 19:42:29 2010 +0200

    s4:kdc/kpasswdd.c - remove unreachable code

commit c7b52b233e265dd7990dce0f6113aaee5b01ac4f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 26 11:10:55 2010 +0200

    s4:provision.py - fix comment regarding DNS entries
    
    I think this should mean partially Samba4 specified (all beside the "dns"
    account is standard)

commit 50da834f136e4ed2f1bd29b0e1b12c941f933c7c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jun 25 15:10:32 2010 +0200

    s4:provision: add entries for root dns servers
    
    metze

commit 6ab234cec9e1ed13ffd5d2d117417f7dd71c44f1
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jun 25 13:32:39 2010 +0200

    s4:provision: move Samba4 specific DNS stuff to its own file
    
    metze

commit c6b21931c6574322c8740f1a67f9125437c42c0d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jun 25 14:01:21 2010 +0200

    s4:provision: add --next-rid option
    
    Make it possible to provision a domain with a given next rid counter.
    This will be useful for upgrades, where we want to import users
    with already given SIDs.
    
    metze

commit 7905901bc018ec91c69368dedd906c1cf89103f3
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jun 25 12:47:34 2010 +0200

    s4:dsdb/ridalloc: add comment about windows behavior regarding rIDUsedPool
    
    metze

commit 712a149802e9613f105861e838a29bb226e62e02
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jun 25 11:11:56 2010 +0200

    s4:provision: don't use hardcoded values for 'nextRid' and 'rIDAvailablePool'
    
    On Windows dcpromo imports nextRid from the local SAM,
    which means it's not hardcoded to 1000.
    
    The initlal rIDAvailablePool starts at nextRid + 100.
    
    I also found that the RID Set of the local dc
    should be created via provision and not at runtime,
    when the first rid is needed.
    (Tested with dcpromo on w2k8r2, while disabling the DNS
     check box).
    
    After provision we should have this (assuming nextRid=1000):
    
    rIDAllocationPool: 1100-1599
    rIDPrevAllocationPool: 1100-1599
    rIDUsedPool: 0
    rIDNextRID: 1100
    
    rIDAvailablePool: 1600-1073741823
    
    Because provision sets rIDNextRid=1100, the first created account
    (typically DNS related accounts) will get 1101 as rid!
    
    metze

commit 89f94a43d89c9c0238f7b1d3d294175f8482adf9
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jun 25 12:27:27 2010 +0200

    s4:provision: pass relax control also to modify_ldif
    
    metze

commit 2f7fe9db023022c03e104dcc43a39f20bf5c804b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jun 25 15:56:35 2010 +0300

    s4/net-drs: Fix error messages typo and formatting

commit 0c8ffc9f15bddeeee66b3a6971691aadf76b245e
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jun 25 14:56:03 2010 +0300

    s4/drs-test: Fix whitespaces and permissions for delete_object.py test
    
    Sorry I've  missed to do this before

commit e40afe975accd8199ffe54ea9f3c4dedd02edb02
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Jun 25 21:51:23 2010 +0200

    Move UCS2 macros to common code

commit afc6d2f46d6aed07f828ef2f0aa6b62250468132
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Jun 25 13:29:00 2010 -0700

    Don't use frame as the talloc ctx in open_schannel_session_store(), as this breaks running from inetd
    (we free frame below). Use NULL instead.
    
    Jeremy.

commit 86be54ec61153d6ecd6967fa0f8c65880bbb088c
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Jun 25 12:02:08 2010 -0700

    Change talloc_autofree_context() to frame in Andrew's schannel.tdb TDB_CLEAR_IF_FIRST
    changes. Using talloc_autofree_context() has undesirable effects when forked
    subprocesses exit.
    
    Jeremy.

commit c84b74dddd6c74ad28597f069a43a0a3d334b04a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 23 10:37:13 2010 +1000

    schannel Change to TDB_CLEAR_IF_FIRST to reduce fsync()
    
    By making this DB TDB_NOSYNC, and by making that safe with
    TDB_CLEAR_IF_FIRST, we greatly reduce the fsync() load on the server.
    
    This particularly helps the source4/ 'make test', which otherwise tries
    to disable fsync() in ldb.
    
    Andrew Bartlett
    
    Signed-off-by: Jeremy Allison <jra@samba.org>

commit cfece164981142168aa6c846c7433f0459fb6de7
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 23 10:36:32 2010 +1000

    s3:schannel Open the schannel_state.tdb at startup
    
    This will allow future TDB_CLEAR_IF_FIRST behaviour
    
    Signed-off-by: Jeremy Allison <jra@samba.org>

commit 58d0b638c802241655b205b1974e48f477c2eaeb
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 23 10:33:15 2010 +1000

    s4:schannel Open the schannel_store.tdb at startup
    
    This will allow TDB_CLEAR_IF_FIRST behaviour in future
    
    Signed-off-by: Jeremy Allison <jra@samba.org>

commit 825b2f456c136b33d139ee76e58426437bce65b8
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 23 10:31:50 2010 +1000

    libcli/auth make open_schannel_session_store() public
    
    This will allow TDB_CLEAR_IF_FIRST to be used
    
    Signed-off-by: Jeremy Allison <jra@samba.org>

commit 6d973607c3bfec6d82347727b1bf800348c74202
Author: Michael Adam <obnox@samba.org>
Date:   Fri Jun 25 18:13:06 2010 +0200

    s3:registry: use regdb_store_regdb_version() in regdb_init().

commit 2f44dcc96b5a02379995c8ba6270ff8d89e56953
Author: Michael Adam <obnox@samba.org>
Date:   Fri Jun 25 18:12:28 2010 +0200

    s3:registry: use regdb_store_regdb_version() in regdb_upgrade_v1_to_v2()

commit 5641ee02fdbd768b90ca8de43ce2f14b007e4245
Author: Michael Adam <obnox@samba.org>
Date:   Fri Jun 25 18:11:35 2010 +0200

    s3:registry: add a function regdb_store_regdb_version()

commit a9bec6b779edd2feead5fae5cb25cf1f862eaaf2
Author: Michael Adam <obnox@samba.org>
Date:   Fri Jun 25 18:04:52 2010 +0200

    s3:registry: rename regdb_upgrade_to_version_2() -> regdb_upgrade_v1_to_v2()

commit 36b95fee152d348926fad1bcdc9f05312bb2aad5
Author: Michael Adam <obnox@samba.org>
Date:   Fri Jun 25 17:26:34 2010 +0200

    s3:net [rpc] registry: be as user-friendly as possible wrt to the normalization change
    
    The registry has been changed to use '\' as a key delimiter instead of '/'.
    Originally, one could mix both characters in the specification of registry
    key for net [rpc] registry. Now this can not work any more, since '/' is
    generally treated as a valid character of a key name.
    
    Now, to be as user-friendly as possible, the net [rpc] registry code has
    been changed to still support '/' as a key name delimiter if no '\' character
    is found in the given registry path string. In that case, all '/' characters
    are converted to '\' characters before proceeding. If on the other hand,
    a '\' character is found in the path string, then no conversion is assumed,
    and it is hence assumed that the path is already in the correct form and
    '/' characters are supposed to be part of the key names.

commit 8e4f8128234f0015c9d63bb18821487bb3e7b06e
Author: Michael Adam <obnox@samba.org>
Date:   Fri Jun 25 14:34:04 2010 +0200

    s3:registry: improve logic of upgrade code in regdb_init()
    
    Don't overwrite unknown versions (0 or > 2) of the registry.

commit 3703b79b11eecf3d8f2232b400bb8a2dd5b55876
Author: Michael Adam <obnox@samba.org>
Date:   Fri Jun 25 12:32:22 2010 +0200

    s3:registry: fix some debug messages in regdb_ini()

commit 15bacaf3c594ac24cf26b0329723e873a5cae43d
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 24 16:33:37 2010 +0200

    s3-registry: Convert registry key delimiter from slash to backslash.
    
    This is needed to support keynames containing a '/' like TCP/IP. Which
    is used in serveral standard paths.
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit f540833632ffe2c743e90ef9df1627e69b7a0c7b
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 24 15:26:04 2010 +0200

    s3-registry: Added a db upgrade function to normalize the key delimiter.
    
    This converts the key delimiter from a slash to a blackslash. We need to
    support keynames with a backslash.
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit 175d9478fea24812046299be6a0224bdc699feb9
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Jun 25 17:06:00 2010 +0200

    s3: In make_server_info_info3, check the result of copy_netr_SamInfo3

commit 17cd3d06cb00db9a94375e00aa42832e25c05726
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Jun 25 16:56:38 2010 +0200

    s3: In copy_netr_SamInfo3 copy all of the sids array

commit 7cf04431594e09043b3b53144fc8511d20b088ee
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Jun 25 11:47:30 2010 +0200

    s3: Fix a winbind crash
    
    nss_get_info_cached might deep inside sequence_number() invalidate the
    ads_struct without telling its callers.

commit a9523f17ea2cd85a130e081f3a89cffbee1fdc06
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Jun 22 15:59:44 2010 +0200

    s3: Fix a winbind crash
    
    nss_get_info_cached might have invalidated "ads" deep inside.

commit 5c98ccd70601c475f3bcb34e6a233069c9f542f6
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Jun 22 00:58:48 2010 +0400

    s4 python: Add unit tests related to PyLong/PyInt handling
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 3fc9675e93c3bfb3381b06bce3d2b130952e9026
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Jun 22 19:57:22 2010 +0400

    ldb: Fix a wrong changetype in unit test
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 7703b89ae57d76a3246db7489c77c9de848ea832
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Jun 21 10:48:58 2010 +0400

    pidl: Finish to fix the python generated code for 64bit integers
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 0802f354ea837b8884c861d6d98f20aa746e4445
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Jun 25 02:40:37 2010 +0200

    smbtorture: Fix loading of --load-list.

commit 653b30f91f7f9e13f16d5d6134adaa04b0675257
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Jun 25 02:35:29 2010 +0200

    selftest: Clarify generation of idlist option.

commit 408a3aa3085e783523ed80bb328a3c65159900ab
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 24 16:06:11 2010 +0200

    s4:lib/registry/ldb.c - cosmetic - fix comment

commit 14386e6ec50b55039be6a719a17b185e651ee025
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 24 16:05:31 2010 +0200

    s4:lib/registry/ldb.c - cosmetic - wrap lines

commit 92cfc632871e742dedf26ebd43ac789ebed0860c
Author: Michael Wood <esiotrot@gmail.com>
Date:   Fri Jun 25 08:46:13 2010 +0200

    s4 upgradeprovision: Try to support older Pythons.
    
    Use "...".split(sep, 1) instead of "...".partition(sep).
    
    Signed-off-by: Matthias Dieter Wallnöfer <mdw@samba.org>

commit 163ed44903fd6d9bf3047d0987bcbb8f0a28e7e2
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jun 25 04:34:42 2010 +0300

    s4/drs: DsReplicaSync should search partition to Sync
    
    by any valid DSName attribute given, be it - partition DN,
    partition GUID or partition SID

commit e40635c48d4b5853cbf463455e2ec90178375100
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jun 25 04:31:41 2010 +0300

    s4/utils: fix few 'net drs replicate' error messages
    
    mainly for the output to be more informative

commit 0dd6a759ed41960500e0869bfe96d93b2d11f50a
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jun 25 04:30:21 2010 +0300

    s4/drs-test: Tests Deleted objects replication
    
    Tests how deleted objects are replicated between two DCs.
    Currently the test exploits following vulnerabilities:
     - DsReplicaSync is not correctly implemented
     - a 'deleted object' is restored (kind of) in case DC1 replicates
       from DC2 before the 'deleted object' is replicated

commit e0aa54d0ed25a55fd6b4f5d08644d37981572fdd
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Jun 25 01:21:14 2010 +0200

    selftest: Store the output of the last test run in st/subunit.
    
    If a testrepository repository is present, add the test output when it
    has completed.

commit 700fcfbc63c4b20fcb35dc3c7ef50ed20117cf74
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Jun 25 00:16:18 2010 +0200

    pidl/python: Make sure to always increment reference counter when using
    Py_None.

commit 4a75cb9cd5dfdd347803d03acbc0533c2e7e89cc
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Jun 24 23:17:51 2010 +0200

    pidl/python: Increment reference counter on Py_None to prevent us from
    accidentally deallocating it.

commit 7e49a58ab9a66a709ee2a15d40db7c59bf55cbac
Author: Aravind Srinivasan <aravind.srinivasan@isilon.com>
Date:   Tue Jun 22 10:42:20 2010 -0700

    s4 torture: Warn on NOT_IMPLEMENTED in addition to NOT_SUPPORTED for RAW-QFILEINFO
    
    Signed-off-by: Tim Prouty <tprouty@samba.org>

commit 2a0340baa35163d04537b0606f58ab77a1d39108
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 24 15:32:46 2010 +0200

    s3:registry: remove unused function normalize_dbkey()

commit 5cac4e648c635f4f3a46a5878827414a2cb80366
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 24 15:31:06 2010 +0200

    s3:registry: use normalize_reg_path() in regdb_set_secdesc()
    
    instead of normalize_dbkey

commit 4c948251d97bea9429d3fa24f98814ac57f4d525
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 24 15:30:31 2010 +0200

    s3:registry: use normalize_reg_path() in regdb_get_secdesc()
    
    instead of normalize_dbkey.

commit 8ad01613f673a123304da889e6fed4909c619309
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 24 15:11:25 2010 +0200

    Revert "s4:provision.ldif - fix the number of available RIDs"
    
    This reverts commit 41cdcd54b7b7e3fb70fdb220e74a1daf30e1891a.
    
    As per request of metze revert this (cause written on the mailing list).

commit 0f455362797308ccef7976d81317d6175bc59ea5
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 24 11:05:41 2010 +0200

    s4:auth/gensec/gensec_gssapi.c - reorder constructor
    
    To have the same order as in the structure definition.

commit 0be1820718202bd73a0e756c35a9b21edbbc563b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Jun 24 16:03:02 2010 +1000

    s4-ldb: use CHECK_XSLTPROC_MANPAGES()

commit f6e46ee0fba25efecb78412a61270d7e70bb6f7d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Jun 24 16:02:43 2010 +1000

    build: check if the manpages stylesheet is available locally
    
    this avoids trying to fetch the stylesheet from the internet. If we
    can't process the stylesheet with --nonet at configure time then don't
    build manpages.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 4cb423f52737d980132709fe63bc3194b9307880
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Jun 24 14:33:58 2010 +1000

    s4-python: python is not always in /usr/bin
    
    Using "#!/usr/bin/env python" is more portable. It still isn't ideal
    though, as we should really use the python path found at configure
    time. We do that in many places already, but some don't.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 41cdcd54b7b7e3fb70fdb220e74a1daf30e1891a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 24 09:35:58 2010 +0200

    s4:provision.ldif - fix the number of available RIDs
    
    There should be 4611686014132422209 and not 4611686014132422109.

commit fec489bd8706a7dbb84589ff7f5da08550d86e78
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 24 09:23:32 2010 +0200

    s4:provision.ldif - this Win2003 revision level seems always to be "9" on Windows Server 2008 machines

commit 64e19ef9fb85d31f9428a6714ce485de2704734b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 24 09:14:24 2010 +0200

    s4:provision_users.ldif - change a group description to be correct

commit 560620a53df66ddbaa273afc9db796fc7562b53d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 24 09:06:49 2010 +0200

    s4:upgradeprovision - fix include order for "ldb"
    
    Patch originally posted on the list by Matthieu Patou.

commit e228b67e56ab63414055e64455a97ea0643803e2
Author: Endi S. Dewata <edewata@redhat.com>
Date:   Wed Jun 23 07:26:25 2010 -0500

    s4/ldb: ldb_msg_el_map_remote() should rename the remote attribute names into local names as defined in simple_ldap_map.c.

commit e88f37daa068f7effe6f11b8ff8aeb79316e6632
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 7 21:13:27 2010 +0100

    s4:setup/provision.reg - raise version to Windows Server 2008 R2

commit b172b7f467e3c2968ec154fab38399b29ad63d9b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 23 17:30:10 2010 +0200

    s4:libnet_join.c - always use LDB constants

commit f34db12d7f4a61757277d40153877338c4c9b55a
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Jun 23 13:25:15 2010 -0700

    Add parse_setjob_command() to make setting job state easier for users.
    
    Jeremy.

commit ba40f3828180ba63debb4b3578c0e0faf16f6cbc
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 23 15:00:06 2010 +0200

    s4-smbtorture: test more valid key names in RPC-WINREG.
    
    Guenther

commit 2dc50ec44c4e9af144733f028122970be83332ba
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 23 14:59:27 2010 +0200

    s4-smbtorture: more work on test values WINREG test.
    
    Guenther

commit 740c97b513dfb43342eda700362f4b59de5d5b83
Author: Lukasz Zalewski <lukas@eecs.qmul.ac.uk>
Date:   Wed Jun 23 10:05:50 2010 +0100

    Fix to undo nasty hack for for grouptype conversion
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit c5d07d2a1a85f8ebc023d5647752ca36210bbe2b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Jun 23 10:09:02 2010 +0200

    Per Andrews request, revert
    "heimdal/waf: Initial work on making it possible to use the system"
    as the hdb_check_s4u2self function handling is incorrect.
    
    This reverts commit b099631f428d0ecc641d59bd3c94674e6348dde9.

commit 714c926cf04c837902fdcfa097c51429f31ee581
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 23 12:09:35 2010 +0200

    s4-smbtorture: add test for different winreg SetValue value names.
    
    Guenther

commit ff5ace20a26f90179b63fe4730b7d81b77cca3fe
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 23 13:50:55 2010 +1000

    s4:selftest Fix up netbios names for rpc_echo test

commit aba99e4464af8d74de01d45ecc0dda69fbd23fec
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 23 10:24:14 2010 +1000

    s4:selftest For the moment the server role '2008_R2' is case sensitive

commit 58a7b9af3f139df70feeefe6d6875935e1eea832
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 23 09:53:20 2010 +1000

    s4:selftest Change netbios aliases to shorter names.
    
    This makes the netbios names more sensible, and the aliases shorter.
    
    (the name localfl2008rc2dc7 was too long...)
    
    Andrew Bartlett

commit 1acd49c524f40d27e1bef09e1dcc572863894b01
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jun 21 22:17:40 2010 +1000

    s4:selftest Add 2003 and 2008R2 test environments and tests
    
    These tests were chosen particularly because they are known to test things
    that vary across the functional levels.
    
    Andrew Bartlett

commit 86ed5eb8923e477f3336cbf4a0bedb69b2f3c288
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jun 21 21:41:49 2010 +1000

    s4:net Remove warnings for 2000 native mode and Samba4.
    
    We now support 2000 native mode, and so we just need to warn about mixed mode.
    
    Andrew Bartlett

commit d0f52ddac23a0b1af3718627af00469ae13ab762
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jun 21 21:40:15 2010 +1000

    s4:provision Raise default max functional level to 2008R2
    
    We don't support many of the extra features, but that applies across many
    other parts of AD.  Allow the admin to join a 2008R2 domain if he or she wants.
    
    This also makes it possible to test 2008R2 domain code in 'make test'
    
    Andrew Bartlett

commit b26125b7d3242895038065ddece32554436ba474
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jun 21 23:18:53 2010 +1000

    s4:provision Remove am_rodc from Schema
    
    The SamDB created in the schema code isn't real enough to care if it's an
    rodc or not.

commit ebc2da10cdd63e5151f9b1138f9da91b408830c9
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jun 21 21:20:27 2010 +1000

    s4:libnet When joining a domain, update msDS-SupportedEncryptionTypes
    
    We need this for our DC to have clients use AES keys to us

commit c4482bf53e26c43edccb0871fa5525a590a1026c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jun 21 20:19:02 2010 +1000

    libds:common Remove DS_DC_* domain functionality flags
    
    These are just a subset of the DS_DOMAIN_ functionality flags, are compared and often confused with each other.  Just make them one set.
    
    Andrew Bartlett

commit 80701e5f29567e4ad75a66eb6c8711f817b361b8
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sun Jun 13 13:19:23 2010 +1000

    s4:kdc Use msDS-SupportedEncTypes in our KDC
    
    We need to honour this, otherwise we will send AES-encrypted tickets
    to unprepared Kerberos targets.
    
    Andrew Bartlett

commit 06ed6667bece67de768f07f0381e551be2c742a9
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 23 10:59:55 2010 +0200

    doc: Remove the documentation of the sequence command of wbinfo.
    
    The command is deprecated, see --online-status.

commit 790d01cb2e9c04d0111b7a8c952596c496e69b38
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 23 10:58:37 2010 +0200

    wbinfo: Document the deprecated sequence option correctly.
    
    I didn't find a way in popt to hide it.

commit 7f8b3a26ecb657bb3c818f2b295648a56c093788
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 23 10:47:01 2010 +0200

    s4-smbtorture: Fix test_SetPrinterDataEx_keys and test_SetPrinterDataEx_values.
    
    We want to continue, not to skip here.
    
    Guenther

commit 26a95463a614035a16192af157df874fd5554d13
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 23 09:53:23 2010 +0200

    s4:operational LDB module - fix a misleading comment

commit eff7d2db312ba7e811ffc8985d6122fc852a39b5
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 21 22:19:21 2010 +0200

    s4:samr RPC server - make use of LDB constants in macros

commit 0e637be43b584aef9f5101d15ae5bdc1172c5502
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 21 19:40:50 2010 +0200

    s4:password_hash LDB module - fix another problem regarding the lanman hash
    
    When a user only provides only the lanman hash (and nothing else) and the
    lanman authentication is deactivated then we end in an account with no
    password attribute at all! Lock this down.

commit 37264e5917cace1582f41d6029a857fd4059eff6
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Jun 22 12:19:05 2010 -0700

    Fix bug 7528 - Solaris with NIS autohome.
    
    Ensure entries containing "\n" are stripped.
    
    Jeremy.

commit 1e897f656104f29769b204dc443f1684395d8173
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 22 15:45:45 2010 +0200

    s4-smbtorture: add "printerdata_values" test to RPC-SPOOLSS-PRINTER.
    
    Guenther

commit 13ede2bf7a75b2b52132954684f23ad5a89a83a1
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 22 15:25:01 2010 +0200

    s4-smbtorture: also test keynames with '/' in it in SetPrinterDataEx keyname tests.
    
    Guenther

commit e439b6cb8ceb01d930bd8ec2d7b9c79ebca5647e
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 22 15:22:03 2010 +0200

    s4-smbtorture: activate all keys in SetPrinterData keys test.
    
    (just skip some of them still against s3).
    
    Guenther

commit c31ffaf5872292c610394406cf8e8ce61d8439c5
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 22 14:55:20 2010 +0200

    s4-smbtorture: split out a "printerdata_keys" test for RPC-SPOOLSS-PRINTER.
    
    This separates key and value tests for SetPrinterDataEx and GetPrinterDataEx
    (and also speeds up the whole testsuite).
    
    Guenther

commit df96f18e8ff3400d1bb7e9743498936ad32ee005
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon May 31 10:02:38 2010 +0200

    testprogs/win32: add prepare_dcpromo tool
    
    This tool can set the DOMAIN-SID and nextRid counter in
    the local SAM on windows servers (tested with w2k8r2)
    
    dcpromo will use this values for the ad domain it creates.
    
    This might be useful for upgrades from a Samba3 domain.
    
    metze

commit efe65cd7b707c3ba5b321016829da431d6905415
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jun 22 04:42:15 2010 +0300

    s4/dsdb-test: fix usage comment

commit acebfcb93897657a28f0a4588a19abcf5356ebcf
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jun 22 04:41:49 2010 +0300

    s4/test: fix DC password in selftest-vars.sh

commit c668b21cd6460e3baa12f8ef0375a58ee6b2d1d2
Author: Aravind Srinivasan <aravind.srinivasan@isilon.com>
Date:   Thu Jan 21 18:18:03 2010 +0000

    s4 torture: RAW-SFILEINFO display warning instead of error on unsupported info level
    
    Also add a test to make sure setting the directory attribute is
    disallowed.
    
    Signed-off-by: Tim Prouty <tprouty@samba.org>

commit f5709975c1671dc23471a81b2a6523138d98a74b
Author: James Peach <jpeach@samba.org>
Date:   Mon Jun 21 14:11:58 2010 -0700

    smbtorture: Fix missing includes.

commit 32f82fbec0a4dab0c3679dae6951535c2e1ca396
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Jun 21 11:24:18 2010 +0400

    s4 upgradeprovision: fix the logging stuff so that it actually log
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 15297eea0e6b1e95ddb9e2ccd25ff454a405c351
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jun 21 22:20:10 2010 +0200

    s3: Fix some valgrind errors
    
    With -d 10, there were a ton of uninitialized variables: The "NegotiateFlags"
    in the automatically parsed ntlmssp structures were not initialized.
    
    This also cleans up the talloc use a bit: do early TALLOC_FREE()
    
    Günther, please check!
    
    Thanks,
    
    Volker

commit 6227eac607131ed1042af1de83af7f70d0b05375
Author: James Peach <jpeach@samba.org>
Date:   Mon Jun 21 11:09:45 2010 -0700

    smbtorture: Fixx off-by-one command line parsing.
    
    If we are not in shell mode we require both the target and test name
    arguments. Make sure we process these from the correct index.

commit 0fc18ead76a79286365646eeb7607b39b01a1c9f
Author: James Peach <jpeach@samba.org>
Date:   Mon Mar 22 21:55:49 2010 -0700

    smbtorture: Add "target" command to interactive shell.
    
    Add a "target" command to set the target server to test. Refactor
    the command line argument processing a little so that you can run
    --shell without any additional arguments.

commit 7a25e2efe9360b333fedc3fb938774437703700e
Author: James Peach <jpeach@samba.org>
Date:   Sun Mar 21 22:04:37 2010 -0700

    smbtorture: Enhance shell "help" command.
    
    Sort the command list alphabetically. Let the help command print
    usage info for other commands.

commit bf35aa86038aa5bbf06bf73eb58cfa6fa1eae904
Author: James Peach <jpeach@samba.org>
Date:   Sun Mar 21 21:56:05 2010 -0700

    smbtorture: Add "auth" command to the shell.
    
    Add a new "auth" command to set the cmdline credentials from withing
    the smbtorture shell.

commit 3f398ec36d6b733c92682f5eb03eeacb047e582f
Author: James Peach <jpeach@samba.org>
Date:   Fri Mar 19 22:04:08 2010 -0700

    smbtorture: Refactor interactive shell into independent commands.
    
    Refactor the smbtorture interactive shell into a set of independent
    command callbacks to make it easier to add more independent commands.

commit 9f697903556529bb4fedd73d027c317e56f6bf21
Author: James Peach <jpeach@samba.org>
Date:   Fri Mar 19 21:24:15 2010 -0700

    smbtorture: Move interactive shell into a separate file.

commit a5e14bded48ac53e21307eda1c9767be64b39a17
Author: James Peach <jpeach@samba.org>
Date:   Thu Mar 18 21:59:35 2010 -0700

    smbtorture: Print global options for interactive "list" command.

commit 12e15b0ac800a84d553ff82c4c61ccc8da9fd5fd
Author: James Peach <jpeach@samba.org>
Date:   Thu Mar 18 21:25:17 2010 -0700

    smbtorture: Add history support to shell mode.

commit 6f96293406bfaff35e7588d0624842de145ff249
Author: James Peach <jpeach@samba.org>
Date:   Thu Mar 18 21:14:47 2010 -0700

    smbtorture: Add list command to smbtorture shell.

commit acf54c37a81b9c593220a0de5aa1b82a3bd05e24
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Mar 29 16:13:14 2010 +0200

    s3-winbind: Make KRB5_EVENT_REFRESH_TIME a function

commit eb3ee7801fec0e06561732aca6012f8a8b4c24ff
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Jun 21 16:20:25 2010 +0200

    libcli/named_pipe_auth: fix error handling in _tstream_npa_connect_recv()
    
    metze

commit 67a24fe9333836e4d33c167ea01f2efdc005bacd
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Jun 21 16:13:14 2010 +0200

    libcli/named_pipe_auth: fix memory handling for temporary data
    
    In a tevent_req based function tevent_req_create() should be the first
    function! If it fails it's the only reason, why the function
    could every return NULL.
    
    And all temporary data belongs to 'state' and gets free'ed by
    tevent_req_received() in the _recv function.
    
    metze

commit e9e80a36e461a0d07cdc9d1be27e60624133b096
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jun 21 08:47:38 2010 +0200

    tldap: Fix a type-punned warning

commit 4b64555d759c85d8ce471a28f9a4b9210fae59d5
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jun 21 08:42:58 2010 +0200

    tsocket: Fix some type-punned warnings

commit 8af446be78211a3471af60ef0173cdda3e6f61bc
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jun 21 08:41:56 2010 +0200

    s3: Fix some enum/int mixup warnings

commit dee72d807f8e2f5fef83dbd409554eddefc9bd6f
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jun 21 08:39:54 2010 +0200

    s3: Remove an unreachable line of code

commit c0ed0bca59dc1dc0c614641c2e54933fbc4f64da
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jun 21 08:38:51 2010 +0200

    s3: Fix a type-punned warning

commit b784c20df8fcafc3a5c66f847b1af58b77eeb42b
Author: Michael Adam <obnox@samba.org>
Date:   Mon Jun 21 12:32:57 2010 +0200

    s3:net rpc registry: make getsd succeed when key sd only gives access to SD not key contents
    
    You don't need the REG_KEY_READ permissions to access the SD of a key.
    And for instance, the key HKLM\security ususally has no specific bits
    set for builtin\administrators, but the READ_CONTROL_ACCESS.
    I.e. builtin\administrators can get the sd but not enumerate the key.

commit e78f2b2e1eebed6950c5c99954d57bfb59c48a11
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 21:28:54 2010 +0200

    s3:fix an outdated comment.

commit 3f99ff104a210bd307818746da922408f151cd18
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 17 20:50:36 2010 +0200

    s3:idmap_ldap: remove unreached code (and explicit error return code)

commit 276a1a7fec1432bde870448f247ef710554c3ab8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 21 12:33:57 2010 +0200

    s3/s4 - remove "talloc_tos()" from common code since s4 doesn't support it
    
    Please don't use this in common code parts until we change the policy regarding
    it.

commit c38f94ed9b68f53721421c91f74a8bd1f30efd4d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 21 11:02:45 2010 +0200

    s4:dsdb_load_partition_usn - free the right memory context (tmp_ctx)

commit 2352538362977e456e8d05783f2732ff650cea41
Author: Karolin Seeger <kseeger@samba.org>
Date:   Mon Jun 21 10:30:25 2010 +0200

    s3-docs: Add missing whitespace.
    
    Karolin

commit 3aa8853f58b32c5430cd03164a0c2bc26c1b04c0
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Jun 20 23:31:43 2010 +0300

    s4/dsdb: msg_idx->dn should be allocated in msg_idx mem context

commit cc7e2c10f2b944fd7eac4ff11e9d48fac0043030
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Jun 19 12:30:36 2010 +0300

    s4/dsdb: Move schema accessors cleanup in separate function
    
    This way dsdb_setup_sorted_accessors() will
    free memory allocated for accessor arrays correctly
    in case of failure,

commit 267645ca55f7825e87a098c9dc51f132aac1f452
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Jun 19 00:00:08 2010 +0300

    s4/dsdb-schema: Index attributes on msDS-IntId value
    
    O(n) search for dsdb_attribute by msDS-IntId value was
    replaced by binary-search in ordered index.
    
    I've choosen the approach of separate index on msDS-IntId values
    as I think it is more clear what we are searching for.
    And it should little bit faster as we can clearly determine
    in which index to perform the search based on ATTID value -
    ATTIDs based on prefixMap and ATTIDs based on msDS-IntId
    are in separate ranges.
    
    Other way to implement this index was to merge msDS-IntId values
    in attributeID_id index.
    This led me to a shorted but not so obvious implementation.

commit ecbe9a74c6757415720657fbd3ba207989b47848
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 22:17:33 2010 +0200

    s4:kdc/db-glue.c - remove unreachable code
    
    Would be nice if someone could check if this fits.

commit 05f31c3f6d790f650c2b449c4726521464911777
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 22:14:27 2010 +0200

    s4:registry/regf.c - add some casts to suppress build warnings on Solaris

commit 2adfe4730362220afe3874b750e71c6e006b310a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 22:06:51 2010 +0200

    s4:registry/rpc.c - fix Solaris warnings by casts

commit 2f49c8f58e213e4b8b3f60bb6e02dfc833bb27f3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 22:03:45 2010 +0200

    s4:samr RPC server - fix Solaris build warning

commit 871cdec4141e29f377b11fa7a5c177ac7e2dae80
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 21:54:50 2010 +0200

    s4:registry RPC server - quite some build warnings on Solaris

commit 82fd4837589bbf5918e672669ed30ad300bf3a4a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 21:49:52 2010 +0200

    s4:lsa_lookup.c - fix type argument

commit 0bf26edf6c466bfffa87c47b0acb64cc6f4544f7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 21:46:53 2010 +0200

    s4:rpc_server/service_rpc.c - fix warnings on Solaris

commit c972e6ec233fc2023b33da0d707ae035f85faba2
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 22:32:04 2010 +0200

    s4:rpc_server/service_rpc.c - deactivate the 0-length struct
    
    This should fix the build on Solaris

commit 58715dd3652ba53fa85cb5457be5d8c607b3d798
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 20:34:48 2010 +0200

    s4:libpolicy - fix printf output specifiers to suppress warning

commit 26bcbf6e3542fb350045888473a6e25d661ff6fa
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 20:23:56 2010 +0200

    s4:libpolicy - Solaris compatibility fix

commit 91c49c2fb29a188db24695a78b365aeb4f51db27
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 17:36:43 2010 +0200

    s4:ldap.py - test subtree deletes through a new testcase

commit 449370db545f189449dbce75fd73271caf5ab187
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 15:13:36 2010 +0200

    s4:ldap_backend.c - now also the LDAP server supports controls on delete operations

commit 9803c89ee28b4b4d6e4514b362aa60adb7f93366
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 15:09:55 2010 +0200

    s4:ldap_backend.c - move function "ldb_mod_req_with_controls" to a better place in the code
    
    Under the "add" and over the "delete" function.

commit fbd09029581d2f9b6c6f0c2410d768d501f4b75c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 12:49:04 2010 +0200

    s4:subtree_delete LDB module - now do support tree delete operations

commit 87d0f636320b3b6818c1703d99b94648f00d0af7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 12:43:49 2010 +0200

    s4:dsdb - add a new dsdb delete function which understands the tree delete control

commit ad5e19f29e3d716579607e706b42a4e7d2ed11c4
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 12:19:31 2010 +0200

    ldb:controls - add the "TREE_DELETE" control for allowing subtree deletes

commit 065579b4c6a05de7fd867dbe0eb736b86a6bc5f7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 12:08:50 2010 +0200

    ldb:ldb.h - add classifications to the control declarations
    
    This makes it easier to understand which standard specifies which control.

commit e062e7300bd2993b4a5d641ce3128f9c461f6328
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 13:03:59 2010 +0200

    s4:python LDB __init__.py - remove completely unused "erase_partitions" call
    
    Seems to be a relict from the past.

commit 2fb715b484d1eec3fadbdf3dc79d0fc88f01af52
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 11:46:55 2010 +0200

    s4:samldb LDB module - remove "samldb_set_defaultObjectCategory"
    
    As far as I can tell and the test show the DN gets now normalised automatically
    when stored into the database.
    
    Anyway, if we find a case where this doesn't happen then I propose to do it
    centrally for all DN attributes in common since we should get away from special
    attribute hacks as far as possible.

commit c8d2c5fff017a42ffb75aeaabfa19b8503b9e7af
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 15:33:29 2010 +0200

    s4:ldap_backend.c - add some newlines to make logs easier to read

commit d7ad7eed24108491bb86271f39ef233826f41352
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 18:20:00 2010 +0200

    ldb:pyldb.c - introduce a "mem_ctx" also on "py_ldb_search"
    
    To prevent memory leaks

commit 00bf6084817046481e8d049357638387185c39ca
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 18:06:54 2010 +0200

    ldb:pyldb.c - some cleanups and adequations also in "py_ldb_modify" and "py_ldb_rename"
    
    To make them consistent.

commit 4cc49d365fa096e46259d6795b4626603919d69c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 20 18:46:51 2010 +0200

    s4:ldap_controls.c - remove encoding functions for private recalculate SD control

commit 0714e23971f701999f69ed85c65e4f3f33153a97
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 17:46:39 2010 +0200

    provision: Look for Samba prefix a bit harder.

commit a87561613af3e54503f80d559227f836c17ed263
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Jun 20 16:22:46 2010 +0200

    Revert "s4:ldb-samba: fix the build without a system ldb"
    
    This reverts commit 44c01a5eb45a0cd5ca3de8be5c4680de75418dce.
    
    This caused problems when using a system ldb and as we don't
    do ABI checks for ldb-samba4 any more, we don't need this change.
    
    metze
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit e812832db347269e46b28af31ff7ba3301405117
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Jun 20 16:13:38 2010 +0200

    s4:ldb: only do ABI checking for the standalone build for now
    
    Otherwise we fail to build samba4 with a system ldb.
    
    metze
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 52307a11e1f0019f8fbdcce51676282aee21aa39
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 15:50:12 2010 +0200

    libpolicy: Fix the build.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit e18a172207b433a3f027541d4d5e98cea73dbcb6
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Mon Jun 7 15:21:53 2010 +0200

    Add preliminary support for storing changed Group Policies.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 04133225c1c3ab53191da50cae39f2019e7f7f01
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Tue May 25 01:21:45 2010 +0200

    Refactor policy filesystem code.
    
     * It now uses reusable code to download the GPT.
     * It creates a list before copying for better error handling.
     * String_replace is now used instead of manually replacing '\\' with '/'
       for local paths.
     * A security check has been added for file names with "../".
     * It adheres to the 80 column rule, if at all possible.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit b9b85d6b0e23e042d60c83fef477fd4006a20c14
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Mon May 24 21:36:49 2010 +0200

    Fix memory allocation with error handling.
    
    Also moved pypolicy.c headers around so as not to generate compile warnings
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 9b5e0fe6bb363aaaba513b0604476616d6cc9fd8
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Mon May 24 20:11:15 2010 +0200

    Add talloc_frees in error cases in net_gpo.c
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit c09922cfae1364f2ce8736ae59053805a337658b
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Mon May 24 20:05:42 2010 +0200

    Code cleanups: GUID generation, lp_dnsdomain instead of lp_realm, missing spaces.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 5c2c8dfc5a90eddcaab2d78379d898a00e865ec2
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Mon May 24 19:56:07 2010 +0200

    Set inherit flag type to bool.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit d61f0240eefc3c96a36c16a9bf83167eb01dfe94
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Mon May 24 19:53:12 2010 +0200

    Fix 'magic' numbers to be strlen(something)
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit e86ef688ee4c65fc5dd06910fd61222c195c1dc9
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Mon May 24 19:47:27 2010 +0200

    Change talloc_steal to strdup because function might not expect it.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 674d559f37a1e553be3e01ade04936ff9662baa3
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Mon May 24 17:07:48 2010 +0200

    Add GP ini functions.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 3fe793fce7060c785576bb5f3d7039df60bc7b1d
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Fri May 21 23:51:28 2010 +0200

    Remove iconv convenience in used functions, which were deleted in commit f9ca9e46ad24036bf00cb361a6cef4b2e7e98d7d
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit e1f22174e172971ef8b0460da076a138b1fa73e4
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Fri May 21 23:49:45 2010 +0200

    Fix net gpo list to use the dsdb with extended DN's. Fixes memberOf group memberships.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 3895b8fbf84764ff603af91644198e518af97e74
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Fri May 21 14:56:15 2010 +0200

    Revert "Add old functionality back which was removed in commit 589a42e2."
    
    This reverts commit 94e3b4a0d8b714c101803886d60ae6c484740d2f.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 8f74ee01d9bb93872c5cd5471084c8bd2da0d17f
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Fri May 21 14:41:02 2010 +0200

    Add ini parser for GPO's.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit c36bd5de6a479b87baeb1632af2304c049079703
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Thu May 20 16:56:40 2010 +0200

    Add net gpo setacl support. Create gp_set_acl function. Show ACL in net gpo show.
    
    Cleanup memory allocation of gp_create_gpo
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 5434171296e33ffe493995589ae41b123a12d9aa
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Wed May 19 18:58:54 2010 +0200

    Fix set GPT security descriptor to match windows' behaviour.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 31aeddfa4354cbf0e0b562d0dcfe1f41cd95e0f9
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Wed May 19 18:31:19 2010 +0200

    Fix crash when get_gpo_info returns incorrect data.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 299531ce327340937e72530a96991c33fcd48e48
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Wed May 19 17:22:48 2010 +0200

    Add preliminary NT ACL support for GPT (GPO on filesystem).
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 60bc5fe0ed1aae43c3931eae2a765dae765c85e5
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu May 6 11:16:27 2010 +0200

    samba4: Add python bindings for samba.policy.get_gplink_options.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 381e82465842c7d1195ca81db40a0c5d9f9e9c57
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu May 6 11:10:21 2010 +0200

    policy: Add samba.policy.get_gpo_flags binding.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 41fae89daf41128debbef4097e8646596441adfb
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Thu May 6 18:42:14 2010 +0200

    Add gpo create functionality. Also fix gPLink handling bugs
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 32ee6f8cfddefff92e59e230c5920afec16ffd7d
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Wed May 5 10:12:20 2010 +0200

    Fix mode_t in mkdir.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 2941d2ebc353f16b6eb63985a8a71f454f16212e
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Wed Apr 28 11:34:31 2010 +0200

    Finish net gpo fetch function. Reorder arguments to make them more understandable. Rename getgpo to show.
    
    This makes the net gpo break for it's samba 3 origins, but makes the syntax more intuitive.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 2b761c3defdadb2566a23ce58e62b9571c02ed25
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Wed Apr 28 11:27:43 2010 +0200

    Optimize the backslash logic in the path traversal.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit f24f472d445f67654126fc5de6b680709f2fe843
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Tue Apr 27 22:41:25 2010 +0200

    Fix error in logic, making recursion work past the first level.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 3b11a53304df29ebe2f2bfdeb5a6f0bf66553013
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Tue Apr 27 21:06:11 2010 +0200

    Add fetch function for GPO which fetches all relevant files from the sysvol share.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 698144851a07f66e7b786f5e1eb08d4670ddb619
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Mon Apr 26 17:26:51 2010 +0200

    Add getinheritance and setinheritance to net gpo util and library.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit a4cb72790cfc8f267f8574de3eea8634aed62e57
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Fri Apr 23 19:12:01 2010 +0200

    Implemented delete group policy link function and corresponding feature in net gpo.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit f0353fddde4a0b8aab448db779cc2c1cc419b4a0
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Fri Apr 23 18:10:43 2010 +0200

    Changed add_gplink to set_gplink, so we can change gPLink options as well.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 40d71815072b5258cbe3ed0f1de62be68625e25e
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Fri Apr 23 17:31:21 2010 +0200

    Add add gPLink function and corresponding net gpo linkadd call.
    
    Also added some definitions for future functions in policy.h
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit a1fceac844a0a7690ab985fa08e6a08127e770bf
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Fri Apr 23 11:58:26 2010 +0200

    Rename files to reflect the libpolicy naming convention. Also fix the GNU make build.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit b02571541998f2698a92be8729f4f0da869a0f99
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Fri Apr 23 11:53:04 2010 +0200

    Rename libgpo to lib/policy to avoid confusion with samba3 and add waf build
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 626db5c3b5854a895b79ab186a36d1b5cbb769b5
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Fri Apr 23 11:10:11 2010 +0200

    Add old functionality back which was removed in commit 589a42e2.
    
    Andrew, please review!
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 08a7bb4abc6e59bc109ac38c164ad3f0b63b2439
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Fri Apr 23 09:32:01 2010 +0200

    Add gpo list function for listing applicable GPO's for users/machines.
    
    Implements:
     * Hierarchical listing through all parent containers
     * security ACL checking on the GPO
     * User/computer disabled flags on the GPO
     * gPLink disabled
     * gPLink enforced
     * Block inheritance on the container
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 6478a1edb70a60cfd318292478781a665b022887
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Wed Apr 7 21:22:36 2010 +0200

    Add gPLink and getgpo functionality to net gpo.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 8d5f8f577f2e906cd80a6a11b76114922182cb99
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Tue Apr 6 20:15:38 2010 +0200

    Created net gpo and new libgpo for samba 4. This adds the init function which finds a DC and connects to its LDAP. It also can return information on all group policy objects on a DC.
    
    Aborted earlier attempt at reconciliation with samba 3.
    Did not work out due to lack of ldb support in samba 3, also the
    different registry libraries and different libnet did not help..
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit cfee179d03e9c3b8d02a51995bd1c205daabb6c3
Author: Kai Blin <kai@samba.org>
Date:   Sun Jun 20 16:29:24 2010 +0200

    s3: Attempt to fix the build on NetBSD
    
    Unlike Linux and OSX, NetBSD seems to have *netgrent prototypes in netgroup.h.

commit 9e02764f7c34fd5c9686c7a754a30e9a6ae95769
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 15:22:49 2010 +0200

    pydsdb: Mark all SamDB and Schema methods that are in pydsdb as
    private, to discourage them being called directly.

commit 7b32f65600988421dc8c825109e225612a3b6166
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 15:04:42 2010 +0200

    testparm: Check netbios name and workgroup characters and length.

commit 5f3d5a3ad873feca66e118e020ed77189a7f2f9c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 14:24:54 2010 +0200

    provision: Properly cancel transactions on the secrets ldb.

commit 237ab66f6c292b62b37af05771913b693b32d885
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 14:14:47 2010 +0200

    selftest: Use scripted testparm.

commit 7a064b9960ab3cfb4ef76a939da7670aa34519a6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 14:14:01 2010 +0200

    pyparam: Support Loadparm.get(p, "global")

commit a2540fb3cbf8f288b106b03589d097212629b386
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 13:54:51 2010 +0200

    ldb: Add ABI file for use when including ildap in the build.

commit 08a3e8b9f4d4d99cfca65752b0b516e0ec3f8651
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 13:51:39 2010 +0200

    testparm: Simplify default option handling.

commit 338315f4d713e2648419f2eda805748901435204
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 13:51:14 2010 +0200

    pyparam: Allow specifying None as section name to LoadparmContext.get()
    to mean default section.

commit f0ab4503d6204ede46fad1d7586ad5d655c1c6fa
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 13:47:36 2010 +0200

    testparm: Fix suppress prompt option.

commit c0e9a41f67f787f4fecec69dd661d92ecd24e608
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 13:41:38 2010 +0200

    testparm: Fix exit value, install.

commit de3f9e31d34eac6ddc17e298299d5065f9a86e7c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 13:40:49 2010 +0200

    s4-python: Add LoadparmService.dump()

commit 74c66c9a3f6aedbbcdbce66a1d72a3c3b74137f8
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 13:29:35 2010 +0200

    s4-python: Implement LoadParm.dump().

commit f051a8557f29352b4ec76ab6a8ed4de083f0816f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 13:22:26 2010 +0200

    testparm: Split up functions that do multiple things.

commit 0a07b8ebfe797f062e50fbb901cd8040513af6d2
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 13:16:30 2010 +0200

    testparm: Convert to Python.

commit 8f383fc5c8ca7190c719e58473d609cf9dce9444
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 13:15:09 2010 +0200

    s4-python: Remove more unused imports, fix use of sets in upgradehelpers.

commit 1e35ec43f2dcf08446bdeb62aa6a03827666b154
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 12:19:08 2010 +0200

    setnttoken: Remove empty utility.

commit 3795358aca56f0c961f48b84ffeea4dd286ab914
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 12:06:50 2010 +0200

    Use standard Python syntax, booleans and set()'s where appropriate.

commit 66e27e5214180b473b848201d2dcc7ccc3ad2b04
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 11:59:49 2010 +0200

    Remove unnecessary use of transactions.

commit 9bcd0daba2cdd2acd6fc0e3de44f5138f2f3303f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 11:49:08 2010 +0200

    ldb: Change LDBSAMBA back to subsystem, update comments, use different
    ABI file based on whether ldb_ildap is included.

commit 44c01a5eb45a0cd5ca3de8be5c4680de75418dce
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Jun 20 11:33:43 2010 +0200

    s4:ldb-samba: fix the build without a system ldb
    
    metze

commit a453b87d68f89c48e0d0545fe240801e4eac1686
Author: Kai Blin <kai@samba.org>
Date:   Sun Jun 20 09:49:34 2010 +0200

    s3-waf: Change the (set|get|end)netgrent checks to match the configure.in checks

commit ff32f691bba41afab45efe7e21a2c91bb2c157bb
Author: Kai Blin <kai@samba.org>
Date:   Sun Jun 20 09:36:19 2010 +0200

    s3 configure: Check for (set|get|end)netgrent prototypes

commit fa3e50fee421a7fe407510627e0fdbcd5f4013c0
Author: Kai Blin <kai@samba.org>
Date:   Thu Jun 17 22:41:57 2010 +0200

    build: Allow for a custom message in CHECK_C_PROTOTYPE

commit 1f07f53827908d48e50b018c50e97de4740b740b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 02:44:39 2010 +0200

    ldb: Remove last import of dsdb.

commit 94e06fe2032b0143939abd85044b5c3ccddefe70
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 02:32:23 2010 +0200

    Some more formatting fixes, move schema related functions from Ldb to Schema.

commit d3d7ff66d4a7952a50e7d9175528985358cb3522
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 01:43:51 2010 +0200

    Move convert_to_openldap onto Schema class.

commit afad634207ecdc5e67386e857ff3b9d5d7acd1ac
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 01:56:52 2010 +0200

    Formatting cleanups; use True/False for booleans, unnecessary backslashes, spacing.

commit a5e8ef884b847c5db50431956db0ef5ecc5f77e2
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 01:37:06 2010 +0200

    Move a few more samdb-specific methods to SamDB, away from Ldb.

commit 1d86414eb022bd8c4d86bdab094a06f43e4eb10c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 01:28:39 2010 +0200

    samdb: Fix formatting, move get_oid_from_attid from Ldb to SamDB.

commit b48182007c53faebb0a57cefb5e1923a3bef5851
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 20 01:26:23 2010 +0200

    s4-python: Remove trivial function, replace by dictionary.

commit e55c012accef40a9e07f8a9e67d54afd18ba2a7e
Author: Lukasz Zalewski <lukas@eecs.qmul.ac.uk>
Date:   Sun Jun 13 11:02:44 2010 +0100

    make test modules for net group set of commands and modification to the newuser to include additional parameters
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 214133fbec27c4ed42bb8c527e1365a321de0fbf
Author: Lukasz Zalewski <lukas@eecs.qmul.ac.uk>
Date:   Tue Jun 8 20:33:56 2010 +0100

    Modifications extending functionality of newuser cmd and new net group set of commands for group related operations on ldb
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit c58c0c2129b1df7b5eeb984bed4a09f2ecdfc2b1
Author: Lukasz Zalewski <lukas@eecs.qmul.ac.uk>
Date:   Mon Jun 7 17:10:28 2010 +0100

    Modifications extending functionality of newuser cmd and new net group set of commands for group related operations on ldb
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 38a26f79eaded8364a178ba2aac71e64f5d60be5
Author: Matthieu Patou <mat@matws.net>
Date:   Wed Jun 16 11:25:19 2010 +0400

    s4 upgradeprovision: Make grouped commit / rollback more resistant to unexpected problems
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit c4f7b0e5f673943dfdda88f3e289912778a07a33
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Jun 14 12:28:58 2010 +0400

    s4 upgradeprovision: Check that the policy for DC is present if not warn the user
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit aea0003d088f5e5f7d1393d4d75f570418dda043
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Jun 14 02:14:48 2010 +0400

    s4 upgradeprovision: Emit message instead of crashing when not able to set acl
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 17af115de59fc3b52134a44ae1b0c5170b8f67e3
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Jun 14 01:50:47 2010 +0400

    s4 upgradeprovision: add an option to force the rebuilding of FS ACLs on sysvols share
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 59f17f9e64f4fdf4a63440e20d6b30008072b4df
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Jun 15 12:53:18 2010 +0400

    s4 unittests: add unit tests for upgradehelpers
    
    The functions tested are:
    * construct_existor_expr
    * search_constructed_attrs_stored
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 75389cecdde884356e222e3f846e7358f82c20c0
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Jun 15 12:50:29 2010 +0400

    s4 upgradeprovision: Add function for searching stored constructed attributes
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit f3e7d0ae8f63c57fc0ec7680b2863c6f50e167fe
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Jun 15 02:41:18 2010 +0400

    s4: Using control bypassoperational allow the logic of this module to be bypassed for some given attributes
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 3ebe56062297e52cf31499c6eb63c7ce70073bcc
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Jun 15 02:23:11 2010 +0400

    ldb: add a new control bypassioperationnal
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 9c5f0ed7298e666fcfa05257fc7abfb6d3208433
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Jun 15 23:41:39 2010 +0400

    s4 upgradeprovision: additional restyling
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 423f99172efcb57a654af5a6fcbad1045f210027
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Jun 10 01:00:43 2010 +0400

    s4 upgradeprovision: Restyle imports
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit fbeacc1013bc3a95f19d7932a2bbf3d28176a977
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Jun 8 00:01:16 2010 +0400

    s4 upgradeprovision: Move functions to helpers and improve code
    
    Among code improvement the most significant part is that we now
    compare DN object instead of their string representation. It allow
     to better react to case an white space difference.
    Some new move objects have been added (ie. System into well known
    security principals).
    
    This will allow more unittesting
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 8ff65b0136f442204f4d059fb1a13ad4a6419ab4
Author: Matthieu Patou <mat@matws.net>
Date:   Fri May 7 04:22:36 2010 +0400

    s4 python: Update unit tests related to create secrets
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 9c808c47fc2fddac396d12452428443f3ab26073
Author: Matthieu Patou <mat@matws.net>
Date:   Mon May 24 09:41:44 2010 +0400

    s4: Add comments about setup_secrets
    
    Comments are to inform people that this function should not handle
    transaction within the function as it is mainly used in provision and
    that we want to commit secrets only if all the action on secrets have
    worked.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 84342b1c7f289e5288470d4d4e3899aac6f042c5
Author: Matthieu Patou <mat@matws.net>
Date:   Fri May 7 16:26:26 2010 +0400

    s4 upgradeprovision: Add documentation on the update process
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit a466e0d61a97da648970eea02c246c08c503c421
Author: Matthieu Patou <mat@matws.net>
Date:   Tue May 4 00:01:00 2010 +0400

    s4 python: Add unit tests for upgradeprovision related stuff
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit ad55248958fe9aaeb6ebdc6f2d4c66a85ead6786
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Jun 8 00:52:25 2010 +0400

    s4 upgradeprovision: move some functions to upgradehelpers for unit tests
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 0537de17c124b8ceccbeb9a57e9636a461239774
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Jun 8 01:13:45 2010 +0400

    s4 upgradeprovision: Fix style
    
      reformat *_update_samdb functions
      fix_partition_sd
      rebuild_sd
      update_samdb
      update_privilege
      update_machine_account_password
      update_gpo
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit b624440a0fc99c43e97c73ffe7e17621a17b59ae
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Jun 7 16:27:48 2010 +0400

    s4 upgradeprovision: Use replPropertyMetaData for better guess
    
    Rework upgradeprovision in order to get more precise updates when doing upgrade provision.
    This is done through the use of replPropertyMetaData information and raw information revealed by the
    "reveal" control.
    The code has been changed also to avoid double free error when changing the schema (for old provision).
    Checking of SD is done a bit more cleverly as we compare the different parts for an ACL separately.
    Fix logic when upgrading provision without replPropertyMetaData infos
    Also for old provision (pre alpha9) do not copy the usn range because data here will be wrong
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit dd963ddb4e84bb1b7bea6ecb3a1e045d170338dc
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Jun 7 23:47:43 2010 +0400

    s4 upgradeprovision: Reformat attributes lists and reformat parser
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 60400a7803d765fd53100fe088f1237e67887fe3
Author: Matthieu Patou <mat@matws.net>
Date:   Fri Apr 9 02:55:38 2010 +0400

    s4 upgradeprovision: Inform about new dns dynamic update if the provision didn't have it
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 26ccc3f4400165448f9a53efdec224d11f290783
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Jun 8 00:21:48 2010 +0400

    s4 upgradeprovision: fix style
    
      add_deletedobj_containers
      add missing objects
      clean add-mising
      handle special add + dump denied
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 0ff46ec557009ec2dff0650dd39d6314e9df3a4e
Author: Matthieu Patou <mat@matws.net>
Date:   Sun May 2 19:56:03 2010 +0400

    s4 upgrade provision: Refactor code to do all the modification within 1 transaction
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit ec90b1b40e1f610dfc1e2aa3ba91c0b27dde4f60
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Jun 8 00:21:00 2010 +0400

    s4 upgrade provision: Fix style in gen_dn_index
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 50072e27fec0d3528e111ec566204f4e39e24ea5
Author: Matthieu Patou <mat@matws.net>
Date:   Sun May 2 19:56:31 2010 +0400

    s4 Add functions related to ldb manipulation when doing upgrade
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit e2df3c251060d634c8538dd7e771819ccf196130
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Apr 22 12:53:12 2010 +0400

    s4 provision: Add information about provisioned usn range in sam.ldb
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit c92db7b6dc31756fc461ea9f74e1cd675e3e160d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 18:58:18 2010 +0200

    python: Use samba.tests.TestCase, make sure base class tearDown and
    setUp methods are called, fix formatting.

commit 105ebb34405eb458c51ebbfb57b3ce31a41c34e2
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 18:57:35 2010 +0200

    acl: Clean up formatting, use samba.tests.TestCase.

commit 5060367bf9356a9f18fbc41563b8052fb68153d2
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 18:57:13 2010 +0200

    pyrpc: Fix reference counting when using secondary connections.

commit 50429fb75074863598807267a6d02ed44056efe8
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 17:49:46 2010 +0200

    samba.tests.samba3: Clean up imports, use new TestCase class.

commit f57b26b6f44494efc0689724a33780e660e3d795
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 17:49:15 2010 +0200

    ntacls: Raise TestSkipped rather than writing to stdout.

commit 96f120e2349b855ea34888ad923861e787812827
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 17:48:37 2010 +0200

    python/passwords: Clean up imports.

commit 026a4d85a1a909d2efe447bea36b941e01da7e42
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 17:48:05 2010 +0200

    samba.tests: Provide TestCase and TestSkipped classes (from testtools) for convenience.

commit 5e67566f5e660a91c004aa606d1987fd7665f5dd
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 17:46:57 2010 +0200

    pytdb: Cleanup formatting.

commit 2b7b69544cfc498b731ef0d65759f65376d460fd
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 17:32:01 2010 +0200

    dsdb_schema_info: Clean up imports, avoid using rpc test case for
    non-RPC tests.

commit c2cb0a710b050845420e6128cf80e6c3653df650
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 17:27:50 2010 +0200

    python: Remove unnecessary Ldb.set_invocation_id - use SamDB.set_invocation_id instead.

commit 827ce7b0a37595b23ab35d016fd391a82d408a76
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 17:23:41 2010 +0200

    pyglue: Trim dependencies.

commit 27d82685dabf93c41ddbe273563073394d21afd3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 17:19:48 2010 +0200

    pyglue: Remove unused code.

commit 74309eb29cba6a9a3c22bcb808b5c2e59a9f9880
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 17:15:26 2010 +0200

    pydsdb: Move write_prefixes_from_schema_to_ldb to pydsdb from pyglue.

commit a4f60ffe4bb4e0e32d7cd62dc872b1f23435edca
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 17:09:52 2010 +0200

    pydsdb: Move dsdb_set_schema_from_ldb to pydsdb.

commit 05b108a06b383f2172a379629b9a6bcff82c6868
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 16:52:09 2010 +0200

    pydsdb: Move set_schema_from_ldif function to pydsdb from pyglue.

commit d3a99579f6c87bf9bc5863ca645bc1456ee6834f
Author: Brendan Powers <brendan0powers@gmail.com>
Date:   Tue May 25 16:14:37 2010 -0400

    libcli: Fixed a segfault in security_acl_dup when the acl is NULL.
    
    This can happen when duplicating a security descriptor that is missing either sacls or dacls.
    
    Signed-off-by: Matthias Dieter Wallnöfer <mdw@samba.org>

commit cadca1f6ba514eb7b022d761935f80b3049cede4
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Apr 30 18:47:44 2010 +0200

    s4:provision: don't use hardcoded 'Default-First-Site-Name'
    
    metze
    
    Signed-off-by: Matthias Dieter Wallnöfer <mdw@samba.org>

commit 131be8da0fa2db11b91cb08a182a524832db1d41
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 19 19:33:16 2010 +0200

    s4:instancetype LDB module - "instanceType" is single-valued - MS-ADTS 3.1.1.5.2.2

commit 3055ead4cff55895917ca88c3fb91c89da34ad5f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 17 15:39:06 2010 +0200

    s4:torture/ldap/basic.c - add more error code/messages tests
    
    And now we do match at least the LDAP error code (the WERROR one does still
    differ from Windows - we will see how to change that).

commit 7cbe3035d9f0d534d017f65fa2250011c45bb415
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 19 14:58:31 2010 +0200

    s4:ldap_backend.c - more customisations to match Windows Server error behaviour on renames

commit e315aceda357711284da08094f80b1e03346fef0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 19 14:49:23 2010 +0200

    ldb:ldb_dn.c - don't support "ldb_dn_add_child" on a "" parent DN
    
    It's meaningless and could end in DNs as "cn=child,".

commit bce8017ca9f64ce8e3bf94312d69f97e87d3d41a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 18 22:20:22 2010 +0200

    s4:python/samba/__init__.py - now specify the "relax" control for the delete operation before the provision

commit c0538a006d5381f3bc17d90f873e791d35bbde17
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 18 22:17:54 2010 +0200

    ldb:api.py - add a small test for the enhanced "py_ldb_delete" syntax

commit ca34ffaaac4cc98dc600cb8b5bc6e8ecf93f7492
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 18 22:08:58 2010 +0200

    ldb:python bindings - some small cleanup & improvements in "py_ldb_add"
    
    Also to make it similar to "py_ldb_delete".

commit 2aeea4bb4d214675334da7c45e896d88ccb85832
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 18 22:04:07 2010 +0200

    ldb:python bindings - let also "py_ldb_delete" support controls

commit d16697df4908de57a379796e22c82929b8422b92
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 18 21:35:43 2010 +0200

    s4:objectclass LDB module - disable delete operations when "SYSTEM_FLAG_DISALLOW_DELETE" is specified

commit 46bcf883bfe07d50b1009f1878093d8643d70a95
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 18 21:13:39 2010 +0200

    s4:rootdse LDB module - strip trailing whitespaces

commit 7f46a91e7764766460cb374b5cc65e769184d91f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 18 21:10:19 2010 +0200

    s4:rootdse LDB module - protect add and delete operations on the rootdse entry

commit 72e14ea8bd47695dcdf1a3c8ee3a017c6d2e4d5c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 18 20:53:25 2010 +0200

    s4:rootdse LDB module - Return "UNWILLING_TO_PERFORM" when no attribute fits on a change

commit 2af67a3602528f55f3fb871bac0bc15ee88df702
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 18 20:52:33 2010 +0200

    s4:rootdse LDB module - refactor error messages
    
    Fix indentations, use "set_errstring" when no "asprintf" functionality required.

commit a4381239ba364ad025308e9b8f310942dde36db8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 19 17:47:22 2010 +0200

    s4:objectclass LDB module - use the old DN when displaying error messages

commit ee2bb4474f38ce3c8d7a641059ca85cde1a12e9c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 19 17:46:57 2010 +0200

    s4:objectclass LDB module - add a better message when the parent DN is invalid

commit 04890bb750ba900e8ee476690e8f882676217c72
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 17 15:32:48 2010 +0200

    s4:objectclass LDB module - add an error message when someone tries to add entries without objectclasses

commit 9da8b06112257f87860e31273c9d3128bc811371
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 17 15:17:05 2010 +0200

    s4:objectclass LDB module - handle the case when there is a retry to add the root basedn
    
    This isn't quitted with a normal "NO_SUCH_OBJECT" (parent not found) but with a
    very special referral: one with the DN itself and the hostname is the last
    component value of the DN.

commit 24930aa716c3501b336e8f5534590e968d837aaf
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 16:00:04 2010 +0200

    wafsamba: Use octal modes directly rather than constants.

commit b099631f428d0ecc641d59bd3c94674e6348dde9
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 15:32:27 2010 +0200

    heimdal/waf: Initial work on making it possible to use the system
    heimdal again.
    
    Still missing are the detection of the right Heimdal version and
    linking (unresolved symbols at the moment).

commit b03637cb9e1690f7c571186456229ad7c40b3740
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 14:46:22 2010 +0200

    dsdb: Fix includes when building against system ldb.

commit f370bd47b058677ffa108d7312bb6ff2609ac4e3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 14:45:35 2010 +0200

    wafsamba: Allow manually specifying cflags/ldflags for system libraries.

commit 7646eb6a0fe9c28cdd006493502bd4b36ccfd2bc
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 14:02:18 2010 +0200

    wafsamba: Use convenience function to find out if bundling is necessary.

commit ccaf0c60380b80ade3b1ac6085518218d236c281
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 13:55:41 2010 +0200

    dsdb: Use Samba includes so _PUBLIC_ is defined.

commit a8aaf3d4be4e835fc32bca46dbc4667bf265e1ef
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 13:47:11 2010 +0200

    wafsamba: Factor out functions to determine if a bundled library should not or
    must be used.

commit 238e89f7b0c3f35578105329578685a187209f83
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 13:46:39 2010 +0200

    dsdb: Make module ops struct for each module public.

commit f36a9afc2f62827700e4b8b441448aef00439f7d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 13:41:48 2010 +0200

    s4-python: Use sys.prefix rather than guessing prefix from current
    file path.

commit bd1786f7f15d9fd6382979ff753fefc7a9cd0024
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 12:10:29 2010 +0200

    wafsamba: Fix typo: noextenion -> noextension.

commit bf8045037dae76d1e5f1faa0d6586a90e894fb31
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Jun 19 02:26:13 2010 +0200

    waf: Add missing dependency (so header paths are inherited) on talloc to internal python lib.

commit 5143353108c02a27ad62b33e59a26f5bc5d136fe
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Jun 18 22:43:37 2010 +0200

    samba4: Build libreplace as builtin library by default so it doesn't end
    up in $prefix/lib.

commit f2527d217cbc7f64259d00c63a549a3119a4ed66
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Jun 18 22:43:17 2010 +0200

    replace: Avoid hiding symbols when libreplace is builtin, as this
    appears to cause unresolved symbols at the moment.

commit 380ee5f081d4525c5c308ec203864b07c3cf36a1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Jun 18 10:09:03 2010 +0200

    ldb: Remove dependency on self.

commit e0fe9412186ab0962c672241ac386cafb25f95ef
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Jun 18 09:45:15 2010 +0200

    wafsamba: Use BUILTIN_LIBRARY() rather than relying on side-effects.

commit da0fb0affbf4601aca6aa83264b2c81cc9d1d4c1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Jun 17 22:36:33 2010 +0200

    ldbsamba: Build as subsystem to prevent infinite recursion issues.

commit 4c22434b3b261d5af45131dc5542e81857c4f468
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Jun 16 20:38:22 2010 +0200

    s4: Don't build a $prefix/lib/libpython.so, as such a library often already exists :-)

commit b391b7d07274d30231273255ebe064b4c356e855
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Jun 16 20:35:40 2010 +0200

    s4-waf: Don't include pytalloc when embedding python.

commit ebd0bca555f13f19bebdb220088c97a3473daa61
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Jun 16 20:15:19 2010 +0200

    s4: Build more python convenience files as subsystems rather than as python modules.

commit 8e8496208b4fa5bf69fcc884fdb054352060e21e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Jun 16 20:14:46 2010 +0200

    ldb: Don't build pyldb_util as python module but rather as subsystem, so as to not delute /usr/lib.

commit f74dceda8c91b46180e14787ffd3dce01e1b023d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Jun 16 20:14:31 2010 +0200

    ldb-samba: Don't build pyldbsamba as python module but rather as subsystem, so as to not delute /usr/lib.

commit 938250790967dffa617446ab2e7b266b06033495
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Jun 16 20:01:38 2010 +0200

    web_server: Don't build wsgi support as python module but rather as
    subsystem so we don't install it into /usr/lib.

commit 837a975c2be620396f3eac02a14d057a2de6c270
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 18 19:11:35 2010 +0200

    s4:cldap_server/rootdse.c - simplify the code a bit
    
    Remove "NULL"-content variables and use "NULL"s directly as arguments. Add some
    linewraps where needed.

commit 9969cfc36cc40d37d0cd740d60f698dad3f55bbb
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 18 18:57:38 2010 +0200

    s4:cldap_server.c - here the counter variable should be "signed"

commit 2e8c5639618fa4c6efb461ad4e6b51c84da8bd10
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Jun 17 15:51:19 2010 -0700

    Second part of fix converting prs_XX struct and functions to talloc. Remove unneeded prs_mem_free calls.
    
    Jeremy.
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit f4e7d9d38ebf209be6c040f4ef98dd8111735187
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Jun 17 15:35:07 2010 -0700

    Convert the prs_XXX struct and functions to use talloc instead of malloc. Passes valgrind and make tests for client and server. Second version of this patch after splitting up at Simo's request. Patch to follow will delete extraneous prs_mem_free() calls.
    
    Jeremy.
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit 3fa38046cb76d38a6be8e29111a4be225b8bdf96
Author: Matthieu Patou <mat@matws.net>
Date:   Wed Jun 16 12:39:16 2010 +0400

    unittest: Change the name of the base ldb test so that it can be easily called separatly

commit c9ef9da12fed2c3ea1d46dc710393f6ffebe7491
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 17 16:35:55 2010 +0200

    s4:ldap_backend.c - fix crash bugs when we got in error situations with "res" still set to "NULL"

commit e7fef1ac84c39647306f8bb075f97e36549a8289
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 17 16:00:13 2010 +0200

    s4:ldap_backend.c - fix a small error (use "ModifyResponse" rather than "AddResponse")

commit 955e1835ef14aa961127007014dfd93b464779eb
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 17 15:27:50 2010 +0200

    s4:objectclass LDB module - move "mem_ctx" initialisation lower
    
    Saves us some "talloc_free"s on error cases

commit 56e4822566743a42a3e20cc9dc969826969ba156
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 17 09:42:17 2010 +0200

    s4:dcesrv_netr_DsRAddressToSitenamesExW - fix the detection of the address family in a better way
    
    Obviously the last attempt wasn't enough. Now we do really only read the first
    byte in the address buffer which on little endian transmission does always
    contain the address family (MS-NRPC 2.2.1.2.4.1).
    This should now be working platform-independently.

commit 01e9d090f1f9f340d9bdb597341b445544cf7a7d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 17 09:33:10 2010 +0200

    s4:torture/rpc/netlogon.c - make sure that the address family is set in little endian in the "AddressToSitenames" tests

commit 917f6015a6292a5b9b88607060dc5f87dc78fb9b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 17 09:23:00 2010 +0200

    s4:torture/rpc/netlogon.c - activate "AddressToSitenames" tests which do run against s4

commit be31b2ba62c49eaee6fb090a92b13ac8cf33bd1f
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Jun 17 12:34:15 2010 -0700

    Use #defined constant instead of "false" to be clearer about intent.

commit 160d882f34cee6c74e5d289dd2fcebb97037a008
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 17 15:01:01 2010 +0200

    s3-selftest: fix locktest9 in make selftest.
    
    Guenther

commit 14c8d319e34eb4f525967d14253ebe071cbc451b
Author: Björn Jacke <bj@sernet.de>
Date:   Wed Jun 16 23:36:38 2010 +0200

    s3:configure: use cc for linking on IRIX and fix shlib usage

commit d823e529b86e01b7a8246b89e27cfd75f7b61428
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jun 16 23:11:05 2010 +0200

    s4:torture/rpc/remote_pac: use dcerpc_netr_LogonSamLogon_r() instead of dcerpc_netr_LogonSamLogon()
    
    metze

commit 22eb6d7b6b57ff0bee99ea86ddec676e7faaab8a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jun 16 11:22:30 2010 +0200

    selftest/Samba4: make the naming of passwords more consistent
    
    metze

commit f26c0e545617ba336720cd8852f4f376f4062af5
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jun 16 11:14:46 2010 +0200

    selftest/Samba4: let localfl2000dc use 127.0.0.5
    
    Now we have 127.0.0.6-10 available for more servers.
    
    metze

commit 8aed54adbf1a87de833cd53e4bc9a4eab074128e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jun 16 11:13:28 2010 +0200

    selftest/Samba4: let localvampiredc use 127.0.0.2
    
    metze

commit 6a0db03c80275c00dc0fe7aff099f9b6cc2d113e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jun 16 11:02:48 2010 +0200

    selftest: use 127.0.0.11-16 for the client
    
    This gives more room for servers.
    
    Note: socket_wrapper currently only supports 127.0.0.1-16
          see MAX_WRAPPED_INTERFACES.
    
    metze

commit 1e8d025a3cd1b326e9660a0a5b388e67fc2d172a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jun 16 11:00:29 2010 +0200

    selftest/Samba3: remove unused create_clientconf() function
    
    metze

commit 9e3511ef1cf9b278cff04f1c883aed487876b93a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jun 17 08:55:10 2010 +0200

    pidl/wscript: build manpages in build group 'final'
    
    So that waf --target=smbtorture doesn't build them
    
    metze

commit b0b2b4ff8bbcf80976b95b587aa7427c70c11b06
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jun 17 08:49:36 2010 +0200

    pidl/wscript: only try to build pidl manpages if pod2man is available
    
    metze

commit e80f576db66ad04592ac436ed74ceb9b96452060
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jun 17 08:44:53 2010 +0200

    pidl/wscript: call pod2man with the detected perl version
    
    Some systems like SLES11 have a broken perl path in pod2man.
    
    metze

commit 93280974b8fb236b212b9116a1d8921329e5e1d8
Author: Kai Blin <kai@samba.org>
Date:   Thu Jun 17 08:09:41 2010 +0200

    s3-waf: Fix the OSX 10.4 build by adding an explicit resolv dep on smbclient

commit 83ad437a9cf9f0ed36ea0e72282020e9330f8c88
Author: Kai Blin <kai@samba.org>
Date:   Tue Jun 15 06:53:11 2010 +0200

    s3-waf: Add check for iconv

commit 7a1c24705dba06753a693a3dbee93d473726d05a
Author: Kai Blin <kai@samba.org>
Date:   Tue Jun 15 06:52:42 2010 +0200

    s3-waf: Work around missing *netgrent prototypes on OSX 10.4

commit d9c81e3ea54fabc30121872a56bf3a393f26983b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 16 21:47:22 2010 +0200

    s4:dcesrv_netr_DsRAddressToSitenamesExW - fix the read of the IP packet version
    
    This should make it clearer by the use of the standardised "sa_family_t" type
    and hopefully fixes the problems on platforms other than Linux (NetBSD in the
    buildfarm for example).

commit ad7859dfff3598d351aa91b025e4afba7ab46382
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 16 21:45:15 2010 +0200

    s4:ldif_handlers.c - fix warning

commit 7e388c8b2763a11aac50b390ccd3697a15b5be65
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Jun 16 10:27:54 2010 -0700

    Remove an unused chunk of code (will make it easier to talloc'ize prs_XXX).
    
    Jeremy.

commit 5a77d648d9ce2ad60d4a951b69461a5b3d24289f
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Jun 16 10:26:47 2010 -0700

    Remove two unused functions (prs_force_dynamic, prs_set_session_key).
    
    Jeremy.

commit 1614bcf0ecae211a92c308cd795c138d0533ee63
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Jun 16 19:14:08 2010 +0200

    codepages-waf: When built with --with-fhs, install to
    $prefix/share/samba, not $prefix/share.

commit aa76e8263d5aaa12a19b1c351ac8ec8f0e7a9002
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 15 12:01:09 2010 +0200

    lib/crypto: only include what is needed.
    
    Guenther

commit 65ca3e4ee985689cdb038ae366f57d523cbeb964
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Jun 16 18:25:04 2010 +0200

    pidl-waf: Avoid relying on MakeMaker when installing pidl manpages.

commit bd8fcd869da5a99d9505ede6f5038f98b7951bb3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Jun 16 18:13:18 2010 +0200

    s4: Fix build when there is a system-provided ldb.

commit a6f1c111ffad6ff3f5017305c274c578368d1739
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 16 17:09:47 2010 +0200

    s4-smbtorture: Remind myself we need to add a test for SMBsplretq in RAP-PRINTING.
    
    Guenther

commit cfb67b1a169350a8316532eb5d53de4a3f2bacb3
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 16 17:08:36 2010 +0200

    s3-docs: Fix some of ntlm_auth ntlm-server-1 protocol documentation.
    
    Guenther

commit 7af7e94952cf551656b538993ec511533299e632
Merge: 50882e2... 12fdfc9...
Author: John H Terpstra <jht@samba.org>
Date:   Wed Jun 16 08:57:44 2010 -0500

    Merge branch 'master' of git+ssh://git.samba.org/data/git/samba

commit 50882e2077f20731c14e1687c09d785633e200ee
Author: John H Terpstra <jht@samba.org>
Date:   Wed Jun 16 08:56:42 2010 -0500

    Fix typo reported by Söderlund David <david.soderlund@baesystems.se>.

commit 12fdfc94307b5f1b7982fc82c525b260806c8323
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 16 14:51:05 2010 +0200

    s4:ldap.py - add another test about linked attributes
    
    In addition this test makes sure that the bug regarding the search with deleted
    linked attributes in the filter has been fixed.

commit 53afe4e018cb3bd8728e68699910ec4501fd658d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jun 14 15:52:01 2010 +1000

    s4:ldif-handlers Add a custom handler for DNs that knows about deleted values
    
    In Samba we my store a deleted DN for a linked attribute.  We must
    ensure that we can't match on it, or else searches for member= will
    still reveal it.
    
    Andrew Bartlett

commit 5779c21e41c6da9eabaaaf373d6a45311b234e90
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 16 15:18:34 2010 +0200

    s4:provision.py - we do now support the "Windows 2000 Native" domain function level

commit 233ce18a176fc8c7c8b6b6dbf2eadd30a225405d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 16 15:15:39 2010 +0200

    s4:linked attributes LDB module - strip trailing whitespaces

commit e190683b59db4d22c89644a72d0dd3779ac3d706
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 16 14:49:08 2010 +0200

    s4:linked_attributes LDB module - cosmetics
    
    - unsigned counters for LDB objects
    - we tend to have the "ret" variable always as the last declaration to see
      which type of error a function returns

commit b4364add896d1657263a66c55d867d28bf5ceb1b
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 16 14:18:45 2010 +0200

    s3-auth: in make_user_info_for_reply_enc make sure to check length and data
    pointer of nt and lm hash.
    
    This fixes kernel cifs client with sec=ntlmv2.
    
    Guenther

commit fe90496ce55a5845154e4477d0eb84368c450824
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 16 14:17:44 2010 +0200

    s3-build: allow to build bin/ndrdump4 (just as bin/smbtorture4)
    
    Jelmer, please check.
    
    Guenther

commit 5b17d34d6280f3a98dc0118eab41b3f7f072521d
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 16 14:16:57 2010 +0200

    ntlmssp: add decode_NTLMv2_RESPONSE to IDL.
    
    Guenther

commit 06417abc7c9129958a6ef6fb002944bab133561e
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 16 12:31:11 2010 +0200

    s3-auth: fix debug message in check_winbind_security().
    
    Guenther

commit a75feeaa239c35473c3d8f27b539df126beda81f
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Jun 15 14:25:12 2010 +0200

    s3-tdb: Added missing out of memory check in rename_file_with_suffix().

commit 6dbcffb51d979094cbdac80df5e9480475230137
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jun 16 13:43:38 2010 +0200

    s4:lib: merge LDB_WRAP and LDBSAMBA and make LDBSAMBA a library.
    
    This is needed to remove samba specifc symbols from the bundled
    ldb, in order to get the ABI right.
    
    metze
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 8843eea2e06736f27080eedab883ffc51feacb33
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 16 11:03:31 2010 +0200

    s4-smbtorture: only pull info when status code indicates success in smbcli_rap_netprintqgetinfo().
    
    Guenther

commit 185adc4c810eff3876727ed33b87c208aa09cb62
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 16 12:18:32 2010 +0200

    Revert "s4-smbtorture: only pull info when status code indicates success in smbcli_rap_netprintqgetinfo()."
    
    This reverts commit 1f1c04010a55e67d8dc2110276eed4cf2a8a0afa.

commit bd4bbd9bebc21da232d6a9ed53814eecda2163f3
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 16 12:07:43 2010 +0200

    pidl: make sure to fill in cli->pipes_struct->hdr_req.opnum in s3 server dispatch tables.
    
    Guenther

commit 439e7590c920ebdf70e74e15483a3c1e3500331b
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 16 11:04:34 2010 +0200

    s3-lanman: Fix return code for "" printqname in api_DosPrintQGetInfo().
    
    Guenther

commit 1a86532fce51ec2f46b1e8abb1c1838e6793b76b
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 16 11:04:12 2010 +0200

    s4-smbtorture: test smbcli_rap_netprintqgetinfo() with "" printqname.
    
    Guenther

commit 1f1c04010a55e67d8dc2110276eed4cf2a8a0afa
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 16 11:03:31 2010 +0200

    s4-smbtorture: only pull info when status code indicates success in smbcli_rap_netprintqgetinfo().
    
    Guenther

commit 14f2525f9e72edffbc0530d3aa20a5a9b80b2ce2
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jun 11 11:24:06 2010 +0200

    s3-printing: add BUILTIN\Print Operators as FULL CONTROL to default sd.
    
    Guenther

commit 47ae4a518c5eb7c02d3f6c65f64d2ac490a90e83
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 16 11:44:36 2010 +0200

    s3-spoolss: Provide a memory context for clean_up_driver_struct().
    
    If we use a stack variable to setup spoolss_AddDriverInfoCtr this would
    segfault with a talloc bad magic value.

commit 18f3e5113ae18e120770ba93b0d36a7b176b0c52
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 16 12:01:10 2010 +1000

    s4:dsdb Allow renames with (now removed) linked attributes
    
    It is important to allow the rename, even if we just have one-way
    links, as this happens on deleted objects, which have the backlinks
    alredy removed by repl_meta_data.
    
    Andrew Bartlett

commit 0687a0c9dc3804e34a64f64f064fbbadb3e72ad5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 16 09:16:05 2010 +1000

    s4:selftest Change domain name for functional level 2000 DC

commit 35237d5356d50be16963b9561b17b045cd2c2999
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 15 23:01:51 2010 +1000

    s4:libnet Remove 'ads min function level' checks.
    
    We support Windows 2000 native now.
    
    Andrew Bartlett

commit 25abcb68185ed21ecf030ee6b081e2c912a687f5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 15 22:57:14 2010 +1000

    s4:dsdb Fix linked_attributes to cope with the Feb 2010 changes to DLIST
    
    The DLIST macros changed in behaviour in Feb 2010, and walking the
    lists backwards is no longer safe if you don't use the macros.
    
    Andrew Bartlett

commit 5150f8597a2211414ddbd588e8bd64e0ef3c29a7
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 15 22:26:22 2010 +1000

    s4:dsdb Assert that we can't get backlinks as input in linked_attributes
    
    The objectclass_attr module should prevent users creating such links,
    and the mrepl_meta_data module should only create them in functional
    level 2003 or above.
    
    Andrew Bartlett

commit f9018bc0ea882bf9303350ca594262c88942c38f
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 15 22:24:36 2010 +1000

    s4:selftest Add test environment for functional level 2000
    
    This required that we pass the name of the realm down as a parameter,
    so we can start up two different realms.
    
    Andrew Bartlett

commit d523e946b189826bd0ada2297ba6bdf7d6e73947
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 15 20:45:25 2010 +1000

    s4:provision Add import for DS_DOMAIN_FUNCTION_2000

commit 814cb8895db8fbb39761ce5b2e581cb8cec9f77f
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 15 19:52:58 2010 +1000

    s4:provision Allow functional level 2000 to be chosen

commit 697cd139782a8337c1979442fc5d5705e748aa3f
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Mar 12 10:36:12 2010 +1100

    s4:selftest Add vampire_dc test environment
    
    This starts a domain controller, after running 'net vampire' to
    populate it.  We don't use it as the 'all' environment yet, as the
    rest of the code isn't quite ready to handle it.
    
    Andrew Bartlett

commit ec6839ac26ee54c501e3377d446cf9884175034e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jun 14 15:50:13 2010 +1000

    s4:dsdb use dsdb_module_modify() rather than ldb_next_request()
    
    This does exactly the same thing, but with less code.
    
    Andrew Bartlett

commit ffa787772fe6b88a846209e1733d004d80c99afc
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sun Jun 13 15:54:23 2010 +1000

    s4:dsdb Handle backlinks for Windows 2000 level linked attributes
    
    This revives the code from 5964acfa741d691c0196f91c0796122ec025f177,
    before tridge and I simplified this too much, and removed the Windows
    2000 functional level linked attribute support.
    
    By telling the linked_attributes module that repl_meta_data has
    handled the links, we avoid a conflict for the new style (functional
    level 2003 and above) linked attributes.  However, we still need
    backlinks for 2000 style linked attributes, so this allows that code
    in the linked_attributes module to be revived to handle those.
    
    Andrew Bartlett

commit ecfce7365c8d3fffc5b8eeda13b18e2605ff7b02
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jun 14 15:30:36 2010 +1000

    s4:dsdb Add control for signaling between repl_meta_data and linked_attributes
    
    This control will allow the linked_attributes module to know if
    repl_meta_data has already handled the creation of forward and back
    links.
    
    Andrew Bartlett

commit 81f70834caa4d77f0799506bd9c17d05d631ebd4
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Jun 15 15:33:44 2010 -0700

    Remove unused function.

commit 2c125595fb03d1f3940545438bb4ec462585beb7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Jun 16 00:00:01 2010 +0200

    waf: Fix installation of pidl manapges.

commit 6da487580e9fac388ce3f3a2decaae03d5ae99a5
Author: Aravind Srinivasan <aravind.srinivasan@isilon.com>
Date:   Tue Jun 15 11:21:34 2010 -0700

    s4 torture: RAW-SEARCH: break out some of the old search levels
    
    * Added two new parameters: raw_search_search and raw_ea_size which
      can be enabled/disabled based on whether the server supports
      RAW_SEARCH_SEARCH and/or RAW_SEARCH_EA_SIZE levels
    
    * Skip unsupported levels from the server and give a warning rather
      than failing.
    
    Signed-off-by: Tim Prouty <tprouty@samba.org>

commit 2170a59215d00554b97dc2053eeb6dde38ef3e97
Author: Tim Prouty <tprouty@samba.org>
Date:   Mon Jun 14 16:50:29 2010 -0700

    s4 torture: RAW-SEARCH: Only test supported info levels

commit a4a127ea5a62102890f4eecde45fdb244023dfa3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Jun 15 20:52:01 2010 +0200

    s4-waf: Fix build of libldb_ildap against system ldb.

commit 773e47f4a9c1601284eefac1efc8c139fdf2907a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Jun 15 20:35:22 2010 +0200

    wafsamba: Fix include path inheritance from module subsystems.

commit d913aacfe47153b927c537cd5869ba62eadfb676
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Jun 15 16:38:15 2010 +0200

    dcerpc-samr: Fix library name.

commit 8c88c9c5006bd4e23105740defa7db0949a21e74
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Jun 14 02:15:32 2010 +0200

    Attempt to fix SamDB test infrastructure (not used in Samba anywhere, only in OpenChange).

commit 026fcc6a4f1b50518f2b1d33b278f5b671fb18a1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Jun 15 13:12:23 2010 +0200

    ldb: Bump version number, use same ABI version for Samba4 and non-Samba 4 versions.s

commit fb7a98aa32875f8b113974e062c240e636a7ef64
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Jun 15 02:46:16 2010 +0200

    ldb: Fix included ldb build.

commit de68718d3ddb9a8e88267fae51e90d5db9b91fe7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Jun 15 01:35:42 2010 +0200

    wafsamba: Fix filenames for ldb modules.

commit 0d7f8fb73d95c4658e785cb2f8bba57baf85b487
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Jun 15 01:24:20 2010 +0200

    wafsamba: Fix building of modules as shared libraries.

commit 12b46472896bc89dd7f1597a1f7ffeb5589046b1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Jun 15 01:00:40 2010 +0200

    wafsamba: Improve assertion error message to include the module.

commit e27ef3dd6d59c3e985e912671976ee30b1c613d5
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Jun 15 00:59:49 2010 +0200

    ldb: Only build standard ldb modules when building bundled ldb.

commit 7fe9e6cd69c03246cf56cacc6a2d4e0693dc1101
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Jun 15 00:55:03 2010 +0200

    dsdb: Fix includes when building against system ldb.

commit 419928b8dfec9b055fc2bb775c40ee57108892e6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Jun 10 13:02:59 2010 +0200

    wafsamba: Only add init function if not building module as shared library.

commit 6c9336110c75b9c14739c772f96147af5cea1eac
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Jun 2 13:37:15 2010 +0200

    dsdb: Build modules as external modules when using system ldb.

commit 9ac0a876a744e571ea9d797b59a033ff6db6241f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Jun 1 13:28:50 2010 +0200

    ldb-samba: Add missing dependency on credentials code.

commit 60ea59331b7d7306e67dfea199e23841625c2b51
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 15 11:43:30 2010 +0200

    s3-waf: fix the build.
    
    Guenther

commit b16e602660e9fcfe7a0e46633e81c898b2053238
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jun 14 13:19:43 2010 +1000

    s4:dsdb Move linked attribute restrictions to objectclass_attrs
    
    This puts more of the schema restrictions in one place.
    
    Andrew Bartlett

commit 8ea411847262fec592b48d1a5a3bf4809653a420
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Jun 14 13:27:59 2010 +1000

    s4:dsdb Add const to dsdb_dn functions that operate on an ldb_val.
    
    Andrew Bartlett

commit 0800c9e6f19f7905159ac3ab457ce8cd1899c995
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 15 10:20:37 2010 +1000

    s4:selftest Remove unused basedn specification in selftest env setup

commit 982f688c02aae76e362d9c310284f1c830565759
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Jun 12 13:24:57 2010 +1000

    s4:selftest Remove becomedc tests from knownfail, these should now pass
    
    Signed-off-by: Kamen Mazdrashki <kamenim@samba.org>

commit b5d80a225e06a65c6681eef6d065980d94329f58
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Jun 12 11:05:47 2010 +1000

    s4:dsdb Rework the vampire schema handling to convert 3 times.
    
    This seems like a lot of duplicate work, but by the end we should
    have, in normal LDB format, the remote DRS schema, having bootstrapped
    it with the locally loaded schema.
    
    The multiple steps are to resolve the problems with references to
    schema items that we don't 'yet' know about.
    
    Andrew Bartlett
    
    Signed-off-by: Kamen Mazdrashki <kamenim@samba.org>

commit 7c60ac97bf72aa08df39aa9695607270e39931c5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jun 10 21:33:45 2010 +1000

    s4:provision Allow a specific prefix map to be loaded into a new schema provision
    
    This allows the prefixMap from a DRS server to be used when loading
    the schema from the local files.  This helps us then import other
    schema with this map in place.
    
    Andrew Bartlett
    
    Signed-off-by: Kamen Mazdrashki <kamenim@samba.org>

commit 9e28ceda96a0c76752af851db4ccba86c010ed67
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 9 21:53:01 2010 +1000

    s4:dsdb Keep the DRS-based prefix map for use in provision-based schema
    
    We need to use the remote prefix map for the provision schema, or else
    we can't decode new, non-standard attributes into OIDs.  Then once we
    decode that schema, we can try again and get them properly translated.
    
    Andrew Bartlett
    
    Signed-off-by: Kamen Mazdrashki <kamenim@samba.org>

commit 5323485eb3d5aeb844535c5b08fbdd3e7f8c9429
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 9 20:52:02 2010 +1000

    s4:dsdb Allow the setting an override on the schema
    
    The change here is to try and convert a per the previous rules, but if
    we don't know a particular OID as a attributeID, then store it as an
    OID (for example).  This allows known values to be converted as
    before, but still copes with unknown values.
    
    Andrew Bartlett
    
    Signed-off-by: Kamen Mazdrashki <kamenim@samba.org>

commit 6a2f7fe04c2c658e59fba01f7346303676b121b3
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 9 18:57:52 2010 +1000

    s4:dsdb Use the schema from our local provision to decode the schema
    
    This works on the assumption that the schema partition can only
    contain schema objects.
    
    We may need to pass down some kind of 'relax' to the DRS -> LDB
    conversion code, so that it allows incomplete conversions, so that we
    don't fail if a new attribute is present, and we can't decode it.
    This would then be resolved the second time we do the conversion.
    
    Andrew Bartlett
    
    Signed-off-by: Kamen Mazdrashki <kamenim@samba.org>

commit ecf782da87b67b8d977aa1bbfce21f1b6ed8288a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Jun 12 17:24:26 2010 +1000

    s4:torture Rework NET-API-BECOMEDC test to use libnet_vampire callbacks.
    
    The libnet_vampire code was derived from this code in the first place,
    but has continued to evolve, while this code has often bitrotted.
    This avoids the needless duplication of the callbacks, while keeping
    the toture wrapper.
    
    Andrew Bartlett
    
    Signed-off-by: Kamen Mazdrashki <kamenim@samba.org>

commit c3135905473e9a03c891f43a12557cfddb63382b
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Jun 12 17:23:32 2010 +1000

    s4:libnet Steal ldb and lp_ctx from python result into correct structures.
    
    Signed-off-by: Kamen Mazdrashki <kamenim@samba.org>

commit 1104b41f1e7d794f0bb52b9f8c96d7fe43ca0edc
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Jun 12 17:22:20 2010 +1000

    s4:libnet Make the libnet_vampire default callbacks non-static
    
    These are intended to be called from the NET-API-BECOMEDC torture test
    to avoid duplication of code.
    
    Andrew Bartlett
    
    Signed-off-by: Kamen Mazdrashki <kamenim@samba.org>

commit 2977c659ea1c2b647b8afd4c83cf82eac7e3ec2f
Author: Zachary Loafman <zachary.loafman@isilon.com>
Date:   Wed Nov 18 00:21:44 2009 +0000

    s4 torture: RAW-WRITE should check lockread_supported
    
    Signed-off-by: Tim Prouty <tprouty@samba.org>

commit dd2fad01fd50f2617bd8ee43e1329e6c0f942e54
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Jun 14 16:58:15 2010 -0700

    SMB2 correctness fix. As we've already returned the credits in an interim
    response, don't add more in the final return.
    
    Jeremy.

commit c705c35076fa7a200d0156199d68870e73d1f30b
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Jun 14 15:55:19 2010 -0700

    Fix warning messages about unused result of talloc_move. We're really talloc_steal'ing here.

commit 5ad12f70c543005fa5ef5485018150900382b8f0
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Mon Jun 14 15:12:00 2010 +0300

    s4:Descriptor tests clean-up.
    
    A bit of refactoring and modified the tests to use encrypted connection so that they pass against Windows unconditionally.

commit 352fb5c7e4465de938910a531b3ad640a37a6553
Author: Andrew Kroeger <andrew@id10ts.net>
Date:   Sun Jun 13 10:48:31 2010 -0500

    s4:provision: Make gc._msdcs DNS entries A/AAAA records
    
    When adding an additional DC as a GC server, the new DC attempts to register its
    own gc._msdcs records.  If the existing gc._msdcs record is a CNAME, BIND fails
    the update with the message "attempt to add non-CNAME alongside CNAME ignored",
    and the new DC is not registered as a GC server.
    
    The A & AAAA record types for gc._msdcs have been verified against the DNS
    server of a W2K8 DC.

commit 3f54b415199d8fd2f9a36ec83e159d2aae5b0c3b
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jun 14 12:04:18 2010 +0200

    s3: Make g_smb_perfcount_handlers static

commit 1137e8e95e6b53ed6a9468126634d01f6bc37f08
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 14 11:41:32 2010 +0200

    s4:SAMR server - cosmetic fix

commit f0ab520f6e48096299624d30d904335e0d32a8a5
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 14 11:30:27 2010 +0200

    s4:SAMR server - on alias search operations do never use the domain DN as base dn
    
    Aliases (especially in the "builtin" domain) are often domain-independant.

commit a28b103900ea33d70c6acec150575e10caebfb9a
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Jun 14 11:10:16 2010 +0200

    s3: Remove some dispensable ()

commit 2edd6527294617384b55b151950a21cf08fb79d1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 13 20:52:47 2010 +0200

    s4-waf: Fix installation of .so links for libraries that are not bundled but have a mangled name.

commit d319c83f1f117d3b7ab69ec7b0df7eec80721912
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 13 19:55:53 2010 +0200

    librpc: Install the right headers.

commit 08c972504a437ccec97dcb51e92fa99ab49ffa11
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 13 19:39:20 2010 +0200

    Support system talloc/tevent headers.

commit 14f1ce72ed878e22fb6a016be9dc36bb920c0145
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 13 19:35:48 2010 +0200

    libgpo: Use system libraries if possible.

commit c3550c9c28d11442b17f53dc6be0489aee9827dd
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 13 19:21:17 2010 +0200

    librpc: Fix netlogon.h file to install - not the torture one but the one
    generated by pidl.

commit f52a0d31f08aff9eb8e8890730ec76dfdee7016a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 13 19:21:02 2010 +0200

    param/share: Use static prototypes.

commit 09fb7fcd5f63e180007958de82e59359cc8cfd5e
Author: Thomas Nagy <tnagy2pow10@gmail.com>
Date:   Mon May 24 02:26:36 2010 +0200

    Do not use headermap.txt for the header installation
    
    Try to find the headers by searching on the filesystem. Warn when
    a public header replacement cannot be found (talloc.h, ...).
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 4b6ce8efc0f4b914bcd43ba6a05ce383e51d49fd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 13 18:19:37 2010 +0200

    s4:fix allocated control OIDs for "password_hash" LDB module
    
    The password hash module controls overlapped others. Sorry, but the
    "schema_samba4.ldif" hasn't been kept up-to-date.

commit 7b7213f1eedfbb68217fa760edaa3392dab5f507
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 13 17:43:25 2010 +0200

    s4-provision: Use logger in provision backends.

commit 51058213cb183bcb127f5bb275cbb781efc55e35
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 13 16:38:24 2010 +0200

    s4-test: Use smb.conf path set in environment rather than using
    command-line options.
    
    This is the first step towards supporting custom test runners.

commit 46037a816091506c4c89df6141d57b281728b395
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 13 16:02:26 2010 +0200

    Remove unused version options for subunitrun.

commit 74ed48aa1cf6169757a397ad89dfe88736b0468b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 13 15:57:44 2010 +0200

    Friendlier message.

commit d9d0d54475c1bf78ce1c45f139097cd30029ccaa
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 13 15:32:41 2010 +0200

    upgradeprovision: Use logging infrastructure.

commit 3552ad3ab13a97c28925713dcea01d1e01df8868
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 13 15:13:12 2010 +0200

    upgrade: Properly cancel/commit transactions in a couple more places.

commit 956a256faa035fbc43dbd37273d1c5d62aee0735
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Jun 13 15:05:50 2010 +0200

    s4-python: Start using standard python logging infrastructure rather
    than simple messaging callbacks.

commit f0afda14ba95bc16ec8ca2377640f4ee13825af9
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jun 13 14:13:42 2010 +0200

    Fix aio_read detection for -lrt

commit c7f44801e3e55a37cfc467de8d9ac127cd89327e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jun 13 15:17:31 2010 +0200

    s3: Remove fsp_belongs_conn
    
    check_open_fsp does exactly the same

commit b90eb7dd6920dccd7a814ce77eec886e3a6ca8f0
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jun 13 15:01:34 2010 +0200

    s3: Remove some leftovers from macros
    
    check_fsp and check_fsp_open used to be macros

commit 3f7e2222f47d5960cece48dd751470bcc0983d93
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jun 13 12:11:26 2010 +0200

    s3: Remove the pointless PRINTERNAME macro

commit 1b13755698464581fb1b4a3083f5930d7b408ea4
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Jun 13 12:07:37 2010 +0200

    s3: Remove the pointless SERVICE macro

commit 731b4469cb3b074a39b21fee220517af3df26a68
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 12 17:50:52 2010 +0200

    s4:dcesrv_samr_GetGroupsForUser - return error code if a SID wasn't found
    
    This shouldn't happen since SIDs are mandatory for security objects

commit a67fa2db3b48d48d3460e4cc1d9826a107b64066
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 12 17:45:14 2010 +0200

    s4:dcesrv_samr_QueryGroupMember/GetMembersInAlias - unify the structure
    
    Mostly cosmetic fixes

commit 890d590e5193cc187d4c8dc423afef57048400fa
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 12 13:22:54 2010 +0200

    s4:password_hash LDB module - this does really deactivate the MS LAN manager hash
    
    Previously, only the conversion from cleartext to the LM hash was deactivated,
    and not when the user specified it directly through "dBCSPwd".

commit 3e98262c7115322bb069d19e275c43b1fbd30ec3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 12 13:22:22 2010 +0200

    s4:password_hash LDB module - fix comment

commit 4d681471608f4e319672af368f34912f68ca26a4
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 12 12:17:33 2010 +0200

    s4:torture - SAMR testsuite - now we do support "GetAliasMembership" as expected

commit d2c25e1b11c3ce1e59da2ee7148b5b4ad37a9167
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 12 12:14:59 2010 +0200

    s4:dcesrv_samr_GetAliasMembership - provide a correct implementation
    
    We could also have no valid SID specified at all and also then we have to
    return an empty array with "NT_STATUS_OK". This shows the torture testsuite.

commit 4a8ee9a333ef2b9d0f0cc39c5debf9344cff1f83
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 12 11:39:25 2010 +0200

    s4:dcesrv_samr_EnumDomainGroups/Aliases - when we don't get a SID then the database is corrupted
    
    Group/User/Alias entries do always have a SID (it's a mandatory attribute in the
    SAM directory)!

commit 4659b3c4fd0e9ae7108e9fc4d613682f9f0a098a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 12 00:06:36 2010 +0200

    s4:dcesrv_samr_QueryAliasInfo - return "NT_STATUS_NO_SUCH_ALIAS" when it wasn't found

commit d2099a1deff54423b477bf58c977118256ece92b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 12 00:06:07 2010 +0200

    s4:dcesrv_samr_QueryGroupInfo - make it more like "QueryAliasInfo"

commit 776eb25ef75bf4d7625f04db404c4b8a1ae90936
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 11 23:59:12 2010 +0200

    s4:dcesrv_samr_QueryUserInfo - minor fixes
    
    Return  "NT_STATUS_NO_SUCH_USER" when user account doesn't exist.

commit cdecae6c03fd4ce49f3bcabfe5fccc1c9e7488b0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 11 23:57:39 2010 +0200

    s4:dcesrv_samr_QueryDomainInfo - allocate the "info" structure only when really needed
    
    That means the allocation should move after the lookup (as it is on
    "QueryUserInfo"). Return "NT_STATUS_NO_SUCH_DOMAIN" on an invalid domain.

commit 0171f714b4caf6ef67ea36729106b89e91706002
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 11 23:44:46 2010 +0200

    s4:dcesrv_samr_EnumDomainGroups - mostly small fixes

commit f2c3d39e7223f6bd162f3a38efa1b568aee621de
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 12 11:49:26 2010 +0200

    s4:dcesrv_samr_EnumDomainAliases - return an empty array also when no entry was returned

commit 5a1cb7029cdeaaf2bf1c2093ddc00f51a15d95e5
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 11 23:42:14 2010 +0200

    s4:dcesrv_samr_EnumDomainAliases - mostly small fixes
    
    The biggest change consists in the implementation of the Windows Server
    return size formula MIN(*r->out.num_entries, 1+(r->in.max_size/SAMR_ENUM_USERS_MULTIPLIER).

commit 84bda98066e23b7963a6280155eafa88312724a9
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 11 23:39:46 2010 +0200

    s4:dcesrv_samr_EnumDomainUsers - make this call look more similar to "EnumDomainGroups" and "EnumDomainAliases"
    
    That means that the lookup is now also done by "samdb_search_domain" to be more
    consistent.

commit bbb0b31911c41091dd79da3612b0227c68139da7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 12 11:31:30 2010 +0200

    s4:ldif_read_prefixMap - don't cause memory leaks on error conditions

commit 14974ba1f1e23c3f960cc1c0dd4a1dcf0e5c5601
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 14:52:54 2010 +0200

    s3: Remove smbd_server_conn from cancel_pending_lock_requests_by_fid_smb2

commit 5dc2fe5fdccfcae24819f533371d8aea4280bce7
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 14:52:09 2010 +0200

    s3: Explicitly pass sconn to process_blocking_lock_queue_smb2

commit 2592928f00b0d53da1b5df328f454b9c9415754a
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 14:50:08 2010 +0200

    s3: Remove smbd_server_conn from push_blocking_lock_request_smb2

commit 375ce3c96a695f447a09a8414735249e16cc7916
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 14:48:42 2010 +0200

    s3: Explicitly pass sconn to [remove|schedule]_deferred_open_message_smb2

commit 9747eb45d606222b8a8361a9e0a3d878b063551a
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 14:44:53 2010 +0200

    s3: Explicitly pass sconn to open_was_deferred_smb2

commit c0240dbeecf74b5c3a681d919de8fb2cf3c7038e
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 14:43:12 2010 +0200

    s3: Explicitly pass sconn to find_open_smb2req

commit 330a64c72b1eb9f2fd87a74df82d54249c5f2b36
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 14:31:04 2010 +0200

    s3: Explicitly pass sconn to process_blocking_lock_queue

commit cb03710c76b120c5aa3e8a5df2001ffca015b80b
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 14:27:56 2010 +0200

    s3: Remove smbd_server_conn from blocking_lock_cancel_smb1

commit cc825231cd50c5214dc6167a441432a7751413bc
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 14:26:32 2010 +0200

    s3: Explicitly pass sconn to recalc_brl_timeout

commit ec2079f5d0d41aa580008efc43c9019764a68ec3
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 14:25:08 2010 +0200

    s3: Explicitly pass sconn to blocking_lock_was_deferred_smb1

commit f856fb0b359a21a786a62ea9f70043afcd6f8373
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 14:23:12 2010 +0200

    s3: Explicitly pass sconn to remove_pending_lock_requests_by_mid_smb1

commit 91bd52da1a96f7be60df93dfb1a629424b517f0c
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 14:18:55 2010 +0200

    s3: Remove smbd_server_conn from cancel_pending_lock_requests_by_fid

commit 034e616448d54a515ffd8a0b87baed09977854e2
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 14:18:15 2010 +0200

    s3: Remove smbd_server_conn from push_blocking_lock_request

commit bfd5f24fa1a9b8914ac81161b4612bdcfd408174
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 14:16:39 2010 +0200

    s3: Remove smbd_server_conn from brl_timeout_fn

commit 6b8db9b215395c41aa5cd18a3a6109f6aaca242a
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 13:23:10 2010 +0200

    s3: Remove smbd_server_conn from switch_message

commit a529fbb713d99b73a20f54302ebd3faaf667458d
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 13:21:46 2010 +0200

    s3: Remove smbd_server_conn from break_level2_to_none_async

commit 5d43180a550b7b4ad4613e99437cb92a1ef7ebd9
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 13:20:17 2010 +0200

    s3: Explicitly pass sconn to the remove_pending_change_notify_request_by_mid

commit f589909eb1ef6117007948f54c291775141be645
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 13:17:51 2010 +0200

    s3: change_notify_reply() does not need its "conn" argument

commit 4a9b3e557f0a3b4049b301574461a39ef0e4ba09
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 13:13:20 2010 +0200

    s3: Explicitly pass sconn to the change_notify_remove_request

commit 9386e2d9d8c908a5424e244b0c049fbcfab07aa9
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:43:11 2010 +0200

    s3: Remove smbd_server_conn from change_notify_add_request

commit 2509eb4209a5568c4c96e34d3ccfd98bc94e60bd
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:39:47 2010 +0200

    s3: Remove smbd_server_conn from reply_sesssetup_and_X

commit c03012ea1c2111647f60d3d7cd79c1489b3d92eb
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:39:21 2010 +0200

    s3: Fix a typo

commit 8de7bf19b8138e6fd1d138d3594d129ed06aa011
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:39:00 2010 +0200

    s3: Remove smbd_server_conn from reply_sesssetup_and_X_spnego

commit 853b29066c54079974fd130ba52de96f070d6bb4
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:38:29 2010 +0200

    s3: Remove smbd_server_conn from reply_spnego_auth

commit 32900fdc97c2da365349506a0822a1b1b9b81ec6
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:38:09 2010 +0200

    s3: Remove smbd_server_conn from reply_spnego_negotiate

commit 0f852ab070881c9227c29c40777aa1836af73783
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:37:49 2010 +0200

    s3: Remove smbd_server_conn from reply_spnego_ntlmssp

commit 2260dbecc2a54f618f6407c111d33308469d193b
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:37:31 2010 +0200

    s3: Remove smbd_server_conn from reply_spnego_kerberos

commit 89c5023b2519cf4e189b9cdcc00bd551e577f16f
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:30:04 2010 +0200

    s3: Explicitly pass sconn to the api_ functions

commit f437f12d3eb67d148bde19f66005039c2a979e92
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:21:20 2010 +0200

    s3: Remove smbd_server_conn from send_trans_reply

commit 391cb416f610029d77cc72a628af8abdd7213206
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:10:37 2010 +0200

    s3: Remove smbd_server_conn from reply_findclose

commit 93867d5f3410c2c582aaa5eb2ac5eff42f27025a
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:10:07 2010 +0200

    s3: Remove smbd_server_conn from call_trans2setfsinfo

commit b250232b8b86bb705c216460730e2db472d426e3
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:08:12 2010 +0200

    s3: Remove smbd_server_conn from smbd_do_qfsinfo

commit b340953881b8325a98afd3dc96ccf57c26a32f8c
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:06:14 2010 +0200

    s3: Remove smbd_server_conn from call_trans2findnext

commit 6608400e2d21f47a33872f9e365308b88309ac4f
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:05:37 2010 +0200

    s3: Remove smbd_server_conn from call_trans2findfirst

commit 72b4afc6998a6340c85c44c8da15beb02d268e32
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:05:12 2010 +0200

    s3: Remove smbd_server_conn from send_trans2_replies

commit 29f716971abd846425792203fc6289d6137d5167
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:02:47 2010 +0200

    s3: Remove smbd_server_conn from register_existing_vuid

commit dd192bb649341d0f2bd91350c7efe98dbdb47172
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:55:42 2010 +0200

    s3: Explicitly pass sconn to is_valid_writeX_buffer

commit 73955a2d92bff0dd78b42f9ec34835fb6a78583a
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:53:25 2010 +0200

    s3: Explicitly pass sconn to reply_readbraw_error

commit d5f20aea73de38d0536b7ec3fa6b425bf3fdde34
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:50:56 2010 +0200

    s3: Pass sconn explicitly to reply_special

commit 7223799b6eb37d7d9e686ec75454ece7f02a9e17
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:49:02 2010 +0200

    s3: Remove smbd_server_conn from smbd_do_locking

commit 5005ad2e78ccd5f28d943f84016d4787e3bd61c2
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:48:06 2010 +0200

    s3: Remove smbd_server_conn from reply_rmdir

commit 0d6f3d64fa076c9d5185062c04139c36d28ee14d
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:47:33 2010 +0200

    s3: Remove smbd_server_conn from reply_writebraw

commit 8f8aac9c2fae57351785e28afc7096f9dc7be028
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:46:29 2010 +0200

    s3: Remove smbd_server_conn from reply_read_and_X

commit e16476ac4839199f71db2c1687388cc7e84ce2bc
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:45:24 2010 +0200

    s3: Remove smbd_server_conn from send_file_readX

commit 993738d3688d0d37e65661638b09c9d823db16c5
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:44:41 2010 +0200

    s3: Remove smbd_server_conn from reply_read

commit 96acccf26173d5e33362929330d4aae19d09fe92
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:44:14 2010 +0200

    s3: Remove smbd_server_conn from reply_lockread

commit fd1891829a60967114353e42dc3ee73b84e1ac33
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:43:53 2010 +0200

    s3: Remove smbd_server_conn from reply_readbraw

commit 2826471123857c3304763fee25c639f41cbd1d84
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:42:40 2010 +0200

    s3: Remove smbd_server_conn from reply_send_file_readbraw

commit f26b7384124df20f2bfefbed44586179ab3a563e
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:42:06 2010 +0200

    s3: Remove smbd_server_conn from reply_ulogoffX

commit 557aebc327d6b8db190debac5ccab53799182835
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:41:40 2010 +0200

    s3: Remove smbd_server_conn from reply_fclose

commit 96854ec994c15bb14fea6e540019001833c8db1a
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:41:22 2010 +0200

    s3: Remove smbd_server_conn from reply_search

commit bf2f2f468c9bca7c4fbbfa778a25b366508b5048
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:41:00 2010 +0200

    s3: Remove smbd_server_conn from reply_tcon_and_X

commit 0275502b9ce870656e033791196c2c33330ca4b0
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:40:37 2010 +0200

    s3: Remove smbd_server_conn from reply_tcon

commit d724ac3e8c861b0fa59fd3fb9529af9c8aa0642e
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:39:03 2010 +0200

    s3: Remove smbd_server_conn from make_connection_snum

commit d04a89682a062e48dfd01f5b56899b84eb9220b6
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:34:38 2010 +0200

    s3: Remove smbd_server_conn from change_to_user

commit 5a2277ca2f2457b32eaf68f4539b037733022e4c
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:29:26 2010 +0200

    s3: Remove smbd_server_conn from reply_ntcancel

commit e01ee1c77d4c120f29dd636e40d9e71835f149f5
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:29:12 2010 +0200

    s3: Remove smbd_server_conn from send_nt_replies

commit b55a8e8ccf060be0e8aee92719ec1dab5d9736c1
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:26:51 2010 +0200

    s3: Remove smbd_server_conn from reply_smb2002

commit a45ea200c67ea1be4accc17d05513653c454556e
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:25:41 2010 +0200

    s3: Explicitly pass sconn to negprot_spnego()

commit b82fc135a760fc9d153e0fe5e86b28a08c98f92c
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:19:21 2010 +0200

    s3: Remove some global references to smbd_server_conn

commit 3087986e768e4d79d321dcb2062f883237b0794a
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 13:08:31 2010 +0200

    s3: Remove sconn arg from smbd_notify_cancel_by_smbreq

commit 546a264e0e2b6bc31768cee4bc2ce478019d2c42
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 12:54:02 2010 +0200

    s3: Initialize smb_request->sconn in smbd_smb2_fake_smb_request

commit 46a48edcdfc043a400310e6b1b84d0469c5623e1
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:06:24 2010 +0200

    s3: Use "sconn" argument in smbd_[un]lock_socket_internal
    
    Metze, please check!

commit d7bc5fe7346e4f6c3f04be96618046879666a127
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:01:27 2010 +0200

    s3: Pass sconn to init_smb_request()

commit edfc7eaf6ddd0e08c6a8544230c42f50ed45d9aa
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 11:01:10 2010 +0200

    s3: Add "smbd_server_connection" to smb_request

commit 312a508e8880bead0d5a3343540f67e7696a00a0
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Jun 12 10:28:42 2010 +0200

    s3: Fix some nonempty lines

commit 8d8678fcfd8017a679ec9ce442f050a43689fcaa
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Jun 12 11:03:36 2010 +1000

    s4:dsdb Allow calling dsdb_convert_object_ex() directly
    
    This will allow the libnet_vampire code to manually convert individual
    schema objects.
    
    Andrew Bartlett

commit 72486a6dd16608465e1b76bf838d3f5b019dac8f
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jun 10 21:34:48 2010 +1000

    s4:dsdb Add debug

commit 088d5b76ca416e798b505d9fd9266db73a0a8450
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jun 10 21:29:57 2010 +1000

    s4:dsdb Simplfy match of objectclass in dsdb_schema_set_el_from_ldb_msg
    
    There is no need to do a full ldb_match_msg() for a simple case
    insensitive string.
    
    Andrew Bartlett

commit 57b6979ad034b50debd47979e05b925daa54b5a4
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jun 10 08:58:44 2010 +1000

    s4:provision Allow both additional and override prefixmaps in Schema
    
    The idea here is to allow some callers to specify a new prefixMap that
    will override the values loaded from the prefixMap.txt.
    
    Andrew Bartlett

commit 6336f244758e78dfce61715b5de403e3db7fb02e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jun 10 08:51:30 2010 +1000

    s4:dsdb Allow a binary prefix map to be specified in the LDIF
    
    This allows it to be specified in either binary or as a string.
    
    Andrew Bartlett

commit d6f5c1ace215131dc09611abcd2a52254bdab4d6
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jun 10 08:27:59 2010 +1000

    s4:dsdb Provide a function to convert from DRS prefix maps to the LDB prefixmap
    
    This allows us to push a prefixmap directly into the schema we
    generate in the provision code.
    
    Andrew Bartlett

commit e82836467c2ecdcb2c89c2b6eb4dae51bd2f22a2
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jun 10 08:25:49 2010 +1000

    s4:dsdb Add more debugs to help track down failures to parse the prefixmap

commit c6bf8e4cadea563011630af2fa673e3ea5e3b2ee
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 9 20:21:19 2010 +1000

    s4:dsdb Put back the reference and set_attributes in dsdb_reference_schema
    
    I'm not sure why I removed these in fe3e1af901c970f738bee92baac5d7d4f5736e17
    
    Andrew Bartlett

commit 7aa8af144efc6d57f33b90ac856096aa7089468d
Author: Olaf Flebbe <o.flebbe@science-computing.de>
Date:   Tue May 25 13:22:56 2010 +0200

    check if LD_AS_NEEDED breaks linking with libreadline fixes #7209
    
    Signed-off-by: Simo Sorce <idra@samba.org>

commit c65eb4852c2c401149b840884e76a21ff7cd37c7
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jun 11 16:02:10 2010 +0300

    s4/test-libnet: Re-align code a bit - more readable this way IMO

commit 9baa73053e9119991d3ad6c72b153a006e153b89
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jun 11 15:44:34 2010 +0300

    s4/test-libnet: Refactor test_group_create() a little to:
    
    - Close unused policy handle for created group
    - re-align code - it is more readable this way IMHO

commit 6eecb968cb0eeea7212477dcee8148f093d8c88f
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jun 11 15:37:12 2010 +0300

    s4/test-libnet: Refactor test_user_create() little bit to:
    
    - fix a flaw that user RID is not returned in case
      user is recreated
    - close unused policy handle to created user
    - do not take into account the result from
      test_samr_close_handle - we don't case

commit a735c1ade2573fadc84a0aae03cdaa1bddd43f90
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jun 11 15:30:09 2010 +0300

    s4/test-libnet: add few comments for utility functions

commit 84fb3ed8a5e6cb253ec1e461185b0b68e57cf21a
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jun 11 15:11:01 2010 +0300

    s4/test-libnet: Move LSA close handle function to a common location

commit 8714f130e5de2738e8fd430385f236f2e360967e
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jun 11 15:01:07 2010 +0300

    s4/test-libnet: remove unused code
    
    Pre-connecting SAMR and LSA pipes is implemented in
    test_libnet_context_init() function

commit 7168b1c99ffa093fd62597762aef2dfc129875fa
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Jun 11 14:59:57 2010 +0300

    s4/test-libnet: Fix compile-time warning

commit e3c95940cd6e1f6976cb249a8b329cdff4c756ee
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Fri Jun 11 17:22:21 2010 +0300

    Adjusted ACL tests to use encripted connection.
    
    This way we get rid of the conditional if.Samba checks, because users are
    successfully created and enabled.

commit 4bb351ac8080c92ff6a84a5cdeca0b158864da1b
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jun 11 15:05:36 2010 +0200

    s3-auth: Fix valgrind warning (unitialized var) in samu_to_SamInfo3().
    
    Guenther
    
    s3:auth do not fail if there are 0 group sids
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a9b06f58f254e659ccf253af0d8fb7f062e03188
Author: Olaf Flebbe <o.flebbe@science-computing.de>
Date:   Fri Jun 11 13:52:23 2010 +0200

    configure.in prevent generation of file "shlib.so"

commit 4fc36ca802230fbed8bb2b3b959bc2a6afd1ed3d
Author: Simo Sorce <idra@samba.org>
Date:   Fri Jun 11 08:25:27 2010 -0400

    s3:auth fix samu->info3 conversion
    
    Some pdb_get_ functions where missing because of previous mis-patching

commit d5cf6482ed0cd9a11448ca04944b2e01200a7c89
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Jun 8 14:33:05 2010 +0200

    s3: Fix starving the echo responder
    
    When both the echo responder and the 445 socket want to send stuff to the
    worker smbd, the select loop is not fair. It always chooses the smaller file
    descriptor to work on. This can mean that on a busy system the echo responder
    never gets around to feed its stuff to the parent.
    
    This fix chooses the async echo responder socket when both the 445 and the echo
    responder socket are readable.
    
    Yes, it is a very hackish fix which is required *now* I think. The proper fix
    would be to either assign priorities to fd's in tevent, or the from my point of
    view better fix would be to make tevent kindof round-robin.
    
    Round-robin would mean that whenever a fd has been dealt with, it is taken off
    the list of interested sockets, and only if no other socket is active, all of
    the ones waiting are put back. This is a bit like EPOLL_ONESHOT, which I would
    like to use for this in the epoll case. Although, I need to do some research if
    maybe epoll already guarantees round-robin, I did not find anything in the docs
    yet.
    
    Volker

commit b61fa4b67686aa5df69c28ca86d8d26aaa3ba9d4
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 11 10:19:19 2010 +0200

    s4:rootdse LDB module - use LDB result constants

commit 93fe926842227bb7605503f69e471df765ab87e9
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 11 10:04:50 2010 +0200

    s4:passwords.py - set the "dSHeuristics"
    
    As per Nadia's request and abartlet's suggestion the test now also sets the
    "dSHeuristics" attribute properly to be able to perform the tests also against
    Windows without further configuration.
    
    The code has the neat feature that it undoes the change and resets the
    behaviour as it was before.

commit 61976e4fcf49b340a50487d177dea38321ab0e06
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 11 10:04:19 2010 +0200

    s4:passwords.py - use "self" before "enable_account" to make really sure which LDB connection should be used

commit 315602f8455fd8fa86254585a27cca91f1542201
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 11 09:19:02 2010 +0200

    s4:ldap.py - check how the directory server behaves when the 'distinguishedName' attribute wasn't set correctly
    
    (On add operations the server does completely ignore it and uses the "header"
    DN)

commit ace9bd6560fcbd918ea38e6541137bbfe99da73c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 11 09:17:08 2010 +0200

    s4:ldap.py - check if the "name" of an entry was really ignored

commit 4d3362776f72407e8609144d2801ba067485a261
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 11 08:52:12 2010 +0200

    ldb:ldb_sqlite3 backend - remove a warning which has already been resolved

commit 155a672567ac95e0a631a82f9273ddec71bcf643
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 11 08:50:36 2010 +0200

    ldb:ldb_sqlite3 backend - remove checks which are now done elsewhere
    
    (In SAMBA LDB modules)

commit 4690ebf0f47ec435e2e63687dce257b6b2bd5464
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Jun 11 01:47:45 2010 +0200

    Add missing stub functions.

commit c446fbc3bfa345c8bc748a162dedb24857272aab
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Jun 10 23:12:53 2010 +0200

    s4-python: Fix formatting.

commit a53ca944163f5366493b4c36ed94fd9f92e86238
Author: Simo Sorce <idra@samba.org>
Date:   Mon Jun 7 17:38:01 2010 -0400

    s3:rpc improve handles memory hierarchy and use better name.
    
    While there also cleanup the code a bit.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit bcc4383ef28c16ded8548ce54b18cf32e49636dd
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 8 12:26:15 2010 +0200

    s4-smbtorture: rework internals of RPC-SPOOLSS-ACCESS testsuite.
    
    Guenther

commit 1ceb0dd92f1c1795264832eee0711612cc58d9a8
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Jun 10 18:23:06 2010 +0300

    s4/test: use test_libnet_context_init() function to create libnet_context
    
    This way we ensure that LIBNET call will be issued against
    the DC we are testing against

commit d6d8ec80f9fc713924df1c9b72ab0491bdf95bde
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Jun 10 18:21:44 2010 +0300

    s4/test: fix SEGFAULT in test_group_create when rid is NULL
    
    Caller of this function may not need group RID and
    in such case it passes NULL for rid parameter

commit eda49261205471a1e0c96ae4e1eda037edb11eba
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Jun 10 13:12:08 2010 +0300

    s4/test-libnet: Helper func to initialize libnet_context
    
    and create rpc connections to SAMR and LSA pipes.
    This function should be used in cases where we need
    'deterministic' connection to the DC we are testing against.
    
    The problem is that most of the test follow the pattern:
    1. Connect to server supplied on command line
    2. Create user/group through connection in 1.
    3. Use 'fresh' libnet_context to query/alter the object in
       step 2.
    
    In singe-DC environment this work well. But in multiple-DC
    environment libnet may connect to another DC (step 3), not
    the one we use in step 1 and 2. This leads to false error -
    object created in step 2 is not found on DC we are querying
    in step 3.

commit 85d7863b2c2420bd652d73ab4ec230f709acae73
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Jun 10 02:02:06 2010 +0300

    s4/test: Call test_user_cleanup with original RDN for the user
    
    'name' var is changed during the test execution and should
    contain samAccountName for the user, while test_user_cleanup()
    expects account RDN to be passed

commit 61e5ac4a5a1d4a2bb59297cd28288ef1460d1ea4
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Jun 10 01:59:51 2010 +0300

    s4/test: Fix incorrect NTSTATUS comparison
    
    In case group already exists, we should get NT_STATUS_GROUP_EXISTS.

commit 64a71d380cb88b19ecb8673dab07210514fc6a52
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jun 8 18:03:00 2010 +0300

    s4/test: remove create/delete group implementation in API-CREATEGROUP test
    
    We already have common implementation for create/delete
    group in libnet/utils.c

commit d02c395abdee28a7eef2cbbbf2e183da8f707004
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Jun 8 15:44:00 2010 +0300

    s4/test: Remove duplicated test_opendomain() functionality
    
    We already have a nice common test_domain_open()
    function in libnet/util.c

commit 7135abcd8d979b9f7149e74f80edf118dc98de51
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 7 18:44:14 2010 +0300

    s4/test: libnet_user tests should use common test_user_cleanup
    
    implementation instead of not-so-informative test_cleanup()

commit d1bcc23b2c4df54e42597647395ccd948e338195
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 7 18:33:35 2010 +0300

    s4/test: Refactor test_user_cleanup to be more robust
    
    We always call this function with user's account RDN
    while samr_LookupNames() searches for samAccountName.

commit 1b8a8ddfe08bc4c083510ccf60e96079af952b74
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Jun 7 17:51:26 2010 +0300

    s4/test: remove duplicated comment

commit 09627638224759c985f0636c5616b0357c91e450
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 10 11:48:39 2010 -0400

    s3:misc make use of server_[event/messaging]_context directly
    
    Untangle these functions from smbd specific dependencies so they can be freely
    used in multiple servers.

commit cbda0369a831ed279cec7ff231ad7399af74db39
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jun 10 11:55:27 2010 -0400

    s3:winbindd use common server context functions

commit 5e576a53abbf2822c0a8fcc87f76140a755599e4
Author: Simo Sorce <idra@samba.org>
Date:   Thu Jun 10 11:54:00 2010 -0400

    s3:lib make server contexts generic
    
    Pair-programmed-with: Andreas Schneider <asn@samba.org>

commit aeb25ad0b87af2a2af7735f49744a677ebf4fe06
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Jun 10 14:28:55 2010 -0700

    Fix the build in the non WITH_AIO case (sorry).

commit a8c051b2f91852b5228d6a903d6a7fd50d22de28
Author: Björn Jacke <bj@sernet.de>
Date:   Thu Jun 10 23:15:19 2010 +0200

    s3: readd h_errno struct member but rename it
    
    as pointed out by metze this is a structure of fixed size, which should not be
    changed.

commit b53f8c187de8c8aff5989e4a0a460970f89b9011
Author: Rusty Russell <rusty@rustorp.com.au>
Date:   Thu Jun 10 13:27:51 2010 -0700

    Since idtree assigns sequentially, it rarely reaches high numbers.
    But such numbers can be forced with idr_get_new_above(), and that
    reveals two bugs:
    
    1) Crash in sub_remove() caused by pa array being too short.
    2) Shift by more than 32 in _idr_find(), which is undefined, causing
       the "outside the current tree" optimization to misfire and return NULL.

commit 321d7a6303b651cc2533f4b72dc7cef6b7d64da4
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Jun 10 13:20:37 2010 -0700

    Implement AIO in SMB2. Doesn't allow cancel calls yet (to be added).
    
    Jeremy.

commit edd8940e1864deedaf0f6484809def586ac215f2
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Jun 10 13:19:25 2010 -0700

    Ensure we correctly setup req->subreq before testing for async. Stops crashes when
    XX_send functions set async to stop interim replies being sent.
    
    Jeremy.

commit b5638a05601ce8206a85c2f3625f8894ed0e0a6f
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Jun 10 13:17:35 2010 -0700

    Don't use the autofree context for the globals. This causes child smbd's forked
    by modules to crash due to destructors being called (found when using the vfs_aio_fork
    module with smb2).
    
    Jeremy.

commit 405a0c558c023a752e88e52b7e40048d3b7090c5
Author: Simo Sorce <ssorce@redhat.com>
Date:   Thu Jun 10 14:56:03 2010 -0400

    s3:cleaunp reformatting for readability

commit 446deb0082193d1203a1454b93458ab23757a112
Author: Simo Sorce <ssorce@redhat.com>
Date:   Thu Jun 10 14:36:19 2010 -0400

    s3:cleanup remove trailing spaces

commit ec94efb79d4516b09c7d1d93a4ff8ce0f7046f41
Author: Björn Jacke <bj@sernet.de>
Date:   Thu Jun 10 17:19:16 2010 +0200

    s3: fix build on HP-UX
    
    this struct member h_errno is not used in the HP-UX code paths, it was just
    there because Solaris has it, too. As h_errno is a function call macro on HP-UX
    when thread support is enabled we run into trouble here. Just commenting it out
    should be okay as we don't use it anyway.

commit bdd83c0639ad0066a2b0e77611548f2d165bb747
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 10 16:18:41 2010 +0200

    s4:ldap.py - add testcase which demonstrates the reset of the "primaryGroupID"

commit d604d499390dea1a10bfdd462b512bfe1845a101
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 10 16:15:10 2010 +0200

    s4:samldb LDB module - fix up the case when the old and new "primaryGroupID" are the same

commit 13ca999b3b4660e530ac0b91342c40ff8a3c7a31
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 10 16:08:23 2010 +0200

    s4:samldb LDB module - don't create multiple "ac" module contexts on modify operations
    
    Since we do now run sequentially through all checks we don't need multiple "ac"
    contexts anymore.

commit 9f9529886499acc80ad7316d5eab590545643b87
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 10 15:47:48 2010 +0200

    s4:dcesrv_samr_Add/DeleteAliasMember - provide better NTSTATUS return codes when something didn't work

commit 7374cd035807029d800815f82474ab9c6ed2e861
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 10 12:42:04 2010 +0200

    s4:dcesrv_samr_GetAliasMembership - fix type of counter variables

commit 34b43a8642bd13dfad50a4e2436ccc5814135ce2
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 10 12:19:04 2010 +0200

    s4:dcesrv_samr_DeleteAliasMember - add more braces to fit better the coding styles

commit 305f2c70434ecc244c4c7bcad285e2cfae8f3215
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 10 12:17:48 2010 +0200

    s4:dcesrv_samr_AddAliasMembership - Merge the two error blocks into one

commit 13b1f7a2b33b299208abfbb50fbf1e2b982ca326
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 10 11:50:12 2010 +0200

    s4:dcesrv_samr_Add/DelGroupMember - remove the account type check
    
    MS-SAMR 3.1.5.8 speaks from accounts which are not necessarely only users.

commit f95634dbe0b8afbae8b90323ba98ddb69d9dcf6e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 10 11:48:33 2010 +0200

    s4:dcesrv_samr_AddGroupMember - also the error code "LDB_ERR_ATTRIBUTE_OR_VALUE_EXISTS" is allowed
    
    This is returned when the group is the primary group of the specified entry.

commit 1305c9159876f1621710b9888624aaf037046155
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 10 11:05:43 2010 +0200

    s4:samba_dsdb LDB module - move the "objectclass_attrs" module back
    
    I think it should be lower in order to control also the "instanceType" module.

commit c1b4ccb23b18c4d729f3fe299a1f03efa497a958
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 10 10:52:31 2010 +0200

    s4:ldap.py - add a test to demonstrate the 'instanceType' behaviour

commit 0a41b7e95b394e410cc0d8d02e9ff5ea1f64cd9c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 10 10:39:52 2010 +0200

    s4:instancetype LDB module - prevent all types of "instanceType" manipulation
    
    Also on Windows Server you aren't able to change it.

commit f66cc827096c53d4d16b8c850c83a3b5664e9725
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Jun 10 15:40:14 2010 +0200

    s3: Fix EnumDomainAliases when no aliases are in LDAP
    
    We used to return NT_STATUS_ACCESS_DENIED, now we just return 0 entries, just
    like W2k8 does.
    
    usrmgr.exe was pretty unhappy with the NT_STATUS_ACCESS_DENIED

commit ba809ecb8ab217e4376bf75d2300e146b62b88eb
Author: Michael Adam <obnox@samba.org>
Date:   Thu Jun 10 11:56:15 2010 +0200

    s3:pdb_ldap: fix bug 7505 - init_sam_from_ldap stores group in sid2uid cache

commit 1819beb0887d7ee75318d330124c13b2ad2d830b
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Jun 10 09:50:32 2010 +0200

    s3: Add a dummy test to prove the maxfd calculation
    
    To be run in a debugger, there's no way to inspect the internal tevent_select.c
    maxfd calculation

commit 7f29f817fa939ef1bbb740584f09e76e2ecd5b06
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Jun 10 09:41:11 2010 +0200

    tevent: Fix maxfd calculation in tevent_select
    
    When doing
    
            fd1 = tevent_add_fd(ev, ev, 2, 0, NULL, NULL);
            fd2 = tevent_add_fd(ev, ev, 3, 0, NULL, NULL);
            TALLOC_FREE(fd2);
            fd2 = tevent_add_fd(ev, ev, 1, 0, NULL, NULL);
    
    we end up with select_ev->maxfd==1. This is wrong.
    
    An alternative fix might be to make select_ev->maxfd an unsigned int and make
    EVENT_INVALID_MAXFD==UINT_MAX. But in theory we might end up with an fd of
    UINT_MAX.
    
    std_event_add_fd() contains exactly the same piece of code, so I'm directly
    pushing it.
    
    Volker

commit 9fdb69ebcdca9e56e39affd7a35d1ccb28daad5c
Author: Karolin Seeger <kseeger@samba.org>
Date:   Thu Jun 10 10:35:56 2010 +0200

    s3-smbd: Fix typo in comment.
    
    Karolin

commit 8ca88e2f818d01311e16c290882c8ec47f0d4bfc
Author: Karolin Seeger <kseeger@samba.org>
Date:   Thu Jun 10 10:34:58 2010 +0200

    s3-passdb: Fix typo in comment.
    
    Karolin

commit d28fa8faab5de5979dcd5535a7cd7095d3233e29
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Jun 9 19:12:02 2010 -0700

    Rename "allow_smb2" -> "using_smb2" and make the usage clearer.

commit 3c0eead9fd0693c81388b42f34fadd503edfe891
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Jun 9 17:09:11 2010 -0700

    Split out the "finished write processing" code into a function so it can be called
    by both sync and async code.
    
    Jeremy.

commit efd0c35a7e195865b18ce75bf2d592aaf1724d7d
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Jun 9 17:08:41 2010 -0700

    Ensure we don't send SMB1 keepalives on an SMB2 connection.
    
    Jeremy.

commit 09e74b675fb9090c34f03e0894340cffcb501004
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Jun 9 10:48:12 2010 -0700

    Split out the "finished read processing" code into a function so it can be called
    by both sync and async code.
    
    Jeremy.

commit 95047bc717a1129452b6e11d00e7a67d16156095
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 9 16:15:28 2010 +0200

    s3-winbind: Fixed setting default sequence number.

commit 6a6bb768c6542d738a8b2b6da282159a65ed611d
Author: Björn Jacke <bj@sernet.de>
Date:   Wed Jun 9 15:24:26 2010 +0200

    s3: fix calculation of st_blocks in streams_xattr
    
    Thanks to Joachim Schmitz for finding that miscalculation.

commit 687c42ee6526ff5deb9f3a8d7c13667b520b7440
Author: Björn Jacke <bj@sernet.de>
Date:   Wed Jun 9 15:21:24 2010 +0200

    s3: fix calculation of st_blocks in init_stat_ex_from_stat
    
    this is just relevant for the very rare systems that don't have the st_blocks
    struct member. This is a fixup of the fix for bug 7474.
    
    Thanks to Joachim Schmitz for spotting this!

commit 8823bdc7e2d141add138420feadd86837ea2257d
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Wed Jun 9 12:03:32 2010 +0300

    Added guids for the validated writes.

commit 1fd15dcb7c31f18036ce15cb504ae2d4a9122629
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Mar 16 21:03:34 2010 +0100

    s3: Fix bug 7253
    
    acct_ctrl is 32 bit in LOGIN_CACHE, but "w" as a format specifier for
    tdb_unpack only writes 16 bits. Okay on x86, not okay on Solaris.
    
    Thanks to Vladimir.Marek@Sun.COM!
    
    Volker

commit 34a8324409961c4837e83c714fb1a285f238312d
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Jun 8 21:20:07 2010 -0700

    Fix a valgrind error found by SMB2-COMPOUND test.
    
    If a file is closed we must also NULL out all chained_fsp
    pointers when the fsp is freed to prevent invalid pointer
    access.
    
    Jeremy.

commit 0c5d0e1c37daf5b802e990bde8469934ae33f6cc
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Jun 8 17:44:05 2010 -0700

    Second part of fix for 7501 - SMB2: CREATE request replies getting mangled.
    
    Based on code from Ira Cooper <samba@ira.wakeful.net>, and also
    advice on refactoring the patch into a function call. outbuf vectors
    can be reallocated by smb2 processing code, so when returning interim
    responses we must not make assumptions about vector size.
    
    Jeremy

commit fd9e02d5f3a2d98fe14b10b52c4ca3e654a6bd3e
Author: Ira Cooper <samba@ira.wakeful.net>
Date:   Tue Jun 8 11:20:23 2010 -0700

    Fix for bug 7501 -  SMB2: CREATE request replies getting mangled.
    
    Code for dup_smb2_req() was duplicating the wrong vector (i, instead
    of i+2) when returning a non-minimal SMB2 response.

commit aeacb023b966dfe2943a5fa799a7b1bc4df4181c
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 8 14:34:20 2010 +0200

    s3-selftest: disable domain creds smbclient_s3 tests for now.
    
    Not sure they were ever working before.
    
    With this patch, make selftest is down to 4 failures from 259 tests.
    
    (two times LOCK9 from s3 smbtorture, one spoolss notify test and
    samba3.posix_s3.unix.info2).
    
    Guenther

commit 575b1018c65312e9eab562cf4851524cf2f8f24a
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 8 11:25:00 2010 +0200

    s3-netdomjoin-gui: Fix Bug #7500. Fix 'not a string literal' warning in netdomjoin-gui.
    
    Patch from Buchan Milne <bgmilne@mandriva.org>.
    
    Thanks!
    
    Guenther

commit 7a7f28d96dd80d3ce175b0caee0c2169de7b810b
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Jun 8 10:26:43 2010 +0200

    Revert "s3:smbd Fix segfault if register_existing_vuid() fails"
    
    This reverts commit 8f1cec5faf4e26de8b9797777059e99f2a66558b.

commit 3e502159c751d85c09df4e74a63c95738fad2d7d
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Jun 8 10:26:35 2010 +0200

    Revert "s3:smbd Give the kerberos session key a parent"
    
    This reverts commit 4a7f45b7e1cef13bc28d7ee50dd4b5519bdec397.

commit 34b29b11986095531488cd0139ecec6dd22e55d3
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Jun 8 10:26:08 2010 +0200

    Revert "s3:auth Change auth_ntlmssp_server_info API to return NTSTATUS"
    
    This reverts commit edba46ce94c335411ab337eeb4ef6f88fb3aae80.
    
    Conflicts:
    
    	source3/auth/auth_ntlmssp.c

commit 984fec252af70ef54461ca84a6afedb97ff81dec
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 8 10:56:41 2010 +0200

    s3-waf: fix the the waf build.
    
    Guenther

commit 096a3d3eea60d514a5d8fe8a35b3e463238b3766
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Jun 7 16:26:30 2010 -0700

    Make aio_ex owned by a talloc context, not neccessarily on the null context.

commit d70413fa0cba9338fbf2adad0db6e4b88da9ad65
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Jun 7 16:25:18 2010 -0700

    Move "write_though" into aio_ex struct.

commit 5da783f4a79ee0a927f2483ae20b691074bb3007
Author: Simo Sorce <ssorce@redhat.com>
Date:   Mon Jun 7 14:08:05 2010 -0400

    s3:smbd add utility function to check if there are open pipes

commit f9fc4df0c0a6401d185b057c17d6b30ef549b3d0
Author: Simo Sorce <ssorce@redhat.com>
Date:   Mon Jun 7 16:02:14 2010 -0400

    s3:rpc make num_pipe_handles get an actual pipe as argument
    
    Let the function abstract out how handles are counted

commit 22e9015e975096acf075240cc7d33f12c7c77395
Author: Simo Sorce <ssorce@redhat.com>
Date:   Sun Jun 6 16:33:28 2010 -0400

    s3:rpc handles are used by all pipes, use better name

commit f7e2e8370bfa91ad8dbd9de4f69bf1cfe0947573
Author: Simo Sorce <ssorce@redhat.com>
Date:   Mon Jun 7 15:07:38 2010 -0400

    s3:rpc fix potential out of bound memory access
    
    memcpy copies memory unconditionally, we are passing "" in some cases here.
    Use strncpy which will stop reading from src if the null byte is found and
    will fill with nulls the destination.

commit 711a30aa61bb5f6a9b3970007bad8a70f411fb87
Author: Björn Jacke <bj@sernet.de>
Date:   Mon Jun 7 23:06:28 2010 +0200

    s3: fix build on platforms without st_blocks and st_blksize stat struct members
    
    This fixes bug 7474.

commit 99c9e358c54b170b01e614483514026fddbd2688
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 7 21:26:33 2010 +0200

    ldb:pyldb.c - we cannot use "ldb_dn_compare" if both message DNs are NULL in "py_ldb_msg_compare"
    
    Discovered by the testcase.

commit 0c3dfd7a79d48ef5bdcd996537521868e479f1a4
Author: Matthieu Patou <mat@matws.net>
Date:   Fri May 7 04:16:11 2010 +0400

    s4 python: add more unit tests to verify the compare tests

commit 1949864417f3d10fb8996df7db259649eb777271
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 7 20:46:59 2010 +0200

    s4:objectclass_attrs LDB module - move the single-valued attribute check into this module
    
    It seems to me more consistent (and also to keep the same behaviour on all
    backends).
    
    Also the DRS hack should therefore not be needed anymore since the
    "repl_meta_data" module launches requests behind "objectclass_attrs".

commit a75d271373dbbff973544865c2c9715510d67669
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 7 20:31:22 2010 +0200

    s4:rdn_name LDB module - move the "distinguishedName" write prevent check here
    
    In my eyes it fits better here than in the TDB backend code.

commit 9a747d500fad699038ecf75615c680a9fd9e4cc7
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 2 22:52:56 2010 +1000

    s3:auth add hooks to indicate if signing or sealing is desired with NTLMSSP
    
    This allows the right hooks to be called in GENSEC when s3compat
    implements the auth_ntlmssp interface.  Otherwise, we can't do the
    signing or sealing as we have not negoitated it's use.
    
    Andrew Bartlett

commit edba46ce94c335411ab337eeb4ef6f88fb3aae80
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Jun 2 22:35:53 2010 +1000

    s3:auth Change auth_ntlmssp_server_info API to return NTSTATUS
    
    It's nicer to have an NTSTATUS return, and in s3compat there may be a
    reason other than 'no memory' why this can fail.
    
    Andrew Bartlett

commit 0af2dc43ade4f819ebbb192e3f5493838f99d89b
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jun 3 21:05:57 2010 +1000

    s3:named pipe proxy Improve error messages when named pipes fail to forward
    
    I hope this helps the next person who needs to debug this.
    
    Andrew Bartlett

commit 4a7f45b7e1cef13bc28d7ee50dd4b5519bdec397
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jun 3 21:15:33 2010 +1000

    s3:smbd Give the kerberos session key a parent
    
    I can't see what would free this, so this should prevent a memory leak.
    
    Andrew Bartlett

commit d25e9ab9a1b8c07a65034d36818819019e170e8d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Jun 3 20:59:25 2010 +1000

    named_pipe_auth Always lower case the incoming pipe name
    
    Windows connects to an upper case NETLOGON pipe, and we can't find the
    socket to connect to until we lower case the name.
    
    Andrew Bartlett

commit 8f1cec5faf4e26de8b9797777059e99f2a66558b
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 1 19:19:01 2010 +1000

    s3:smbd Fix segfault if register_existing_vuid() fails
    
    The register_existing_vuid() call will handle both the ntlmssp_end and
    vuid invalidation internally, so we don't want to do it again.
    
    Andrew Bartlett

commit fc956cfcbb53103ed46a3729364e88536d569dc9
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 1 21:11:14 2010 +1000

    s3:auth Rename user_info->domain -> user_info->mapped.domain_name
    
    This is closer to the structure I want for a common struct
    auth_usersupplied_info.
    
    Andrew Bartlett

commit deabae191b34bdd350c7fe6c0c9ad05defa8d08c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 1 21:08:38 2010 +1000

    s3:auth Rename user_info->client_domain -> user_info->client.domain_name
    
    This is closer to the structure I want for a common struct
    auth_usersupplied_info.
    
    Andrew Bartlett

commit e21935fc74e8bd64bbd231d6388ea424708c3acd
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 1 21:01:23 2010 +1000

    s3:auth fix header comment for internal_username -> mapped.account_name

commit 7a021df96deaf6dbe9f1abdfc16f6276e4a192fa
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 1 20:30:56 2010 +1000

    s3:auth Rename user_info->internal_username -> user_info->mapped.account_name
    
    This is closer to the structure I want for a common struct
    auth_usersupplied_info.
    
    Andrew Bartlett

commit 23159453d3e61e2ad47fe6f86f3763280a11ea0c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 1 20:27:03 2010 +1000

    s3:auth Rename user_info->smb_name -> user_info->client.account_name
    
    This is closer to the structure I want for a common struct
    auth_usersupplied_info.
    
    Andrew Bartlett

commit 0dc88d2745e89096fda0e097bcf958949d7efc2d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 7 15:02:38 2010 +0200

    s4:samba_dsdb LDB module - fix typos

commit 63a8c658611cdd1aa975670965120c617519b190
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Jun 7 14:58:30 2010 +0200

    s4:samba_dsdb LDB module - enhance/fix module rule comments

commit 00089fd74af740f832573d904312854e494a869e
Author: Simo Sorce <ssorce@redhat.com>
Date:   Sat May 29 11:29:29 2010 -0400

    s3:auth make sure the primary group sid is usable
    
    This function was previously performed under the cover by converting
    back and forth from info3 to samu and then later from samu to info3.
    
    Since we now shortcircuit that in some cases, check explicitly using
    get_primary_group_sid()
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 048575defba064a8d9f0e4eb542a299dc8730327
Author: Simo Sorce <ssorce@redhat.com>
Date:   Sat May 29 11:02:47 2010 -0400

    s3:auth return the full passwd struct from check_account
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 0a7ff146171abd2dee4aac44e4f2c6c812f1027e
Author: Simo Sorce <ssorce@redhat.com>
Date:   Sat May 29 10:51:40 2010 -0400

    s3:passdb Export function to calculate the proper primary group sid
    
    Don't keep it buried in passdb, this function need to be available
    for use in places where we do not want to construct an artificial
    samu struct just to play tricks.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit aaf45cd48ecf8e9f640a6f487b66785d47b8154a
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 28 17:03:18 2010 -0400

    s3:auth remove unused structure member
    
    sids are now completely handled using info3, remove dead code that fills
    server info sids and the structure members themselves
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit aa1a3cbad2ed62d5b59c48a6e7726eef4776f461
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 28 16:16:53 2010 -0400

    s3:auth create nt token from info3 directly
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit e6456df1489ec964445dfd6f009f9f75377b3d11
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 28 13:18:13 2010 -0400

    s3:auth handle unix domain sids in samu
    
    When we generate a user out of thin air we may end up adding sids
    that are not part of the sam domain (unix domain sids).
    Handle the case and preserve these sids as extra sids.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 61823fb8852cb8d66c341ecd54e7fb96abc4363a
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 28 13:22:41 2010 -0400

    s3:auth set the resolved user sid in the fake sam account
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit ef942172b9dfe3c30b86161445c7d6290579b6f2
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 28 11:14:01 2010 -0400

    s3:auth check the user is valid first
    
    It makes no sense to go through all the hoops to build samu and
    convert it to info3, just to discard them later if the user was
    not valid.
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 1bb0afa662cb65ad8eeec59d40008c6604b791bc
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 28 11:07:49 2010 -0400

    s3:auth make sure we set the right username
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit aa3272588662f1389138a177a4c6644668c052fa
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 3 20:58:43 2010 +0200

    s4:ldap.py - add some "objectclass" behaviour tests

commit e3c686daec130fb3c4a7457943173f31851a8e7d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 5 23:02:25 2010 +0200

    s4:objectclass LDB module - rework the code which handles the objectclasses modification
    
    Before it has been very incomplete. We try now to match the Windows Server
    behaviour as close as possible.

commit 17f465a4ac5562bec1b40dc97ac414fb3920175b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 6 23:09:28 2010 +0200

    s4:ldap.py - enhance the attributes testcase to demonstrate how the attributes are checked against the schema and the specified objectclasses
    
    This demonstrates the bew "objectclass_attrs" LDB module behaviour.

commit ee278bf0c48dbc8b7afc37762ad4f305014a2e2c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 6 19:06:58 2010 +0200

    s4:acl LDB module - LDB attribute names should be compared using "ldb_attr_cmp" or "strcasecmp"

commit 566d13c5d11ae832285c09f74d25ffdcf0397735
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 5 20:19:31 2010 +0200

    s4:acl LDB module - adaption for "objectclass_attrs" module
    
    Since the attribute schema checking code moved back we need to give here the
    "LDB_ERR_NO_SUCH_ATTRIBUTE" error.

commit e7eef53fe543c940f7a792b16d037fed8d7743ec
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 5 19:11:25 2010 +0200

    s4:objectclass LDB module - remove "fix_check_attributes"
    
    Also this task is now performed by the "objectclass_attrs" LDB module.

commit 227144e0503504d4c716af4a4e92dc6397c705de
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 6 19:53:33 2010 +0200

    s4:samldb LDB module - adjust the module to set always a "defaultObjectCategory" on objectclass add operations
    
    This is needed to make the "objectclass_attrs" LDB module happy. The search
    check and case adjustment are done as it was using a second modify operation.

commit bd910952ba2256ff54c0e48a6feda285b9fbb8a5
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 5 19:09:51 2010 +0200

    s4:remove the "validate_update" LDB module - the task is now handled by the far more complete "objectclass_attrs" LDB module

commit 2586cbaadcdf9baf77be5ec5b612cff324ab19a8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 5 17:34:35 2010 +0200

    s4:dsdb - introduce a new "objectclass_attrs" LDB module which performs the objectclass attributes checking
    
    Until now we had no real consistent mechanism which allowed us to check if
    attributes belong to the specified objectclasses.

commit 9e56b54414ce9f62edbd8f87c09885dbb4b3ccea
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 3 19:17:16 2010 +0200

    s4:objectclass LDB module - instanciate the schema variable centrally on the "ac" context creation
    
    This unifies the position when the schema is read and prevents multiple
    instanciations (eg on a modification operation).

commit da90868907c7dc7f9894dc06bd49df701ff442eb
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 2 22:13:03 2010 +0200

    s4:samldb LDB module - finally we can remove the RDN check
    
    This is now dynamically always done by the objectclass LDB module

commit 9ab3365fa5a37257d818c414925264a336eb103c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 2 22:06:39 2010 +0200

    s4:ldap.py - enhance the rename tests to demonstrate the functionality

commit ec9b6f3c608f61d694f2defe816b55bdc6d169ea
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 2 21:55:08 2010 +0200

    s4:objectclass LDB module - finally implement the correct entry rename protections
    
    Only the "systemFlags" check is still missing.

commit 0ca17eaa15641708acf182b9ed1cb33222b05617
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 2 21:43:55 2010 +0200

    s4:objectclass LDB module - cosmetic change

commit c6020ccb87337b9045c51674d4d01c19f43fd288
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 2 21:42:06 2010 +0200

    s4:objectclass LDB module - remove duplicated code

commit 95da72432560c042400faccb7f16d9ab9cd38df1
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 2 21:24:49 2010 +0200

    s4:objectclass LDB module - fix counter variable types

commit 0408ec11a9503a6e523651cc078334158c8c6f53
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 2 21:23:34 2010 +0200

    s4:objectclass LDB module - explain why the search can return with an empty return

commit 6afa5a733c3ab12fd03e6980898e21f8d112bc3b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 2 19:44:22 2010 +0200

    s4:objectclass LDB module - this "talloc_steal" is not necessary
    
    The "parent_dn" was created on the "ac" context which lives anyway longer
    than this child request.

commit 2d3760c04cd4a17a8c85196a0a7c4275e3b7050c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 4 20:48:52 2010 +0200

    s4:objectclass LDB module - fix error result if an entry doesn't contain a structural objectclass
    
    We need to return LDB_ERR_UNWILLING_TO_PERFORM (not LDB_ERR_NAMING_VIOLATION).

commit 2a294d380f13edad6fcdd3572336ba797baaa0e1
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 5 13:06:54 2010 +0200

    s4:objectclass LDB module - use "ldb_oom" for expressing out of memory

commit 3c4336bf949a47084ebcb068b2b9223eba4137e3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 2 22:42:59 2010 +0200

    s4:objectclass LDB module - fix header and add my copyright

commit 04c7484cf9e8dd6d2d0b641eb942fcb97a604d9b
Author: Andreas Schneider <asn@samba.org>
Date:   Thu May 27 09:07:03 2010 +0200

    s3-waf: Build rpc_server/srv_spoolss_util.c too.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 0604df52e3b161e010ad4f1aba1a4bc7973c64c1
Author: Günther Deschner <gd@samba.org>
Date:   Mon Jun 7 12:55:43 2010 +0200

    s3-lsa: Fix static list of luids in our privileges implementation.
    
    The high/low order changed while moving to LSA defines. Found by torture test.
    
    Guenther

commit 5def19e4dc0b9f15fa30f7895a2b016c4e59abb0
Author: Günther Deschner <gd@samba.org>
Date:   Mon Jun 7 12:41:39 2010 +0200

    s4-smbtorture: test workstation auth as well in RPC-SPOOLSS-ACCESS.
    
    Guenther

commit e2061095b52a198fa221d190117dcebbb63058e6
Author: Matthieu Patou <mat@matws.net>
Date:   Fri May 7 04:15:28 2010 +0400

    s4:ldb python bindings - implement comparison on Python LDB Message objects
    
    Coauthors: Jelmer Vernooij, Matthias Dieter Wallnöfer

commit 315aeef0f9fa20a4628783241f90dbeacf0b6dc4
Author: Matthieu Patou <mat@matws.net>
Date:   Sat Jun 5 19:25:18 2010 +0400

    s4: Remove an uselessly exposed control

commit e271a2b861206eef65e3c9cc14c3403579d4621a
Author: Günther Deschner <gd@samba.org>
Date:   Mon Jun 7 11:21:26 2010 +0200

    s4-smbtorture: handle printservers w/o printers in RPC-SPOOLSS-ACCESS.
    
    Guenther

commit 4591fdbc18b0d7a1117de196675067e88bc341b7
Author: Günther Deschner <gd@samba.org>
Date:   Sat Jun 5 02:39:11 2010 +0200

    s3-privileges: use LUID defines from lsa IDL.
    
    Guenther

commit f7696717800e82193e2b1ab1b3467e117306a769
Author: Matthew McGillis <matthew@mcgillis.org>
Date:   Fri Jun 4 17:48:40 2010 -0700

    Fix bug with incorrect flag values for inherited ace in some cases.

commit 98b98a29f6502422fb6e4bd8c16b5731e2c9c553
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 3 18:35:00 2010 +0200

    s4:password_hash LDB module - adapt the module to the new "ldb_msg_remove_attr" behaviour

commit 28cb8839b75ed9a023a032c195469b61224fe688
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 3 18:22:10 2010 +0200

    ldb:ldb_msg_remove_attr - provide a better implementation
    
    We can have some special (bad) messages which contain multiple message elements
    for the same attribute. The AD password change ones are such an example.

commit 93db960fae43913a423fe1e35a60acf5ed0cc437
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 6 19:12:48 2010 +0200

    s4:samldb LDB module - this codepart isn't needed due to the objectclass LDB module
    
    When a "computer" entry will be added, also the inherited "user" objectclass is
    going to be specified.

commit df63b2ca0e64897b18f8b6be8c31e16d62a96a30
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri Jun 4 21:10:41 2010 +0200

    s4:get_last_structural_class - only real structural classes can be candidates for fetching the last one
    
    Classes with objectCategory = 1 are always structural, these with
    objectCategory = 0 also (as we can see in our Windows 2008 R2 schema file where
    class "Person" has 0 but is structural).
    
    Abstract classes and auxiliary ones cannot be considered (objectCategory = 2, 3)
    
    http://msdn.microsoft.com/en-us/library/ms677964(VS.85).aspx

commit ae9faaa89449cf25c2e5e8b51e64ceaacba01832
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 3 18:05:52 2010 +0200

    s4:ldap.py - enhance the RDN name test to show that invalid "name" attributes are allowed on add operations

commit dd64b253fcd9013788093f6b98ebd14ef2308619
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 3 18:25:43 2010 +0200

    s4:rdn_name LDB module - use "ldb_msg_remove_attr" for deleting attributes

commit 430491b2df9e3512a98a88aa279f04a91c12be92
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 3 17:56:09 2010 +0200

    s4:rdn_name LDB module - remove "rdn_name_find_attribute"
    
    It does exactly the same as "ldb_msg_find_element".

commit cadf774f8b8af2aedcdd359acf51695e9f4b04db
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 31 14:52:46 2010 +0200

    s4:dsdb/common/util.c - provide a better implementation of the "samdb_msg_add_(add/del)val" calls
    
    This supports now also coexisting add and delete message elements with the
    same attribute name.

commit fa2a86ec61a80f7fe85a2bb9668885a0b287afd6
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Jun 3 18:37:15 2010 +0200

    ldb:ltdb_filter_attrs - fix a counter variable type

commit f3f91063bd1f79c8734fa55e92392a8f30ec4144
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 5 14:33:52 2010 +0200

    s4:ldap_server/ldap_backend.c - send back also the extended error message if it exists
    
    This message often contains suggestions how to fix issues.

commit 45171d61083339a624a83a1412602475ce7978a6
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 5 17:45:51 2010 +0200

    s4:ridalloc LDB module - add more "talloc_free"s where useful
    
    Some were missing on failure return branches.

commit 787a42ef9972eca3f3889e2ad8b5e890b7c551fd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 5 20:08:45 2010 +0200

    s4:acl LDB module - fix counter types where appropriate

commit fc037e029e23aeaa8debe1c17cf81bd3a859ae4a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 5 19:58:28 2010 +0200

    s4:descriptor LDB module - cosmetic fixup

commit 2fbb8c08ef6042a7f479e3d9ef36ba7cc730de79
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 6 20:23:42 2010 +0200

    s4:urgent_replication.py - specify the "dnsRoot" attribute which is requested on "crossRef" entries

commit 7896a35da37c5d1cae44d864a5069df08d21013e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat Jun 5 22:19:58 2010 +0200

    s4:ldap.py - make sure that also the "posixuser" will be deleted on test breakages

commit b8ea2e07575a6f152019a8fbe17bf65552fbd324
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Jun 6 00:11:16 2010 +0200

    s4:provision - fix typo in substitution variable

commit 62e0a744e23ced873241b8fd531276e8f0c870b7
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Jun 4 21:00:24 2010 -0700

    Fix a long-standing bug with async io that would only be triggered by SMB2.
    
    On normal or shutdown close, ensure we wait for any pending IO to
    complete before returning. Implement a blocking aio_suspend inside
    vfs_aio_fork.c. These changes pass make test when the aio_fork module
    is used by default on the test shares.
    
    Jeremy.

commit 79ec886aa4e8398cd45d9821030a1b87a17950f8
Author: Björn Jacke <bj@sernet.de>
Date:   Sat Jun 5 02:13:21 2010 +0200

    s3:build: add shared lib flag for HP-UX compiler

commit a973eb1968c416eb17de71655173fa2af16cb185
Author: Björn Jacke <bj@sernet.de>
Date:   Sat Jun 5 02:12:02 2010 +0200

    s3: fix build on Heimdal based systems like NetBSD5

commit 6309f7b9505d1de60ef01a7129e2d6022cdc8b9d
Author: Günther Deschner <gd@samba.org>
Date:   Sat Jun 5 01:26:49 2010 +0200

    s4-smbtorture: make RPC-SPOOLSS-ACCESS more compatible with older samba releases.
    
    Guenther

commit 3ad2fa672818269f2cbb7a63ff71df4f2cc81a95
Author: Günther Deschner <gd@samba.org>
Date:   Sat Jun 5 01:25:05 2010 +0200

    s4-smbtorture: remove another incarnation of test_ClosePrinter.
    
    This should fix the build; why waf didn't catch that durint make bin/smbtorture4 ?
    
    Guenther

commit e89502e0f5a79c960cbecf50f49af3aa4bba8e35
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jun 4 19:03:11 2010 +0200

    s4-smbtorture: add RPC-SPOOLSS-ACCESS.
    
    This test creates
    
    - a user
    - a user with BUILTIN\Administrators membership
    - a user with BUILTIN\Print Operators membership
    - a user with SePrintOperatorPrivilege (if available)
    - a user with full access in security descriptor
    
    and checks what access rights are granted in spoolss_OpenPrinterEx.
    
    Guenther

commit 29c0c103afed7238698cc83ff3ab017fc1510dcd
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jun 4 19:02:17 2010 +0200

    s4-smbtorture: share test_ClosePrinter between RPC-SPOOLSS and RPC-SPOOLSS-WIN.
    
    Guenther

commit b3ebebd3b18e4d9ebfc50012e02f7011f8d067be
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jun 4 16:55:07 2010 +0200

    s3-rpcclient: allow to add access_mask in cmd_spoolss_open_printer_ex().
    
    Guenther

commit 8b3059de977eeeae69ebff7d33119bd6b565b637
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jun 4 19:05:24 2010 +0200

    s4-smbtorture: check error codes in RAP-SAM testsuite.
    
    Guenther

commit fb79a8d7f0f4b7686983d8c9025c1ebd0445e84f
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Jun 4 13:49:38 2010 -0700

    Oops. Forgot to re-initialize the aio_ex pointer from sival_ptr.

commit b12409a480410116b88f8c6a4522a79056ccbaff
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Jun 4 11:41:57 2010 -0700

    wait_for_aio_completion() should return 0 on non-aio compiled case.

commit be5133f1e07599862ae732056161be6c124a0664
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Jun 4 11:41:38 2010 -0700

    Rename req -> smbreq.

commit e0acee4919d1f416c98faa1a0ebc779f3716ab70
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Jun 4 11:30:46 2010 -0700

    Change smbd_aio_complete_mid() -> smbd_aio_complete_aio_ex(). Simplifies
    the code and eliminates find_aio_ex().
    
    Jeremy.

commit 15f64af8e3d5aa889a9c9fb852a3357237ba9972
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 3 22:04:08 2010 +0200

    s3-rpc: Create a file with all functions for a internal named pipe.
    
    This makes it possible to use the samr rpc server in winbind without
    linking in smbd.
    
    Reviewed-by: Simo Sorce <idra@samba.org>

commit 3344adc3404df47f02f6eb3096cb623ae94850b8
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Jun 3 22:01:46 2010 +0200

    s3-rpc: Seperate rpc_srv_register for plain connection.
    
    This will make it possible to create plain rpc named pipe connnections.
    
    Reviewed-by: Simo Sorce <idra@samba.org>

commit 9097bdddd03f81579699e0d0ce725a7453a3a158
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 2 19:39:18 2010 +0200

    s3-auth: Moved smbd user functions to a generic place.
    
    Reviewed-by: Simo Sorce <idra@samba.org>

commit fad86ddf5531c8f5862b697e99c24a7bd526d73e
Author: Andreas Schneider <asn@samba.org>
Date:   Mon May 31 18:33:38 2010 +0200

    s3-smbd: Remove unneeded dependency of map_username to globals.c.
    
    Reviewed-by: Simo Sorce <idra@samba.org>

commit 09daf63c9332d0314dee6c7a46b95aacb470940b
Author: Günther Deschner <gd@samba.org>
Date:   Fri Jun 4 14:31:08 2010 +0200

    s3-selftest: do not call main RPC-SPOOLSS testsuite.
    
    The tests formerly available in there can now be accessed via
    RPC-SPOOLSS-PRINTSERVER.
    
    Guenther

commit bb4693d15e18d7ee775d45cf7519b2352d9d5d7a
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 3 21:39:51 2010 +0200

    s4-smbtorture: completely rework RPC-SPOOLSS-PRINTER.
    
    This is now a child testsuite to RPC-SPOOLSS. You can call simple tests via
    RPC-SPOOLSS-{addprinter,addprinterex}-testname.
    
    Guenther

commit 789125f9a4fedaf31968893e77a19316a47186fe
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 3 20:48:49 2010 +0200

    s4-smbtorture: rework order of test in RPC-SPOOLSS-PRINTSERVER a bit.
    
    Guenther

commit e8576ef9f4186cba489b2a8f150b23002ac3afa2
Author: Björn Jacke <bj@sernet.de>
Date:   Fri Jun 4 00:55:10 2010 +0200

    ѕ3:Makefile: use PIC instead of PIE flags for shared libs
    
    otherwise shared lib builds are broken on some platforms

commit a73b84680244f838854f3bf3bb112464da89b9ba
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Jun 3 11:50:08 2010 -0700

    Allow us to cope correctly with NT_STATUS_MORE_PROCESSING_REQUIRED when downgrading from krb5 to NTLMSSP over SMB2.
    
    Jeremy.

commit e47d77832b70b539ce3e898da458227dd0b853b6
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Jun 3 11:18:11 2010 -0700

    Found by Guenther - fix up our fallback paths from krb5 to NTLMSSP when using SMB2.
    
    Jeremy.

commit e65164ff482100c2590d724373aff11daffc7b50
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 23:40:43 2010 +0200

    s4-smbtorture: convert RPC-SPOOLSS into a torture suite.
    
    Guenther

commit 9884bf7d5737272db993b0602de85b12c2b4e0ea
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 3 17:08:55 2010 +0200

    s4-smbtorture: allow to call single tests from a testcase in a testsuite
    directly on the commandline.
    
    Guenther

commit 3eac6335229fabfe3c985d0b206faa5d65ad1ce7
Author: James Peach <jpeach@samba.org>
Date:   Thu Mar 18 19:30:54 2010 -0700

    libreplace: Fix readline build with libedit.
    
    libedit on MAc OSX 10.5 does not have the rl_completion_t typedef,
    but uses a internal typedef names CPPFunction.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 30a9ddccff5b1bd1694a1a9f0e5ceebdee316d79
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 3 16:30:55 2010 +0200

    s3-spoolss: add and use spoolss_printerinfo2_to_setprinterinfo2().
    
    This fixes some invalid typecasts.
    
    Guenther

commit 12d1a3b0a5367b4f920d32e6cb1fcdc2f7d17513
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Jun 3 16:09:31 2010 +0200

    s3: Fix the build of the nfsv4 acl code

commit 8131e9f29059c6ad7428405f9a995ee1bef2e72b
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 3 14:54:02 2010 +0200

    s4-smbtorture: move PrintProcessors winreg test to main RPC-SPOOLSS test.
    
    Guenther

commit 6acaa70d6439eb206ab3c6fb1b81f12efc7b5f94
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 3 13:01:40 2010 +0200

    s4-smbtorture: add test_PrintProcessors_winreg.
    
    This does cross reference checks between spoolss PrintProcessors and entries
    stored in winreg.
    
    Guenther

commit 4a10635371a794281114e0e227ed174a518792ee
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 3 13:01:16 2010 +0200

    s4-smbtorture: refactor test_EnumPrintProcessors().
    
    Guenther

commit 3948876f66955a7b9a657937c0d7926b3578dd3d
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 3 11:46:44 2010 +0200

    s4-smbtorture: only test data up to a length of 9 bytes in test_SetPrinterDataEx_matrix().
    
    Guenther

commit 614e010daad98081bb7bd03289e9350a49ad81ce
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 3 01:45:01 2010 +0200

    s3: remove authdata.h
    
    Guenther

commit 4b342b73a6706eb6ce4b7e20d273b53583a64358
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 3 10:25:32 2010 +0200

    s3-build: pure cosmetics, use better names for gen_ndr code pieces.
    
    Guenther

commit 84a8f0451d618ad05d451714f309ed3ab4acf57e
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 3 09:57:50 2010 +0200

    s3-build: only include generated spoolss headers (not ndr headers).
    
    Guenther

commit ce851814305d618b20799f00de3b7e11fcd5c954
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 3 10:49:34 2010 +0200

    s3: remove rpc_secdes.h completely.
    
    Guenther

commit b6a2cea74d90499bd3e239ab696502ae8afed30e
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 3 10:36:05 2010 +0200

    s3-security: use shared "Standard access rights.".
    
    Guenther

commit 102b0cfe62c6486846cdfb4938a83e2be4aad912
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 3 01:27:50 2010 +0200

    security: move generic_mapping and standard_mapping to security.idl.
    
    Guenther

commit b5c2af94475337b4769dc464a695ee29bc5e87c7
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 2 23:57:09 2010 +0200

    s3-security: use shared "File Object specific access rights".
    
    Guenther

commit 37b978c343b5727c7257d7a0a574ba82bb0c9c0f
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 2 23:48:15 2010 +0200

    s3-security: use shared "Generic access rights".
    
    Guenther

commit 2794d2ee7f8e088060e4b86532176673cf7c2580
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 2 23:45:44 2010 +0200

    s3-security: use shared Security Access Masks Rights.
    
    Guenther

commit 5cf3b0bba4b45096390fb4bcfb3ad07704d56880
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 2 23:45:14 2010 +0200

    s3-security: move ALL_SECURITY_INFORMATION to the only user.
    
    Guenther

commit 1bed5254d9ee28d1efc98f32f5a407ae4359803d
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 2 23:39:05 2010 +0200

    s3-security: remove duplicate Extra W2K flags.
    
    Guenther

commit a75436e3ee11fa1491bfa574523269be716fc892
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 2 23:35:44 2010 +0200

    s3-security: use shared SECINFO_DACL define.
    
    Guenther

commit e24a59f932897888cadae31469366663aca1a414
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 2 23:29:16 2010 +0200

    s3-security: use shared SECINFO_SACL define.
    
    Guenther

commit 630c27bdad32086f16dbafdeab94d34fbc3b9b5e
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 2 23:25:18 2010 +0200

    s3-security: use shared SECINFO_GROUP define.
    
    Guenther

commit 415d3d5fe7637e8f9a649665497d3972391750b6
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 2 23:22:12 2010 +0200

    s3-security: use shared SECINFO_OWNER define.
    
    Guenther

commit 788d7f9e4ae76105ee481bde42e2ddb8fdac2617
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 2 23:16:32 2010 +0200

    s3-security: remove some more shared secdesc defines.
    
    Guenther

commit cb1590e410a3b8fd366f4670786046566b5f4f9c
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Jun 2 16:57:08 2010 -0700

    Ensure we remove SMB2 cancel requests from the active queue
    now we don't remove them in the talloc destructor.
    
    Jeremy.

commit 53e465062249bc91e53eb8d5fa54034933a650af
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Jun 2 16:43:31 2010 -0700

    Fix a crash bug found by Ira Cooper <samba@ira.wakeful.net>.
    
    A create call comes in, goes async (on the oplock request).
    At a later time (just before a cancel request is received)
    it completes, and goes through smbd_smb2_request_reply() to
    send the reply to the create call.
    
    However, the output socket queue is full, so when
    tstream_writev_queue_send() is called from smbd_smb2_request_reply(),
    the smb2req stays on the "being processed" queue on
    sconn->smb2.requests, as only when tstream_writev_queue_send() completes
    is smbd_smb2_request_writev_done() get called, which will TALLOC_FREE
    the smb2req (and thus take if off the queue).
    
    The cancel comes in, gets processed and looks through the
    requests on the queue, and BANG - hits the smb2req that
    has already been processed and is outgoing....
    
    Remove the request from the queue once
    tstream_writev_queue_send() is called and not in the talloc
    destructor function.
    
    Jeremy.

commit bcd4077be64e49b11a819cdcf27939a0fcc0d9bd
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jun 3 00:09:26 2010 +0200

    s3: remove unused librpc/ndr/sid.c.
    
    Guenther

commit fbfc60fac1d2246b9c29f3731f9e255d4f68dd0c
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Jun 2 10:25:56 2010 -0700

    Move to using a DATA_BLOB inside of struct aio_extra, not a char *.
    
    Will make using AIO in SMB2 easier.
    
    Jeremy.

commit 3854f0708e8c7a2e37310cd24d8acd52d87b9d6b
Author: Günther Deschner <gd@samba.org>
Date:   Wed Jun 2 15:35:33 2010 +0200

    s3-selftest: Fix blackbox smbclient s3 tests during make selftest.
    
    Guenther

commit 57ab910b6f3a24bf188415baf58de610203594b1
Author: Matthieu Patou <mat@matws.net>
Date:   Fri May 21 11:57:29 2010 +0400

    s3: Allow previous password to be stored and use it to check tickets
    
    This patch is to fix bug 7099. It stores the current password in the
     previous password key when the password is changed. It also check the
     user ticket against previous password.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 95863bfb5e547132c8f02c49a2bed1ec308d8f5e
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Jan 5 10:42:38 2010 +0100

    s3: Add vfs_linux_xfs_sgid
    
    http://oss.sgi.com/bugzilla/show_bug.cgi?id=280 shows an old Linux XFS bug that
    still exists: Under certain circumstances the SGID bit is not inherited.

commit 7747575ef485a4d8cfe2fe9ada18b5b009074a0f
Author: Kai Blin <kai@samba.org>
Date:   Wed Jun 2 11:28:54 2010 +0200

    s3-waf: Fix up smbclient dependencies

commit 6331d7f90d411f18b760f6525a4534a3c663445f
Author: Kai Blin <kai@samba.org>
Date:   Wed Jun 2 11:21:18 2010 +0200

    s3-waf: Fixed dependencies of the the krbclient subsystem.

commit 6c7c81a8f286a10366a0d2cbb36c00272d6d1d47
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Jun 2 11:19:36 2010 +0200

    s3-waf: Fixed dependencies of the the avahi subsystem.

commit 74fad2568db8e218cb142703078034ec138943fd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Jun 2 09:30:54 2010 +0200

    s4:ldb_msg_element_compare - fix typo in comment

commit 6ad27cd7fe3e5f014821953c67ab93dbfed38a60
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Jun 1 19:59:56 2010 +0200

    s4:lib/ldb/pyldb_util.c - add a cast to quiet a warning
    
    Jelmer, please fix if it isn't correct.

commit e799de256e418f011a042f999904872fecae4011
Author: Ira Cooper <samba@ira.wakeful.net>
Date:   Tue Jun 1 17:09:29 2010 -0700

    SMB2: Fix rename on Windows 7.
    
    This removes some code Jeremy (jra) suspected was bad.  It turns out that the
    command window rename command will not work with the offending code in place.
    
    With it removed the bug is gone, and rename works.

commit e9ff32c6c3c270818f2341d85d2ba193c4e99864
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Jun 1 16:05:44 2010 -0700

    Don't use sigev_value.sival_int to just store the mid, use sigev_value.sival_ptr to store the private data structure.
    
    This allows easier use from SMB2. Ensure aio is initialized before the
    aio_pending_size check else aio will never be used.
    
    Jeremy.

commit 1ba611a56c2b12f5138172be7bc23d187893cf16
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 1 23:02:13 2010 +0200

    s3-eventlog: try to pass RPC-EVENTLOG during make test as non-root.
    
    Guenther

commit b81f8b131c28c4c300d41eebb054bbf649bfbae4
Author: Holger Hetterich <hhetter@novell.com>
Date:   Sun May 30 18:52:17 2010 +0200

    s3-vfs: Send the share name instead of the path in smb_traffic_analyzer.
    
    In protocol v2, the name of the service should be sent instead of the
    path.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 23eb2888d94b34822e4c49b1d62f4bd3fac43fcf
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 1 16:48:51 2010 +0200

    s4-smbtorture: skip driverName and printerName DsSpooler tests for now.
    
    Guenther

commit 582847412a1f4d7d971b96551cd07ff738e9ff82
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 1 16:46:37 2010 +0200

    s4-smbtorture: Make sure RPC-SPOOLSS and RPC-SPOOLSS-PRINTER pass against s3.
    
    Printjobs are extremely fragile beasts on paused virtual printers within make
    test. Very often the printq updater in the background is not fast enough, so
    subsequent tests don't get to the updated information. Something to remember and
    to work on later...
    
    Guenther

commit fc9644a7d6bbf4f02c5cb1ce9fc5b3f3ddb66d2a
Author: Günther Deschner <gd@samba.org>
Date:   Tue Jun 1 16:04:19 2010 +0200

    lib/replace: fix some c++ build warnings in testsuite.
    
    Guenther

commit 3bae05d286b54ccb8c4d624c7f305bd84138c454
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Tue Jun 1 15:05:02 2010 +0300

    s4: check the sacl and dacl pointers on the old sd

commit da894b7023327ffaf533ec9de1b7cb2a199fe28c
Author: Kai Blin <kai@samba.org>
Date:   Tue Jun 1 15:37:40 2010 +0200

    s3-waf: Fix the build

commit f702578f765cdc514796afb8cb548394a517feb7
Author: Michael Adam <obnox@samba.org>
Date:   Tue Jun 1 15:31:17 2010 +0200

    s3: remove unused prototype for lp_idmap_domains().

commit a6c921fef74e368da9a12b8ce82fedbf86c66ed4
Author: Kai Blin <kai@samba.org>
Date:   Tue Jun 1 10:31:11 2010 +0200

    s3-waf: Add check for dirent.d_off member

commit 3f14d03adbda03b821210115af4fae044a9b4a3e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon May 31 10:57:52 2010 +0200

    s3:winbindd: make sure we only call static_init_idmap once
    
    metze
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit e67b0cf603483aefe823ab3c86b02db27c48b6eb
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 24 14:55:17 2010 +1000

    s3:winbind Ensure we always init idmap_passdb before we use it
    
    It seems that it is possible for idmap_init_passdb_domain() to be run
    before idmap_init_domain(), so ensure we run the static init functions
    in both.
    
    Andrew Bartlett
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit b05c18cff275650b4caa74db6ba82975df3abe9d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 24 10:51:10 2010 +1000

    s3:idmap Use idmap.idl defined structures and constants
    
    This allows these structures to be shared across all of Samba
    
    The additional name type ID_TYPE_BOTH is unused in source3 code at
    this time.
    
    Andrew Bartlett
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>
    Signed-off-by: Michael Adam <obnox@samba.org>

commit c256eb84565566a930bcadc60d03138878d2d0b0
Author: Karolin Seeger <kseeger@samba.org>
Date:   Tue Jun 1 10:02:14 2010 +0200

    s4-configure: Fix typo in comment.
    
    Karolin

commit ea5c85aa423ab95cd9029437230ac01b2220c89d
Author: Karolin Seeger <kseeger@samba.org>
Date:   Tue Jun 1 09:45:19 2010 +0200

    selftest: Fix typo in comment.
    
    Karolin

commit 1cad4304bf83c7a75527a8f5674804723a2904b8
Author: Karolin Seeger <kseeger@samba.org>
Date:   Tue Jun 1 09:35:53 2010 +0200

    s4-heimdal: Fix typo in comment.
    
    Karolin

commit 3eab655e54d57c384ed4fc41ac61fb4c27d00c24
Author: Karolin Seeger <kseeger@samba.org>
Date:   Tue Jun 1 09:33:53 2010 +0200

    s4-cracknames: Fix typo in debug message.
    
    Karolin

commit a6e07c22a385ccf09d8e13d71c46387b2144ee44
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jun 1 11:23:50 2010 +1000

    s3:auth Rename wksta_name -> workstation_name in auth_usersupplied_info

commit fdc6db34caf4c30fd5bf439fcd3a5453fd26a590
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 25 21:18:15 2010 +1000

    s4:ntlmssp Use common code for ntlmssp_sign.c
    
    The common code does not have a mem_ctx on ntlmssp_check_packet() and
    ntlmssp_unseal_packet().
    
    We do however need some internal working of the code exposed, so some
    structures are moved to ntlmssp_sign.h
    
    Andrew Bartlett

commit 38a26f1073178736b8b3e1158a231b3ed7b6484a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 25 20:20:46 2010 +1000

    s4:ntlmssp Use the new common ntlmssp.h

commit bc8d12e59331fb814a58733b68f8ec16cfffa61e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 25 19:59:23 2010 +1000

    s4:ntlmssp Merge ntlmssp structures with version from source3/
    
    Use this as an excuse to get rid of ntlmssp_set_domain() etc, which
    don't do anything useful now that msrpc_parse() use talloc anyway.
    
    Andrew Bartlett

commit dfb206f47e8b9bcf81493e7cb6aed7859fb54042
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 18 22:10:13 2010 +1000

    s3:param Put 'server_role' functions in another file.
    
    Andrew Bartlett
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 6d2e796f35dea93ca31e6879e79942a02572754d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 18 22:07:48 2010 +1000

    s3:param Add helper function to get at Gobals.iDomainMaster
    
    This is needed for a future split out of the server_role code.
    
    Andrew Bartlett
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 458b2484c73b9381aa3d10b94b3e3576d4bb44d3
Author: Kai Blin <kai@samba.org>
Date:   Mon May 31 23:02:16 2010 +0200

    s3-waf: Check for device major and minor macros

commit b497447e1722e6d89406f71b2371b61c616cf71b
Author: Kai Blin <kai@samba.org>
Date:   Mon May 31 22:39:47 2010 +0200

    s3-waf: Add check for asm/types.h

commit 5a3e744394b88d8e0dfbc8cb38add8970227919d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 23:10:59 2010 +0200

    pyldb_util: Remove dependency on LIBPYTHON - it's already there
    implicitly and not available in the standalone build.

commit 83788988cbd879789108e8119fa3527ceeb47fe4
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 31 13:58:27 2010 +0200

    s4:samldb LDB module - start on a sequential trigger implementation
    
    This is a start to allow the triggers to be called sequentially.

commit a8788ce5236a4fbc1c8096a0eed48638b5a03dd8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 31 22:22:37 2010 +0200

    ldb:ldb_msg_add_steal_string - prevent also there the addition of strings with length 0

commit 0fce829de46995d474053bd581555dd40e549ff1
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 31 22:04:29 2010 +0200

    s4:dsdb_load_udv_v1 - "uint32_t" counter type fits better than "unsigned int"

commit 0fddbe472edb33861386cb11cc141d9b02f95a02
Author: Kai Blin <kai@samba.org>
Date:   Mon May 31 08:36:29 2010 +0200

    s3-waf: Check if compiler supports LL suffix

commit 3811fdab5cec7830420c88cce99ea966236434f0
Author: Kai Blin <kai@samba.org>
Date:   Mon May 31 08:35:58 2010 +0200

    s3-waf: Check for broken nisplus include files

commit e80301eded1d42b6a015c622be07bba589ee3512
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 31 21:49:04 2010 +0200

    s3-smbd: remove unused sconn from token_contains_name().
    
    Guenther

commit d33c41fbf5bd48fe32d82174d8bd25d1651ee374
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu May 13 17:07:15 2010 +1000

    s3:winbindd move reinit_after_fork() back out of winbindd_register_handlers
    
    This particular init function needs to be done in a native Samba3
    build, but it turns out to be difficult for s3compat, which has other
    code listening on the sockets.
    
    Andrew Bartlett

commit 19f4229fff0f0e350d0eb6e91f674c48c744d214
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 24 10:11:23 2010 +1000

    s3:winbind Make state->mem_ctx a talloc child of state
    
    This way everything is destoryed at the conclusion of
    the connection correctly.
    
    Andrew Bartlett
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 61eb56be4ea1f4eb26f63b985aeb52cdb1183328
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 17 19:34:32 2010 +1000

    s3:winbind tidy up connecting the winbind sockets.
    
    By putting this code inline in winbindd_setup_listeners() we remove 2
    static variables and simplify the code.
    
    By putting the get_winbind_priv_pipe_dir() in the same file, we allow
    it to be reimplemented in s3compat.
    
    Andrew Bartlett
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit e5ebc52e9fd45346a74e2c421f2471b5e6cab998
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 14 13:11:48 2010 +1000

    Revert "s3:winbindd Split helper functions to allow s3compat to call them"
    
    I'm experimenting with a different entry point
    
    This reverts commit f5c0f90da5f5372ca6b7a72daa8d073a2444a068.

commit fca69a9e2f19d7f54cee6ace17adf57372cea52e
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 31 21:26:30 2010 +0200

    s3-netlogon: Fix crash bug in _netr_NetrEnumerateTrustedDomains().
    
    Guenther

commit cf727404f4ccad04b7a8fe28d0c1e8eaed69522b
Author: Simo Sorce <idra@samba.org>
Date:   Mon May 31 14:50:07 2010 -0400

    Revert "ldb: Remove Samba-specific symbols."
    
    This reverts commit fe8302b235197e359a20ba0489eb72b54793963e.
    
    Jelmer, please do not re-re-revert this until we can properly handle
    *both* s4 and standalone ldb builds.

commit a22d7db30813127690d5c3758e7abfa8805e76c9
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 20:44:30 2010 +0200

    wafsamba: Only try to build manpages if XSLTPROC was actually found.

commit 41cdac9c3e5b2e9eea3067892a3e60b4bff67154
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 20:44:12 2010 +0200

    pyldb: Remove duplicate copy of function.

commit 38dfc480334926f07b7d1869225370693140e349
Author: Simo Sorce <idra@samba.org>
Date:   Mon May 31 13:54:00 2010 -0400

    ldb: Remove unexisting and mistyped function from header

commit 7f75ee025ff9c02763fb9201d94af4b2739c8e03
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 18:29:11 2010 +0200

    ldb: Install ldb_handlers.h header.

commit fe8302b235197e359a20ba0489eb72b54793963e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 18:28:09 2010 +0200

    ldb: Remove Samba-specific symbols.

commit 1bc53f0213b04e30ebf2ac60695c84c5781e4e72
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 18:12:05 2010 +0200

    ldb: Move utility functions to separate file.

commit 82d56b937445585b9e60451daf660aee5ace0523
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 16:05:41 2010 +0200

    ldb: Fix dependencies when building with system ldb.

commit 471ed70c497f4eeaca27594d609f41f2b2c689cd
Author: Simo Sorce <ssorce@redhat.com>
Date:   Mon May 31 10:52:06 2010 -0400

    s3:smbd map_username() doesn't need sconn anymore
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 6a25668e55929a8111ac0fc5e34b5a83ae936349
Author: Simo Sorce <ssorce@redhat.com>
Date:   Mon May 31 10:47:01 2010 -0400

    s3:smbd user_ok doesn't need sconn anymore
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 94bf9ce48a0ef8b77f22f3be6244881ca1a41e49
Author: Simo Sorce <ssorce@redhat.com>
Date:   Mon May 31 10:45:24 2010 -0400

    s3:smbd user_in_list() doesn't need sconn anymore
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 7747dd82f79bc503efe6a2d3139413afb8dda864
Author: Simo Sorce <ssorce@redhat.com>
Date:   Mon May 31 10:43:19 2010 -0400

    s3:smbd user_in_network() doesn't need sconn anymore
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit b32b59d47f8ec597be9d215e5e260e5d1411d3a4
Author: Simo Sorce <ssorce@redhat.com>
Date:   Mon May 31 10:36:02 2010 -0400

    s3:smbd make yp cache local.
    
    The my_yp_domain variable is just a static cache needed to avoid
    making over and over expensive and potentially blocking calls to
    yp_get_default_domain().
    Instead of keeping this onto the smbd_server_connection struct, just
    keep it local to the only function ever using this variable.
    
    This disentagle this function (and a number of calling functions)
    from having to pass around smbd_server_connection and thus having
    to link against smbd. It also removes a few ifdefs.
    
    Nothing changes from a global/local pov, as the smbd_server_connection
    variable passed around is also a global one.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 1da415345971fbd045808d26142b9eca797aaedf
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon May 31 17:51:21 2010 +0200

    buildtools/wafsamba: use build group 'final' for the creation of manpages
    
    This way we don't try to build manpages just for waf build --target=smbtorture
    
    metze

commit c866920c3de0fc75e9939bcc19ff880819a62e07
Author: Kai Blin <kai@samba.org>
Date:   Mon May 31 15:56:30 2010 +0200

    s3-waf: Fix build after ntlmssp_sign.c moved

commit 6af6b96b5728d7690979b2d3258eddb48e55bed4
Author: Kai Blin <kai@samba.org>
Date:   Mon May 31 15:33:40 2010 +0200

    ldb: Revert signature file changes made in 151e239bcf2860411527a953d627b2d724c0a57e

commit 98641648d8ec66a0c3e07a73e4275005bfa25811
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 28 15:31:35 2010 +0200

    s3-netlogon: use LSA in _netr_NetrEnumerateTrustedDomains.
    
    Guenther

commit 4bb7e91cfd9071e570c56bca36d35202d01ca80d
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 28 14:22:08 2010 +0200

    s3-netlogon: use SAMR in _netr_ServerAuthenticate3.
    
    Guenther

commit db5730cac4d6e0b64913bce21147352344077e2b
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 28 14:21:15 2010 +0200

    s3-samr: give the system user a free pass for _samr_QueryUserInfo{2} level 18.
    
    Guenther

commit 3f24f8d2c69be1db28cb1ffb866d45b520d9544d
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 28 14:19:28 2010 +0200

    s3-auth: add "system" bool flag to auth_serversupplied_info.
    
    Guenther

commit a7805811c432adb9b0e82039858269c2154521ae
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 28 12:39:12 2010 +0200

    s3-netlogon: use SAMR in _netr_ServerPasswordSet{2}.
    
    Guenther

commit 62708fbd1bf6a54d880011ce7d95ee43e08cf30e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 25 20:58:52 2010 +1000

    s3:ntlmssp Move ntlmssp_sign.c from source3 to common code.
    
    This needs a small re-arrangement of the supporting code.
    
    Andrew Bartlett
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>
    Signed-off-by: Günther Deschner <gd@samba.org>

commit d6fa371b92681a327a86239721fc5990d91ad74f
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 25 20:55:40 2010 +1000

    s3:ntlmssp Use a TALLOC_CTX for ntlmssp_sign_packet() and ntlmssp_seal_packet()
    
    This ensures the results can't be easily left to leak.
    
    Andrew Bartlett
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>
    Signed-off-by: Günther Deschner <gd@samba.org>

commit ebae21f0235b957c8faeeb51c926724909d353e9
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 25 20:19:22 2010 +1000

    ntlmssp: Make the ntlmssp.h from source3/ a common header
    
    The code is not yet in common, but I hope to fix that soon.
    
    Andrew Bartlett
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 9a76932ccfe680b9bf224e0dcac7f9cdb7ce9f4e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 25 19:58:00 2010 +1000

    s3:ntlmssp Add two unused variables to match the Samba4 ntlmssp.h
    
    Andrew Bartlett
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 723ea68d3b69a9fc31dc02256c4fc323dc9278ce
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 25 15:40:35 2010 +1000

    s3:auth Remove AUTH_NTLMSSP_STATE typedef.
    
    typedefs are no longer preferred Samba style.
    
    Andrew Bartlett
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 3b706865f6bae7a2b04590da160bda939a3bafe5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 25 15:34:06 2010 +1000

    s3:auth Make AUTH_NTLMSSP_STATE a private structure.
    
    This makes it a little easier for it to writen in terms of GENSEC in future.
    
    Andrew Bartlett
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a950c6c60097af750d4348cb096fdacb342e9e71
Author: Björn Jacke <bj@sernet.de>
Date:   Mon May 31 14:33:51 2010 +0200

    s3:configre: work around shell problem on HP-UX in AC macro

commit 8c017022dbb78966589fa98e03dea01d91d003b0
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 13:55:17 2010 +0200

    talloc: Don't set is_bundled for standalone build.

commit 151e239bcf2860411527a953d627b2d724c0a57e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 13:51:49 2010 +0200

    ldb/waf: Fix build with system and bundled ldb.

commit f89e390fbc6e4f3d8269c40ccab7c718bfcd394f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 12:17:33 2010 +0200

    waf: Refactor manpage building code.

commit f98bb7ffc33bf161caf301c50c55c8e3cc858b85
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 12:08:01 2010 +0200

    Add manpages argument to SAMBA_LIBRARY().

commit cc77e7966ea95ccc0812dd772a9002b41792e6b8
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon May 31 12:51:58 2010 +0200

    s4-waf: Fixed the ldb build.

commit 11e2608ba97018987b0143521248a83b2dab07e6
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 31 10:15:25 2010 +0200

    s3/s4:netrEnumerateTrustedDomains - this call returns a "NTSTATUS" result
    
    See MS-NRPC 3.5.5.6.3.

commit 0eec33417eb56d1352fd66565f55162c62d86fcd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 31 12:01:34 2010 +0200

    s4:dcesrv_netr_DsrEnumerateDomainTrusts - fix an integer type

commit aaf1c751f4cf447d80ef9dae341ef3247c1607e2
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 27 15:58:45 2010 +0200

    s4:torture/rpc/netlogon.c - add another "LogonGetDomainInfo" testcase
    
    Mark it as dangerous since it does break some target systems.

commit 3e0b2c8c9ae557e615fe3551f561a622c1fa29cd
Author: Volker Lendecke <vl@samba.org>
Date:   Wed May 26 17:52:10 2010 +0200

    s3: Fix some debug messages

commit 2e4c41431e18ed68f0965cdb128d67b008f81389
Author: Volker Lendecke <vl@samba.org>
Date:   Wed May 26 17:47:37 2010 +0200

    s3: Don't announce readraw and writeraw with the async echo responder

commit 82e140c04562c1480d8ae1d6cb68d510824a1a1c
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 28 03:31:52 2010 +0200

    s3: use shared security defines.
    
    Guenther

commit fbb7814f91f85e95769a5e23506825167b44139f
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 19:40:31 2010 +0200

    s3: only use netlogon/nbt header when needed.
    
    Guenther

commit f9f8007361583c1d38be7e15eeae6b58a09614b3
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 28 02:19:32 2010 +0200

    s3-build: only use ndr_security.h where needed.
    
    Guenther

commit c00407bd3589e9a459014ddb0efd986b15d2eecc
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 28 03:04:45 2010 +0200

    libcli/nbt/lmhosts: fix missing prototype warning.
    
    Andrew, please check.
    
    Guenther

commit 7426cf4306e84c994f3903b4b867cc76c45574be
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 31 10:30:15 2010 +0200

    s3: remove prototype of non-existsing function idmap_tdb_tdb_close().

commit e3997c2a6d82276cc736686099ab897fa4fd0047
Author: Kai Blin <kai@samba.org>
Date:   Mon May 31 09:39:44 2010 +0200

    wafsamba: Correctly detect if bld.env.XSLTPROC is not set
    
    This fixes the build on some build farm hosts and my machine.
    
    Jelmer, please check.

commit cd2dd331032895259e0875c717e8d9f5e6de301f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 04:48:00 2010 +0200

    ldb: Support building with system ldb library

commit 04fc459a301c09d027e2d484b9a4e0737819b093
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 04:20:44 2010 +0200

    tdb-waf: Don't install binaries when using system tdb.

commit e6129bd59650b921e51d5b8aa10246778aacdd30
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 04:16:19 2010 +0200

    tdb-waf: Simplify manpage handling.

commit 1d1d31f703e3f3f41dddd45e705cf2a9a5a0d3df
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 03:59:50 2010 +0200

    wafsamba: Default blacklist to an empty list rather than None.

commit 3858b5db8be50dda5d994ecc8863b32a150a2528
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 02:43:17 2010 +0200

    s4-waf: sanitize library names like the old build system did, only add
    -samba4 suffix for libraries that are bundled.

commit 17ad28c5826590a973fe1f0e1c6be0d18f1ec458
Author: Björn Jacke <bj@sernet.de>
Date:   Mon May 31 02:17:04 2010 +0200

    s3: use PICFLAG instead of PIE_FLAGS

commit f3f1745e271ec3c44e4df04d05698f954b8f518d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 01:35:43 2010 +0200

    wafsamba: Actually install manual pages.

commit 38cbb60e973d0db6d70f58d3803b3e62f1c942ce
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 01:35:07 2010 +0200

    ldb: Remove manual pages for binaries that have already been moved to utils/.

commit 3e65af312c1250cbea8eea17d9705e1e2352262f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 01:28:15 2010 +0200

    ldb-waf: Fix installation path of manpages, simplify manpage handling.

commit f757263fb3d56041d6778304e521bed55771aea1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 01:25:56 2010 +0200

    s4-waf: Look for xsltproc executable, required to build manpages.

commit c2327b24a63289449b09fdc343b3b46871d13ee5
Author: Björn Jacke <bj@sernet.de>
Date:   Mon May 31 00:26:01 2010 +0200

    s3: final test for working shlib support requires PIE_LDFLAGS

commit 55ef0ecea85fda48e980f5f9c6029d7bcee865df
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 31 00:13:10 2010 +0200

    s4-python: Remove cruft to deal with static python modules, which are no
    longer supported.

commit 390b0521bd36702a698febdd670335bf09b49d54
Author: Björn Jacke <bj@sernet.de>
Date:   Sun May 30 23:50:48 2010 +0200

    s3: use autoconf macro to get some debug output in config.log

commit e4a9bdc39f499c7bfb04c00bc986c4894cf8e49a
Author: Kai Blin <kai@samba.org>
Date:   Sun May 30 23:27:08 2010 +0200

    s3-waf: Fix the build after rebase

commit 209555ef09bf57aa79f164f6e85a16e5b4977609
Author: Kai Blin <kai@samba.org>
Date:   Fri May 28 15:56:32 2010 +0200

    s3-waf: support avahi builds

commit 04d251a8476b8cf267667fc108f2f8c213fceb54
Author: Kai Blin <kai@samba.org>
Date:   Fri May 28 15:50:26 2010 +0200

    build: Also replace '-' by '_' when creating header defines
    
    Tridge, please check

commit 8e2b69ca46739960354b90c6ef843e68bb4e2330
Author: Kai Blin <kai@samba.org>
Date:   Wed May 26 13:44:43 2010 +0200

    s3-waf: Add more darwin-specific options

commit 5a0b3cf93db3ebf79d81b9ef09669835569549f9
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun May 30 22:46:50 2010 +0200

    s4:tests/python/passwords.py - fix filter

commit 327fa70f3fe2f3917df509f783822a3b42a266f0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun May 30 21:58:11 2010 +0200

    ldb:ldb_tdb/ldb_tdb.c - quiet a warning regarding TDB -> LDB error code conversions

commit 463d5f0afc5b378bf8143558b8b8f372680f9768
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue May 11 21:43:36 2010 +0200

    s4:samldb LDB module - deny delete operations on some important attributes
    
    Add operations are denied since these are single-valued - only replace is
    allowed.
    
    This is only provisorily at the moment - we need to implement the triggers
    specified in MS-ADTS.

commit 092331d2d8c39ccfbd97c5e357705efb54f1ab6f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue May 11 21:35:46 2010 +0200

    s4:ldap.py - add a test which shows the modification behaviour of important attributes
    
    This shows how important attributes of SAM objects do behave when you launch
    add and delete modify requests on them.

commit 08653ac9c26a4456d9ca7365c1773d021e5be51c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun May 30 21:08:05 2010 +0200

    s4:samldb LDB module - rework the group change code to be again synchronous

commit c30c4529f59f25e2846e33bdd3676aed51c10dcc
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue May 11 17:00:54 2010 +0200

    s4:ldap.py - add more test cases to show invalid primary group change behaviour

commit f3b04854b855e1547182bc36d57841dac3b041d8
Author: Kai Blin <kai@samba.org>
Date:   Thu May 27 23:38:02 2010 +0200

    s3-waf: Set HAVE_GSSAPI if gssapi libs were found

commit 6a78241f4a9aae84e91ea2e49f066f2e5203beba
Author: Björn Jacke <bj@sernet.de>
Date:   Sun May 30 21:44:14 2010 +0200

    libreplace: include sys/file.h only when available
    
    thanks to Joachim Schmitz <schmitz@hp.com>. This fixes #7460.

commit 3030d9db4ea7ddecc2e8bbef225738e0336e9be4
Author: Joachim Schmitz <schmitz@hp.com>
Date:   Sun May 30 21:25:30 2010 +0200

    s3: define timespec before we use it
    
    this fixes #7464
    
    Signed-off-by: Björn Jacke <bj@sernet.de>

commit c2a3792e72cb534bafce3808c4a7b9f6948e8895
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun May 30 20:46:57 2010 +0200

    s4:dsdb/samdb/ldb_modules/util.c - make sure to always free temporary data

commit b7270fbc9971b6e625c15a60e6717410aec2b77a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun May 30 20:46:31 2010 +0200

    s4:dsdb_module_search_dn - add code to handle NULL format string

commit f927881028303eb955566c08a940cca18e50ce99
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun May 30 20:45:56 2010 +0200

    s4:dsdb/common/util.c - fix a counter variable

commit 598656985aeb1a1ac11d246bb942c2248dfbfd8c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun May 30 17:05:07 2010 +0200

    selftest: list.remove raises ValueError rather than KeyError.

commit a1b44f4335f41a0c11505f1552d9173ca0b469f4
Author: Björn Jacke <bj@sernet.de>
Date:   Sat May 29 02:06:56 2010 +0200

    s3: set pthread cflags in a more portable fashion
    
    this avoids one place of a GNU make dependency.
    
    Portable make sucks a bit as it has no way of defining variables for a limited
    set of targets only. Manual duplication of target rules is the only way to
    achieve what we need.
    
    If someone actually knows a trick how to do this without target duplication,
    let me know.

commit 30c74cfa4995af57d8ec3f0f9d3f515e0b285beb
Author: Björn Jacke <bj@sernet.de>
Date:   Sat May 29 02:02:20 2010 +0200

    Revert "s3: Attempt to fix the non-gnumake build"
    
    This reverts commit 086c6c0e9a56f7e6dca6c1398e210b8c6225e4ed, it broke some
    builds. The following commit should also remove the gmake dependency.

commit 96ee9568eddf1a2f80ed5beb916ad00b1e2710bd
Author: Björn Jacke <bj@sernet.de>
Date:   Sat May 29 01:40:21 2010 +0200

    s3: fix check for pie compiler flags
    
    some compilers (HP and Sun e.g.) output warning messages on stderr for unknown
    options and we ended up partly using some unwanted random compile flags we
    did't intend to use.

commit b869350ddda84d0d6953339843bebd25d18b8fba
Author: Björn Jacke <bj@sernet.de>
Date:   Sat May 29 01:39:16 2010 +0200

    s3: add m4 macro to check if stderr is empty or not

commit 55df7606e3f47e03255e6ff1cdead458a8bc6160
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun May 30 14:53:36 2010 +0200

    Revert "s4:rpc_server/dcesrv_auth.c - Fix a RPC issue in conjunction with Windows 2000"
    
    This reverts commit 1cf5be39e30f9478606a5525eb7beeb21ee83c24.
    
    My fix approach isn't such appreciated therefore revert this.

commit 1cf5be39e30f9478606a5525eb7beeb21ee83c24
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun May 30 12:02:24 2010 +0200

    s4:rpc_server/dcesrv_auth.c - Fix a RPC issue in conjunction with Windows 2000
    
    Windows 2000 does strictly request header signing on some requests also if the
    server doesn't provide it. But there is a small trick (don't reset the actual
    session info) to make these special RPC operations work without a full header
    signing implementation.
    
    This fixes for example the list of domain groups in local groups when displayed
    sing the local user/group management tool.
    
    And this should finally fix bug #7113.
    
    The patch was inspired by another one by tridge and abartlet: http://gitweb.samba.org/samba.git/?p=tridge/samba.git;a=commitdiff;h=2dc19e2878371264606575d3fc09176776be7729

commit 76cd237ee59a3301166ddcbc4166fc7a133e03e3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun May 30 11:01:25 2010 +0200

    s4:web_server/wsgi.c - free the "env" and "inputstream" objects on an "asprintf" failure

commit 9bfd2c8ebc4d7dbd3fd6f47877d31e7e8f4721a5
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri May 28 22:30:50 2010 +0200

    s4:auth/credentials/credentials.c - initialise "password_last_changed_time"
    
    Otherwise it could remain uninitialised.

commit f1d7d6d4df64b74ce00498e6cd9e49b2c0ec7ea0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat May 29 22:54:07 2010 +0200

    nss_wrapper/testsuite.c - make sure to test always the "NSS wrapper" calls
    
    This should fix bug #7319 and #7320.

commit 33c633df0bb49551a833d1bf86db0825b8007546
Author: Simo Sorce <ssorce@redhat.com>
Date:   Sat May 29 16:49:37 2010 -0400

    s3:auth make it easier to trace auth modules

commit bd38c0d47d6a22a68fea5d9d66a73a9e2521b239
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 28 13:35:56 2010 -0400

    s3:auth fix info3 duplication function

commit b99dd10b39a4483a1c4b34f5438630ed99374c10
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 28 08:33:18 2010 -0400

    s3:smbd Use the right num_sids
    
    We use s_i->ptok->num_sids everywhere else in this call and
    then suddenly we reference s_i->num_sids

commit d85d85b851f498330badc3eb47a7f10a6981376b
Author: Simo Sorce <ssorce@redhat.com>
Date:   Sat May 29 09:48:20 2010 -0400

    s3:passdb Fix memory leak
    
    We were allocating this passwd structure on sampass, but never freeing
    it nor assigning it to unix_pw where it could be reused.

commit b455c5e155f7e7ba4cc07cd4415a304163213e0f
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat May 29 04:14:27 2010 +1000

    s3:auth Fix segfault when the user cannot be found by getpwnam()
    
    Add comment to notify when getpwnam() fails.
    
    Reviewed-by: Simo Sorce <idra@samba.org>

commit a8d308faff760ee56f7aa4a97ccaab60bf965849
Author: Günther Deschner <gd@samba.org>
Date:   Sat May 29 00:38:21 2010 +0200

    s3-selftest: fix chmod commands in provisioning.
    
    Guenther

commit 5232ce56cd3edef17166da8b61e9be6d3ec967e3
Author: Günther Deschner <gd@samba.org>
Date:   Sat May 29 00:09:14 2010 +0200

    s3-selftest: make sure provisioned s3 looks the same in make selftest as in make test.
    
    This fixes some tests that were previously failing.
    
    Guenther

commit c9c8de3dcb19c96ee9fab7f462b28f3a2f1997a1
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri May 28 22:14:39 2010 +0300

    s4/test-libnet: Remove multiple test_samr_close() impelementations
    
    We now have a nice common test_samr_close_handle() function to use

commit c742f59bd24a3a35732489aa013187c35edde0a2
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri May 28 21:20:03 2010 +0300

    s4/test-libnet-user: Remove test_createuser()
    
    We have same functionality already implemented by
    test_user_create() in libnet/utils.c

commit 0f2263016fc7afd949af65e6e84b5c5455250191
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri May 28 17:59:25 2010 +0300

    s4/test-libnet-utils: refactor test_user_create()
    
    - param names made more clear what they stand for
    - user RID out param is now optional, so that this function may
      be used in cases where we don't need user RID
    - SAMR connection handle is closed as it is not used further
      (we should play nice with servers)

commit 8dedb4d06ec84224f1b491cb76edb87b37550c56
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri May 28 05:20:18 2010 +0300

    s4/test: remove local impl for open_domain and use common one

commit fce427134d1a8fba216ff82d48d7f7cb6be7c3ce
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri May 28 05:14:47 2010 +0300

    s4/test: remove torture/libnet/utils.h as we are using proto.h now

commit 1118c7b0e4d311becfcc0d6e3c53405649526a2c
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri May 28 05:06:55 2010 +0300

    s4/test: change prototype for test_opendomain()
    
    - name changed to test_domain_open to be more alike athore functions
      in utils.c file
    - output parameters moved to the end param list definition just
      after mem_ctx so it is somehow more clear those params are OUT

commit 8e3a433f93618d6cadc58c19b54b9255acccec6e
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri May 28 05:04:56 2010 +0300

    s4/test: Refactor test_opendomain to address following
    
    - param names made more clear what they stand for
    - dom_sid out param is now optional, so that this function may
      be used in cases where we don't need dom_sid
    - SAMR connection handle is closed as it is not used further

commit 3a899e24d513de7c56363e39efb74b2c88c29854
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri May 28 04:45:40 2010 +0300

    s4/test: make samr_close handle functio public
    
    It is to be used further for closing opened handles when testing
    using SAMR interface

commit cf794355456b82927cecfd183e49b47be6568385
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu May 27 17:24:10 2010 +0300

    s4/test: refactor NET-USERINFO test to be more 'torture' friendly
    
    Test may be further refactored to be converted as a test case
    (what it is actually)

commit 2053403045cb8786abe778279a68b431b9c5977c
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu May 27 17:10:31 2010 +0300

    s4/test: test_userinfo/_async tests should use passed user_name param value

commit f11cf62016070a26992e92c757da3cf6b96705c8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri May 28 18:58:45 2010 +0200

    s4:web_server/wsgi.c - provide a better out-of-memory handling for an "asprintf" call

commit 8d6f88b469cea1aff0d3211f0a9dbd08e6a31497
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu May 13 17:41:33 2010 +1000

    s3:winbind Kill amusing but un-used winbindd_kill_all_clients
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit d266f8fdf17e5583d419c2b4bd9daf30acebfd6b
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed May 26 11:11:08 2010 +1000

    s3:lib s3:lib move get_global_sam_name to util_names.c
    
    This doesn't really belong in util_sid.c, and has much more in common
    with the other functions in util_names.c
    
    Andrew Bartlett
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 539ef13bfe950c7c512a4bdafd9a846c04ba5be4
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 17 16:25:26 2010 +1000

    s3:lib split out global workgroup and netbios name functions.
    
    Having these in their own file allows easier selective inclusion.
    
    Andrew Bartlett
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 59422efca9734f7e4248f9c7df8b6b823f17999b
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed May 26 10:48:15 2010 +1000

    s3:smbd move messaging_context and memcache into globals.c
    
    This helps vfstest, which previously had duplicate copies of these functions.
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 6f279de0e672996ff1c142202581e6471ed6e859
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu May 27 07:18:58 2010 +0200

    s3:smbd split reload services/printers functions from server.c
    
    This helps vfstest, as it previously had duplicate copies of these
    functions.
    
    Andrew Bartlett
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 8bc32513da9f0009774b6efce76f26c2177a976a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu May 13 07:48:04 2010 +1000

    s3:smbd split smbd/server.c into smbd/server.c and smbd/server_exit.c
    
    Andrew Bartlett
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit f7333629f80997822e0e617050a31d1fcc2d9595
Author: Kai Blin <kai@samba.org>
Date:   Fri May 28 15:17:35 2010 +0200

    s3-waf: Support builds with utmp accounting

commit 4eba4b07c6645cf7748b827d7e37326383e91d7f
Author: Kai Blin <kai@samba.org>
Date:   Fri May 28 14:35:01 2010 +0200

    s3-waf: Match the defines from the autotools build on PACKAGE_*

commit 93ac516e15ab771b6ed4eeacc556a2ec916387bb
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Apr 14 15:15:32 2010 +0200

    s3-auth: Added a function to get the server_info from the system user.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 87037006bd27601b620d0d31f72261ba968d9567
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 28 14:11:53 2010 +0200

    s3-samr: Fix crash bug in _samr_QueryUserInfo{2} level 18.
    
    Guenther

commit e5fca6aebf1fdde230be09c0bec718b7a607e056
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 28 20:34:08 2010 +1000

    s4:build Don't automatically mark as 'not a git snapshot'.
    
    If we generate a tarball, it may well be a git snapshot - we will
    change the VERSION file if it really is a release.
    
    Andrew Bartlett

commit b088a275512634af0adefe632097846439e83f92
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 28 20:33:28 2010 +1000

    s4:build use autotools for mkrelease.sh
    
    The mkrelease.sh script only works with the autotools build.  However,
    it isn't recommended.
    
    Andrew Bartlett

commit 7ea7b23413f48325d1805fd2666757241eddc2e7
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 28 20:24:47 2010 +1000

    waf Provide release signing capability in 'waf dist'
    
    This helps ensure the release is signed correctly - the .tar file, not
    the .tar.gz must be signed, and it's easy to forget this.
    
    Andrew Bartlett

commit 708d6fc5b002fb781983dd6ca4bda6e59a3a6411
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 28 18:54:57 2010 +1000

    s4:waf Exclude the autotools based build environment from a Samba4 release

commit b50c006e203e313a836eb012548749948b515425
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 28 18:50:25 2010 +1000

    waf Add DIST_BLACKLIST to list files that we cannot include in a release
    
    This currently includes the source3 directory for Samba4 releases (per
    past practice in mkrelease.sh), but also could include things like
    DFSG-unfree RFC files in the future.
    
    Andrew Barltett

commit e5232bdc69af45f15bc8fd95745276018f5961be
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 25 19:54:24 2010 +1000

    s4:kdc Remove special talloc_free of the ldb context
    
    I can see no reason not to just let this go with the talloc tree that
    created it, and avoid a talloc_free with references.
    
    Andrew Bartlett

commit d0e131ee4e3e1f35ebc33d6c1c27d5c9e69b8e87
Author: Kai Blin <kai@samba.org>
Date:   Fri May 28 13:20:10 2010 +0200

    s3-waf: Fix the smbclient build with libcap

commit 3d2c99f13b3b7f927ba3f912e8526f9e770aa34f
Author: Kai Blin <kai@samba.org>
Date:   Fri May 28 12:59:04 2010 +0200

    s3-waf: Detect which version of krb5_enctype_to_string is used
    
    Pair-Programmed-With: Günther Deschner <gd@samba.org>

commit da0e0efe876fdc5e1fe96d1e3a88541006770ff0
Author: Kai Blin <kai@samba.org>
Date:   Fri May 28 12:58:23 2010 +0200

    s3-waf: Fix the build of swat with --enable-cups

commit 76f804af10e490f4037f556d1ac600fd905e0236
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri May 28 10:39:54 2010 +0200

    s4:client/client.c - we don't need "&ctx" for talloc calls
    
    Simply use "ctx".

commit ce99f9e73438ac8a62347f628f7c5d25941023da
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 27 17:45:19 2010 +0200

    s4:web_server/wsgi.c - fix "asprintf" call

commit fe2a6076402ec26091eb0c543447e0ae09f39f75
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 27 17:41:39 2010 +0200

    s4:utils/ntlm_auth.c - fix "asprintf" calls

commit a64262697afb85f8db5872238c51b9499114ee58
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 27 17:37:15 2010 +0200

    s4:smbd/pidfile.c - fix "asprintf" calls

commit 67b2c424cefbecfe8581044703ba178c61c0ece1
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 27 17:36:33 2010 +0200

    s4:scripting/python/modules.c - fix "asprintf" calls

commit e831af7f076fe464d8860535ecae1986299765bd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 27 17:28:52 2010 +0200

    s4:param/loadparm.c - fix "asprintf" call

commit 7a3a1cb5a76aae697f7a820c4fc5305f5684487f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 27 17:18:03 2010 +0200

    s4:ntvfs/simple/svfs_util.c - change an "asprintf" into a "talloc_asprintf"

commit 69166d3ebb1ad1590d1d6078a2c6b592d06aef5e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 27 17:11:00 2010 +0200

    s4:ntvfs/nbench/vfs_bench.c - change a "asprintf" into a "talloc_asprintf"

commit 315ae8ae9787935f012169b2c001a827078c92e0
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 27 17:06:12 2010 +0200

    s4:libcli/clideltree.c - fix "asprintf"s

commit 2c325236be3d16c200ba4f85d8f0a33b3c5d8e73
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 27 17:02:02 2010 +0200

    s4:regshell - fix an "asprintf"

commit 8ddb4f6c84b431854a21825f2663d41878adf4ee
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 27 17:00:50 2010 +0200

    s4:regshell - don't use negative exit codes

commit 3318459fdc2df686892f4257dca709ac66784e82
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 27 16:59:14 2010 +0200

    s4:client/client.c - fix "asprintf"s
    
    Fix the result values or change them into "talloc_asprintf"s where possible
    
    see bug #6404

commit 892a4b24e79a71f5fd81bdb631d93615f2345bd9
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 28 15:20:03 2010 +1000

    waf Read VERSION file inside WAF to set package version
    
    This replaces the call to mkversion.sh in both the Samba3 and Samba4
    WAF builds.
    
    Andrew Bartlett

commit 0ca8e2252b14811b9221acc95a510ab6a84f580f
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 28 00:02:15 2010 +0200

    s3-lanman: Fix api_RNetUserGetInfo level 2 marshalling offset calculation.
    
    54 + 4 = 58 (and not 60).
    
    Found by torture test.
    
    Guenther

commit c5eeb0d155bc49fe7ead2a601bdd1bffaa5b119c
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 28 02:47:12 2010 +0200

    s3-auth: fix c++ buildwarnings.
    
    Guenther

commit 38d69ca547d6eaead316d990dc140a8250cf64d2
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 28 02:20:21 2010 +0200

    s3-build: remove duplicate ndr_krb5pac.h inclusion.
    
    Guenther

commit 6d194756e00c73672bbd43c9a5eb9efc93a84567
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 28 02:20:02 2010 +0200

    s3-build: use ndr_misc.h where needed.
    
    Guenther

commit 66adb84e46489a94ea49fc70d93dfe90a601617c
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 28 02:18:21 2010 +0200

    s3-build: only use ndr_samr.h where needed.
    
    Guenther

commit 60079f59b09d5f05ac1f09b015ec9bd765269035
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 28 02:16:38 2010 +0200

    s3-idl: fix some missing dependencies to other IDL files.
    
    Guenther

commit 30eeb1e3d90e93a52d81503d022218b7b6521071
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 28 01:19:25 2010 +0200

    s3-rpc_client: move protos to init_netlogon.h
    
    Guenther

commit f888c82fe08f7bf624aad53c20aaa634662b36dd
Author: Simo Sorce <ssorce@redhat.com>
Date:   Thu May 27 20:40:22 2010 -0400

    s3:auth Add comment to clarify usage of session keys.
    
    Explain why we have what looks like a duplicate of session keys.
    It is in fact not a duplicate.

commit 20fb37320224e8ed97473e60c1b70369d8069cb5
Author: Simo Sorce <ssorce@redhat.com>
Date:   Thu May 27 19:41:07 2010 -0400

    s3:auth remove login_server from server info
    
    It is not used anymore, we have that information in
    info3->base.logon_server already

commit 3bb819581b1dc2624a9e52c2cae065cc3bda6a4b
Author: Simo Sorce <ssorce@redhat.com>
Date:   Thu May 27 19:22:02 2010 -0400

    Fix Out of memory checks
    
    Günther pushed an older version of the patch "s3:auth add function to copy a
    netr_SamInfo3 structure" that was missing these fixes.

commit 2a6a696e32798f2a2aabef61dfa421da6328d069
Author: Simo Sorce <ssorce@redhat.com>
Date:   Thu May 27 03:21:35 2010 -0400

    s3:auth add function to convert wbcAuthUserInfo to netr_SamInfo3
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 606be25ecf4a31cba9f15c43ebc650aecb17e765
Author: Simo Sorce <ssorce@redhat.com>
Date:   Thu May 27 05:31:45 2010 -0400

    s3:auth Free sampass as soon as we have server_info
    
    We don't keep sampass in server_info anymore
    So it makes no sense to keep it around.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit d9cffc01be58184312a6a7b55bd523cf8daefa78
Author: Simo Sorce <ssorce@redhat.com>
Date:   Thu May 27 03:41:56 2010 -0400

    s3:auth use info3 in auth_serversupplied_info
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 6713f3d945f09a732e620641771d9ff403aca9ef
Author: Simo Sorce <ssorce@redhat.com>
Date:   Thu May 27 02:40:59 2010 -0400

    s3:auth add function to copy a netr_SamInfo3 structure
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 605cfef56c23f39eba88545c43284b061e9755bd
Author: Simo Sorce <ssorce@redhat.com>
Date:   Thu May 27 02:07:33 2010 -0400

    s3:auth: add function to convert samu to netr_SamInfo3
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 667716d2041fc531bfa6241b02bbfc12d7666e51
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 27 16:10:10 2010 +0200

    s4-smbtorture: finally test all levels in rap_NetUserGetInfo RAP-SAM test.
    
    Guenther

commit 7803bcdae654f1474c57f0d31ed17f56492441e3
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 23:34:27 2010 +0200

    s4-smbtorture: remove obsolete handmarshalled rap code.
    
    Guenther

commit 82982bd48086712d5efd2e9be79c16a4338605f7
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 01:09:46 2010 +0200

    s4-smbtorture: we can fully use autogenerated code to pull info unions now.
    
    Guenther

commit 7bcd9c5583ac2f750aa9c90af7d1ac86eb36f86f
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 01:08:07 2010 +0200

    libndr: add support for relative_rap_convert.
    
    Will not harm anyone, is only used for rare short (2byte) relative pointers, and
    relative_rap_convert is always 0 so far (as all init functions using struct
    ndr_pull will zero the struct).
    
    Guenther

commit 49a80fe6710a8c3c5977b35be2f55c2748b3bddc
Author: Kai Blin <kai@samba.org>
Date:   Thu May 27 22:45:13 2010 +0200

    s3-waf: Fix typo
    
    Sorry for the noise

commit 21e8548c0a3ea8fcca4e97a9b0f8b5a2cddf3d29
Author: Kai Blin <kai@samba.org>
Date:   Thu May 27 22:42:23 2010 +0200

    s3-waf: Also set "developer" env when building in developer mode

commit abbf8efb24c3d079ff2f7e39b2bf8382efa2ad5c
Author: Volker Lendecke <vl@samba.org>
Date:   Thu May 27 18:12:30 2010 +0200

    s3: Fix a bad memleak in the async echo responder

commit eff13393b32d35d84f7afb564df5c7df8af58445
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 27 17:09:39 2010 +0200

    s3-waf: fix the build after tstream changes.
    
    Guenther

commit 9b534ad1453ab180533edd7e687ce17d871572f0
Author: Volker Lendecke <vl@samba.org>
Date:   Thu May 27 14:27:58 2010 +0200

    s3: Remove an unused variable

commit 869eed76e6dcf4da9fecac5f9b4089c94e9a6bdf
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 26 23:36:33 2010 +0200

    s3-lanman: use samr for api_RNetUserGetInfo.
    
    Following MS-RAP 3.2.5.13 NetUserGetInfo Command.
    
    Guenther

commit a1fc7aebfc327c3553be47c44048c7c458316a25
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 27 13:25:31 2010 +0200

    s4-smbtorture: create the user to test in test_usergetinfo() in RAP-SAM.
    
    Guenther

commit dd895e526c4751865c587819d9e958c8fce9190b
Author: Holger Hetterich <hhetter@novell.com>
Date:   Sun May 23 23:18:58 2010 +0200

    vfs_smb_traffic_analyzer.c: set the len variable when running protocol v1.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit 85a385324958c41ac9c017421b35db1eeabed87c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 15:15:09 2010 +0200

    s3:rpc_server: make use of the npa_tstream code to connect to named pipes
    
    This way we use the newest protocol, which is able to pass
    the local and remote address of the SMB connection.
    
    And we correctly support message mode named pipes
    without the hack that analyzes the content for DCERPC pdus.
    
    metze

commit 4afa54fd53cdef1dd8b8e549d77ab02fdec09df4
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 15:08:02 2010 +0200

    s3:Makefile.in: add npa_tstream.o to the build of smbd
    
    metze

commit 9a6636a56e3565202d71ae7049431e3764575b79
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 15:12:32 2010 +0200

    s3:rpc_server: pass down local and remote tsocket_address to np_open()
    
    metze

commit 56ebbb53c80a49f2d8dda8a108afc07669af333e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Apr 28 15:15:23 2010 +0200

    s3:smbd: add PIPE_BUSY handling for SMBtrans calls on named pipes
    
    metze

commit 9a77cb247d00828845df02030e7d174351daf432
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Apr 28 15:05:30 2010 +0200

    s3:rpc_server: add np_read_in_progress() function
    
    metze

commit 8c0be920442778c24e19f8a52d9f8bc385218834
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed May 26 10:43:19 2010 +0200

    s3:rpc_server: make sure we don't send uninitialized memory for the named_pipe_auth handshake
    
    metze

commit 6a14dad13cc4b619a5901e54747085e81e42597d
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 26 23:17:35 2010 +0200

    s3-net: fix the build.
    
    Guenther

commit 66e9b8c888c8c7b1bbb46c9e562bd5be1fd3118d
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 26 21:22:13 2010 +0200

    s4-smbtorture: add usergetinfo to RAP-SAM.
    
    Guenther

commit e94e13bd8d013d2c58cf4f2c647056b5a1b53e79
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 26 22:55:45 2010 +0200

    rap: use rap_LogonHours in rap_NetUserInfo11 as well.
    
    Guenther

commit 20f843b678ca93ae762e91969bb13fdb33db4a3f
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 26 13:29:35 2010 +0200

    s3-waf: more work on krb5 build.
    
    Guenther

commit eb6d6114f31c5ef42f7573b94e9a522121a3f0a0
Author: Kai Blin <kai@samba.org>
Date:   Tue May 25 17:53:16 2010 +0200

    s3-waf: Allow to build with kerberos support

commit 229b090308d09e749f70155c798ae3826bf24164
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 26 22:49:01 2010 +0200

    s3-lanman: remove defines now provided by IDL.
    
    Guenther

commit dd05e173a2001f5f59e6dfdbebf592dc1c64fc4d
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 26 22:48:32 2010 +0200

    rap: fix typo in IDL.
    
    Guenther

commit dc014657decc02e9896a7f1ec10732cd28829f24
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 26 22:32:32 2010 +0200

    s3-waf: fix the build after chgpasswd.c changes.
    
    Guenther

commit b86666ab538fe1cf739bfb8a3c9bb50dc4d49270
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 26 20:59:40 2010 +0200

    s4-smbtorture: add smbcli_rap_netusergetinfo().
    
    Guenther

commit fbd1d50824be44ed3289a18ce8733d1a337192ae
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 26 20:54:50 2010 +0200

    rap: add rap_NetUserGetInfo IDL.
    
    Guenther

commit 2807ab358ec346a1da15522adce7f182d3ffefe5
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 12:06:23 2010 +0200

    s3-samr: move chgpasswd.c out of smbd and into the samr server.
    
    Guenther

commit 14b03d132bba45b368a07de4c4ed3ce73a8e1bde
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 7 19:26:06 2010 +0200

    s3-smbd: remove unused change/check_lanman_password.
    
    Guenther

commit 7fa2129db665331dcfd2f1849220ea3278252ce3
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 11 02:24:43 2010 +0200

    s3-lanman: parse encrypted and min_pwd_length in api_SetUserPassword().
    
    Guenther

commit a17203ba651eb643580e98aa67955eb23a374a3e
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 7 14:37:25 2010 +0200

    s3-lanman: use samr for api_SetUserPassword().
    
    Guenther

commit c1e8838bf5483a5b7a8a2556a43ee2cf1040a1a1
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed May 26 17:41:50 2010 +0200

    flags.h - fix comment for "GTYPE_SECURITY_UNIVERSAL_GROUP" constant

commit 9b1daa78cf7a5e461a3e108ad240b6f9a2bdc434
Author: Björn Jacke <bj@sernet.de>
Date:   Wed May 26 17:22:24 2010 +0200

    s3:Makefile: add missing linker flags for smbfilter
    
    this should fix the AIX build

commit 60cba59ff8ee75e3d476c1b293ca2f545b7f9e49
Author: Björn Jacke <bj@sernet.de>
Date:   Wed May 26 17:18:59 2010 +0200

    s3:Makefile: fix a typo in flag variable name

commit ab707cb9b3e62bd99afa0a82152064a6d75b032d
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 26 15:14:20 2010 +0200

    s3-printing: fix buildwarning in publishing code after registry changes.
    
    Guenther

commit 718718d0e7d4ffd1e706a2896cc385ae6dba24e2
Author: Simo Sorce <idra@samba.org>
Date:   Wed Apr 28 10:23:48 2010 -0400

    s3-lanman: Migrated to rpc_connect_spoolss_pipe().
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 8aa96566a96413384b7c8af0143c4ed1af100492
Author: Simo Sorce <idra@samba.org>
Date:   Wed Apr 28 09:51:12 2010 -0400

    s3-rpc_server: Created a per connection spoolss pipe.
    
    This way all code can reuse the same connection to spoolss
    and not have to deal with the creation of a new pipe all over the
    code every time we need to ask a service off spoolss.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 83b2fd30215c5286f0f05bddce76bd5e0959c5c8
Author: Kai Blin <kai@samba.org>
Date:   Wed May 26 14:09:39 2010 +0200

    s3-waf: Build smbclient binary

commit 59f3c4ec591e21235650e7e8bfae2540e423c533
Author: Kai Blin <kai@samba.org>
Date:   Wed May 26 14:09:06 2010 +0200

    s3-waf: Fix the naming of some variables introduced recently

commit c2021e4211ee1c4d840995d3adaf3e2494e35719
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed May 26 04:22:34 2010 +0300

    s4/test: Connect SAMR and LDARPC pipes before calling libnet_ functions
    
    In multi-DC environment, NBT name resolution may resolv
    domain name to any of DCs.
    This make this test to fail, as we are modifying the user account
    on one DC and query user info immediately after that on another DC.

commit de60cbb6e75fb1f6fe42fd0e86204d304911d30c
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed May 26 13:32:13 2010 +0300

    s4/test: remove unused code
    
    There is no need anymore to modify samAccountName
    of the testing user to original value as test_cleanup()
    will spot the right samAccountName to delete

commit 5444272f89785b9c7a63b197b89bf8fc40c39284
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed May 26 13:27:07 2010 +0300

    s4/test: make test_cleanup() in libnet_user library more robust
    
    test_cleanup() is called always with RDN name of the user to be deleted.
    When modify-user test fails however, we end up with a user
    with RDN = libnetusertest and samAccountName = random_name.
    This way we can not delete the user and the error message is
    quite misleading (I've spent a *lot* of time trying to figure out
    if the database is corrupted because of this error).

commit bbdb8384220f3fa51ded65d89fdab0496ad3da25
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue May 25 17:24:45 2010 +0300

    s4/test: rename enum test_fields{} member names to be more descriptive

commit 644593d30ecddec27f0a48340d74db7cf164bfc3
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat May 22 05:03:16 2010 +0300

    s4/test: Replace hand-made field count to test
    
    This patch replaces hand-make count of fields to be tested
    with defines for FIRST-LAST value for corresponding fields
    to test with.
    
    As a side-effect, 'acct_flags' is now included in tests.

commit 2bca048367456b09d16f51405373fa33be6eeca3
Author: Björn Jacke <bj@sernet.de>
Date:   Wed May 26 10:18:03 2010 +0200

    s3:configure: use the right AC_CACHE_CHECK variable

commit 3c8dc5cd214c58747bfbbd72a8d05fc50454585a
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 21 12:29:22 2010 -0400

    s4:smbd: Use tstream_npa_accept_existing to accept named pipe connections
    
    Pair-programmed-with: Stefan Metzmacher <metze@samba.org>

commit 2e171239f9abbadae0363818ce730df8f0eaada2
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 21 10:34:58 2010 -0400

    s4:smbd: Add tstream to the stream_connection structure

commit b7159e6ffd9f2c907301ce4d3e6ba3ff01c8a1f6
Author: Simo Sorce <ssorce@redhat.com>
Date:   Wed May 19 17:02:52 2010 -0400

    named_pipe_auth: implement tstream_npa_accept_existing_send/recv
    
    Pair-programmed-with: Stefan Metzmacher <metze@samba.org>

commit 9e194cd673a0d0a56cd064bab38cbf30b468999d
Author: Kai Blin <kai@samba.org>
Date:   Wed May 26 00:16:10 2010 +0200

    s3-waf: Check for additional options on *xattr

commit 5a023e73f7b1e788b49a05318b8de264aca085f0
Author: Kai Blin <kai@samba.org>
Date:   Tue May 25 23:57:41 2010 +0200

    s3-waf: Add darwin to the host_os-specific checks

commit b2546ee5571e644d3cb784f33517bf9f28c134d7
Author: Kai Blin <kai@samba.org>
Date:   Tue May 25 23:53:04 2010 +0200

    s3-waf: Don't hardcode the name of the awk executable in wscript_build

commit 475531c9bb6c2d4b522a77d0ced09a9775704085
Author: Jeremy Allison <jra@samba.org>
Date:   Tue May 25 11:39:46 2010 -0700

    Standardize debug messages for read and write.
    
    Jeremy.

commit aa51fa0ce34cc36ad757bb5ab1450c37631bb082
Author: Michael Adam <obnox@samba.org>
Date:   Tue May 25 17:28:05 2010 +0200

    s3:fix the waf build after registry changes.

commit f12028a3fd5c64bc8e13996cb9a18a19ec0929e0
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 25 12:43:00 2010 +0200

    s3-net: fix a "dereferencing type-punned pointer will break strict-aliasing rules" warning.
    
    Guenther

commit 8e41f2e66a6be425e161ee2ec1cea386332a6186
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 25 12:27:02 2010 +0200

    s3-waf: very simple start on getting krb5 build to work.
    
    Guenther

commit abf27643616a0ad2c0477869c2146d852ee57026
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue May 25 11:21:46 2010 +0200

    s4:torture/rpc/samr.c: Fix the "ValidatePassword" test
    
    It was failing randomly due to an uninitialised "status" variable.

commit af2cbaa700f8a56228131061ad10a1d219df1d83
Author: Michael Adam <obnox@samba.org>
Date:   Tue May 25 10:53:17 2010 +0200

    s3:registry: add C for substantial changes to reg_objects

commit 80293b80670d5106d1aa8822c2de081f7caecb64
Author: Michael Adam <obnox@samba.org>
Date:   Tue May 25 10:32:51 2010 +0200

    s3:registry:reg_objects: Remove use of uint{8,16,32} in favour of C99 types

commit 0b446e0842a9e79dcc290aa0841e56e0b0d2c495
Author: Michael Adam <obnox@samba.org>
Date:   Tue May 25 08:54:29 2010 +0200

    s3:registry: add comment header block to registry.h

commit 0fe1ff99a1aa6858ec0f1cfb1130b801238fc8e2
Author: Michael Adam <obnox@samba.org>
Date:   Tue May 25 01:00:37 2010 +0200

    s3:registry: move reg_objects.h to registry/ and use it only where needed
    
    Every place outside of registry/ where this is used, should probably
    be changed to use pure reg_api.c code.

commit 552e505cee966e7f734fb6bc8f5991bb5b73ba32
Author: Michael Adam <obnox@samba.org>
Date:   Tue May 25 00:42:50 2010 +0200

    s3:registry: move non-reg_objects definitions from reg_objects.h to registry.h

commit 75e691ae6baeac88878e2c8107ceb7e057fd4c5b
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 00:05:26 2010 +0200

    s3:registry: hide definition of regval_ctr and regval_blob in reg_objects.c

commit 0e8e5d5d6e7a1ab54cd108d70ade6aa884effe8f
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 15:10:48 2010 +0200

    s3:net rpc registry: use regval_ctr_init() instead of direct allocation

commit bf65ff5ea2b84f3f5406d840f759da87e146cc3a
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 15:08:58 2010 +0200

    s3:profiles: use regval_ctr_init() instead of direct allocation

commit 7b2f5f20daded43705f4321acf1b9311fa0fe6d4
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 15:07:47 2010 +0200

    s3:rpcclient:spoolss: use regval_ctr/blob accessor functions.

commit 112eddf107de7910224e5854fda9fea2bfd11087
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 14:48:31 2010 +0200

    s3:net_rpc_printer: use regval_blob/ctr accessor functions

commit c4de07a2597911e71b763a00ca7c72b68128fdbb
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 14:18:21 2010 +0200

    s3:net rpc printer: fix use of a possibly uninitialized variable

commit b5d0fdd96c835281378d21a7dc73b1fd8f100d9f
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 14:08:01 2010 +0200

    s3:nt_printing: use regval_ctr_init().

commit dcf2cc2806bcccef42adf84c8a60e875bc49efdf
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 14:06:20 2010 +0200

    s3:srv_ntsvcs: use regval_ctr/blob accessor functions

commit 1be8f5fba4d5059a43732e2ad65ab269132bd205
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 14:03:46 2010 +0200

    s3:services_db: use regval_ctr_init() instead of direct allocation

commit 53ba74ecee5ac0cb75f51f3af9f0c62119ed5367
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 13:57:35 2010 +0200

    s3:libads:use regval_ctr/blob accessor functions in ldap_printer.c

commit 5fbf935ffce6204843fc498afd02dc3ba1dd9ff5
Author: Michael Adam <obnox@samba.org>
Date:   Sun May 23 23:59:34 2010 +0200

    s3:registry: use regval_ctr/blob accessor functoin in reg_eventlog.c

commit a71dac488233a9d95df32361d10d96dde951988c
Author: Michael Adam <obnox@samba.org>
Date:   Sun May 23 23:58:28 2010 +0200

    s3:registry: user regval_ctr/blob accessor functions in reg_backend_db.c

commit 0d20053f101f21f584f5bf5562ffc767979081db
Author: Michael Adam <obnox@samba.org>
Date:   Sun May 23 23:56:40 2010 +0200

    s3:registry: use regval_ctr/blob accessor functions in reg_api.c

commit 987514d98d3cb8711b5c56b5416fa690ecb3b8eb
Author: Michael Adam <obnox@samba.org>
Date:   Sun May 23 22:55:12 2010 +0200

    s3:registry:reg_objects: add regval_ctr_set_seqnum()

commit 6b331321e3d2bdf67c7acd63138b62fcf7cc5208
Author: Michael Adam <obnox@samba.org>
Date:   Sun May 23 22:53:44 2010 +0200

    s3:registry:reg_objects: add regval_ctr_get_seqnum()

commit e0d5bccfd381ebb83ee7d626ee94087d47f4b8dd
Author: Michael Adam <obnox@samba.org>
Date:   Sun May 23 22:47:53 2010 +0200

    s3:registry:reg_objects: add regval_ctr_init()

commit 97846edfa59b95572d176981bb4bab6a5c06b61c
Author: Michael Adam <obnox@samba.org>
Date:   Tue May 25 00:31:01 2010 +0200

    s3:registry: move definition of registry_hook to reg_init_full.c - it's only user

commit e829b42978d91cf8a5ec67cd322e66a538f7fd75
Author: Michael Adam <obnox@samba.org>
Date:   Tue May 25 00:15:52 2010 +0200

    s3:registry: extract registry_pull/push_value prototypes into own header
    
    reg_util_marshalling.h and use them only where needed.

commit 36b74e03cfec6bb5aaa7c3909c115629f0b076b1
Author: Michael Adam <obnox@samba.org>
Date:   Tue May 25 00:08:15 2010 +0200

    s3:registry: rename lib/util_reg_api.c to registry/reg_util_marshalling.c

commit 773255ba504201e5ec1c34dbe30f40fd2bc0447d
Author: Michael Adam <obnox@samba.org>
Date:   Tue May 25 00:04:13 2010 +0200

    s3:registry: rename reg_util.{c,h} to reg_util_internal.{c,h}

commit f3053739b7e62e4749821bf2283d67ec379b1abc
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 23:37:09 2010 +0200

    s3:registry: move prototype registry_create_admin_token() to new header reg_util_token.h
    
    and use it only where necessary.

commit e3f7fab668c1bf1366257f64a5099cca919ca358
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 23:27:57 2010 +0200

    s3:registry: move registry_create_admin_token() to new reg_util_token.c

commit 847a19df946432558e75a6f81f0a761407114f45
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 23:06:27 2010 +0200

    s3:registry: extract reg_eventlog prototypes to header of their own
    
    and use them only where needed.

commit 5a92d88f38dc9fc65db7e6451eae2d22da04463e
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 22:59:04 2010 +0200

    s3:registry: extract reg_perfcount prototypes into header of their own.
    
    And use them only when necessary.

commit b94267aa3f83ec604e8b242006e09ecf4f7d5e57
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 22:49:42 2010 +0200

    s3:registry: extraxt the reg_dispatcher prototypes into their own header.
    
    And use them only where needed.

commit d335f292ce10824d483eff8d34fb0444e3d91f23
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 22:42:00 2010 +0200

    s3:registry: extract the reg_backend_db prototypes into their own header.
    
    And use them only where needed.

commit 9ccf66379a946cef87d915c5f0f7758adb11a4d6
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 22:19:17 2010 +0200

    s3:registry: adapt callers of regval_ctr_addvalue to uint8 * instead of char *

commit 70a81796fca29d3e924ab6a9396b1a4ab344a730
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 15:15:33 2010 +0200

    s3:registry: fix regval_ctr_addvalue() to take data as uint8 *, not char *.

commit f7f9ce30caa838f8408faa4bddcaebe2e266a0e4
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 24 15:00:29 2010 +0200

    s3:registry: fix data_p arg of regval_compose to be uint8 * instead of char *

commit 4ae77b2ef9ef5f936055b03a7fb96231a069683b
Author: Michael Adam <obnox@samba.org>
Date:   Sun May 23 16:11:13 2010 +0200

    s3:registry: extract the reg_util prototypes into their own header.
    
    And use them only where needed.

commit c682fd65b20e6b17150b3a57bebb222767c60796
Author: Michael Adam <obnox@samba.org>
Date:   Sun May 23 16:00:35 2010 +0200

    s3:registry: remove superfluous comments from registry.h

commit a4efda959af36e0611c5204852dc1eea3f0310bf
Author: Michael Adam <obnox@samba.org>
Date:   Sun May 23 15:57:27 2010 +0200

    s3:registry: extract the reg_util_legacy prototypes into their own header.
    
    And use them only where necessary.

commit 14a025062ee2923aac4f9e57c05a9004ddf55856
Author: Michael Adam <obnox@samba.org>
Date:   Sun May 23 15:25:00 2010 +0200

    s3:registry: extract the reg_cachehook prototypes into their own header.
    
    And use them only where necessary.

commit 9c5d7c789664d15017a837ad735b79e3b0ea4479
Author: Michael Adam <obnox@samba.org>
Date:   Sun May 23 13:32:08 2010 +0200

    s3:registry: protect registry.h from multiple inclusion

commit d59d9dfb90c67a5332ca76f38702ba6bacc0da76
Author: Michael Adam <obnox@samba.org>
Date:   Sun May 23 13:28:05 2010 +0200

    s3:registry: add C to reg_cachehook, confessing considerable changes in 2008

commit 8eed328cb5b9585fc6c20cfc94d64568cd30b055
Author: Michael Adam <obnox@samba.org>
Date:   Tue May 25 09:49:04 2010 +0200

    s3:fix configure after change "add Werror_FLAGS for IBM's xlc"
    
    For me, 24b3725407f1a67e13a7646d2e3f26ed1e4735ff broke configure.
    The fix in f634450b67d2a084c41a63c0e94eb47adb90e101 is not complete yet.
    After staring at the change a bit, tt seems to me that the
    code inserted was just misplaced by one line.
    
    Michael

commit f634450b67d2a084c41a63c0e94eb47adb90e101
Author: Björn Jacke <bj@sernet.de>
Date:   Tue May 25 09:43:57 2010 +0200

    s3: fix the configure run

commit ff0872d59d78ad42212c88313ef924ea4eb7a8a1
Author: Björn Jacke <bj@sernet.de>
Date:   Mon May 24 23:34:00 2010 +0200

    s3:configure: turn "error warnings" into errors
    
    By default "Missing argument(s)" is just an "error warning" for xlc :-)
    The change to turn "error warnings" into errors should fix bug #7427.

commit 24b3725407f1a67e13a7646d2e3f26ed1e4735ff
Author: Björn Jacke <bj@sernet.de>
Date:   Mon May 24 23:28:44 2010 +0200

    s3:configure: add Werror_FLAGS for IBM's xlc

commit 189950ce0615806b20a5536e6621d541044be42d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 24 22:01:36 2010 +0200

    s4:dsdb_enum_group_mem - use "unsigned" counters
    
    "size_t" counters aren't really needed here (we don't check data lengths).
    And we save the result in a certain "num_sids" variable which is of type
    "unsigned".

commit 4d76c0aa80e58ce944419bf36c695e7104c73712
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 24 22:00:54 2010 +0200

    s4:dsdb_lookup_rids - "unsigned" counters fit better than "signed" in this case

commit 9696bba1d7e8e71ca1d186b174dfa13ac418c5c9
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 24 21:53:34 2010 +0200

    s4:dsdb_add_user - check the "cn"/"account_name" length (should be >= 1)
    
    This needed by the "cn_name_len"-1 accesses.
    
    And use a "size_t"-typed variable for storing it (length specificators should
    always be stored using "size_t" variables).

commit 2a91b00b9217b9fe0caf4c848a433eff1d81d75c
Author: Jeremy Allison <jra@samba.org>
Date:   Mon May 24 11:03:42 2010 -0700

    Add in support for the NTLMSSP version reply.
    
    Jeremy.

commit 4a653798df86fa3a62a21768db912434eb10dcc6
Author: Volker Lendecke <vl@samba.org>
Date:   Sun May 23 15:39:29 2010 +0200

    fix a typo

commit a042e2413797965f85e9ae5099a0ac628418fcea
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 24 17:25:34 2010 +0200

    ldb-waf: Install manual pages for ldb in standalone build, install
    python module.

commit 1d66cb0e204fa5527f35f58d82bda8b7850e7118
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 24 15:03:17 2010 +1000

    s4:winbind Give more detail on the parameters when reporting idmap failure

commit dceca3d8ae0220bb8d23325a0a771533bf946217
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 24 14:58:07 2010 +1000

    s4:winbind Change idmap API to match that used by the source3/ idmap subsystem
    
    This makes it much easier to write an idmap module that bridges the gap.
    
    We should finish the change to the new API, but for the moment this
    choke point works for the conversion.
    
    Andrew Bartlett

commit 9573c35636806a0ce013c32e611603c0e8a480fd
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 24 11:21:29 2010 +1000

    s4:winbind Change include guard so as not to conflict with idmap.h in source3

commit e7fe4d388516e7bf496056ae9828a4219d5ff7db
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 24 10:52:18 2010 +1000

    s4:winbind Fix up includes after seperation of idmap.idl from winbind.idl

commit 285647664cf60baa9f8f1a52bea0c55aa01b4e85
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 24 10:16:34 2010 +1000

    s4:idmap Adjust code to new idmap structure names and layout.
    
    Andrew Bartlett

commit 974ed9cf2c10ab3384c1070c22f5cd42908c95f1
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 24 10:15:04 2010 +1000

    s4:idmap Seperate idmap structures from winbind.idl and match to source3/ idmap
    
    These structures now match those in use in the source3 code.  I'm not
    sure if this is the better API or not, but it is far, far safer to
    remove a pointer than to add one.
    
    Andrew Bartlett

commit f6aa0902025dc562748499d60f3257a0f47329c8
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 24 00:57:32 2010 +1000

    s4:samr Push most of samr_LookupRids into a helper function
    
    This is a rewrite of the lookup_rids code, using a query based on the
    extended DN for a clearer interface.
    
    By splitting this out, the logic is able to be shared, rather than
    copied, into a passdb wrapper.
    
    Andrew Bartlett

commit c6ffd884d95eadf634b2e596d8fe5cb952f52ee2
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 21 08:42:21 2010 +1000

    s4:samr Push most of samr_QueryGroupMember into a helper function
    
    This is a rewrite of the group membership lookup code, using the
    stored extended DNs to avoid doing the lookup into each member to find
    the SID
    
    By splitting this out, the logic is able to be shared, rather than
    copied, into a passdb wrapper.
    
    Andrew Bartlett

commit 20d2847492f9ccdb159df91315be9dcc142b5d83
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 21 08:21:37 2010 +1000

    s4:samr Move most of samr_CreateDomAlias into a helper function
    
    This allows this logic to be shared, rather than copied, into a passdb
    wrapper.
    
    Andrew Bartlett

commit fc04e565b08012e2e9926b055b6a8c5f5dccc080
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 21 08:17:44 2010 +1000

    s4:samr Split most of samr_CreateDomainGroup into a helper function
    
    This allows this logic to be shared, rather than copied, into a passdb
    wrapper.
    
    Andrew Bartlett

commit 43c931b2d453537f0da0ef2abda14c80d8d91dc9
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 21 08:14:53 2010 +1000

    s4:samr Split the guts of samr_CreateUser2 into a helper function
    
    This allows this logic to be shared, rather than copied, into a passdb
    wrapper.
    
    Andrew Bartlett

commit e0d141bd4661482f374cbd95d866be587307ecd2
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 21 08:11:13 2010 +1000

    s4:dsdb Allow a NULL search expression in dsdb_search()
    
    The NULL search expression expands to (objectClass=*), but %s expands
    NULL to (NULL) which doesn't parse...
    
    Andrew Bartlett

commit 6c726745a4253f35a5d2e016185ba5624fd40644
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 18 20:34:20 2010 +1000

    s4:ntvfs rename notify.idl to s4_notify.idl until we can merge this IDL
    
    This IDL is almost common, but the source3 version has a
    hand-marshalled server_id.  The s3compat build has problems with two
    different idl files of the same name.
    
    Andrew Bartlett

commit 8e1e6b0112c06b8587c0823a62d2103c047f8310
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 24 12:42:32 2010 +0200

    s4:LogonGetDomainInfo - allow to set DNS hostname for the first time
    
    Otherwise it obviously can never be set.

commit ee524d3182de85dff2febaad2481e37ad5a8be8f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 24 11:06:29 2010 +0200

    s4:"rdn_name" LDB module - fix the creation of the RDN attribute (try to normalise it)
    
    And return always the correct error codes on the failed add operations (should
    anyway be ERR_OPERATIONS_ERROR - therefore no behaviour change).

commit 40ced1a3be5ab04c7431ecda2c7924336a852994
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 24 10:38:16 2010 +0200

    s4:setup/*.ldif - remove unneeded "cn" attributes
    
    Should be generated automatically

commit 8e069e245bdda1303e9c2bd3b9e30be98f9d8680
Author: Björn Jacke <bj@sernet.de>
Date:   Wed May 12 18:17:30 2010 +0200

    s3: major overhaul of compiler and linker flags for HP-UX builds
    
    this will fix a number of things like shared library builds. That in turn will
    probably trigger some other build bugs...

commit 4c659433c09823c2ea34ac73fad3686f917ac609
Author: Björn Jacke <bj@sernet.de>
Date:   Mon May 24 13:41:12 2010 +0200

    s3:Makefile: set PIE flags also for nss_winbind

commit 2466dc7eaf52165a87a1e0311490034c70536a6e
Author: Björn Jacke <bj@sernet.de>
Date:   Wed May 12 19:05:37 2010 +0200

    s3:build: remove CFLAGS from LDSHFLAGS, SHLD has them already

commit 5f0a2a15d89089f78875676099cd8a23a18ace9e
Author: Björn Jacke <bj@sernet.de>
Date:   Mon May 24 12:21:40 2010 +0200

    s3:Makefile: position independency is also needed for shared libs

commit 857ca4176a3f5096629d1aa8a7cd12dd9e224ac1
Author: Björn Jacke <bj@sernet.de>
Date:   Sat May 22 16:48:16 2010 +0200

    s3:build: don't use pieflags twice - ldflags already have them

commit d12768cc0ae52d95ffd83070948c83af4ce8704b
Author: Volker Lendecke <vl@samba.org>
Date:   Mon May 24 11:23:42 2010 +0200

    s3: Fix a typo found by ITPFS oota <t-oota@dh.jp.nec.com>
    
    Thanks!

commit 792743cfab19ad273c75a2f8d54fe2dd60de0240
Author: Thomas Nagy <tnagy2pow10@gmail.com>
Date:   Sun May 23 21:31:53 2010 +0200

    solve the error "ldb.inst.h does not exist"
    
    The error happens when headermap.txt is not available
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit eec93985d1d31c86509020fb03515758531a098f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun May 23 17:55:48 2010 +0200

    build: get the SONAME right for installed libraries

commit bd8e3cf85586c9d2fadef40c861221073923c91c
Author: Thomas Nagy <tnagy2pow10@gmail.com>
Date:   Sat May 22 14:35:50 2010 +0200

    Substitute the pidl files without using 'headermap.txt'
    
    The headers generated by pidl contain references to bin/default. Those paths
    may be replaced automatically.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 6e7d39f4dd29d090244a51df9f59a42d7cb060d5
Author: Volker Lendecke <vl@samba.org>
Date:   Sun May 23 11:44:30 2010 +0200

    s3: Another non-gnumake fix
    
    AC_OUTPUT_COMMANDS must be called before AC_OUTPUT and
    $MAKEFILE is not defined in ./config.status

commit 7eff96cb43587f03a6735e99492be6d775c5d7ef
Author: Volker Lendecke <vl@samba.org>
Date:   Sun May 23 00:16:52 2010 +0200

    s3: Factor out compiler-independent defines

commit 9d1a08032bdedf6606beea55167ded615a9c657f
Author: Volker Lendecke <vl@samba.org>
Date:   Sun May 23 00:00:41 2010 +0200

    s3: Next step to fix the build on OpenSolaris

commit 086c6c0e9a56f7e6dca6c1398e210b8c6225e4ed
Author: Volker Lendecke <vl@samba.org>
Date:   Sat May 22 19:29:13 2010 +0200

    s3: Attempt to fix the non-gnumake build
    
    Björn, please check!

commit 8040bc608a93c4a78064acf55586d6605377f23e
Author: Simo Sorce <ssorce@redhat.com>
Date:   Sat May 22 12:40:13 2010 -0400

    torture: fix typos

commit 72d2c370e247d1fffb4d4fc6e558168b4cd4e3dc
Author: Volker Lendecke <vl@samba.org>
Date:   Sat May 22 13:08:06 2010 +0200

    s3: Remove unreachable code

commit 796904e983151cfa46a89a0be62f8940b9655f4a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri May 21 13:29:14 2010 +0200

    s4:ldb_controls: make it possible to pass arbitrary control via the command line
    
    --controls=local_oid:1.3.6.1.4.1.7165.4.3.7:1
    
    To specify the DSDB_CONTROL_PASSWORD_HASH_VALUES_OID control as critical.
    
    metze

commit d7542b58fcb0d9a67a20bde5bdf3aec6fd633237
Author: Jeremy Allison <jra@samba.org>
Date:   Fri May 21 23:59:54 2010 -0700

    If using fake oplocks, use the correct SMB2 type code for "no oplock".
    
    Jeremy.

commit 625ffba8ecaf0895382ce2469476e15480415248
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri May 21 17:33:05 2010 +0200

    s4:libnet: use the new generated config from the provision for the self_join
    
    This fixes net vampire with the --target-dir option.
    
    metze

commit 82484461e3f8f9bba351bbb5f5178c6f17dd049d
Author: Jeremy Allison <jra@samba.org>
Date:   Fri May 21 17:12:40 2010 -0700

    Don't forget brackets around bitwise tests.
    
    Jeremy.

commit b2a7ad8c951562d1aea6663064784da0b0a98565
Author: Jeremy Allison <jra@samba.org>
Date:   Fri May 21 16:56:10 2010 -0700

    Make DFS work over SMB2.
    
    Jeremy.

commit 6af5e7cde198ac21ed8030fd3744ab0ae7f15fd3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri May 21 23:23:58 2010 +0200

    s4:torture/rap/rap.c - quiet discard const warning

commit bd3e70c1bea906e942755cedfbcb467356b2a483
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri May 21 23:19:23 2010 +0200

    s4:torture/raw/open.c - remove unused variables and fix error handling

commit a05ac3039b34f07b730b673c3b2c1a0a923cbd35
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri May 21 23:16:43 2010 +0200

    s4:ntvfs/ipc/vfs_ipc.c - add more "const" in order to fix warnings

commit 68363049579c408e56170933cd0b5094934f7c20
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri May 21 23:14:19 2010 +0200

    s4:ntvfs/posix/pvfs_wait.c - fix a "calculated value unused" warning
    
    The calculated value is "req" (!= NULL) if "talloc_reference" did work correctly
    or it is NULL if we ran out of memory.

commit 366333c08fe1d26276a90391dcec0526a65cb2a2
Author: Roel van Meer <rolek@bokxing.nl>
Date:   Fri May 21 14:17:17 2010 -0700

    Fix bug #7448 - smbd crash when sambaLMPassword and sambaNTPassword entries missing from ldap.
    
    Protect SMBsesskeygen_ntv1() from a NULL pointer.

commit efb29227fa46e2c9420b3158ef7422aea4f5846e
Author: Jeremy Allison <jra@samba.org>
Date:   Fri May 21 12:08:18 2010 -0700

    Make krb5 over SMB2 identical to the way we handle it in SMB1.
    
    Jeremy.

commit f576cc5410a9074a769ca1fbf786a142449e6058
Author: Jeremy Allison <jra@samba.org>
Date:   Fri May 21 11:40:54 2010 -0700

    Doh! If you're going to give advice in "useage", make sure it's correct.
    
    Jeremy.

commit 03f22005f9692feee150cf51c70d09ce2100ae02
Author: Jeremy Allison <jra@samba.org>
Date:   Fri May 21 10:35:22 2010 -0700

    Add comments to usage error message for -k to make it obvious what this needs.
    
    Jeremy.

commit 8c9ea2ba7ce2536ebc9f5342a050eb5bc63feac3
Author: Jeremy Allison <jra@samba.org>
Date:   Fri May 21 10:32:46 2010 -0700

    Set SMB2 max read/write/trans sizes to Win7 compatible - 1Mb.
    
    Jeremy.

commit 28b8d421364a1d55bf28a2552f58b5e4325d2bbb
Author: Ira Cooper <samba@ira.wakeful.net>
Date:   Thu May 20 11:13:37 2010 -0400

    s3: added support for fake oplocks in SMB2.

commit dd3c367153353407f41642b6da4549057cc4c1e7
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 21 18:05:48 2010 +0200

    s4-smbtorture: Fix NetUserPasswordSet2 RAP tests.
    
    Guenther

commit 94d41ddc8f7c97069f0d3c331f65932365c5eb8e
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 21 18:05:10 2010 +0200

    s4-smbtorture: fix smbcli_rap_netuserpasswordset2().
    
    Guenther

commit 032c0515233551bf1d170a8b0a1fe970425d69c5
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 21 18:02:45 2010 +0200

    rap: fix rap_NetUserPasswordSet2 IDL.
    
    Guenther

commit 7c979adfbf9433ac00b24e6bcd7adebfd3b74b8c
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 21 18:06:51 2010 +0200

    s3-net: fix net_ads_gpo() for non-ads case.
    
    Guenther

commit a4719a4e12c69f2602bb6063f635c66d3d4848a0
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri May 21 05:36:35 2010 +0300

    s4-drsuapi: Sort ATTID definitions by ATTID value

commit ffc46769b35083f35a8ff2309e4a066502af9441
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri May 21 05:27:04 2010 +0300

    s4/drsuapi: Yet another set of predefined ATTIDs

commit b6b38222894014de029131eb5b6d573294af314e
Author: Andreas Schneider <asn@samba.org>
Date:   Thu May 20 14:00:57 2010 +0200

    s4-torture: Improved the winreg symlink test.
    
    This test is still disabled as we don't know how to remove a symbolic
    link. It looks like there only DeleteKey functions which can work on a
    handle are able to delete a symbolic link.
    
    Pair-Programmed-With: Michael Adam <obnox@samba.org>

commit 74d0fc10fd646e493a98a00e524f17e9c4f3df3f
Author: Andreas Schneider <asn@samba.org>
Date:   Fri May 21 12:49:23 2010 +0200

    s4-torture: Disable the security descriptor tests.

commit 225bd02dab1a0656461d3d5e30ad03034e8c64f1
Author: Andreas Schneider <asn@samba.org>
Date:   Fri May 21 12:42:55 2010 +0200

    s4-torture: Try to fix the winreg tests.

commit 5fe476b6821b731db11225043756470c45c7f66c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri May 21 11:30:20 2010 +0200

    s4:ldb: add --controls support to ldbedit
    
    metze

commit ab093ffe4637db65afb3779f592f20dd55f4e5f3
Author: Thomas Nagy <tnagy2pow10@gmail.com>
Date:   Fri May 21 12:48:11 2010 +0200

    wafsamba: Disable the abi checks when gdb is not available
    
    Try to find gdb during the configuration, if gdb is missing, disable
    the abi checks.
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 50b472a772edeb23ec97c3878054fb437db24f9b
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 21 20:07:18 2010 +1000

    s4:libcli/ldap Update headermap.txt (autotools build) and wscript_build for libcli_ldap.h
    
    It took a little while to find where to update this...
    
    Andrew Bartlett

commit 124047877d3287b9cbc145682c5e5ce5606d682b
Author: Michael Adam <obnox@samba.org>
Date:   Fri May 21 10:56:37 2010 +0200

    s4:torture:winreg: improve error messages in test_HKLM_wellknown

commit 67439d4297781261ac469d7c9252677f36d8c54a
Author: Michael Adam <obnox@samba.org>
Date:   Fri May 21 10:53:35 2010 +0200

    s4:torture:winreg: improve error messages in test_QueryValue_full
    
    So that one has a chance to tell what part of the test failed. And why.

commit cba7f8b8273e661d3c43652900d93e5a8eab4e5f
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 21 11:25:01 2010 +1000

    s3:dom_sid Global replace of DOM_SID with struct dom_sid
    
    This matches the structure that new code is being written to,
    and removes one more of the old-style named structures, and
    the need to know that is is just an alias for struct dom_sid.
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a92b653af964364ee438c6ee69a87eb7603ceab0
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 21 10:38:04 2010 +1000

    s3:passdb Remove use of uint8 uint16 and uint32 in favour of C99 types
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit c8a23147fe12c693fd7944af7bb09b88393789d9
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 21 17:39:15 2010 +1000

    s4:libcli/ldap Rename ldap.h to libcli_ldap.h
    
    It is a problem if a samba header is called ldap.h if we also want
    to use OpenLDAP's ldap.h
    
    Andrew Bartlett

commit 82c97e0ab840d8acfc81c3096bebc8c3d3e0bde3
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 21 16:38:44 2010 +1000

    s4:auth Remove un-needed headers.

commit 9453a0f88f1d0c337a3c1b24a2567e2dde3466e8
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 21 16:01:34 2010 +1000

    s4:auth Fix previous commit - segfault in determinging a user's groups
    
    The previous commit didn't include these vital fixes.
    
    Andrew Bartlett

commit 80b4d50603fb54011396f0d868ffc9907247d2af
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 21 15:04:36 2010 +1000

    Revert "Make -k a simple non-bool option."
    
    This reverts commit 2bbf055dbb15ea99b80ae66adc906ad5494a3999.
    
    This change broke 'make test', because the current syntax is deliberate
    and an integral part of how Samba4 uses Kerberos.
    
    If a change like this is to be implemented, then careful review of all
    our test scripts must be taken first, and then new options such as
    --dont-use-kerberos, --may-use-kerberos and --must-use-kerberos
    should be added.
    
    Andrew Bartlett

commit 91807d9dd59b3b99250e5e52f84748710be3c360
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 21 15:02:22 2010 +1000

    s4:auth Error out when a memberOf DN does not have a SID
    
    We previously segfaulted if this was not the case.
    
    Andrew Bartlett

commit 783cd32a75608b87952f062da7b83351bac69348
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 21 01:25:16 2010 +0200

    s4-smbtorture: add kernel_mode_registry_path().
    
    Guenther

commit e6047c163449c61de7f6883e3d5d40e1c2a30454
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 21 00:28:36 2010 +0200

    s4-smbtorture: Fix volatile test in RPC-WINREG.
    
    Guenther

commit 304271bd8feb77891b57ed4db3b7c4070bfa9a1f
Author: Gregor Beck <gbeck@sernet.de>
Date:   Wed May 19 11:37:23 2010 +0200

    s3: registry: add tests with empty valuename
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit 12ce1643849a4cbbf1435d4f9ab7b1a951f86d07
Author: Gregor Beck <gbeck@sernet.de>
Date:   Wed May 19 12:20:10 2010 +0200

    s3: registry: let test_setvalue use getvalueraw instead of enumerate
    
    simplifies code, prerequisite to handle empty valuenames
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit 0a173444ac7bba8d69bbc80792215930ce65fdc3
Author: Gregor Beck <gbeck@sernet.de>
Date:   Wed May 19 11:16:54 2010 +0200

    s3: registry: fix query empty valuenames
    
    Remove a check introduced with commit 80c2446321c519797a57b8006942a983f8481d79
    wich causes queries for values with empty name to fail. Empty valuenames are
    used for the so called default value of a key.
    
    Signed-off-by: Michael Adam <obnox@samba.org>

commit 136ea7b91d0a712bf78ee325f06ab2d75f712507
Author: Kai Blin <kai@samba.org>
Date:   Thu May 20 23:05:21 2010 +0200

    s3-waf: Actually make --with/--without-swat work

commit c926acf7f1b49191b18f04a9caf484d8ef1033b9
Author: Kai Blin <kai@samba.org>
Date:   Thu May 20 22:58:59 2010 +0200

    s3-waf: Really disable winbindd build when --without-winbind is specified

commit 2bbf055dbb15ea99b80ae66adc906ad5494a3999
Author: Jeremy Allison <jra@samba.org>
Date:   Thu May 20 14:59:34 2010 -0700

    Make -k a simple non-bool option.
    
    Jeremy.

commit 2d46e07c47418fdec5239d65032277c7917a44a4
Author: Jeremy Allison <jra@samba.org>
Date:   Thu May 20 14:30:44 2010 -0700

    Fix what looks like a cut-and-paste error in our read_negTokenInit() function.
    
    We should never be calling asn1_push_XXX functions inside an asn1
    reading function. Change asn1_push_tag() -> asn1_start_tag() and
    asn1_pop_tag() -> asn1_end_tag(). This allows us to connect to a
    NetApp filer at the Microsoft plugfest.
    
    Andrew PLEASE CHECK !
    
    Jeremy.

commit 8a4525d9fa08959a46afa88e2c785e1bc291b941
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 20 23:40:30 2010 +0200

    waf: fix the build of nsswitch libwbclient.
    
    Guenther

commit 7c6be166d0ef799a1897c29d5c1c1cd9998ff5d3
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 20 22:13:48 2010 +0200

    s4-smbtorture: use push_reg_sz/push_reg_multi_sz in spoolss tests.
    
    Guenther

commit 393e1495af642af4525c7f66d869b0685731b3aa
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 20 20:50:31 2010 +0200

    s4-smbtorture: pass down hkey to main keytest in RPC-WINREG.
    
    Guenther

commit ff3d2bef113783a561bdba1eace41d9bd5fce337
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 20 21:57:53 2010 +0200

    s4-smbtorture: print local_machine name in RemoteFindFirstPrinterChangeNotifyEx test.
    
    Guenther

commit 7370d036278d2cd0cb14267b5c2b0baa6e1788eb
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 20 20:49:44 2010 +0200

    s4-smbtorture: use push_reg_sz()/push_reg_multi_sz() in RPC-WINREG.
    
    Guenther

commit 29f549e3fb62b8b431aea5f9e53fc916ff121111
Author: Kai Blin <kai@samba.org>
Date:   Thu May 20 22:30:24 2010 +0200

    s3-waf: ndr string functions moved to top level

commit aca2b5461c47e6bb6449d7b09e36faa0025bb912
Author: Kai Blin <kai@samba.org>
Date:   Thu May 20 10:24:37 2010 +0200

    s3-waf: Fix the build after rebase

commit 73f6fed4d61f69cbbbd911e3c5549f39cea05ac7
Author: Kai Blin <kai@samba.org>
Date:   Fri May 14 11:03:19 2010 +0200

    s3-waf: more elaborate host_os check for STAT_ST_BLOCKSIZE

commit 9ab33162503ea5965cd7f34a9b5b9c1f13e75d0c
Author: Michael Adam <obnox@samba.org>
Date:   Wed May 12 23:48:10 2010 +0200

    s3-waf: fix linking of eventlogadm by adding cap as dependency

commit f35bafe39c9aac0c156636965bffa1ebe0b39225
Author: Michael Adam <obnox@samba.org>
Date:   Wed May 12 23:47:36 2010 +0200

    s3-waf: fix linking of swat by adding cap as dependency

commit c33ba1f9d1a5af5a2055cc28cd859bef75fa7eba
Author: Kai Blin <kai@samba.org>
Date:   Wed May 12 22:43:18 2010 +0200

    s3-waf: Fix build with ldap by adding a SMBLDAP subsystem

commit 17b136a79f94be5133e1fc93e31001fb102e6d2e
Author: Kai Blin <kai@samba.org>
Date:   Wed May 12 05:39:00 2010 -0600

    s3-waf: fix the winbindd build again

commit b6c5d5de379de1e1e5ada78021b3defba3ca3194
Author: Kai Blin <kai@samba.org>
Date:   Wed May 12 05:23:27 2010 -0600

    s3-waf: Fix up PIDL includes.
    
    Pair-Programmed-With: Stefan Metzmacher <metze@samba.org>

commit 9cc39ffb5673e17be78d3986c0cc56e4f1a2af32
Author: Kai Blin <kai@samba.org>
Date:   Wed May 12 04:32:30 2010 -0600

    s3-waf: Some files moved during the rebase

commit 5556deee7aabda43ee258d84670fcb9635632a47
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed May 12 04:31:27 2010 -0600

    s3-waf: Add autogeneration with PIDL

commit d704d5295461a2d287f3d69b43d355fc4cfa1489
Author: Kai Blin <kai@samba.org>
Date:   Wed May 12 04:27:49 2010 -0600

    s3-waf: Remove references to LDB
    
    Pair-Programmed-With: Stefan Metzmacher <metze@samba.org>

commit 1c6ba8551d74a469c80fdc666a8c795bd3a7bf52
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed May 12 04:23:10 2010 -0600

    s3-waf: Also include source4/ when looking for headers

commit 8e04ad2db1e3071e3297a315021fc5158134f575
Author: Kai Blin <kai@samba.org>
Date:   Tue May 11 17:44:25 2010 +0200

    s3-waf: build shared modules as subsystems

commit 2650198ff70320cc9f251f2ce881c25932bc0e95
Author: Kai Blin <kai@samba.org>
Date:   Tue May 11 17:14:54 2010 +0200

    s3-waf: autogenerate lists of static modules

commit e48b73fc67e7e57d6944722adf738bcc923cf1a6
Author: Kai Blin <kai@samba.org>
Date:   Tue May 11 17:13:05 2010 +0200

    s3-waf: clean up includes

commit 3ea211feb4b77633e22ecd09c8d653ccf892ec9f
Author: Kai Blin <kai@samba.org>
Date:   Tue May 11 17:11:41 2010 +0200

    s3-waf: create a SECRETS subsystem

commit 1e97982633a4a7652d7481a0e888de4fe85c7791
Author: Kai Blin <kai@samba.org>
Date:   Tue May 11 15:24:13 2010 +0200

    s3-waf: clean up dependencies a little

commit 997114564d1d8ec9e6f79be6e0cd557e34d04cb6
Author: Kai Blin <kai@samba.org>
Date:   Tue May 11 15:23:37 2010 +0200

    s3-waf: tdb includes are in lib/tdb/include

commit 6a32dbd857b892a1c71130fdcb58ec53d06ea4ef
Author: Kai Blin <kai@samba.org>
Date:   Tue May 11 15:00:43 2010 +0200

    s3-waf: fix eventlogadm build with winbind

commit 0e7e0397780a13b13649c910fe77709e4feedcf0
Author: Kai Blin <kai@samba.org>
Date:   Tue May 11 10:32:07 2010 +0200

    s3-waf: Autogenerate the static and dynamic init function calls

commit 25f33a3f8e92e2687db782b56ad794e8dee02986
Author: Kai Blin <kai@samba.org>
Date:   Tue May 11 10:31:22 2010 +0200

    s3-waf: add popt and tdb include dirs to the includes list

commit 63a30619b63d17347eda1c13e56ec200fa1ce853
Author: Kai Blin <kai@samba.org>
Date:   Tue May 11 10:30:25 2010 +0200

    s3-waf: Fix up the winbindd build

commit 015c09031e48877bda9b15d9334846d7fd43c98e
Author: Kai Blin <kai@samba.org>
Date:   Fri Apr 30 19:45:06 2010 +0200

    s3-waf: add eventlogadm binary

commit 07661287648e4764a0babf6f571e695c61957b41
Author: Kai Blin <kai@samba.org>
Date:   Fri Apr 30 14:43:57 2010 +0200

    s3-waf: Use a common subsystem for the kerberos client code

commit 149167f5748860e6795d11c6aceeb0149101d241
Author: Kai Blin <kai@samba.org>
Date:   Fri Apr 30 14:33:49 2010 +0200

    s3-waf: Use a common subsystem for samba-popt code

commit f242a31a43a0ff2d0be84553aca5e159aa138905
Author: Kai Blin <kai@samba.org>
Date:   Fri Apr 30 14:22:06 2010 +0200

    s3-waf: note that the options are broken

commit b2431163fccb996b390acbfd65d29d39f92b4679
Author: Kai Blin <kai@samba.org>
Date:   Fri Apr 30 14:21:28 2010 +0200

    s3-waf: replace all - with _ in the configuration option names

commit be712a8eea486d493d6e0c924d1d8e13312a52af
Author: Kai Blin <kai@samba.org>
Date:   Fri Apr 30 14:18:20 2010 +0200

    s3-waf: Build swat

commit 8f9a3c9eb2b79539d04c59ed4a5a570c692cd63c
Author: Kai Blin <kai@samba.org>
Date:   Fri Apr 30 14:17:30 2010 +0200

    s3-waf: build winbindd again

commit cf0cea838fd3565b81062a502732c249382a1149
Author: Kai Blin <kai@samba.org>
Date:   Fri Apr 30 11:25:52 2010 +0200

    s3-waf: fix up the LDAP objects if LDAP isn't built

commit 0cb99738ca81a54fab1c3c63bb24f3014314e925
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 06:43:01 2010 -0600

    s3-waf: install swat files

commit 5800e45fdd8bed7744481d7ec3671d701cbfb41b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 06:42:49 2010 -0600

    s3-waf: fixed install path for sbin binaries

commit e86b2127395d389be131629050e391e9f37507ab
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 06:42:20 2010 -0600

    s3-waf: fixed SWATDIR to match old build

commit 2261e8c0876dc1fa6eba3ccaf8341122ede67505
Author: Kai Blin <kai@samba.org>
Date:   Fri Apr 30 10:15:11 2010 +0200

    s3-waf: Fix the minimal build
    
    When using the internal zlib and popt, the dependencies and includes
    have to be adapted a bit

commit c59da6e9a5cd177aed8fac38bd170979339bae7f
Author: Kai Blin <kai@samba.org>
Date:   Fri Apr 30 02:07:28 2010 -0600

    s3-waf: Fix the build --with-ldap
    
    The LDAP source files as set by configure weren't detected correctly in the wscript_build
    Pair-Programmed-With: Stefan Metzmacher <metze@samba.org>

commit 4acb54c6a0a59ba03eeaa8807d114f8ec3743a9e
Author: Kai Blin <kai@samba.org>
Date:   Fri Apr 23 08:59:43 2010 +0200

    s3-waf: Fix global includes to fix waf configure --help output

commit 9496bdc04f942be117816746e9838c0e57fa759b
Author: Kai Blin <kai@samba.org>
Date:   Thu Apr 22 23:33:38 2010 +0200

    s3-waf: Introduce more subsystems to reduce build time

commit c8c54af69ea032a00f27750928df6cd129011eec
Author: Kai Blin <kai@samba.org>
Date:   Wed Apr 21 22:31:35 2010 +0200

    s3-waf: Don't build winbindd when --without-winbind is set

commit 23adc338fe3db0d975f12a2975133e14130b79a6
Author: Kai Blin <kai@samba.org>
Date:   Wed Apr 21 11:08:37 2010 +0200

    s3-waf: Get winbindd to build again with current master

commit 4478413da9cff9c9c054351477724265e7e5a9f8
Author: Kai Blin <kai@samba.org>
Date:   Wed Apr 21 08:07:50 2010 +0200

    s3-waf: Add dummy configuration option for pthreadpool

commit 81967f5087de6385142e1e3e05bbd17fd49c3691
Author: Kai Blin <kai@samba.org>
Date:   Wed Apr 21 08:04:12 2010 +0200

    s3-waf: Add dummy configuration option for utmp

commit f4ff7a298d99d5a0c20b7d4c6d092faf00c898f1
Author: Kai Blin <kai@samba.org>
Date:   Wed Apr 21 08:03:38 2010 +0200

    s3-waf: Add dummy configuration option for sendfile-support

commit cba7fd170cb08a8c200ca4d2fa5c19ba88213699
Author: Kai Blin <kai@samba.org>
Date:   Wed Apr 21 08:02:31 2010 +0200

    s3-waf: Add dummy configuration options for quotas

commit f4ebdc98c2439269341e468613c89d6ece7db465
Author: Kai Blin <kai@samba.org>
Date:   Wed Apr 21 08:00:52 2010 +0200

    s3-waf: Add dummy configuration option for PAM

commit 76e054ba988ec200ba140a6f9f5572d6c310bb40
Author: Kai Blin <kai@samba.org>
Date:   Wed Apr 21 07:58:44 2010 +0200

    s3-waf: Add configuration option for merged build
    
    This doesn't enable the merged build, but doesn't error out when the --disable-merged-build configuration option is set

commit 7ba5d2c012cf028b871d29409743b973382bdabe
Author: Kai Blin <kai@samba.org>
Date:   Sun Apr 18 10:08:25 2010 +0200

    s3-waf: Fix install location of testparm and wbinfo

commit 1defd6e2a8a80ce850f11bcc0401868fb3d92522
Author: Kai Blin <kai@samba.org>
Date:   Sun Apr 18 10:07:54 2010 +0200

    s3-waf: Build LDB as a subsystem

commit c332a13d743a6e949f4b8d40e7d9440f7cc598d4
Author: Kai Blin <kai@samba.org>
Date:   Sun Apr 18 09:30:59 2010 +0200

    s3-waf: build testparm and winbindd

commit 372818620248dfd48dd2cb2d49671a86e5564f6c
Author: Kai Blin <kai@samba.org>
Date:   Sun Apr 18 09:26:54 2010 +0200

    s3-waf dynconfig: s3 configfile default is $LIBDIR/smb.conf

commit eea89ddf8d5340458743f6fdfa746343169b00af
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 12 00:05:40 2010 -0600

    s3-waf: merged auth subsystem changes from master

commit c85008e0843f5b2af0a83ed0748af46873515446
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 12 00:40:54 2010 -0600

    s3-waf: move the KRB5_DEPRECATED check into lib/replace
    
    this needs to be with the krb5.h check

commit ca7226500ce108fb00aed6280992ecbda16b9726
Author: Kai Blin <kai@samba.org>
Date:   Mon Apr 12 07:21:41 2010 +0200

    s3-waf: Don't recurse into tsocket dir during configure

commit 730c57048edcc03480c3ff55de751d68775bd860
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 8 13:05:36 2010 -0600

    s3-waf: Add enable selftest configuration option

commit 0077761f7ec0e404e67ff602135e1b4189b4c5c6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 8 15:03:40 2010 -0600

    s3-waf: correctly handle the libcap dependency when libcap is not installed

commit fa48325bb65749af87106d4e19e29be1f91e6477
Author: Kai Blin <kai@samba.org>
Date:   Sun Apr 11 23:01:29 2010 +0200

    s3-waf: build wbinfo using waf

commit c7a17087402d5a177cd4b614e3c5255776e8c6d3
Author: Kai Blin <kai@samba.org>
Date:   Sun Apr 11 22:43:23 2010 +0200

    s3-waf: Add ctags command

commit b14d86f0a90672aaa4ffb831c11f1a7df3e239f6
Author: Kai Blin <kai@samba.org>
Date:   Sun Apr 11 22:05:50 2010 +0200

    s3-waf: Build nmbd using waf as well

commit 8e32f81d4d5ceee14b00fac97d529d372de220de
Author: Kai Blin <kai@samba.org>
Date:   Sun Apr 11 22:05:10 2010 +0200

    s3-waf: Support smbd build without ldap and kerberos

commit d59df05ff9a2de0fd04922f9221726a442d91ffb
Author: Kai Blin <kai@samba.org>
Date:   Sun Apr 11 10:36:05 2010 +0200

    s3-waf: Allow building without ads/ldap/krb5 even if the libs are installed

commit f860a12d2fe7522e6bfefd0485c7005c6a3b56fe
Author: Kai Blin <kai@samba.org>
Date:   Sun Apr 11 10:34:52 2010 +0200

    build: Don't look for krb5.h in libreplace

commit 771a8c17afbb287297958de1f8a017c96507db78
Author: Kai Blin <kai@samba.org>
Date:   Sun Apr 11 10:34:12 2010 +0200

    s3-waf: Allow using --enable/--disable options as well

commit 99a2171f8b7ea1e2fda1060e07b2d7cd0ba5c8ae
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 8 15:04:55 2010 -0600

    s3-waf: correctly handle cups dependencies when cups development packages are not installed

commit 3d1c0f1a2152b456be112ce992d281e0234f1a96
Author: Kai Blin <kai@samba.org>
Date:   Sun Apr 11 09:35:08 2010 +0200

    s3-waf: Add helper that facilitates defining --with-x and --without-x options

commit adfd1db476cb1c399d5146b47f432199c585666c
Author: Kai Blin <kai@samba.org>
Date:   Thu Apr 8 08:09:11 2010 +0200

    s3-waf: Fix the CUPS dependency

commit 419873f2ee9997edd06f95758f7ab10aa1a8d15b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 7 07:34:12 2010 -0600

    s3-waf: All sorts of nasty hacks to finally get smbd to build/link
    
    Pair-Programmed-With: Kai Blin <kai@samba.org>

commit 538edd5fc0668e08d955f75a3524811c1e987e93
Author: Kai Blin <kai@samba.org>
Date:   Tue Apr 6 00:44:25 2010 +0200

    s3-waf: Add some more krb5 checks
    
    There is still quite a few of them missing.

commit 1316fa7b784b68bd066b649757e1e58901f6cade
Author: Kai Blin <kai@samba.org>
Date:   Mon Apr 5 23:44:37 2010 +0200

    s3-waf: Check for LDAP

commit 2b5f82f259e9f6529567de54a347737587f0b2d6
Author: Kai Blin <kai@samba.org>
Date:   Mon Apr 5 14:41:23 2010 +0200

    s3-waf: Move cups, ldap and krb5 checks to the end of the wscript file

commit d3c9d299e8d9bac8ab5504e61c99b4ad4a46afb0
Author: Kai Blin <kai@samba.org>
Date:   Mon Apr 5 14:40:10 2010 +0200

    s3-waf: Check for KRB5_DEPRECATED handling

commit 6f6b32044e4aed9262f31ac30e18950036828ae8
Author: Kai Blin <kai@samba.org>
Date:   Mon Apr 5 14:39:07 2010 +0200

    s3-waf: Fake some defines that need to be set by configure options later

commit a967deacdce516192a4faa4fdebcabca34923243
Author: Kai Blin <kai@samba.org>
Date:   Mon Apr 5 01:34:43 2010 -0600

    s3-waf: Add more objects trying to build smbd

commit 5f87d5a3d0390eb6c9139f78125d223f3a70b7ef
Author: Kai Blin <kai@samba.org>
Date:   Fri Mar 26 16:52:32 2010 -0600

    s3-waf: Added support dynconfig cflags
    
    Pair-Programmed-With: Andrew Tridgell <tridge@samba.org>

commit a8a4fe0605e6149efb5f9051181d794572edbf27
Author: Jeremy Allison <jra@samba.org>
Date:   Thu May 20 11:36:47 2010 -0700

    Fix  bug #7410 - samba sends "raw" inode number as uniqueid with unix extensions.
    
    Move to a consistent get_FileIndex() function for all inode returns,
    that checks if st_dev on the file is identical to the top directory
    dev_t of the exported share, and if so uses the raw 64-bit inode
    number. If it isn't (we've traversed a mount point) - return what
    we used to do for Windows which is the concatination of the bottom
    32-bits of the inode with the 32-bit device number. We can get more
    creative with this over time (hashing?) if we want as now all inode returns go
    through this single function.
    
    Jeremy.

commit a7cab4ea36eb21d7b72efa80a77c702bb92bec62
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Apr 30 18:24:53 2010 +0200

    s4:ldb-samba: handle more GUID attributes
    
    metze

commit 3c1e87a29a776f5add9e7606dca3b909f5ea7445
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 2 21:21:26 2009 +0200

    s3-libgpo: enable LDAP sign in ads_get_gpo_list().
    
    Guenther

commit e4bdb7e00e3acdb4e18dafdbe44cd4826acaaeab
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 2 21:16:45 2009 +0200

    s3-libads: add ads_set_sasl_wrap_flags().
    
    Guenther

commit 33a156f0c13476f431584492977b0d4c28e4e4fb
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 2 22:07:01 2009 +0200

    s3-net: show how to use filters for group policy processing.
    
    Guenther

commit 96962277da64b2507f8c479b920fc06063cc296f
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 2 22:04:03 2009 +0200

    s3-net: let net_ads_gpo() call no_ads when built w/o ads support.
    
    Guenther

commit 32809efe766a4090de3bc43296d90785b76b50b9
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 2 21:15:28 2009 +0200

    s3-net: compile net_ads_gpo_apply().
    
    Guenther

commit aadd29356ee5785d11ebe072459b7dd3747ed9ed
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 20 18:32:37 2010 +0200

    s3-registry: support REG_DWORD_BIG_ENDIAN.
    
    Just treat it as a REG_DWORD for now. Long term all these checks will need to
    pass away, once we get a real registry...
    
    Guenther

commit fb16ac229beb9ce9d37b49ab6cb630d60c95ee9e
Author: Günther Deschner <gd@samba.org>
Date:   Wed Sep 2 21:25:32 2009 +0200

    s3-registry: support REG_QWORD.
    
    Guenther

commit 026fae89d6628669ce594493ff7c27485e479603
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 20 12:02:55 2010 +0200

    s3-utils: remove trailing whitespace from profiles utility.
    
    Guenther

commit b75384546ac2300896b58a4474bce5f09dcc924a
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 20 13:57:22 2010 +0200

    librpc: finally merge ndr_string.c.
    
    Guenther

commit 6d9fe52310d4aedbd66294cecc1d375da46bef39
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 20 13:54:44 2010 +0200

    s3-libndr: merge in better ndr warnings from s4 ndr_string.c
    
    Guenther

commit 764cde51902da80bf4457e83e3a15641d259b684
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 20 13:54:08 2010 +0200

    s3-build: add missing prototype for regtype_by_string().
    
    Guenther

commit ba1befd36564cdc580d29be2303d824f9bde6a36
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 20 13:39:46 2010 +0200

    s3-services: move services.h closer to services implementation.
    
    Guenther

commit e7982bbe0b560dcf37beb3995b5ce8c091a9c21e
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 20 00:46:47 2010 +0200

    s3-lanman: Fix various RAP printing calls according to win98 testing and MS-RAP docs.
    
    Guenther

commit 29629b93907fd32e48d347c109333e9c0ad244eb
Author: Kai Blin <kai@samba.org>
Date:   Thu May 20 11:29:03 2010 +0200

    s3 smb2: Fix the build without kerberos
    
    Jeremy, please check

commit 33c96e6d3a04a8e2f4a4b794081fe2d2a5dcc742
Author: Andreas Schneider <asn@samba.org>
Date:   Mon May 17 14:01:18 2010 +0200

    s3-net: Created a migration tool for printing TDBs.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 9c7d47fdad5fe82cc7936fef9e905521db841f09
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 23:05:33 2010 +0200

    s4-smbtorture: take a TODO note for RAP-PRINTING.
    
    Guenther

commit 4b56aa277193f6f27fdbeb4e9d3939cb093aea98
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 20 10:23:45 2010 +0200

    s4:operational LDB module - fix warnings (missing parameters, unused variable)

commit a0b0dc16a6ca63e633f51d079bb76124965d254c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu May 20 16:51:59 2010 +1000

    s4:auth handle addition of nested aliases of domain groups.
    
    The challenge here is that we are asked not to add the domain groups
    again, but we need to search inside them for any aliases that we need
    to add.  So, we can't short-circuit the operation just because we found
    the domain group.
    
    Andrew Bartlett

commit 9c6b637ce8a750fa2fef6a5d3a303bf9e6c4eea5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Apr 19 15:51:57 2010 +1000

    s4:auth Change auth_generate_session_info to take flags
    
    This allows us to control what groups should be added in what use
    cases, and in particular to more carefully control the introduction of
    the 'authenticated' group.
    
    In particular, in the 'service_named_pipe' protocol, we do not have
    control over the addition of the authenticated users group, so we key
    of 'is this user the anonymous SID'.
    
    This also takes more care to allocate the right length ptoken->sids
    
    Andrew Bartlett

commit 3ff2766231625863140434bab18b27d5105deb3c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Apr 19 15:43:33 2010 +1000

    s4:auth Push check for messaging context into winbind backend
    
    If we don't use the winbind backend, we don't (for now) need a
    messaging context- and we don't have one in LDB at the moment.
    
    Andrew Bartlett

commit feb9ffdac82c0e30ea61b7ac0d3dae2fcd3bcedd
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Apr 16 08:42:12 2010 +1000

    s4:auth Add dependency from the operational module onto auth
    
    We had to split up the auth module into a module loaded by main deamon
    and a subsystem we manually init in the operational module.
    
    Andrew Bartlett

commit 72ccbcacddd2c3fdc6bfb61b8efb78625368365d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Apr 15 11:58:05 2010 +1000

    s4:auth Allow the operational module to get a user's tokenGroups from auth
    
    This creates a new interface to the auth subsystem, to allow an
    auth_context to be created from the ldb, and then tokenGroups to be
    calculated in the same way that the auth subsystem would.
    
    Andrew Bartlett

commit 4fa9aa30996219821d5d2496d574340f14a4a406
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Mar 4 20:07:12 2010 +1100

    s4:torture Add tests to demonstrate S2U4Self in the RPC-PAC test
    
    We also compare against SamLogon to try and validate the whole thing.
    Note that we must represent NULL as "" when comparing between the PAC
    and SamLogon, due to different marshalling of the structures.
    
    Andrew Bartlett

commit 5f9024c8a4350792e67e1d8dbe8e45ff5732bd66
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Apr 13 22:11:26 2010 +1000

    s4:auth Move BUILTIN group addition into session.c
    
    The group list in the PAC does not include 'enterprise DCs' and
    BUILTIN groups, so we should generate it on each server, not in the
    list we pass around in the PAC or SamLogon reply.
    
    Andrew Bartlett

commit 564b4c7443b256e002b7ac173d4c5e8870980de3
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Apr 9 19:18:30 2010 +1000

    s4:dsdb disable tokenGroups until end of rewrite
    
    I need to change the functions this calls
    
    Andrew Bartlett

commit 612a333d658990aeb4188ee984a53b2e6bc65780
Author: Michael Adam <obnox@samba.org>
Date:   Tue May 18 15:25:53 2010 +0200

    s3:winbind:idmap_tdb2_set_mapping: untangle assignment from check

commit 2c61c93a51a8e8c41da8a54945dc67d6dc416141
Author: Jeremy Allison <jra@samba.org>
Date:   Wed May 19 21:28:08 2010 -0700

    Fix bug 7442 - Samba returns incorrect SMB2 QFS device info.
    
    Add the correct devicetype and characteristics for this info level.
    
    Jeremy.

commit fad5d33bf880bcc137f7cb47e72cd0e07d92eec3
Author: Jeremy Allison <jra@samba.org>
Date:   Wed May 19 21:27:43 2010 -0700

    Fix connecting to [homes] share over SMB2.
    
    Jeremy.

commit b7067ee5f786dd2a06172014bbd7cd78d9129b47
Author: Jeremy Allison <jra@samba.org>
Date:   Wed May 19 21:27:17 2010 -0700

    Correctly check error code return.
    
    Jeremy.

commit 1ad551ce3079f55d4b21a7853df15efaf5ae19cc
Author: Jeremy Allison <jra@samba.org>
Date:   Wed May 19 20:09:51 2010 -0700

    After talking with Microsoft engineers, immediately replying
    on compound requests on open being deferred for a sharing violation
    is a Windows bug. Re-enable the code that simply delays the compound
    response if the delay time is less than 2 seconds.
    
    Jeremy.

commit 7e96db4f50ed84b598deaf0647676c0e8487920e
Author: Jeremy Allison <jra@samba.org>
Date:   Wed May 19 20:09:08 2010 -0700

    After talking with Microsoft engineers, the "lock spin time" is
    no longer used in SMB2.
    
    Jeremy.

commit af445935555dc3fab3cefc52b375dd18b8d9bb4c
Author: Jeremy Allison <jra@samba.org>
Date:   Wed May 19 19:28:26 2010 -0700

    (Finally) fix bug #7158 - SMB2 connection resets during IOZone tests from 64-bit Vista client
    
    It turns out that the persistent handles are used by the Microsoft
    redirector to index files on oplock break requests. So even if we
    don't do durable handles (yet) we must set the persistent handle
    on create. For now just use the same handle value as we use for
    volatile.
    
    Jeremy.

commit ae02691200a2fd20b0c227a875a0997b50fc6612
Author: Simo Sorce <ssorce@redhat.com>
Date:   Tue May 18 18:38:54 2010 -0400

    tsocket: Improve the language in some parts of the guide.

commit 66cbc62961bad98fa8f0cdb49370b415a1d2b2d2
Author: Thomas Nagy <tnagy1024@gmail.com>
Date:   Wed May 19 22:13:03 2010 +0200

    s4-waf: Replace local includes in header files with proper system names.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit b0d7a3d123cb96049dc782b317554448acdae1a2
Author: Jeremy Allison <jra@samba.org>
Date:   Wed May 19 10:34:44 2010 -0700

    Thanks to Andrew Bartlett's advice, fix the NTLMSSP version problem the correct way.
    
    No more magic blobs :-). Use ndr_push_struct_blob() to
    push a properly formatted VERSION struct.
    
    Jeremy.

commit ac9341245af38fe019c43ad9e413dbc62e26bc7a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed May 19 00:26:56 2010 +0200

    pynet: Raise proper exceptions rather than invoking sys.exit.

commit d18fbda0d0bd7d4cd702e1feb80d5803a4afcc39
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed May 19 13:30:58 2010 +0200

    testprogs/win32: make it possible to specify MINGW_CC
    
    metze

commit 4ce04f6f6fe5c485045cd870cb9ad2e3f2063659
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed May 19 13:58:26 2010 +0200

    testprogs/win32/spoolss: we don't need absolute pathes to mingw locations
    
    metze

commit 38d1776c794a0a5693d5233a0767c4f5d7440f19
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed May 19 11:51:56 2010 +0200

    testprogs/win32/npecho: use 'rm -f' instead of 'del' on unix
    
    metze

commit d133ef997d0e64e25ab7f34ff67af8ffd09e366b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed May 19 11:51:07 2010 +0200

    testprogs/win32: explain how to use nmake with NMakefile
    
    metze

commit 64fa63c3e93e254466196b04b128b9057769b405
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed May 19 11:11:50 2010 +0200

    testprogs/win32/spoolss: rename Makefile.mingw GNUmakefile
    
    metze

commit b00acc81fb79fcea30710349ef6152d3104f1423
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed May 19 11:10:36 2010 +0200

    testprogs/win32/spoolss: rename Makefile => NMakefile
    
    metze

commit 572e5dec1bbd4af3ccc4b8bfe56a72ded4c9aa6e
Author: Jeremy Allison <jra@samba.org>
Date:   Tue May 18 18:34:54 2010 -0700

    Implement missing info level SMB_FILE_LINK_INFORMATION.
    
    Fix bug #7435 - SMB2 hardlink fails (invalid level).
    Found at the Microsoft plugsharing plugfest.
    
    Jeremy.

commit c7982074a7ea85219411311ebf31444ea4c501a5
Author: Jeremy Allison <jra@samba.org>
Date:   Tue May 18 17:11:54 2010 -0700

    Keep track of credits we're giving out. Set initial credits to 1 (MS-SMB2 spec required).
    
    Jeremy.

commit ad9050a6ff57d847ba7d95f2cb33353d369dc42b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed May 19 02:29:20 2010 +0300

    s4/drsuapi: Add another set of predefined ATTIDs
    
    Very useful for debugging/dumping purposes

commit 799eb535a907ba6b6bad92d85d1ca7ac9f857dea
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed May 19 02:28:09 2010 +0300

    s4/metadata: fix whitespaces

commit 242b41a3d8dfb5fd1cc1923e117f6d33bd145c55
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed May 19 02:18:17 2010 +0300

    s4/selftest: fix passwords in selftest-vars script

commit 6a903078cb133a1f46c9d6f24f50d863e31b743c
Author: Jeremy Allison <jra@samba.org>
Date:   Tue May 18 16:32:13 2010 -0700

    Fix our NTLMSSP implementation against the Microsoft torture tester.
    
    We need to return a version blob if we negotiate version info.
    
    Jeremy.

commit 829c87634b2aca87789371ad33231e9d4bc518a8
Author: Jeremy Allison <jra@samba.org>
Date:   Tue May 18 09:57:29 2010 -0700

    Change data_blob() to be based on top of data_blob_talloc(), instead of the reverse (as it is now).
    
    It makes no sense to talloc off the null context, then talloc steal
    into the required context - just talloc off the correct context, and
    change data_blob() to pass in the null context to data_blob_talloc().
    
    Jeremy.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit f6f3bb1813b5f030616e422ed420b938244be84e
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 18:54:56 2010 +0200

    s3-passdb: move get_logon_hours_from_pdb() into samr server.
    
    Guenther

commit 8478770c357f712f1fc3b8a0a9a5f9e730388abb
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 18:59:45 2010 +0200

    s3-rpc_client: move protos to init_samr.h
    
    Guenther

commit 5a6f3a06665ea343e2a212924cfce9edb358876f
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 18:58:45 2010 +0200

    s3-rpc_client: move protos to init_spoolss.h
    
    Guenther

commit cc06133b0a0f3a4a150d587a7d43c678cfba16a0
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 18:26:48 2010 +0200

    s3-rpc_client: move protos to cli_spoolss.h
    
    Guenther

commit 230b880d142eea46d4131f2b44774465c9c214bc
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 18:26:16 2010 +0200

    s3-rpc_client: move protos to cli_lsarpc.h
    
    Guenther

commit 5ed365411278ca19d69216ca969e91c4725c2c08
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 18:26:03 2010 +0200

    s3-rpc_client: move protos to cli_netlogon.h
    
    Guenther

commit 3f2719c20296d55766bf6d9f43dea50ab259e0e6
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 18:25:50 2010 +0200

    s3-rpc_client: move protos to cli_samr.h
    
    Guenther

commit 7a8e34fe868158ee5591e1640477d28c62de5b67
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 17 13:39:42 2010 +1000

    s3:split secrets.c to put machine account secrets in a new file
    
    This helps the s3compat effort by allowing these functions to be
    replaced by functions that query the cli_credentials and secrets.ldb
    APIs.
    
    Also, this changes a couple of DOM_SID to struct dom_sid along the
    way.
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 1ffc65d462ab7ebb61efc30e8305e70789d219fb
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue May 18 16:58:53 2010 +0200

    s4:smb_server/smb/trans2.c - remove unused define "DEFAULT_SITE_NAME"
    
    Obviously this isn't needed and in general site names shouldn't be hardcoded
    anymore (except there is a good reason).

commit 864a95fd9c2dc74f2612478e7b7784c9abc37257
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu May 13 07:57:27 2010 +1000

    s3:winbind use no_srv_register to avoid needing rpc_srv_register
    
    This pidl attribute avoids the need for this dummy function, which
    helps s3compat.
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit f5f184a77cfe83498d6e55f10fdf79ca37229696
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu May 13 07:53:07 2010 +1000

    pidl: Allow new property 'no_srv_register'.
    
    This Samba-only property prevents pild from emitting the
    rpc_wbint_init function, which causes problems because it needs
    rpc_srv_register().
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 0953087f82ddbd580e9807e0e8d780e78686c03c
Author: Andreas Schneider <asn@samba.org>
Date:   Wed May 12 18:36:30 2010 +0200

    s3-spoolss: Added EN ISO 216, A0 and A1 to builtin forms.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 20537d65166714f083256cf4f48b96d35786253a
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 17 18:22:37 2010 +0200

    s3-pidfile: set the close on exec flag for the created pidfiles.
    
    Guenther

commit d6a73ad85bff4867b48d12fa68479812f682ec0a
Author: Simo Sorce <idra@samba.org>
Date:   Thu Apr 22 19:30:11 2010 -0400

    s3-spoolss: Removed the Phantom DeviceMode.
    
    This was a hack that required a special client from HP.
    The client code has never been released and was discontinued,
    so this code was just dead weight.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 007b9962676efef4cf2230f304ce263ce1e75555
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 15:32:47 2010 +0200

    s3-net: also dump security descriptors from ntprinters.tdb in "net printing dump".
    
    Guenther

commit a79b446e11c56de5244ec9b9823c436122fe5ffe
Author: Matthieu Patou <mat@matws.net>
Date:   Tue May 11 21:22:24 2010 +0400

    s4:smb_server: add dfs smbtorture to selftests
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit fc94c50a9fe0ef344068feafa21d85adb149b6b3
Author: Matthieu Patou <mat@matws.net>
Date:   Sat May 1 22:27:31 2010 +0400

    s4:smb_server: Implement GET_DFS_REFERRAL for domain referral requests
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 90d768989cff597a5b241ee14ba04024a3bda45a
Author: Matthieu Patou <mat@matws.net>
Date:   Sat May 1 22:33:20 2010 +0400

    s4:smb_server: fix trailling whitespace in trans2.c
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 9f01e7af6b5f0ab8022baabf097af6be82f13877
Author: Matthieu Patou <mat@matws.net>
Date:   Mon May 10 01:39:27 2010 +0400

    s4 torture: Add tests for dfs referrals handling in SMB/trans2 requests
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 0e4e39c7f51a6fe95485710454b5ced1a6ef7a51
Author: Matthieu Patou <mat@matws.net>
Date:   Mon May 10 01:40:31 2010 +0400

    s4 torture test: Adapt ndr-dfsblobs torture test to new idl
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 970cbad79ab4b6cad73dd75daae4f896dde92f38
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Apr 26 01:31:19 2010 +0400

    librpc/idl: fix errors and improve idl in dfsblobs
    
    Fix problems between strings and nstring
    Allow get_deferral parameters to be used by ndr_push/pull_blobs
    Handle correctly the 16 bytes padding
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 6f264106a4476eb138df568f66d0a7a0216fb9fa
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue May 18 14:49:39 2010 +0200

    s4:librpc: fix the autoconf build
    
    metze

commit 9b9def0d724da1b20ca175c84ec03242748e45be
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue May 18 13:50:33 2010 +0200

    s4:dynconfig: let the autoconf build compile again
    
    metze

commit 4108728b7e9e4d53624c81984c4ee8e0e6bc81d9
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Apr 28 17:04:10 2010 +0200

    s3-spoolss: Use the spoolss_map_to_os2_driver to modify drivername.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 7d363b8922e7ec740858339aaa0052a990b264fa
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Apr 28 17:03:41 2010 +0200

    s3-spoolss: Create a spoolss_map_to_os2_driver function.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a3b81a908c9c866066316b01efe5bb0bc8937a86
Author: Andreas Schneider <asn@samba.org>
Date:   Mon May 10 15:05:46 2010 +0200

    s3-spoolss: Use better names for set_last_from_to.
    
    Use set_driver_mapping() and get_win_driver(), get_os2_driver().
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 9bbf761bfe64b708144fb44b3f726c85efc58238
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 13 00:05:40 2010 +0200

    s3-net: Added a rather trivial "net printing dump" command.
    
    Guenther

commit f3063d925494b78407e5f694150e5174d0a5d7c4
Author: Andreas Schneider <asn@samba.org>
Date:   Wed May 12 10:59:41 2010 +0200

    s3-spoolss: Added EN ISO 216, A0 and A1 to builtin forms.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 4bc46e0f271f3dcf90ee8beb8738a18fffb2a4b9
Author: Andreas Schneider <asn@samba.org>
Date:   Wed May 12 10:57:14 2010 +0200

    s3-spoolss: Sorted the builtin forms alphabetically.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit d4474ba470a70ce0476156a9399193ec024bb455
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 12:52:18 2010 +0200

    s3-secdesc: use SD_REVISION from security.idl.
    
    Guenther

commit a531537341d874ed2bfa7058ec45417e856bed4e
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 12:51:35 2010 +0200

    s3-secdesc: move SEC_DESC_HEADER_SIZE to its only user.
    
    Guenther

commit 7f6bb48bdf230465fd26514ff43d92e2c1f32fe6
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 10:29:34 2010 +0200

    s3-secdesc: remove "typedef struct security_descriptor SEC_DESC".
    
    Guenther

commit 8951c8301ac8436d49e1641b2cc7775dda44d914
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 03:30:40 2010 +0200

    s3-secdesc: remove "typedef struct security_acl SEC_ACL".
    
    Guenther

commit a8b01d1f3b4025af7e7a9d8b61deec6156737322
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 03:25:38 2010 +0200

    s3-secdesc: remove "typedef struct security_ace SEC_ACE".
    
    Guenther

commit 8bc9c343c4fe4e6f6c0283fd15e86caf6b8c1085
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 02:56:17 2010 +0200

    s3-secdesc: remove "typedef struct sec_desc_buf SEC_DESC_BUF".
    
    Guenther

commit f6445d8f860fa8f771e6c8986b8eda6cc00c7793
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 12:26:52 2010 +0200

    s3-build: fix the build.
    
    Guenther

commit c0fb7b8180f7383590f24e84cc3700aa77499112
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri May 14 17:39:07 2010 +0200

    s3: Fix some more iconv convenience usages.

commit 390ada6ec79b0480a44da1fa81a63dcaf5c81da7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 10 14:08:38 2010 +0200

    Remove more usages of iconv_convenience in files which were apparently not recompiled by waf.

commit b8268cf7b0264ea28f684cbdfbf462e68a018d83
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 10 00:42:06 2010 +0200

    s3: Remove use of iconv_convenience.

commit f9ca9e46ad24036bf00cb361a6cef4b2e7e98d7d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun May 9 17:20:01 2010 +0200

    Finish removal of iconv_convenience in public API's.

commit e9f5bdf6b5a1aeb7e2e556cf41f7cbc2abed7856
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 02:27:34 2010 +0200

    smbconf: only include smbconf headers where needed.
    
    Guenther

commit 415bd627642bb8f18f180daaf61c4a6ddb62ebbd
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed May 5 12:47:07 2010 +1000

    s4:ntvfs Prepare for a possible future sharing of notify.idl
    
    I would love for notify.idl to be shared between Samba4 and Samba3
    some day, and this seems to be the point at which the structure is
    initialised.
    
    Andrew Bartlett

commit e11a67de7d2b67f9efe47c471a9b35a14ec8ad47
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 17 19:54:00 2010 +1000

    s4:winbindd Record the privilaged pipe dir
    
    This may help us return an accurate priv pipe dir later on.
    
    Andrew Bartlett

commit b183a30b2b3983a7f827dc6fd44eb16ac64904ce
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 17 13:41:01 2010 +1000

    s4:credentials Add in tracking of the password last set time
    
    We perhaps need a more general API here, but for now extend the
    credentials API to return the password last changed time that the
    s3compat layer will need.
    
    Andrew Bartlett

commit 6324a0f59f78dff6501627518824e708aa3dc257
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 17 11:52:24 2010 +1000

    s4:provision Remove unused 'account_name' parameter
    
    The python glue code didn't even de-reference this element in the
    structure.
    
    Andrew Bartlett

commit 00b985def82acfbc4e36121d5879c1ffae2c68a3
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu May 6 16:47:15 2010 +1000

    s4:auth Make it clear to the callers the talloc lifetime.
    
    In other times, we might have used talloc_reference here, but this
    isn't used as much these days.
    
    Andrew Bartlett

commit 285b62832779f53b135adae4f2c76c424d193cab
Author: Jeremy Allison <jra@samba.org>
Date:   Mon May 17 18:22:19 2010 -0700

    Plumb in krb5 to the SMB2 sessionsetup code. First cut of this code.
    
    Jeremy.

commit b481b8e1f52562d21e060ad321f05c9d3c7ede0d
Author: Jeremy Allison <jra@samba.org>
Date:   Mon May 17 17:17:44 2010 -0700

    Fix the build of bin/smbtorture in source3. Guenther please check !
    
    Jeremy.

commit e22722ae641a43710380faa3e2ca8395e554deb8
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue May 18 01:39:17 2010 +0200

    selftest: Cope with empty testsuite results in more places.

commit 11ec2916a7ba937aa09057a3a6b990bd29476cc4
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue May 18 00:01:48 2010 +0200

    selftest: Cope with testsuites without any output whatsoever (probably an error though).

commit f7f1a3a4516528be8722bb416428c8abb4bab652
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun May 2 20:02:26 2010 +0200

    pynet: Remove unused credentials argument.

commit fe31b67d5e9bf5b6c195eddb5f7b42e680a0f36a
Author: Günther Deschner <gd@samba.org>
Date:   Fri Oct 2 00:17:06 2009 +0200

    s3-registry: only include registry headers when really needed.
    
    Guenther

commit d7d313851aed176d1caf7374a87c5ad327cb00a8
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 00:39:43 2010 +0200

    s3-tldap: only include tldap when actually needed.
    
    Guenther

commit e16ed3399adf1e0fb9f6979677711bb0ab7d0409
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 00:18:55 2010 +0200

    s3-includes: remove completely unused util_getent.h header.
    
    Guenther

commit 1d2dd47d31e776e5a976069147b33d7c34e5b071
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 18 00:16:40 2010 +0200

    s3-crypto: only include crypto headers when crypto is done.
    
    Guenther

commit 26c844902c70ea73f43f8e900344c25fb21e607c
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 17 23:27:30 2010 +0200

    s3-samr: move samr helper prototypes outside of proto.h
    
    Guenther

commit 657fd0be1d9e878e98ff9eb79d845a5b6f974cd4
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 17 23:04:46 2010 +0200

    s3-services: move services.h to where it is actually used.
    
    Guenther

commit ca73e03eb7e8690aef68cfafab36b0b9cc205ab7
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 17 23:04:08 2010 +0200

    security: merge builtin rid tables.
    
    Guenther

commit 3b529d50be5613f37cf853714ecf78887df1d01b
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 17 22:04:24 2010 +0200

    s3-rpc_misc: clean out include/rpc_misc.h.
    
    Well known rids don't really belong into an rpc header, just use the ones
    defined in security.idl.
    
    Guenther

commit 2deff342b949ef7f91134115aa77c4051e2a4c33
Author: Jeremy Allison <jra@samba.org>
Date:   Mon May 17 13:05:22 2010 -0700

    Refactor the sessionsetup SMB2 code to make it easy to add
    krb5. Fix a memory leak in returning security blobs.
    
    Jeremy

commit 3d5972c43f536b94122100e1e30f92a4f8441768
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 10 00:07:10 2010 +0200

    s3-libgpo: move group policy protos to where they belong.
    
    Guenther

commit ed8a98f6f4547fed6045a4b6793e9a91edd6597c
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 17 20:49:31 2010 +0200

    s3-includes: remove some unused defines.
    
    Guenther

commit dd5a4e23f8c24564d3fd21bb8d01172321087362
Author: Günther Deschner <gd@samba.org>
Date:   Sat May 15 00:34:35 2010 +0200

    s3-kerberos: temporary fix for ipv6 in print_kdc_line().
    
    Currently no krb5 lib supports "kdc = ipv6 address" at all, so for now just fill
    in just the kdc_name if we have it and let the krb5 lib figure out the
    appropriate ipv6 address
    
    ipv6 gurus, please check.
    
    Guenther

commit e3bdff3d67b46277ee59685218bd90f3788b487d
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 14 23:23:34 2010 +0200

    s3-kerberos: pass down kdc_name to create_local_private_krb5_conf_for_domain().
    
    Guenther

commit 14ac2bb36ee22be6133ca1d069dc5de6c1891f47
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 14 23:21:47 2010 +0200

    s3-winbind: make the getpeername() checks in cm_prepare_connection IPv6 aware.
    
    Note that this failure was hard to track, as winbind did only log a super helpful
    "cm_prepare_connection: Success" debug message.
    
    IPv6 gurus, please check
    
    Successfully tested in two independent IPv6 networks now.
    
    Guenther

commit d040658e1a5a48c6cc33640de37771d601c69a76
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Mon May 17 12:49:37 2010 +0300

    s4-rodc: Set am_rodc flag during provision

commit 26d41c23f69b9e3ee327f159c9164917422d45c5
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Thu May 13 15:07:50 2010 +0300

    s4-rodc: Cache am_rodc flag

commit a15b6664389b05ea0cded46de3abe53034a7edef
Author: Michael Adam <obnox@samba.org>
Date:   Mon May 17 10:39:00 2010 +0200

    s3:winbind:idmap_tdb: don't check ranges when an invalid entry was found.
    
    There is no point in checking the ranges this if the record found had an
    invalid/unknown type: the mapping is not filled in. If it were initialized
    to some defaults before, the check just might replace the status
    NT_STATUS_INTERNAL_DB_ERROR with a NT_STATUS_NONE_MAPPED, which is not
    as precise.

commit 765e9c7c67058271365521ce415b2ec1483e3c3d
Author: Kai Blin <kai@samba.org>
Date:   Mon May 17 10:50:39 2010 +0200

    wbinfo: Add better libwbclient error reporting

commit b05faffd00a54520b49722db89ae820284e257db
Author: Matthew McGillis <matthew@mcgillis.org>
Date:   Wed May 5 22:43:28 2010 -0700

    added documentation for the -I flag

commit 843c6a03c7094a58484fab10e246a8153d976de5
Author: Matthew McGillis <matthew@mcgillis.org>
Date:   Wed May 5 22:35:02 2010 -0700

    added support for a -I flag

commit 4fee40e2c0700d563386cfab686c0e6e3cb3e8f2
Author: Matthew McGillis <matthew@mcgillis.org>
Date:   Wed May 5 22:26:15 2010 -0700

    Consolidate all set SEC_DESC into single procedure set_secdesc

commit 2cc612cb6bb72e5dc52d12783aee04d2ef102198
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun May 16 00:21:19 2010 +0200

    s3-selftest: Allow overriding the subunit formatter.
    
    (e.g. "make selftest SUBUNIT_FORMATTER=cat")

commit d7123565698fefd16e7696c0e4bb4ec98f6f62ac
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri May 14 18:56:51 2010 +0200

    s4:repl_meta_data LDB module - fix counter types

commit 8608eaef76631666a41109317d2a9b20979c5025
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri May 14 18:59:36 2010 +0200

    s4:net domainlevel tool - fix up the error handling as Jelmer suggested
    
    Sorry, I've copied this from the "ldap.py" test and thought it would work.

commit 6d95a204d7115a10608759eaabcbfbe495ed2802
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri May 14 14:13:20 2010 +0200

    s4:dsdb_cache LDB module - fix a typo

commit da5cd4ba34bfa53d887e80fd2348df5ee6b23c5f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue May 11 17:25:24 2010 +0200

    s4:samldb LDB module - remove unused variables

commit b5dc39496272cbccdd45152f349362c2b779c326
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu May 13 07:59:41 2010 +1000

    s4:gensec expose gensec_set_target_principal for use outside GENSEC
    
    This allows for the rare case where the caller knows the target
    principal.  The check for lp_client_use_spnego_principal() is moved to
    the spengo code to make this work.
    
    Andrew Bartlett

commit 8da50c8da1527bafbb0ff4e86cc12fb54dd2b4b7
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 14 17:31:33 2010 +1000

    s4:winbindd Rework some winbind structures to make s3compat easier
    
    By making the winbindd_request and winbindd_response structures
    pointers, we can more easily integrate with the winbindd from
    source3/winbindd
    
    Andrew Bartlett

commit ad197f6f15054e398c0bf4f27388a86a384c09ba
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 14 21:51:48 2010 +1000

    s4:process_model Fix process_standard and process_onefork not to use
    multiple event contexts
    
    It is NEVER valid to free an event context that anybody else may have
    a reference to, and never normally valid to have two 'live' at once.
    We must instead call tevent_re_initialise() to wipe clean an existing
    pointer.
    
    Andrew Bartlett

commit 6f859f58afff10f708bf06d55d1cfab575875627
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon May 10 13:47:42 2010 +1000

    s4:process_modals Add another process modal - 'onefork'
    
    This will fork off exactly one child to handle some task, ensuring
    that if it dies or changes global state, that this does not change
    everything.
    
    Andrew Bartlett

commit bb2f7e3aee7e9b8437d7313800be0c2370da5ca1
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed May 12 12:34:15 2010 +1000

    s4:credentials Allow setting of an empty Kerberos CCACHE
    
    This allows us to tell the credentials code where we want the
    credentials put.
    
    Andrew Bartlett

commit 81407b1bffed137c02790d908893bac7b99ce956
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed May 5 12:47:07 2010 +1000

    s4:ntvfs Prepare for a possible future sharing of notify.idl
    
    I would love for notify.idl to be shared between Samba4 and Samba3
    some day, and this seems to be the point at which the structure is
    initialised.
    
    Andrew Bartlett

commit 79bd6a6764079e982fb7e1ba1c24a9037e126175
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed May 5 12:40:20 2010 +1000

    waf: Make waf handle IDL files from Samba3
    
    For s3compat, we need to handle IDL files not in the current directory
    (so the incoming file names have a directory prefix - so we must use
    os.path.basename()).
    
    We also need to be able to disable the addition of some IDL files into
    the tables.c/tables.h - some of the Samba3 IDL files are in conflict
    with Samba4.
    
    Andrew Bartlett

commit 9de745fd5327901846c9b8c6533b7e8156d71a30
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 25 21:25:01 2010 +1000

    s3compat: use right variable for STATEDIR
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 3043c1924d55615e6fc50f7643edc9143814dd8a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 25 18:08:00 2010 +1000

    s4-dynconfig: make dynconfig more compatible with s3

commit ba4842a88076133b012cbcef632edb0fb822a56d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Apr 30 18:20:54 2010 +1000

    Revert "s4: remove unused references to swat"
    
    This reverts most of commit 1765732f82719a4bc925f21ef4999bd19a8d1f6c.
    
    The s3compat build needs the SWAT location to be compatible with
    Samba3.

commit 3b8d9cd87e88ad454322b82eb2490477dbc82d8f
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri May 14 15:18:46 2010 +0200

    Revert "wafsamba: use -D_XOPEN_SOURCE=700 for the build"
    
    This reverts commit 3408c942ab09387c399dad03e22233e33fe1e2fc.
    
    This seems to cause more problems than it tries to solve.
    
    And Mac OS 10.4 doesn't need it anymore
    (after commit bd6d76d77621c1dc92262c48204b65455a214b62).
    
    metze

commit 3edb95a487b3330408392cb856ae42cde5f679f9
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 14 14:51:44 2010 +0200

    s4-libndr: fix ndr_pull_string_array() for non utf16 arrays in s4 as well.
    
    Guenther

commit a052aa87be3ac8fa6167ade27f756dd44f5fc2c3
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 14 14:39:40 2010 +0200

    s3-printing: explicitly include "printing/pcap.h" as there is /usr/include/pcap.h.
    
    Thanks metze for pointing this out. Simo, please check.
    
    Guenther

commit bd6d76d77621c1dc92262c48204b65455a214b62
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri May 14 13:58:37 2010 +0200

    lib/util: fix waf configure tests for xattr functions on Mac OS 10.
    
    metze

commit 348b4b9bab0cd0f87860441218658802e8aba410
Author: Simo Sorce <ssorce@redhat.com>
Date:   Thu May 13 16:24:35 2010 -0400

    Make pcap headers private
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit f36396f90f925ff1f41e6e58c0a51245eab21784
Author: Simo Sorce <ssorce@redhat.com>
Date:   Thu May 13 14:23:23 2010 -0400

    Move standard printcap parsing to print_standard.c
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 566418f1a1c6514333965069cda435598fb0a2d4
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 12 00:26:24 2010 +0200

    ntprinting: add ntprinting.idl.
    
    This generates convenient unmarshalling routines for pulling out spoolss related
    information out of ntprinters.tdb, ntforms.tdb and ntdrivers.tdb.
    
    Guenther

commit 3408c942ab09387c399dad03e22233e33fe1e2fc
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri May 14 13:21:30 2010 +0200

    wafsamba: use -D_XOPEN_SOURCE=700 for the build
    
    Some systems set this automaticly via -D_GNU_SOURCE=1,
    but on others we need to set it ourself (e.g. Mac OS 10.4)
    
    metze

commit e92f9c57b4347c17c5ef216d1b64caddcd2e8f54
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 12 21:41:52 2010 +0200

    s3-libsmb: fix typo in remote_password_change().
    
    Guenther

commit c94f1c16bd6fff25f582ecfa920513b9c9665629
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 13 02:27:29 2010 +0200

    s3-libndr: make sure ndr_pull_string_array() only inspects string termination flags.
    
    Otherwise the NOTERM case is not reachable for ascii strings (only utf16).
    
    With this patch we now can have:
    [flag(STR_ASCII|STR_NOTERM|NDR_REMAINING)] string_array array_name;
    
    Guenther

commit edecdab58f49481a2f9ef0ca59ef1407adba8e05
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri May 14 10:35:46 2010 +0200

    s4:heimdal_build: move #undef __APPLE__ to the end of roken.h
    
    Some system includes need __APPLE__ defined.
    
    metze

commit 0d51bab61efd13d54dd2644380ce24fe9124d789
Author: Jeremy Allison <jra@samba.org>
Date:   Thu May 13 21:27:24 2010 -0700

    Now we behave as Windows does, remove a Samba3 specific test return.
    
    Jeremy.

commit 056f24ce24ab395cb6fff15cb068c8d8b1affef9
Author: Jeremy Allison <jra@samba.org>
Date:   Thu May 13 15:59:09 2010 -0700

    Fix bug 7399 - SMB2: QUERY_DIRECTORY is returning invalid values.
    
    The end_data argument to smbd_dirptr_lanman2_entry() must include
    the safety margin, as internally it's actually used to allow detection
    of string name pushes that were truncated. Ensure space_remaining can
    never go negative due to padding.
    
    Jeremy.

commit 49c8c130a0d08be7c869b9a63b5a37488003eac2
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 22:35:06 2010 +0200

    s4:domainlevel - handle exceptions more precisely
    
    LDB_ERR_UNWILLING_TO_PERFORM should be the right error code when the
    "msDS-Behavior-Version" was already raised by the first change as it is on
    Windows Server.
    
    When s4 itself does implement this trigger then we don't need to do the
    second write operation anymore (they're kept in sync).

commit 895b99fd6bfb1a65c3ae408bdf381e66783ac385
Author: Jeremy Allison <jra@samba.org>
Date:   Thu May 13 11:33:02 2010 -0700

    Be more forgiving on client oplock break failure (as Windows does). Remove a global.
    
    Jeremy.

commit ed6fa379ef6e1f5d7ca3d5c42e4e97a2c7604683
Author: Jeremy Allison <jra@samba.org>
Date:   Thu May 13 10:54:15 2010 -0700

    Treat an open of stream ::$DATA as an open of the base file.
    This fixes a class of SMB_ASSERT failures when doing stream tests.
    
    Jeremy.

commit 6427484f84e3437bdabb90a2672ec7c037cedf0d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu May 13 19:30:46 2010 +0200

    s3:build: build smbtorture4 when the merged build is selected
    
    metze

commit b4cfa3b9e419268e99e54f4ecb8a4f7ad007f218
Author: Thomas Nagy <tnagy1024@gmail.com>
Date:   Thu May 13 19:23:37 2010 +0200

    buildtools/wafsamba: fix build group ordering
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit f45cbb0a0d26b9126be1057e1856a04cd6113bea
Author: Matthieu Patou <mat@matws.net>
Date:   Mon May 10 01:45:01 2010 +0400

    s4: Do not display by default the message Failed to send DsReplicaSync is other host is just unreachable
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 11730520a742df0f584a9a25762756763517dc4d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed May 12 17:34:02 2010 +0200

    s4:dsdb: fix samdb_result_logon_hours() and don't hardcode units_per_week
    
    metze

commit 9ad9fd5b7120b4fe1bc4296795b5e007a85d1387
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue May 11 22:52:55 2010 +0200

    ldb:ldb_msg.c - use result constant

commit 4da42b4e80caba436e44a7f6e6583028d0225da3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 15:29:20 2010 +0200

    s4:domainlevel.py - update the script to handle both domain level occourrences on s4
    
    The second "modify" is located under a try-catch block to ignore the change
    failure against Windows Server (there only the first change is required).

commit 38e9a7f5778eeff9c87cbb3812c8b0261b018b69
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 15:11:29 2010 +0200

    s4:domain functional level - it is also specified in the domain object under partitions
    
    Discovered by the "ldapcmp" tool

commit 92aa194145d6b75316c6d544afae290957022625
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 15:06:35 2010 +0200

    s4:provision_configuration.ldif - add more extended rights objects

commit 9005227e7220d5dcd4aa474d2c074109a6a0f89c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 14:51:10 2010 +0200

    s4:provision_users.ldif - fix up and reorder the well-known security principals

commit c715f6d3f9b180bd6ad2ad5323cf69f0fe092b35
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 14:43:10 2010 +0200

    s4:provision_configuration.ldif - add more Windows 2008 forest operations

commit eaea67691695498761b22176af02662b65ff91e8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 14:33:40 2010 +0200

    s4:provision_configuration.ldif - the revision level of "Windows2003Update" should obviously be 10
    
    Compared against my Windows Server 2008 and Zahari's output.

commit 025eaceb5c042eeda873db3da2f66a9c9973f953
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 14:24:02 2010 +0200

    s4:provision_configuration.ldif - "CN=94fdebc6-8eeb-4640-80de-ec52b9ca17fa" operation is of version 3

commit 47818b19fcd7248a2e95171a4e95c60c339da700
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 14:22:14 2010 +0200

    s4:provision*.ldif - always set the "msDS-NcType" attribute correctly

commit 1885327b309992698331be51926eb89160883d4f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 14:18:20 2010 +0200

    s4:provision_configuration.ldif - set the right schedule on the default site in the NTDS site settings

commit 8acd8b97a6af9af781dc816642ef108c74d8e50a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 14:14:31 2010 +0200

    s4:provision_configuration.ldif - The "NTDS Quotas" object is system-critical

commit 79ac53eb3b775a78806f307e254b19f3c4280aa6
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 14:08:55 2010 +0200

    s4:provision_configuration.ldif - "sites" object
    
    - The default site doesn't contain a licensing object
    - Adequate two other values (a "showInAdvancedViewOnly" and a "systemFlags" one)

commit f57bcc92b5b06465974a3276fde86d553fd78c04
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 12:10:54 2010 +0200

    s4:provision.ldif - add IP security objects as they exist on Windows Server

commit 44e05dfb735467013d9bbe8c3c9f30c57ec249c3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 11:45:43 2010 +0200

    s4:provision.ldif - add more Windows 2008 domain operations

commit cc2bd1f7779bfa587bbc5e56ecfe2e5e77a6e6f7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 11:32:36 2010 +0200

    s4:provision_users.ldif - On Windows Server >= 2008 security principal S-1-5-20 doesn't exist anymore

commit 350c61922e8fd535812d00573929e2c67446f14c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 11:28:56 2010 +0200

    s4:provision.ldif - "passwordSettingsContainer" add "showInAdvancedViewOnly"

commit bbb5825a6f94ed49f4d6dd8dc76e4947c7de0a8e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 11:24:20 2010 +0200

    s4:provision.ldif - fix up "NTDS Quotas" "systemFlags"

commit b2bd02e11e5d83ff2e0a1c7b4ed1cedca772ce4b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 11:22:43 2010 +0200

    s4:provision_users.ldif - fix up Administrator's "userAccountControl"

commit 8c796715c1c825e6fb21ed29440f6c8ca6c4bf6a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 11:21:39 2010 +0200

    s4:provision_basedn_modify.ldif - fix up "maxPwdAge"

commit 5e4d91f7aa44c06d8b464f5a65b08bb1b7af9da4
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 13 11:13:26 2010 +0200

    s4:provision_users.ldif - Fix typos in user/group objects

commit 72e65a05213e857b4aaef9951df318c10e9774ae
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 11 21:37:30 2010 +1000

    s3:winbindd Provide a winbindd_register_handlers() helper function for s3compat
    
    This function provides a useful entry point for s3compat to set things
    up in winbindd.
    
    Andrew Bartlett

commit f5c0f90da5f5372ca6b7a72daa8d073a2444a068
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 11 21:31:18 2010 +1000

    s3:winbindd Split helper functions to allow s3compat to call them
    
    This provides a more useful entry point for s3compat.
    
    Andrew Bartlett

commit 7f70b53dd65941ad7c2153947e3c6ea13b28b281
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 11 20:24:42 2010 +1000

    s3:Winbindd Move winbindd_event_context to a different file
    
    This allows this function to be easily replaced in s3compat
    
    Andrew Bartlett

commit cdf07042728efc2d2bfeb56d1a8cdecc516a2411
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 11 20:22:06 2010 +1000

    s3:winbindd Rename 'children' to 'winbindd_children' and make static

commit 4ef847a3b7031147711751f96e002f120bb05f04
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 11 10:04:30 2010 +1000

    s3:libsmb/namecache Remove namecache_enable()
    
    No caller honours the return value, and this call only prints a
    DEBUG().  Removing this reduces the number of initialisation
    boilerplate calls s3compat has to make.
    
    Andrew Bartlett

commit 426d92eedbe002624ab8553d23ec9ea1465acefa
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 11 10:02:52 2010 +1000

    s3:smbd Remove calls to namecache_enable()
    
    This only prints a DEBUG()
    
    Andrew Bartlett

commit 82fb4ebca761521bddf3a8a76b41b061569995e4
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue May 11 09:59:48 2010 +1000

    s3:winbindd Remove call to namecache_enable().
    
    This call only prints a DEBUG()
    
    Andrew Bartlett

commit 468fb4fee49aa0cd1919fcd3803d2490e2ac568d
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Dec 14 19:43:59 2009 +1100

    s3:auth Make get_ntlm_challenge more like Samba4
    
    This helps with the upcoming NTLMSSP merge, and allows errors to be returned.
    
    Andrew Bartlett

commit 1101c6214415675fbd32377d539276ca19c4407f
Author: Jeremy Allison <jra@samba.org>
Date:   Wed May 12 15:19:45 2010 -0700

    Pass more SMB2 oplock tests. Only oplock stream tests left to fix.
    
    Jeremy.

commit 9cddf891ad2a09ed1de83f3b51b4f2fc3e6855e8
Author: Julien Kerihuel <j.kerihuel@openchange.org>
Date:   Wed May 12 12:55:56 2010 +0200

    Choose between local tevent_status.h header file and installed one
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 693995c1c4d36e03537d66db9fa3823baf3e6002
Author: Julien Kerihuel <j.kerihuel@openchange.org>
Date:   Wed May 12 12:34:54 2010 +0200

    Install util/tevent_* public headers. Required by OpenChange for compiling IDL
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit e8139ac14ab3041109cc593a4fa32ea39a330901
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed May 12 19:18:36 2010 +0200

    s4:librpc: remove explicit ../librpc/gen_ndr/ndr_drsblobs.o from python_drsblobs
    
    It already comes via RPC_NDR_DRSBLOBS.
    
    metze

commit da64913f55fa2c3d0b34cda3b8c4953894c4ed66
Author: Karolin Seeger <kseeger@samba.org>
Date:   Wed May 12 16:21:56 2010 +0200

    s3-docs: Unify capitalization.
    
    Karolin

commit ad6f63822915463011074c9e5f3ed938b48579f4
Author: Karolin Seeger <kseeger@samba.org>
Date:   Wed May 12 16:17:33 2010 +0200

    s3-docs: Add documentation of the net g_lock subcommand.
    
    Karolin

commit da5c49d727150eea7d2a4b83da1a02ac1f26e77c
Author: Karolin Seeger <kseeger@samba.org>
Date:   Wed May 12 11:24:57 2010 +0200

    s3-docs: Move -D option to the right paragraph in man winbindd.
    
    Fix bug #7260 (Command line option documentation in wrong place in winbindd man
    page.). Thanks to Ged Haywood <samba@jubileegroup.co.uk> for reporting!
    
    Karolin

commit 1f9bce1c0d7081c14ee20750b7d3f6910c285d80
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed May 12 09:42:44 2010 +0200

    s4:heimdal_build: undefine __APPLE__ as we don't need that magic
    
    This hopefully fixes the build on Mac OS 10.
    
    metze

commit 825b59506ba92cbe875a6392c279c31b934f288e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed May 12 09:08:32 2010 +0200

    s4:heimdal_build: remove heimdal/lib/hcrypto/evp-cc.c from autoconf build
    
    metze

commit d5c3db6f8873fc9e1b30f982206f337892cc962f
Author: Olaf Flebbe <o.flebbe@science-computing.de>
Date:   Tue May 11 11:30:04 2010 +0200

    work around AIX6.1 name space pollution rename mod_name to module_name

commit 70f707c2196aa503909678dd891ab4b249f1241e
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 11 12:16:52 2010 +0200

    s3-rap: fix cli_oem_change_password() and give room for the convert reply word.
    
    Any servers I could find so far return it.
    
    Guenther

commit 99a7ebc5569e6d4d9128d17431b567516084f8a1
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 7 19:20:09 2010 +0200

    s3-lanman: use samr for api_SamOEMChangePassword().
    
    Guenther

commit 73d654ec2fcadf3c195017349ad4a727c8179f35
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 12 00:18:42 2010 +0200

    s4-smbtorture: create/delete testusers via SAMR in RAP-SAM.
    
    Unless we spent time researching the RAP useradd calls (and implement them in
    s3) it is far more easy to use existing SAMR calls to create and delete test
    users that are used for RAP change password operations.
    
    Guenther

commit b73b237a6b5e2a596c89608301454f0577f650ab
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 7 22:58:42 2010 +0200

    s4-smbtorture: add test_oemchangepassword to RAP-SAM.
    
    Guenther

commit 1cee92caaaca9f98e4e18aa597666297c2d347e1
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 10 12:14:58 2010 +0200

    s4-selftest: skip RAP-SAM tests against Samba 4.
    
    Guenther

commit 3ce8bcdd83d0758b2da6da2e89afb4923801406c
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 7 22:18:30 2010 +0200

    s3-selftest: enable RAP-SAM against Samba 3.
    
    Guenther

commit 931b7fcc8ae1d382c5402deb3baeafb9025056b2
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 7 15:45:23 2010 +0200

    s4-smbtorture: add RAP-SAM testsuite with a rap_NetUserPasswordSet2 test.
    
    Guenther

commit 84ab762fd55c1f02ec0e810813b51a0cae32b62b
Author: Günther Deschner <gd@samba.org>
Date:   Sun May 9 01:08:11 2010 +0200

    s4-smbtorture: getting serious about checking rap status return codes.
    
    Guenther

commit 19d99a64262735581c20d88ca449ca14f247f361
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 11 23:55:53 2010 +0200

    s4-smbtorture: add torture_create_testuser_max_pwlen() that allows to set maxpwlen.
    
    required for upcoming rap pwd tests.
    
    Guenther

commit 40e7a5879c3cca212d302d3bce78e1c6e588849c
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 11 17:46:18 2010 +0200

    s4-smbtorture: autolookup domain in torture_create_testuser() if none was given.
    
    Guenther

commit 4955ccfff52c18a37cf0ec6e547bb8da0f7269a2
Author: Jeremy Allison <jra@samba.org>
Date:   Tue May 11 14:00:38 2010 -0700

    Fix more SMB2-OPLOCK bugs. Only 3 more issues to address then we're good to go on this test.
    
    Jeremy.

commit 454b0b3f20ee8bdf56a12930261391e06567169c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu May 6 12:45:14 2010 +1000

    s3:kerberos Return PAC_LOGON_INFO rather than the full PAC_DATA
    
    All the callers just want the PAC_LOGON_INFO, so search for that in
    ads_verify_ticket(), and don't bother the callers with the rest of the
    PAC.
    
    This change makes sense on it's own (removing boilerplate wrappers
    that just confuse the code), but it also makes it much easier to
    implement a matching ads_verify_ticket() function in Samba4 for the
    s3compat proposal.
    
    Andrew Bartlett
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit d0a87f0098073b2b7c8b637eccbb9bd91aaa8a80
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 11 13:39:37 2010 +0200

    s4-smbtorture: test netservergetinfo level 1 also against s3.
    
    Guenther

commit 1a441113efae9444e643f69980aa8faed540b62e
Author: Björn Jacke <bj@sernet.de>
Date:   Tue May 11 20:46:19 2010 +0200

    not all versions of env like more than one argument...

commit 5d5e3920dce453369de433d805623b0761268416
Author: Björn Jacke <bj@sernet.de>
Date:   Tue May 11 19:11:38 2010 +0200

    pidl: fix build on systems that don't have perl in /usr/bin/

commit 7e49fd92ca8dca87cc13fade08c1aa5d95df55a6
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue May 11 10:34:19 2010 +0200

    s4:dsdb: cached results of samdb_rodc()
    
    metze

commit b81887f2d97969d98023896c90ec8aa98f30242c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue May 11 16:42:14 2010 +0200

    tdb: commit ABI/tdb-1.2.2.sigs
    
    metze

commit 5797b9a913f6a7f751485b42ecb4206fb589137a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue May 11 18:10:32 2010 +0200

    s4:heimdal: remove unused heimdal/lib/hcrypto/evp-cc.c
    
    metze

commit 33494074582b70a96e7762c4854003f65790aef0
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue May 11 16:21:45 2010 +0200

    s4:heimdal_build: remove heimdal/lib/hcrypto/evp-cc.c from the build
    
    This is not needed and contains one big #ifdef __APPLE__
    and breaks the build on Mac OS 10.
    
    metze

commit 04e19542245418e875b600c6fd4729283bcd5b73
Author: Michael Adam <obnox@samba.org>
Date:   Wed Mar 24 17:00:01 2010 +0100

    s3:configure: fix a message

commit 313add8fa944b2df915c1efdd68b0c9e267394fa
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue May 11 16:13:45 2010 +0200

    s4:torture/rpc/netlogon.c - don't use constant "AF_LOCAL" but do use "AF_UNIX" instead
    
    "AF_LOCAL" isn't portable but has the same value as "AF_UNIX".

commit 4fcd5446d3cd538cd79ed308c3e60631030fe2cc
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue May 11 16:07:19 2010 +0200

    s3:Makefile: build smbtorture4 as static binary with socket_wrapper support
    
    metze

commit eff3a41bb8206d183d8228592341dcb70b26eabf
Author: Björn Jacke <bj@sernet.de>
Date:   Tue May 11 15:23:54 2010 +0200

    waf:libreplace: set _OSF_SOURCE to fix build on Tru64

commit 82bedb5cb43da126f49352c8e70a54961143258d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue May 11 14:58:19 2010 +0200

    README.Coding - cosmetic changes
    
    - Fix typos
    - Wrap lines
    - Remove trailing whitespaces
    - use ":" instead of "::" - one colon should in all cases be enough

commit eda58884928845702e210afd75d0c0ece8f3dbfe
Author: Kai Blin <kai.blin@biotech.uni-tuebingen.de>
Date:   Tue May 11 14:24:47 2010 +0200

    build: skip missing executables in testwaf.sh

commit 2eab1d7fdcb54f9ec27431ca4858eb64cb1bd835
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 11 13:40:12 2010 +0200

    tdb: remove unused variable in tdb_new_database().
    
    Guenther

commit 7200c25646d1c34dd1ce723ab4fba3c40c89b6b0
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Tue May 11 11:35:54 2010 +0300

    Revert "s4-rodc: Fix provision warnings by creating ntds objectGUID in provision"
    
    This reverts commit c3cbb846d0bfbaa11fd255bada7fa5fe502d4d96.
    The fix is not correct, we should cache a bool to answer amIRODC

commit 8489934ce3cb1d11f94abab81ccdd00ee74d3d44
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue May 11 08:34:35 2010 +0200

    Revert "s4:password_hash LDB module - don't break the provision"
    
    This reverts commit 6276343ce1b7dd7d217e5a419c09f209f5f87379.
    
    This is not needed anymore.
    
    metze

commit ad5b9ae8dc5c410ac3d9a510a82aaef2551efb57
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue May 11 08:38:02 2010 +0200

    Revert "s4:password hash LDB module - check that password hashes are != NULL before copying them"
    
    This reverts commit fa87027592f71179c22f132e375038217bc9d36a.
    
    This check is done one level above now.
    
    metze

commit 8ff38004e8d7bd09e435901c315622e8d6af2403
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue May 11 08:32:40 2010 +0200

    s4:dsdb/password_hash: only try to handle a hash in the unicodePwd field if it's given
    
    Sorry, I removed this logic while cleaning up indentation levels...
    
    metze

commit b8c414b35f1bd37a70af7746ee5cc9427e4e31ee
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue May 11 08:03:56 2010 +0200

    README.Coding: fix good example
    
    metze

commit 9e643f0784c9af1c60b3fb879a46059a1355862b
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 10 23:41:08 2010 +0200

    s4-smbtorture: fix smbcli_rap_netuserpasswordset2().
    
    Guenther

commit 36b0fed567bc50324559bd2f72b51913eb4ba5d6
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 10 21:48:10 2010 +0200

    s4-smbtorture: fix smbcli_rap_netoemchangepassword.
    
    Guenther

commit fc6a22983b695e50f5da19000031be64764b32b7
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 11 00:53:41 2010 +0200

    s4-smbtorture: correctly fill in trans.in.data in rap_cli_do_call().
    
    Guenther

commit 56421886de87aa32ba6ea2badbc2d40b2ca8011d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 10 23:46:21 2010 +0200

    s4:password_hash LDB module - we might not have a cleartext password at all
    
    When we don't have the cleartext of the new password then don't check it
    using "samdb_check_password".

commit ae9fe3cc8e8dbdb40853e62f3ea7d9e4e4809850
Author: Jeremy Allison <jra@samba.org>
Date:   Mon May 10 14:23:44 2010 -0700

    SMB2 always have level2 oplock capability. Correct mapping from break messages to SMB2 oplock levels.
    
    Jeremy.

commit a776933de68955ce7356b03a7c5ae83da0e7961c
Author: Jeremy Allison <jra@samba.org>
Date:   Mon May 10 13:58:41 2010 -0700

    Stop us crashing in SMB2-OPLOCK test. Don't allow more than one outstanding immediate event.
    
    Jeremy.

commit 983606dbe0a23cab28d0f33a32a0e4ab0acf99a7
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat May 8 10:20:00 2010 +0300

    s4/tort: Add test for comparing special DNs

commit 1f3faea0463782d16bdbfd34b3b51624aca2bc90
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat May 8 10:19:14 2010 +0300

    s4/dn: handle case 'base' dn has no components
    
    This could if the 'base' dn is special for example.

commit 7cf1a2986fcc1654f254f22edf29bcde1e393c1d
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 7 22:10:51 2010 +0200

    s4-smbtorture: add smbcli_rap_netoemchangepassword().
    
    Guenther

commit 732a132c4f9699de629d3d12a14b4345ac51fb9a
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 7 19:26:43 2010 +0200

    rap: add rap_NetOEMChangePassword() to IDL.
    
    Guenther

commit 0085a3bd2e60cc6c539259d8d83e97e852ef5e52
Author: Jeremy Allison <jra@samba.org>
Date:   Mon May 10 11:29:34 2010 -0700

    Fix the processing of unlocks followed by locks. We now pass SMB2-LOCK test.
    
    Jeremy.

commit a9a3c83b413cf3f853845c9e9b6069ed3d7c1cde
Author: Jeremy Allison <jra@samba.org>
Date:   Mon May 10 11:09:41 2010 -0700

    Fix more of the SMB2-LOCK tests. Correctly unlock locks on error.
    
    Jeremy.

commit 4f25baecc14f977711ea5e3ddc226113e387fba3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 10 20:04:37 2010 +0200

    s4:password_hash LDB module - quiet a warning

commit fa87027592f71179c22f132e375038217bc9d36a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 10 20:02:21 2010 +0200

    s4:password hash LDB module - check that password hashes are != NULL before copying them

commit 6276343ce1b7dd7d217e5a419c09f209f5f87379
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 10 19:51:31 2010 +0200

    s4:password_hash LDB module - don't break the provision
    
    This is to don't break the provision process at the moment. We need to find
    a better solution.

commit 6131caad8f35b6fb3d3fe79c67f59ee228bef6c1
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sat Apr 10 20:04:13 2010 +0200

    s4:passwords.py - add a python unittest for additional testing of my passwords work
    
    This performs checks on direct password changes over LDB/LDAP. Indirect
    password changes over the RPCs are already tested by some torture suite (SAMR
    passwords). So no need to do this again here.

commit 029351571a5bd65a467ff9e7844a7a1ef3d688a0
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Thu Dec 3 10:48:44 2009 +0100

    s4:samdb_set_password - adapt it for the user password change handling
    
    Make use of the new "change old password checked" control.

commit 6e8098b261b9357204c8fa5534871a4c137ca1c5
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sat Sep 26 12:09:07 2009 +0200

    s4:samdb_set_password/samdb_set_password_sid - Rework
    
    Adapt the two functions for the restructured "password_hash" module. This
    means that basically all checks are now performed in the mentioned module.
    
    An exception consists in the SAMR password change calls since they need very
    precise NTSTATUS return codes on wrong constraints ("samr_password.c") file

commit fc8e3ffb5f261e7efdcbcef46b1f13c3b5599730
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon May 10 17:36:54 2010 +0200

    s4:password_hash - Implement password restrictions
    
    Based on the Patch from Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>.
    
    metze

commit 6a69ec2f5a046194c9f4dc108c0680ab263790c4
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Wed Sep 23 19:25:54 2009 +0200

    s4:password_hash - Rework to handle password changes
    
    - Implement the password restrictions as specified in "samdb_set_password"
      (complexity, minimum password length, minimum password age...).
    - We support only (administrative) password reset operations at the moment
    - Support password (administrative) reset and change operations (consider
      MS-ADTS 3.1.1.3.1.5)

commit 12c4b09fd511eaa0671ccf0b05d8407f97167105
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Fri Oct 23 12:51:47 2009 +0200

    s4:password_hash - Rework unique value checks
    
    Windows Server performs the constraint checks in a different way than we do.
    All testing has been done using "passwords.py".

commit 3ce4a0c5f26faad40f0b77f2da11b918b11ef3d2
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Fri Oct 23 12:51:47 2009 +0200

    s4:password_hash - Various (mostly cosmetic) prework
    
    - Enhance comments
    - Get some more attributes from the domain and user object (needed later)
    - Check for right objectclass on change/set operations (instances of
      "user" and/or "inetOrgPerson") - otherwise forward the request
    - (Cosmetic) cleanup in asynchronous results regarding return values

commit 726fb35f9f226a488c2b9793e4daa6cab63daa73
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Wed Sep 23 19:25:54 2009 +0200

    s4:dsdb: add new controls
    
    - Add a new control for getting status informations (domain informations,
      password change status) directly from the module
    - Add a new control for allowing direct hash changes
    - Introduce an addtional control "change_old password checked" for the password

commit 1913e03bd418808193e6ff0d595a6ce827d1e22e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon May 10 12:25:32 2010 +0200

    s4:setup: mark DSDB_CONTROL_DN_STORAGE_FORMAT_OID 1.3.6.1.4.1.7165.4.3.4 as allocated
    
    metze

commit 658dac9e7e037e171cf5d267b404e82768e2ea9e
Author: Zahari Zahariev <zahari.zahariev@postpath.com>
Date:   Mon May 10 13:53:56 2010 +0300

    v2 Latest enhancements in ldapcmp tool
    
    - Added support for replicating hosts versus hosts in different domains
    - Added switches for the following modes:
      = two - ignores additional attributes that cannot be the same
        in two different provisions (domains)
      = quiet - display nothing, only return code
      = verbose - display all dn objects through compare fase
      = default - display only objects with differences
    - Added more placeholders for nETBIOSDomainName and ServerName

commit c3cbb846d0bfbaa11fd255bada7fa5fe502d4d96
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Mon May 10 13:52:27 2010 +0300

    s4-rodc: Fix provision warnings by creating ntds objectGUID in provision

commit 83736066a3f94eaadb422016c9f22cb18bec2cd7
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 10 14:44:30 2010 +0200

    s3-rpcclient: fix two more invalid typecasts in spoolss commands.
    
    Guenther

commit ed39e9b67f38312b6786172e80b4d7057dbd513a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon May 10 14:48:41 2010 +0200

    s3: Work around dependency bug in Samba 4 waf build in merged build.

commit aa8d91ae8e6b4b813c0479f09be9e090aff047a9
Author: Volker Lendecke <vl@samba.org>
Date:   Mon May 10 12:05:01 2010 +0200

    libwbclient: Fix a fd-leak at dlclose-time
    
    __attribute__((destructor)) makes winbind_close_sock() being called at
    dlclose() time.
    
    Found while testing apache on Linux with mod_auth_pam.
    
    Other platforms will have to find a different fix. One possibility would be to
    always close the socket after each operation, but this badly sucks
    performance-wise.

commit 36e736871e28665ffcbbc4d0c87e1a2b60fcf0e0
Author: Volker Lendecke <vl@samba.org>
Date:   Mon May 10 11:53:03 2010 +0200

    s3: Test for "__attribute__((destructor))"

commit e2806f9e4d027439c983bcede714f5eed5bcf668
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 10 12:37:50 2010 +0200

    s4:acl ldb module - fix typos

commit 946993238fbb0e4920bf3c6c1178236b4f039b3b
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Oct 4 19:30:53 2009 +0200

    s4:dsdb/util.c - Add a new function for retrieving password change attributes
    
    This is needed since we have not only reset operations on password fields
    (attributes marked with REPLACE flag) but also change operations which can be
    performed by users itself. They have one attribute with the old value marked
    with the REMOVE flag and one with the new one marked with the ADD flag.
    This function helps to retrieve them (argument "new" is used for the new
    password on both reset and change).

commit 6ee53309a180d32cf6df1a72fde30c9455d5364d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat May 8 13:55:09 2010 +0200

    s4:blackbox password tests - more complex passwords

commit 01347844f5b224d567195f5a2e235491b6b174f5
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Wed Sep 30 20:59:42 2009 +0200

    s4:selftest - change test passwords
    
    The passwords need to be more complex to meet the new complexity criteria.

commit 47f74c89c99f6620e9029e87516aceb28f991ed0
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat May 8 13:55:25 2010 +0200

    s4:selftest: add --socket-wrapper[-keep]-pcap options to "waf test"
    
    metze

commit f754942862f0405454834154154c4b3b737ba53a
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 10 11:22:32 2010 +0200

    testprogs: update Makefile.mingw (although mingw current cant build it).
    
    Guenther

commit 86ec5fe3ee843f35a4577203b1c9f7d8739b80e3
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 10 11:15:59 2010 +0200

    testprogs: update README to reflect the util rename.
    
    Guenther

commit cda0c75e18f78022b94cb2c13f83342e0db7a8bc
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 10 11:06:03 2010 +0200

    testprogs: add readme for testspoolss.exe.
    
    Patch from Kurt Pfeifle <Kurt.Pfeifle@ricoh.de>.
    
    Guenther

commit e94825d159db49da0bc7e6e68014ce0afbbfb167
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 10 11:03:49 2010 +0200

    testprogs: add vcproj and sln files for testspoolss.exe.
    
    Patch from Kurt Pfeifle <Kurt.Pfeifle@ricoh.de>.
    
    Guenther

commit eb28a761e910f0ffec118ffd3a16ef4971da1232
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 10 11:01:54 2010 +0200

    testprogs: rename spoolss.exe to testspoolss.exe.
    
    Patch from Kurt Pfeifle <Kurt.Pfeifle@ricoh.de>.
    
    Guenther

commit 7887d99a60387e93ce5ce4a3bfe9117939d1e4c8
Author: Günther Deschner <gd@samba.org>
Date:   Sat May 8 02:16:37 2010 +0200

    s3-net: Fix Bug #7417. 'net rpc user password' can set the wrong password.
    
    Guenther

commit 3addebee349d0122781410eea8166f964f885568
Author: Andreas Schneider <asn@samba.org>
Date:   Mon May 10 10:27:42 2010 +0200

    tevent: Added a description for tevent queue.

commit d596bb1a1db8cc2851a51525e232bdba984342d6
Author: Andreas Schneider <asn@samba.org>
Date:   Mon May 10 10:24:53 2010 +0200

    tevent: Added an introduction to the tevent_queue tutorial.
    
    Thanks Volker.

commit b2e520a28b0d4b4285b177925a480ef2df89a345
Author: Andreas Schneider <asn@samba.org>
Date:   Mon May 10 09:56:18 2010 +0200

    tevent: Fixed a doxygen problem with PRINTF_ATTRIBUTE.

commit 876ed034c8c6c6e8ac4b2115a372bfcb244f1859
Author: Andreas Schneider <asn@samba.org>
Date:   Mon May 10 09:55:44 2010 +0200

    talloc: Fixed a doxygen problem with PRINTF_ATTRIBUTE.

commit 7c68512a216c63eb151bd8600c4aa5d1ad1bc729
Author: Kai Blin <kai@samba.org>
Date:   Mon May 10 09:58:57 2010 +0200

    build: Update the waf build to fix python header checks

commit e4ce727c8d4a39774b7e4b9687ee665ec286998e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 10 09:21:17 2010 +0200

    s3:provision_basedn_modify.ldif - add "msDS-NcType" attribute and fix comments

commit 8a2a8217f8ce439b310571a3df98559a03fa5ed0
Author: Günther Deschner <gd@samba.org>
Date:   Sun May 9 23:47:56 2010 +0200

    s3-proto: add missing protoype for dcerpc_fault_to_nt_status().
    
    Guenther

commit e6c4df43c8bf3fab146ab373688bc38ea3f34844
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 12:01:54 2010 +0100

    s3-lanman: use srvsvc for api_RNetServerGetInfo().
    
    Following MS-RAP 3.2.5.3 NetServerGetInfo Command.
    
    Guenther

commit 3c1e9a8c3367733724b7e89e930f9ac0b3348fff
Author: Simo Sorce <ssorce@redhat.com>
Date:   Fri May 7 09:26:41 2010 -0400

    s3-spoolss: Make spoolss_Time_to_time_t public.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 1cdc46a90afed2b6f0e85427850f62b3b7ef1bc3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 6 12:17:08 2010 +0200

    s4:samldb LDB module - make "samldb_member_check" synchronous again

commit 4153da4069da6d8a0aad201085315c71730ddf12
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 6 11:55:11 2010 +0200

    s4:samldb LDB module - make "samldb_prim_group_users_check" synchronous again

commit d91ee0b095db1c0cd15b117991aa476f99e65831
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu May 6 11:35:46 2010 +0200

    s4:samldb LDB module - update the copyright notice

commit 088a25912e8c306a82805b51a15f3ebe1e015934
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun May 9 11:45:24 2010 +0200

    s4:blackbox/test_kinit.sh - Test the new "net user add <user> [<password>]" syntax

commit ce4c0261f69732917ac7401dd123a03d4c13b030
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun May 9 11:24:10 2010 +0200

    s4:net utility - make outprinted description comments more consistent
    
    I've added a [server connection needed] when commands won't work on the local
    SamDB.

commit b703481ef78b4f2234cf0d6c087c25fcbe3bd65c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun May 9 10:57:03 2010 +0200

    s4:net utility - remove unixname parameter of samdb.newuser
    
    We don't handle the id mapping stuff manually anymore.

commit cde9ec4af673a658777596f56dcba055458a4b35
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun May 9 10:54:19 2010 +0200

    s4:samdb python bindings - remove idmap creation stuff from this call
    
    The id mapping should now be handled automatically by the s4 daemon.

commit 544dc4465c5ade3c5ed8417ddd5f09d4af0c2b31
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sat May 8 00:48:33 2010 +0200

    s4:net utility - add an optional password attribute to "net user add"
    
    To make it behave similar to "net newuser".

commit 6dfa851ce95b372c6c4bdd7a6c07c1ee183d1f7a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 7 22:43:36 2010 +1000

    s4:dsdb Provide an intelegent fallback if not CN=Subnets is found
    
    We may as well fall back rather than return NULL (which callers don't
    do useful things with).
    
    Andrew Bartlett

commit 23cafd5569729fe15f0c390cf5a276945662d8e8
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 7 21:09:40 2010 +1000

    buildtools: Add 'make testenv' to Samba4 make targets
    
    I'm still too addicted to this as my standard debugging environment, and while I can learn the new command, this helps the muscle-memory.
    
    Andrew Bartlett

commit 435ce8ebd7122a4a2d166acef6a83c21b7bd11a0
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat May 8 00:59:12 2010 +0200

    dsdb/password_hash: remove usage of msDs-KeyVersionNumber
    
    metze

commit 7b11ce738dbc94516350e1e64116be6bedd3b001
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri May 7 21:56:15 2010 +1000

    s4:dsdb Use replPropertyMetaData as the basis for msDS-KeyVersionNumber
    
    This means that the existing kvno will no longer be valid, all
    unix-based domain members may need to be rejoined, and
    upgradeprovision run to update the local kvno in
    secrets.ldb/secrets.keytab.
    
    This is required to match the algorithm used by Windows DCs, which we
    may be replicating with.  We also need to find a way to generate a
    reasonable kvno with the OpenLDAP backend.
    
    Andrew Bartlett

commit f1974fbdf975fbbed15ce223efa629a74c902b3b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Fri May 7 23:51:06 2010 +0200

    librpc:dcerpc_error.c - fix a warning

commit ecc3413bf5aa36250bba1969cb57d6af4c7d09d5
Author: Günther Deschner <gd@samba.org>
Date:   Sun May 9 00:42:54 2010 +0200

    s3-libsmb: fix argument order for tevent_req_default_print in cli_pull_print().
    
    Andreas, please check.
    
    Guenther

commit 0798ddf63a72e4259ce406ac199490eb5cb1f359
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 7 22:54:08 2010 +0200

    pidl: add NDR_PRINT_DEBUG output to generated s3 server dispatch tables.
    
    This dramatically helps tracking and debugging usage of the
    rpc_pipe_open_internal users.
    
    Guenther

commit 58b5a164440368d55e0a05ddfc4e772d6711513e
Author: Volker Lendecke <vl@samba.org>
Date:   Sat May 8 22:03:23 2010 +0200

    s3: Fix the build

commit e065ecc6b3680473cce46136af0772850fc0aee9
Author: Günther Deschner <gd@samba.org>
Date:   Fri May 7 15:40:49 2010 +0200

    s4-smbtorture: add smbcli_rap_netuserpasswordset2().
    
    Guenther

commit 93d2e91b901a2fea3ea87667fbb2e609029ae2c5
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 6 18:08:41 2010 +0200

    rap: add rap_NetUserPasswordSet2() to IDL.
    
    Guenther

commit 4afdb5a2a713985aed758a49144e23b2d0de842b
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 6 17:49:36 2010 +0200

    s3: move BASE_RID to main includes.h (in preparation to separate passdb).
    
    Guenther

commit b83ab96b16cd322d90bf84d8b71b523a2fda4aed
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 6 17:17:37 2010 +0200

    s3-passdb: moving account_pol.c into passdb.
    
    Guenther

commit 961993bc9126a85338303034718341576e783761
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri May 7 18:30:46 2010 +0200

    s3-merged: Make sure bin/ exists when copying in bin/smbtorture4.

commit 169aabae702c2ff7d5c59d387265dd842784bd36
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu May 6 15:31:48 2010 +0200

    s3-merged: Use newly added waf reconfigure subcommand.

commit 95421552be87d17353ba5a351a096e2b4bfdfae8
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu May 6 14:08:49 2010 +0200

    Reintroduce merged build, using waf to build smbtorture4.

commit 674a78d60a7dbc4d2af1b229a6b3b2a96c2517f3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu May 6 12:00:01 2010 +0200

    Revert "Revert "s3-build: Remove --enable-merged support.""
    
    This reverts commit 8f8e7c788a12d1e0bda9183ed765cc1048e105f7.

commit c18d58b854836fc8df56883f7197d6fce0d70c1d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu May 6 11:49:10 2010 +0200

    samba3: Generate C files from IDL in source3/librpc/gen_ndr rather than
    librpc/gen_ndr.
    
    This is done to make it possible to run waf in the source4/ tree at
    the same time, since waf has problems with files that were generated by
    something else.

commit 5b7163a23d92e0a0b00939218edfd685814d7881
Author: Jeremy Allison <jra@samba.org>
Date:   Fri May 7 07:25:13 2010 -0700

    Only MULTIPLE-UNLOCK test left to fix !
    
    Jeremy.

commit 31b12622cf87dc6f7263550120973b6c56e17ba4
Author: Jeremy Allison <jra@samba.org>
Date:   Fri May 7 06:54:16 2010 -0700

    When tearing down the connection make sure we close all files before
    freeing the global context, as we close access to the locking db
    before freeing the global context.
    
    Jeremy.

commit adf4833792f36653bc8a854aeff47598a046dad6
Author: Jeremy Allison <jra@samba.org>
Date:   Fri May 7 06:20:50 2010 -0700

    This patch looks bigger than it is. It does 2 things. 1). Renames smbpid -> smblctx in our locking code. 2). Widens smblctx to 64-bits internally. Preparing to use the SMB2 handle as the locking context.
    
    Jeremy.

commit 6fd4861d9def34c4dccce214c78bfbcc0fa291fd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri May 7 13:47:37 2010 +0200

    s4-devel: a very useful script when dealing with library/linking issues
    
    I use this all the time, so I thought I'd put it in the tree for
    others

commit 022266566d7b87fe3aea0c7080f6374c7740b11c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri May 7 11:41:50 2010 +0200

    build: fixed pc file variable substitution
    
    We should not substitute for the first use of each variable
    declaration in the pkgconfig file

commit e8c3da1fc09c3b0a2213952ec96294b3b5d8d4c0
Author: Björn Jacke <bj@sernet.de>
Date:   Fri May 7 13:45:00 2010 +0200

    idl: get the logic of the prevous commit right

commit 10e0641e3466ba765174a5036816f6ccef11922f
Author: Björn Jacke <bj@sernet.de>
Date:   Fri May 7 13:38:00 2010 +0200

    idl: fix Unix builds by replacing bashism
    
    test -nt is not portable - tridge, please check!

commit 5910f4cadea4f2564fe360602e5077c388a8c8cd
Author: Björn Jacke <bj@sernet.de>
Date:   Fri May 7 12:53:53 2010 +0200

    s3:configure: search fdatasync also in librt
    
    Sun^W Oracle Solaris has it there ...

commit 358a3855c20153d7fe742ca2e6b9bd8a9c92e525
Author: Björn Jacke <bj@sernet.de>
Date:   Fri May 7 11:56:38 2010 +0200

    s3:configure: use correct SONAMEFLAG on Solaris depending on which linker is being used

commit 4ad1943d29a273ad3770e7abd5f266c25608eb39
Author: Jeremy Allison <jra@samba.org>
Date:   Fri May 7 01:20:26 2010 -0700

    Make us pass all SMB2 lock tests except MULTIPLE-UNLOCK and CONTEXT. Them next :-).
    
    Jeremy.

commit 882fb1828f766f2c532c32472ab7ab81f03cd906
Author: Jeremy Allison <jra@samba.org>
Date:   Fri May 7 00:33:59 2010 -0700

    Fix crash in cancel-tdis lock test. Correctly shut down connection.
    
    Jeremy.

commit 815fcfba48ecf2596d989c646cd59c305b0d38ef
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri May 7 09:00:53 2010 +0200

    build: treat a blank --build or --host as not a cross-compile
    
    This matches autoconf behaviour

commit 1c7a60ef41d76526384d6b9e4ba03d3df251fe06
Author: Jeremy Allison <jra@samba.org>
Date:   Thu May 6 15:39:21 2010 -0700

    Fix cancel by close lock test.
    
    Jeremy.

commit 82900073fb38b8d86fe2b9ef2ef5cd9fabfbaec7
Author: Andreas Schneider <asn@samba.org>
Date:   Thu May 6 17:50:26 2010 +0200

    talloc: Documented the missing string functions.

commit 516f7c571e4499a3707505733941b396caad7edd
Author: Jeremy Allison <jra@samba.org>
Date:   Thu May 6 09:07:49 2010 -0700

    Fix SMB2 lock tests up to cancel-by-close.
    
    Jeremy.

commit a77a8a5e351bf9aeaeda571d753775c8d2977184
Author: Jeremy Allison <jra@samba.org>
Date:   Thu May 6 08:22:13 2010 -0700

    Fix more SMB2 locking. We still crash but this won't last :-).
    
    Jeremy.

commit e0f602f2c9252e4df81814fc8aa22641620f381b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu May 6 15:23:07 2010 +0200

    s4-devel: auto-delete any leftover IPs
    
    remove IP from a previous vampire_ad.sh run

commit 9ba08c22e807b8b3e744dc3146dbca4083e3e2f4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu May 6 15:22:11 2010 +0200

    s4-devel: a useful script for giving DRS replication demos

commit c61f4dcc0f9611448e726e203d65c674e4d74427
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu May 6 14:51:28 2010 +0200

    build: added a reconfigure target
    
    this is meant to be used by the s3 build, to allow jelmers work on
    smbtorture4 in s3 to avoid re-running configure unless its needed

commit 049416c285026c03fffc2e27225bfef5c2f16469
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 01:38:08 2010 +0200

    s3-spoolss: make several notify functions static.
    
    Guenther

commit d2d7174394c1283a3ae8e313f9a6d97df8708334
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 6 11:42:52 2010 +0200

    s3-eventlog: move all eventlog headers to lib/eventlog and only include where required.
    
    Guenther

commit 0dfe1b9b13d9caec4ebda37a792e7eaa0b9c7200
Author: Björn Jacke <bj@sernet.de>
Date:   Thu May 6 12:26:43 2010 +0200

    s3: fix the merged build - it required $LD
    
    Thanks to Jelmer for pointing that out!

commit fc336590dc35f1737ddc74333b959bdd32ee22d3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu May 6 10:41:43 2010 +0200

    Remove the copy of ldb from Samba 3.
    
    There were two utility functions that other parts of Samba 3
    still relied on; they have been moved to lib/ldb_compat.[ch].

commit 24b2dddae424215ab707029d30ec7bcd8f0e9a8e
Author: Günther Deschner <gd@samba.org>
Date:   Thu May 6 10:25:47 2010 +0200

    s3-build: fix the build of vfs_notify_fam.
    
    Guenther

commit d58b7955871213a4d0d4b77d080f6fc716350054
Author: Jeremy Allison <jra@samba.org>
Date:   Wed May 5 15:57:57 2010 -0700

    Move to MS-FSA algorithm when checking for invalid lock range.
    
    Satisfies SMB and SMB2.
    
    Jeremy.

commit c6ebab846d25563d051b1a1248ea288ba7eb0bcb
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 5 01:39:16 2010 +0200

    s3: only include gen_ndr headers where needed.
    
    This shrinks include/includes.h.gch by the size of 7 MB and reduces build time
    as follows:
    
    ccache build w/o patch
    real    4m21.529s
    ccache build with patch
    real    3m6.402s
    
    pch build w/o patch
    real    4m26.318s
    pch build with patch
    real    3m6.932s
    
    Guenther

commit d6a6362752b7a46178e80d36e4c3d69658d4f273
Author: Jeremy Allison <jra@samba.org>
Date:   Wed May 5 14:54:31 2010 -0700

    Get closer to passing SMB2 lock test. Still crashes but we get further.
    
    More work to follow later.
    
    Jeremy.

commit 67fb18adb072199d74c3a4b6caa6028be6b0f11e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed May 5 16:27:52 2010 +0200

    s4-ldb: check for ldap_initialize
    
    HPUX 11.0 has a ldap library that doesn't have ldap_initialize

commit 1969b4acc3fd7c124e288d0495b9b4665d4b42db
Author: Björn Jacke <bj@sernet.de>
Date:   Wed May 5 20:17:39 2010 +0200

    s3:configure: not simply check for "ld" but for the linker used by $CC
    
    this hopefully fixes Solaris' gcc build which uses the system ld by default.
    All in all we should clean up most of the compiler and linker flags depending
    on the actual compilers and linkers we use. Only some tweaks are OS-specific.
    A cleanup in this area should be done along with the move to a new build
    system (whensoever that will be ...).

commit d8ba02b73d53863d604ccbe0a4391d7b38590c1c
Author: Jeremy Allison <jra@samba.org>
Date:   Wed May 5 09:50:48 2010 -0700

    Return correct error on read request on directory.
    
    Jeremy.

commit 19758b354d835546fd9ba9cb8b9299dcea91b723
Author: Jeremy Allison <jra@samba.org>
Date:   Wed May 5 09:47:49 2010 -0700

    Get in_minimum and EOF errors right.
    
    Jeremy.

commit 4a97912baffd4c224677dd15da11c85c92901e4a
Author: Jeremy Allison <jra@samba.org>
Date:   Wed May 5 09:42:45 2010 -0700

    Client ignoring max write is a warning, not an error.
    
    Jeremy.

commit 44e9a90b512cd9eeaaa59fa1756a235621819f88
Author: Jeremy Allison <jra@samba.org>
Date:   Wed May 5 09:39:31 2010 -0700

    Start to pass the SMB2 read torture tests.
    
    Jeremy.

commit 8528e347cb1f16a195bfb66b740d16d2421b07fa
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 5 15:39:47 2010 +0200

    s3-lanman: use srvsvc for api_RNetShareAdd().
    
    Guenther

commit 65105aafb45dbb6d59da411a98b41dbdc4c1a0c7
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 5 18:23:45 2010 +0200

    s3-spoolss: remove unused winreg_enumval_to_blob().
    
    Guenther

commit 386c1fffacb712ed86d7665640ecaa2e764ab322
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Apr 30 10:01:10 2010 +0200

    s3-spoolss: Create default DsSpooler values.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 92df015e3009862a7e4f9fc9e3255ef47f1191fb
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 4 12:24:00 2010 +0200

    s3-spoolss: Fixed the DeviceMode handling in winreg.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 859a1e04fb2cb05144c91d30cc5f88a6bfd16596
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 4 11:44:12 2010 +0200

    s3-spoolss: Added winreg security descriptor functions.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a76cc0a18c6b3d0679bd1edae1cd0b6bef94d1a3
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 4 12:07:26 2010 +0200

    s3-spoolss: Migrated winreg to spoolss_create_default_secdesc.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit ed3852c2c2390c4817f76667d7605aada74d8666
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 26 21:02:12 2010 +0200

    s3-spoolss: make sure to return success in winreg_get_driver_list() for a
    non-existing architecture / version combination.
    
    Guenther

commit 83e324c4177f7c493c7181c8f81f6f1e02a7ad95
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 26 21:00:45 2010 +0200

    s3-spoolss: talloc_steal the returned driver_list in winreg_get_driver_list().
    
    Otherwise the function would return a pointer to a freed list.
    
    Guenther

commit 24225bf032fb99e8949a741007cc6d199ee4702c
Author: Simo Sorce <idra@samba.org>
Date:   Tue Apr 27 11:52:26 2010 -0400

    s3-spoolss: Fixed winreg_printer_query_XXX.
    
    A cast to an incorrectly sized pointer was breaking
    on 64bit architectures where size_t is 64bit.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 740418a150ff0ccccf47b4a40783c35f81723a89
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 4 11:43:27 2010 +0200

    s3-spoolss: Added a winreg_printer_query_binary function.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 66f76995114c01c619953d1c0c9f3f069ea91da1
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 4 12:07:10 2010 +0200

    s3-spoolss: Added a generic spoolss_create_default_secdesc function.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit b2ea8fbcce849f2fb41f381ab3d7af35e9778c9f
Author: Andreas Schneider <asn@samba.org>
Date:   Wed May 5 17:44:22 2010 +0200

    s3-spoolss: Added a function to create a default spoolss_DeviceMode.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 5a56bc948ecf740591e898cdb45f0f0c2b0a4c84
Author: Volker Lendecke <vl@samba.org>
Date:   Wed May 5 17:44:00 2010 +0200

    s3: Fix bug 5972 -- remove -L testparm parameter
    
    Thanks to TAKAHASHI Motonobu <monyo@samba.gr.jp> to point out that this does
    not work and to agree it's not worth fixing :-)

commit 3f0562f4b4cfe770baf2e529a445404a7b8f1141
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Apr 28 11:26:08 2010 +0200

    s3-spoolss: Fixed memory error in winreg_get_driver.
    
    The strings in the structure need to be initialized with an empty
    string.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit c95a79aae9f67dd476b7f6d1d12ad574b54c15ba
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 4 11:37:42 2010 +0200

    s3-spoolss: Added a sharename arg to winreg_update_printer.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 053ed7d554fe8822ceabda48968da5a87030104a
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Apr 26 13:36:19 2010 +0200

    s3-spoolss: Added missing servername option to winreg_{create,get}_printer.
    
    This is needed to be able to pass the correct servername from
    Printer_entry.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a5fb4117e18cfa334a455ff0ab37ab71ef23dfd2
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Apr 23 21:37:13 2010 +0200

    s3-spoolss: Added missing Printer Driver in winreg_{update,get}_printer.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 6659a0fe92ce67ff5edab1618d8809e745ab6354
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 5 17:17:12 2010 +0200

    s3-net: fix crash in rap_share_add().
    
    Guenther

commit d3bd9de0878f532f1ed3448d1632605264229f82
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 5 16:58:46 2010 +0200

    s4-smbtorture: remove unused variable from smbcli_rap_netprintdestgetinfo().
    
    Guenther

commit e90c874b256e9a0b3f2ae7063b499622dd49f721
Author: Günther Deschner <gd@samba.org>
Date:   Wed May 5 16:56:52 2010 +0200

    rap: add IDL for rap_NetShareAdd (undocumented in MS-RAP).
    
    Guenther

commit 10469d6606b79894f7f7cf83fb64002698a7c023
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed May 5 16:12:59 2010 +0200

    s3-build: don't rebuild/link on every make run

commit ed2941ba3d59ca7f043583a36582e2d5cdee65fe
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed May 5 15:16:26 2010 +0200

    build: added configure test for inline

commit 20d77705cece08ae5bebeca77db1f467d436748e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed May 5 14:12:26 2010 +0200

    build: update version of waf
    
    this fixes a slow configure problem on HPUX

commit 3d2819bd8605b02f2b1053ed0dabb906e9b78db3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed May 5 14:11:56 2010 +0200

    build: use the wrapper commands in testwaf.sh
    
    this ensures they are well tested

commit f8120ab6977074266cce6b665ed6aa3ef15953c2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed May 5 14:09:37 2010 +0200

    build: added a distcheck target

commit 47fb7dfd1c0b5917219a199d45b3d2fdded954c5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed May 5 14:09:26 2010 +0200

    build: mark cloned task generators as not posted
    
    this solves an incompatibility with a newer version of waf from svn

commit fa172c494f8d78838a33820e413f0528f83b2db9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed May 5 12:41:07 2010 +0200

    build: exit with an error if waf configure fails
    
    We don't want configure in the build farm to show green when it fails

commit b4c46bd7dfd268cf6f9390374a7638a548308064
Author: Andreas Schneider <asn@samba.org>
Date:   Wed May 5 15:33:09 2010 +0200

    libwbclient: Fixed doxygen errors.

commit 62143543cedd4fc0257d09fa656391479505740b
Author: Jeremy Allison <jra@samba.org>
Date:   Wed May 5 06:09:03 2010 -0700

    Fixed issue with return in a void function found by Björn JACKE <bj@SerNet.DE>
    
    Jeremy.

commit 7f2e59e4c198f9e2cfa45cf3c5727e39d5ec7c99
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed May 5 11:41:09 2010 +0200

    s4-ldb: add msg saying which build system is being used
    
    (this is a gratuituous commit to trigger the build farm to rebuild
    ldb on all systems)

commit dc2f962aacf018cefcf857b3ab05fdfa1aa1250c
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 4 23:07:03 2010 +0200

    tevent: Started a tevent_queue tutorial.

commit 239d59feab872a889268497ab6cfc88eb60ed42e
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 4 17:18:22 2010 +0200

    tevent: Document the tevent_queue functions.

commit 6c1bcdc2e200d8170da1a4080bdc8e5dafa68bb5
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 4 16:57:42 2010 +0200

    tevent: Document the tevent helper functions.

commit 78fbedf3695761d9966d3dea6c1fe5adb8b18196
Author: Andreas Schneider <asn@samba.org>
Date:   Mon May 3 21:04:54 2010 +0200

    tevent: Document missing callback typedefs.

commit a8e575ac2236f4542a0979a8f0d6f88576b772e4
Author: Andreas Schneider <asn@samba.org>
Date:   Mon May 3 20:29:54 2010 +0200

    tevent: Document the missing tevent async request callback functions.

commit d8a6b23b072f59bb2568d3cca9d496d47181292d
Author: Andreas Schneider <asn@redhat.com>
Date:   Mon Feb 8 21:10:55 2010 +0100

    tevent: Create a typedef for the debug function callback.

commit e286966bbabf41a7b1ef45da52b789c716ea9940
Author: Stephen Gallagher <sgallagh@redhat.com>
Date:   Fri Jan 15 10:38:24 2010 -0500

    tevent: Added more documentation.

commit 098221e8860d22b590671eddd6af6c143fca49b4
Author: Stephen Gallagher <sgallagh@redhat.com>
Date:   Fri Jan 15 10:33:14 2010 -0500

    tevent: Remove erroneous comments about TEVENT_FD_AUTOCLOSE
    
    There is no such flag.

commit 49c89b60e64b5d000b0d9fa8a6eada0d7ae1a814
Author: Andreas Schneider <asn@redhat.com>
Date:   Thu Jan 14 15:42:26 2010 +0100

    tevent: Add doxygen tevent config file.

commit 4263983cad2d9e3f0f536a3aa41352552ffa5ef8
Author: Andreas Schneider <asn@redhat.com>
Date:   Thu Jan 14 14:41:49 2010 +0100

    tevent: Added basic doxygen documentation.

commit 9e94354a4e193516b789f2027e223740fc2c9be9
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 4 23:18:26 2010 +0200

    s3-libsmb: Fixed a recursion in cli_pull_print.

commit 04327e280984517b1afd38e0fd49696f8b891e3f
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 4 22:38:23 2010 +0200

    tsocket: Added the warning again to tsocket_address_bsd_sockaddr.

commit 91e4a1760dee22e9a40ca52f1e5a1b549d9e066d
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Wed May 5 15:37:18 2010 +0930

    tdb: fix short write logic in tdb_new_database
    
    Commit 207a213c/24fed55d purported to fix the problem of signals during
    tdb_new_database (which could cause a spurious short write, hence a failure).
    However, the code is wrong: newdb+written is not correct.
    
    Fix this by introducing a general tdb_write_all() and using it here and in
    the tracing code.
    
    Cc: Stefan Metzmacher <metze@samba.org>
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>

commit a9e008ee36c8fd9ca79b3bdfdc78111939c3e539
Author: Luca Olivetti <luca@wetron.es>
Date:   Tue May 4 15:07:57 2010 -0700

    Fix bug #7263 - Unable to print using Samba 3.5.1 and cups-1.1.23-40.46 on SLES10.
    
    Fix cups encryption setting
    
    I had the same problem and it's due to the fact that samba doesn't respect the
    "cups encryption" setting since lp_cups_encrypt changes the value: if you set
    "cups encryption=no", the first call will change it to HTTP_ENCRYPT_NEVER,
    since that is 1 (i.e. true), the next call will change it to
    HTTP_ENCRYPT_ALWAYS and after that it'll remain set as HTTP_ENCRYPT_ALWAYS.
    This patch fixes this problem.
    
    Don't mix up the HTTP_ENCRYPT_XXX constants up with the
    enumeration constants (True, False, Auto) used in the
    loadparm code.

commit 17ce20ba960747b863e9c476ee7e46e051697fb2
Author: Simo Sorce <idra@samba.org>
Date:   Tue Apr 27 11:15:17 2010 -0400

    s3-spoolss: Remove duplicate macro.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 9c5a59b11e22104787fe7bd4b872a9b9c93c77a3
Author: Andreas Schneider <asn@samba.org>
Date:   Tue May 4 10:21:52 2010 +0200

    s4-torture: Added the printername to the AddPrinter comment.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit f5e41c5cde30e72a7f3597814cebaee4c1f0f9b4
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Apr 30 14:38:07 2010 +0200

    s4-torture: Fixed spoolss dsspooler printername test.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 6683b0d4b6908e54af501701bd20a12990e3e77f
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Apr 26 17:38:56 2010 +0200

    s3-lib: Create a sec_desc_merge and sec_desc_merge_buf function.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit efb1aea909fc088cc08b6d892d7dd1031fb79fdf
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Tue May 4 11:49:52 2010 +0200

    s4/waf: ABI update for lib/ldb

commit f84aeea7399eec38f7906dedaf3652af48c3d184
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Tue May 4 11:49:18 2010 +0200

    s4/rodc: Support read-only database
    
    Check on modify if we are RODC and return referral.
    On the ldap backend side now we pass context and ldb_modify_default_callback
    to propagate the referral error to the client.

commit bcdaa23798f74cdec8973201a849f562929ea416
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Tue May 4 11:48:18 2010 +0200

    s4/rodc: Fix the callbacks up the stack to handle referrals on modify requests

commit b57d11f1b36389c2dba025912db32d465ef6e7c8
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue May 4 17:21:30 2010 +0200

    s4:py_nttime2string - removed unused variable "nt2"
    
    And add some linespaces to look better.

commit 7e5fee98be728eab1c20a2da12c1eb0bab9a8ac2
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 4 17:18:22 2010 +0200

    s4-smbtorture: fill in test_rap_print().
    
    This tests pauses a printer over RAP, prints a file, enumerates the job, deletes
    the job and resumes the print queue.
    
    Guenther

commit cc46f4a319bec75856efedf9bb3f1eb8c4f9cc51
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 4 16:31:34 2010 +0200

    s3-libnetjoin: omit admin password in generated ndr_print function.
    
    Guenther

commit 1056a081000b9bc3efb8040a7384042b2e2ea976
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 4 15:39:21 2010 +0200

    s4-smbtorture: add test_netprintdestgetinfo() to RAP-PRINTING.
    
    Guenther

commit ff256b41b81b4a22187abdfd2cf80e977eeb2a4a
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 4 15:29:53 2010 +0200

    s4-smbtorture: add smbcli_rap_netprintdestgetinfo().
    
    Guenther

commit eee803372ae948a578fdda668fb8a2fe3c195788
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 4 15:24:54 2010 +0200

    s4-smbtorture: add test_netprintdestenum to RAP-PRINTING.
    
    Guenther

commit ab1d9a923c0e6b5b2df56adad7c915edfbcbc15d
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 4 15:23:53 2010 +0200

    rap: add rap_NetPrintDestGetInfo to IDL.
    
    Guenther

commit 990361a38c789685708c75d50695100cfad059da
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 4 15:23:08 2010 +0200

    s4-smbtorture: add smbcli_rap_netprintdestenum.
    
    Guenther

commit 5455e9d77d9375a34a6e82b386fbceeb38a5233a
Author: Günther Deschner <gd@samba.org>
Date:   Tue May 4 15:22:36 2010 +0200

    rap: add IDL for (undocumented) NetPrintDestEnum.
    
    Guenther

commit f4000eecf45b160d3d1d1e6147537d59b05b39a8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue May 4 07:48:54 2010 +0200

    s3-idl: update the 2nd build_idl.sh script

commit 2d13259aeff6bc5768404e5502890218bce128cd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue May 4 07:34:32 2010 +0200

    s3-idl: rebuild IDL files based on all outputs

commit 6f895fedf352ad49f4d438127ad1af4afb1cce98
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue May 4 06:59:08 2010 +0200

    s3-idl: auto-build IDL files in Samba3

commit f00a9b57159065b188277e1f6d0f7d9ed2817f9b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon May 3 17:28:23 2010 +0200

    s4-waf: we don't need the symlink hack for gen_ndr any more
    
    we can now generate files into the build directory

commit fd4dd2e2c6b1f8c29db72cffa6a17600757bd6bc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon May 3 17:25:56 2010 +0200

    .gitignore: simplify the .gitignore after gen_ndr removal

commit 5bff08d9a9660ba955c3ead669458a68b923d41a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon May 3 17:22:18 2010 +0200

    s3-idl: removed gen_ndr files from source3/ as well

commit 09eb1e3e458a5060fe28958867375abc292577fa
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon May 3 17:17:43 2010 +0200

    idl: removed the generated gen_ndr/ files from pidl
    
    Samba3 will add these to the release tarball instead. See the mail on
    samba-technical

commit 6ed45442c4b7ea4e3b22aae3d574ca4149940dcc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue May 4 11:58:28 2010 +0200

    build: enable python 3.0 and 3.1 in testwaf.sh
    
    try to ensure that we don't let support for python 3.x bitrot

commit ce67027c0705159d25ec616caf737736b4ea7ea8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue May 4 11:57:50 2010 +0200

    build: fixed wildcard handling for python 3.x
    
    print must take parentheses

commit ad32fabc542f99f8501a0db4f9e2f32731931f1e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue May 4 11:57:13 2010 +0200

    s4-waf: fixed indentation for python 3.1
    
    python 3.x is very fussy about tabs/spaces

commit a7b06f4c0d62b570e77360e7e29b805410379b78
Author: Volker Lendecke <vl@samba.org>
Date:   Tue May 4 13:54:51 2010 +0200

    s3: Fix a memleak in check_pac_checksum

commit 6eb839cd1695ce8da991c19611210eefda902c0f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue May 4 10:30:39 2010 +0200

    s4-script: added a --waf option to minimal_includes.pl
    
    This takes advantage of the new waf target syntax

commit 7281b021814379b9c477b42bcf1f2215014d88ae
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue May 4 10:08:43 2010 +0200

    build: allow use of target names as commands in waf
    
    This allows for the following types of commands:
    
     waf smbd/samba
     waf smbd/server.c
     waf ../lib/util/util_file.c
     waf ../lib/util/util_file_*.o
    
    this will be used as part of an updated minimal_includes.pl script

commit 727a1acd917baa1d8a5490569782ca41b7136215
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 3 20:23:45 2010 +0200

    s4-smbtorture: add extraformat to smbcli_rap_netprintqgetinfo() as well.
    
    Guenther

commit f181281c89a395f4efbcee7f984e13faa69df749
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 3 20:02:37 2010 +0200

    s4-smbtorture: use RAP extraformat for smbcli_rap_netprintqenum().
    
    Although w2k3 happily ignores it, the spec (and s3) enforce the addition of
    that.
    
    Guenther

commit 99e3b9a3672d4d847aea5e1ca446f543f810c84c
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 20:04:12 2010 +0200

    s4-smbtorture: add rap_cli_expect_extra_format().
    
    Guenther

commit dda0ebd0ac24f31e32fe3c145137641ae813afff
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 3 20:53:02 2010 +0200

    s4-smbtorture: make all smbcli_rap_* failures critical.
    
    Guenther

commit 6dafd5f8c72ef48fdf6da73aab4da0dbd66a7b6f
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Mon May 3 18:12:45 2010 +0200

    s4/test: Implement tests for msDS-isRODC constructed attribute
    
    This attribute will be returned for objects with
    objectClass=nTDSDSA,server and computer

commit d3081741c9d3fa6536e9427d75697bdf2295aaed
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Wed Apr 28 17:02:55 2010 +0300

    s4/rodc: Implement msDS-isRODC constructed attr

commit a4e35df3f5acd959d009f618f7bb00a6f18b4e19
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 3 17:15:25 2010 +0200

    s4:LogonGetDomainInfo - fix a potential crash source

commit e8a001c51617cc19a2d8fc7d7f86093e6e92952c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 3 16:59:53 2010 +0200

    s4:LogonGetDomainInfo - fix indentation

commit 8ed5e8ac9db6e68a1cb0acbd59b89b3f4958341d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon May 3 16:47:03 2010 +0200

    s4:LogonGetDomainInfo - remove singular "dNSHostName" check - this doesn't belong here
    
    I'm not really sure if this check is really done on Windows Server. And if it
    is done, then it's on the LDB level (module).

commit 6d1e8c58350803f2c380a332c13edc4528faa417
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon May 3 16:37:33 2010 +0200

    build: use the waf patterns for RPATH
    
    Use the self.env.RPATH variable to set the RPATH for each target. This
    gives consistent ordering of the link command, ensuring that we don't
    get rebuilds if we ask for a --targets= build after a normal build.
    
    This also means we are now using the RPATH_ST pattern, which means we
    can potentially support compilers that don't use -Wl,xxx as the
    command line for rpath support

commit 0003bb460bf25b894ddb0f864f22feaa25eb49e5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon May 3 16:05:19 2010 +0200

    s4-waf: fixed target group for SOCKET_WRAPPER

commit b3d8a7136a4c71fa73baa745f7e2ef137d82ce46
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon May 3 16:04:56 2010 +0200

    build: added a check for group ordering within target dependencies
    
    If target A depends on target B, then target B must not be in a later
    build group from target A
    
    Pair-Programmed-With: Thomas Nagy

commit 8bc5194b048d050b2d3ff30a5636f1567ec19e1e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon May 3 15:12:29 2010 +0200

    build: fix for combined configure/build in one command
    
    This is a fix from ita for "waf distclean configure build". Running
    it as one command failed with missing config.h

commit 4affc58c6a757c379aeb22d0b71cfa06aa926761
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 3 17:02:21 2010 +0200

    s3-lanman: before trying to call spoolss_ClosePrinter make sure we have a connection.
    
    Guenther

commit e2e39117bcea5264c913383ccc68e23307264c63
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Mon May 3 16:47:56 2010 +0200

    Replaced DS_FLAG_ATTR_IS_CRITICAL with SCHEMA_FLAG_ATTR_IS_CRITICAL.

commit 9cc10e6a5742f09261f01a2c0b3a94b7b772e573
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 3 15:54:14 2010 +0200

    s3-rpcclient: Fix Bug #7277. rpcclient was sending invalid data, causing cupsaddsmb to fail.
    
    Guenther

commit fcb53828dfade06c9b9b644d4fb3e074354947f9
Author: Andreas Schneider <asn@samba.org>
Date:   Mon May 3 11:25:26 2010 +0200

    tsocket: Fixed the documentation of tsocket_address_bsd_sockaddr.

commit 54e68b4949b8d7aadefe0eff8ea6b8c949a2ceb8
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Mon May 3 15:38:46 2010 +0200

    Added a couple of systemFlags, needed for determining filtered attributes.

commit 15b42d6515504862184f33ad8002135ec1e63158
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Mon May 3 14:50:10 2010 +0200

    Added a function to check if an attribute can belong to a filtered replica.

commit fe1617a818b13b2ff2289e3afd33f2ddcfa76124
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 3 13:42:32 2010 +0200

    s3-lanman: fix api_DosPrintQEnum().
    
    This was a subtile bug where the OpenPrinter call (called directly via
    dispatcher table) was modifiying r->in.printername in a way that all printers on
    a server had the printername stripped off the server unc. Once we switch to full
    NDR marshalling in inter RAP<->RPC server communication there is no danger
    anymore to have these kind of nasty effects.
    
    Guenther

commit 84aea4784a1798f2585cfa98b6126e21e830ae82
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 3 12:51:26 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit 094ee6cb433ab76e1f6a82476886a7d74e1036cb
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 3 12:48:55 2010 +0200

    pidl: indent cosmetics for s3 server stubs.
    
    Guenther

commit 5efdd13d12a0c4daf0d659556ea0eba4625499f4
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 3 11:57:06 2010 +0200

    s4-smbtorture: add test_netprintjobsetinfo to RAP-PRINTING.
    
    Guenther

commit 44fdec02fc03f5af5a081e80e8eda12ebc5f31ba
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 3 11:46:57 2010 +0200

    s4-smbtorture: add smbcli_rap_netprintjobsetinfo().
    
    Guenther

commit 457826947f97ad914e5e4543a9c668bd8b4fa019
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 3 11:45:52 2010 +0200

    s4-smbtorture: add rap_cli_push_param() and rap_cli_push_sendbuf().
    
    Guenther

commit fe33db6c06e107fef575da670d026c7303472e9b
Author: Günther Deschner <gd@samba.org>
Date:   Mon May 3 11:58:06 2010 +0200

    s3-lanman: exit early for unsupported levels in api_PrintJobInfo().
    
    Guenther

commit d1fe325a7681b7d9ca4ac354f0d43879c4615987
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 17:37:34 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit fced9445d9c73d2e519d1887503283fdfb2c08e5
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 17:37:16 2010 +0200

    rap: add rap_NetPrintJobSetInfo to IDL.
    
    Guenther

commit 51dcaf0e8e084e53bdbc85fd9632d1ba9c541ef6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon May 3 10:22:22 2010 +0200

    s4-waf: fixed symlink path for autogen.sh
    
    thanks to Nadya for noticing :-)

commit baffc1e89f424ed6f9478b4cd8c9de1601b51266
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon May 3 09:12:43 2010 +0200

    s4-waf: switch Samba4 over to the waf build by default
    
    the old autogen.sh is now calld autogen-autotools.sh
    
    For now autogen.sh is a link to autogen-waf.sh. We can remove
    autogen-waf.sh in the future, but for now I'm leaving it in place so
    as not to break existing scripts (both build farm, and the scripts for
    the standalone libs)

commit 6be5bc8e8009ef19473f25b7c4841bf56c4d13c7
Author: Matthew McGillis <matthew@mcgillis.org>
Date:   Sun May 2 18:08:29 2010 -0700

    Consolidate all get SEC_DESC into single procedure get_secdesc

commit 0a8b2b2119e40e72764f6a47f85007d6c0029849
Author: Matthew McGillis <matthew@mcgillis.org>
Date:   Sun May 2 18:08:02 2010 -0700

    always pass filename as const char

commit d83850abe2c393352ec65c32b3bcec7c33be7cd0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun May 2 16:12:14 2010 +0200

    build: uname on opensolaris returns 1 for success
    
    check for -1 as failure, not 0 for success

commit 7cbcf652c51d283ac55b898c60ea39e45a48e5dd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun May 2 15:53:14 2010 +0200

    s4-ldb: use a parent context in the ldb utils
    
    This avoids a talloc free with references error on exit

commit df6d0db21d31dee1bc51c3a0703e1ad9ab5f028b
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Apr 13 00:58:50 2010 +0400

    s4: Fix python binding for drsblobs
    
    This binding needs symbols in drsblobs_c.c otherwise we have unresolved symbols

commit f534080367ac886391efe1a5570a48400a1a66b0
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Apr 15 00:18:14 2010 +0400

    s4 python: fix glues functions manipulating NTTIME
    
    The fix include reverse function (from NTTIME to timestamp) + fix
    on the transformation of a NTTIME to a PyLong object

commit 831336293dfd9ab3771c2eb0f155b7423e71ec94
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Apr 15 00:18:46 2010 +0400

    pidl: Fix the generation of py helper for 64 bit integer
    
    Up to now the generation of code for python helpers dealing with 64 bits (NTTIME,hyper, ...)
    was broken because they were assumed to be Int (PyInt_From ...) as Integer is always 32 bits
    in python.
    This fix use PyLong and states that the incomming data is a long long as it should be 64 bit at least.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 668e28b80e47876bf32ac49abcb1e8f5e0c2cef0
Author: Volker Lendecke <vl@samba.org>
Date:   Sat May 1 14:51:15 2010 +0200

    s3: Unify DEBUG_KRB5_TKT_REGAIN and DEBUG_KRB5_TKT_RENEWAL
    
    I don't think it makes sense to #ifdef this one case separately.
    
    Metze, Bo Yang, please check!

commit ef0adbff93d0fd2aa05bd73da8774db47903c74d
Author: Volker Lendecke <vl@samba.org>
Date:   Sat May 1 14:39:01 2010 +0200

    s3: Fix a typo

commit 685b4625bcbae46b332a8c3dbb02d59812084519
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 25 15:36:02 2010 +0200

    s3: Fix the code order in append_auth_data
    
    This is to comply with the comment
    
    "currently, anything from here on potentially overwrites extra_data."
    
    Günther, please check!

commit 44e7ea692708c1c956fc9bd20ed9a6d5de9479a4
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat May 1 10:33:08 2010 +1000

    s4:credentials Make the CCACHE in credentials depend on the things that built it
    
    This means that we consider the ccache only as reliable as the least
    specified of the inputs we used.
    
    This means that we will regenerate the ccache if any of the inputs change.
    
    Andrew Bartlett

commit 485def3b5dae7c77fb0c01ed99b6865b7c5ceeb8
Author: Holger Hans Peter Freyther <holger@freyther.de>
Date:   Sat May 1 15:18:45 2010 +0200

    talloc: Documentation fix for talloc

commit dfd7ad20832d848349ba2974e43a1d545df2aded
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat May 1 18:22:20 2010 +1000

    s4:dsdb Fix use of memory after free in repl_meta_data
    
    The upgraded link values are were allocated on tmp_ctx, and need to be
    kept until they are written to the DB.  If we don't give the correct
    context, they will be gone after the talloc_free(tmp_ctx).
    
    Found by Matthieu Patou <mat+Informatique.Samba@matws.net>
    
    Andrew Bartlett

commit f4092ecec722d7e2c04f3049630975af9e96bc07
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Apr 30 21:03:20 2010 -0700

    Plumb the SMB2 front end into the blocking lock backend.
    
    Metze, you'll probably be happier with this work as it
    doesn't abuse tevent in the way you dislike. This is a
    first cut at the code, which will need lots of testing
    but I'm hoping this will give people an idea of where I'm
    going with this.
    
    Jeremy.

commit dffeb12f3dcb339bc258a7fbc38bbf9ec8dd928e
Author: Simo Sorce <idra@samba.org>
Date:   Wed Apr 28 19:42:04 2010 -0400

    smbd: move printfile_offset() within write_file()

commit b9a97cf8649141dcd13f09cd1866d60f090d0bbe
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 17:06:29 2010 +0200

    s4-smbtorture: add test_netprintjobgetinfo().
    
    Guenther

commit 7c88d30836f7a1a817bf32e2c5aa200e8808cdf1
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 17:06:03 2010 +0200

    s4-smbtorture: add smbcli_rap_netprintjobgetinfo().
    
    Guenther

commit 60736f1e055292aa9f318d71f97d3896f3570f4a
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 17:04:42 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit 24a2ddb6e367f18afb3923b344d268399c36a5b9
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 17:04:14 2010 +0200

    rap: add rap_NetPrintJobGetInfo to IDL.
    
    Guenther

commit 82d4e858eaa443a17511d2d6be1c627b2b1c5072
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 17:05:17 2010 +0200

    s4-smbtorture: fix smbcli_rap_netprintjobenum().
    
    It is just fine for a printq to have no pending jobs.
    
    Guenther

commit 400c07f0de19b6cc7da39b9c6d0a42eeed0b4ea1
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 14:57:19 2010 +0200

    s4-smbtorture: add test_netprintjobenum to RAP-PRINTING.
    
    Guenther

commit 753fde9c19ed2767b9da22d02a650732612c1843
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 14:52:48 2010 +0200

    s4-smbtorture: add smbcli_rap_netprintjobenum().
    
    Guenther

commit 3d5c7909ea34d7d3d1d668738cf8be60033f9f14
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 13:52:56 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit cd90e002bdc3e84c1f09994bd458bc3a420ae195
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 13:52:14 2010 +0200

    s3: add rap_NetPrintJobEnum (again a call not documented in MS-RAP).
    
    Guenther

commit 52b669b68e7de2ffa2b55ebfde90f9419f3b068b
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 13:38:49 2010 +0200

    s4-smbtorture: pause and resume printq in RAP-PRINTING test.
    
    Guenther

commit af2482989b3a55e7d0836a12b4464de98d541d0f
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 13:36:59 2010 +0200

    s4-smbtorture: use rap_status in smbcli_rap_* functions.
    
    Guenther

commit 4da66a36451a4f469f577a916cf869c7bc31ecd2
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 13:42:02 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit fc9c004e7d7bdf552de0ab584179a416bb23ec5e
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 13:38:04 2010 +0200

    rap: use rap_status in IDL.
    
    Guenther

commit 3bfceafed7ad33d7bdf4cf9391f71b57dbe54220
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 13:35:41 2010 +0200

    rap: add rap_status to IDL.
    
    Guenther

commit 7cdd6a15afb58b05f524ec859776ee02a41cf582
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 13:34:20 2010 +0200

    s4-smbtorture: add smbcli_rap_netprintqueueresume() and smbcli_rap_netprintqueuepurge().
    
    Guenther

commit 2df2cef437d19d2cb7675aa8297eaa24a8706bee
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 11:57:40 2010 +0200

    s4-smbtorture: add test_netprintq to RAP-PRINTING.
    
    Guenther

commit 7f1775e8604b405d89b578b0f04081c8273c7217
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 11:57:14 2010 +0200

    s4-smbtorture: add smbcli_rap_netprintqueuepause().
    
    Guenther

commit 3b3e19724cf178c916c6868c82f097000b79a1e2
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 11:56:47 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit 1cdb1a9df61274adaee90a32a7376635c29fc689
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 11:55:18 2010 +0200

    rap: add IDL for rap_NetPrintQueue{Pause,Continue,Purge}.
    
    it seems like they are not documented (at least not in MS-RAP).
    
    Guenther

commit 0f57a3991644d69f22ef7303aad03343bdf1ab3c
Author: Jeff Morriss <jeff.morriss.ws@gmail.com>
Date:   Fri Apr 30 00:11:54 2010 +0200

    pidl: Fix display field for time fields with newer versions of Wireshark.
    
    Pidl generates some Wireshark dissector fields of type FT_ABSOLUTE_TIME.
    Starting some time not too long ago, these fields need a 'display' field
    other than BASE_NONE or BASE_DEC.  This commit fixes this,
    *assuming* that all the times are "local."

commit e90444319c37c413ffc4e3a02531309dfa3ff565
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Apr 29 17:08:12 2010 -0700

    Carefully label SMB1-specific locking calls.
    
    Jeremy.

commit ebf6340bb568f279fc8b94856e01de473bd08575
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Apr 29 16:50:15 2010 -0700

    Move the global blocking lock records into the smb1 state.
    
    Jeremy

commit f2ccff806a5118ff1ff8a24aa85f56be61906d3a
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 01:45:44 2010 +0200

    s4-smbtorture: fix rap_pull_rap_PrintQueue2 and 4.
    
    Guenther

commit 93a9563a42cd0b1a81bb2cc3bd2c9f3473043463
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 01:45:24 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit a11745f21d237060b47549f8fba15df4e49adb8f
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 01:44:58 2010 +0200

    rap: fix rap_PrintQueue2 and rap_PrintQueue4.
    
    Guenther

commit 6a13c028a94772b66788f2a213e8c09707ee6596
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 01:11:44 2010 +0200

    rap: let the rap print function be autogenerated again.
    
    Guenther

commit 16e2185731afe482b3f12427253101efd3ad36c5
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 01:21:13 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit 62ef9ad581df87012858d88dcc30192ad29f46dc
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 23:27:27 2010 +0200

    rap: use astring in IDL.
    
    Guenther

commit 6156a4b73b6cb90bb31d927f0c07e6d53442481b
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 19:26:12 2010 +0200

    s4-smbtorture: test all levels in test_netprintqgetinfo and test_netprintqenum.
    
    Guenther

commit e8aaf4087b10a5aa88f3a3d2810a6a332fa2697e
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 19:24:20 2010 +0200

    s4-smbtorture: add rap_pull_rap_PrintQueue4.
    
    Guenther

commit e85824d9170644493e839c1ac2a82f7bd8345994
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 19:23:53 2010 +0200

    s4-smbtorture: add rap_pull_rap_PrintQueue2.
    
    Guenther

commit e13f2ed296f8f0432fb2f5035f724c4ad917f42c
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 01:20:34 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit 7dd67f6d035c827f3917f3ddcb056ec43fe37cb1
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 19:21:59 2010 +0200

    rap: fill in rap_PrintQueue4 IDL.
    
    Guenther

commit 131c51db382ddbeff61492f9b82b4bc283a9b0b3
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 01:19:53 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit 696e554e80a8ac9b3caea6c1afead14d1555ee95
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 19:20:07 2010 +0200

    rap: fix jobinfo IDL.
    
    Guenther

commit 9d9fc4cfe7f058baaf7d251a4d468d72e681e62c
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 19:21:40 2010 +0200

    s4-smbtorture: fix parsing of rap_pull_rap_PrintQueue1 and rap_pull_rap_PrintQueue2.
    
    Guenther

commit 1cb7b8ded66e0f9a7204b850ca2132d1392dfc6e
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 30 01:19:20 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit 4fc3aefc518af94de8c985ad177ff70c5df229ad
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 19:20:56 2010 +0200

    rap: fix some rap_PrintQueue IDL structures.
    
    Guenther

commit 37901bb96a7436f9b34e198d7de0b754b09612da
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 19:24:50 2010 +0200

    s4-smbtorture: add test_netprintjob() to RAP-PRINTING.
    
    Guenther

commit 1f69a7a80eb9057498a4805b883158dc1ce25901
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Apr 29 13:40:25 2010 -0700

    Attempt to fix bug #7399 - SMB2: QUERY_DIRECTORY is returning invalid values.
    
    Based on an initial patch from Ira Cooper <samba@ira.wakeful.net>.
    
    Jeremy.

commit ca860e4279a247a852f55d5226f916d1e956820a
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Apr 29 12:14:08 2010 +0200

    s3: range-check idmap script output
    
    Not doing so results in the id mapping succeeding once unchecked and later on
    being refused, because when reading from the tdb we do the checks.

commit fcdba1b36ffc3cfdeac71863f26a1605d3b24fa5
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Apr 29 12:11:04 2010 +0200

    s3: Fix an uninitialized variable in idmap_tdb2_sid_to_id()
    
    When we find an invalid record in the database, there's no point in checking
    the non-existing value against the range limits.

commit 81e75bacd346384a3e0ac3b2d73cb1981fe278d1
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Apr 29 12:09:48 2010 +0200

    s3: Fix some nonempty blank lines

commit 99518bc1ea330474ba27dcce0dde141026ebaae2
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 14:22:55 2010 +0200

    s4-smbtorture: add smbcli_rap_netprintjob{pause,continue,delete}.
    
    Guenther

commit d266af79b3e96e534c8d0b41e22fa758387c8727
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 14:12:14 2010 +0200

    rap: add IDL for NetPrintJob{Pause,Continue,Delete}.
    
    Guenther

commit 9a313bbac02a808b3cd7c3d1308919f4acfac874
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 13:27:58 2010 +0200

    s3-lanman: fix api_DosPrintQGetInfo().
    
    Found by torture test.
    
    Guenther

commit 5e8db42d50809b7664bc7c477010b689918e62c8
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 13:19:23 2010 +0200

    s4-smbtorture: add test_netprintqgetinfo to RAP-PRINTING.
    
    Guenther

commit 0df8c9ffde0e8692e5fa3898b2f559aa9f0e0fe6
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 13:18:33 2010 +0200

    s4-smbtorture: add smbcli_rap_netprintqgetinfo().
    
    Guenther

commit 169b72dce432bc6c5afc6a14ddf80dedcb467178
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 12:16:17 2010 +0200

    rap: add rap_NetPrintQGetInfo to IDL.
    
    Guenther

commit 2a9e8e348a0217fd6fbd41c95a3ed6083a6c4ecc
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 13:17:27 2010 +0200

    s4-smbtorture: rework smbcli_rap_netprintqenum a bit.
    
    Guenther

commit 1765732f82719a4bc925f21ef4999bd19a8d1f6c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 29 07:51:32 2010 +0200

    s4: remove unused references to swat
    
    metze

commit 8e792d7b9bd1f9ce35fdaf6db4fc1d08e2ba8bda
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 29 08:29:56 2010 +0200

    s4:dynconfig: fix fhs variables and list them all explicit
    
    This adds 'samba' subdirs to smb.conf and setup.
    
    metze

commit 48fb78eba6cfe8ddccc6af10170c0537a260c6b1
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 29 08:29:45 2010 +0200

    s4:dynconfig: reorder non fhs variables
    
    metze

commit ce9fde439b2d35ad0ba5c21a7796d05c0cf49c14
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 02:41:51 2010 +0200

    rap: fill in rap_PrintQueue2 IDL.
    
    Guenther

commit 2b1dae366217528dde13757fa64cf6b9d408a342
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 02:39:44 2010 +0200

    s4-smbtorture: implement and test level 3 and 5 of PrintQEnum RAP.
    
    Guenther

commit 1467b0e6f6162e67087374d0f78e16a38794a41a
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 01:13:06 2010 +0200

    s4-smbtorture: add NDR_PRINT macros for RAP tests (when called with -d10).
    
    Guenther

commit f5ac746091db768572d10997de05aa5f7e01d805
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 00:52:17 2010 +0200

    s3-pdb_ldap: fix memleak.
    
    Guenther

commit 7e678ef0cf22fa450ec6af16992d8992c5a13728
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 29 00:29:05 2010 +0200

    s3-lanman: fix api_DosPrintQEnum.
    
    Found by torture test.
    
    Guenther

commit f85a4ab778f693d605301b761596f43092c9d618
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 23:42:00 2010 +0200

    s4-rap: add rap print helpers.
    
    Guenther

commit 084c8065f871c1aa31f5d157f1843437db449603
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Apr 29 08:51:01 2010 +1000

    s4:libnet Make 'net vampire' more robust to command line arguments
    
    When we have just joined a domain, we know a bit about that domain.
    Use these to override previous guesses as to what domain and realm to
    use for the rest of the join.
    
    Andrew Bartlett

commit 716ae7b4c829c811eb8a7fe03b702afd51d448b4
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Apr 29 07:58:48 2010 +1000

    s4:howto Improve OpenLDAP backend instructions

commit dbbbc7d1f8a86bd0535c46f50fae8223c26afd9a
Author: Anatoliy Atanasov <anatoliy.atanasov@postpath.com>
Date:   Mon Apr 26 09:56:59 2010 +0300

    s4/rodc: RODC FAS initial implementation

commit 5a4ee75289e8394ea2f2de0b0415ed7f7ee54575
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Apr 24 01:21:15 2010 +0300

    s4/tort: Add simple unit test for dsdb_schema_info object creation

commit 59830d0a6effa6509eae384f08cf3df32cd53359
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Apr 23 16:35:21 2010 +0300

    s4/dsdb: schemaInfo revision may be 0
    
    In case schemaInfo value is still not set, WinAD supplies
    schemaInfo blob with revision = 0 and GUID_ZERO

commit a8438015cae6d426bf140feffec46e129688ec8e
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Apr 23 15:37:10 2010 +0300

    s4/dsdb: remove unused dsdb_schema_info_create() function

commit 2264d917ae626d6f2d8f5d2c128a4a95a4066665
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Apr 22 18:11:39 2010 +0300

    s4/dsdb: Update Schema cache with updated schemaInfo value
    
    Error checking is simplified and my leave leeks.
    I did it this way to make code more readable, and if we
    get error in those lines, it will be WERR_NOMEM in which
    case we are in a much deeper troubles than delayed freeing
    of few bytes.

commit e41eac96afb1d6d465faeb1e4e9a669cff1b8bc1
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Apr 22 17:59:22 2010 +0300

    s4/samldb: Create initial schemaInfo value if it doesn't exists yet

commit 546a727bd326464c6fac3c6454e4e98314e0e75a
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Apr 22 17:24:15 2010 +0300

    s4/dsdb: Use default schemaInfo value when no such value is given
    
    Having no value for schemaInfo is totally OK as it turns out.
    In such cases, we should use a default value with
    all fields set to 0.

commit da127d44e31306b4865e682be362fd9672d8201f
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Apr 22 04:39:04 2010 +0300

    s4/test: schemaInfo may not to be set yet
    
    On newly provisioned Forest schemaInfo is not initially set.
    It should be created after firs Schema modification

commit 5bf12e101aa729619758c38af5c682b2cd06ea70
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Apr 22 02:55:03 2010 +0300

    Revert "s4/dsdb: Set schemaInfo attribute value during provisioning"
    
    This reverts commit 8149094eddebd9a0e8b7c123c2ed54d00164bb26.
    
    Windows implementation does not set schemaInfo attribute value
    until first Schema update request.
    This way, newly provisioned forest returns no schemaInfo value.
    
    I think it won't be bad for us to have this value preset, but
    I want to mimic Win AD behavior as close as possible.

commit 2bf23735fa9d50954086d09f2e3ebd32390e2fa9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 29 09:22:12 2010 +1000

    idl: we only need ndr_rap.[ch] and rap.h

commit 66e47f393c9867c2c040b5310706f31b2bb5f314
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 29 08:26:19 2010 +1000

    s4-idl: added generated files from rap.idl

commit 4a87ca2028fe301d1d61e5cd365df49ff1f2dd22
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 29 07:47:57 2010 +1000

    s4-waf: added --enable-build-farm configure option
    
    this adds a smbtorture.static binary which s3 will use in the build
    farm

commit 08c3ce25c6d0571c6271645ef4dae3c5ca2b0e33
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 29 07:47:19 2010 +1000

    build: added enabled=True/False option to SAMBA_BINARY()

commit 4e7195be362ed51eeab26f7b07dfb7e4dd730d59
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Apr 28 14:56:12 2010 -0700

    Update (C) for 2010.
    
    Jeremy.

commit db3a1b9d515dadc43bca5b2fc3217ca2ef2f00a6
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 23:20:46 2010 +0200

    s4-selftest: skip RAP-PRINTING tests.
    
    Guenther

commit 8878be3c456c8562558024c1fef3a73e9eb71d82
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 23:19:33 2010 +0200

    s3-selftest: enable RAP-PRINTING against s3.
    
    Guenther

commit d53544800fffd07b01ae77dac0d391c8e0c3dd79
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 23:11:37 2010 +0200

    s3-lanman: support level 0 NetPrintQEnum RAP query.
    
    Guenther

commit 2c5b3fc40b4b8e288463a98c9edbcf07f2cfbd73
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 23:08:14 2010 +0200

    s4-smbtorture: link in ../../librpc/gen_ndr/ndr_rap.o.
    
    Guenther

commit bdfb9a43d33ab0bff84591914566a8dff3f4cb46
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 18:29:18 2010 +0200

    s4-smbtorture: add test for rap_NetPrintQEnum.
    
    Guenther

commit 03d83128dd9d24d9aabeef51895f8995ae5a3b81
Author: Günther Deschner <gd@samba.org>
Date:   Sat Apr 24 00:45:40 2010 +0200

    s4-smbtorture: add RAP-PRINTING suite.
    
    Guenther

commit 1764bcecf2f0fd388a888835019a8e064e6c30fa
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 12:50:58 2010 +0200

    s4-smbtorture: add smbcli_rap_netprintqenum.
    
    Guenther

commit 42003e5661549ed9c4f34174509c0f4977510f30
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 17:43:47 2010 +0200

    s3: re-run make samba3-idl
    
    Guenther

commit b66602898a2b99bc1628b7a3f7571926959d8e21
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 12:50:45 2010 +0200

    rap: add rap_NetPrintQEnum to IDL.
    
    Guenther

commit ac09506d36ea3018f888775058901498ab6aa370
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Apr 28 14:13:22 2010 -0700

    Connect set security descriptor into SMB2 code.
    
    Jeremy.

commit 37e9019119326aca374d55c6379b13b5cd0f564a
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 17:03:30 2010 +0200

    s4-smbtorture: when comparing PrinterData from DsSpooler and PrinterInfo also
    query some existing values.
    
    Guenther

commit 6cb21806e8f6c811e4b0255851deaa655455469a
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 17:00:53 2010 +0200

    s4-smbtorture: add a test that adds a printer incl. devicemode.
    
    Guenther

commit d5cc067367ec58a011c69570d3fe6bf778c565e2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 15:20:25 2010 +0200

    s3:smbd: make fsp->fake_file_handle a talloc child of fsp
    
    metze

commit 4783f84264d850bbceb995a1454eb01671e0c026
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Apr 28 14:36:10 2010 +0200

    s3:smbd: add comment about returning STATUS_BUFFER_OVERFLOW in pipe_read_andx_done()
    
    metze

commit ae1c040b518273fd83797fcde170141aec9fe182
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Apr 28 12:27:09 2010 +0200

    s4:smb_server/smb: SMBreadX can return STATUS_BUFFER_OVERFLOW
    
    metze

commit 21ec116bbf51b76f17b9e4054969ef315f5e2dd0
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Apr 28 10:43:19 2010 +0200

    libcli/named_pipe_auth: we need to hide length of the message mode header from the caller
    
    metze

commit 6129aa0cf5567c793ed65d1402a7e7fd7e5f6a92
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Apr 28 14:52:40 2010 +0200

    s4:web_server: use tsocket_address functions to get the local ip and port
    
    metze
    (cherry picked from commit 9a1a00199c2603376eacfdba7e7d0d55bc64f405)

commit a53b09141cd57d7dc94bd0d0e05d7d25ee110857
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 13:34:31 2010 +0200

    s4-smbtorture: start on a test to verify how SetPrinter changes DsSpooler Printer Data.
    
    Guenther

commit eed665d653828832ec57642126c4040c47dd6e90
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Apr 26 15:48:18 2010 +0300

    s4/net_drs: Fix Connection name printed

commit bf49ac99c94e4d937fd8d0532761b5635e372d84
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Apr 26 00:22:53 2010 +0300

    s4/dsdb: dsdb_validate_invocation_id() should validate by objectGUID
    
    This function is used in DRSUpdateRefs() implementation where we
    get DSA's objectGUID rather than invocationId

commit 5197d76faa6316d7e80b1c714c7a6f028ce527d2
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Apr 28 10:54:57 2010 +0200

    s3: Make a debug msg more readable

commit c9a3661c4b0997172782c55de4a3b15dff2c6ea4
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Apr 27 22:15:17 2010 -0700

    Fix the "allow_smb2" bug being set to false that was driving me mad :-).
    
    The first packet from a rebooted Win7 on an SMB2 connection is an SMB1
    negprot...
    
    Jeremy.

commit 3c585e9a8068d5065b1a5f320ffd130290c1cd07
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Apr 28 10:39:05 2010 +1000

    s4:provisionbackend Don't loop forever waiting for OpenLDAP
    
    We need to give a good error when we can't get OpenLDAP to accept our
    connections.
    
    Andrew Bartlett

commit 4d1f0436bd4f63887173473541efa205fb98210f
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Apr 27 17:09:40 2010 -0700

    Don't return a potentially uninitialized NT_STATUS. We can now see user lists in Windows ACLs.
    
    Jeremy.

commit 33256e41e1ed7a4a2caeef2f0cf26d0abb9032ca
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Apr 27 17:07:44 2010 -0700

    Add debug statements so I can track the flow of RPC data.
    
    Jeremy.

commit f56d9006d5790b8b752c72600ccd3942a2742f17
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 01:11:19 2010 +0200

    s3-lanman: use spoolss for api_WPrintDestGetInfo() and api_WPrintDestEnum().
    
    With this, I think, all implemented RAP printing calls are routed over SPOOLSS.
    Torture tests to follow...
    
    Guenther

commit c88ff10d690094617ed382a6ff16921a7bef2a63
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 01:10:49 2010 +0200

    s3-lanman: fix debug message in api_WPrintJobEnumerate().
    
    Guenther

commit 566ea59b27b97038f7fd4315746019eab002a599
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 01:07:08 2010 +0200

    s3-lanman: remove a unnecessary memset in api_WPrintJobEnumerate().
    
    Guenther

commit fe1f503a957aa0041ae101e27950b7e31a965548
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 23:12:40 2010 +0200

    s3-lanman: remove unused code.
    
    Guenther

commit f23bcb5c5e64cfd6b8a4b19568d40919c28610f1
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 22:55:11 2010 +0200

    s3-lanman: use spoolss for api_DosPrintQGetInfo and api_DosPrintQEnum.
    
    Guenther

commit f11a5d196d6beaeb8445d759559ff684045776f5
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Apr 27 16:07:12 2010 -0700

    Don't return an intermediate reply on async on a pipe call (Windows doesn't).
    
    Jeremy.

commit f4f9d54721a3b6b9bf61ba84eaf144cbecbcf937
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 19:58:32 2010 +0200

    s3-lanman: use spoolss for api_PrintJobInfo().
    
    Guenther

commit d6d8c3ffe3a235fe6b55a79989e1734d229ca8f1
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 28 00:05:41 2010 +0200

    s4-smbtorture: also try renaming jobname in test_DoPrintTest_check_jobs().
    
    Guenther

commit b87b1de83432611e511e511d0320b8c1c1a8b323
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 23:33:05 2010 +0200

    s4-smbtorture: allow to pass down spoolss_JobInfoContainer to SetJob functions.
    
    Guenther

commit 2af449391b28dda10ebb797fcf61e2319b36a0b0
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 23:31:25 2010 +0200

    s4-smbtorture: be more liberal when spoolss_SetJob fails.
    
    For some reason, spoolss_SetJob pausing and resuming of printjob is still racy
    on the buildfarm. Converting the fatal assert to a warning for now.
    
    Guenther

commit 1691eb73da62f3a50c12031d0a76cc6d4deed955
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 19:57:47 2010 +0200

    s3-spoolss: add support for SetJobInfo level 1 (for jobfile rename).
    
    Guenther

commit 2b7002f38571a920244d9ad309c606caaf2c0411
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 19:30:49 2010 +0200

    s3-lanman: remove unsupported print_job_set_place().
    
    Guenther

commit ce8595f68e3ca6fd8be0d4777aa8157e29597444
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Apr 27 12:10:20 2010 -0700

    Fix more S3 build breakage. Matthias, please ensure S3 builds when
    changing common code.
    
    Jeremy.

commit e6f59613fec82710914c429d97a1e1144723b0f9
Author: Marcel Ritter <Marcel.Ritter@rrze.uni-erlangen.de>
Date:   Tue Apr 27 13:53:04 2010 +0200

    Install spn_update_list to setup/ dir
    
    Signed-off-by: Matthias Dieter Wallnöfer <mdw@samba.org>

commit 079897709ed99dac049d7b2b5f0c1958527462c4
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 27 20:45:06 2010 +0200

    s3:libads/ldap.c - fix a build breakage

commit d1db751ff8e6b15c059db254b57c72dfda8d4bfc
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 27 18:25:21 2010 +0200

    Revert "s4:web_server: use tsocket_address functions to get the local ip and port"
    
    This reverts commit 9a1a00199c2603376eacfdba7e7d0d55bc64f405.
    
    This broke the build.

commit 79a29a8cd65534884934c60ae2fb2854e064722b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 27 18:07:09 2010 +0200

    s4:cldap_server/netlogon.c - handle the domain SID correctly

commit eceffe690912b1fbce4ecddaffd29b52e2cf9cd1
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 27 16:56:36 2010 +0200

    nbt: samlogon/netlogon structures - unify denominations

commit 3f1bd92306b2f11b5c8086ef9e0a311d9e99da89
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 27 16:32:46 2010 +0200

    s4:fill_netlogon_samlogon_response - reorder assign operations (to be consistent)

commit a89ba9e21d53ae2c163e6cdaf4198d3148d5019e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 27 16:31:07 2010 +0200

    s4:fill_netlogon_samlogon_response - use "lp_workgroup" for the short netbios domainname
    
    This call is only for the DC mode.

commit 7efb43669838245cd240ac2c5aa443ba0d285b9c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 27 15:27:40 2010 +0200

    s4:torture - DsRAddressToSitenames[Ex]W testsuite - make it IPv4-only compatible

commit 8f8e7c788a12d1e0bda9183ed765cc1048e105f7
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 18:00:43 2010 +0200

    Revert "s3-build: Remove --enable-merged support."
    
    This reverts commit f8fc7fcbeb8141c5b2775e2219bae17c55ad4a3c.
    
    Was that pushed by coincidence ? merged build is really, really required over
    here.

commit 158d41b6b4264e7ece93cf77a15e70ccbf8673b8
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 17:52:47 2010 +0200

    s4-smbtorture: make sure to zero the add driver info 8 struct before adding drivers.
    
    Guenther

commit 7532640a74bbdd3c815e29732785350e9622925e
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 17:32:34 2010 +0200

    s3-spoolss: publish "Monitor" in winreg for drivers.
    
    Found by torture test.
    
    Guenther

commit 70ec7e07001d0308cb3902b13378a1ef61b2acb9
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 16:48:29 2010 +0200

    s3-spoolss: fix winreg attribute for storing datatype.
    
    Found by torture test (and checked with w2k, w2k3 and w2k8).
    
    Guenther

commit 03a9ac4e2bb28620c773104f4b3dd23798b7146c
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 17:55:55 2010 +0200

    s3-spoolss: fix some uninitialized variables.
    
    Guenther

commit b764145ac8523f6e44d22adfef1bcd6cecbbed48
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 13:36:21 2010 +0200

    s3:smbd: keep local and remote tsocket_address per connection
    
    metze

commit 8f74d38c3a4a853f608fed0bed1b55915d01555a
Author: Björn Jacke <bj@sernet.de>
Date:   Tue Apr 27 17:06:55 2010 +0200

    s3/packaging: make rpm build work by overriding strict linker flags

commit 7ca576e5c4a0da616c2a6738859c9c989f76202e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 16:49:00 2010 +0200

    s4:rpc_server: remove unused socket_address based functions
    
    metze

commit 9a1a00199c2603376eacfdba7e7d0d55bc64f405
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 16:36:26 2010 +0200

    s4:web_server: use tsocket_address functions to get the local ip and port
    
    metze

commit 41d970718a105a1321cf80bc1004b51b7af7cc69
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 16:05:08 2010 +0200

    s4:smb_server: use tsocket_address_string() for debugging the client address
    
    metze

commit b7782514b91b365ec07426d4adfc8f59c53c372e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 16:17:28 2010 +0200

    s4:wrepl_server: use tsocket_address functions to get the peer ip
    
    metze

commit 0a70788e190ca00cab27c67000abf77617141b5e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 17:04:32 2010 +0200

    s4:lib/registry: fix the waf build
    
    The pass to a source file is relative to the wscript* file.
    
    metze

commit a2b8e28aef1799cac45809bfe38c9b0980aef68f
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 15:56:09 2010 +0200

    s4-smbtorture: upload the full cups driver, otherwise windows will not allow using it.
    
    Guenther

commit f44cec7b60f3b6449fe2844a1600438b7b13682c
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 15:48:03 2010 +0200

    s4-smbtorture: only compare level 3 for s3 when checking winreg and spoolss_Driver.
    
    Guenther

commit a0fd53e388466c4866f96d2ca728eec28181e42f
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 14:13:12 2010 +0200

    s4-smbtorture: mention architecture of added drivers in debug output.
    
    Guenther

commit b40d2815cd3495b66ed2b469e3495baf1a7a6256
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 15:48:52 2010 +0200

    s4-smbtorture: make sure to not attempt to remove a driver file twice.
    
    Guenther

commit ad80131bb176b17fda15e9a76f3934913829a0bb
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 13:15:04 2010 +0200

    s4-smbtorture: setup all members of level 3,4,6,8 driver add.
    
    Guenther

commit fc3e9595060db116cd6661baa311ba6fe992162a
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 11:30:35 2010 +0200

    s4-smbtorture: use a torture_printer_context and upload own driver for RPC-SPOOLSS-PRINTER test.
    
    Guenther

commit 12cf6dc8ee649e5888dd7210bd279931fa2ff4e0
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 10:38:36 2010 +0200

    s4-smbtorture: split RPC-SPOOLSS-PRINTER into more tests.
    
    Guenther

commit b062cac6c4b15569ae42dc7e4fea9ee709fce337
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 26 23:35:19 2010 +0200

    s4-smbtorture: finally test REG_MULTI_SZ in winreg/driverinfo consistency tests.
    
    Guenther

commit 6864828d9d85dacff0ca9df73761a98d2ceb9f2e
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 16:38:40 2010 +0200

    s3: use shared registry functions.
    
    Guenther

commit a833be0c4e44135e4f45b3d460586762da04cf32
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 16:37:56 2010 +0200

    s4: use shared registry functions.
    
    Guenther

commit ee1b8e5edeecd5a6a3526e88265a5ad28522a45d
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 27 16:37:06 2010 +0200

    registry: add some shared registry helper functions.
    
    Guenther

commit c2c56722b5588206fefaa0fdfa1ea9a8b557750d
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 26 23:21:07 2010 +0200

    s4-smbtorture: remove some typecasts in rap tests.
    
    Guenther

commit 91bb4893c486275602242b67c810f02adb7ce9ba
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 27 23:39:57 2010 +1000

    s4-netlogon: fixed getDcNameEx2 for blank inputs
    
    w2k8r2 returns the local DC information on no inputs for
    getDcNameEx2. This is needed for starting dsa.msc (ADUC) on
    Win7.
    
    CDLAP on the same call returns an error. This uses a parameter
    fill_on_blank_request to distinguish the two cases.

commit 7f25723cf504b3cdc0db68ff4125539baa486975
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 16:17:28 2010 +0200

    s4:wrepl_server: use tsocket_address functions to get the peer ip
    
    metze

commit 9dd4419ebe12d8a4eb467cf26640de5575e04e83
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 16:05:08 2010 +0200

    s4:smb_server: use tsocket_address_string() for debugging the client address
    
    metze

commit 54abb0724b5577eb7a9a132f647649dc30931b18
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 15:45:12 2010 +0200

    s4:smb_server: use tsocket_address_string() to display the client address
    
    metze

commit 8fce492ffc0f276d433825ebc1ec4c7ad4c33cfa
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 15:44:40 2010 +0200

    s4:smb_server: remove unused socket_address functions
    
    metze

commit 7c4d9fa0e9f45ddf789fe6c90227d8a67273d9d9
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 15:06:33 2010 +0200

    s4:ntvfs/ipc: remote // debug comments
    
    metze

commit 1cd4f50079290e20bbe6be21d71ea654b6afb032
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 27 21:56:51 2010 +1000

    s4-torture: not all platforms have defines like AF_AX25
    
    all we need are invalid values here, so just use fixd high values.

commit d94c94fcb94ae0dfd221b5c807ec310f9c0fd8ed
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 26 13:38:00 2010 +0200

    s4:ntvfs: remove socket_address based functions
    
    metze

commit bb04e90259315fd49fe1222b7c8f7fce23f1a2b6
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 26 13:37:12 2010 +0200

    s4:ntvfs/ipc: pass the already given tsocket_address structures to the named_pipe_auth code
    
    metze

commit 8fb3292c993302b74247d6fa4795b279b131abcf
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 26 13:34:44 2010 +0200

    s4:smb_server: pass tsocket_addresses to the ntvfs layer
    
    metze

commit c04d809ba001ebca17b68eae3a9f7d37454a290c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 26 13:40:15 2010 +0200

    s4:ntvfs: add tsocket based addresses to ntvfs_context
    
    metze

commit 7bbaab8dffcfe55b5da099840ec200be4d098b69
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 26 13:39:36 2010 +0200

    s4:rpc_server: remove 'socket_address' based functions
    
    metze

commit 32bcc73cf8b59e2254967d55ebeb2715d4287840
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 26 13:27:51 2010 +0200

    s4:rpc_server/srvsvc: pass tsocket_address to the ntvfs layer
    
    metze

commit 772cf15eb969591d65598a03fee24a4e559158ea
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 26 13:22:01 2010 +0200

    s4:rpc_server/spoolss: use tsocket_address in dcesrv_spoolss_check_server_name()
    
    metze

commit 606025f11de9e1b9fa7c6d69a6fc346ca984dd93
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 26 13:18:41 2010 +0200

    s4:rpc_server/netlogon: use tsocket_address in dcesrv_netr_DsRGetDCNameEx2()
    
    metze

commit c42bb8e49c77517729f9b57a81fd07815b5b493a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 26 13:06:07 2010 +0200

    s4:rpc_server: remember the local and remote address
    
    metze

commit ba703cb8e90070447dda46a3356f6a49b2fee537
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 26 13:56:06 2010 +0200

    s4:service_named_pipe: use the passed client and server addresses
    
    This gives the rpc server code the correct client and server
    ip addresses for ncacn_np.
    
    metze

commit cf3c595b9c6778ee4dea28176936013bc1f1e876
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 10:22:25 2010 +0200

    s4:cldap_server: allow src_address = NULL in fill_netlogon_samlogon_response()
    
    If we don't have the client address, we assume it's a local call,
    maybe ncalrpc.
    
    metze

commit 4d191b6fa7b96ed56912bf68e6771ffb8e3cfe12
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 10:21:28 2010 +0200

    s4:dsdb/common: if we don't have the ip of the client return the server site as client site
    
    metze

commit 2436ec2928d1aac0e6fd885ca1b9cdecef8bf89a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 10:41:46 2010 +0200

    lib/tsocket: add tsocket_address_is_unix() function
    
    metze

commit e1596bbf27ee636d8ab47e39eda21c64ef49b671
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 27 10:34:15 2010 +0200

    lib/tsocket: add tsocket_address_is_inet() function
    
    metze

commit 3dd50b29228994c8dd5162cb300d234316126586
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 27 19:45:49 2010 +1000

    s4-test: make spnupdate work without make install
    
    thanks to metze for noticing this

commit ef1326412573777b0a5457c06d130c6455932af7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 27 18:38:47 2010 +1000

    s4-provision: setup spn_update_list in provision

commit b5b8e6b6adc0abcb833c034f8dc33f338dd6b815
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 27 18:38:25 2010 +1000

    s4-dns: install samba_spnupdate

commit ff2edd52cba6e99763be5193847900119670ad7e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 27 18:38:04 2010 +1000

    s4-dns: call spn update command alongside dns update
    
    call samba_spnupdate at the same time as samba_spnupdate

commit 37dfaff82cb554492fb0a3ddc95d3144d0508bc6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 27 18:37:12 2010 +1000

    s4-param: added a "spn update command" option
    
    used by SPN update code

commit fa26383884751c5775ccb65e3fbbf9ec7eeda28c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 27 18:25:55 2010 +1000

    s4-dsdb: added samba_spnupdate
    
    this script adds all our required servicePrincipalName entries at
    runtime. The admin can add more entries to spn_update_list as needed

commit 570c89287e3f5e424db65098d5e60c9e37a5b6f3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 27 18:25:06 2010 +1000

    s4-dns: explain what the file is for

commit 7872efcbc0d02ef5ca79abf08f3274463ff3ec26
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 27 18:24:52 2010 +1000

    s4-dns: cope better with comments in dns_update_list

commit 1ae9044b8e2347a0c8c948a65a22fae6ec1ef385
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Apr 20 15:00:50 2010 +1000

    s4:gensec Use a different form of 'name' in GSSAPI import_name()
    
    The idea here is to make it not dependent on the system's default
    realm.
    
    Andrew Bartlett

commit 6be72df7362c27c973a63a960d0b87eefa22db15
Author: Marcel Ritter <unrzl1@linux.rrze.uni-erlangen.de>
Date:   Thu Apr 22 14:29:52 2010 +0200

    Simple fix to prevent crash for non-pac principals
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 8c6147715371e88c425ff8530f9bd7f44cd4cafb
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Apr 27 13:57:39 2010 +1000

    s4:kerberos Give a better error message than "Could not allocate memory"
    
    Andrew Bartlett

commit 8219c4f69c2fd2d1f0f795a5dc28dec6dfeb0079
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 27 08:19:10 2010 +0200

    s4:kcc_periodic.c - fix counter types
    
    We are counting LDB objects here -> therefore "unsigned"

commit 2f339f71bd40484959a7008982b243cef0b06bea
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Mon Apr 26 20:19:36 2010 +0200

    s4:wb_cmd_getdcname.c - fix s4 winbind up regarding the new correct "GetAnyDCName" behaviour
    
    We get back "NO_SUCH_DOMAIN" when we query the PDC. This is fine and therefore
    we use the "logon_server" variable as "dcname".

commit 2654e34cf092f1ec49e1462b67a10c681da4d3df
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 13 22:49:48 2010 +0200

    s4:netr_DsRAddressToSitenames[Ex]W calls - implement them correctly with the client site information
    
    This behaviour should be similar to the one of Windows Server (in my case 2008)

commit bb91afe50c2fb1ab8dc102ddef339bd7d46ff84a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 27 08:08:42 2010 +0200

    Revert "s4:netr_DsRAddressToSitenames[Ex]W calls - implement them correctly with the client site information"
    
    This reverts commit 908d982980846257b65ab576d31131e8793e9399.
    
    I need to merge the improved version of this commit.

commit 581f86ba73b773f08996d473aaf0fad3e94ae2f3
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 27 08:07:19 2010 +0200

    Revert "s4-netlogon: fixed breakage of dcesrv_netr_GetAnyDCName in sites patch"
    
    This reverts commit e88a54a87e185b44e2d216bd853e6a87bf950be6.
    
    This isn't the correct behaviour. See MS-NRPC documentation under the
    "GetAnyDCName" section.

commit 280d06f8b5734555eb3cb8423d7f9ad1bdc83792
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 27 15:02:29 2010 +1000

    s4-libnet: cope with an empty client site name from CLDAP
    
    We fall back to the server site name in a vampire
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit e88a54a87e185b44e2d216bd853e6a87bf950be6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 27 14:25:14 2010 +1000

    s4-netlogon: fixed breakage of dcesrv_netr_GetAnyDCName in sites patch
    
    We should respond when we are the PDC
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 449708017377c3cdf814642af75d7c7f8b554a3e
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Apr 21 19:30:37 2010 +0200

    s4:knownfail - remove tests which should pass
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit cfbd5ef8c401e316fe5659bb4360e30b6b8096d1
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Apr 21 17:54:06 2010 +0200

    s4:netlogon RPC server - we don't need "are we DC" proofs
    
    When we aren't a DC we shouldn't have the netlogon pipe available.
    [MS-NRPC 1.3] says that we can only have DCs on the server side.
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit ca1f7c9b7332be2f7136094953eef43c65ee1462
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Apr 22 10:37:45 2010 +0200

    s4:torture - DsRGetDcSiteCoverageW - adapt test to check for the sitename
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 4686305feb13f6c824843cb2ab8d55f59254303c
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Thu Apr 22 10:28:37 2010 +0200

    s4:dcesrv_netr_DsrGetDcSiteCoverageW - provide a basic implementation
    
    Does for now only return DC's primary site.
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit a66bdbec86f2da8b53518b05018f2c17261b9003
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Apr 21 19:13:11 2010 +0200

    s4:torture - DsRGetSiteName - move "skip" statement before the "computer_name" check
    
    We don't support the check for the computer name on the RPC server side.
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 3b4137c7be94678e3bd3553fa05feea1efe0f5fd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Apr 18 19:01:18 2010 +0200

    s4:dcesrv_netr_DsRGetSiteName - provide an implementation according to the MS-NRPC docs
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 2780a18a9fc3aac355c141fe0393e1f8008e242f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 20 16:59:48 2010 +0200

    s4:torture - GetAnyDCName - adaptions
    
    - Check for the various domainname set modes (on NULL and "" the domain should
      be the default domain on the server)
    - support return value "WERR_NO_SUCH_DOMAIN" (the server is the PDC of the
      domain)
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 5fc71186751da3fc2388021630b16279cb949017
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Apr 18 15:02:06 2010 +0200

    s4:dcesrv_netr_GetAnyDCName - improve the call according to the MS-NRPC documentation
    
    This implementation checks if the domainname is valid for us or a trusted domain.
    
    Then I've also added the PDC location functionality. That means that we should
    return "WERR_NO_SUCH_DOMAIN"  (MS-NRPC 3.5.5.2.5).
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit cf93634ec5bc4a87c58fccbf2c04c8625013946f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Apr 21 21:39:20 2010 +0200

    s4:torture - DsRAddressesToSitenames - enhance the testsuite
    
    This shows the Windows behaviour of these two calls which we should match.
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 908d982980846257b65ab576d31131e8793e9399
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 13 22:49:48 2010 +0200

    s4:netr_DsRAddressToSitenames[Ex]W calls - implement them correctly with the client site information
    
    This behaviour should be similar to the one of Windows Server (in my case 2008)
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit cf73bc63e5c9335a2af8e0b46d2b12de5607f506
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Apr 11 13:17:05 2010 +0200

    s4:CLDAP server - make use of the new "samdb_client_site_name" call
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 093d35661d25d7fd89ce46fef5922768c0c0ace7
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 13 18:28:53 2010 +0200

    s4:util - add a function which finds the matching client site using the client address
    
    The lookup of the client site is done using the subnets in the configuration
    partition. If no one matches we use the Windows Server fallback mechansim.
    This means: if only one site is available just use it. If they're more set the
    output variable to "".
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 725e48c22c92e284bb55567f2116c8ddc82a0529
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 27 12:18:02 2010 +1000

    s4-drsdevel: support sites in drs developer scripts

commit 4679bb731b3620006249abb0f9808c755266d87a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 27 12:17:36 2010 +1000

    s4-vampire: show main CLDAP response attributes during vampire

commit 7e2b3ab14f84fb369a8fc00839feebd70b85426b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 27 12:17:08 2010 +1000

    s4-repl: added a workaround for WERR_DS_DRA_NO_REPLICA DsReplicaSync errors
    
    The 0xc0002104/WERR_DS_DRA_NO_REPLICA seems to be spurious, and can be
    avoided by setting DRSUAPI_DRS_SYNC_ALL in the DsReplicaSync request.
    
    We need to investigate this further, and find out from MS why this is
    sometimes being sent, even when the target DC has the right repsFrom
    entries

commit 3f643f18d911888d69bba7f03813b3bde816326e
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Apr 26 21:36:01 2010 -0700

    Correctly report share types (now Win7 makes RPC calls against us).
    
    Jeremy.

commit a94a4b788c3056068d0c8e42c55e990f418db666
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Apr 26 20:11:59 2010 -0700

    Plumb in get_nt_acl into SMB2.
    
    Jeremy.

commit be35a40e037202af4b30cc76e6e986499771e2e2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 27 11:01:12 2010 +1000

    s4-dns: fixed dc.dc duplication in DNS update list

commit b0aa4769483a1d2084191b70b2ffa3b0c65696ff
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 26 23:21:10 2010 +1000

    s4-drs: add entries to repsTo based on calculated repsFrom
    
    This is based on the documentation: "the KCC will automatically create
    the Reps-To attributes on destination DSAs based on other DSAs
    Reps-From entries."

commit 3119296e425a4c640fe9bd2bb97f09bab8a9ccf0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 26 22:51:11 2010 +1000

    s4-drepl: don't setup a repsFrom from a DC that isn't a master for a NC
    
    use hasMasterNCs to see what NCs we should be pulling from each DC

commit c375b90f5d1b1cbef2896f9a9d5964126ce82022
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 26 21:49:37 2010 +1000

    s4-getncchanges: honor DRSUAPI_DRS_REF_GCSPN
    
    this is an alternative way of establishing repsTo

commit 5b81962ed1c5b0c92e735ae12b853a63a9513a3a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 26 21:49:06 2010 +1000

    s4-repl: these messages are common, and don't deserve debug level 1
    
    getting older attributes is quite common

commit 8aa30f958073203588a4faa75b963bad83a0db41
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 26 21:48:29 2010 +1000

    s4-repl: on a failed request, clear the current ptr
    
    this prevents the queue being stuck on failure

commit 9b18b339c00953490158b40d291032b14e6fc645
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 26 21:48:06 2010 +1000

    s4-repl: end repl request when not doing an UpdateRefs
    
    otherwise the queue is stuck forever

commit 5fb60bc311dde5642b022d28a9d7af8cf6f4a5f7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 26 21:47:29 2010 +1000

    s4-repl: don't delete repsTo entry on DsReplicaSync
    
    we rely on the highestUSN counters instead. W2K8 does not resend
    DsUpdateRefs each time, and the WSPP docs do not indicate that repsTo
    should be deleted

commit f8fc7fcbeb8141c5b2775e2219bae17c55ad4a3c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Apr 26 23:50:16 2010 +0200

    s3-build: Remove --enable-merged support.

commit 44b0a0c14dbf8822e9c17968b7203557eb6e905f
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 26 22:09:00 2010 +0200

    s4: remove unused rap.h.
    
    Guenther

commit 232b9e556c176b351bd0dd3b8dcaef172d5d9f83
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 26 15:48:50 2010 +0200

    s3: remove unused rap.h.
    
    Guenther

commit aae716d044081e5e1315de4abf22dbeb9d32a18e
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 26 22:09:44 2010 +0200

    s4: fix some build warnings.
    
    Guenther

commit dbfff90185daecfa452520276c8cabdce3b1c616
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 26 22:09:21 2010 +0200

    s3: fix some build warnings.
    
    Guenther

commit 725976290939e82bd43a0b8bce07df6068e65496
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 26 15:42:47 2010 +0200

    s3: use generated rap header.
    
    Guenther

commit 1983d0dde7c33666c5e0c1082d0c2604e6d1e860
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 26 15:41:17 2010 +0200

    s4: use generated rap header.
    
    Guenther

commit 874335c48d4132a4b41acd45dc2c5dc11df18b7a
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 26 13:23:03 2010 +0200

    s3: re-run make samba3-idl and add generated header file.
    
    Guenther

commit 8b287b92fda1ad7439191edd9b417e31e90a9230
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 26 13:19:56 2010 +0200

    rap: add rap idl.
    
    Guenther

commit 1ede2a0577fa85100f95526386bc5298b565da8c
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 26 22:06:47 2010 +0200

    s4: rename RAP share_enum_info to share_info.
    
    Guenther

commit 1055b3c229f9ab8b4d43a73346090bb72b88d607
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Apr 26 12:29:03 2010 -0700

    When walking the SMB2 requests queue, ensure the request is still "in flight"
    before examining the details.
    
    SMB2 requests stay on the queue until their out.vector has been
    send, only then are they talloc_free'd.
    
    Thanks for Ira Cooper <ira@wakeful.net> for giving me the
    backtrace showing this.
    
    Jeremy.

commit 6beba782f1bf951236813e0b46115b8102212c03
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Apr 26 10:54:33 2010 -0700

    Fix crash when rescheduling oplock open.
    
    Jeremy.

commit abdb96b8ff373b78ffbf24c66c4e6b69886e87c4
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Apr 26 16:44:34 2010 +0200

    s3: Implement "net rpc user setprimarygroup"

commit 5ce1dbf2e328b8bf9987746bbd9ea10e6db58760
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 26 15:46:37 2010 +1000

    s4-ddb: don't create partitions with the UNINSTANT flag set
    
    these partitions and not on the server we are replicating from. Also
    check for deleted partitions.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit a31c711ba7dcd7516fd7b4de8c602a2fc30672db
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 26 16:44:44 2010 +1000

    s4-drs: allow getncchanges requests to non WRIT_REP partitions for extended ops
    
    Needed for RID allocation
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 6ee1c503bf90abbea137ce789ce5a8a54b437629
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 26 17:02:25 2010 +1000

    s4-drs: don't send uninstantiated objects in getncchanges
    
    This includes deleted partitions
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 159de40b0b5c2c3efc7bd4de83a15dc63299b730
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 26 18:43:46 2010 +1000

    s4-drepl: don't send an UpdateRefs unless its a plain replication
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit f66fcd96087fc0a65a214c0fa62b03048ff0c6d9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 26 19:04:33 2010 +1000

    build: cope with realname for install of non-python libs
    
    this fixes the install of mit_samba.so

commit 267e0b361693a94be258a21b2b305c5a97de3dda
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 26 14:39:15 2010 +1000

    s4-drs: make links to foreign partitions non-fatal
    
    DN links outside the set of partitions we are replication should be
    allowed.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 0a47bf5f15c8fc083125a90cf73ad1a04dc61e48
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 26 13:24:10 2010 +1000

    build: automatically run autogen-waf.sh when needed

commit b0396807d0b357d238ef211275d25cb1852e7fdf
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 26 11:12:05 2010 +1000

    s4-heimdalbuild: remove LIBNETIF dependency from HEIMDAL_GSSAPI
    
    this avoids the s3compat layer from getting duplicate interfaces code

commit c6b8ffd3a507854c0a9379f83c37fa63de4816ef
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 26 11:11:21 2010 +1000

    build: normalise paths in unique source checking

commit a241daae2d2c2acf150993dc90e234a851539963
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 25 21:00:44 2010 +1000

    build: a library is only empty if it has no deps

commit c8824fd9b4cfd5a5925671ce41063764f27d50e8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 25 12:58:52 2010 +1000

    build: use option_group() not add_option_group()
    
    option_group() ensures we don't end up with duplicate groups

commit 6c79b9f4807f932ad9d09ebfa708d7a75fa35f45
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 25 12:41:41 2010 +1000

    build: cope with duplicates in source lists

commit fd3eeb3878c94bfb8d2134dbdc17cfb5279d088c
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 25 11:42:44 2010 +0200

    s3: async_domain_request is no longer used

commit d53e3450c775a4eae9f5237ec85ed212479fbcbd
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 25 11:40:30 2010 +0200

    s3: Convert add_trusted_domains() to wb_domain_request_send()

commit d41836fb62e3059e042bf72d4392c2e85b55c582
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 25 10:36:58 2010 +0200

    s3: Simplify trustdom_state
    
    Don't store information explicitly as boolean flags that can be easily
    retrieved from the domain when it's actually needed.

commit 13cdaf9417ab08425d9b7e244a6830d34147b889
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 25 10:25:55 2010 +0200

    s3: Make "struct trustdom_state" its own talloc context

commit d61b07253b04a17226cfd92ef8bf785c93263ce3
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 25 10:15:43 2010 +0200

    libwbclient: Talloc is no longer used

commit b29f3f497bdcd4830ffbb615ad0dbc9f5d0af53c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Apr 24 19:36:01 2010 +0200

    Revert "tsocket: not all systems have IPV6_V6ONLY"
    
    This reverts commit 63fc3978089df403d7e63462593784ff3d05e6e7.
    
    We now don't support IPv6 when IPV6_V6ONLY isn't available,
    as we rely on the behavior.
    
    metze

commit 26e6fb0efe461d55e72da637b1b921b77f28af73
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Apr 24 13:07:50 2010 +0200

    lib/replace/wscript: make sure IPV6_V6ONLY is available for IPv6 support
    
    We really on IPV6_V6ONLY being supported.
    
    metze

commit 41cd6f992829c45c890f5daf78eb3019633f3620
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Apr 24 13:07:50 2010 +0200

    lib/replace: make sure IPV6_V6ONLY is available for IPv6 support
    
    We really on IPV6_V6ONLY being supported.
    
    metze

commit db29b2d6d2dfdebb91292b0640642c545fbce025
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Apr 24 19:28:48 2010 +0200

    lib/replace/wscript: add replacement for IPV6_V6ONLY on linux systems with broken headers
    
    This is needed on SLES8.
    
    metze

commit e06cf3950252a46486aa046a4552ed6ebff175b3
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Apr 24 19:02:22 2010 +0200

    lib/replace: add replacement for IPV6_V6ONLY on linux systems with broken headers
    
    This is needed on SLES8.
    
    metze

commit 051535f196305f5ded4d786a2db977b0626ee0b9
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Apr 24 18:10:37 2010 +0200

    buildtools/wafsamba: inline defines during configure into the tests
    
    There 2 reasons for this change:
    - This is how autoconf tests work and it makes config.log much more useful
    - The waf c preprocessor ignored changes in bin/default/__confdefs.h when using
      waf configure -C, because is outside of the configure tests project path
      and handled like a system header.
    
    Many thanks to ita for pointing out the fix.
    
    metze

commit 1ed5f7182074768a84eefc00bd2af64933799b4d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Apr 24 20:02:44 2010 +0200

    buildtools/wafsamba: make sure we create bin/default/ before trying to create symlinks in it
    
    metze

commit c88b83b7c1abc53866cda4e67c5183e11e31a910
Author: Matthieu Patou <mat@matws.net>
Date:   Fri Apr 23 17:27:05 2010 +0400

    s4 dns: Allow to specify static grant entries to be added to the dynamicaly generated named.conf.update
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit f25ebe37281f84608f13891e08d555e3db817963
Author: Tim Potter <tpot@samba.org>
Date:   Sat Apr 24 11:04:32 2010 +1000

    s4-smbd: Fix compiler warning in prefork smbd.
    
    My first patch in a while...
    
    Tim.
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 92449412dcb1c809689eebd0ab7e2ebee3de6fbf
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Apr 23 08:11:44 2010 +0200

    lib/zlib/wscript: fix system zlib detection
    
    metze

commit 4c7cc8bb6303e9f976cdb87e2c00849ac46f8f02
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 24 12:40:10 2010 +0200

    Revert "nsswitch: Fix a memleak in wbinfo"
    
    This reverts commit a97f2a0a9c0f1c148a0152202296bb078103b40c.
    
    This was not a memleak, it was a valgrind false positive. We store "details" in
    a static.

commit dbb7db6c2532bb18674c6acea27688f22c41efb8
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 24 11:11:45 2010 +0200

    s3: sendto_domain() is lo longer used

commit 678a3c4e6dd68f3b2f81a3ad381be017e15de44d
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 24 10:49:06 2010 +0200

    s3: Simplify (bool != True) to !bool

commit a796542a930dec93c2a747c4b015d8d650a081fd
Author: Jeremy Allison <jra@samba.org>
Date:   Sat Apr 24 00:29:41 2010 -0700

    Implement oplocks within SMB2. Plumb into the existing SMB1 oplock system.
    
    Seems to work but needs more tests (to be added).
    
    Jeremy.

commit 247273196ff8035ef16805f04fe7c32ef9a8be50
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Apr 23 15:35:34 2010 -0700

    When sending the initial async response, this is never part of a chain.
    
    Get the reply flags correct.
    
    Jeremy.

commit 0e6f4ed7035a3536c94d248b2ca9f890b0f07fb3
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Apr 23 15:34:58 2010 -0700

    Don't free the entire tevent_req on cancel, only the part we need (the immediate event).
    
    Jeremy.

commit 328ca041e0bd2657b6f5c1e9ea57684da5b68312
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 23 19:46:03 2010 +0200

    libwbclient: Test WBC_CHANGE_PASSWORD_LEVEL_RESPONSE

commit 7099a3c446aa7a4de42c7cffa9b409f319f0ec76
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 23 19:44:05 2010 +0200

    s3: Allow pdb password change using WINBINDD_PAM_CHNG_PSWD_AUTH_CRAP

commit f43d1827f389e458d9430bddac7344c8117515c1
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 23 19:42:33 2010 +0200

    s3: init_dc_connection() can't init for internal domains
    
    This fixes a crash in winbindd_dual_pam_chng_pswd_auth_crap when given
    global_sam_name() in the domain field

commit 03115efae89c8c4f51dea1ce82613817bd9fcf5b
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 23 19:41:29 2010 +0200

    libwbclient: Actually copy something in wbcChangeUserPasswordEx
    
    The length argument for memcpy was initialized to 0 and not initialized

commit 6eec46ec44480db77d16bbd3332b8b10306f64f0
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Apr 20 20:37:35 2010 +0200

    s3: replace some data_blob_talloc by data_blob_const

commit 7574347e68b258456179614d65ecb5549dfe97a5
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Apr 20 16:07:13 2010 +0200

    libwbclient: Remove some pointless BAIL_ON_WBC_ERROR macro calls

commit f2f0fed8aad21e09837f256e00bb38f33dc73e44
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Apr 20 11:11:19 2010 +0200

    s3: Convert WINBINDD_PAM_CHNG_PSWD_AUTH_CRAP to the new async API

commit 168b86c3847a5b575eef36cc2308802cbd25bb4a
Author: Simo Sorce <idra@samba.org>
Date:   Fri Apr 23 14:26:33 2010 -0700

    s3-smbd: group print relate data in own structure

commit 2bbb8c917e372ceeb1e144259d9d2b0eab7cc212
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Apr 23 13:10:15 2010 -0700

    Allow smb2 create requests to be cancelled.
    
    Jeremy.

commit dd2025947136f28b22b70de59309e149a1f45f3d
Author: Ira Cooper <samba@ira.wakeful.net>
Date:   Fri Apr 23 10:55:46 2010 -0700

    Fix bug #7384 - dptr_Close has a bitmap leak.
    
    s3: Fix to dptr_Close
    
    This fixes a bitmap "leak" in dptr_Close by making it use the same internal
    routines the rest of the code does.

commit 350f4e348c192dd9986c5d948cd5d94a777419d4
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Apr 23 10:53:44 2010 -0700

    At simo's request return struct tevent_req *treq -> treq. For consistency :-(.

commit 2b13a8d6506bb06f2464a0ed70fb505e43ea5b5b
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Apr 23 10:29:48 2010 -0700

    Rename - no functional change. Stop all variables being called "req".
    
    tevent_req -> treq
    struct smb_request -> smb1req
    struct smbd_smb2_request -> smb2req
    
    Jeremy.

commit 251cd42ed5b62afe8272099707347c1b0f61023e
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Apr 21 17:13:02 2010 +0200

    s3-spoolss: Added a winreg_get_printer function.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit e15d624c0ae539460de367ab2b33f83f41d81393
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Apr 21 12:56:39 2010 +0200

    s3-spoolss: Added a winreg_create_printer function.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a61297647db696d193c081522f44ff09bf260bce
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Apr 15 17:53:39 2010 +0200

    s3-spoolss: Added a winreg_update_printer function.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 8cb79bf4cd577468dd891106ce6e0d01969b2233
Author: Simo Sorce <idra@samba.org>
Date:   Mon Apr 19 21:50:52 2010 -0400

    s3-spoolss: Added a winreg_get_driver_list function.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 8db203a4a60a8d043e36138873ed457f48acce72
Author: Simo Sorce <idra@samba.org>
Date:   Mon Apr 19 21:01:38 2010 -0400

    s3-spoolss: Added a winreg_del_driver function.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 16e0f806872eaf620b12c375d25f0043d5dea704
Author: Simo Sorce <idra@samba.org>
Date:   Wed Apr 21 09:38:39 2010 -0400

    s3-spoolss: Added a winreg_get_driver function.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a91f6f8b03b5c9342853229dc634bd217e289d5d
Author: Simo Sorce <idra@samba.org>
Date:   Wed Apr 21 09:37:08 2010 -0400

    s3-spoolss: Added a winreg_add_driver function.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 8f56cdfaee571a5b4bb735290dfd668ef8c4d730
Author: Simo Sorce <idra@samba.org>
Date:   Wed Apr 14 20:46:55 2010 -0400

    s3-spoolss: Move info_ctr conversion to a public helper.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 94a8482261526c7bb3ae15194bf3939978b324b6
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Apr 23 14:45:48 2010 +0200

    s3-spoolss: Fixed winreg_delete_printer_key if key is NULL or emtpy.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 96a04b067efe34d16ab14339703be89d27e64b0b
Author: Simo Sorce <idra@samba.org>
Date:   Wed Apr 21 09:58:51 2010 -0400

    s3-spoolss: Add date and version winreg helpers.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit b33e877aad0485c88ba4ff0223004e92c4cb78e2
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Apr 21 18:12:50 2010 +0200

    s3-spoolss: Added more winreg hepler functions.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit d4f563d9d4fcefc0523cfdc5c75b2256e4f28aeb
Author: Simo Sorce <idra@samba.org>
Date:   Wed Apr 21 09:51:37 2010 -0400

    s3-spoolss: Added winreg helper functions
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 0ed5e36c67020f11c865f66584c0f800f5b27cf3
Author: Andreas Schneider <asn@samba.org>
Date:   Mon Apr 12 15:54:01 2010 +0200

    s3-spoolss: Added a winreg function to query a dword.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit e7d674282191152f29d0fe812af9c5afcba084b9
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Apr 15 21:51:16 2010 +0200

    s3-spoolss: Added a function to get the ChangeID from a printer.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit b04a260e4e8b5d317e36d758f16aff090d567d7c
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Apr 15 15:18:26 2010 +0200

    s3-spoolss: Added a function to update the ChangeID of a printer.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a18cd32a3478d533b679bc134b7dda66e1869521
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Apr 9 12:36:37 2010 +0200

    s3-spoolss: Added winreg helper functions to write registry values.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit b320fad6e4c6991f636e3635aeba3d5e1a7a9ed5
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Apr 9 09:26:24 2010 +0200

    s3-spoolss: Fixed return values of winreg_printer_deleteform1.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 012c1feda5dc4b0841724e914a8ad30e0d2f1e91
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Apr 9 09:26:08 2010 +0200

    s3-spoolss: Added missing return value to winreg_printer_enumforms1 docs.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit d65485b3c5b9168609069e0d771db11424fcddb4
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Apr 21 17:59:55 2010 +0200

    s3-spoolss: Use const values for notify functions.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 3f1cc29814c62b60a5615bb05c13addd171cc141
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Apr 22 12:33:29 2010 +0200

    s3-time: Added a function to get the startup time of the server.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit bb22855af51d27eed1b18b33689f6dc39e09f068
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 23 15:31:21 2010 +0200

    s3-lanman: fix uninitialized variable in api_RDosPrintJobDel().
    
    Guenther

commit 30b1e44382e1b81999c6388866305fb0324252a3
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 23 13:52:57 2010 +0200

    s3-selftest: enable RPC-SPOOLSS-DRIVER against s3.
    
    Guenther

commit 6beec1a04df635c9c8539e4837cc783e76b3c562
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 23 13:52:19 2010 +0200

    s4-smbtorture: skip tests when no local driver directory is around.
    
    Guenther

commit 14bb3f71aa3a2c23c5a0396deae4af9ab1e3ac5d
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 23 13:51:33 2010 +0200

    s3-selftest: add print$ share with two arch dirs.
    
    (make test variant)
    
    Guenther

commit 2a2de10ac690ad13d3474a252729fc36c79321fc
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 23 13:51:02 2010 +0200

    s3-selftest: add print$ share with two arch dirs.
    
    Guenther

commit 4b1dab5b11d77d9fcac0ff5541ae5713db9106ec
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 23 12:17:04 2010 +0200

    s3-winbind: fix setup_domain_child() callers.
    
    Volker, please check.
    
    Guenther

commit ca0e5ea8331857bca5207105c6bb4b6aaa8edadb
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 23 11:39:12 2010 +0200

    s4-smbtorture: use server_name for all printerdriver delete and enum operations.
    
    With this s3 passes the RPC-PRINTER-DRIVER test.
    
    Guenther

commit 698b7780c90687e9c1744e2435865dba1f18b274
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 23 11:33:51 2010 +0200

    s3-spoolss: make switch in _spoolss_AddPrinterDriver() a bit more clear.
    
    Guenther

commit 4be5d59c4f034ef9a125fe813e9e02ba5c2c833b
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 23 11:27:51 2010 +0200

    s4-smbtorture: allow to upload or remove any file belonging to a driver.
    
    Guenther

commit c82fd3ed30ef2c804b6370d9d2ff1e1a6d2797f5
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Apr 21 17:04:49 2010 +0200

    s3: Fix a winbind crash when scanning trusts
    
    add_trusted_domain() for a new domain always needs to be followed by a
    setup_domain_child(). This was not always done, in particular not when walking
    to the forest root for additional trusts.
    
    This is a minimal patch, we need to fix add_trusted_domain().

commit 8f67f873ace91964da066c421986e260aceba75b
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Apr 22 23:52:19 2010 -0700

    Make deferred opens (NT_STATUS_SHARING_VIOLATION) work over SMB2.
    
    Makes SMB2Create call re-entrant internally.
    Now this infrastructure is in place, oplocks will follow shortly.
    Tested with Win7 client and with W2K8R2.
    
    Jeremy.

commit 9cd712d1bc1ac5140597e86b5c634d2c820d86de
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 23 07:06:03 2010 +0200

    s3: Fix a cut&paste error in a debug message in check_oem_password()

commit a14938377e42344eb04a3d3003199b231e88dc8d
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 23 03:04:47 2010 +0200

    s3-spoolss: make sure AddPrinterDriver calls into AddPrinterDriverEx.
    
    Not vice versa. Also disable some info levels in AddPrinterDriver according to
    MS-RPRN 3.1.4.4.1.
    
    Found by torture test.
    
    Guenther

commit 587921b7da93cc02386193ac4c3354db4717fa3f
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 23 03:03:59 2010 +0200

    s4-smbtorture: fix test_EnumPrinterDrivers_findone().
    
    Guenther

commit 20133cfe560f2bd84b5c2ebab9dc25b0c98efeb9
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 23 02:49:42 2010 +0200

    s4-smbtorture: samba currently supports level 3 and 6 driver adds.
    
    Guenther

commit 413ffe9adb8eea488133da0249dcb2eca08fd69d
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 23 02:34:43 2010 +0200

    s3-spoolss: fix some crash bugs and missing error codes in AddDriver paths.
    
    Found by torture test.
    
    Guenther

commit f6bdfd94239baede6b485ca45ee8365f33fd3008
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 23 01:58:02 2010 +0200

    s4-smbtorture: test both 32bit and 64bit driver uploads in RPC-SPOOLSS-DRIVER.
    
    Guenther

commit 74592f47f5f4d7646527d5788eadf2c6ebc7e950
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 22 18:47:27 2010 +0200

    s4-smbtorture: allow to upload and later remove printer driver files in RPC-SPOOLSS-DRIVER.
    
    Guenther

commit 29775e39b18270e2345097c3fc80a87efd69484d
Author: Günther Deschner <gd@samba.org>
Date:   Thu Jul 2 21:49:15 2009 +0200

    s4-smbtorture: add RPC-SPOOLSS-DRIVER test.
    
    Guenther

commit 431faed5f4b2a21d05ca023ae5c56b1c6d741f44
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 21 15:08:40 2010 +0200

    s4-smbtorture: rework EnumPrinterDrivers tests a bit.
    
    Guenther

commit 93c86fe6155bea76818b569bbc883cecc7130dd1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 23 08:24:34 2010 +1000

    build: give a more useful error when the source dir has moved
    
    you need a distclean if you mv the source directory

commit a36c7b8b74c209b010e763487a750472d9c2e0a1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 23 08:24:02 2010 +1000

    build: use 'waf distclean' for make distclean
    
    this cleans up the more than rm -rf bin

commit bd08249d683fd2f5ce6358ec2a9cebf2d03db1c6
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Apr 22 19:35:54 2010 +1000

    s4:provision Remove moduleload for 'hdb' (wrong name).
    
    The backends are not normally modules anyway

commit 440075247d11a7852d8567753f426fa67f41d875
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 22 11:42:45 2010 +0200

    spoolss: pretty-print a struct spoolss_Time.
    
    Guenther

commit 404f7ac0292c91ef3101e9bc32b8aea3b2aec4be
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 22 17:53:25 2010 +1000

    s4-cldap: we should set the w2k8 flags even if not the PDC emulator
    
    these two tests are independent
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit e7262b51d1a8905ba3b874f5d48eab4292ebca4d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 22 16:56:40 2010 +1000

    s4-drs: validate RODC credentials via the user_sid
    
    This checks whether a replication client is a RODC by inclusion of the
    the DOMAIN_RID_ENTERPRISE_READONLY_DCS sid in the users token
    
    Pair-Programmed-With: Rusty Russell <rusty@samba.org>
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit bb1ba4ff76eb90d0d62dd3edbe288f45cf7a0a1e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 22 16:48:01 2010 +1000

    s4-drs: added new SECURITY_RO_DOMAIN_CONTROLLER level
    
    This is used for allowing operations by RODCs, and denying them
    operations that should only be allowed for a full DC
    
    This required a new domain_sid argument to
    security_session_user_level()
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>
    Pair-Programmed-With: Rusty Russell <rusty@samba.org>

commit ec0bb2f46b855d44cccb71a5511c2acb7d8eae09
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 22 16:44:53 2010 +1000

    s4-net: fixed two compiler warnings

commit ec3d1de61dd81f042b9ac65ff4f94db5b4ae643c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 22 16:44:30 2010 +1000

    s4-torture: fixed a initialiser
    
    we were not initialising the whole array
    
    Pair-Programmed-With: Rusty Russell <rusty@samba.org>
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 47712ab3dd63d3da408d37f6efea08cc34407b1d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 22 16:43:21 2010 +1000

    s4-libnet: fixed two compiler warnings

commit 1f92df90fdb0ade233af52df1fbc9e76bddb4fd0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 22 16:41:32 2010 +1000

    s4-drs: removed dsdb_validate_client_flags()
    
    This test is in the wrong place. We end up validating our own flags.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 90230ce27eaa81e02273f0120b7cdc99879514ac
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 22 14:56:19 2010 +1000

    s4-drs: only allow replication with the right invocationId
    
    Non-administrator replication checks the invocationId matches
    the sid of the user token being used
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 0d3823b15248ed6269bb0a513d862ef694bfde64
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 22 14:55:54 2010 +1000

    s4-dsdb: removed an unused variable

commit a06b537cc30cb21e77f58b5e9ea2a8f89c4683e0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 22 14:54:52 2010 +1000

    s4-dsdb: added dsdb_validate_invocation_id()
    
    this validates that a invocationID matches an account sid
    
    This will be used to ensure that we don't allow DRS replication
    from someone a non-DC or administrator
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 1ecefd74a2b7a6cec0c6ef765669eab0635e5568
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 22 14:53:53 2010 +1000

    s4-dsdb: added dsdb_get_extended_dn_sid()
    
    This will be used by the RODC code
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 6669152a4a5919ecad633b594708d6b95577b4dc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 22 14:52:19 2010 +1000

    build: we don't need this makefile magic any more
    
    The waf build now checks for all A=B variables passed via make
    and sets the same waf internal variable. This means all waf options
    are available via make.
    
    Removing this from the Makefile makes us less reliant on a modern
    version of make.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 70cc9fd5c62f385d6e94380597f02da80cea3649
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 22 13:32:55 2010 +1000

    s4-dsdb: moved rodc schema validation to samldb.c
    
    This means we are only doing the checks for schema changes
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 73513fb7e7145e9abe1a155acd47c27bc09c5092
Author: Fernando J V da Silva <fernandojvsilva@yahoo.com.br>
Date:   Thu Apr 15 18:54:13 2010 -0300

    s4-drs: Use new samdb_rodc() function in s4 code
    
    This patch fits the calling to the new samdb_rodc() function and
    fix a little bug in this function.
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit d940a44496f184073fe036fc1977796c901ec96d
Author: Fernando J V da Silva <fernandojvsilva@yahoo.com.br>
Date:   Thu Apr 15 17:42:08 2010 -0300

    s4-drs: Do not send RODC filtered attributes to RODCs on GetNCChanges reply
    
    During building an object to send it on a GetNCChanges reply, it checks
    the attributes and if any of them is a RODC filtered and the recipient
    is a RODC, then such attribute is not sent.
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 59aa0a07d24bfb9ff9795ffe90801577043058a5
Author: Fernando J V da Silva <fernandojvsilva@yahoo.com.br>
Date:   Thu Apr 15 17:39:54 2010 -0300

    s40-drs: Do not send GetNCChanges messages to RODCs
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit fbdbd67c7640757f80a2ffd70a17c6ab50491844
Author: Fernando J V da Silva <fernandojvsilva@yahoo.com.br>
Date:   Thu Apr 15 17:38:47 2010 -0300

    s4-drs: dsdb_validate_client_flags() function
    
    This function is intended to check if some client is not lying about
    his flags. At this moment, it only checks for RODC flags.
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 57bcdf008fa44d4c550819cbceada968b11be63c
Author: Fernando J V da Silva <fernandojvsilva@yahoo.com.br>
Date:   Thu Apr 15 17:37:40 2010 -0300

    s4-drs: samdb_is_rodc() function and new samdb_rodc() function
    
    This patch creates the samdb_is_rodc() function, which looks for
    the NTDSDSA object for a DC that has a specific invocationId
    and if msDS-isRODC is present on such object and it is TRUE, then
    consider the DC as a RODC.
    The new samdb_rodc() function uses the samdb_is_rodc() function
    for the local server.
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit c023fc217ed370e5c890c1984da533e0133060d9
Author: Fernando J V da Silva <fernandojvsilva@yahoo.com.br>
Date:   Thu Mar 25 16:58:58 2010 -0300

    s4-drs: Do not allow system-critical attributes to be RODC filtered
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit e11f92ba73028b608207ed91aaa22376756d7a73
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Apr 22 17:20:21 2010 +1000

    s4:provision Make OpenLDAP backend more robust
    
    With the extra moduleload lines (which succeed if it's already
    staticly linked), we now work with OpenLDAP overlays as modules.
    
    Andrew Bartlett

commit 47e7e487469fa1f3fafe0a52560e0049801a5ac7
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Apr 22 11:39:21 2010 +1000

    s4:ldap-backend Fix LSA test failures with OpenLDAP backend - convert SIDs
    
    The SIDs in some queries were not being passed as binary, but as
    strings in comparison with the securityIdentifer object.  We need to
    recognise that these are SIDs in the simple_ldap_map.
    
    Andrew Bartlett

commit 466fbe278a6f96f1b9942954a164262a14894bfe
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Apr 22 11:38:43 2010 +1000

    s4:provison Pass nosync in for the OpenLDAP cn=config too

commit fe3d872656ff68de60c1af91ccf292e2565fde8b
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Apr 22 11:37:41 2010 +1000

    s4:selftest Ensure we don't fsync() all day in the LDAP backend test
    
    Passing this option greatly reduces the time spent in the test.
    
    Andrew Bartlett

commit cbb818222aea20b47adbcd5e4461949d7e5d5107
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Apr 20 15:35:51 2010 +1000

    s4:OpenLDAP-backend Use the new rdnval module in OpenLDAP
    
    This is rather than rdn_name, which tries to do the job on the client
    side.  We need to leave this module in the stack for Fedora DS (and of
    course the LDB backend).
    
    Andrew Bartlett

commit 9eacde808ee464343620a311bb2bdea5ac7b5ee8
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Apr 20 14:49:30 2010 +1000

    s4:dsdb Revert accidentilly commited change for LDAP backends
    
    In the future, LDAP backends will be resposible for maintaining the
    'name' attributes.
    
    Andrew Bartlett

commit a50f6aad85b5fcbefafa52869651eb503b719cc6
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Apr 21 08:00:44 2010 +1000

    s4:provision Use more reasonable values for DB_CONFIG
    
    With the OpenLDAP backend, the old DB_CONFIG caused OpenLDAP to abort
    on startup, and was very inefficient.  This new one, kindly supplied
    by Matthew Backes <mbackes@symas.com> uses a more reasonable set of
    buffer sizes.
    
    Andrew Bartlett

commit d950e9e6f31c8657aee951728ef5d63ca572b01c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 22 12:03:22 2010 +1000

    build: added --enable-auto-reconfigure
    
    this is off by default until some issues are resolved. See my mail to
    samba-technical for details.

commit 3a8b67fd3604ed4f129df42543824d04b7197089
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Wed Apr 21 18:04:53 2010 +0200

    s4:netlogon RPC server - fix a counter variable type

commit adb5f943de841e00b5aabe67b0b4c58b692f9078
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 17:29:00 2010 +1000

    build: recalculate project deps when NONSHARED_BINARIES changes

commit 681f3dad7c32fc5dcf51ceda889d1f115a641aaa
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 17:13:16 2010 +1000

    build: added --nonshared-binary=LIST option
    
    This allows you to specify some binaries that should be built without
    shared libs. A non-shared smbtorture will make testing s3 in the build
    farm easier

commit 1d5aee6b91004d71609b3203c919ef39888c86cc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 16:21:30 2010 +1000

    s4-waf: python devel headers are mandatory for the source4 build

commit 06fa4c8ebcd5a3e4ef5c9d9a3b3d9516d3b94ce7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 16:17:08 2010 +1000

    build: make python development headers not mandatory in standalone libs
    
    This needed an update to the python tool in waf
    
    thanks to Kai for spotting this

commit ab2555faac253bdea46540aa1251977c46b02f35
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 15:36:26 2010 +1000

    waftest: updated the cross compilation environment I test with

commit 612a34ad69c043e42970e01f2f026dff7dc07728
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 15:35:55 2010 +1000

    s4-server: show build host in samba -b output

commit 667f672c94eb3e935ae3463a203dfa85b900726a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 15:15:55 2010 +1000

    build: fixed uname output to be on target machine when cross compiling
    
    this also makes the output of define_ret configure tests show up
    in the configure output

commit 5e695dec2af347dd9211a1dec45f10f751bbafb5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 13:35:52 2010 +1000

    s4-upgradeprovision: fixed --realm option duplicate in upgrade_from_s3

commit 2edff9f5ff2e61f2d6c2705f05ebcab4d61b4307
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 12:39:32 2010 +1000

    s4-drs: accept zero revision in drs selftest
    
    Kamen, please have a look at this. We need to accept revision zero as
    w2k8r2 sends it during initial schema replication
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 8fdfcde56cc78e8ea5c0bc2aa6c1dfa5515ff2c0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 12:32:26 2010 +1000

    s4-provision: cope with --realm being in getopt.py
    
    we still need to allow for interactive querying of the realm
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit b0a73fbf30ca73934be670c812acebc88255ba2b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 12:02:33 2010 +1000

    s4-waf: create the smbd.tmp/messaging directory
    
    this prevents a warning when we run net vampire from the install dir
    when samba has never been run previously
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 1a68311d41665b7f3ca1209ca1edf1bb92673bc4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 12:01:47 2010 +1000

    s4-python: added --realm option to python scripts
    
    this is needed for net vampire
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 0c0bbf2932edc55a897029f34faee105e5b694aa
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 12:01:16 2010 +1000

    s4-provision: set "setup_dir" to the right path
    
    This needs to cope with both running from the build tree or running
    from the install tree. We use the provision.smb.conf.dc as a sentinal
    to detect if we are in the build tree.
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 2dcc84432ec264d6b322c281d0db1d731ce16b1b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 11:34:24 2010 +1000

    s4-schema: allow revision numbers of zero
    
    w2k8r2 sends a revision of zero in the initial schema replication
    during a net vampire
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 024b53755c88855d7e88f256af03bd24280999f0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 11:33:43 2010 +1000

    s4-python: accept --option arguments in python cmdline parsing
    
    also fixed the -d option to use lp.set() which calls lp_set_cmdline()
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 899fa60dd2cf24fc32c83f17080fa5f221861541
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 11:32:58 2010 +1000

    s4-devel: allow extra net command line options and gdb
    
    This allows you to run:
    
      GDB="gdb --args" vampire_ad.sh
    
    and also to add higher debug levels like this:
    
      vampire_ad.sh -d100
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 7ccebb49af8d7d77ce2f3e9124148e1f4100165c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 21 11:31:59 2010 +1000

    s4-pynet: accept None for target_dir in vampire

commit 61bdffbf8e6789e7fbac3f0432840059fe98ab17
Author: Jim McDonough <jmcd@samba.org>
Date:   Tue Apr 20 17:45:06 2010 -0400

    Fix i18n of net conf import error message.
    
    Thanks gd

commit a22f03e02c99c78642978c8e7a06ae92f97ad41f
Author: Jim McDonough <jmcd@samba.org>
Date:   Tue Apr 20 16:28:47 2010 -0400

    Display an error on net conf import failures.
    
    When something goes wrong, such as a typo in a parameter
    name, we'll now display the failure instead of just returning
    with -1 and no message.

commit 6bf4dbb955a1d769008291b31f859c3352f02ad8
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 20 19:50:37 2010 +0200

    s4-smbtorture: add spoolss DriverInfo and winreg consistency test.
    
    Guenther

commit 0833c9639e3e7fb7e14dc25d90f4a9973e717cbc
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 20 19:29:12 2010 +0200

    s4-smbtorture: add function to get a printserver's environment.
    
    Guenther

commit 545ef2ca7636507f86f370ae57937de7a6bd5d2e
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 20 18:16:03 2010 +0200

    s4-smbtorture: simplify macros used in PrinterInfo winreg consistency teste.
    
    Guenther

commit e647b8c61f9b65e4c4d07eae7f1a4c2be711b8de
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 20 16:25:27 2010 +0200

    s4-smbtorture: refactor test_GetPrinterDriver2().
    
    Guenther

commit 7e9e5291de3e3a44491a482754515d2e76a99a83
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 20 15:58:02 2010 +0200

    s4:dynconfig: fix the autoconf build and pass -DPYTHONDIR=\"$(pythondir)\"
    
    metze

commit 135208d99067a7c84920ef7ce85955021f7be997
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 20 16:00:52 2010 +0200

    s4:rpc_server/netlogon: add no memory checks
    
    metze

commit b4b43fcb4c3e8b046489ea03b70f7c0a77bc5065
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 20 23:42:28 2010 +1000

    s4-netlogon: fixed dc_unc and dc_address_type
    
    These are needed for dcpromo from w2k8r2

commit 5e69259671d317aebaae54ec9adc30e58f70076f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 20 23:17:32 2010 +1000

    build: added uname display and SYSTEM_UNAME define
    
    suggestion from Metze

commit a9f5bfb3a5324f09a07657a8bb28bb4510485d31
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 20 21:45:33 2010 +1000

    util-runcmd: ignore spurious ECHILD errors
    
    when we get ECHILD in samba_runcmd it is because the parent has set
    SIGCHLD to SIG_IGN. In that case the child status information is
    lost. We then have to fallback on the logging of child error messages
    for any useful information on what happened to the child.
    
    A longer term fix is to stop using SIG_IGN for SIGCHLD in the standard
    process model of s4.

commit 4f5298cbb4c044b6bde0cda04d182651f826ee53
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 20 14:15:24 2010 +0200

    s4-smbtorture: add test for csetprinter field behaviour in printer info level 0.
    
    Suprisingly, that value is always 0 (at least on w2k8r2).
    
    Guenther

commit ac11b616dd67847be4f54f6fc08b64bacc0802f4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 20 20:30:41 2010 +1000

    s4-net: don't show a full python exception when you can't open sam.ldb

commit 9b66b7abcc828d864d2049133f2f0a5b41994ddd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 20 20:27:41 2010 +1000

    s4-net: show a list of commands when someone runs "net" with no arguments

commit 1f7da85c77f47b28a971374f42a1668a92398eb4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 20 20:24:08 2010 +1000

    s4-python: added PYTHONDIR to python search path
    
    we put it after the scripting/python dir, so we look in the build
    directory (if applicable) first.

commit 6072ab0d57487fcb9b00706b37898be003ff211b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 20 20:23:04 2010 +1000

    s4-dynconfig: added dyn_PYTHONDIR

commit 58549ab44a478dc0f896244579589e11aad8296c
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 19 18:51:26 2010 +0200

    s3-spoolss: fix winreg spoolss helper call documentation.
    
    Guenther

commit 7e4eb13ba40fbe0d2df9d7633f24cc70b74905c2
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 19 18:34:36 2010 +0200

    s3-spoolss: avoid passing down full "struct pipes_struct".
    
    Guenther

commit 41716a8c137946728085b897cd2217e0d0431e7f
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Sun Apr 18 18:49:51 2010 +0200

    s4:netlogon RPC - "fill_one_domain_info" - use "lp_workgroup" for the DC short domainname discovery
    
    Here we don't need to use "lp_sam_name" since in this function we are always a
    DC.

commit 39d612ff4c9131d0f06894da80e739aedf6ffe14
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 20 09:01:22 2010 +0200

    s4:torture/rpc/netlogon.c - fix typo

commit f1c523939b88aee0b1ce7375d68b06a0b8cf5d28
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 20 15:33:00 2010 +1000

    pytalloc: ensure talloc_ctx is directly after PyObject_HEAD
    
    the talloc python interface for tp_alloc and tp_dealloc relies on a
    cast to a py_talloc_Object to find the talloc_ctx (see
    py_talloc_dealloc). This means we rely on the talloc_ctx for the
    object being directly after the PyObject_HEAD
    
    This fixes the talloc free with references bug in samba_dnsupdate
    
    The actual problem was the tp_alloc() call in
    PyCredentialCacheContainer_from_ccache_container() which used a cast
    from a py_talloc_Object to a PyCredentialCacheContainerObject. That
    case effectively changed the parent/child relationship between the
    talloc_ctx and the ccc ptr.
    
    This patch changes all the structures that follow this pattern to put
    the TALLOC_CTX directly after the PyObject_HEAD, to ensure that if
    anyone else decides to do a dangerous cast like this that it won't
    cause the same sort of subtle breakage.
    
    Pair-Programmed-With: Rusty Russell <rusty@samba.org>

commit 45be1c7ba4382d85c742a241687bbc6d5a2ebd8c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 20 15:30:57 2010 +1000

    talloc: there is no ambiguity when freeing a ptr with a null parent
    
    when a ptr has a single reference and a NULL parent, then
    talloc_free(ptr) is not ambiguous, as the caller could not have done a
    talloc_free(NULL) to free the memory
    
    Pair-Programmed-With: Rusty Russell <rusty@samba.org>

commit 773a8afbba27a5e2e48577100f3ca9873b506615
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 20 13:53:35 2010 +1000

    tdb: update tdb ABI to use hide_symbols=True
    
    We now use -fvisibilty=hidden to hide symbols from outside the tdb
    shared library.
    
    This also moved tdb_transaction_recover() into the tdb_private.h
    header, as it should never have been a public API. For that reason we
    are changing the version number. We're only doing a minor version
    increment as it is extremely unlikely that anyone was actually using
    tdb_transaction_recover() as its locking requirements were rather
    unusual.
    
    Pair-Programmed-With: Rusty Russell <rusty@samba.org>

commit cdaac0afc12d155417764baa135bf29067103da4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 20 13:51:16 2010 +1000

    build: include uninitialised data in the ABI symbols
    
    This is needed for symbols like tdb_null in tdb, which are part
    of the public ABI
    
    Pair-Programmed-With: Rusty Russell <rusty@samba.org>

commit 0e56037129fb9ddca1ace8b18126e56cd587c5a6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 20 12:51:43 2010 +1000

    build: quote cross-answer strings
    
    This allows for spaces and special characters in cross-answers

commit f2bd78cb2652d3db69d0016b94c4506ada4b61c0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 20 12:49:50 2010 +1000

    build: allow "waf --abi-check" to force a re-check of the ABI

commit 538a07a80aae72b57e5c23133158c7f214d0c27a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Apr 20 14:24:22 2010 +1000

    s4:provisionbackend Print the command we failed to start slapd with
    
    This makes it easier to put failed startups into a debugger.
    
    Andrew Bartlett

commit ea5cf7ce05f295c34d0fca194ed7d8691f1e04ab
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Apr 20 11:48:51 2010 +1000

    s4:provision Pass in the invoication ID and NTDS Settings DN to Schema()
    
    By putting these values into the cache on the LDB, this reduces some
    of the noise in provision, particularly with the LDAP backend.
    
    Andrew Bartlett

commit 60d36929189eb8c5749431a4d90266b34c26b0c3
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Apr 19 14:32:08 2010 -0700

    Now SMB2 error messages are correctly being returned with the 1 byte data area, smbd_smb2_request_error_ex() must call smbd_smb2_request_done_ex() in order to do the padding correctly on compound replies.
    
    Jeremy.

commit 8bf7942fa4a5aceda3b01e9d5ad555a444b80faa
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Apr 19 13:43:42 2010 -0700

    Ensure vectors are always allocated with consistent size. Removes one byte alloc on SMB2 error packet. Always use talloc_zero_array on out vectors - fixes valgrind errors in tevent writes.
    
    Jeremy.

commit eacf5b235dd27ef844ebee80ded37ec7ecdf8ab2
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Apr 19 13:42:55 2010 -0700

    Fix valgrind error where a strdup of name reads one byte beyond the end. Ensure buffer returned from inotify is null terminated.
    
    Jeremy.

commit 4fc59089c81b251b4fab17f170e96bd6dac02490
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Tue Apr 20 00:23:42 2010 +0300

    Removed more excess looping and fixed problem with incorrect IO flag handling.

commit cea24c4620a782fec4a5e6da0892c9fa6d712d6a
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Apr 19 11:38:49 2010 -0700

    Remove an unused auto variable.
    
    Jeremy.

commit ba537079cff577237b7df50ab15fabb5b0086166
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Apr 19 15:56:30 2010 +0200

    libwbclient: wbcFreeMemory deals fine with a NULL pointer

commit 89bbc41d029e2327a9b9a3408c7552ce3e75e855
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Apr 19 15:50:11 2010 +0200

    libwbclient: Fix wbcListGroups against too small num_entries
    
    Thanks for the s4 winbind sending 0 here and Tridge to point it out to me :-)

commit 6d898b45a381b3a93da4ac2c4e1af0487dd838ef
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Apr 19 15:50:11 2010 +0200

    libwbclient: Fix wbcListUsers against too small num_entries
    
    Thanks for the s4 winbind sending 0 here and Tridge to point it out to me :-)

commit 23fd76433ab3f1fe4462e39633bc55e26bf050fc
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 19 16:08:59 2010 +0200

    s4:winbind: fill response.data.num_entries for WINBINDD_LIST_USERS
    
    metze

commit 629e73eeedb2aea2bda016bbc5559a66e3a86b59
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 19 16:08:41 2010 +0200

    s4:winbind: fill response.data.num_entries for WINBINDD_LIST_GROUPS
    
    metze

commit da17719241b33f97ecb7e36104d7e8869f3e71e9
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 19 16:07:28 2010 +0200

    s4:winbind: fill response.data.num_entries for WINBINDD_LIST_TRUSTDOM
    
    metze

commit c293359daf502543fb682fb0c925514c54dbdaf7
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Apr 19 15:24:59 2010 +0200

    s3: Remove a leftover of my lua experiments

commit 56b4aa326626128c178c838977ef9e3d564b7bc7
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 18 14:14:43 2010 +0200

    s3: Move the in-memory ccache to the parent
    
    None of this blocks, so there is no reason to keep this in
    a winbind child process

commit c04ce964e970b6f08fc768e93f5df2c5cbd09746
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 18 14:10:35 2010 +0200

    nsswitch: Add wbinfo --pam-logon
    
    This does a wbcLogonUser with credential caching

commit e0d7a8424264bb9a240409b67d4c363e154097dc
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 17 21:31:57 2010 +0200

    s3: Test for wb ccache access by smbclient

commit 5aa88782ce0615a3d171682fbb13a182e586ec69
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 4 15:15:00 2010 +0200

    libwbclient: remove async libwbclient and talloc from libwbclient.so
    
    Except for tests there is right now no active user of this. We can easily
    re-add this when smbd makes more use of it.

commit 76972533da513f8b7a1bca5f6a401d1476a9dba5
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 4 14:20:15 2010 +0200

    libwbclient does not need talloc_free anymore

commit 7072cc0c9d6b64f286bdb325bdc78aa7dba62ada
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 22:11:08 2010 +0200

    libwbclient: Make wbcListTrusts not use talloc

commit d582caa1755114bda9e8789c444bb28c663a7e6b
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 14:52:08 2010 +0200

    libwbclient: Make wbc_create_error_info not use talloc

commit f4c8f5146c6ee06e9ca77d77cb7f19e522ca31ff
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 4 14:01:23 2010 +0200

    libwbclient: Make wbcCredentialCache not use talloc

commit 802876af3b29a628f9489f17424b83cb17b194e0
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 4 11:58:04 2010 +0200

    libwbclient: Make wbcAuthenticateUserEx not use talloc

commit 406e55fafb54059a3fe91aa0111e83dad2fac6d5
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 4 11:57:39 2010 +0200

    libwbclient: Make wbc_create_logon_info not use talloc

commit d36829c108eb161fd20894c6b03a0f0f0e73a1be
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 23:08:20 2010 +0200

    libwbclient: Make wbc_create_auth_info not use talloc

commit 1ecdff2bf8fcf857c3b452f7259cbc1078954c06
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 22:22:17 2010 +0200

    libwbclient: Make wbc_create_password_policy_info not use talloc

commit ac8860d83d85ee80db510fe214abbfdc2bfdbef8
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 17 20:16:14 2010 +0200

    libwbclient: Test wbcGetGroups

commit fc2cca5c28a603dc656b405019f82cafbe0c1d6a
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 22:20:04 2010 +0200

    libwbclient: Make wbcGetGroups not use talloc

commit f6a34cb0e0305e0b5d393e4ee7a8ae86bde1e9a7
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 19:57:48 2010 +0200

    libwbclient: Make wbc_create_domain_controller_info_ex not use talloc

commit d959fec39e636b531c36e4be88d7c97a86a8a1ce
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 17 19:57:11 2010 +0200

    libwbclient: Make wbcLookupDomainController not use talloc

commit df831df6668dcdf3ccc1681383d085f38f402e9c
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 13:45:36 2010 +0200

    libwbclient: Make wbcLookupUserSids not use talloc

commit 460e2d5dada63786cce168b704ea1c005be6db2e
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 17 15:51:27 2010 +0200

    s3: Change the make test password to "testPw"
    
    This way we can change back to it when testing testing wbcChangeUserPassword,
    "test" is too short (<5 chars)

commit 3aaa07afea4fa66e2767fd3fb8f06b0018aaefa8
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 17 15:50:31 2010 +0200

    libwbclient: Test wbcChangeUserPassword

commit 496c459388f56f9c79a3ca1cc1a913946d4e62be
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 17 14:05:57 2010 +0200

    libwbclient: Abstract out test_wbc_authenticate_user for reuse

commit 9d0629d1552cac93ad8b746fa60122432762e6ac
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 16 16:28:05 2010 +0200

    s3-winbind: Allow changing the password for pdb

commit 45eeed2893e569483136c3f998eacb776d52e1ce
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Apr 1 16:44:16 2010 +0200

    s3: Convert WINBINDD_PAM_LOGOFF to the new async API

commit 518a4f5423bb360cf886aa1ce951f5323f4b12f9
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Apr 1 12:35:14 2010 +0200

    s3: Convert WINBINDD_PAM_CHAUTHTOK to the new async API

commit d869e7a0d85a4719078437539267c4acdf97dece
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Mar 30 23:02:36 2010 +0200

    s3: Convert WINBINDD_PAM_AUTH_CRAP to the new async API

commit 61ec0f571ad81dc101fe6de7a8e9674a7119cf2b
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Mar 29 17:52:38 2010 +0200

    s3: Convert WINBINDD_PAM_AUTH to the new async API

commit fddef8fd0ae169ebd2f20d9cc2458d2df44110a0
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Apr 13 22:52:17 2010 +0200

    libwbclient: Test wbcLogonUser

commit 8869480f015215a8c9bf77cc6c646a4a02979f1d
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 19:50:25 2010 +0200

    libwbclient: Make wbcAddNamedBlob not use talloc

commit 8ebb999b4ad7e01f1174f0943ea4240f4afbe5fd
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 15:03:49 2010 +0200

    libwbclient: Make wbcResolveWinsByIP not use talloc

commit 1637be5c557e2e902568338c69967da6b0e7da27
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 15:03:20 2010 +0200

    libwbclient: Make wbcResolveWinsByName not use talloc

commit f3e87ecd2c18c5ed56fa018925685d10f9804af0
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 15:02:40 2010 +0200

    libwbclient: Make wbcDomainInfo not use talloc

commit 7f454c3078d27d14395fbb9b38a08b869e49d6a6
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 14:59:07 2010 +0200

    libwbclient: Make wbcInterfaceDetails not use talloc

commit b62e57cec21fd8428ceb66e13a1e9856f8c6d40e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 4 21:38:38 2010 +0200

    libwbclient: Test wbcAuthenticateUser[Ex]

commit 77c0b015c7719d3f0e3a97c4d339899857f019ab
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 14:46:11 2010 +0200

    libwbclient: Make _SID_COMPOSE a function instead of a macro

commit b828985aa19f9d03823377cf64b7fb915ce0ba42
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 14:33:17 2010 +0200

    libwbclient: Make wbcGetDisplayName not use talloc

commit ae3edf85d46f234eada5a7e36d97026e44005ea2
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 10 16:36:22 2010 +0200

    libwbclient: Test wbcGetDisplayName

commit 8f3ab439f329234a47d8c32435a2e9606e8037da
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 14:31:57 2010 +0200

    libwbclient: Make wbcListGroups not use talloc

commit 1152cba5d2bb241a87511b7289c4714ea3990e53
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 14:26:22 2010 +0200

    libwbclient: Make wbcListUsers not use talloc

commit cafba3d7a772385da36f7571690ba2ce2262cef5
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 14:16:19 2010 +0200

    winbindd: Fill in num_entries where available
    
    The server implementation of WINBINDD_LIST_USERS, WINBINDD_LIST_GROUPS and
    WINBINDD_LIST_TRUSTDOM knows the number of entries returned.
    
    Bump up the version number so that a newer lib does not rely on something an
    older winbind does not do.

commit e80d0ecf8b716ddb1d5bdeeb641bfee10e35c345
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 10 12:58:14 2010 +0200

    libwbclient: Make wbcGetSidAliases not use talloc

commit fec712aca5d05a20f6f169fc821727737cd251c0
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 10 15:59:22 2010 +0200

    s3: Add some debug to GETSIDALIASES

commit 9e353a917bd2aca572ac8c249dd4690ab2de94fd
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 10 15:53:07 2010 +0200

    libwbclient: Test wbcGetSidAliases

commit 4f5100bcb2d720351d7ba1cc721e234236e69ea3
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 10 15:36:01 2010 +0200

    libwbclient: Simplify test_wbc_domain_info a bit

commit 679e7ef6e68c9d355cc5f1764600ee8999b3e021
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 10 15:28:42 2010 +0200

    libwbclient: Fix some pointless macro calls

commit 3d3b84bdec1406ef888b15d1fcd181b316fa7a86
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 10 12:57:13 2010 +0200

    libwbclient: Take -21 into account in length guessing

commit d29a5e69f4343f0876c374968dc00198243afef2
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 13:45:20 2010 +0200

    libwbclient: Fix some pointless macro calls

commit 4f88b7015de4a802ca98e6b9935b4d79115e48e0
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 13:44:49 2010 +0200

    libwbclient: Make wbcLookupRids not use talloc

commit ab892389db3d7e42e617d38f24c1dff73d608bec
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 13:37:01 2010 +0200

    libwbclient: Add wbcAllocateStringArray

commit 250bea02b586219275efc87d65fbae32b867ba86
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 4 22:52:53 2010 +0200

    libwbclient: Test wbcLookupRids

commit 0a966980f445a9fd9c39ca35dcaaec55c33ac749
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 12:01:43 2010 +0200

    libwbclient: Make wbcLookupSid not use talloc

commit a0162303c6e23c8f1d72a0e788d2665a97d16b4b
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 11:59:29 2010 +0200

    libwbclient: Add wbcStrDup

commit ed1981db05af87a48b17866b7e886d1e25fa8f77
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 11:14:23 2010 +0200

    libwbclient: Convert wbcSidToString to not use talloc

commit b75106b2ed378b544fada49f1b80a5e6d9921e21
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Apr 6 22:16:32 2010 +0200

    libwbclient: Make copy_group_entry not use talloc

commit 041be88bd04a8a054b8fcb254225889b6069de55
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Apr 6 22:16:07 2010 +0200

    libwbclient: Make copy_passwd_entry not use talloc

commit 20011f4681754160c59725c066357d902e00102c
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Apr 6 22:14:39 2010 +0200

    libwbclient: Make wbcGuidToString not use talloc

commit 769997786c62770873315363c5dc20661657fcbd
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Apr 6 22:14:03 2010 +0200

    libwbclient: Make wbcLibraryDetails not use talloc

commit f2a04a0ccb7276dcd23efeade59368540c6570b2
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Apr 6 22:10:22 2010 +0200

    libwbclient: Add wbcAllocateMemory()
    
    This prepares for removing libwbclient's talloc dependency. It is a
    non-hierarchical "talloc-lite" that has destructors. It is necessary because we
    have the catch-call wbcFreeMemory call. Individual wbcFreeXXX calls for the
    different structures wbclient returns would have made this easier, but
    wbcFreeMemory is the API we have to live with.

commit 456351cdb184f59374cecec8d7c44add29b986dd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 19 21:54:40 2010 +1000

    s4-waf: follow the configure directories for the empty install dirs
    
    Thanks to Metze for spotting this

commit d25e1e15d387d24fe045fbb162de57963c7b15a6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 19 21:00:51 2010 +1000

    build: update waf from svn
    
    this adds bld.install_dir()

commit db0eb2f239c9bbd3aeff06eee31102830eb42f11
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 19 21:00:36 2010 +1000

    s4-waf: install some missing empty directories

commit d2b35c3a24b9bae88b996f8bc70e6a6012fd16f5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 19 21:00:16 2010 +1000

    build: make compare_install.sh also check for missing directories
    
    Thanks to Nadya for pointing this out

commit 0b2e5debb004ed586e0ec7d926311c32a8b8f9e6
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 19 11:53:11 2010 +0200

    s3-smb2: fix some c++ warnings.
    
    Guenther

commit 7b84d36f19a29e33735bde08151e540d4c2b86b1
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 19 11:46:03 2010 +0200

    s3-spoolss: fix samr_ValidatePassword_Change.
    
    Guenther

commit 7277668128e3a8c138e9dc48ce6c2e85d1aac34f
Author: Günther Deschner <gd@samba.org>
Date:   Mon Apr 19 11:45:33 2010 +0200

    spoolss: move up enum spoolss_Build in the IDL.
    
    Guenther

commit 2033314a7ca731e9cea76cb3296c3dc85660ae30
Author: Günther Deschner <gd@samba.org>
Date:   Sat Apr 10 01:44:08 2010 +0200

    s3-lanman: use spoolss for api_WPrintJobGetInfo().
    
    Guenther

commit 0c80d12656267c4e932f8e22750e827d53997f07
Author: Günther Deschner <gd@samba.org>
Date:   Sat Apr 10 01:33:37 2010 +0200

    s3-lanman: use spoolss for api_WPrintJobEnumerate().
    
    Guenther

commit 0277143ca6224e4219d6b95746c02c8ca9a6abf6
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 13 23:51:36 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit 5b3c22e96fdc54cb60ac6f4d5e9a76a83fe477af
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 13 23:50:58 2010 +0200

    spoolss: make spoolss_SetPrinterInfo0 match changes in spoolss_PrinterInfo0.
    
    Guenther

commit fdf4d3eed3e1c461f4b8b67f2a563a86aecc0000
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 19 18:00:47 2010 +1000

    s4-waf: fixed WINBINDD_SOCKET_DIR for wb_common in s4
    
    s4 uses a different path for the socket

commit 540d197e499f1ab6fb27127c18fc9e4fe913393f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 19 17:18:53 2010 +1000

    s4-test: we don't need -s set for samba_dnsupdate
    
    this is now handled by SMB_CONF_PATH
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 43ca57d0887495fdbf2e8dd8c7afb9d521f220f3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 19 17:18:20 2010 +1000

    s4-dns: use neater python for reading lines
    
    files are line iterators

commit 162e7bc5b4679ab9be66730ea6b36ed3d25f0643
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 19 17:17:07 2010 +1000

    s4-param: set SMB_CONF_PATH when we load a smb.conf
    
    this is inherited by child python processes, to ensure they get the
    right smb.conf if they don't have one specified. Fixes bug 7301
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit dcf35ab487f9213d4424493257903971ebe3ebbf
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 19 17:14:33 2010 +1000

    runcmd: use tevent_re_initialise() to close sockets
    
    this ensures that all event fds are closed in the child

commit 8208f8e5e53f59866949b6169bc107f8f17e7a0e
Author: Kai Blin <kai.blin@biotech.uni-tuebingen.de>
Date:   Mon Apr 19 09:27:50 2010 +0200

    s3 i18n: Fix up missing newlines in more pam_winbind translations

commit e56dc831622271af81ce5bb90a749c2de80fedb2
Author: Kai Blin <kai.blin@biotech.uni-tuebingen.de>
Date:   Mon Apr 19 09:03:01 2010 +0200

    s3 i18n: Fix up missing newlines in pam_winbind translations
    
    At least in the languages I could read, the newlines were indeed
    missing.

commit b6dff759f7016bb4820fc8f9d660bf565c7caeee
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 19 15:58:37 2010 +1000

    build: added --cross-answers support
    
    This allows you to easily cross-compile even without a --cross-execute
    emulator
    
    See http://wiki.samba.org/index.php/Waf#cross-compiling for details

commit 5040e2a6fbe8b240b1d445e1260bb95203618b75
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 19 13:49:00 2010 +1000

    s4-dev: expanded selftest-vars.sh to match current testenv

commit e6cbbd9640e0e79653820e6cd5ea7b30c2e0f6bd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 19 13:43:53 2010 +1000

    s4-python: PyErr_SetString() will crash on NULL strings
    
    use nt_errstr() when no error available

commit 93f4f7a0375b95540d7f701c295b88ed9c6322d8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 19 13:43:12 2010 +1000

    build: fixed a python-3 indent error

commit 4e51bf1ffdf55b8292383415bcc23803c8a56bc9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 19 13:42:53 2010 +1000

    build: expanded testwaf to include cross-compiling and python versions

commit 59fa1e1890e0a007f56776d9539bf3f1ce074a34
Author: Jeremy Allison <jra@samba.org>
Date:   Sun Apr 18 20:23:54 2010 -0700

    Final fix for #7331 - Compound async SMB 2 requests don't work right.
    
    Don't free the cancelled SMB2 req early, let the cancelation
    function take care of it. Return a NT_STATUS_CANCELLED when
    we find and cancel a request. Fix our SMB2 error returns to
    correctly set the structuresize to 9, and add the expected
    zero byte (see section 2.2.2 in the SMB2 spec.).
    
    This causes Samba to pass the test program in this bug report
    that W2K8R2 fails (heh heh :-). This is because we always cause
    compound requests to get to a cancelation point before dealing
    with a cancel request.
    
    Jeremy.

commit 058d4a21afa843241c6a91a251fb46a327037194
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 17 21:39:09 2010 +0200

    s3: Fix indentation in remove_ccache

commit 0264c0c337058c03f9b4aca915f6af5e6a7731b0
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 17 20:09:45 2010 +0200

    s3: Fix a memleak in discover_dc_netbios

commit 36e57fa728fc98102d3f40d4341d22e6beb3802a
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 17 19:24:34 2010 +0200

    s3: Fix a typo in winbindd_ccache_save

commit a97f2a0a9c0f1c148a0152202296bb078103b40c
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 18 14:09:22 2010 +0200

    nsswitch: Fix a memleak in wbinfo

commit e1ca45179419f96b831cc929ff46df39a4766388
Author: Ira Cooper <samba@ira.wakeful.net>
Date:   Sun Apr 18 15:02:23 2010 +0200

    s3: Improved support for GAMIN.
    
    Support the FAMNoExists API for gamin to reduce cpu use and problems when
    using GAMIN as FAM for vfs_notify_fam.

commit 69ce29826cf209d79b4aa63e6d1f30ccf7bfd7ae
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 22:57:59 2010 +1000

    build: more dependencies on /usr/bin/perl -> ${PERL}

commit 3ca5fd8e030c485e2b1df1bac9f4cd7fcd4041ef
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 22:55:16 2010 +1000

    build: cope with perl not being in /usr/bin/perl
    
    This should fixed the pidl build on SerNet-NetBSD5

commit 211bf1ea170966eb283e45339806ac45aec44d58
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 21:47:00 2010 +1000

    s4-waf: removed the unused installdir= option to SAMBA_BINARY()
    
    This was left over from the automatic conversion of the config.mk
    files

commit f8e3e5ce074ba08aefba3b4e7fe804c08687dbfa
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 21:08:11 2010 +1000

    build: fixed install of binary targets that are in subdirs
    
    this should fix the smbd/smbd install problem with Kai's s3 waf build

commit 639fe346670c760ec6a1536e2d3962e1c301b13c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 19:41:47 2010 +1000

    build: support make V=1 for verbose build
    
    this also adds support for other options, such as "make TESTS=testpattern"

commit 7aa4c11fc4c25df6ea25dfe28d3dca851b91f909
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 18:21:04 2010 +1000

    build: more adjustments for the ABI type name maps
    
    - use 'va_list' instead of 'struct __va_list_tag *'
      Using the C name for va_list is preferable
    
    - add support for negative ABI name matches in abi_match=.  That is
      used to exlude ldb_*module_ops from the ldb ABI
    
    - don't include the ldb module ops or backend ops in the ABI

commit 1a73e967f594c739f7533fdce0e1c18579d0bf21
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 17:35:53 2010 +1000

    build: added abi_type_maps for FC12 struct va_list
    
    fedora12 x86 uses "struct va_list"

commit 3f1ebe805bbd38a4cf34f9feb1837f92a8de75d9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 17:31:24 2010 +1000

    build: don't depend on the word size of nm output
    
    the first column varies in length for different architectures

commit 1aa80f5788da34cd10141e6bfb5c263346dda75e
Author: Jeremy Allison <jra@samba.org>
Date:   Sat Apr 17 22:42:23 2010 -0700

    Second part of fix for bug #7331 - Compound async SMB 2 requests don't work right.
    
    Cause us to match W2K8R2 by sending an interim compound reply
    followed by a async reply.
    
    Jeremy.

commit f96353adcf865aa1e809a87f1f9b29186307f05d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 15:39:59 2010 +1000

    s4-waf: rebuild signature files with the api type maps
    
    This is not strictly necessary, as the old types would compare equal,
    but it is neater to use the generic type names

commit 8dc2db0f6d61fc26fbecd27afbee5147ad358756
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 15:39:14 2010 +1000

    build: added abi type maps for _Bool and __va_list_tag
    
    This allows us to make the signature files platform independent

commit 77768dbd75d0f4b41c41d7b2fc86a2994636635a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 12:48:09 2010 +1000

    ldb-waf: enable ABI checking in ldb
    
    we use separate signature files for ldb and ldb-samba4, as the samba4
    varient of the library has many more public symbols

commit 7d90b5960229f8ddd2aeb64fcf0834a3ad461acf
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 12:47:33 2010 +1000

    ldb: mark the tdb backend in ldb as _PRIVATE_

commit 5e26f65f790227a8767635c55df7b425daf019e7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 12:47:13 2010 +1000

    tevent-waf: enabled ABI checking in tevent

commit 2550bbc981a25b5a37525d99201498b81bb93572
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 12:47:00 2010 +1000

    tevent: mark backend init fns as _PRIVATE_
    
    these are not supposed to be exposed in the library

commit 805f651dbf70f90ea7dab192cbe498b41fc47dc3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 12:46:33 2010 +1000

    tdb-waf: added ABI checking for tdb

commit ef496e8d1de7cd50c1d4c05d1cab8c4c64a9280b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 12:46:21 2010 +1000

    talloc: mark public functions as _PUBLIC_

commit 1bcd900912b13b6aed658c7cc34e3b7d55cf35c7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 12:46:04 2010 +1000

    talloc-waf: added ABI checking for talloc

commit 7818e2cc8c1f9701329e80da7771a9141a464db0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 12:45:30 2010 +1000

    replace-waf: hide symbols in libreplace if a builtin library

commit 4e448e2d2c140f5d4ea85938d09672e9fa26994e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 12:44:58 2010 +1000

    libreplace: added _PUBLIC_ and _PRIVATE_ to replace.h
    
    these are needed for all libs that use ABI checking, so libreplace
    is the logical place for now

commit d81eccc0baa26ae4c92680085b28687897ee9904
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 12:44:07 2010 +1000

    s4-waf: put the --xxx-wrapper options in 'developer options' group

commit d3dea9b1248edf9a3e96e88bea8de3e098fbc2fe
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 12:43:15 2010 +1000

    build: added ABI checking to the WAF build
    
    See http://wiki.samba.org/index.php/Waf#ABI_Checking for details

commit 877439e26422568bd5ca6ffc019c3ae1d6c2499c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 18 12:41:56 2010 +1000

    build: added a script for generating ABI signatures from shared libraries

commit bf45b4f4fda2c4e0d697bb30720c780325c3cd84
Author: Jeremy Allison <jra@samba.org>
Date:   Sat Apr 17 21:20:17 2010 -0700

    First part of fix for bug #7331 - Compound async SMB 2 requests don't work right.
    
    Gets us handling SMB2 compound async requests similar to W2K8R2
    (and triggers the same client bug in the Win7 redirector). Great
    thanks to Ira Cooper <samba@ira.wakeful.net> for helping with
    this and to Metze for the wonderful async framework. The one
    thing I need to fix to make us identical to W2K8R2 is that
    when a compound request goes async at the end W2K8R2 splits
    the replies up into a compound non-async reply followed by
    a separate async reply. Currently we're doing the whole thing
    in a compound reply.
    
    Jeremy.

commit e0d6f1a6dafef712c90a5df21fa42791e5c9b140
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sat Apr 17 20:42:37 2010 +0200

    s4:dsdb/dns/dns_update.c - fix a typo

commit c678563efec82e84c9c86309cbf9495950a02b8c
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sat Apr 17 20:08:15 2010 +0200

    s4:kdc/db-glue.c - use "TALLOC_FREE" insteal of "talloc_free" for the "priv" context
    
    Also after a free "priv" could be != NULL and may be freed again.
    This should fix bug #7365.

commit 827ccdf6b9c36b7fe0c9b818debd422edceead37
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Apr 11 23:22:01 2010 +0200

    s4:kdc/wdc-samba4.c - fix integer counter types

commit ad898fd63815823309019403ef32f516f4dfbf86
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Apr 11 23:17:15 2010 +0200

    s4:kdc/db-glue.c - fix integer counter types

commit 64f4183a3549205915354761eb211f031a632708
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Sat Apr 17 18:16:25 2010 +0300

    s4:Added a test for correct CO expansion in SD creation.

commit f4b73f4e240cee0cc24dc29c84473d6068ab3139
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 16 15:06:17 2010 +0200

    s3: Slightly simpify samr_ValidatePassword_Reset

commit 3a362b45c623afb031798570836cebef3e5ebc8a
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 16 15:06:03 2010 +0200

    s3: Slightly simpify samr_ValidatePassword_Change

commit 6f998b4b9a46f48b98b947f79bf9c83ec7a0b9fd
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 16 15:00:54 2010 +0200

    s3: Slightly simplify the logic of check_password_complexity()
    
    The whole routine was just one if-branch. Do an early return instead.

commit b0b077f27c8f87dedf8fc7898c54e2c2575c1be6
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 16 14:16:40 2010 +0200

    s3: Fix some nonempty blank lines

commit 4567bf9df53e62c0f30279235d56d13cb38de190
Author: Andreas Schneider <asn@samba.org>
Date:   Fri Apr 16 11:04:27 2010 +0200

    s3-winreg_nt: Fixed QueryValue with data=NULL to get the length.

commit eef184301adccb141cc0da4cee960a60ae38b569
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Fri Apr 16 14:28:09 2010 +0300

    s4:Replaced dsdb_get_dom_sid_from_ldb_message() with samdb_result_dom_sid()

commit 20fc769179377bf037f4d5efe1afbaf77d4c9292
Author: Karolin Seeger <kseeger@samba.org>
Date:   Fri Apr 16 09:23:30 2010 +0200

    s3-docs: Improve "winbind nss info" section in man smb.conf.
    
    Karolin

commit ef05007257b224b803d1814185c7edd12d794316
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 16 15:33:07 2010 +1000

    s4-rpc: fixed the build with the old build system
    
    ../librpc/gen_ndr/ndr_drsblobs.o was being linked in twice into
    drsblobs.so

commit 75f5c3cd97e90ba19dde3d3d3b3679d5e14abe8c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 15 17:15:25 2010 +1000

    s4-net: allow a username to be displayed in setpassword errors
    
    the filter is a bit too cryptic
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 046c5824e4f28d07c96e5ad21bef415cfdcf090e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 15 17:14:46 2010 +1000

    s4-net: nicer error message (and no exception)
    
    in net newuser and net setpasswd we shouldn't be throwing python
    exceptions on normal user errors like unknown user
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 22d7a06522088e86eb19b104f24cdf19e576a668
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 15 17:13:37 2010 +1000

    s4-test: added KRB5_CONFIG to selftest-vars.sh

commit 48330c828e5058823c6df09736e8e8eaefdd6565
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 15 16:25:50 2010 +1000

    s4-test: check that a weak password is rejected by kpasswd
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit a7f8c197adbc684dd9de6356ea1a5a9b59a5c322
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 15 19:01:17 2010 +0200

    s4:rootdse: only return "tokenGroups", when the client asked for them
    
    metze

commit 13bbfa3fcabfc97a57ae56ef916bf13137fb5290
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 15 18:41:56 2010 +0200

    pydsdb: Fix memory leak on invalid parameters, formatting, trivial
    typos.

commit ce28f854c0c8c62c6f13989ec4d2f9e890ffd0e1
Author: Matthieu Patou <mat@matws.net>
Date:   Wed Apr 14 00:46:51 2010 +0400

    s4 python: add a unit test for function dsdb_get_oid_from_attid
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 634caed116d7e369d5a0002ab93d03744b2e0b1d
Author: Matthieu Patou <mat@matws.net>
Date:   Sun Apr 11 02:02:50 2010 +0400

    s4 python: make the function dsdb_get_oid_from_attid reachable from a samDB object
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit d784ecec555a3d9737e6f4b3894f27904d2b833c
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Apr 13 00:51:00 2010 +0400

    s4 python: Add a function to get the oid of an attribute when the attid is known
    
    This function is mainly to help decoding replPropertyMetaData in python
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 9c2aed862d2ecbc4047cd0326250096767731c05
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Apr 13 01:00:08 2010 +0400

    s4: Add python binding to waf so that the drsblobs.so is also built in waf
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 6d9ce1fee3a87ed0961c3d9e009008a98efd10c2
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Apr 13 00:58:50 2010 +0400

    s4: Fix python binding for drsblobs
    
    This binding needs symbols in drsblobs_c.c otherwise we have unresolved symbols
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit b8d6f1ce892c36840d392021b528e8c3bdb875dd
Author: Matthieu Patou <mat@matws.net>
Date:   Thu Apr 8 01:44:22 2010 +0400

    s4 provision: Remove hard coded ACL for GPO objects
    
    It is no longer needed to hard code ACL for GPO object as we have now code
    that calculate ACL from defaultSecurityDescriptor and inheritance correctly.
    
    In fact the resulting ACL returned by this hard coded value is a bit wrong as
    some ACE are duplicated.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit f1ecdb980b8a63b7facd62e737ba49d5bfddf80b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 15 16:30:02 2010 +0200

    s4:setup/wscript_build: install dns_update_list into ${SETUPDIR}
    
    metze

commit d19033e1e91bf93cc73e7cedaf84d536fa28e533
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 15 16:26:59 2010 +0200

    Revert "Revert "s4:script/installmisc.sh - install "dns_update_list" to target setup folder""
    
    This reverts commit a34eafc693d8750c0883823068e5c6f7355efa04.
    
    This commit was correct.
    
    metze

commit d8c3541ca8b012cb686a1517886132da574e8c55
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 15 16:25:37 2010 +0200

    Revert "s4:"dns_update_list" file: install it properly into the private directory"
    
    This reverts commit fde707aa0c563d239c2f8c442cddfee0b6ff057f.
    
    This is wrong, we need to install it into the setup directory,
    so that provision will find it and copy it to private dir.
    
    metze

commit 7233699ad849b0771c946eb47b31ff50f64cefbf
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 15 18:26:38 2010 +0200

    s4:dynconfig/wscript: ${LOCALSTATEDIR} already has var/ included
    
    metze

commit 279bf89fb37cc4d2a4b514301bc5bdb61ca48740
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 15 17:22:41 2010 +0200

    s4:torture/rpc/countcalls: check for NT_STATUS_IS_RPC() instead of NT_STATUS_NET_WRITE_FAULT
    
    metze

commit 3f8e9b919dc74fb8aae903e03344fe62cadf5fd5
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 15 17:21:13 2010 +0200

    s4:libnet_passwd: check for NT_STATUS_RPC_ENUM_VALUE_OUT_OF_RANGE for SetPassword
    
    metze

commit 2570f8dcdadcc889dcc33824b2dcfe4e6050781b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 15 17:20:21 2010 +0200

    s4:libnet_passwd: check for NT_STATUS_RPC_PROCNUM_OUT_OF_RANGE in the ChangePassword calls
    
    metze

commit b2261c82722d5c2f5479ec3177a0fc0e17163aca
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 15 17:19:19 2010 +0200

    s4:libnet_rpc: check for NT_STATUS_RPC_PROCNUM_OUT_OF_RANGE instead of NT_STATUS_NET_WRITE_FAULT
    
    metze

commit cec0e86ec84a1347a330430337c6b8a643381001
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Thu Apr 15 18:21:55 2010 +0300

    s4:Added a test to make sure we ignore ACEs with ID flag set.

commit 205c8266112d85543c3667854ac58e41c02fed17
Author: Nadezhda Ivanova <nivanova@samba.org>
Date:   Thu Apr 15 13:54:23 2010 +0300

    A bit of refactoring in the SD creation code.

commit e9d4f1578cdbd03ddc63d22822483add20e753d4
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 14:11:50 2010 +0200

    s4:torture/rpc/autoidl.c: check for NT_STATUS_RPC_* instead of p->last_fault_code
    
    metze

commit 51f7b1382b91053ae96b2cd14dae17ad6eea0df4
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 13 21:48:36 2010 +0200

    s4:torture/rpc/dsgetinfo.c: check for NT_STATUS_RPC_ENUM_VALUE_OUT_OF_RANGE instead of DCERPC_FAULT_INVALID_TAG
    
    metze

commit c85884ecc889945721303818d6fa18081403b3c2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 14:14:29 2010 +0200

    s4:torture/rpc/spoolss.c: check for NT_STATUS_RPC_* instead of p->last_fault_code
    
    metze

commit 98464853f4c508ac26cd0f446dc1365b4c7668c7
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 14:13:55 2010 +0200

    s4:torture/rpc/scanner.c: check for NT_STATUS_RPC_* instead of p->last_fault_code
    
    metze

commit 2aba84581616ebf58d3793c1213e2d8c652a2752
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 14:13:27 2010 +0200

    s4:torture/rpc/samr.c: check for NT_STATUS_RPC_PROCNUM_OUT_OF_RANGE instead of DCERPC_FAULT_OP_RNG_ERROR
    
    metze

commit 6f4218a4aa097c3b89224bd3cba2d9d2649f28d5
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 14:12:30 2010 +0200

    s4:torture/rpc/drsuapi.c: check for NT_STATUS_RPC_ENUM_VALUE_OUT_OF_RANGE instead of DCERPC_FAULT_INVALID_TAG
    
    metze

commit 1864cd8fa79cf109460516973c67e785fd0a7644
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 14:12:10 2010 +0200

    s4:torture/rpc/countcalls.c: check for NT_STATUS_RPC_PROCNUM_OUT_OF_RANGE instead of DCERPC_FAULT_OP_RNG_ERROR
    
    metze

commit 0cc24f2f9b36241afd4240c5d312052f5010d014
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Apr 10 11:04:04 2010 +0200

    s4:torture/rpc/alter_context: check for NT_STATUS_RPC_PROTOCOL_ERROR instead of DCERPC_NCA_S_PROTO_ERROR
    
    metze

commit cf9d425e3d9646c6b4ea1b57a39cca23dfd26ab7
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 29 22:58:53 2010 +0200

    s4:torture/rpc/dssync.c: check for NT_STATUS_RPC_PROCNUM_OUT_OF_RANGE instead of DCERPC_FAULT_OP_RNG_ERROR
    
    metze

commit de94672fe083e7a335846353c61b5c0aa08ac0b1
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 29 22:45:05 2010 +0200

    s4:torture/rpc/alter_context.c: check for NT_STATUS_RPC_BAD_STUB_DATA instead of NT_STATUS_NET_WRITE_FAULT
    
    metze

commit bb4a958c6df8bdccc5e7f8ac332bac5784924a8a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 29 22:36:22 2010 +0200

    s4:torture/rpc/handles.c: check for NT_STATUS_RPC_SS_CONTEXT_MISMATCH instead of DCERPC_FAULT_CONTEXT_MISMATCH
    
    metze

commit 34a6350715ddeea88dbbd13b17858b0890d85630
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 29 22:36:07 2010 +0200

    s4:torture/rpc/lsa.c: test for NT_STATUS_RPC_SS_CONTEXT_MISMATCH instead of NT_STATUS_NET_WRITE_FAULT
    
    metze

commit 61e53c078203ddb11c7f9f04492ade7d95d21f02
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 14:10:24 2010 +0200

    s4:librpc/rpc/pyrpc.c: map NT_STATUS_NET_WRITE_FAULT to the matching NT_STATUS_RPC_* code
    
    metze

commit a8e81c25ebe7a673c2c6e046dd6a0a829c4af409
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 29 22:35:37 2010 +0200

    pidl:Samba4/NDR/Client: map NT_STATUS_NET_WRITE_FAULT to the matching NT_STATUS_RPC_* code
    
    metze

commit fed16f4015f8209dc4705fc1464fc45a093d9349
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Mar 20 11:31:55 2010 +0100

    librpc/rpc: add dcerpc_fault_to_nt_status()
    
    For now this only handles fault codes with we've seen yet
    and for which we have explicit torture checks.
    
    metze

commit c0736c70d6ab442055f998e7b1308a0536f99a95
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 13 09:38:03 2010 +0200

    s4:torture/rpc: don't look at p->last_fault_code for debugging anymore
    
    metze

commit 1293712b7d098aca12d7d2e043dc8ee87fb02aec
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 13 09:14:14 2010 +0200

    s4:util/net/drs: don't look at p->last_fault_code for debugging anymore
    
    metze

commit 146ce6ead122f6f4ab18998c91d1bbdd1c63d336
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 13 09:12:52 2010 +0200

    s4:libnet/libnet_join: don't look at p->last_fault_code for debugging anymore
    
    metze

commit 7f6cdad706b7171d76eddae40b17a07acc15aef8
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 15 09:29:33 2010 +0200

    s4:winbind: use WINBINDD_SOCKET_NAME instead of WINBINDD_SAMBA3_SOCKET
    
    metze

commit a1cf6a52af5eb9766105870c2eb5470855fbd1e7
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 15 09:24:56 2010 +0200

    s4:winbind: wbsrv_samba3_priv_pipe_dir() needs to return the directory not the pipe path
    
    metze

commit 2fd0137a87cdefb5626f5537201af8f93eb0be8b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 15 08:28:20 2010 +0200

    s4:selftest/wscript: --enable-selftest and --with-selftest-prefix are configure options
    
    metze

commit 0bda3bae4cd68285e106261ffe79a1da1f778861
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 15 14:43:43 2010 +1000

    build: throw a fatal error for duplicate target declarations
    
    We don't want someone to declare two subsystems of the same name but
    with different source files
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit daf4ad59057d9a7970393d94a4f1c3dfd1e77d21
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 15 14:42:13 2010 +1000

    s4-waf: removed a duplicate declaration of python_netbios

commit 34887de6b0615f0f63f497f9020d1c059643f8ec
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 15 13:59:51 2010 +1000

    build: ensure we don't recreate library loops in expansions
    
    after removing library loops from the dependeny graph, we re-add
    parent dependencies. We need to ensure that we don't re-add a
    dependency which re-creates the loop we so carefully removed.
    
    This also adds a final check for library dependency loops, and shows
    an appropriate error if one is found.

commit 167ba0eac902238d970b8312a6cbc87cf48af91a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 15 09:14:10 2010 +1000

    build: make the 'wrong version of waf' message even clearer
    
    suggest ./autogen-waf.sh

commit 208eb7469d9208f2aa8bff5f07ef90be3f3d7b1d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 15 08:55:26 2010 +1000

    build: check that the user is not using an old /usr/bin/waf
    
    some systems have /usr/bin/waf installed, and its quite old

commit 8693ae741c98b42a900d1f3b529326cca56297c9
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Apr 14 21:48:38 2010 +0200

    s3: Fix a typo

commit e1e2195a4ab60a74ca0a11f8eeb0ba1abfbb37a7
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 13 22:06:51 2010 +0200

    s4:torture/rpc: rename rpc.h => torture_rpc.h
    
    The reason for this is that some systems include
    <rpc/rpc.h> from within system headers. HP-UX 11.00
    does so somewhere deep inside of <shadow.h>.
    
    For torture/winbind/struct_based.c <rpc/rpc.h> resolves
    to torture/rpc/rpc.h and breaks the build.
    
    metze

commit bcd647f943e391bdb98233c168d2b35e244e2bf4
Merge: e81e057... bc6a43a...
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 14 23:38:05 2010 +1000

    Merge branch 'master' of ssh://git.samba.org/data/git/samba

commit e81e057b6d70d70616132593dc2acbfe77cb459c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Apr 14 23:37:47 2010 +1000

    build: try to honor MAKEFLAGS from make
    
    This means "make -j" and "make -k" now do roughly what is expected
    
    make -j will use the number of CPUs on the system, regardless of the
    number after the -j (as MAKEFLAGS doesn't contain that value).
    
    make -k will will continue on errors

commit bc6a43aeb41fc5ccf3a34f2ec91e1328ae82d90e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 13 17:36:51 2010 +0200

    s4:torture/rpc/winreg: fix compiler warnings
    
    metze

commit d0180570b3e1d0a4aa9c7a55af9fd3b4c925ec77
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 14:13:08 2010 +0200

    s4:torture/rpc/dsgetinfo: first check the rpc layer status before looking at the application result
    
    metze

commit 74c4c7fe4f8ed9479a126d1217dfcc084ff31791
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Apr 13 19:12:43 2010 -0700

    Don't set "requested_posix_capabilities" in the sync code, already done in the async.
    
    Jeremy.

commit a1e0e1cbcfefa513982f8351fb8b13fbd61c2d54
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Apr 13 18:42:24 2010 -0700

    Add basic DFS tests.
    
    Jeremy.

commit f3b8e31f83c44f1e72b15711542d817af7ec9506
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Apr 13 18:41:14 2010 -0700

    Split out the client unix capabilities to those the server offered, and those the client asked for.
    
    This fixes a bug when using encrypted transport and DFS links. Found
    by my basic DFS torture test, which I'll check in next. Testing *rocks* :-).
    
    Jeremy.

commit 589a42e2da7d7cd382deb94c57b0c6dbca269e55
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Apr 13 12:00:06 2010 +1000

    s4:auth Change auth_generate_session_info to take an auth context
    
    The auth context was in the past only for NTLM authentication, but we
    need a SAM, an event context and and loadparm context for calculating
    the local groups too, so re-use that infrustructure we already have in
    place.
    
    However, to avoid problems where we may not have an auth_context (in
    torture tests, for example), allow a simpler 'session_info' to be
    generated, by passing this via an indirection in gensec and an
    generate_session_info() function pointer in the struct auth_context.
    
    In the smb_server (for old-style session setups) we need to change the
    async context to a new 'struct sesssetup_context'.  This allows us to
    use the auth_context in processing the authentication reply .
    
    Andrew Bartlett

commit 4e2384e2426745023553afb21270165872c61b02
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Apr 13 18:24:43 2010 +1000

    s4:auth Allow the simple 'struct auth_session_info' generator for all users
    
    This code isn't ideal, but it is better than needing to consult the
    main SamDB in things like a torture test.
    
    Andrew Bartlett

commit 577bceb19bed18db053456b2b686ba04df1d7456
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 15:27:49 2010 +0200

    s3-winbind: Authenticate SAM users

commit 55838a8c021020c057b514cc97d5196eaa313764
Author: Karolin Seeger <kseeger@samba.org>
Date:   Tue Apr 13 20:09:13 2010 +0200

    s4-heimdal: Fix typo in comment.
    
    Karolin

commit b0a9e5ba77ad56ba32a912acb288431c52aefcad
Author: Karolin Seeger <kseeger@samba.org>
Date:   Tue Apr 13 20:08:22 2010 +0200

    s3-winbindd: Fix typo in comment.
    
    Karolin

commit fce533e3bed54e8b6255142f97d6b2a5ecf5f18d
Author: Karolin Seeger <kseeger@samba.org>
Date:   Tue Apr 13 20:07:11 2010 +0200

    examples: Fix typo in comment.
    
    Karolin

commit 6389fac6db2f54d148222009b5e209cef5c6bdd7
Author: Karolin Seeger <kseeger@samba.org>
Date:   Tue Apr 13 20:06:14 2010 +0200

    s3-docs: Fix typo in man idmap_ad.
    
    Karolin

commit a68eb378a584c638d81f2e1ec645a318e37f103f
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 13 09:07:21 2010 +0200

    s4:librpc/rpc: the python bindings should use !NT_STATUS_IS_OK instead of NT_STATUS_IS_ERR
    
    Everything but NT_STATUS_OK is an error here.
    
    metze

commit 59b1078ec5a074bb812546329a12ea3941ab11ef
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 13 09:06:38 2010 +0200

    s4:librpc/rpc: make PyErr_SetDCERPCStatus() static
    
    metze

commit 84c901a619ad4b20c36b84c435fb869e8374bd8a
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 13 15:45:29 2010 +0200

    s4:"samdb_server_site_name" uses - proof for out of memory

commit 34ff1c6944a56365390b252f516b6d3aafc8ac50
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 13 15:40:43 2010 +0200

    s4:samdb_server_site_name - fix indentation

commit 1e08449136e87f70d581714284f86f88d54c20fd
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 13 15:29:12 2010 +0200

    s4:fill_netlogon_samlogon_reponse - fix a typo

commit 7d5a8c3506b3bb4005820ce2ab6687bbf9c2dd40
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 13 09:53:28 2010 +0200

    s4:torture/netlogon - enhance test for "dcesrv_netr_DsRGetDCNameEx2"
    
    Test for right domainname handling.

commit aa02f4425579d5fb45da3216462273c973fcaa64
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Apr 12 18:00:49 2010 +0200

    s4:dcesrv_netr_DsRGetDCNameEx2 - provide a much better implementation
    
    On the base of the "fill_netlogon_samlogon_response" call.
    
    This removes duplicated code.

commit 4d7d6ee8202f75b44c25a747e83ddda5466aa509
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 13 15:18:02 2010 +0200

    s4:fill_netlogon_samlogon_response - some rework of the detection code
    
    To make it compatible by the use of the "dcesrv_netr_DsRGetDCName*" calls.
    Some result checks were redundant so I removed them. In other cases I added
    debug outputs. Sometimes the debug messages were misleading.

commit 3909088e13c24183d22df6a77cd0717a6ed50c72
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 13 21:40:59 2010 +1000

    s4: prevent the autoconf build from removing source4/librpc/gen_ndr/README

commit c10d267a7620d53e34f79c2514849cd82a47b9aa
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 13 21:33:04 2010 +1000

    s4-waf: don't try to use the system lib for the library build
    
    when building library FOO, don't try to find the system library FOO
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 483d059c8e08473c9c9b27025bfb80f0d6b89c4a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 13 21:20:52 2010 +1000

    tevent-waf: added man page and pkgconfig file
    
    this allows libtevent to build under rpmbuild
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit be813ff2d4a8d85eccc641f0d0739b31f4fdb964
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Apr 13 12:09:21 2010 +0200

    libwbclient: Re-Fix a bug that was fixed with e5741e27c4c
    
    > r21878: Fix a bug with smbd serving a windows terminal server: If winbind
    > decides smbd to be idle it might happen that smbd needs to do a winbind
    > operation (for example sid2name) as non-root. This then fails to get the
    > privileged pipe. When later on on the same connection another authentication
    > request comes in, we try to do the CRAP auth via the non-privileged pipe.
    >
    > This adds a winbindd_priv_request_response() request that kills the existing
    > winbind pipe connection if it's not privileged.
    
    The fix for this was lost during the conversion to libwbclient.
    
    Thanks to Ira Cooper <samba@ira.wakeful.net> for pointing this out!
    
    Volker

commit fcab3d64f496693c70cc1ff1bcf1cf439a15fcf1
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Apr 13 12:27:18 2010 +0200

    libwbclient: Remove a pointless variable

commit 974025944e6bd59a79638f185a6268903f396fa6
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 13 12:56:19 2010 +0200

    buildtools/wafsamba: make sure CHECK_FUNC() and CHECK_VARIABLE() work with -O3 in the CFLAGS
    
    'CFLAGS="-O3" waf configure' was not detecting dlopen() needs -ldl.
    
    metze

commit 367ba43b63eacb2bffaf8c53c77a343481482939
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 13 20:13:00 2010 +1000

    tdb-waf: added build of manpages and config options for RPM build
    
    Building a RPM from the fedora spec file now works with minimal changes
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 42505df161bacc24b6f0bf72baee6995c51a260b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 13 19:46:29 2010 +1000

    talloc-waf: the talloc1-compat lib depends on talloc
    
    It is a library linked to another library, not a 2nd copy of talloc.c
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 58abd9ac81e18276ee3e2dd9b545b1525f67f721
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 13 19:45:38 2010 +1000

    build: for unbundled libraries install devel link too
    
    We need a symlink libFOO.so -> libFOO.so.x.y as a
    development symlink
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 16d4d0346daa9678f2969fa1fde52eed58643c00
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 13 10:09:18 2010 +0200

    testprogs/blackbox/test_kinit: reorder arguments to "net time" to fix make test
    
    metze

commit 4cff89a585bddcfe833e13824bb6dc06fbd34bca
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Apr 13 09:38:42 2010 +0200

    s4:tortore/rpc/spoolss: some compilers don't like .foo.bar = 5
    
    metze

commit ab9e5047d747115df9519ecb00f24d77d43e98ed
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 13 17:32:14 2010 +1000

    talloc-waf: added the manpage generation and talloc1-compat generation
    
    this allows the RPM spec file to be used with only a tiny mod (using
    autogen-waf.sh instead of autogen.sh and using ln -sf for the library
    links instead of ln -s)
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 64f860e96a7662379ff5b9edc2b402631ac6fb66
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 13 17:27:52 2010 +1000

    build: added autoconf compatible configure options
    
    This adds --build, --host, --program-prefix and
    --disable-dependency-tracking. All we do with them is check them for sanity
    and throw an error if (for example) the user tries a cross-compile using
    these options
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 6661ecbe944567a1813fad46d67554433196aae1
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 13 09:25:26 2010 +0200

    s4:CLDAP - "fill_netlogon_samlogon_reponse" - check for out of memory

commit a894d6cc37c3799d478720f4340fcef57a5d0b4b
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 13 09:18:33 2010 +0200

    s4:acl/descriptor LDB module - distinguish between root and default basedn
    
    The first is the forest base DN, the second the domain base DN. At the moment
    we assume that they are both the same but it hasn't to be so.
    
    Nadia, I would invite you to fix the outstanding parts regarding this (I added
    comments).

commit 0dffa9caec8925a081e951579dd696810fc9e857
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Apr 12 15:02:10 2010 +0200

    s4:use "samdb_forest_name" for the forest DNS domainname lookup

commit 719a46913bed65932ebe696f441bd88ebd54819c
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Apr 12 14:15:34 2010 +0200

    s4:dsdb/common/util.c - add a call which determines centrally the forest DNS domainname

commit 5fc2801c09cdfe74253b52b9bf93d7ecad1a98cf
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 9 17:19:13 2010 +0200

    s3: Cache the username map in gencache
    
    This is for uses with a heavy-weight username map script

commit c116d80053fc21519836008e2782c06c7313d512
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 13 08:57:07 2010 +0200

    s4:remove "samdb_root_dn", "samdb_base_dn", "samdb_config_dn" and "samdb_schema_dn"
    
    They aren't needed anymore.

commit ad9e4073574125b01b3992081be9b2a4d6852cbf
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 13 08:41:10 2010 +0200

    Revert "s4:prefer "samdb_*_dn" basedn calls over the "ldb_get_*_dn" functions"
    
    We should use the "ldb_get_*_basedn" calls since they are available in the LDB
    library.

commit 8e4c34880a11b2b8a7b5fbb228c26301865a4b4d
Author: Matthias Dieter Wallnöfer <mdw@samba.org>
Date:   Tue Apr 13 08:24:09 2010 +0200

    s4:objectclass LDB module - remove a unneeded newline

commit 79842437684be380407661fc27e64f223a326b18
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Apr 12 21:40:28 2010 -0700

    Move to using 64-bit mid values in our internal open file database.
    
    This will allow us to share logic much easier between SMB1 and SMB2
    servers.
    
    Jeremy

commit 8a2169d6749498c7929e7533f6b3c9d965b0aa3b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 13 13:44:28 2010 +1000

    build: cope with spaces in options passed to ./configure

commit a7d762bd2977ed1c36399d13ddc18371c5514fd0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 13 12:41:26 2010 +1000

    build: allow cross-builds to use shared libraries

commit ab73692bd348057bfd218b67c3414eec8afcc18b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 13 11:45:38 2010 +1000

    s4-tevent: up tevent version number
    
    tevent now has tevent_re_initialise() which is needed for the s4 build

commit 0ca484f4573275808a209ccb0a94a30e89b336d2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 13 11:41:13 2010 +1000

    build: check the type of implied dependencies
    
    an implied dependency needs to be a library or module

commit b7ffc6e5b228d21f547bec77f378f0fdc88b6dd2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 13 11:27:24 2010 +1000

    build: fixed a typo that prevented --bundled-libraries from working correctly
    
    Jelmer noticed that --minimum-library-version=talloc:2.0.1 --bundled-libraries=!tevent
    didn't do the right thing.

commit 9c6781277a9ebf5e0a9d65ece14b95335d596af6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 13 09:33:18 2010 +1000

    build: cope with existing binaries in bin/ left over from the old build

commit b1a27e81d712ada8eebc587a4c35fbb48b4762cb
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Apr 12 21:31:33 2010 +0200

    s3: Apply some const

commit 1a2734336655a8d4256c8cce039ada66650b70a9
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Apr 12 14:49:14 2010 +0200

    s3/s4:netlogon IDL - fix up "struct netr_SamInfo6" regarding the "forest" attribute
    
    According to MS-NRPC 2.2.1.4.13 this should be the DNS domainname, not the
    forest one.

commit 1bd4735d8727baa55e3fd251b0f1d5efef4d1385
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Apr 12 14:34:28 2010 +0200

    s4:auth/auth_sam_reply.c - fix counter types

commit 98ce053efdf8f28aa0480663c0094fc9ca8939e1
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Apr 12 13:43:43 2010 +0200

    s4:prefer "samdb_*_dn" basedn calls over the "ldb_get_*_dn" functions
    
    Purely cosmetic change.

commit 978a2d26b4fa38873ed822b8642737e3352e5f21
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Apr 12 13:40:44 2010 +0200

    s4:torture/ldap/ldap_sort.c - There should be used the "base_dn" not the "root_dn" for the sort test
    
    The (forest) "root_dn" hasn't always to be the same as the (domain) "base_dn"!

commit 9db207da071002b4eb671ba8500f1c26963e3859
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Apr 12 16:11:31 2010 +0200

    selftest: Cope with strict.

commit 9ef235ed0a833be671600c5efc2e8bf456c03c96
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 13:44:19 2010 +0200

    s4:tortore/rpc/spoolss.c: fix declaration after code warning
    
    metze

commit c168e5ce507951c0e54e5a612b70fb82b2df3e63
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 12 22:56:44 2010 +1000

    s4-ldb: enable waf build of ldb without ldap backend
    
    this is useful for cross-compilation testing, where getting all the
    ldap deps installed can be hard

commit d12605c679cf4f2c5057c548de1210e7fa03a2f1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 12 22:06:51 2010 +1000

    build: added cross-compilation configure options
    
    this enables use of a cross-compilation emulator, so configure tests
    run on an emulator of the target platform

commit 83312a9e501ebbee15b4fd2353330880496f4add
Author: Nadezhda Ivanova <nadezhda.ivanova@postpath.com>
Date:   Mon Apr 12 16:05:37 2010 +0300

    Fixed a problem with provision missing the default_dir/etc directory.

commit d73a7e7e9063083f73fcce5170ea9b9682d66ef6
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 9 14:30:54 2010 +0200

    s3: Little refactoring: Factor out skip_space

commit 8c3fa1668654f482168e0c565458e701c23d4d9b
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 9 14:28:44 2010 +0200

    s3: Remove a bogus 0-check, "isspace" can not return true for \0

commit 757766d5af54e116bb08f0d825e51741f3ee9e05
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Apr 12 10:34:29 2010 +0200

    s3: Cache the result of the username map script

commit 49d4dd530f3983de2e538e07b32e1c3df4efa649
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 12:49:58 2010 +0200

    Remove unused pcp/ directory.
    
    metze

commit 143d3f1d90b1d8e35f03e03aa7d39c4090fe0296
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 12:49:19 2010 +0200

    Remove unused swat2 code
    
    metze

commit 6ccf2321cef9203bb80cb091700ea798095d094b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 10:55:32 2010 +0200

    s4:heimdal_build/wscript_build: avoid global deps for hostcc stuff
    
    metze

commit 8921834be845638a1c1079e1c271254edec8bfc1
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 10:55:02 2010 +0200

    lib/replace/wscript: avoid global deps for LIBREPLACE_HOSTCC
    
    metze

commit 4f73658544f988b1b495d1a84b7058fdace712ee
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 10:16:54 2010 +0200

    wafsamba: don't add global dependencies to hostcc targets
    
    metze

commit 2a727ef6e7bffcaad7438e288c952f6157e075de
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 09:47:49 2010 +0200

    lib/replace/wscript: inline LIBREPLACE_EXT into 'replace' as the autoconf system does
    
    metze

commit e6c31a4bcb1e7f56edcfccabd02a8096e3b5dd40
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 09:44:47 2010 +0200

    s4:param/wscript_build: 'dl' is provides via 'replace'
    
    metze

commit 783d2e9fe57f1390ff66a8c1bda6b82a22af3332
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 09:43:54 2010 +0200

    lib/nss_wrapper/wscript_build: 'replace' already includes 'dl'
    
    metze

commit dd38853b56f13d26353a1bee6ad3225f8f46c843
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 09:41:19 2010 +0200

    lib/replace/wscript: add dependency to 'dl'
    
    metze

commit 2e26298331a1c09c829b171f1f81a6b69fe51a56
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 09:34:39 2010 +0200

    s4:heimdal_build/wscript: rename HEIMDAL_ROKEN_H => HEIMDAL_ROKEN_HOSTCC
    
    metze

commit 14c05405cbae886ca741340f3cc2b148b3cd3ae4
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 09:33:42 2010 +0200

    lib/replace/wscript: rename LIBREPLACE_H => LIBREPLACE_HOSTCC
    
    metze

commit 8a00c566492943972798a96a9e23bc74083902ec
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 09:30:12 2010 +0200

    wafsamba: allow passing 'use_hostcc' to SAMBA_SUBSYSTEM()
    
    metze

commit 928fb861507e2abed86258582f27aad7d71b308e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 12 18:39:50 2010 +1000

    s4-ldb: fixed a crash bug for non-UTF8 strings
    
    when one of the strings was not valid UTF8, we would try to
    dereference NULL

commit acc81f96a45275b4bfe356fdc4dd3cc5f03775ff
Author: Kai Blin <kai@samba.org>
Date:   Tue Apr 6 00:28:05 2010 +0200

    build: Add an always parameter to CHECK_DECLS

commit c09fa85735b044028f9659e2db075918fdfd07c8
Author: Kai Blin <kai@samba.org>
Date:   Sun Apr 11 21:59:43 2010 +0200

    s3-waf: Correctly create symlink if SAMBA_BINARY targets are not in the current diectory
    
    Many thanks to ita for pointing out the fix.

commit e683ac6f81306a03d8fe6bedeb5ca1a6facd6f1f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 12 00:21:21 2010 -0600

    build: allow target upgrades from EMPTY to SYSLIB
    
    A library may be initially set as empty if it wasn't needed for a list
    of functions in CHECK_FUNCS_IN(). A later check may require the
    library.
    
    Pair-Programmed-With: Kai Blin <kai@samba.org>

commit d70a7befb6dd2168c31a657fc0c6ab3b5f69c91e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 12 17:46:01 2010 +1000

    s4-waf: move the KRB5_DEPRECATED check into lib/replace
    
    this needs to be with the krb5.h check for the source3 build

commit 33bb334e8030749cb675353df882730e3119ee9c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Apr 11 19:24:46 2010 +0200

    s4-waf: inline LIBREPLACE_NETWORK into 'replace'
    
    metze

commit b1393087ace8289a13e09e5246ac0efec560e959
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 09:12:29 2010 +0200

    lib/replace/wscript: rename REPLACE_H_SOURCE => REPLACE_HOSTCC_SOURCE
    
    metze

commit 0d307f25a051544047563a40de4df344c17f0d9f
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Apr 12 08:29:53 2010 +0200

    lib/replace/wscript: implement the same getpass detection logic as the autoconf version
    
    metze

commit e37b834a62a45c890cf05f208ffc077a1cf10d16
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Apr 11 19:16:32 2010 +0200

    lib/replace/wscript: inline LIBREPLACE_GETPASS into 'replace'
    
    metze

commit a9e4abaa6e72425017953f95e2f22cc4af6d7455
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Apr 12 03:45:12 2010 +0300

    s4/libnet: Allocate mem in supplied mem_ctx
    
    In this case, 'libnet_Vampire *r' may not be a pointer to
    a talloced memory.

commit 82b8bbdfac3a9bf7daded97173d205764f14670a
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Apr 12 03:33:33 2010 +0300

    s4/py_net: Source code formatting fix

commit 98942c8d840745d72f0ef19636752128236a9bbd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 12 11:12:22 2010 +1000

    build: use a common autogen-waf.sh for all builds
    
    the symlink will get updated with the right target when waf dist is
    used in each directory

commit 9ffd6c0ec339aa6e70543cfecfb2bab93705e603
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 12 11:09:44 2010 +1000

    build: cope with symlinks between build components in waf dist
    
    This will allow us to have autogen-waf.sh be a symlink to
    ../buildtools/scripts/autogen-waf.sh in each library.
    
    That will prevent people from updating only the script in source4/,
    and forgetting to udpate the scripts in the other libs, as happened
    with commit f3f82496

commit 47c4e883d6fd833a7ca5d37f289908299f9f0c15
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Apr 12 02:55:27 2010 +0200

    s4-net: Add definition of outf.

commit f8e527b088ab19aab5a36a70a45a1032ad338d45
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 12 09:49:56 2010 +1000

    build: added --minimum-library-version configure option
    
    this allows the packager to override the default choice of system
    library version

commit 2179c6a8f843d9db5860b6c91d154d288f28d741
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Apr 11 18:43:56 2010 +0300

    s4: fix a typo

commit a62d0419dee3d3fe8618baa71aa882c5bed54072
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Apr 11 17:27:30 2010 +0300

    s4/libnet: handle errors returned for DsAddEntry_v3 properly
    
    It turns out ms-docs are little bit misleading - in case of
    no error, r->out.ctr->ctr3.err_data is not NULL, but
    error information (r->out.ctr->ctr3.err_data->v1.info) is NULL!

commit cb0ad42a3d9d837cfc06f65baa6d8fa2d28a3ec9
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Apr 11 17:24:32 2010 +0300

    s4/libnet: Add few new lines in the debug log so it is readable again

commit 9f92d586ca537ed093a1d68eacf94315da68a8ad
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sun Apr 11 17:04:21 2010 +0300

    s4/libnet: Dump DRSUAPI_DIRERR_OK as unexpected
    
    Actually DRSUAPI_DIRERR_OK is not valid error to be returned.
    I introduce it in the IDL so that I can use it in enum.
    So it should be dumped as Unexpected error code

commit 8e95db9eea8bfd6ec12a894d0d46705a3c414e4e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 15:25:55 2010 +0200

    s3: Move serverinfo_to_SamInfoX to auth/server_info.c

commit b8829e74fd0386931c1a5845337efff25fec72c2
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 15:25:06 2010 +0200

    s3: Move [make|free]_user_info to auth/user_info.c

commit 18909879cc100b958d74c78ff9f84e9ba3318340
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 22:41:59 2010 +0200

    s3: Move make_server_info_sam to auth/server_info_sam.c

commit 2b1a50c2e537f690acd8eff1d0cf3102104144d3
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 22:38:33 2010 +0200

    s3: Move sanitize_username to lib/util_str.c

commit 80708b75f815d455c7cc00fc4cccfb6af91e9d85
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 22:37:08 2010 +0200

    s3: Move make_server_info to auth/server_info.c

commit 5792ccc7c85276edd86050b18b755e05cda7e1f1
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 22:32:36 2010 +0200

    s3: Move check_sam_security to auth/check_sam.c

commit 04f9e33de140235d387a254403909063b8c30f9e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 22:26:46 2010 +0200

    s3: Make check_sam_security public

commit a0c175eca9d296e8434acbdb1a87241d64d86f7b
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 22:23:08 2010 +0200

    s3: Replace "auth_context" by "challenge" in need_to_increment_bad_pw_count args

commit 19c00865537ff298e6306de4e81d376d3f068237
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 14:07:12 2010 +0200

    s3: Replace "auth_context" by "challenge" in sam_password_ok args

commit 7ba21a339c591f546085fcd8cfbf77c25dcfe11e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 13:48:55 2010 +0200

    s3: Move user_in_group() and create_token_from_username() to token_utils.c
    
    Goal is to be able to call check_sam_security from winbind

commit 4d84dab21d1b13bbfe3d8f90c88e41ad3c524bb5
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 22:56:09 2010 +0200

    libcli/auth: Fix an uninitialized variable
    
    value.dptr was used uninitialized in the "goto done;"

commit da7294ae0d1c9cdeb1c945f3eb51d2376e7dabf6
Author: Kai Blin <kai@samba.org>
Date:   Sun Apr 11 22:38:38 2010 +0200

    nsswitch/wbinfo: Fix the S4 header check

commit e1630ecb11ac09025456debeb3dc6afaccdb955b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 11 22:16:48 2010 +0200

    idl: Use C-style comments, because cpp on some platforms doesn't accept
    // comments.

commit 1d3b00bfd7ddfa983a68ecf4b0033729a42e9baa
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Apr 11 21:44:20 2010 +0200

    s4:dbspeed torture - improve also the TDB code part
    
    Always use the label "failed" on failures, always close the database context
    (child of "tmp_ctx") when deleting database file.

commit 1fd6d9cd661692e6b0ac950127a0d5b80945bfad
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Apr 11 21:37:23 2010 +0200

    s4:dbspeed torture - remove unneeded newlines on "torture_result"
    
    According to Jelmer's post on the technical list.

commit b65c8d05059466f8e8b2196c99469105afd128e8
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 11 20:56:48 2010 +0200

    s4: Fix more test results to not conflict with subunit commands.

commit 5d0694f9941e22f92c9c641b8fb3a7ce376ee5cd
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 11 20:56:02 2010 +0200

    subunit: Cope with lowercase test results in tap2subunit.
    
    Also submitted upstream.

commit 3a34b5f35ec0a666ff8f731577bd2fdfa67e9dcb
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 11 16:55:48 2010 +0200

    subunit: Remove more test output that could be interpreted by subunit.

commit 7da94cc4a664521be279b019e9f32121cd410193
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 11 01:39:06 2010 +0200

    subunit: Support formatting compatible with upstream subunit, for consistency.
    
    Upstream subunit makes a ":" after commands optional, so I've fixed any
    places where we might trigger commands accidently. I've filed a bug
    about this in subunit.

commit d0ab7440acf57f698290c2ba64650c6144bc8545
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 11 00:08:16 2010 +0200

    selftest: Accept 'testing:' to introduce new tests.

commit 0ee1985b05bd1a650f712a6d458b20c31eae8734
Author: Derrell Lipman <derrell@dworkin.(none)>
Date:   Sun Apr 11 11:37:00 2010 -0400

    [Bug 7345] Incomplete description of function return values in libsmbclient.h
    
    - Fixed documentation on smbc_fstat(), smbc_statvfs(), and smbc_fstatvfs():
      All were missing return value upon success
    
    - Fixed documentation on smbc_read:
      Documented return value upon EOF
    
    Derrell

commit 59d68899c40ef368ab57fa734f95bcfb475bb46e
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 15:26:23 2010 +0200

    s3: Use sizeof(chal) instead of a constant

commit b0d65f827e2314e907b5fd4768c55ae4c816e8da
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 12:53:00 2010 +0200

    s3: Use talloc_stackframe() in user_in_group

commit 9655f63642e9ad3b8b25fcd2beb8bc49fdb9d4e5
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 12:47:28 2010 +0200

    s3: Use talloc_stackframe() in user_in_group_sid

commit 9cf448a30efc73392f267547ef48b7ab19790900
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 12:47:13 2010 +0200

    s3: Use talloc_stackframe() in create_token_from_username

commit 3c169c0475bc4f69c81b93a66884cc3cd9ba19dc
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 12:44:01 2010 +0200

    s3: Fix a memleak in user_in_group_sid

commit a2d1e5e0f77220f912cacb821a928c5e5a952e47
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 12:37:48 2010 +0200

    s3: Remove the make_auth_methods routine
    
    This was just TALLOC_ZERO_P

commit bc619586f210dad5ed01859e21b5f657a34052bf
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 12:24:07 2010 +0200

    s3: Fix a typo

commit c5c40f26482696aca9ee67d170e827f450d59a8b
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 12:20:24 2010 +0200

    s3: Make "auth_context" its own talloc parent
    
    Remove "mem_ctx" from "struct auth_context"

commit e35a2f89b27b49f57d73c2461e0cecd2bbd46fa8
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 11:50:55 2010 +0200

    s3: Fix some nonempty lines

commit 568ca2433d0d2292047979abbfcb03543bb27a67
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Apr 11 12:56:50 2010 +0200

    s4:samdb_server_site_dn - free unused DNs in the right way

commit c7dfe736a88549f5793521609aca68ca85545c1b
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Apr 11 11:33:45 2010 +0200

    s4:torture - "dbspeed" test - add newlines as we have them in the other failure messages

commit 52ab3ca5e697bc638a20a338b857521ee69949a7
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Apr 11 11:22:41 2010 +0200

    s4:torture - "dbspeed" test
    
    Calculate the leaks on base of the "tmp_ctx" not the torture context.

commit 753698e070ce5b9efbe5889a6a7434115520223d
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Apr 11 11:21:19 2010 +0200

    s4:torture - "dbspeed" test
    
    Unify error handling.

commit cc32e7aff2e071e0b1985097bb8526ce36160391
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Apr 11 11:13:31 2010 +0200

    s4:torture - "dbspeed" test
    
    Add more "talloc_free"s where needed or useful.

commit b91484a1a075c2913ebb50ee034f36580387bfa8
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 11 11:14:24 2010 +0200

    s3: Cosmetics -- I could not spot where "chal" was initialized

commit 2c193fe91af60f29ed4d560496842073097469bb
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Apr 9 17:18:53 2010 +1000

    s4:auth Remove event context from anonymous_session()
    
    This should always return a simple structure with no need to consult a
    DB, so remove the event context, and simplfy to call helper functions
    that don't look at privilages.
    
    Andrew Bartlett

commit 18078ec4450a7ee37b613020886ec6bead7a6ead
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 10 22:52:06 2010 +0200

    s3: Use IS_DC macro in get_global_sam_name()
    
    Much as I dislike macros, this one is there. So why not use it...

commit f73e480e1917712bfb6c9641f9a49c454a1e4a5f
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 10 22:34:51 2010 +0200

    s3: Remove domain selection from dual_pam_auth
    
    We're in a child, the parent already has chosen the domain by
    picking the right child to connect to.
    
    Metze, you've done work on winbind lately, so it goes to you:
    
    Please check :-)

commit 664eacc53a50415cd4f5534386501f640228f6c3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Apr 10 22:35:57 2010 +0200

    subunit: Don't abort when receiving test results from tests that weren't
    announced.

commit 64bf8c400c8076316929cb6f06346bdf1c48d9d7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Apr 10 22:20:12 2010 +0200

    selftest: Support passing --load-list to test runners.

commit 4fb98b6856fd0174d0f41f390e28027da636c307
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Apr 10 21:24:33 2010 +0200

    torture: Simplify torture suite running, call restricted test suite runner.

commit 6b442f43bc54555c60760eced131c2d50bf72a95
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Apr 9 01:59:01 2010 +0200

    smbtorture: Remove unused shell feature.

commit 24f364517b4013f3467c873e5b1877fe5f1c1941
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Apr 9 01:58:28 2010 +0200

    smbtorture: Support --load-list argument.

commit 0b7bb7f85a4bd7e2ef6bd3644a0c1a0c8d42a1d9
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sat Apr 10 19:54:32 2010 +0200

    s4:registry - "patchfile_preg.c" - use more "sizeof"s on length specification
    
    This makes the code more clear to read.

commit 458a441f7ff36e03fb59299b44986f10e062ee78
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sat Apr 10 19:48:23 2010 +0200

    s4:registry - "patchfile_preg.c" - fix indentation

commit c7c8f0ccf370176479480772d88ccb794b6728a2
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sat Apr 10 19:42:00 2010 +0200

    s4:registry - "patchfile_preg.c" - fix a datatype
    
    This should be an "uint16_t" (only two bytes are written).

commit 1038a134eddd178635d3c1187cb92a42b884e76f
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 10 16:34:53 2010 +0200

    libwbclient: Fix a memleak in wbcGetDisplayName

commit 27d3bdd36b374b40a9e383262e2e30c813943d7e
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 10 16:59:27 2010 +0200

    libwbclient: Ensure correct 0-termination in wbcGetSidAliases

commit 4085e189a147841fed64ecbe072cde007cedad0d
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 10 16:55:46 2010 +0200

    s3: Check 0 termination in GETALIASES

commit 77267733edba42f03f89f3777854569bf2333321
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Apr 10 20:39:45 2010 +1000

    s4:dsdb Don't use the permissive modify control on schemaInfo updates
    
    The use of 'replace' is enough to wipe out the old value, whatever it
    is, we don't need to set 'permissive modify' too.
    
    Additionally, this seems to be causing trouble for the OpenLDAP backend
    
    Andrew Bartlett

commit 5ebeab379430104c615fd401abe9a8c7dc3339b8
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Apr 9 19:07:12 2010 +1000

    s4:dsdb Don't return operational attributes on special DNs

commit 6ef167c37bcf2842434a51733c351246294842a2
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Apr 9 17:22:35 2010 +1000

    s4:rootdse Implement "tokenGroups" in the rootDSE
    
    This returns the currently connected user's full token.  This is very
    useful for debugging, and should be used in ACL tests.
    
    Andrew Bartlett

commit 944dc2cb0ba13799a343f655a353013e4a9d8dd1
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Fri Apr 9 17:21:21 2010 +1000

    s4:dsdb Improve error message in extended_dn_in
    
    This error occours when an extended DN cannot be resolved, so it's
    most helpful to print the problematic extended DN.
    
    Andrew Bartlett

commit 78dd3778494600f8047ba2dd0ea8635eb84258f7
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Apr 7 14:03:29 2010 +1000

    s4:ldif_handlers tokenGroups are SIDs

commit 4b27cc0ea6e829c316da1ee87de180ff8de88fc5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Apr 7 10:42:16 2010 +1000

    s4:rpc_server Fix segfault in modified SamLogon handling

commit bc6659936a4719a30d1f289bca7dbe639cb972cf
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Apr 5 19:03:14 2010 +1000

    s4:provision Don't make the 'slaptest' call produce errors
    
    Adding -n 0 also allows us to check the error code too
    
    Andrew Bartlett

commit 03408267720cc1326be06fe1b6871b31ab18c097
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Mar 30 21:23:46 2010 +1100

    s4:rpc_server Add all SIDs into the netlogon SamLogon reply
    
    We were missing the SIDs that are not in the domain.

commit 4074739fe71a27feb950aa35f74bb27dc42c17f2
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Mar 29 21:16:18 2010 +1100

    s4:schema Try to fix OpenLDAP backend after schema reload support.
    
    If we can't get @REPLCHANGED, default to a value of 0.
    
    Andrew Bartlett

commit c8cb17a18c8acd831d9197fd4457881bf58250b1
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Mar 29 18:13:46 2010 +1100

    s4:heimdal Create a new PAC when impersonating a user with S4U2Self
    
    If we don't do this, the PAC is given for the machine accout, not the
    account being impersonated.
    
    Andrew Bartlett

commit f2b63d58da895d11ed490dddd5df30c777369fad
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Mar 27 23:11:06 2010 +1100

    s4:kdc Add functions to hdb-samba4 for the new s4u2self callback.
    
    For now, this shares the 'if it's the same host' system with the
    constrained delegation code.
    
    Andrew Bartlett

commit 1d59abc724a9ad01fdc61f3e6cfdf41c9f4cb910
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Mar 27 23:09:31 2010 +1100

    s4:heimdal Add hooks to check with the DB before we allow s4u2self
    
    This allows us to resolve multiple forms of a name, allowing for
    example machine$@REALM to get an S4U2Self ticket for
    host/machine@REALM.
    
    Andrew Bartlett

commit aecaddfa1b2a55c9cc91c3644947c3686714ceb5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Mar 3 13:24:52 2010 +1100

    s4:credentials Add the functions needed to do S4U2Self with cli_credentials
    
    A torture test to demonstrate will be added soon.
    
    Andrew Bartlett

commit 18f0e24f5573611c983d2d5d37409fa77b199dd5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Mar 3 11:34:04 2010 +1100

    s4:credentials talloc_free() any previous salt_principal
    
    This isn't used often, but it is generally better not to leak it onto
    what may be a longer-term context.
    
    Andrew Bartlett

commit 5beaef7cde3c311e4543abf71e5fe9794d62cc6e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Apr 10 10:58:27 2010 +0200

    s4:autogen-waf: generate 'Makefile' instead of 'makefile'
    
    This hopefully fixes the build on MacOS 10.
    
    metze

commit 61d3ba04b497011b933564cc4566239a91e4bf67
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Apr 10 10:49:18 2010 +0200

    s4:configure: generate Makefile from Makefile.in
    
    This makes it possible for the waf build to also generate a 'Makefile'
    instead of 'makefile'. On some platforms 'Makefile' is used before 'makefile'
    
    metze

commit 8966a28b6867b8acaf8e9b89e25849299ba5e088
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Apr 10 10:07:11 2010 +0200

    s4:heimdal_build/wscript_build: remove more network related stuff from HEIMDAL_ROKEN_H
    
    metze

commit e390edb46b2abdbb8bf5a6191d05a5a454125c16
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Apr 10 09:54:49 2010 +0200

    s4:heimdal_build/wscript_build: use LIBREPLACE_H for asn1_compile and compile_et
    
    metze

commit b2e144186419726175b1690da5cf82e991bc72c0
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Apr 10 09:51:28 2010 +0200

    lib/replace: create a LIBREPLACE_H subsystem
    
    metze

commit e15939b4561b84eda283a9df233e2a3a0ed42621
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Apr 9 19:26:34 2010 -0700

    Plumb SMB2 stubs into all the places we defer SMB1 operations.
    
    Rename functions to be internally consistent. Next step is
    to cope queueing single (non-compounded) SMB2 requests to
    put some code inside the stubs.
    
    Jeremy.

commit b253385611ac4934bb46390ef519c547bba87eb3
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Fri Apr 9 23:34:07 2010 +0200

    s4:LDB - fix up "LDAPI" test
    
    Set the "options" environment variable in a deterministic manner.

commit 5eedaaea43a7f141960cfffc62116655f1117de8
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 19:54:31 2010 +0200

    s4-smbtorture: skip winreg symlink test against Samba in RPC-SPOOLSS.
    
    Guenther

commit bc2e675c3a5272953fb5b4f2e39ab2c164868fab
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 19:53:31 2010 +0200

    s4-smbtorture: make sure to check for result of spoolss_GetJob tests.
    
    This avoids returning potentially uninitialised data. Thanks Andreas for
    pointing this out.
    
    Guenther

commit 357006bf074a0c6788b948f0c0260ec85caeec09
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 18:44:19 2010 +0200

    s3-spoolss: Fix two uninitialized vars in spoolss util code.
    
    Guenther

commit 202d330be6f6fe249b0ec241342762a533320d1b
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 18:33:25 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit 1cec3029e5ed5b6be3e7817c05d5f7214dfb4181
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 17:50:51 2010 +0200

    s4-smbtorture: display helpful error message when winreg_QueryMultipleValues fails.
    
    Guenther

commit 347035d61f106a70c6d9cbf5c7a577a9fe104a05
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 17:49:57 2010 +0200

    winreg: move REG_OPTION_NON_VOLATILE out of option bitmask.
    
    Guenther

commit b9188e45713688435bcca390ae3c89ae3bd7f14c
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 17:28:04 2010 +0200

    winreg: fill in IDL for winreg_QueryMultipleValues2.
    
    Guenther

commit 63b111bd329fddaf0bfd64ca8255deecb1fd5352
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 16:47:45 2010 +0200

    s3: add iconv_convenience handle to pull/push sz helpers.
    
    Guenther

commit bfeab64ebf9481d98ffb182adb03bbd6e6ada462
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 9 16:49:02 2010 +0200

    s3: Fix a typo

commit bae564b0a361fa1ead777e1a5da47d3499c3676c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Apr 9 16:27:39 2010 +0200

    selftest: make sure filter-subunit and format-subunit use unbuffered io
    
    metze

commit e1faff90717c545637debb0c622fd9dc312faa02
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Apr 9 15:58:32 2010 +0200

    s4:selftest: mark some smb2.compound tests as knownfail
    
    metze

commit 0bf6043df9a769784e427217737f917501f26466
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Apr 9 09:03:43 2010 +0200

    RPC-ALTERCONTEXT: let the test pass against w2k3 and w2k8
    
    The behavior between w2k3 and w2k8 differs:
    - w2k3 just ignores alter_context requests which try to change
      an existing presentation context.
    - w2k8 returns DERPC_NCA_S_PROTO_ERROR and closes the transport
      connection.
    
    metze

commit 5844a7dfe6a952500456a6bc3acbe9566d830a2a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Apr 9 09:02:48 2010 +0200

    s4:torture/rpc/lsa.c: add test_lsa_OpenPolicy2_ex() that takes an expected status
    
    metze

commit e95e2e82624eab72c1ae913b9b2b00412c91802e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Apr 9 13:27:07 2010 +0200

    s4:librpc/rpc: correctly initialize last_fault_code for bind and alter_context requests
    
    metze

commit 718a8046138355defbbf0f5b42502b1cc7fd801a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Apr 9 13:25:59 2010 +0200

    librpc/rpc: fix typo DERPC_ => DCERPC_
    
    metze

commit 92d98b68161a53011cd576fe2919411f811e8325
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Apr 9 13:25:34 2010 +0200

    librpc: rerun make idl
    
    metze

commit ba5825ead84490cc7b47102a98ac5808b2f265cc
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Apr 9 12:07:43 2010 +0200

    dcerpc.idl: fix typo DERPC_ => DCERPC_
    
    metze

commit 800c735de6f3c7401089dd0c49ac2a253b24da4c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Apr 9 13:23:53 2010 +0200

    lib/torture: also print intergers as HEX values in the torture_assert macros
    
    metze

commit f716c027c68452f4f0eb01df1e0ccca4a2a69950
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Apr 9 14:26:36 2010 +0200

    s4:heimdal_build/wscript_build: we don't need separate subsystems just for optional source files
    
    metze

commit 787ecd4023ae9eef515225faa9e29aa4e0694711
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Apr 9 14:13:53 2010 +0200

    s4:heimdal_build/wscript_build: remove useless dependecies of HEIMDAL_ROKEN_H
    
    This hopefully fixes the build on host opi - OpenSUSE 10.2 (x86_64).
    
    metze

commit 2eaddcd9f2595442806cba3e2b9bcb08ee115720
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Apr 9 14:10:57 2010 +0200

    s4:heimdal_build/wscript_build: create a HEIMDAL_ROKEN*_SOURCE variable
    
    metze

commit 48daa0b6ee1d7d1214455112b1e9dad406c29be3
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 15:58:01 2010 +0200

    s4-smbtorture: add test to check for registry symlinks in RPC-SPOOLSS-PRINTER.
    
    Guenther

commit a21be5fc1b9777089506f6580a776b20f31041a2
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 14:44:38 2010 +0200

    s4-smbtorture: fix build after winreg IDL renames, sorry..
    
    Guenther

commit 673ca041140d56dbe1b1f840af3a9f51e72d140b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Apr 9 14:20:18 2010 +0200

    s4-build: Fix autoconf build (net_machinepw.c is no longer present)

commit c666b8af96fecb2bd9230a5e10f99c5d5e0a5353
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 9 14:09:20 2010 +0200

    s3: Use talloc_tos() as talloc ctx for fd_lines_load() in map_username()

commit d3e9e83d7e3fd3ef3da1b64cb4181c0e6a46914d
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 9 14:05:09 2010 +0200

    s3: TALLOC_FREE(command) correctly in map_username()

commit 5d04aadcb90c0272a2fe03a85ac2f91b99845c32
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 13:51:42 2010 +0200

    s4-smbtorture: Fix winreg test after keytype renameing.
    
    Guenther

commit 35ef60918ba5f9a39ce8d516b65ae5fd56e1c65f
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 13:50:34 2010 +0200

    s4-winreg: Fix dcesrv_winreg_CreateKey after rename.
    
    Guenther

commit faf2d4988bd0eb9390b04b1ea76fb059d5495185
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 13:50:10 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit eda0aa4b9135a5a6bf7713276beebbbbecc56da9
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 13:49:28 2010 +0200

    winreg: rename winreg_KeyType to winreg_KeyOptions.
    
    Guenther

commit 8c593f63557d056bd80b4ce0b0d5e04f5a56a4bc
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 12:40:36 2010 +0200

    s4-smbtorture: when creating winreg-symlinks during a test, it is very wise to make them volatile.
    
    Guenther

commit 299a6ffe9eb88b5907ca98ad06f9d6ac253945e0
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 12:26:06 2010 +0200

    s4-smbtorture: winreg keytype options is a bitmask.
    
    Guenther

commit ab27c6d138277a01a40c3f6dd735512d466ea722
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 12:24:59 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit 8805490853f449dc2d71e80d5052a6615740c2a2
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 12:24:18 2010 +0200

    winreg: keytype options is a bitmask.
    
    Guenther

commit bc9289995a4d338644aec8a504e284ac65d73c53
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 01:07:39 2010 +0200

    s4-smbtorture: more work on registry REG_LINK (in-registry symlinks) test.
    
    Guenther

commit 92a051ef2fffe7e141531a15c0a8b39cb26e0908
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 9 21:24:59 2010 +1000

    s4-waf: only enable the python uuid module if python <= 2.4

commit a10f024083b25f0b879e9ccd8f53ac370aa22a30
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Apr 5 15:11:19 2010 +0200

    libwbclient: Fix some memleaks in the tests

commit 45d3ac05b3781a8c14e7f4426a515746e9a99172
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 9 21:12:02 2010 +1000

    build: use Logs.error() and Logs.info() instead of print()
    
    this gives appropriate colors on output, and ensures it works with
    compiler output

commit d661759780d70c771c3748095db5a5308451266d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 9 21:00:49 2010 +1000

    build: nicer error message on missing file in waf dist

commit a591b8497d53aaa45c316c722e58d94f77420955
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 9 20:44:09 2010 +1000

    s4-waf: added --gdbtest option for waf test

commit 0b8a3a4036f3dfc59a39ae4b6364f93a66a40415
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 9 20:30:44 2010 +1000

    build: no need to re-create the lib and bin symlinks if they exist
    
    this saves a few unlink/symlink calls for null builds

commit 5f90d3260be8f30e5d9ccd542aca1807d58d2443
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 9 19:54:40 2010 +1000

    build: added --picky-developer and --fatal-errors
    
    Added configure options for --fatal-errors and --picky-developer. This
    removes -Wfatal-errors from the --enable-developer flags.

commit 0d92dd1074971a3c1e3116de5188a475298587a2
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Apr 9 02:37:20 2010 +0200

    s4-net: Cope with options without arguments.

commit 410527f9369c44a25a5689b4665f3485c16d625a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Apr 9 02:31:57 2010 +0200

    s4-net: 'net user create' -> 'net user add', for backwards compatibility.

commit ececb7326200d6c59fa15f7542421099d3899297
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Fri Apr 9 02:30:48 2010 +0200

    Support --version in python scripts.

commit 9af8d02b2230f78e4842106b918ff278dadd1d59
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 23:58:15 2010 +0200

    s4-net: Convert machinepw command to python.

commit f83aa13f6228e04359952f04ebd7afed9a742c4a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 23:53:19 2010 +0200

    s4-net: Convert vampire command over to Python.

commit ffa73c412e1190024ae0bf4758174d1b21c16e13
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Mar 1 23:03:41 2010 +0100

    s4-net: Convert user subcommand to Python.

commit 8149094eddebd9a0e8b7c123c2ed54d00164bb26
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Fri Apr 9 10:48:20 2010 +0300

    s4/dsdb: Set schemaInfo attribute value during provisioning
    
    After provisioning new Forest, schemaInfo should be set
    to a value with revision=1 and current invocation_id

commit 4ba2ac073d7a7859ab73f8b7f40d630ddbff8687
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Apr 8 10:23:13 2010 +0300

    s4/dsdb: split writing of schemaInfo blob in two parts
    
    ldb_msg preparation is moved into separate function
    so that it can be used for implementing schemaInfo
    updates both on module stack (dsdb_module_... functions)
    and directly on ldb_context

commit fbef33fb7369f57e6851d3766f87c953ca2d26bd
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Apr 8 08:27:07 2010 +0300

    s4/dsdb: Let caller to control if valid invocationId is critical or zero-guid is acceptable

commit 2763a4ac4e8c93701e00a3baa9fb2dfa24b776f4
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Apr 8 05:32:59 2010 +0300

    s4/test: Add DRS-UNIT test suite to 'quicktests' list

commit 5363b6e68b2eb432142b4c0d4972ea4def17c1be
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Apr 8 05:31:35 2010 +0300

    s4/dsdb: Use dsdb_schema_info object to create default schemaInfo values

commit c3d77989913a1ec270a50847922f6c1ffd7cbad0
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Apr 8 05:30:16 2010 +0300

    s4/dsdb: Use dsdb_schema_info object to verify schema_info blobs

commit e5ef11f4e29af77147dc21e6e8986ed091818566
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Apr 8 05:27:59 2010 +0300

    s4/test: Use drsut_schemainfo_new() instead of SCHEMA_INFO_DEFAULT local define

commit 15921b669e6c8ef7b6d90708edde7c6eb4009d36
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Apr 7 14:22:49 2010 +0300

    s4/waf: add new files to WAF build

commit 6d439afbf77b15d34310144c473f6600148f7d84
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Apr 6 15:17:05 2010 +0300

    s4/samldb: schemaInfo attribute must be updated when adding new Schema object

commit 7f0da64a4990f21f67afde192322a53bcb4438ce
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Apr 7 13:00:53 2010 +0300

    s4/test: add shemaInfo torture test to automated test suite

commit 08dd0d0b54062c34643cf3b0fbaeabfc3d471782
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Mar 31 04:18:06 2010 +0300

    s4/schema: Torture test for schemaInfo implementation
    
    This test checks if schemaInfo revision changes when an object
    is added or modified in Schema.
    
    Ref. [MS-ADTS], 3.1.1.2.1

commit 80d8f37b26c2919899ec3de9ec5b2c1079436c6e
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Thu Apr 8 10:51:36 2010 +0300

    s4/was: Add 'drsblobs' Python module

commit 3629fb9927074154c15ac0d16cce187bc6b9e665
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Wed Mar 31 04:13:18 2010 +0300

    s4: Add 'drsblobs' Python module
    
    This module is be very useful when it comes to making
    torture tests.

commit 8dd5705a591ee617478663180316dd0f768049b9
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Apr 6 15:10:47 2010 +0300

    librpc/idl: Use [nopython] attr for types used in decode_PrimaryKerberos method
    
    C code generation for python module generates invalid code
    (i.e. can not be compiled).
    Another reason to 'hide' those types from Python is
    that those types are not used at the moment
    (and most probably won't be used in the future)

commit 2ea99c22c3e89780062959dd9da71f5b5da7831e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Apr 6 11:32:57 2010 +1000

    librpc/idl Use [nopython] on some drsblobs.idl 'functions' as an example
    
    It makes little sense to expose these 'functions' to anything other
    than ndrdump.
    
    Andrew Bartlett

commit 738ac5303711567e43b60810ae8d6910d071709a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Apr 6 11:32:14 2010 +1000

    pidl:python Allow 'nopython' to work
    
    The 'nopython' flag wasn't available for use, as it failed to get past
    the syntax checker.
    
    Andrew Bartlett

commit 526e62c46f432950645dc7019969eb694d7b0c6b
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Mon Mar 29 12:31:38 2010 +0300

    s4/tort: Unit test for schemaInfo implementation

commit ae30cb958e86364b653c3e46cdc889e0324660a2
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Sat Mar 27 03:04:09 2010 +0200

    torture: add torture_assert_goto() convenience macro

commit 9d1f8bcca9e39d1e0caa9377f30c290b0738f080
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Mar 23 16:44:02 2010 +0200

    s4/dsdb: dsdb_schema_info object implementation

commit 37a6b66344ae5832bd3db71983bf75c1309e5b9d
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Mar 23 02:32:14 2010 +0200

    s4/dsdb: Define dsdb representation for schemaInfo attribute

commit 6e7be5f4d1eccccb93f8e3ed2751e8851f94517f
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Thu Mar 18 17:04:34 2010 +0200

    s4/ldif: Handle Schema:schemaInfo blobs

commit ffd1d7ee7e19db6b97177f8b2ae0871954cc6a20
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Thu Mar 18 02:33:04 2010 +0200

    s4/idl: drsblobs IDL regeneration

commit 63e1aae69c7a6af9a09cf7b4baa173c42cd569cc
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Thu Mar 18 02:30:51 2010 +0200

    s4/idl: Schema:schemaInfo attribute description

commit deccb6cf9a91d37a085bb7b10e3607fcf37c47c0
Author: Karolin Seeger <kseeger@samba.org>
Date:   Fri Apr 9 09:23:54 2010 +0200

    s4-krb5: Fix typos in comment.
    
    Karolin

commit 08b24e923dff99d3d3c0618903a7ed2959640470
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Apr 8 22:15:55 2010 -0700

    Stop smb2 from calling into smb1 blocking lock request code.
    
    Allocate a uint16_t internal SMB1 mid for an SMB2 request.
    Add a back pointer from the faked up smb_request struct
    to the smb2 request.
    
    Getting ready to add restart code for blocking locks,
    share mode violations and oplocks in SMB2.
    
    Jeremy.

commit 3491f6d119d1f4c7e0a259a9993ce96783b77e23
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Apr 8 21:24:23 2010 -0700

    Simplify call_trans2qfilepathinfo() and smbd_do_qfilepathinfo()
    
    Remove the bool ms_dfs_link parameter from smbd_do_qfilepathinfo.
    It is not possible for this to be a DFS link. Remove the check_msdfs_link()
    call from call_trans2qfilepathinfo() - the call to filename_convert()
    above with a ucf_flags of zero *MUST* catch a DFS link and return
    NT_STATUS_PATH_NOT_COVERED in this case, so the code below checking
    for msdfs links is redundent. Don't add this to 3.5.x, as it's an
    optimization but not needed to fix bug #7339 - MSDFS is non-functional in 3.5.x.
    
    Jeremy.

commit 358781559526f962c96c1af88cd104946c507d05
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Apr 8 20:32:36 2010 -0700

    Fix bug #7339 - MSDFS is non-functional in 3.5.x
    
    In the refactoring around filename_convert, the split between the functions
    resolve_dfspath() and resolve_dfspath_wcard() was lost, leaving us only with
    resolve_dfspath_wcard().
    
    Internally resolve_dfspath_wcard() calls dfs_redirect() only with a
    "allow_wcards" flag of true, wheras the old resolve_dfspath() would call with a
    value of false. The loss of this case causes dfs_redirect to always masquerade
    DFS links as directories, even when they are being queried directly by a trans2
    QPATHINFO call. We should only masquerade DFS links as directories when called
    from a SMBsearch or trans2 findfirst/findnext - which was the intent of the
    "allow_wcards" flag.
    
    This patch adds back an allow_wcards bool parameter to
    resolve_dfspath_wcard(). This bool is set from the state of the ucf_flags when
    filename_convert() is called.
    
    I will follow this up with a new smbclient-based torture test that will prevent
    us from ever regressing our DFS support again.
    
    Jeremy.

commit 8126c78c76965fe6158fb8ef426abf256551e725
Author: Kamen Mazdrashki <kamenim@samba.org>
Date:   Tue Mar 30 00:13:46 2010 +0300

    s4/torture: Suppress Valgrind warnings
    
    This patch suppresses two Valgrind warnings of type
    "xxx bytes in yy blocks are indirectly lost in loss record"

commit 846813797d3bba612492a5600cbe638388760ccf
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 00:11:57 2010 +0200

    s4-winreg: add winreg_DeleteKeyEx stub.
    
    Guenther

commit ffcaa7328079b45e2a137e637b686aa2edb4219b
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 00:11:41 2010 +0200

    s3-winreg: add winreg_DeleteKeyEx stub.
    
    Guenther

commit e42d5b5ae3da7d7a32428c50c8f518eab2dfbf30
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 00:11:00 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit dc4bf5651ee466397ab51cacaf83b519b79da5f1
Author: Günther Deschner <gd@samba.org>
Date:   Fri Apr 9 00:10:07 2010 +0200

    winreg: add IDL for winreg_DeleteKeyEx.
    
    Guenther

commit 0a154b940dc5657f78e3fe10fc239ed0b46c2eaa
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Thu Apr 8 23:43:50 2010 +0200

    s4:registry - "patchfile_preg.c" - assign a better type to the "i" counter variable
    
    The "i" variable sums up "size" values which are of type "size_t". Therefore
    also "i" itself should be from this type.

commit aa9e782a4d27600096230be44e0e18971e503e20
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Thu Apr 8 23:42:23 2010 +0200

    s4:registry - "patchfile_preg.c" - make a SIVAL statement nicer

commit 7c54ff5898b98e75c848dde84e1d1845ec0e3666
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 8 23:47:04 2010 +0200

    s3: re-run make samba3-idl.
    
    Guenther

commit e7a157317a1cec363efa084cfa3d40555604568d
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 8 23:46:15 2010 +0200

    winreg: fill in some winreg IDL gaps.
    
    Guenther

commit 26d928e9482725fe66db05f23af573fdea61a291
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 23:41:08 2010 +0200

    s4-net: Convert 'net time' to python.

commit 0c6f434b7bc0d9d4a8819a03815200966c92736e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Mar 1 22:33:01 2010 +0100

    net: Convert time command to python.

commit 6510b2cdd21c473bd146b7630d69d06342801cb1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 22:59:16 2010 +0200

    s4-net: Use new Net() object in net export keytab.

commit 814e20e7da60f0ec33dfea1d4d6dda1b653b818d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Mar 1 22:23:45 2010 +0100

    pynet: Create a net class.

commit 7a6f1c78429183bd22e4b3e82881ac3ce2e0a1a7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 23:18:17 2010 +0200

    s4-python: Fix formatting, use standard convention to call instance methods.

commit ae6d306c68aeb79280a950409352c76bad4fcd33
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 22:14:50 2010 +0200

    s4-python: Cancel transaction properly in case of exceptions, fix formatting.

commit 57ac0a6042c368a72beca3b48d0ae7210a9c999b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 22:07:42 2010 +0200

    s4-python: Move load_partition_usn to dsdb module.

commit dd4ef4e106d372cfadf7b47db8bf9dc25728b3bc
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 21:01:17 2010 +0200

    s4-python: More cleanups.

commit a35d876537eb301d75a254d9da97268d041da8d6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 20:34:40 2010 +0200

    s4-python: rename samba.glue to samba._glue to indicate it's private.

commit cc6e2b8a819c6a1da4e6214be9607aab2de270bb
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 20:28:11 2010 +0200

    s4-python: Fix formatting, import of FLG_NOSYNC.

commit d7a46ee129c455cba95126e9c0f409522127894e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 18:57:09 2010 +0200

    s4-python: Simplify code, improve formatting.

commit be4b68817544b87d12a1dcd7d8b5c5d778872418
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 18:53:14 2010 +0200

    s4-python: Remove obsolete and broken torture modules.
    
    The functionality of these modules is already present in a more current
    form in other modules.

commit 19e1537fdfce58e9ce1bbaa293be4d00f0e0fda1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 16:49:24 2010 +0200

    testr: Use waf test runner.

commit d0c25157e9b96ce9855ecd632723423ea45ea8c0
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 16:48:33 2010 +0200

    selftest: Add --filtered-subunit option.

commit ffb2449a13504261d3c113fcd3891553ccd44ff1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 16:16:15 2010 +0200

    selftest: Support --load-list option.

commit b59ba79b959955a43d6749fe9670229fbb2a679f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 15:24:33 2010 +0200

    s4-waf: Support --load-list option.

commit 4f2d8d6ace81c03fb0ff181ccfb0f3c2e02e2c45
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 15:08:27 2010 +0200

    s4-python: samdb: Default to using global schema.

commit 5d5fc92c6942d0d2a03dfdf0c8fd17b575bae608
Author: Endi S. Dewata <edewata@redhat.com>
Date:   Sat Mar 27 21:46:27 2010 -0500

    s4:dsdb - Handle INVALID_DN_SYNTAX from OpenLDAP in dsdb_module_load_partition_usn().
    
    Signed-off-by: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>

commit 7f65f77b4dfb5ee124992a34db4a92be4d728fb0
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 22:46:02 2010 +0200

    Update waf build.

commit cf17d48dec1ed94127b239c9bf40bcdcbcd808ca
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Mar 1 20:43:19 2010 +0100

    Migrate 'net export keytab' to python.

commit 8d588e96d964de5db171cfb666feb1dc2f744aad
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 18 19:19:28 2010 +0100

    s3-lanman: use spoolss for api_RDosPrintJobDel().
    
    Guenther

commit d5e2b43176099abe433b07a763d8e4b3180d94eb
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 18 18:13:40 2010 +0100

    s3-lanman: use spoolss for api_WPrintQueueCtrl().
    
    Guenther

commit 84f3eeeca312cc9182785bb7c3b0e1c4db8b3480
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 8 16:20:46 2010 +0200

    s3-registry: fix fill_in_printer_values() for datatype and printprocessor.
    
    It is wise and good to enforce RAW and winprint, but we need to be consistent
    with spoolss (and enforce it there).
    
    Found by torture test.
    
    Guenther

commit 1c4c4dd7e044f20c3de623b189a5c0d65b0a67b4
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 8 16:09:36 2010 +0200

    s4-smbtorture: protect against full UNC paths in winreg printerinfo test.
    
    Guenther

commit ef3490e79959a3c4366f6981c67dbe5e529a3738
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Thu Apr 8 15:19:07 2010 +0200

    s4:registry - "REGF backend" - don't ignore wrong-sized REG_DWORD/REG_DWORD_BIG_ENDIAN values

commit 3d5732fc1392740c5147c39116e5853452d0dc54
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Apr 7 17:50:19 2010 +0200

    s3: Remove the separate "child" argument from setup_domain_child()

commit 16deed7199b837f2d8982045edbdae4e3af13afa
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 8 15:00:34 2010 +0200

    s4-smbtorture: add PrinterInfo level 2 / winreg consistency test.
    
    This compares PrinterInfo2 with contents of
    HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Print\Printers\printername and
    HKLM\SYSTEM\CurrentControlSet\Control\Print\Printers\printername
    
    Guenther

commit f87a18ec3b3217cf1ba1706fed49b4f77d6a9815
Author: Günther Deschner <gd@samba.org>
Date:   Thu Apr 8 11:56:27 2010 +0200

    s4-smbtorture: minor cleanup, use data_blob_talloc_zero() in RPC-SPOOLSS.
    
    Guenther

commit f3f82496ac1198ffa65d5b2a052838248e0685aa
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Thu Apr 8 12:38:17 2010 +0200

    s4:WAF buildsystem - support out of "source4" directory builds
    
    Bug: https://bugzilla.samba.org/show_bug.cgi?id=4081
    
    With this patch we are able to invoke s4 builds from the outside of the
    "source4" directory (but the target remains the "source4/bin" path).
    
    One constraint: all commands: "autogen-waf.sh", "configure", "make" have to be
    run from the same directory!
    Regarding "make": you have to run it using "make -C <source4 path> [targets]" if
    the invoke directory is not "source4" itself.

commit bf4189eb80246b3fc1fe0cf90cd790ac0b1e0e56
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 8 22:10:22 2010 +1000

    build: we need this isinstance() check for distcheck
    
    Jelmer, this works around a bug in waf distcheck that will be fixed
    soon. We really need the isinstance() check for now.

commit baec7a6b9eb6cdb2d3a21e3a6c7b99e79703d39f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 8 22:01:27 2010 +1000

    build: the exceptions here are not useful
    
    they just make the failure hard to spot

commit 4ca46c6b8dfd9d7450096fc16c6edd7a08f369e5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 8 21:46:20 2010 +1000

    build: make the handling of relative paths a bit saner
    
    This should fix a problem that Anatoliy has struck with the PIDL
    rules. It also brings us much closer to a working build for a true out
    of tree build (ie. with waf configure -b /tmp/build)

commit eb9b7d0363669574de8ec380089407890f15eac2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 8 12:45:54 2010 +0200

    s3:winbindd: make "smbcontrol winbindd validate-cache" reliable again
    
    commit 73577205cf81644e7fe853eaf3e6459f7f443096
    (s3:winbindd: fix problems with SIGCHLD handling (bug #7317))
    broke this.
    
    metze

commit e2aec9d81f53ae80bc7561fa83e88df668998a1a
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Thu Apr 8 12:25:34 2010 +0200

    s4:registry - "patchfile_preg.c" - fix the read operation of the data length on big-endian platforms

commit 2164ba51e299dd2f2829620d5616cd04a0a837f4
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Thu Apr 8 12:20:51 2010 +0200

    s4:registry - "patchfile_preg.c" - use "sizeof(uint32_t)" for some size specifications
    
    Looks nicer.

commit 479fd9c03fc84824fea310b76d48ce271587cfe7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 12:19:51 2010 +0200

    s4-net: Simplify SamDB connect code.

commit 2578072541e880c83089fdd278d81467e91ddc5a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 8 03:26:39 2010 +0200

    s4-python: Move set_global_schema to pydsdb.

commit a1e47e3dd2beb0c46bfc90095b066ffd64706529
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Apr 7 23:57:23 2010 +0200

    s4-waf: Add dist target.

commit ca74246b4b82f1f3716531ad9732c223b21dd8c7
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Apr 8 10:40:40 2010 +0200

    s3: Fix a typo

commit f1aa4c34bf0bd7d42627024af333963b741babea
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Apr 7 10:42:37 2010 +1000

    tsocket_bsd: Always use a real length for the sa_socklen, and keep it around
    
    The previous code assumed the OS would happily accept sizeof(struct
    sockaddr_storage).  It seems some versions of Solaris do not like
    this.
    
    Andrew Bartlett

commit 0922c5ab2da1106fdb9a750c2d71d0cd04146394
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Apr 7 15:21:32 2010 +0200

    Revert "socket-wrapper: not all systems have FIONREAD defined"
    
    This reverts commit 710aa773d54509de34404f9992c5058ddfa45f3b.
    
    We rely on FIONREAD in a lot of other parts in the code,
    so there's no need to have an ifdef for it in the socket_wrapper code.
    
    On tru64 FIONREAD is defined in <sys/ioctl.h>
    and we include <sys/ioctl.h> via "system/network.h".
    
    Tridge: maybe a HAVE_SYS_IOCTL_H was missing at the time you tried
    it on tru64?
    
    If we find a platform that doesn't support it,
    we need to bail out at configure time or
    provide a replacement in libreplace.
    
    metze

commit 3413cf7a6bd992fa722cc9674176beb15446502b
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Apr 7 19:00:44 2010 -0700

    Start to plumb smb2 into the oplock system. Calls dummy functions for now.
    
    Jeremy.

commit 0ec6f297eebe1062f48b9e03b7a0def8a1b5ee21
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 7 23:40:17 2010 +0200

    s4-smbtorture: minor typo in SetJob test in RPC-SPOOLSS.
    
    Guenther

commit d9138f4ccf7b5a491a922254fe3ff67c7d612703
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 7 23:36:48 2010 +0200

    s3-spoolss: Fix an issue in _spoolss_DeleteForm.
    
    Found by torture test.
    
    Guenther

commit 65c5b786ca4dcb3fda47eea24848232548caf443
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 7 23:36:15 2010 +0200

    s3-spoolss: Fix some issues in _spoolss_AddForm.
    
    Found by torture test.
    
    Guenther

commit 34ada1d540b0eedbe1dd573a47146f0309ed4875
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 7 23:34:36 2010 +0200

    s3-spoolss: Fix potential memleak in _spoolss_AddForm and _spoolss_SetForm.
    
    Guenther

commit 7f3116a63d7d91f4c0d26adf8fcdef0a5a957971
Author: Thomas Nagy <tnagy1024@gmail.com>
Date:   Thu Apr 8 07:45:46 2010 +1000

    build: allow the waf build to work with python 3.0 and 3.1
    
    Python 3.x is a bit fussier about print statements and indentation.
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 64957ce0686761acd2a2a7ec1787898d2d8238b6
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Wed Apr 7 23:00:42 2010 +0200

    LDB:sample_module - reintroduce accidentally removed "ldb_msg_add_fmt" statement
    
    Obviously this is really needed by the "samba4.ldb" test.

commit e5bb6d56df9b8816665fd42a04531ef19b30be17
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Apr 7 22:52:28 2010 +0200

    s4-waf: Fix 'waf dist' app name.

commit 472860c9a7485e37627900cb450dca605051e07a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Apr 7 22:17:34 2010 +0200

    Move configure_check_unused script to root scriptdir, as it is useful
    for both s3 and s4.

commit 36474e58676574d426f4f8a3a067be52fa78cc9f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Apr 7 22:15:27 2010 +0200

    s4: Remove unused pkg-config replacement in perl.

commit 0473926a5b448c1a0b397d079c353f8406588c0d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Apr 7 22:13:34 2010 +0200

    update-external: Support updating dnspython.

commit 7ccd68073ddc02abdd6d8fbfaefef5c42e4e8178
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Apr 7 22:28:28 2010 +0200

    s3: Fix bug 7327 -- Build fails while building without kerberos
    
    libsmb/clikrb5.c has a dummy implementation for the non-kerberos case

commit 2cf3585e52807eedfe80bffcd56fd6df4eec467b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Apr 7 17:54:57 2010 +0200

    selftest: Display minutes and hours for duration.

commit baf81a0e08099dc863a014eb6e03b6e877ae8b93
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Wed Apr 7 20:40:06 2010 +0200

    LDB:python bindings - also empty LDB message elements should have a python representation
    
    Bug found by ekacnet (see technical mailing list).

commit 79fccc45bc3acac5d9b15a3585e2526a3b1876f2
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Wed Apr 7 20:14:46 2010 +0200

    s4:registry - "regf backend" - fix it up regarding REG_DWORD/REG_DWORD_BIG_ENDIAN_VALUES
    
    This is needed to make it platform independently work (also on big endian
    platforms as little endian).
    
    Also add a size check before storing a DWORD.

commit 8ae956d7ba23b10e8fe17facc19f44d0ab167762
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Wed Apr 7 18:54:42 2010 +0200

    s4:winbind/wb_server.c - fix indentation

commit 40172f374ba6d5a6edde2834f7f0a28a5fe49928
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Apr 7 10:33:02 2010 -0700

    Test using (-1) for tid and sessionid in compound related requests.
    
    Jeremy.

commit 556b42a351e3584550f79d1c7ad83b44f3a5562b
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Apr 7 10:32:01 2010 -0700

    On compound requests, MS-SMB2 says clients MAY use 0xFFFFFFFF for compound tid and 0xFFFFFFFFFFFFFFFF for compound sessionid values. Cope with this.
    
    Jeremy.

commit 146c1618e44591a11afade87f67797e6f80fa813
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Apr 7 10:31:43 2010 -0700

    Don't forget to initialize *p_creds_requested.
    
    Jeremy.

commit c76bd65b608bed0810013b3a447a4a30fbed98bd
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Apr 7 12:11:12 2010 +0200

    s4-samdb: Allow skipping global schema.

commit feeedf49cfc2edbfdfd0e5512904ea67f2daff11
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Apr 7 12:10:09 2010 +0200

    s4-provision: Proper handling of exceptions, use SamDB class but skip global schema.

commit 21ab06f8a233b38bee750250e455416ac0bef13e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 4 03:30:03 2010 +0200

    s4-python: Move samdb_ntds_objectGUID to pydsdb.

commit fe4b212eba1d7645c8be98240a2630759050197d
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 4 03:08:05 2010 +0200

    urgent_replication: Use standard comments rather than docstrings.

commit eebc66ce324192b38c1ceca857623c634875d379
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Apr 1 12:45:58 2010 +0200

    s3-spoolss: Added a winreg_getform1 function.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit c7fb84a58fd3597431c0bbe131e51a95eaff8a70
Author: Andreas Schneider <asn@samba.org>
Date:   Thu Apr 1 11:51:59 2010 +0200

    s3-spoolss: Added a winreg_setform1 function.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 0d46ab0f3eb9662d7ee3eaf8f680632486878d46
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Mar 31 15:31:21 2010 +0200

    s3-spoolss: Added a winreg_deleteform1 function.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 93575d6d7051089b50e038a152750939130c6a72
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Mar 31 13:04:04 2010 +0200

    s3-spoolss: Added a winreg_addform1 function.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit fbd32356103e8d72dadf51e51b3119443f13ffb2
Author: Andreas Schneider <asn@samba.org>
Date:   Wed Mar 31 13:03:09 2010 +0200

    s3-spoolss: Added a winreg_enumforms1 function.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 20e96d92430f8f9e18351be96319c3c3758ccb77
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Mar 30 14:46:32 2010 +0200

    s3-spoolss: Fixed winreg_printer_openkey to be used in a more generic way.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit adfd4854faf8b2177574d62950324d676d92fae0
Author: Andreas Schneider <asn@samba.org>
Date:   Tue Apr 6 17:01:15 2010 +0200

    s3-spoolss: Added a delete_printer_key function using the winreg pipe.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit f0054d8361b90acc3b4d39b0c283f9d54467e61d
Author: Andreas Schneider <asn@redhat.com>
Date:   Wed Mar 17 15:59:10 2010 +0100

    s3-spoolss: Added a enum_printer_key function using the winreg pipe.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 77d1b73a3e31f67dce28055603c34bd78e927616
Author: Andreas Schneider <asn@redhat.com>
Date:   Mon Mar 15 12:30:05 2010 +0100

    s3-spoolss: Added a delete_printer_dataex function using the winreg pipe.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit e498338f6f29ffdcca0f3108968e04f635c797d4
Author: Andreas Schneider <asn@redhat.com>
Date:   Fri Mar 12 17:31:21 2010 +0100

    s3-spoolss: Added a enum_printer_dataex function using the winreg pipe.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 511dba5ae8529f8a3e661a2d9d0e6426e38fbee8
Author: Andreas Schneider <asn@redhat.com>
Date:   Mon Mar 15 12:27:51 2010 +0100

    s3-spoolss: Added a get_printer_dataex function using the winreg pipe.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit bc235459094f01e6fbf3b544bb4848427ceae9d5
Author: Andreas Schneider <asn@redhat.com>
Date:   Mon Mar 15 12:24:59 2010 +0100

    s3-spoolss: Added a set_printer_dataex function using the winreg pipe.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 4f3893f8148a36d11a4fa333c323fcf6f0176b2e
Author: Andreas Schneider <asn@redhat.com>
Date:   Mon Mar 15 12:24:40 2010 +0100

    s3-spoolss: Added a function to open a regkey using the winreg pipe.
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 1ac654d108ebeede3ff78ddb30f19e1f4d516063
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Wed Apr 7 15:02:23 2010 +0200

    s4:WHATSNEW4.txt - further updates and corrections
    
    Some are inspired by ekacnet.

commit acfd02574b1d8de11beb11609020f075083aa019
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Wed Apr 7 14:33:09 2010 +0200

    s4:pyregistry.c - fix indentation

commit fa4d91e1e0cc4a5383d735089b40f28e384fbd5d
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Wed Apr 7 14:20:18 2010 +0200

    s4:provision - add a comment which explains why "paths.dns_keytab" is stored without path reference

commit 345fcf58751c49a4832476561855f7deeba3f7b3
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 7 14:56:07 2010 +0200

    s4-smbtorture: test for invalid form flags in RPC-SPOOLSS.
    
    Guenther

commit 95b9c48ef1fbe6c1566a86cadf3295b6c7e28319
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 7 14:38:31 2010 +0200

    s3-rpcclient: allow to define server_unc in cmd_srvsvc_srv_query_info().
    
    Guenther

commit f63c345bbd2b069c1f946529d559e8c6dbd7f2bc
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 7 14:37:30 2010 +0200

    s4-smbtorture: test all types and also use a wellknown builtin form name in RPC-SPOOLSS.
    
    Guenther

commit 3fdebc06465cd6493617c2b129759e08200097f7
Author: Björn Jacke <bj@sernet.de>
Date:   Wed Apr 7 12:21:07 2010 +0200

    s3: add comment about what the FSCTL_QUERY_ALLOCATED_RANGES currently does

commit 4712940e7cbd0d05a30b548d23e96a4d0b741e78
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 7 00:39:17 2010 +0200

    s4-smbtorture: merge badname spoolss openprinter tests.
    
    Guenther

commit 8bb30ffcf619e4e799ba38df41f0479fb70980c9
Author: Günther Deschner <gd@samba.org>
Date:   Wed Apr 7 00:38:02 2010 +0200

    s4-smbtorture: avoid passing down a full test_spoolss_context to directory
    spoolss tests when not used.
    
    Guenther

commit 3d113a6ffb91ccc760015b8ef74cc4ba4cbdf5fd
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Apr 6 16:31:26 2010 -0700

    Ensure we total up the correct number of creds requested in a compound request.

commit 9c410118cb8b53a6a7194b6768f433cac056e4d2
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Apr 6 15:43:35 2010 -0700

    Parameterize "smb2 max read", "smb2 max write", "smb2 max trans".
    
    Set to 64k by default.
    
    Jeremy.

commit 027adf88eaf8c3a7375da7c0f9c0397db46668e6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Apr 7 00:32:24 2010 +0200

    Support 'make test TESTS=foo' again.

commit c349aa3619efde5e00fd0d05f0670a7b6c2f3327
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Apr 7 00:26:28 2010 +0200

    s4-python: Use standard infrastructure for finding included testtools, subunit and iso8601.

commit 4d482d9c192a8905dcd6bf18d375e565f87067bd
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 6 13:23:22 2010 +0200

    s4-smbtorture: more work on forms tests in RPC-SPOOLSS.
    
    Guenther

commit 91ce32b4c428d2fc514eef150c625de6cb91345b
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Apr 6 14:52:38 2010 +0200

    s4:param/secrets.c - add some "char *" casts
    
    Also this quiets some warnings.

commit 2859b9df99bf2b49e90feca3ad7b7de6be816fe7
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Apr 6 14:36:06 2010 +0200

    s4:net tool - add a "discard_const_p" to suppress the "PySys_SetArgv" warning

commit 5b824eb17bc11b2de8b2df9b9bc55db1d0e08df0
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Apr 6 14:32:27 2010 +0200

    s4:torture - remove unused variables

commit b7b464eeee96a57fb94c1f0899bfdb6639a70eb6
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Apr 6 14:26:20 2010 +0200

    s4:auth/ntlm/auth_developer.c - "fixed_challenge_get_challenge" - fix the assignment of the challenge
    
    This is a string buffer and not a DATA_BLOB.

commit 0086db6c0cdf0c7afccc143259c8c55382e466aa
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Apr 6 14:09:38 2010 +0200

    LDB:sample_module.c - remove code parts which generate warnings
    
    Btw: The use of the "ldb_msg_add_fmt" operation directly on the request message
    object is strongly discouraged. Better is to make a shallow copy of this message
    and attach it to a new child request which is handled by the following modules.

commit 5f080d8e03f1060347cdd05d65bf72b0ce7dec0e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Apr 6 14:24:24 2010 +0200

    s4-python: Fix compilation of samba._ldb.

commit 96ae3ee80391e69d2a2c75705a9374b27b2117c8
Author: Christian Ambach <christian.ambach@de.ibm.com>
Date:   Mon Apr 5 14:12:52 2010 +0200

    fix a segfault in the notify subsystem
    
    When the notify_array cannot be loaded correctly,
    do not keep the half-baked parsing results in the global variable.
    
    This can lead to segfaults next time notify_load is entered and
    the seqnum has not changed. This has been seen in a case
    where mixed smbd versions were running in a CTDB cluster
    (versions with and w/o commit c216d1e6 that changed the
    notify_entry structure).
    There will be missed notifications until all smbds are at the
    same software level, but this should be acceptable and is better
    than crashing and interrupting client operations.
    
    This fix cleans up the notify_array, removes the unparseable data
    from the TDB and returns a fresh notify_array that can be worked
    with.
    
    The NDR_PRINT_DEBUG had to be moved to only be called when the
    parsing succeeded, it was seen to cause additional segfaults.
    
    The status variable is intentionally left to NT_STATUS_OK to not
    make callers abort and report errors to the clients and make them
    disconnect.
    
    Signed-off-by: Christian Ambach <christian.ambach@de.ibm.com>

commit 449bdf35432230b060387856637759e2fe7022d6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 4 02:20:52 2010 +0200

    s4-python: Move set_session_info to PySambaLdb.

commit 55b98e9768cb2a1ae4b9cc83e3d5f33b51b22e8f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 4 02:07:46 2010 +0200

    s4-python: Move register_samba_handlers to PySambaLdb.

commit e9c3f2ef13f62eb583bd7c5dfb6b94a0a8a0fc4f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 4 02:01:47 2010 +0200

    s4-python: Move ldb_set_utf8_casefold to pyldb-samba.

commit ae9761349904ac9c4c2745018903d8c2fcc2abf1
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 4 01:54:57 2010 +0200

    s4-python: Move set_opaque_integer to pyldb.

commit b72a5c033670a84423d1099aedbcfa5047ac47e6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 4 01:51:04 2010 +0200

    Move glue.set_credentials hack to samba.Ldb.

commit 099fc00b601fe7775f5fdb18d8473031b8a7ce27
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 4 01:48:35 2010 +0200

    Add C-based Samba-specific subclass of Ldb.

commit badc255748aa71f98c99c4c47343011286c8445d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 6 20:48:15 2010 +1000

    s4-build: remove any 'makefile' that may have been left by the waf build
    
    this allows ./autogen.sh to be used to switch back to the old build
    system after trying the waf build

commit 07d9da4d2f77d08c3a073453f4eaaf5c0939ccf5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Apr 6 19:31:39 2010 +1000

    build: use a target_in_list() function for more flexible builtin control

commit 35ec7c34b3a233a8d1b0a551b3c6095a45eb6bb6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 5 18:16:47 2010 +1000

    build: cope with binaries with subdir prefixes (for s3 waf build)

commit 748ef2c86516f8951b6da2803e8163026768e328
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 5 11:41:37 2010 +1000

    s4-waf: don't need TOUCH_FILE() any more

commit 5260b504675b8151f0a6415f41a321d8cf077bb1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 5 11:26:45 2010 +1000

    build: run distcheck in testwaf.sh

commit bfd30ebcba9b4f504a3818bb1981882d044693b0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 5 11:26:24 2010 +1000

    s4-waf: add subdir argument to distcheck for source4

commit 6ea4ae881ceb68ad68eac8c3c541fe1395ee78aa
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 5 11:25:54 2010 +1000

    build: update version of waf to add subdir argument to distcheck

commit 64594f296ca84c487e5cd7ec5e76153cb3b3ef4a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 5 11:25:20 2010 +1000

    s4-waf: replace TOUCH_FILE() with normal install rules
    
    this allows it to work with 'waf uninstall'

commit cd712dff316b5d1d017c0132ef37e948b17e0608
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 5 11:23:28 2010 +1000

    build: simpler symlink_bin and symlink_lib methods

commit 7ae4372124a7fde2404f9e626054e7856c18f733
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Apr 5 09:58:23 2010 +1000

    s4-waf: fixed waf distcheck for our standalone libs and s4

commit fe060c8f50de23c4f3503a32c3237bb80bd68331
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 4 22:11:30 2010 +1000

    s4-waf: added simple 'waf test' support for tdb, talloc and ldb

commit 7d3421077216c00cf6744ab335447c5f75a9c24b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 4 21:29:34 2010 +1000

    s4-waf: added python_dsdb from merge with master

commit dfdabffae3c90e44b504bbbb4903b1aa30fb2f86
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 4 21:14:21 2010 +1000

    build: fixed LOAD_ENVIRONMENT for out of tree builds

commit ccfce0bbaef43b796846e2dfc8bce8f28e96fcf0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 4 18:31:54 2010 +1000

    s4-waf: autogen-waf.sh for the standalone library builds

commit 1e35da61455ac1e94b1f64f661e7052113de4dfc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 4 18:27:30 2010 +1000

    s4-waf: new autogen-waf.sh
    
    this one will work with the tdb, talloc, etc directories

commit c8835f440a7e07f385f5759bae6b4e53c1927e82
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 4 13:16:49 2010 +1000

    s4-waf: use a common pattern for finding buildtools and libs

commit 553324bc1022635e05a683c4bec5135d845f6fea
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 4 13:08:05 2010 +1000

    s4-waf: move to a universal method of recursing into subdirs
    
    This works with both standalone lib builds and bundled builds

commit 8dc8d31f4adf84f35bce34339e13e9d70c4b8a66
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 4 11:40:05 2010 +1000

    s4-waf: fixed finding of buildtools and srcdir

commit a8840087979f891c50e01e647df21759e556a7c8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 4 11:02:15 2010 +1000

    ldb-waf: fixed buildtools path

commit 1883ee6dbc2482a34ce531cec3c1c7e5e85af1e7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 4 11:00:42 2010 +1000

    s4-waf: avoid having to run waf configure before waf dist
    
    This should be useful for building tarballs from a clean checkout

commit 3ed6d7e76f9e2936e2d27ceeee8984950ea900a3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 4 10:23:43 2010 +1000

    build: nicer error msg when git ls-files fails

commit 9e9e878e8f5f0fba51e3a576f17cf07d0857cff6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 4 10:18:39 2010 +1000

    s4-waf: allow standalone tarball build of libraries

commit 528d7c7cf39fe9d8867d751f0a3c26f413301515
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 4 10:06:34 2010 +1000

    s4-waf: added 'waf dist' to our standalone libs as well

commit c8062fb65ee108fa948fd8d8ed4055ffa3af7027
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 4 09:57:33 2010 +1000

    s4-waf: added 'waf dist' to build the tarball

commit 735934bfede08f37707a070f977837a9f76e3242
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Apr 4 08:04:39 2010 +1000

    build: removed some unused imports found by pyflakes
    
    thanks to Jelmer for pointing me at pyflakes

commit 2bf15566c629587992fa3c71cc5261f2cea300be
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Apr 3 23:26:35 2010 +1100

    talloc-waf: install talloc.pc if standalone

commit 23ff97e629eb5dc12caadeb690603691221bc92d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Apr 3 23:26:21 2010 +1100

    build: fixed the expansions in pkgconfig files
    
    thanks to Jelmer for the hint on this

commit 7aa3f08f851aef234cb236b11c653f904c9e622a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Apr 3 22:46:32 2010 +1100

    build: fixed DESTDIR for TOUCH_FILE()

commit feafcd2fb452e6ac92aa2f8d60138cbec9a48083
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Apr 3 22:25:33 2010 +1100

    build: waf update to fix macos build error

commit fce1f198002bda681a1d6c660109251469b0c56d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Apr 3 21:21:24 2010 +1100

    build: try to fix the python link problem on SerNet-imini

commit 3efd865d617bfc9c6f87fdb91df282a36910954f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Apr 3 14:11:31 2010 +1100

    build: use waf from waf-svn.git repo
    
    Added README explaining where waf comes from, and where to get the
    upstream sources and the exact version we use in Samba

commit 1b15b28eaabc4ac85632408912a80f4f4ac2abd2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Apr 3 10:41:44 2010 +1100

    build: try the generic C compiler on hpux if gcc not found

commit a02d98ebb6553704f9c8203570e2427b749cfa7b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Apr 3 09:41:17 2010 +1100

    build: update wav-svn
    
    this version works around the tarfile problem on irix

commit 20c7cd878b82c7fd88f9359bad9180b676c08054
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Apr 3 09:19:57 2010 +1100

    build: added 'generic' cc support and a simple irix cc support module
    
    these will let us get past the 'detect cc' stage and try a build. It
    also makes for a reasonable template for new ports

commit b849bea079ba738f5e9763b6e714d52d25a8c5d7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 21:32:42 2010 +1100

    build: initial version of a tru64 compiler module
    
    this doesn't do shared libs yet, but at least configure passes

commit 7a8d58dbbcfb86039d078a352909853a69a86b49
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 21:27:09 2010 +1100

    pidl-waf: disable pidl manpages
    
    it's still causing trouble in the build farm

commit a799f5995ec0c216eb85d578db4dacdf2cb9eefe
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 20:55:37 2010 +1100

    pidl-waf: better handling of the man page generation
    
    we now avoid leaving build files in the source tree

commit 3385b1e2e9f81bde322a83317ecb394b1f676724
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 20:18:57 2010 +1100

    pidl-waf: build pidl man pages and parsers separately
    
    this should prevent gratuitious builds

commit 0c294655f61048581e72e0c089d2aada247be40d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 19:57:32 2010 +1100

    build: don't depend on the blib/ files in SAMBA_PIDL()

commit f01f74b2beb43c9e44a0cf256d1f5d2ba4a8e1d1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 19:19:12 2010 +1100

    talloc-waf: match version number with main build

commit 93a099c2de1939f86a8d2f56ec19c18db0b98a3a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 18:16:23 2010 +1100

    build: loop until all object reductions are complete
    
    we will issue a warning if any object duplication remains

commit 470c14cbf383631683355f723d219a12dc0998e8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 13:10:14 2010 +1100

    build: make sure the directory exists in TOUCH_FILE()

commit 31a88f266c5b4e884276f92f3801eec4e1033f8d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 13:06:35 2010 +1100

    build: nicer display of command type for prototypes and generators

commit 865e478e25e6c9d69915061f6f2211298e730068
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 12:26:27 2010 +1100

    s4-waf: create a blank __init__.py in samba/external
    
    needed for the external lib loader

commit 9e52dc441e6709429194555350825ffcf341abf5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 12:20:23 2010 +1100

    s4-waf: fixed install location of external python libs
    
    this merges with jelmers recent changes in master

commit 9eb5cb784ceeab4d53cf01890b21a28043467dfa
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 11:55:07 2010 +1100

    build: a bit more information for tracking --target deps

commit 4731442dfab1c1b44e0c6e92360dde23215b3e5b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 11:54:24 2010 +1100

    s4-waf: format-subunit and filter-subunit are in python now

commit fe0febcf304b8ef5eec19b2f3d540ae936e005e3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 08:47:38 2010 +1100

    s4-waf: added new install system for external python libs

commit 60bfedb8f4d334727c6b5ec4170ec6c8dc8d2560
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 00:15:02 2010 +1100

    s4-waf: filter-subunit has been renamed

commit 4fa9c3187df4c8bfb40d57d2fb3c107b9b20bf47
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 00:13:26 2010 +1100

    s4-waf: updates for the new python installer from jelmer

commit ba64e236d59619cb4222225ac98efe2a2c07f592
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 1 22:19:32 2010 +1100

    build: much simpler and faster rpath install handler
    
    This avoids creating additional task generators at build time, and
    instead moves all the rpath logic into samba_install.py where it is
    triggered by the install_lib and install_bin features

commit 6dbf576e819d32d2a25e7e1fa7ac50d5764db966
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 1 12:30:56 2010 +1100

    build: only link install targets at install time

commit f189af143b59af52990a624995dcbbabe3c7ea50
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 1 17:24:02 2010 +1100

    build: enable nothreads workaround only with WAF_NOTHREADS=1

commit d06df81df21adfaa10497369f06e5d4f51b57611
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Apr 1 09:49:46 2010 +1100

    build: fixed the dependencies of the install targets
    
    we want the install targets to have identical calculated dependencies
    to the build targets.

commit 375277beee2e7ea118cccefa771e97251ad1b285
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 31 23:14:50 2010 +1100

    s4-waf: disable MAKEMAKER until a dependency problem is solved

commit c0b67c6e7e1541ed04cd48bb215f03ed7357d5cf
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 31 21:26:33 2010 +1100

    build: fixed the task counter when nothreads is used

commit a7386c9625d1f45c609f3ac688dcda62e5f50e2a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 31 21:01:29 2010 +1100

    s4-waf: set JOBS=1 during configure.waf
    
    this allows configure to run on AIX, which has broken threading

commit e42a13d1d0a4ea37ada0b0a33d1ce87fde3412b4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 31 20:56:00 2010 +1100

    build: enable 'nothreads' when JOBS=1
    
    this makes waf not use pthreads, which should fix the problems on AIX
    and maybe on HPUX. It looks like process handling with Python on AIX
    is broken if threads are used.
    
    When JOBS=1 we don't need threads anyway.

commit fe2c1f1e7c4eccb0f4ed849983b22839ec9f7930
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 31 20:13:55 2010 +1100

    build: refactor the object reduction code
    
    split it out into a separate function, and use the final_* attributes
    instead of the direct_* and indirect_* attributes

commit d830661f222d1791a46bdd858817fa0d637cb1d3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 31 18:05:57 2010 +1100

    s4-waf: remove PYTHONDIR from config.h
    
    prevent unnecessary rebuilds

commit aceb14f611e567a53ce582f4f25f08159787b3d4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 31 18:05:29 2010 +1100

    s4-waf: use cflags for LDB_MODULESDIR
    
    this prevents rebuilds when it changes

commit 9ac8899d87c3eff149a0ba582fb70b853710e826
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 31 18:04:18 2010 +1100

    build: sys.exit is better than raise here
    
    using raise produces a screen full of stuff the user can't
    understand. The message is much clearer with an exit

commit cd104102b9ff90c123342a588d2578cf9d5637ed
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 31 18:03:39 2010 +1100

    build: don't define vars in config.h for CONFIG_PATH()
    
    we don't want paths in config.h, as that just causes full rebuilds
    when you change --prefix. Better to use cflags= on the right subsystem

commit dab7b265282aac2fb539171b4f4bdec11e2a3c8c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 31 09:22:40 2010 +1100

    s4-waf: we don't need strerror_r from roken

commit 30fa7da5242823b0da7dedbbf8cf2221a99ec49c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 23:08:01 2010 +1100

    build: finally got LIBRARY<->LIBRARY reductions working
    
    the install size is now 100M

commit 3154733c33ce51c61a023fe27148c3ab154786fb
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 22:39:18 2010 +1100

    build: add python library object reduction
    
    This reduces the install size of s4 from 393M down to 132M on my
    system. We had a lot of duplicate code in our python modules!

commit d39b44c98986ab4b15c81350b4e4ee0ee2d60601
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 22:28:30 2010 +1100

    build: python libs need to be built shared, regardless of --disable-shared
    
    we don't have a way to load them otherwise

commit 178b0d178d55863dde29713230ae3af69452e58b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 22:06:32 2010 +1100

    build: add require_headers option to CHECK_BUNDLED_SYSTEM()
    
    Useful to ensure the package has usable headers

commit b498378c8fcb2f87f7cb296e4e81ac392b1e34ff
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 20:21:21 2010 +1100

    s4-waf: fixed some of the group ordering
    
    We need to try to keep targets in the right groups

commit 20a8574717aef8f946ac9d8f3284e7318eeb9bf8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 16:52:08 2010 +1100

    s4-waf: look in libintl for dgettext()

commit 0a6a808113a2417306f99080708fbc160856ed7e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 16:40:34 2010 +1100

    s4-waf: add getaddrinfo.c replacement if needed

commit 4854afcfa13ad89db7e028d30700a8e1c027d0bf
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 16:06:55 2010 +1100

    build: expand indirect includes to fix disable-shared build

commit 354a76aeb3f491be3224e2e77500b13ca21d8cf4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 15:32:06 2010 +1100

    build: fixed install target for systems with rpath disabled

commit 385e02e9d9b9fccf48614f70ade3ceb2b6345f8a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 14:41:08 2010 +1100

    build: added functions for compound configuration testing
    
    This allows us to give a single 'Checking ...' msg for a compound
    set of tests.

commit 33d5c4a18c1b194d82e077844bb27d922de815a9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 13:19:46 2010 +1100

    build: don't link when checking a C prototype

commit 8e36daf51389c43de9182c660a68923049e7df5e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 13:14:01 2010 +1100

    s4-waf: added test for dlopen prototype

commit 77a4fe495ef8056d186d5b6d24f895ff64db77ee
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 13:05:15 2010 +1100

    s4-waf: added a --enable-selftest option as a shortcut
    
    This is equiavalent to --enable-uid-wrapper --enable-nss-wrapper --enable-socket-wrapper
    but is easier to remember!

commit 7da57cc94b8e6ddfac1b9e1f35956667ebee2abc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 12:47:54 2010 +1100

    build: tweak the strategy for finding functions
    
    Based on a problem with res_ndestroy() on sunx in the build farm, I've
    changed the default strategy for finding functions with
    CHECK_FUNC(). It now accepts either a macro of a linked function, but
    won't accept a declaration only unless you set link=False.

commit 9da89b4dda291ff2f42fa2e63cf84034c3a6f824
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 11:54:23 2010 +1100

    s4-waf: show the fully expanded test command
    
    this makes it easier to run it separately

commit 8ed23a408d384d16f379e68cbad8285e9112ec31
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 11:51:31 2010 +1100

    build: new waf version with local patches replaced by upstream changes

commit 2277134e8ed0acf1c39768223e269c17add5ae3f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 11:38:55 2010 +1100

    build: removed debug line

commit 172b8c55f751c1f295dc75ae6143b158d6101228
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 11:37:07 2010 +1100

    s4-waf: use the versions of perl/python found by configure

commit 6c76919ab516f6145c85a3c4da5c6bfe4ab632bd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 23:46:38 2010 +1100

    s4-waf: don't assume perl takes -W option

commit f0f67ebd2f1605c25c4726d7e5e8c57daf3decbf
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 22:32:03 2010 +1100

    build: fixed a configure error with a totally clean tree

commit 874e39cbf00325cb379ddea274ae4288e32f8f72
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 22:27:17 2010 +1100

    s4-waf: added implied_deps for system libraries
    
    when we use a system version of a library such as talloc, then we
    no longer get the automtica dependency propogation of talloc implying
    libreplace. That means we don't get the includes for libreplace, which
    means things can fail to build.
    
    To fix this this change adds an implied_deps option to
    CHECK_BUNDLED_SYSTEM(), which tells the samba_deps module to add an
    implied dependency on the listed targets if the system library is
    chosen.

commit ed5522adf24903a500e3565ea5eb443ed28440cc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 22:05:54 2010 +1100

    s4-waf: install in /usr/local/samba by default

commit b690fedef55bb4bf9ecff07b78d3a14b4d4d6e45
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 21:44:37 2010 +1100

    s4-waf: removed the AUTOGENERATED markers
    
    we won't be using the mk -> wscript generator again

commit 989eb9dbdc43387502a0e0f4fc8f6e0f157eeb3c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 21:28:49 2010 +1100

    s4-waf: added rules for rebuilding the yapp parser in pidl

commit 8692ad4950dd946bc9bb095848b6bdf5cf530ef7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 21:11:33 2010 +1100

    s4-waf: updated for new perl subunit options and filter name

commit 1567750070f7a9ff2e2e0acbc50eaac1747c4282
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 20:43:58 2010 +1100

    s4-waf: added --enable-fhs configure option

commit 720742424d96e843972488a2b47305abbd8609b8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 18:55:17 2010 +1100

    build: fixed the on_results problem with SAMBA_AUTOPROTO()

commit 42563820945a87bab612f306b01151b2f2e23024
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 18:48:50 2010 +1100

    talloc-waf: don't build the talloc testsuite in s4
    
    its built into smbtorture already

commit 7a3dd2c53f350a04f350931863e1a1de98505e8a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 18:43:57 2010 +1100

    build: fixed missing nodes display on errors
    
    when waf can't build something due to a missing file, it displayed the
    whole group of files. This update makes it display only the missing
    files.

commit 3e017464201818d940128ca47b5c4f2703a23d63
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 17:20:39 2010 +1100

    ldb-waf: ldb needs HAVE_CONFIG_H for building a bundled popt

commit 65edcfa01600db1e6140e147ef74d4904fc531ed
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 17:12:37 2010 +1100

    build: added pattern option for recursive_dirlist
    
    also added LOAD_ENVIRONMENT(), which will be used in the testsuite

commit cd8de1581919dc9df43f3e2c6e045447129f49bc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 17:12:04 2010 +1100

    s4-waf: added pydoctor and wafdocs targets
    
    these generate html documentation for the Samba python code
    
    You need a very recent version of pydoctor

commit da1fed0a8f71d8190cf4bb0094f58f9c2a12b317
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 16:59:13 2010 +1100

    build: nicer progress display for a standard build

commit 970892594b15b946667e02d2b521cf8a501f2662
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 15:27:54 2010 +1100

    build: override PACKAGE_VERSION in pkg-config generation for libraries
    
    we should use the vnum

commit d87b77e649bee4e4acbc0ab1d2d462673b541e7a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 15:19:13 2010 +1100

    build: reuse SAMBA_LIBRARY() to build python modules
    
    This allows the rpath logic to be shared, and simplifies the install
    logic

commit 02f9364bbcafb440be01c733dab49bee2a5138f4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 15:18:21 2010 +1100

    pidl-waf: re-enable the pidl man pages

commit 6dc2b16859df8203485623f2995fdb37d19a5e75
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 10:01:34 2010 +1100

    build: fixed progress display

commit 3d4c99207dc21346e39ea3d6950be91bf0560598
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 08:30:29 2010 +1100

    build: use 'Compiling foo.c' and 'Linking foo' like old build system
    
    When -p is not used, display compilation messages similarly to the old
    build system, but with a progress indicator

commit c6e73cb3b601dbbe737a7692e53c6fb9c72dff7b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 07:07:18 2010 +1100

    build: move waf into buildtools/bin

commit a2b4d7e8ebf24bc65cceb38bf23d8d8dc3307d27
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 00:08:38 2010 +1100

    s4-waf: ensure we don't end up with mixed versions of talloc/tdb/tevent

commit 71322481643878151553dee80fa2ab3de3f9e34f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 23:02:16 2010 +1100

    s4-waf: get the sense of the tests for the HAVE_INET_* replacements right

commit 5d84194644c25055bd2535e336995492f6b68228
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 22:24:15 2010 +1100

    s4-waf: heimdal wants to look for dd_fd in DIR

commit b7ff06b904f8983d49d4a37c1e86a342e55790f6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 22:01:04 2010 +1100

    build: tidy up the wafsamba rules a bit
    
    use python string conventions for function comments

commit d8b91f112011128eeaee2e5b3e2c3ac98e8fa708
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 21:33:48 2010 +1100

    s4-waf: sys_lease depends on talloc

commit 3cc01226ec7228ebb890c22baa2f6618ef371055
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 21:06:26 2010 +1100

    s4-waf: more places missing libreplace

commit 88b6b86c59c6ecd78fe677ee97e4baad2291285d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 21:00:51 2010 +1100

    s4-waf: added auto-detection of perl manpage extensions
    
    some systems produce pidl.1p, others pidl.1. We need to know which one
    to use.

commit 67a59c33fcff5ed63aacf0c2d05aee628dfadfe6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 19:40:05 2010 +1100

    s4-waf: fixed dirfd() detection for heimdal

commit 1aca0f79b68943791933eb96b4db97447a3c1be9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 25 03:10:14 2010 +1100

    s4-waf: added libreplace dep for the conditional heimdal modules

commit 06e10a290474473e00c0e39a8dbb85d36005c2ff
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 19:30:13 2010 +1100

    build: work around missing defaults from gnu_dirs.py

commit 20146b3fe03f08c72db313973b75019e13198534
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 18:33:25 2010 +1100

    build: fixed popt subsystem on systems without popt

commit 32ac04c0286edc5e3afe6f5cef18ccbbc79af4fd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 18:29:46 2010 +1100

    s4-waf: merge in the latest changes from master
    
    The heimdal changes mean the asn1 compiler produces a 2nd header file

commit ca882d8c1f514da812dd424ca8afafbc2c2d152a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 17:53:04 2010 +1100

    waf-pidl: don't need this debug ls any more

commit f72145c416e01b2f22e11b66770048ffc8894822
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 17:46:59 2010 +1100

    s4-waf: change bundled extension to 'samba4'
    
    This matches what debian currently uses for libldb-samba4

commit b0fb567f04240db3e523b5f285f5fe08e01a2a5a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 17:46:25 2010 +1100

    s4-waf: more dependencies on talloc
    
    these are needed so we can support a system talloc without using the
    bundled talloc.h

commit ab1b0965380e927faa39ce4bf7f7de14e2d29afc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 17:24:05 2010 +1100

    build: auto-detect platforms which don't support shared libs

commit 28a734829485f74ecff7fa922059c716893bbdc8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 17:11:06 2010 +1100

    build: only add -fPIC if it is supported

commit 208d92a259398af1afc0b99dbfdc58171a1b671d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 17:08:13 2010 +1100

    s4-waf: cleaned up tevent dependency

commit b9aa63887c005971b1b812893d6c1bbc50ea21b2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 17:05:30 2010 +1100

    s4-waf: cleanup use of LIBPOPT vs popt dependency

commit bfbf43cc36ab360b34b49d7e07c2f594e2b7e7c9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 16:38:27 2010 +1100

    s4-waf: support the use of system libraries
    
    distros can set --bundled-libraries=NONE to force use of all system
    libraries. If the right version isn't found then configure will fail.
    
    Users may choose which libraries to use from the system, and which to
    use bundled libs. The default is to try system libs, and use them if
    their version matches the one in the source tree.

commit 505e902436b2a31a7b828fdeddf599339d0229e5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 15:51:57 2010 +1100

    s4-waf: we need a recent version of perls MakeMaker module

commit 01682f797f755fdd6de5b6096275da7488f0f294
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 15:43:26 2010 +1100

    s4-waf: fixed some deps now we don't auto-include tevent and replace
    
    this is preparation for being able to use system versions of these
    libraries

commit c2d17cf978cb2d5275b2915fb0a87daa79acc28b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 15:42:28 2010 +1100

    s4-waf: set default for bundled libraries

commit 3b380ea7ac9f33f208a9479d34bd514f8e3d5bf4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 15:41:49 2010 +1100

    build: better control over bundled library extensions

commit 28a05bc1b0ff7e090753c9d8e248f00136fb491a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 15:39:16 2010 +1100

    build: better waf test script

commit 29b1e8b70f3966c538929f4556c4a3b7ebb4a38d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 14:16:12 2010 +1100

    s4-waf: don't auto-include bundled library headers
    
    If we are going to use the system versions of these libraries then
    we should not force the use of the non-system headers

commit 42c9380760de4e0ad3f69810b8d623b3a77cc692
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 14:10:15 2010 +1100

    s4-waf: set the bundled library extension for some libs

commit f6a7d5b90762fee39ae117dc2bf926eac0dbab8a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 14:09:36 2010 +1100

    build: added support for controlling library types
    
    added:
     --bundled-library-extension   : control library extension for bundled libraries
     --builtin-libraries           : force a list of libraries to be builtin (non-shared)

commit 00825ecf34c94da50892a071547f0051f1668efe
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 13:01:36 2010 +1100

    ldb-waf: rename libldb.so to libldb-s4.so if built as part of s4
    
    Also include the ldap backend if not built as part of s4. In s4, we
    use the ldapi backend.

commit 80b60df439820a054c03d67ccccb8e0c674a36c0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 12:45:46 2010 +1100

    build: add an ls -lR blib/ to the pidl build to help debug things in the build farm

commit 92de30dcabcb0327785bffca59ad3813339c7670
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 10:00:53 2010 +1100

    build: fixed build group for the PIDL tables generation

commit f9eae32f4b4284e3820f61f3d40c46a41be97227
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 09:48:49 2010 +1100

    s4-waf: mark the wscript files as python so vim/emacs knows how to highlight them

commit c64ce3cd03695b5c0659c4c2818de2cd3953f910
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 28 09:45:06 2010 +1100

    build: mark python rules as being part of the "main" group

commit cf77a1025c2158173414e3d2408b0a20fbeb65be
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 21:29:42 2010 +1100

    s4-waf: ensure all the ldb.pc.in vars are set

commit 9875be5511f0cb930fc02754d9c80be873f728c7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 21:29:18 2010 +1100

    build: throw an error on all bad variable substitutions

commit 1ee19592f01ac63f3374160abe56fd60bbf75413
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 21:28:59 2010 +1100

    s4-waf: move the gnu dirs check to the generic wafsamba code

commit 91d604add3691e05c0ac1e96d3e2ab223e0b28d5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 20:00:01 2010 +1100

    build: substitute @VAR@ variables in pkgconfig .pc.in files

commit 5b572f1bd8505b0e2d1758d868ae0dec80c5719d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 19:12:10 2010 +1100

    build: fixed the python path in installed python scripts

commit dadc24fb0f3c8abe29113fa3576533f2e7902f16
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 18:25:40 2010 +1100

    s4-waf: install dcerpc_atsvc.pc

commit 7c8b20037e5cac0644a657580fcb786be2666b2c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 18:25:20 2010 +1100

    build: fixed destination name for pc_files

commit ad0a99f62c517e0ebabe928d1b2a99bb1d1ba001
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 18:14:50 2010 +1100

    s4-waf: enable the configuration and options for pidl

commit bd44f14d8f920a89b43ac84417365191a93d4aaf
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 18:14:33 2010 +1100

    s4-waf: enable the pc_files in the build rules

commit 1750bd4b363fecc9695ed20e707e786cae7e60c4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 18:14:06 2010 +1100

    build: added support for pc_files= for pkgconfig files

commit 052a0e0a02224db6ebacabbc1324dcf903b00c39
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 18:13:44 2010 +1100

    s4-waf: only build the pidl manpages if we have MakeMaker.pm

commit f1284d657fe53b40fcb7b88d26146143d3b2fce5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 16:48:03 2010 +1100

    s4-waf: build and install the PIDL manpages

commit 5c6e8371b28cd768ee731832fc5194ff31e1418e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 16:47:43 2010 +1100

    build: a hack to get perl to put its generated blib files in the build directory
    
    perl wants to put generated files in the source directory, whereas waf wants
    them in the build directory. Use a symlink to trick perl into putting them
    in the right place

commit 723e9b87ceb2676ce7501b7a59d8bf79de8e6f3d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 16:46:33 2010 +1100

    build: only depend on the actual pidl source files in the pidl rule
    
    We don't need to depend on the wscript files, or any backup editor
    files.

commit ecb775de2ee4c6e1821f67a1c8a3eac4191f9c8b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 15:24:00 2010 +1100

    s4-waf: install PIDL modules

commit bd7bf0e1a91b6e6c78a52a458d3959ef84f4d3e3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 15:12:56 2010 +1100

    s4-waf: install the rest of our python files

commit 85a11c4fb7ee39294298657f0e88c23e9a37da98
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 15:12:40 2010 +1100

    build: support wildcard excludes in INSTALL_WILDCARD()

commit 307ac977a269d1ef2a2baca6be5360d8582efc76
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 14:50:43 2010 +1100

    build: install build python modules correctly

commit 4d8d759e92506de4dcccce7d51ac83ef638153ec
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 14:00:56 2010 +1100

    s4-waf: install pidl

commit aa5e08eb83fd7b130a98850e103654d8c0b2f96f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 13:56:05 2010 +1100

    s4-waf: install the rest of the headers

commit 97ce609393ff72c4477ed3ae199cf87c04791634
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 13:55:38 2010 +1100

    build: support wildcard mappings for header_path
    
    this allows a public_headers attribute to put different headers in
    different install directories

commit ba0c7edf803d521a5c03d27132dded0c3159f332
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 12:44:36 2010 +1100

    s4-waf: set CONFIG_H variable for selftest

commit fe3cd6fb2838d34f259f3fe49daf95a5d0f464f2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 12:29:44 2010 +1100

    s4-waf: test/simple.c is not needed any more

commit a2a4fee8c6e98595c918abfcc7e6bd175fd79d68
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 11:04:19 2010 +1100

    s4-waf: forgot these files

commit 03998d097079397c6a58a9317964a30e9c2c5b26
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 09:46:50 2010 +1100

    s4-waf: started adding auto-install of include files

commit 11ca0c7b9d49d7f6723119758262230fe4f568f2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 09:46:27 2010 +1100

    build: fixed EXPAND_VARIABLES() for env expansion

commit cfeaed22c5974fc9fd0349a28283a5ca94238dfe
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 09:46:07 2010 +1100

    build: these chdir() calls break waf on HPUX. They are not needed

commit a247ce8ef96cc4a2990e71a6dd06f1bf48b13feb
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 01:42:37 2010 -0600

    s3-waf: added options for static/shared module building
    
    Pair-Programmed-With: Kai Blin <kai@samba.org>

commit ab343e037d0931d3b24263e2db290b26fd88cd12
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 01:05:54 2010 -0600

    s3-waf: build version.h

commit 0b47bda8166f42381abf7d29e3d5863515f93289
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 01:05:37 2010 -0600

    s3-waf: charsets needs to be quoted as strings in config.h
    
    Pair-Programmed-With: Kai Blin <kai@samba.org>

commit 2201d3d232f1a6e5e4054469f0897b70becf3ab6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 01:05:13 2010 -0600

    build: added quote option to conf.DEFINE()
    
    Pair-Programmed-With: Kai Blin <kai@samba.org>

commit 6b3a72dd45a1d8ff2aa087764a361a5370f84672
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 00:55:25 2010 -0600

    s3-waf: fixed tests for charsets
    
    Pair-Programmed-With: Kai

commit 8b14d217c4a6912f85889f146cc3281ac4c7a0dc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 17:17:38 2010 +1100

    s4-waf: fdatasync is in librt on solaris8

commit 03bf6c9d3b9e7ba5a26c307aae10f48a5c2d8865
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 17:17:21 2010 +1100

    s4-waf: added rap/rpc.c

commit cb9dbc055fb2ea44e0af2efc7e2be6962b0ba449
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 16:45:23 2010 +1100

    libreplace: add a replacement for strerror_r (needed on solaris8)

commit 63f20e696e07c1d81f3b449505e6a0190dbcebc7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 16:18:18 2010 +1100

    s4-waf: look for libiconv before checking libc
    
    This is needed for solaris8

commit eb4efc9eca9f0a1773fc974798e461415aa2076b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 16:09:36 2010 +1100

    s4-waf: added checks for all the different statvfs varients

commit b05852171ba355bc87a4f903484ee9ee0c0942f6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 14:32:22 2010 +1100

    s4-waf: another place where broken ln -f on solaris8 matters

commit 42bad41cedfc717cfb6c80744bef6b1570ae502b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 14:29:45 2010 +1100

    s4-waf: cope with systems with zlib versions that are too old

commit 9ddd9de59b94580ca1bf141e85e26d92ede2d701
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 13:25:10 2010 +1100

    build: fixed copy_script typo

commit 6d268e4a826de46d3397741cd81cb2790d378587
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 13:20:05 2010 +1100

    build: improved exception handling for systems without rpath

commit eb776a80b59ca20b58b9b4c832b70914263d278c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 13:12:50 2010 +1100

    build: much better rpath test function
    
    This creates a full shared lib, and a binary that uses it. Then it
    tests that the binary runs correctly, relying on rpath
    
    Thanks to Thomas for the code for this!

commit 5e94bca62e646fb4cc84a375f0c741dab4916abe
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 13:02:39 2010 +1100

    build: a better way of calculating syslib dependencies

commit ecafbd3ec8b03f773d04a5e7b305a91aa08e18a5
Author: Kai Blin <kai@samba.org>
Date:   Thu Mar 25 06:58:35 2010 -0600

    s3-waf: check for default charsets

commit 6663f7825606d40077dede0ad5ee0df8ab19c708
Author: Kai Blin <kai@samba.org>
Date:   Thu Mar 25 06:53:10 2010 -0600

    build: Import conf decorator in samba_conftests.py

commit 2cac0c27cf5b8606fce53ca02fe0d47504e57514
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 16:56:57 2010 -0600

    build: started a library of common config tests for s3/s4
    
    Pair-Programmed-With: Kai Blin <kai@samba.org>

commit 8f5551c4b3bc56a64f4c8f260821114b23fad693
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 16:25:29 2010 -0600

    s3-waf: use new variable expansion feature

commit 239cdb53f4e994c8fd4afe1233e69b93ad632230
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 16:23:10 2010 -0600

    build: support variable expansion in source= arguments to build rules
    
    This makes it much easier to follow the s3 approach to lists of
    source files in the top level wscript
    
    Pair-Programmed-With: Kai Blin <kai@samba.org>

commit b2f01b54d21a464fa7fadb784b58909748f80ab3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 23:42:11 2010 -0600

    s3-waf: modulesdir is in the base set of options now

commit 6e54655f4a0bdaa4be949909a77d60f502cf891d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 25 16:48:46 2010 +1100

    s4-waf: update torture for new ndr/drsblobs.c tests

commit 48fd7802f9788e69ade6d252e1f718be6b77438c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 25 14:32:58 2010 +1100

    s4-waf: replace stdint.h and stdbool.h on systems that don't have them

commit 7bb5be1324bbdc3af51ac21820f2f25e7df2fca9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 25 14:21:22 2010 +1100

    build: solaris8 doesn't honor the -f flag to ln.
    
     It's in the man page, but it doesn't work!

commit 6c3b69be9bdfc29ad0c0fa2c028fad0be193e042
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 25 14:20:45 2010 +1100

    build: honor existing LD_LIBRARY_PATH settings when adding shared lib paths

commit 12e6a920a79c04779cd188e8e88b16625d273c8f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 25 14:20:03 2010 +1100

    build: old versions of perl don't understand the -W option

commit 14fc71fc27d80d76d4e1cdba0f8d2a4eace2dd0c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 25 12:35:18 2010 +1100

    build: we need to replace md5 in Task as well

commit 2454baf83b82fa60bca173eb701aae56f3b65a89
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 25 12:26:50 2010 +1100

    build: need to set h_file on Utils

commit 81f5efba9182b6907bcb54a3d6ecc4fb19656306
Author: Thomas Nagy <tnagy1024@gmail.com>
Date:   Thu Mar 25 12:18:16 2010 +1100

    build: replace h_file when replacing md5
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 1588a8d7a9c7aba8f7e34e6bfcaff8f094ff12da
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 22:50:17 2010 +1100

    build: attempt to fix md5 problem on solaris8

commit 026690af0076d84947ea60a3a20d0bba972e67db
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 22:29:12 2010 +1100

    s4-waf: remove the need for some of the lib aliases

commit eba9a54927dc363602389adac5c6edf09909fb65
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 22:10:24 2010 +1100

    build: a few more build rules that should have on_results=True

commit 742cb4547ae1798ca77cdb3d0ab6483ab5dac531
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 09:29:20 2010 +1100

    build: fixed case of system library deps

commit 988bc0cdc2604b9d309af9895f3716e4bca59d47
Author: Stefan Metzmacher <metze@sernet.private>
Date:   Wed Mar 24 10:54:31 2010 +0100

    build: make use on_results=True for some build rules
    
    This makes sure we generate a checksum over the result.
    In practice it means we no longer recompile when a proto header
    is triggers a rebuild if it hasn't changed its md5sum.
    
    metze

commit 17f4485722d507f04e95c358d22570c499d14c62
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 17:01:31 2010 +1100

    s4-waf: disable_gnutls is gone

commit 65ffd1240df9edfbcfe62cf87a1e29c4a4bb9ec1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 16:45:08 2010 +1100

    s4-waf: don't hardcode python path

commit e35864afdc298f9ca3d545c05c6c314c87fb8ff7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 16:37:41 2010 +1100

    build: cope with systems that don't have md5 in python

commit a6ce1c3dce8c189c6454194e61f52a611c79d83d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 16:25:37 2010 +1100

    build: need to mark disabled libraries as DISABLED

commit 9df6c861233c422b4d24fd017773745781e8815a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 16:21:28 2010 +1100

    build: honor both --enable-gnutls and --disable-gnutls
    
    This shows how we can do the dual-boolean rules we use so much with
    autoconf

commit 6ef817dd7c90c20a0fb2e0e9a69e20dcd03ae459
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 07:44:48 2010 +1100

    build: fixed the cflags for pkg_config libs

commit 7848344d55116e33b7f5a4bacce29eaab3fa99c9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 12:56:30 2010 +1100

    build: split out the base waf rules into buildtools/wafsamba/wscript
    
    this stops lib/replace becoming a mess

commit 3d5dda63e33283ac2762782fc921d469f2b3cda0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 12:09:30 2010 +1100

    build: use gzip for waf packing, to try to make it work on irix

commit b4d34f849e0b48a80e400015160e48f7f4aa2fa0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 18:28:03 2010 -0600

    s3-waf: the start of the main build for s3

commit e19196110cc9d29c3fb330737507adc364f3bd9a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 18:27:31 2010 -0600

    s3-waf: more configure tests and minor fixes

commit e642c5a155a9077f1e63688d7877e1f930bb2f63
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 18:26:49 2010 -0600

    s3-waf: added build subdir for dynconfig generation

commit 8de258c81bcf0e2067f05c8cff1b48771dbde1f2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 18:25:50 2010 -0600

    build: use shell=True for SAMBA_GENERATOR
    
    This allows for shell redirection in rules

commit 1fb1af92b3a14e965d7b1ec3680d08ae5abae290
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 18:23:41 2010 -0600

    build: added msg argument to CHECK_TYPE()

commit 8f33da10da74a99dd3b4bb6f9dc922534b0e7fd4
Author: Kai Blin <kai@samba.org>
Date:   Tue Mar 23 21:58:44 2010 +0100

    build: Change checks to conform to new CHECK_* behaviour

commit 38f8b86c7756893a32d24eee101d272b35209f78
Author: Kai Blin <kai@samba.org>
Date:   Mon Mar 22 22:58:43 2010 +0100

    build: Check if the compiler will optimize out functions

commit f7569922d929efde85324f2a50ff7c45f92fe3c9
Author: Kai Blin <kai@samba.org>
Date:   Mon Mar 22 08:59:02 2010 +0100

    build: check for int types included from rpc/rpc.h

commit 3bc6cf80972780e492f6f212a9591ba12b5f6f43
Author: Kai Blin <kai@samba.org>
Date:   Mon Mar 22 08:48:09 2010 +0100

    build: Check for POSIX capabilities

commit 22d9f3d7c5c01c2d8450352f622e7a498aa2bc46
Author: Kai Blin <kai@samba.org>
Date:   Sun Mar 21 23:43:28 2010 +0100

    build: Check for various members of struct stat

commit ea767433945b8a2315a4f89c1a2389c918da08a6
Author: Kai Blin <kai@samba.org>
Date:   Sun Mar 21 23:02:14 2010 +0100

    build: Fix package name and package string case

commit 998a9da86792b5d3378e0fa2b86b6bd18e142742
Author: Kai Blin <kai@samba.org>
Date:   Tue Mar 23 09:02:59 2010 +0100

    build: Check for functions needed by Samba3

commit c37f6e649d6e5f8d60e9e5adbbe66455e49f64d5
Author: Kai Blin <kai@samba.org>
Date:   Sun Mar 21 22:49:25 2010 +0100

    build: Check for kernel share modes

commit 565191e39f23f6203412ecee728d15666906ca48
Author: Kai Blin <kai@samba.org>
Date:   Sun Mar 21 13:01:00 2010 +0100

    build: Check for IRIX kernel oplock types

commit 23ba9ad6e20f751e7d68f24f8d2dca7cb1c7e335
Author: Kai Blin <kai@samba.org>
Date:   Sun Mar 21 12:53:44 2010 +0100

    build: Check for Linux kernel oplocks

commit 207869dbf44f23fd3b1576e248851b88d333a6fa
Author: Kai Blin <kai@samba.org>
Date:   Sun Mar 21 12:44:31 2010 +0100

    build: Check for kernel change notify support

commit 048b821b29566613a0e494eb2712abcf7f62bd6e
Author: Kai Blin <kai@samba.org>
Date:   Sun Mar 21 12:20:52 2010 +0100

    build: check for inotify support

commit fcab2b33053980f19aec0adc7db8934a614b89cc
Author: Kai Blin <kai@samba.org>
Date:   Sun Mar 21 12:20:13 2010 +0100

    build: check for inttypes.h

commit 208bb86aaedfa81441951249726862ff0ef6820d
Author: Kai Blin <kai@samba.org>
Date:   Sun Mar 21 12:13:41 2010 +0100

    build: check for headers needed to generate stack traces

commit da3902745ed9b96b7ac3327ea31d8e111554924d
Author: Kai Blin <kai@samba.org>
Date:   Sun Mar 21 12:12:54 2010 +0100

    build: check size of dev_t, ino_t and time_t

commit 0e2afc2c533cbf5ca258eea82650da627ab78730
Author: Kai Blin <kai@samba.org>
Date:   Sun Mar 21 12:12:27 2010 +0100

    build: check for uint_t

commit 2a869b4abd718b70135586521136b39ff2721cc7
Author: Kai Blin <kai@samba.org>
Date:   Sun Mar 21 12:11:51 2010 +0100

    build: Check for syscall headers

commit 33ef088f3de34b2da8dde9572cd7a4e1fd2f9914
Author: Kai Blin <kai@samba.org>
Date:   Sat Mar 20 17:53:08 2010 +0100

    build: Check for krb5 headers

commit ac9d39d1081a31542d832c547901b453ec58ded4
Author: Kai Blin <kai@samba.org>
Date:   Sat Mar 20 17:51:22 2010 +0100

    build: Check for LDAP libraries

commit 59074dcfb1b07d487f01c63d1e06408605332884
Author: Kai Blin <kai@samba.org>
Date:   Sat Mar 20 16:51:15 2010 +0100

    build: Check for CUPS

commit 41e8e54406bfadbbb2419b904d52f8bfe9ff40fa
Author: Kai Blin <kai@samba.org>
Date:   Sat Mar 20 16:37:03 2010 +0100

    build: Add a basic wscript file for Samba3

commit 0632fac52ea1ab36c42a479bb43893929493b7a9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 04:48:32 2010 +1100

    build: add cflags from pkg_config results to header/function tests
    
    When we find a package with pkg_config we may need to use the
    resulting ccflags and ldflags in later tests.
    
    Support this by adding lib= options to CHECK_FUNC and CHECK_HEADER
    
    This gets gnutls on FreeBSD working

commit 3b87d36c2bc598f32eec2d7b50f9118d7e3d063c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 13:52:23 2010 -0400

    build: test all the developer cflags before adding them

commit 9c0c4a5011e58c3a3195f995e05efba1248ad422
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 10:57:22 2010 -0400

    build: setnttoken depends on libreplace

commit 04fed1f2b6c8a6ba257a436b80ef19d4ec3db1c7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 10:46:27 2010 -0400

    build: sys_lease_linux needs to be conditionally enabled

commit 282de50be79718df79f338ed2c4788a0536fd015
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 10:36:45 2010 -0400

    build: add additional libreplace conditional sources

commit 3e84e10daf7282c61b6a557a8e97af84d8ab3e15
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 10:00:48 2010 -0400

    build: finer grained rpath checking for binary/install

commit 9730166fd6111160dc7925785317208f94fc677c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 09:32:23 2010 -0400

    build: configure fixes for opensolaris

commit 014c8736e5d369dbeb5177d1f14d6d0328f4129f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 12:20:11 2010 +1100

    build: socklen_t is in sys/socket.h

commit e2a9af0be4c8f17e42eb5606f2e204657cf807f5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 09:51:09 2010 +1100

    build: added --with-selftest-prefix

commit 8e7922e10c0e3c7500477bd9ab2d7c28fcc81d51
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 09:34:44 2010 +1100

    build: fixed headers for C prototype check

commit 00649a9c6266f959dbc7d857180e43f2b1363844
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 09:29:51 2010 +1100

    build: updated configure checks or new syntax

commit f95ca1afc984ecf295b9181b2f699a72afcb4772
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 09:29:19 2010 +1100

    build: rewrote the autoconf-like macros to be more consistent
    
    This also brings them much closer to the behaviour of autoconf

commit 98d16cbec065bc085eabd2f80f9515d5a1b8fdc9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 22 18:50:29 2010 +1100

    build: fixed prototype test

commit f429e621d98a7f5275c01556993d0abbbe3e8dc7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 22 18:38:54 2010 +1100

    build: added checks for solaris getXXent_r() functions

commit 570847054cb0d9b257d794b8f4dce38ddc5fe679
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 22 18:38:38 2010 +1100

    build: added CHECK_C_PROTOTYPE() configure function

commit cc2284cca12e7b8a1153b4d1f46484f4c79ba5c3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 22 17:39:00 2010 +1100

    build: python 2.4 doesn't support multiple union arguments for sets

commit 9930493cc33b8c5369fd937ff2c40db068975726
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 22 17:35:14 2010 +1100

    build: sun c compiler wants a newline

commit a973c5f2806d8ccf47871c5f325be50d2537951d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 22 17:31:27 2010 +1100

    build: expand indirect syslibs after loop unrolling
    
    otherwide python libs in the disable-shared build don't get all the
    needed syslibs

commit c5d0208aa90d530270ce4a14d5bcc130ba6ab8e2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 22 16:57:44 2010 +1100

    build: fixed handling of full dependencies for --disable-shared
    
    the subsystem dependency loops get quite complex when shared libs are
    disabled

commit b18f85041e65c7ebf47d6cd5b51e90a5f06129b4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 22 16:57:05 2010 +1100

    build: don't use double binaries/libs if not needed
    
    when rpath is disabled on both install and build we don't need the
    double binaries

commit 0dc64c745891725a6a5bf1b71749c9dceacdd519
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 22 16:37:47 2010 +1100

    build: mark wafsamba as unbuffered, so stdout and stderr are better in sync

commit 0bb6c60e3177d9167c45b828187ce6658aea2144
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 22 13:15:29 2010 +1100

    build: added etags and ctags make targets

commit 2239a52fecc5e630e61d72b3b13e18bad9c582e0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 22 13:01:58 2010 +1100

    build: check if a simple C program runs
    
    This will be helpful for working out why AIX is failing

commit 8bc95608223033428cc1fae7525f07e22ab7d8ef
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 22 07:48:10 2010 +1100

    build: more complete implementation of waf configure -C
    
    this is a closer emulation of the autoconf behaviour

commit 35aaf0e7723142d25b19a33c1701961a8e142ede
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 21 13:51:33 2010 +1100

    build: rkpty should not directly include socket_wrapper.c

commit a538ed1c826b67dafc1e8f1492180f9a17e843dc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 21 13:50:43 2010 +1100

    build: fixed build of heimdal/lib/roken/err.h

commit 9e0d0fa25066f658b7ca49e324919738c695917e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 21 11:17:37 2010 +1100

    build: enable real cacheing with waf configure -C

commit e8775226ad2e40b96d8d5aae6c31c5845c562f20
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 21 11:04:57 2010 +1100

    build: added --disable-shared option

commit 69c065c719c208c5ef0fd8cb5df55621dc77a3e1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 21 11:04:26 2010 +1100

    build: optimise and re-enable check_duplicate_sources

commit 064f26ea0734ad27d21d71602c2f94bc2815004c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 21 10:21:16 2010 +1100

    build: commented the missing subsystems

commit 2974f8d947c5e9348c243425b58e4249eaf74926
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 21 10:21:01 2010 +1100

    build: fixed libcli/ndr_netlogon.c dependency rules

commit b282660d3981540c8c9b588c25fcd8537a567988
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 21 09:50:14 2010 -0400

    build: fixed issue with CC="ccache cc" on solaris

commit dc9010572c1d32a4e1c82afbee2a359c429cc9aa
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 23:41:15 2010 +1100

    build: support systems without rpath

commit 9a2ea72d2d1affa853a70131301de96f258178a8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 23:41:00 2010 +1100

    build: removed testing cflags

commit 584986e392a799075d79277fc37ea5e0573b9c0c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 22:55:04 2010 +1100

    build: cope with subsystems with no enabled modules
    
    This happens for the notify subsystem on non-Linux systems

commit 88db935f56fc0bfdbcda8eadc74ff95ae9538158
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 22:41:48 2010 +1100

    build: 'makefile' (lowercase) is now a generated file

commit 6858e73e409c29bbfa694bc0ec5035290b4f7c54
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 22:14:24 2010 -0400

    build: tevent_epoll.c is conditional on HAVE_EPOLL

commit ea8d112683504030c782b5f7e41104bdb33f66a1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 22:13:53 2010 -0400

    build: fixed ifaddrs.h for heimdal (from template)

commit 19ed4c709526ef59d3f59f736c224bd16bfcfb3d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 19:41:41 2010 +1100

    build: if a library is found, but not the fn, still define the library

commit 8253fe0c727cdeb2b268be50be6dd6fb2729b313
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 19:38:35 2010 +1100

    build: don't use gcc warnings during configure

commit 54941c86e792820f047f47abfb41db2fe1d0d68b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 19:38:18 2010 +1100

    build: fixed gnutls check

commit db8115f687a5d51a7e487db5db9687c5aad1f4b3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 19:26:32 2010 +1100

    build: fixed check for pthread_create()

commit f2f8fc440e24cf92213b33f1f913ec9beda8d46e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 18:36:33 2010 +1100

    build: more careful library list handling

commit d148461101f4709d8e1a8b9eb64535e0bd15d874
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 17:54:05 2010 +1100

    build: CONFIG_SET() takes conf argument

commit 3207f81787f33da3e25ba8d62ecb923f7aef9861
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 17:51:55 2010 +1100

    build: more functions that are in -lsocket -lnsl on some systems

commit 508cb5b97ec843aff26d60915578b2eb6cc155fc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 17:51:39 2010 +1100

    build: cope with double check for functions

commit 055c4898e73f91cf196b03346323d1837ffd8251
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 17:32:04 2010 -0400

    build: compile_et needs lib/com_err includes

commit 0597c715b6369a1ee46d896aab67f55b98a19e71
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 17:37:43 2010 +1100

    build: libreplace now depends on nsl and socket
    
    these become empty targets if not needed

commit ec3fbe5fb18cc03ca94f6b3019bcac489dc53726
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 17:35:05 2010 +1100

    build: inet_n*() are normally in libc

commit 1130f8f8d778da2da42d19392aafea520a2e189c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 17:27:23 2010 +1100

    build: lib needs to take a list when more than 1

commit 593c28b717b081bdd6e19ebdb086da88834a7385
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 17:21:26 2010 +1100

    build: ensure all libs in CHECK_FUNCS_IN() get a target type

commit 7628cb7da1d2b1f5bcdacecfd27866aad8b199a2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 17:17:56 2010 +1100

    build: cope with multiple libs in CHECK_FUNCS_IN()

commit 0bad3dacb02411f46921af23faccd66f4196268f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 17:10:51 2010 +1100

    build: cope with multiple checks for the same function/library

commit 702615dadc34897ee5876a67ed7f4acee375f30e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 17:05:04 2010 +1100

    build: don't look for gettext twice

commit 76761c5c8edfeaea53ae57a00b08163425481cda
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 16:59:53 2010 +1100

    build: these cause problems incrementally too

commit bb5659fbfb3b7491266ba7e6b7dfdc7d9f887736
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 16:58:18 2010 +1100

    build: more non-incremental headers

commit a8130e8e1fb12e4ad321c566f125d9a32ec2317a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 16:55:40 2010 +1100

    build: don't add curses.h to incremental confdefs.h

commit 81d155af96104ce6b84d0e51f0fd052329551dc3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 16:49:02 2010 +1100

    build: check libc first for several libraries

commit 8005100b2e06bab32db6aeb0572eac9faac2ab7b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 16:34:58 2010 -0400

    build: fixed REPLACE_GETPASS

commit bfc17535144b9f1800d7a35a60473e08ad4093bc
Author: Kai Blin <kai@samba.org>
Date:   Fri Mar 19 23:32:37 2010 +0100

    build: Check for various headers S3 needs.

commit 7c20de97a0e0be442a70b4af0a7704763b39dbe4
Author: Kai Blin <kai@samba.org>
Date:   Fri Mar 19 12:13:58 2010 +0100

    build: rename s4 compare_config_h.sh helper and add a s3 version of it

commit 4b68550642098f42b8fb3d7b08b6d6f475bb3d34
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 16:00:52 2010 -0400

    build: also need to put stripped CC in conf.env

commit 86cfbbafcdc42acd1d37fb152ab123453bd985fa
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 22:33:43 2010 +1100

    build: gccdeps fixes from ita

commit a602a98b495d8b20cf1a1456cf53710ab55d408c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 21:15:06 2010 +1100

    build: added WORDS_BIGENDIAN test

commit 54772758a8992f5907f7e2372edfba6f1e9bc2f7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 20:56:15 2010 +1100

    build: don't assume bash in configure.waf

commit 75c2c870c1b5a7890001194da44489366f6e950d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 20:30:14 2010 +1100

    build: spelling fix, and syntax highlighting fix

commit 344621cb0ff37167cb616bd6df0471318951f584
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 20:26:25 2010 +1100

    build: conditionally enable inotify

commit 5aacacea678b104b9ead9e4ea642c583791282b7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 20:06:33 2010 +1100

    build: check for pam headers

commit 8ea03369bcd8ebb351e280222184f6d583640f46
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 20:06:22 2010 +1100

    build: tool to find missing install components

commit 5025ca10c6845af888a80a57a012c19fde6482ae
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 19:56:08 2010 +1100

    build: added --enable-gccdeps option
    
    off by default, for maximum portability

commit 6f15ea31c2a484273303d0d451eabeeaad71809e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 19:51:26 2010 +1100

    build: install samba in sbin

commit bcc1ce2617f67f568ec2535ab447b14550f4e3cd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 19:51:13 2010 +1100

    build: don't install the heimdal compilers

commit 6ef00262efd7e42b5ca5ca9ebe20af4863e7611b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 19:50:57 2010 +1100

    build: don't install talloc_testsuite and ldbtest

commit 3254003956d069df3860cba3f58d11f1055e06b0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 19:50:21 2010 +1100

    build: fixed includes paths for CHECK_CODE()

commit 19b6e8b4082e4c4d77eb2515f9f9d8caf20922ae
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 19:49:59 2010 +1100

    build: use SUBST_VARS_RECURSIVE() for install_path

commit 3335ff742493c44ec3bed96778441cc9561044f0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 19:49:42 2010 +1100

    build: added SUBST_VARS_RECURSIVE()

commit 550b985235351f792327d30a34ac9608e397100e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 19:49:19 2010 +1100

    build: updated waf-svn (lower preproc recursion limit)

commit 9a243a791b2ebc2ca31ec109fd097e43463b30e7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 18:07:39 2010 +1100

    build: rename samba_includes.py to samba_optimisation.py

commit 8caac7a1a32c69474dd8b74d1ab8181c8f6c74f0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 18:03:17 2010 +1100

    build: more optimisations from Thomas

commit 5e73038ba3fce75d7d4e9b15c3a4dd189bb816f2
Author: Kai Blin <kai@samba.org>
Date:   Fri Mar 19 10:10:36 2010 +0100

    build: Add a ctags command to build a ctags-style tags file

commit 752533f86541214b855c123215f4c40a5bcae761
Author: Kai Blin <kai@samba.org>
Date:   Fri Mar 19 09:17:15 2010 +0100

    build: Enable more warnings when using the --pedantic configuration option

commit 24cfa2957a8ab5f89f4e12207d378548dfbe1351
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 17:54:58 2010 +1100

    build: install codepage files

commit c1dd88216244458e459c365cbe11dbb6532b3f86
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 16:48:01 2010 +1100

    build: don't default to WAFCACHE in configure

commit 8ba2a345b494ea25bdf5b8f61eae21714f025cb6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 14:38:37 2010 +1100

    build: fixed git version in samba -V

commit 3ff3a11c33a8a3d9fbacf76fcf59c8c4d929e4a5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 14:25:50 2010 +1100

    build: use RUN_COMMAND() to wrap os.system()

commit 6e550ac4c7f2c2a2a14ed0816e439824e8c898aa
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 10:58:58 2010 +1100

    build: trim whitespace from CC options

commit 2a1520ba67c27963e494012c02b73e0a14579347
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 10:49:08 2010 +1100

    build: make bin/sambadeps depend on samba_deps.py modtime

commit 651941abbaafc29bff68d37f2ff343cf05982008
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 10:48:32 2010 +1100

    build: python modules need the libs from broken lib loops too

commit dc68427b0e1691db6a52f9eb5e77c42755eea2b2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 10:37:01 2010 +1100

    build: fixed st_done test completion code

commit be4c0aa59116ca2696f498b46b12e4d79cbd0f2a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 10:25:56 2010 +1100

    build: default to 1 job in make, to be build farm friendly

commit 9799356082958103b51d9f7216a77a31d90d9937
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 09:39:58 2010 +1100

    build: fixed config.h generation when we have source -> source4 symlink

commit dae33b53a545217f432c7b1c650b9a6650a96f9a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 09:10:59 2010 +1100

    build: ensure that the 'build' command appears in waf --help

commit 7eab82fce009fd6b1f16a3bd75d872591d92e8b9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 18 23:48:09 2010 +1100

    build: fixed the install name for python modules

commit e9fd67f4deaa822bec025f8cc2557b825a05f3ef
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 18 23:47:48 2010 +1100

    build: split build and install libraries/binaries
    
    we need to split these to avoid re-compilation on install
    as install has different rpath settings

commit c1f4015dcd7cb6edbde9fafd138c4d36fc061a8d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 18 23:46:44 2010 +1100

    build: cleanup the ASN1 rules a bit

commit fd3bb81568de18bd13fb553d76f987aea904b8bc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 18 23:46:27 2010 +1100

    build: new waf version (fixed python install bug)

commit ecfa3fd6800e3492ffa3984f7b7644bf9d26b2fd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 18 15:11:30 2010 +1100

    build: disable WAFCACHE by default
    
    It doesn't have a size limiting mechanism yet, so don't use it by
    default ot it could cause havoc in the build farm

commit ca4e64847c7623a3eb7f13c4a06b8c4302d18cd8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 18 15:07:10 2010 +1100

    build: compatibility makefile targets

commit e29e2c9d8d57dd73ce55ab23782bd94be1d25c96
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 18 13:18:47 2010 +1100

    build: alias the libiconv target name for subsystems that depend on 'ICONV'

commit 0f30240de16d34077a351314ec440c5066c7fd02
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 18 13:17:43 2010 +1100

    build: added 'waf etags' target

commit fe7d1a18b956503851dcdc5fa455fbb47e8eb028
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 22:19:46 2010 +1100

    build: don't need the S4 in the PIDL prefix

commit b7cc6d48d5664aa83951c31fbdaabfb839f1b420
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 22:17:15 2010 +1100

    build: teach samba_pild.py about the --com-header and --dcom-proxy options

commit 365f29136fa0410ca92f17b4595cd5c51b38697c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 17:52:41 2010 +1100

    build: only enable pytdb on s4 build

commit 87ae97c38181f4228eddb0fb58cd41b25f5342ea
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 17:47:49 2010 +1100

    build: fixed the build of the com.so library

commit 64a528efee86379c4709b8d1ac6c8eff679ca8a1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 17:47:31 2010 +1100

    build: added a cflags_end SAMBA_SUBSYSTEM() option

commit e9ef5cb091e7861295692dbedefc1761c2eccf87
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 17:20:19 2010 +1100

    build: enable com library

commit 2501364eebce96cf3925410fcbe0e3a84d634175
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 17:20:10 2010 +1100

    build: don't remove Makefile

commit 69fb3132335a367b49491a9a54842bf958ae6f85
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 17:20:02 2010 +1100

    build: enable pytdb

commit 10935a33544824207c4e7df946908c857d20c946
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 00:22:54 2010 -0600

    build: optionally enable builtin popt

commit cb0bf90b1045d68315ce9d7c61cb1493bfb71306
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 16:26:12 2010 +1100

    build: don't use -W warning option for developer build

commit 330361aa18201be2bfc414d1cb481a295c07c5a5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 15:56:18 2010 +1100

    build: removed unused file

commit 8d0cb0321a9935f738c2e6a91afff4bb9e9bf3fa
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 15:55:21 2010 +1100

    build: allow configure -C to work again

commit fe9e5d33bb1697bc92348f8e27da8f3d666965e2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 15:39:24 2010 +1100

    build: go into system includes for dependencies on configure

commit cf7f64b4e726ba1511d8625f214f785349211d01
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 15:22:55 2010 +1100

    build: fixed some more missing targets

commit 495c5e2c834536ee933c9991648fcea9f1cad142
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 15:22:36 2010 +1100

    build: added a lot more options to waf test

commit a559edf9067a1ecc0972c88961ed697ec5836490
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 15:22:18 2010 +1100

    build: fixed init function sentinal for python modules

commit e6a47a8dea252c7ced95141f24de68f4d6a21c41
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 12:14:11 2010 +1100

    build: we don't need varients in samba, so we can optimise a bit more
    
    Thanks to ita for suggesting this

commit 32bf9bc84e8b4032f8808f6d50926fee27c587fc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 11:53:46 2010 +1100

    build: remove hacks from top level wscript

commit 7c35b9ca70684cc515e93cd2232ce1338e667fe1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 11:48:44 2010 +1100

    build: an optimisation for includes file handling
    
    This optimisation makes waf include file handling more efficient

commit fb2d78954d1cd73e214589c92de8a05e24ecef14
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 11:46:14 2010 +1100

    build: allow waf to cache include lists more efficiently
    
    Using include paths all based on the topdir is more efficient

commit e6f7a13a17b30d2a266924d8099c77ea47f4d500
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 10:58:07 2010 +1100

    build: try faster includes processing

commit e4104eb085d579893a5bb5e5ae8ee02804dc7cfd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 09:55:41 2010 +1100

    build: more efficient pidl rules from ita
    
    Don't re-scan the pidl source tree each time

commit b09797f30bbceb634935ba8fb86e79b2faa1a7ed
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 09:43:35 2010 +1100

    build: updated waf version

commit 5db5772db12e41da9389863062334fcb27f29259
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 09:05:43 2010 +1100

    build: fixed the build without sasl libraries
    
    We need to only enable the cyrus_sasl module if we have sasl/sasl.h

commit 3c9e8e18aac7ba5e0446a38741a3fe6af8936651
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 08:50:49 2010 +1100

    build: check that the symlink doesn't exist before creating

commit 062c2b1fe6aa08273291c952e8a579b759fda986
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 16 16:41:14 2010 +1100

    build: allow shared and python staging areas to be referenced in build tree

commit a9ea3d6fa510286b83c4bda42c9a857da3625451
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 22:15:46 2010 +1100

    build: cope with the common gen_ndr files being in the git tree

commit 9f47c0e7b721561306e7413a412b9e897a0e5b1e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 16 15:28:56 2010 +1100

    build: updates for current master build

commit e502031171013f659405a80490845ef8f95c3c91
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 15 20:43:31 2010 +1100

    build: fixed samba_deps.py for python 2.4

commit 16fbcb3556607e3fffcefab99cfacea1768a8ead
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 15 19:22:12 2010 +1100

    build: fixed termcap build

commit 5d588cf0a68f8f3a822d9f414bf6c616f9a8b3ce
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 15 18:55:23 2010 +1100

    build: use a plain build, at request of metze :)

commit 7cd9a6be35ca50fb6e85b9507a9e7dc377ed65da
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 15 18:48:59 2010 +1100

    build: fixed cflags in CHECK_CODE

commit 39ac32e54ac2043fb8f567a5f50fb32bf754098d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 15 18:26:58 2010 +1100

    build: default to waf -p

commit e054dcf33fe52429d09a8f607f16b6a591ac36f6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 15 18:23:48 2010 +1100

    build: added test targets for make

commit ec2b11c7fa65cfcff5af7d303fed07359f5750fd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 22:08:31 2010 +1100

    build: fixed group for heimdal autoproto

commit ec2cb473d0271ea22ea87350417b59e90e9f87c0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 15 18:06:31 2010 +1100

    build: added ldb 'skel' module

commit 8a5c01a04925e6dad11260fbccdcc94f3a354a37
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 15 18:03:55 2010 +1100

    build: waf test now depends on build

commit 05bda767c59107d9fa01d8f7f59adad3d19589fd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 15 18:03:43 2010 +1100

    build: need the sample ldb module for our testsuite

commit 5c0f9079c27537a974c6a64a29ac4c864853057e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 15 17:46:09 2010 +1100

    build: waf test now works (at least for some tests)

commit 844acb226086e55de9a2442396a4e002471295e8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 20:12:16 2010 +1100

    build: waf quicktest nearly works
    
    Rewrote wafsamba using a new dependency handling system, and started
    adding the waf test code

commit 845e0cbe6f43e2762796c644035ac6bc2b07cf17
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 22:07:42 2010 +1100

    build: commit all the waf build files in the tree

commit fffa6a5b488058d984d61b0cd1fe1fb550a196b4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 22:07:11 2010 +1100

    build: separate out dependencies and python rules

commit 8f1b809d2ccb083cb84532e98b04a12fb1039e22
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 20 16:27:48 2010 +1100

    build: nearly there on samba4 build

commit 9cb39847c068305d544bcacd6887c57412e16586
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 9 08:17:43 2010 +1100

    build: better target name for lib link

commit c6e095de74b82bfaff689168fc4e1d86a0db56a4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 9 08:17:26 2010 +1100

    build: assert on missing dependency

commit e916aff9e1d44c3599c30b9ea32d03921f6403f4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 21:48:26 2010 +1100

    build: much nicer pidl rules

commit 6bba8cfd9228fdda27efed8ae0a4b9104662aff7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 8 22:54:46 2010 +1100

    build: use export_incdirs

commit d70c4e8ea970bc17fa95291d7cc308cd7dce265d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 8 21:24:16 2010 +1100

    build: fixed heimdal include lists

commit 2498a0d25e889e5d0efd82afbc57c3ac8c8863de
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 8 20:44:11 2010 +1100

    build: saner CFLAGS handling for defines

commit 7c3234c4854f904e41c69b3c25fa3bcdce765cb7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 21:55:11 2010 +1100

    build: enable ENFORCE_GROUP_ORDERING()
    
    also fixed ASN1 target names

commit d01f75c72df6c49c2898f5f26dbffac7a55ac3bd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 8 20:34:33 2010 +1100

    build: back to stricter deps

commit cdf1a3d4bfa0c945b450e67f42e882a67699efd3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 8 20:34:15 2010 +1100

    build: added ENFORCE_GROUP_ORDERING()

commit a7c60e0b67c069d1e6e52207c35605016c3e9861
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 8 00:40:58 2010 +1100

    build: added getpass() tests

commit b2f7e4b5e2bf3da9bf2aca9a0c0ffd5d8408b2e8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 8 00:26:07 2010 +1100

    build: make CONFIG_PATH() understand absolute paths

commit 1726ba92cf70c86a9ca2eb852c3eb6f18eb89591
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 8 00:25:47 2010 +1100

    build: added SUBST_ENV_VAR()

commit 7abe08af9288ee39d66117f292905be6189f96bd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 8 00:25:36 2010 +1100

    build: fixed LDB_MODULESDIR

commit 29f22bb0c0914476d93e63ed77e75b75f2a4cd14
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 8 00:25:22 2010 +1100

    build: emulate autoconf PACKAGE_* variables

commit aaa4c4b083a2cdb1e2656f444ae88893e80c6887
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 8 00:06:53 2010 +1100

    build: added statvfs64 test

commit fdd2f416ebd3f9d6150970ccfb3153e6809ff9de
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 8 00:06:39 2010 +1100

    build: added local_include option to CHECK_CODE()

commit 6a8c43672bc5d33ea7edbe7879a4284cbc6df12f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 23:48:57 2010 +1100

    build: added wrapper options

commit dd2aba149c7176594a311cbc4c42065c3074c696
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 23:41:29 2010 +1100

    build: check for RETSIGTYPE

commit 58049e7f16c59646576a695cdbd5a6e03bf8f106
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 23:31:48 2010 +1100

    build: added IPV6 test

commit 690b08fa0ad27d1fc7b9564c8c216c2ff00f944e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 23:27:50 2010 +1100

    build: fixed _Bool va_copy and VA_ARGS tests

commit 5bf0b5c72fde178643675352a91efaf6afae0690
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 23:23:15 2010 +1100

    build: new waf version - fixes mkstemp problem

commit ec2d90a8bc51e6d6b7b210df42cc8e51c98610a6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 23:17:06 2010 +1100

    build: fixed sockaddr_in6 test

commit 2ea4fd66339017c72578a9b44944e96ab6464e64
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 23:16:48 2010 +1100

    build: iconv checks

commit 12c46d90552e7c51a4c0757cae7ee48b93aeec9d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 23:16:20 2010 +1100

    build: fixed cflags in CHECK_CODE()

commit ae1c2b90226d610e1d4e3c992d8b8ea4515aa846
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 22:59:25 2010 +1100

    build: check for xattr support

commit 1d18c6c7b06ab718c483370dd1cd5bdd3fa8cbda
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 22:54:53 2010 +1100

    build: fixed winsize check

commit df5dee4b71844325d62a53928c7341648ac2d362
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 22:52:58 2010 +1100

    build: more libreplace config checks

commit 1958a0987e5aa252eac6bffd1b829eb1405b9591
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 22:52:13 2010 +1100

    build: added CHECK_CFLAGS()

commit 481a299fc8c24fa57d3a8742c9d7e6a13808e506
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 22:12:01 2010 +1100

    build: new waf version

commit 64ba3c767283ce30551a08c30c578ba93ce2dea0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 17:55:51 2010 +1100

    build: check for libsasl2

commit 6beff490c552159f24f9b84da33af83c1e626322
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 17:54:05 2010 +1100

    build: fix name of libs with - in them

commit 332553d8abb0711a2c38d1499b22194c62c80bd2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 17:53:54 2010 +1100

    build: check for libgpg-error

commit 71b5f97cd0e4346901da4d0361dcde3f98c19210
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 17:53:41 2010 +1100

    build: check for pam

commit bbb85a26ebfd276225a809ee363b50fa0c724b1b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 17:35:31 2010 +1100

    build: define HAVE_LIBxxx when we find a library

commit 82f3ef486f6566246d26156ac59c662aefee4c88
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 17:35:20 2010 +1100

    build: zlib checks

commit ada6e570d11636ea79cc0503c3b7ee12fb07daa6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 17:20:32 2010 +1100

    build: fixed iuserok test

commit 5882c44c8149c6db529055ae9f082de30ad80820
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 17:20:22 2010 +1100

    build: check immediate structures

commit 165b5b660a60b2d79361bd32441e7a1b8c10edd3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 17:05:36 2010 +1100

    build: move gettimeofday check to libreplace
    
    - add checklink option to CHECK_FUNC()
    - Used for when a prototype is not available

commit a2c866a5e6540b213947eecf09e32245ce77da3f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 17:01:11 2010 +1100

    build: gcrypt functions

commit d40b396ad835f77878aefda8624d53b9112c1ebb
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 17:00:49 2010 +1100

    build: added interface checking and nicer snprintf checking
    
    use CHECK_CODE()

commit eadf918402996d7f9d737679c958f2dc1b6f8783
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 17:00:22 2010 +1100

    build: expand CHECK_CODE() function

commit aac8aec0d1bd07aa4a2521c87807b88f54ac090d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 16:18:44 2010 +1100

    build: more config checks

commit 2dfced59d56eae96540bb8721ccfa50487dbdd40
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 16:18:33 2010 +1100

    build: added CHECK_CODE_COMPILES()

commit 572fc43a4ac14fba4f721d49d0363b377e678901
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 16:05:30 2010 +1100

    build: check freeaddrinfo

commit 20f49194676a942c1e3ec1e998b46b2bc835e746
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 16:05:19 2010 +1100

    build: check xattr and frsize

commit 6edb70c59ee87a29cc643542eb4aeb5508ec4877
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 16:05:08 2010 +1100

    build: added help on fns
    
    also added CHECK_STRUCTURE_MEMBER()

commit 001068d26f4fcc8e16e460e8c9d2910271ca7156
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 15:52:45 2010 +1100

    build: check for volatile

commit 0d34e811734f4f154a81100462b263f1300cc03b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 15:38:32 2010 +1100

    build: more config checks

commit 5d39ac84d1ed4adb6021ecb0fd74f32580981741
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 15:31:04 2010 +1100

    build: check for offset_t and pw*_r functions

commit cfb4f55a7be13660377ec80fe1444c41dd4065d4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 15:19:37 2010 +1100

    build: check size of types
    
    allow name of SIZEOF test to be specified

commit d5560482ea06d11969447dcfb13f88cc6f285e58
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 15:19:27 2010 +1100

    build: check signal functions

commit f7ed3e544ca7c4c84bdce88408cf0af04fb93ab7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 15:18:05 2010 +1100

    build: added CHECK_SIZEOF()

commit 39807fd091e8feffb5d6ec089409d36e35ef7f28
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 15:17:46 2010 +1100

    build: smarter list splitting

commit dd05b6512ab2d5c8fc2d0fe18fcd19b62fee6f01
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 20:40:03 2010 +1100

    build: improve autoconf macros
    
    - enable headers to be specified
    - enable both forms of DECL check
    - more libreplace checks
    - more heimdal checks
    - more sysdep checks

commit 54e26fcb48e385cf62161cd62f102dd34d1c6b3b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 14:32:27 2010 +1100

    build: added CHECK_DECLS()

commit 8112b4007dd27a003648e425e666fbdc384b5abc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 14:28:33 2010 +1100

    build: backtrace and crypt tests

commit bf17c9a56eb148a9a1cc9f8eb79b3461eba1e4e1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 14:27:56 2010 +1100

    build: return values for autoconf-like tests
    
    also add checklibc options for CHECK_FUNCS_IN()

commit cbb3c6eece5780977a2d1c9ac39ff609d48c134e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 14:07:32 2010 +1100

    build: check for backtrace

commit 62137089a0c9fd4c1081f098e84a30ed040f67c4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 14:01:14 2010 +1100

    build: another typo

commit d87ea524d82a069d5df053b54eeb1e3bdbfdb5a9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 14:01:05 2010 +1100

    build: ntvfs/sysdep configure checks

commit abaf9aaba7acc10dde3a0b619209749748df52e2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 13:56:40 2010 +1100

    build: add_headers flag to CHECK_HEADER()
    
    This allows you to ask the header not be added to the list of headers
    for future configure checks

commit 465481eecc510d1c1887394d869d52d31bdfa523
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 13:52:28 2010 +1100

    build: ignore some waf files

commit fd110dc1763821c47370d120ffc0a918c79a1ddd
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 13:52:19 2010 +1100

    build: useful test script

commit 2bb41b042a2cbb31573f1601d14688cb03630e0b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 13:49:55 2010 +1100

    build: ignore the bin/ directory

commit ccd26e9bebc2200901981c299c7114ba25dbcf24
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 13:49:03 2010 +1100

    build: h_errno for heimdal

commit 73db96b5fa052ca165e3d034329f62b235643eff
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 13:48:49 2010 +1100

    build: more headers and variables in configure

commit e01a71942cdc5cc02008838136dc0f0e52cbb401
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 13:48:33 2010 +1100

    build: added define and always options to CHECK_VARIABLE()

commit 8bae4823f29984b49efb83b91e60fd761e0bbf9f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 13:30:22 2010 +1100

    build: waf build for lib/tls

commit 22fbe8cb701123e799fb9e16543963abc1645a82
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 13:29:55 2010 +1100

    build: check for pkgconfig

commit ca56fc286766098271182b4cd5f2bf1eb6e005c1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 13:29:41 2010 +1100

    useful tools for finding missing configure steps

commit 5b9ca48d81a92a1b6c079654ce71038ab5f844b4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 10:59:01 2010 +1100

    build: added generation of version.h

commit 88a138f373aa807079321a00e4f2dc083a17a422
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 10:37:32 2010 +1100

    build: a useful example of a debug technique in waf

commit d004964142b0eac88528bb556228a49742725f4e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 10:26:46 2010 +1100

    build: moved main autoproto rule into samba_autoproto.py

commit 6dcf5563eab238f833b5a0afc215995704d3c9f6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 21:54:16 2010 +1100

    build: allow selection of build group in HEIMDAL_AUTOPROTO()

commit 8c4e709818bb9fb20d7b97a3831862328cd9d939
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Mar 7 10:13:35 2010 +1100

    build: use shell for TDR rule, as -- confuses the build rule

commit 7ed65d2e126161f269ea823d2fa02e79b779fc63
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 21:53:29 2010 +1100

    build: result of hack session with ita

commit 36e6d11dceb7af9cccdff3c631745427e31b8835
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 6 10:49:21 2010 +1100

    build: add README to explain gen_ndr, and ensure directory exists

commit 27090becab1d9bd31ee313a32f0d0b78572f99b2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 6 10:35:17 2010 +1100

    build: added heimdal_build table rules

commit 9129c3b3b6d8a1cdfb7a6500ef4eb20075aa2d53
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 21:46:38 2010 +1100

    build: fixes from ita

commit c8f4ca41f69993afd9b4d753812d3056c91f0db5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 1 09:09:13 2010 +1100

    build: fixed formatting

commit c7ea3e6fbfae5bde3dacb277e487f1e12e1da189
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 1 09:01:48 2010 +1100

    build: source= is clearer for source lists

commit 065e3e250907a88a253477714fd47baffa6337df
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 1 08:36:07 2010 +1100

    build: using deps= for deps is clearer

commit bc39054bc3da62ef6220f2bdae36ea9f9096da47
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Feb 28 17:34:43 2010 +1100

    build: rewrote PIDL rules, breaking them into a separate waf tool

commit bd54d2a87dcabe1ff520662780673a7aaf52cc3f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Feb 26 23:01:09 2010 +1100

    build: fixed location of gen_ndr files

commit 481fde53478052136a9f060d79d505fd176b7c8b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Feb 26 22:55:12 2010 +1100

    build: mail IDL build rules

commit bc922d8383512f838b202090a974d8066533d030
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Feb 26 22:55:00 2010 +1100

    build: dynconfig build rules

commit d29cbc3c558fcc4c7f2c571dee3f63c2f99a80b0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Feb 26 22:49:26 2010 +1100

    build: added librpc build script

commit d6f2855d968c606f54ab752aaaf08740d826c978
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Feb 26 22:48:55 2010 +1100

    build: fixed --includedir options for PIDL

commit 49b4d29ad357ea6347f7269a6cc3506fea70940b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Feb 26 22:38:38 2010 +1100

    build: split out the extension based build patterns

commit 333f2fc28b4b5492fe6ae842e19cd5ca74d44c89
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Feb 26 22:29:47 2010 +1100

    build: another missing subsystem .....

commit 8364d6b7e81e5ae2f882659bc9e508c961a1adb9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Feb 26 22:25:31 2010 +1100

    build: add output_type and realname for mit_samba library

commit 5ad6369cd0b132935cc874c942ffffa0c4405101
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Feb 26 22:21:50 2010 +1100

    build: started to split up wafsamba.py into separate modules

commit ec6049c93d0c1bc7f5dff1c7d87c58eca2114ab9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Feb 26 21:30:39 2010 +1100

    build: aded wafsamba README

commit 64f5cdd204ebc9ed533ff051362c8612c28d88e5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Feb 26 21:28:19 2010 +1100

    build: moved wafsamba.py to buildtools

commit cada19f58b3f721a1d7a02afed038e32a3ca8945
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Feb 26 20:11:52 2010 +1100

    build: cope with empty source lists for libs

commit f15a81c1c02426a5afe59a364d00438f06a10501
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 20:38:03 2010 +1100

    build: added ASN1, PIDL and ET build rules
    
    also added selftest example command

commit e3ae80a2f70f3ed473b06d0f40fb33e993f86461
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Feb 24 23:43:37 2010 +1100

    build: added svn version of waf. It has better exception display

commit 391f953c586d16271d6b2fbba38023e686c907a1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Feb 24 17:39:23 2010 +1100

    build: added build groups

commit f74584a96cf235500b86addf90c50184a21bc510
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Feb 24 17:38:54 2010 +1100

    build: recursive dependency calculation

commit 24511472a344749f67fd90ca5c7e76d6c290f93a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Feb 24 17:38:12 2010 +1100

    build: DEFUN->DEFINE, and fixed CFLAGS handling

commit 07eeed33f63754b4fa4ab629e52e423b04b59bb6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 20:21:47 2010 +1100

    build: heimdal_build waf support
    
    heimdal now mostly builds

commit bb1e36a86baa10be9241d22ce34b8eb9b5784577
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 19:23:18 2010 +1100

    build: make CHECK_FUNCS_IN() smarter about mandatory libraries

commit 2998ea91ec0ac30545d3e7027b638d167ca32ea6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 19:22:57 2010 +1100

    build: added gettext/libintl to libreplace

commit 15d523bb000fcf3b558dc3ecc28ebca0f4e86579
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 19:08:40 2010 +1100

    build: add LIBREPLACE_EXT

commit 8900f97c2ca814e6bf52edd4a6c935a802d39238
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 19:04:54 2010 +1100

    build: run the lib/replace rules first

commit 7aeffe68b12ae7273960a3e953a101d05e57d2a6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 19:04:40 2010 +1100

    build: added ASN1 and ERRTABLE build targets

commit 7f9c439596266cda7120e123a831aa7d7048e157
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 19:04:16 2010 +1100

    build: auto generate ASN1 and ET rules

commit 06940d57967039792d945a4999ccd31dfe4b83c4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 16:48:38 2010 +1100

    build: auto-strip empty dependencies

commit eab4d4598ef08c89f36180f8b9027444867e32bc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 16:48:23 2010 +1100

    build: added LIBREPLACE_NETWORK

commit c3d04fd8fc856604f529b8a194a41edc30c72684
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 16:26:59 2010 +1100

    build: don't distinguish system and local libs in wscript files

commit 9bfe91c475c8654fbadbbc3ecbc56602f100dd3e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 16:26:39 2010 +1100

    build: add heimdal_build

commit de2d305bfe2d5be87fe91088a97f06992281ab31
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 16:26:22 2010 +1100

    build: add libresolv

commit 34fb27534b97ef1020f8b022ae2c2ec3c00abeba
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 16:25:59 2010 +1100

    build: fixed handling of heimdal_build/internal.mk

commit 42f92494ea86591ab6928a66d9a0bb21b1bea223
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 15:01:24 2010 +1100

    build: LIBLDB hack not needed any more

commit 8e81ea7c3ad707618e94d9f8f0626ec8d0609426
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 20:21:26 2010 +1100

    build: on the fly dependency checking

commit 7e01efa80fc6262bf5558b213fa572f4253316dc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 14:59:47 2010 +1100

    build: improve the wscript generator

commit 9e79e14e1434dc2bf77eba7bfc79d816cd43cd11
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 14:43:06 2010 +1100

    build: auto-remove circular dependencies

commit 281f27d54bf1faf12c918d1d3753e25f74d2a0d8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 13:04:34 2010 +1100

    build: check for circular build dependencies

commit 4f920748d4e97f81793943815494a8e8d90d2c8d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 12:18:04 2010 +1100

    build: death to singletons

commit e3dca1412b687bb91c21501801ded63afd665ef4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 11:55:28 2010 +1100

    build: simpler BUILD_SUBDIR

commit 371f9d35a7153832773958e8815b95bb0ae5854a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 11:54:31 2010 +1100

    build: more header checks

commit aa0476024c2bc3c2a8a1ab70bee515ded86c3e51
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 11:53:59 2010 +1100

    build: use runonce for config checks

commit ff9f972d5558052b0346672df182966e947a5169
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 11:17:06 2010 +1100

    build: added public_headers support

commit a3421fe6e9a823adce0b2c6fd3edcb2f476c9acf
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 11:16:44 2010 +1100

    build: added BUILD_SUBDIR() wrapper

commit 5393e6c9d24cd66aab57274665be1774beb4e732
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 09:04:44 2010 +1100

    build: recognise manpages keyword

commit 73634d6ff337f3a23bb950a430569f5b3946ed9a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 08:56:35 2010 +1100

    build: added autoproto stub

commit d0c19bb35e5069949ee1ddc72cdd8a8dfd58db4e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 08:38:18 2010 +1100

    build: LIBLDB alias

commit d0d69be83919fe6d141533aafbe3ef4913cd0c83
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 08:37:33 2010 +1100

    build: added top level script

commit b1d24c7a8ffcdc3e7041a7e89474b9327bc8a26c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 08:30:28 2010 +1100

    build: put config.h in top dir by default

commit 1cfc330156fd3afb6972f6461939817f56e9d435
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 08:28:29 2010 +1100

    build: allow override of config.h location

commit 186e7115ab8b418fae0bdd7bb9fca369a6d6043f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 08:26:55 2010 +1100

    build: more developer flags

commit 13cbd9f919a3cf6ea83cdc80c3e6891d9d276fe4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 08:09:46 2010 +1100

    build: s4 wants config.h in include/

commit 4ed59b826c9cbf05542faadc1f29544b2613781a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 08:04:00 2010 +1100

    build: add dummy flags for auto-generated scripts

commit df0a1e93688a6a2ee5e3d1f1ac31601699440956
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Feb 23 08:03:30 2010 +1100

    build: first attempt at a script to auto-convert config.mk files to wscript

commit 9a1cd09a10b475a2b18059a7ac6cb6915e9dfaf0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 20:26:03 2010 +1100

    build: added ADD_CFLAGS() and started of Samba4 build

commit 7723519cf7544382069c7f77f915ebe9fe236efe
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Feb 22 11:59:23 2010 +1100

    build: SAMBA_BUILD_ENV() is now in conf.*

commit bf4f9962f6f3c56ee2666646eb769790f778d361
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Feb 22 11:59:06 2010 +1100

    build: moved lib -> shared
    
    - remove lib dep creation, it's done by waf

commit 0316ec1d891b889177880fce5c2c67a66fc094d4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Feb 22 11:58:37 2010 +1100

    build: tdb does not depend on talloc

commit 2b5a1cc70cbc5bafe6183300b131d95505c03b36
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 20:32:15 2010 +1100

    build: added waf build rules for ldb

commit 635a7ce6c1dfbfa2fd9ccefa0253a0a846a29f94
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Feb 21 13:56:58 2010 +1100

    build: some more config checks

commit 45d23d1f5360046e7dc6d357a28bcf44db8207bc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Feb 21 13:56:32 2010 +1100

    build: added recursive library handling

commit 04aa584c02cdbad4b8bc23d3108953120b226a69
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Feb 21 13:55:58 2010 +1100

    build: added target directory options

commit 8f062f4a0f781b351e361ce07d0701f312069851
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 17 20:31:46 2010 +1100

    build: neater way to find libreplace and start on tevent waf build

commit 8fd62757d25133cda01b38823040e05ac16ca7dc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Feb 21 09:17:50 2010 +1100

    build: added waf to the tree, so everyone uses the same version

commit f5d85a31d9e5357a4faab952f8d59aa7c8fc3f8d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Feb 21 00:40:26 2010 +1100

    build: added some comments for tdb build

commit 2bd0756dc5cef0f364dc569032b45066867ec10e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Feb 21 00:27:37 2010 +1100

    build: more binaries for waf tdb build

commit 8d6eb2a02c3468d568592c23196d91803f5904b4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Feb 21 00:24:40 2010 +1100

    build: added waf build for tdb

commit 5c103b484f6c6dc9ba544d501e9f701076381655
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Feb 21 00:24:28 2010 +1100

    build: renamed autoconf.py to wafsamba.py and added SAMBA_*() functions

commit 34b77a15d36e21c67d5493e45955358589f7b9c5
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Feb 20 23:29:59 2010 +1100

    build: updates to waf scripts for replace and talloc

commit 9757da515d4f9927255cfa293974ec6fe3437aa4
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Feb 20 16:25:37 2010 +1100

    build: a first attempt at waf build for talloc and libreplace
    
    very rough so far

commit 55e1af856ee64670c7ee925676d13f48ffcdd6ad
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 6 12:13:54 2010 +0200

    s4-smbtorture: fix correct result error code in SetForm spoolss test.
    
    Guenther

commit 12bd7a1230c850856aa0bff8f1538bd3642469c6
Author: Günther Deschner <gd@samba.org>
Date:   Tue Apr 6 10:55:55 2010 +0200

    s4-smbtorture: fix two context arguments in RPC-SAMSYNC test.
    
    Guenther

commit 15531d9df1326a7111363b8d3540985d09027221
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Apr 5 19:33:55 2010 -0700

    Add FSCTL_QUERY_ALLOCATED_RANGES to the list of Windows ioctls we support.
    
    Based on a patch reported and tested by Ira Cooper <samba@ira.wakeful.net>.
    
    Jeremy.

commit e39ed552b69e95217864855332e6c883466a4548
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Apr 6 03:55:10 2010 +0200

    selftest: Remove python2.4-isms

commit c75184b8a14ee686dacbf2dcf01eeade0327b648
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Apr 5 14:16:21 2010 -0700

    Fix issue with aio where r/w lock wasn't kept across aio read operations.
    
    Change schedule_aio_read_and_X/schedule_aio_write_and_X to
    return NTSTATUS. Move the grant and release of the lock into
    the aio code.
    
    Jeremy

commit 2754a8e2b60fb07ebec6384fc3c3a7c3450de5b3
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Apr 5 13:50:59 2010 -0700

    Fix related to bug #7326 - can't read/write any files with full_audit

commit 3ccecdd650eb039204d27ac8f978d13a4cf57b56
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Apr 5 16:01:32 2010 +0200

    s3: Fix a cut&paste error in winbindd_list_groups_done

commit 6d6c551d2695645cc7ccfc131ae5f22f12054482
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Apr 5 12:06:02 2010 +0200

    Revert "s4:gensec_gssapi.c - make sure that "GSS_C_DELEG_POLICY_FLAG" is available"
    
    This reverts commit 3e091a82167f51b7d9abf00755bede9354932c6b.
    
    This should be fixed through the new build system when it lands in "master".

commit 1b6e5a1b8d8fca65c62cc1e350ddef962e8f9c3f
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 30 22:06:45 2010 +0200

    s4:python/samba/__init__.py - import "sys" for "ensure_external_module" method

commit 488fe76a22b4550110d41068d721c30b337825b5
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 4 22:49:38 2010 +0200

    libwbclient: Fix a memleak in wbcListTrusts

commit 50a625ce0edc13312030d24df4b0b7eeaa50bfb0
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 4 22:49:18 2010 +0200

    libwbclient: Fix memleaks in tests

commit b1b723da6f7545f387ab64eb4ad2df2cf59e2623
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 4 22:26:40 2010 +0200

    libwbclient: Fix a memleak in wbcListTrusts

commit 6e40fa9b016cdbd43c973c9b61b581258c0c24a9
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 4 20:09:36 2010 +0200

    s3: Fix the GNU ld version detection on SLES
    
    On SLES 11 "ld -v" gives
    
    GNU ld (GNU Binutils; SUSE Linux Enterprise 11) 2.19
    
    The regexp to intended to detect the "2.19" is confused by the "11" in the
    version string. I'm not really into regexps, and awk '{print $NF}' to me is a
    simple (and hopefully portable) way to print the last field.

commit b1192bbfc991af57736dba7c30fb4d92dd6f436c
Author: Kai Blin <kai@samba.org>
Date:   Sun Apr 4 13:51:02 2010 +0200

    lib/replace: Don't use StrnCpy inside crypt.c
    
    With this and the int32_t/int64_t change, talloc crossbuilds to android

commit 781a0c08467a29118be85e6ecd035d35fb105e84
Author: Kai Blin <kai@samba.org>
Date:   Sun Apr 4 13:42:15 2010 +0200

    lib/replace: use correct inttypes in crypt.c
    
    This makes the android crossbuild slightly less broken.

commit 9b1f9da43617d4bd370d5f18fea9b2533e417685
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 4 12:12:12 2010 +0200

    libwbclient: Streamline result processing of wbcCredentialCache()

commit b198283f1ff7c268f604479290c7e6fb555a6267
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Apr 4 12:11:08 2010 +0200

    libwbclient: Fix a memleak in wbcCredentialCache

commit 55aeb682ba157dc02d838381d1b5d9db166beaeb
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 4 00:42:52 2010 +0200

    s4-python: Move dsdb_convert_schema_to_openldap to dsdb.

commit 2a67eda98f88f132443bc2b81ca2686bcc1775a6
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 4 00:40:01 2010 +0200

    s4-python: Move set_opaque_integer -> dsdb.

commit ccd954f2a7534cc27afd17b23e2fc838e10cf6b3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 4 00:30:34 2010 +0200

    s4-python: Avoid importing glue directly.

commit aed295b97e649ef7db4300cc400bc2bd9b1a03b0
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 4 00:22:29 2010 +0200

    s4-python: Remove convenience macro PyErr_SetStringError.
    
    This macro assumed that all errors were runtime errors.

commit 8afd52a6418125100a5e8a6a4312c0460e57ac88
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 4 00:21:09 2010 +0200

    s4-python: Move samdb_server_site_name to dsdb module.

commit 31a517e1721fc0080473b376cd59c090cfab6456
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Apr 4 00:14:23 2010 +0200

    s4-python: Move dsdb constants to a separate python module.

commit e5b33be2f2655ae8b3a59bf7fe54174464c8cbe9
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Apr 3 23:44:18 2010 +0200

    s4-python: Remove remaining constants.

commit 5a026219a97e396284d30a33e1ab57c059be67e0
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Apr 3 23:33:47 2010 +0200

    s4-python: Remove unused imports, duplicate definitions of SECINFO_ constants.

commit 13a6aee591e972413a522944d168257e17808ca3
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sat Apr 3 23:18:23 2010 +0200

    s4-python: Remove duplicate definition of GUID_DRS_* constants.

commit 3ec8147105267f2f890b4e605221a4347f51c644
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 1 16:24:24 2010 +0200

    selftest: for clarity, rename test to testsuite

commit bbe07972e65024dba7d9fa767ba8d8907829a986
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Apr 3 21:45:55 2010 +0200

    libwbclient: Both talloc_free and wbcFreeMemory deal with NULL
    
    This is in line with the ANSI C standard definition of free(NULL)

commit 710aa773d54509de34404f9992c5058ddfa45f3b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Apr 3 13:30:05 2010 +1100

    socket-wrapper: not all systems have FIONREAD defined
    
    tru64 for example

commit c1ccbfba21713c3dfec88bb528a36d65a055a984
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 2 20:34:58 2010 +0200

    s3: Add wbinfo --logoff

commit c97d279037e87513ac74cfb6251d923e1c1fdad2
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 2 20:28:44 2010 +0200

    s3: Remove some pointless break statements

commit 68403d48f8dd1061c4baa60ab23c18d15fe03557
Author: Jeff Layton <jlayton@redhat.com>
Date:   Fri Apr 2 06:26:09 2010 -0400

    Update URL in README.cifs-utils
    
    Signed-off-by: Jeff Layton <jlayton@redhat.com>

commit 7d692f970a43e3d357549b02f905fa08d27ae8c8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 19:08:24 2010 +1100

    s4-rpc: fixed a talloc loop in continue_ntlmssp_connection()
    
    We were creating a memory loop which caused havoc when the connection
    was torn down.

commit 53dec154274978ce94de8f5182c7d39a0c5f451e
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Apr 2 10:11:12 2010 +0200

    s3: Fix a comment

commit 23f2db7ab60be499327ae40d7e4c604ded910bea
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 18:31:30 2010 +1100

    s4-python: added --debuglevel to our python scripts
    
    very useful for debugging our cPython extensions, such as dcerpc
    modules

commit 2c097b51cb62a0b3cc159faea62d831d897f6017
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 18:21:14 2010 +1100

    s4-pyglue: setup talloc logging in python modules

commit a8d213c151a73b007c62287ae068201c5a36532e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 18:20:51 2010 +1100

    pyrpc: do the pipe connect on a real memory context

commit b81100c71059698dbf4f1aaae52df48f65836b8e
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 18:19:47 2010 +1100

    debug: enable talloc logging
    
    we want to ensure talloc warnings are printed in the log

commit fde50c633f3a48c8e63718903a77e2c1ecc12a55
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 18:18:53 2010 +1100

    talloc: a useful bit of debug code
    
    this is useful when tracking down talloc loops. It is probably too
    expensive to have on by default.

commit 1b4bbec523f2bf20d91c177e7fdb4b7f87431926
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 18:17:52 2010 +1100

    talloc: add a define for TALLOC_MAX_DEPTH
    
    Thanks to the suggestion from simo

commit 5ccd30e9ac5cb93a79c076c22709e271d34d9483
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 12:02:55 2010 +1100

    talloc: change talloc minor version to 2.0.2
    
    this has the talloc_is_parent() bugfix

commit ff2b7d42e685d015f281fc525c745242e84ba54d
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Apr 2 11:59:49 2010 +1100

    talloc: limit the depth that talloc will go for talloc_is_parent()
    
    We have a bug in the dcerpc registry code that can cause a talloc loop
    that chews unlimited CPU because of talloc_is_parent() during a
    talloc_free()

commit bf90969892411f28ea330611156ddfec5e2e1321
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Apr 1 16:47:59 2010 -0700

    Move initialize_async_io_handler() inside of smbd/aio.c.
    
    Call from actual aio read or write. No reason to call this globally on startup.
    
    Jeremy.

commit b6aabcd628f3af1302a03af8cde15baa8d1f2905
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Apr 1 15:01:43 2010 -0700

    Add torture test for bug 7310 - DOS attribute inconsistency with MS Office
    
    Ensure we don't regress.
    
    Jeremy.

commit e18ddb6036f5e0a2211e89a7c9b5514c30a653cf
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 1 18:10:47 2010 +0200

    s3:winbindd: remove unused variables
    
    metze

commit 73577205cf81644e7fe853eaf3e6459f7f443096
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 1 16:23:06 2010 +0200

    s3:winbindd: fix problems with SIGCHLD handling (bug #7317)
    
    The main problem is that we call CatchChild() within the
    parent winbindd, which overwrites the signal handler
    that was registered by winbindd_setup_sig_chld_handler().
    
    That means winbindd_sig_chld_handler() and winbind_child_died()
    are never triggered when a winbindd domain child dies.
    As a result will get "broken pipe" for all requests to that domain.
    
    To reduce the risk of similar bugs in future we call
    CatchChild() in winbindd_reinit_after_fork() now.
    
    We also use a full winbindd_reinit_after_fork() in the
    cache validation child now instead instead of just resetting
    the SIGCHLD handler by hand. This will also fix possible
    tdb problems on systems without pread/pwrite and disabled mmap
    as we now correctly reopen the tdb handle for the child.
    
    metze

commit 3475c61179b87fa5c48ffe24c2793137ad04c318
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Apr 1 16:32:44 2010 +0200

    s3: Ensure NULL termination before printing in winbindd_pam_logoff

commit c63440e040798722288a530a64e59d19344c63ee
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 1 15:32:32 2010 +0200

    s4-python: Ensure __init__ exists in samba.external, or importing will fail.

commit 84891b048d577e52da91c64d310f7bafa115d015
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 1 15:20:25 2010 +0200

    s4-python: Install external packages to a different directory but import into
    the normal namespace when the system doesn't have it available.

commit 64c564291d9ce60d934273aaac15150386d22127
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Apr 1 15:13:37 2010 +0200

    s3: Fix a typo in winbindd_pam_logoff

commit 132e505d1edc501edbe73bb75b65c1f5a724e70b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Thu Apr 1 14:47:54 2010 +0200

    subunitrun: Find testtools and subunit when they're not provided by the
    system.

commit a2411c5708b47c3c2d53c34c6dbed7e1c2eab717
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 31 20:54:18 2010 +0200

    s3:winbindd: correctly invalidate the cached connection
    
    There're maybe additional TCP connection for ncacn_ip_tcp.
    
    metze

commit 0f95d00f49ce58a09c95b60777f8d1a65626ec37
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 31 20:20:26 2010 +0200

    s3:winbindd: only set child_domain in the child
    
    metze

commit d930904b997d310aeff781bde1e7e3ce47dde8a1
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Apr 1 09:29:38 2010 +0200

    s3:winbindd: make sure we don't try rpc requests against unaccessable domains
    
    This makes sure we don't crash while trying to dereference domain->conn.cli->foo
    while trying to establish a rpc connection to the server.
    
    metze

commit 658dc77446ce11e6454f64abea21edc2b5e405e6
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Apr 1 12:54:31 2010 +0200

    s3: fix a typo in winbind_client_response_written

commit 6800fdbb81130b79c2e077e9a7fcbe2d5e0813cb
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Mar 31 17:40:30 2010 -0700

    Make smbd_lock_socket/smbd_unlock_socket recursive with a ref_count.
    
    As these always call exit_server, make that part of the function.
    Use _internal functions for the echo client.
    
    Metze please check !
    
    Jeremy.

commit bb54089503907745a33a09cb27ead565d1205165
Author: Christian PERRIER <bubulle@debian.org>
Date:   Wed Mar 31 23:02:32 2010 +0200

    s3: Merge French translation for pam_winbind after review
    
    - some wording improvements ("user" is not "usager" but "utilisateur"
    - gender neutrality changes:
      by rewording:  ("vous n'êtes pas autorisé" --> "vous n'avez pas
      l'autorisation")
    - bad translation corrections: "valide"-->"valable" (a very common
      false friend)
    - and several changes we consider to be improvements, mostly because
      they are common wording in computing translations in French
    
    Signed-off-by: Lars Müller <lars@samba.org>

commit 0e3f031e59ff304ad8816ed0a4dcec30805b5c24
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Mar 31 22:06:23 2010 +0200

    s3: Fix an error message in winbindd_pam_chauthtok()

commit 15d58f688f3ebc267632eaecbe5e18ee994729ea
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Mar 31 22:05:02 2010 +0200

    s3: Ensure null termination in winbindd_pam_chauthtok()

commit 6d9b2e62cbd7712fe8cfe99c9d596a375a0abfad
Author: Volker Lendecke <vl@samba.org>
Date:   Wed Mar 31 20:57:01 2010 +0200

    s3: Make check_info3_in_group static

commit cf4a8f7639ee869270dc99ed791752de03882edc
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Mar 29 15:44:38 2010 +0200

    s3-winbind: Make append_auth_data() static

commit eb60833a45d0d21463d6101953136e1f3e3de380
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Mar 30 22:16:37 2010 -0700

    Fix bug 7310 - DOS attribute inconsistency with MS Office
    
    On rename we need to set the archive bit on the renamed file.
    
    Jeremy

commit 2e839a636b2ea3f4d8dfcf5a8e99d9725787ba61
Merge: f58d02d... 6f30b9a...
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Mar 31 10:01:03 2010 -0700

    Merge branch 'master' of ssh://git.samba.org/data/git/samba

commit 6f30b9a6ff57ca6112e6319c64c411d2bf09be79
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 31 04:54:41 2010 +0200

    s3:smbd: handle SMB2 in deadtime_fn() and avoid disconnecting non idle clients
    
    metze

commit 74f36df4b30601417dc69031bf6f1af4c652e440
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Mar 31 04:52:13 2010 +0200

    selftest: Update sys.path before attempting to import external modules.

commit c6b1553a2b83c5e70fcb1a3a76e49ed496553a4e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Mar 31 04:51:05 2010 +0200

    selftest: Make sure format-subunit and filter-subunit can find testtools/subunit.

commit 36c84854cb801ba025fd3b43d9cf998da451eca7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Mar 31 04:24:04 2010 +0200

    subunit: Include remainder of bindings and metadata.

commit 6897be747594e385ee032ac1409289ce2d208548
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Mar 31 04:19:36 2010 +0200

    testtools: Fix included testtools, for systems that don't have it.

commit 5f3fcf7a7773737fd87c8ff5530fae2286e88927
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Mar 31 03:56:24 2010 +0200

    s4-python: Install external included packages only if they're not present on the system.

commit 0e77bea165d6db9ca8a138e78f5051234b069789
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Mar 31 03:47:10 2010 +0200

    installmisc: Support DESTDIR for Python directories.

commit 62ed8a68cd30037f73536c32c7293bc9a3ab88d4
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Mar 31 03:34:50 2010 +0200

    format-subunit: Hide reason if it is None.

commit 49d82aa7729c5bfa7dde313580630a5ff97fc05a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Mar 31 03:32:23 2010 +0200

    format-subunit: Don't show reason at all if it is None.

commit a8ac7fda573a924debf165d39eff3c1837240d4f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Mar 31 03:19:18 2010 +0200

    Put testtools directly under lib/ to make it easier to install from Samba 4.

commit e4af3afd7ae3e39218b42a42d39c2ec10be9a642
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Mar 31 03:15:24 2010 +0200

    samba_external: Simplify script to find missing external packages; include subunit and testtools as well.

commit 31094b0e8ca73e3150de9de689f4c5c38b2e9f1f
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Wed Mar 31 02:57:47 2010 +0200

    smbtorture: Report number of available tests in a testsuite using subunit.

commit 197c98292bd838e27da6692ba8e7984f12a66fef
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Mar 30 15:03:41 2010 +0200

    subunit: Also import copies of filters and perl module.

commit 9fe4b01ca682b57cf7c79775abacf135d0c87d42
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Mar 30 14:44:37 2010 +0200

    selftest: Use boolean types in Python.

commit 6c299d28b56dd237792cc80c15c6169e701b4a97
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Mar 30 14:42:23 2010 +0200

    selftest: Use standard subunit command for progress reporting.

commit 7f1360db5123b61cd4473f54d4fb55746c5d8245
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Mar 30 14:36:25 2010 +0200

    selftest: Support parsing progress in format-subunit/filter-subunit.

commit b2eb609d4de39c1359142bc0562daf36e4dee08c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Mar 30 14:30:08 2010 +0200

    selftest: Use standard subunit commands for progress reporting.

commit beb630b69051acfb6e92ae8ed86007999e7937cd
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Mar 30 14:15:38 2010 +0200

    s4-selftest: Fix xfail for base.delete.

commit 12e34eafb82822a80dbe9dc12b4695ab665644a7
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Mar 30 14:02:36 2010 +0200

    selftest: Use absolute tests names in knownfail.

commit 08161e093d38f0d7b54841f5572a024f228408fa
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Mar 30 12:46:26 2010 +0200

    selftest: Convert filter-subunit to Python so the subunit Python module
    can be used later.

commit ae5381d34c75918f7fa49654585d277bbfe66f49
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Mar 30 02:39:50 2010 +0200

    format-subunit: Avoid printing backtrace on Ctrl-C.

commit f58d02dbeeeba037ee79fba93a707e959e90ffa3
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Mar 30 16:54:43 2010 -0700

    Second part of fix for bug #6494 - Incorrect FileStatus returned in NT_CREATE_ANDX.
    
    Ensure we do this in nttrans create too.
    
    Jeremy.

commit 2699db3fe033b2b048de0d9a3ef21aee6b0da16c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 31 09:18:09 2010 +1100

    s4-torture: removed more uses of typeof()
    
    not portable

commit 4fc0a6ab3151ca740e4d89b0ebca5d378f88ea50
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 31 09:00:54 2010 +1100

    s4-torture: using typeof() is not portable
    
    this failed to compile on solaris8 with cc

commit 32c8feab5d8320cba7f47fc27ba0fc264f3c4333
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Mar 30 15:27:26 2010 -0700

    Fix for bug #7233 - print fails with jobs >4GB from Win7 clients.
    
    Contains for by Sebastian Kloska <oncaphillis@snafu.de>. Submitter
    confirms this fixes the problem.
    
    Jeremy.

commit 4b249a616b586bf384e0ba68ce5d391601879938
Author: Simo Sorce <idra@samba.org>
Date:   Thu Feb 25 21:41:09 2010 -0500

    s4:lsa implement lsaRSetForestTrustInformation

commit d447184ca863fd3effa2585a80704468572893b7
Author: Jeremy Allison <jra@samba.org>
Date:   Tue Mar 30 13:45:53 2010 -0700

    If the timeout has been set to zero, don't register an end time.
    
    The caller doesn't want a timeout.
    
    Jeremy.

commit 902a5e53cdcb1952a5fe6be072f91725a3e78608
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 30 21:57:52 2010 +0200

    wbclient/wbclient.c - fix a typo

commit 818fcfb8139d43f2136452029ac320e48ec154f7
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 30 19:08:57 2010 +0200

    libcli/nbt/dns_hosts_file.c - change "ULONG_MAX" into "UINT32_MAX"
    
    This fits better since the variable which is tested is of type "uint32_t".

commit 3e091a82167f51b7d9abf00755bede9354932c6b
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 30 17:42:51 2010 +0200

    s4:gensec_gssapi.c - make sure that "GSS_C_DELEG_POLICY_FLAG" is available
    
    FreeBSD 7.2 needs this.

commit 65d1d4184483036a7ba159ad28b29001c0ec8b4e
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 30 17:24:15 2010 +0200

    s4:torture/basic/denytest.c - use "typeof" in a better supported syntax
    
    This should make it compatible with the SUN Studio C Compiler.

commit 01f1f87aa91e8a887a6405ead2e96d6a659c4ec0
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 30 13:02:27 2010 +0200

    s4:registry/tests/diff.c - try to make also this test compatible with big-endian platforms

commit b08bbbb42dcb141ba6e8eb96781e6cf360db1b57
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 30 12:46:56 2010 +0200

    s4:registry/tests/hive.c - make the test compatible with big-endian platforms

commit 08e0d94faedc0793958183372f26f778f8ec8953
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 18:12:46 2010 +1100

    replace: allow memmem() with an empty string to return NULL
    
    This is how FreeBSD behaves. We don't rely on it returning the string
    in Samba.

commit cc2ef27e369f0950ec931bf15cba4665c053ac53
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 30 09:50:09 2010 +0200

    s3:libads: retry with signing after getting LDAP_STRONG_AUTH_REQUIRED
    
    If server requires LDAP signing we're getting LDAP_STRONG_AUTH_REQUIRED,
    if "client ldap sasl wrapping = plain", instead of failing we now
    autoupgrade to "client ldap sasl wrapping = sign" for the given connection.
    
    metze

commit 21499a148e4b6600d13977eb97c1a77d9bf5fd4c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 16:27:09 2010 +1100

    selftest: reason may be None
    
    jelmer, please check

commit 4f4adddb171af2fafe280be05fd144fc3ad01107
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 15:36:17 2010 +1100

    s4-test: oLschema2ldif doesn't take -H any more

commit e47e5ff89b8c9b523400d693bcd65454ff8ded85
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 12:08:52 2010 +1100

    s4-heimdal: use the HAVE_INET_* functions from libreplace

commit e310cb3f375faa32d9be0dccfcf03f90eaedfc60
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 00:07:10 2010 +1100

    s4-heimdal: for use of libreplace setegid and seteuid

commit 0f113faea8db91c3890e7ab0edfefedce5ec2594
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 30 11:55:10 2010 +1100

    charset: look for the codepages in the right place
    
    selftest runs from source3/source4. The codepages when not installed
    are in ../codepages

commit e4c75252a962341c35ef45989ea12c637f7b3a1b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 22:47:34 2010 +1100

    s4-heimdal: a better way of handling dirfd()
    
    This prevents us getting thousands of warnings about dirfd() on
    solaris

commit 0cdc021ba4cc0f400e6fbce173e0d17dee69ee64
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Mar 30 01:00:16 2010 +0200

    selftest: Remove diff-subunit - it's included in subunit and not necessary for normal operation.

commit c108a2e74e98e35c72d74a37d1b147396403925e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Mar 30 00:59:04 2010 +0200

    format-subunit: Improve formatting, simplify code.

commit ef3fb75261d1ce0d10da3e0c636c895aeb8b8441
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Mar 30 00:30:52 2010 +0200

    selftest: Replace perl subunit formatter with python subunit formatter,
    so we can leverage the work happening in python-subunit.

commit 0c78368a3108ad7437a20fac7e6da42ecf6f348a
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Mar 29 22:25:25 2010 +0200

    selftest: Convert format-subunit to Python.

commit e14a6fbf8c9e4d16b2727e48c708ceccfd157e59
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Mar 29 14:24:18 2010 -0700

    Fix bug 7307 - man net usershare mistake
    
    Fix bad usage message, reported by headset001@yahoo.com.
    
    Jeremy.

commit c8fe49b2d311944da8829a20c6d275daace205cb
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 29 22:23:53 2010 +0200

    s4:installmisc.sh - fix location of "dnspython" library

commit 4c6cde99c0751a073120d8bc36d40922d8027344
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 29 22:03:55 2010 +0200

    s3:winbindd: correctly retry if the netlogon pipe gets disconnected during a logon call
    
    This fixes hopefully the last part of bug #7295.
    
    metze

commit c5d1d68f0bb9b2d544bab01adc4daad8ed6103fc
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 29 21:52:12 2010 +0200

    s4:registry/util.c - remove those "talloc_free"s
    
    They're not really necessary.

commit c38e96278a8ec1ccdff33e14a751bfcb8c3d63bf
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 29 21:27:18 2010 +0200

    s4:registry/tests/generic.c - fix the DWORD_* types test to work also against big endian platforms

commit 50d26133dcc2b7866bb877fa80af2fc6dca144dc
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 29 21:16:44 2010 +0200

    s4:.gitignore - update it for the new heimdal release

commit 8d0b67b644d636ebab98add81b78093841342cac
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 29 21:09:23 2010 +0200

    s4:registry/ldb.c - Break with "NULL" as an error case when the data doesn't fit in the "reg_ldb_pack_value" function

commit e25e60ba2f4802a43a0a990c4f34fb23359dab28
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 29 20:53:38 2010 +0200

    s4:registry/ldb.c - Always check the "name" attribute for != NULL
    
    If it's NULL return invalid parameter as Windows does. The name is "" if it
    refers to the default value.

commit 90d2902c73715c7777ad67b2a33f32a79f72764c
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 29 20:36:32 2010 +0200

    s4:registry - move the UTF16 length calculation for "reg_key_get_info" into the RPC server code
    
    It does fit better there.

commit 8efea429481fcab2e67fa4f3f3f4ceee1857f8ac
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 29 19:55:16 2010 +0200

    s4:registry/util.c - fix indentation

commit e1714121b109db6e23f368bb78f07876c27379a4
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 29 19:45:33 2010 +0200

    howto4.txt - improve the content of chapter 2bis

commit 53a2982970631e031e2c83b90721d32211943580
Author: Matthieu Patou <mat@matws.net>
Date:   Wed Mar 24 16:47:24 2010 +0300

    s4: complete the build instruction because the problem with the idl_full cames very often

commit da68151017c0741768f92b88de264bf800e729f0
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 29 19:28:27 2010 +0200

    WHATSNEW4.txt - updates
    
    Update the file content.

commit cf3e15c897df4e11981a7d3a2fbbb77bd9dc31f0
Author: Matthieu Patou <mat@matws.net>
Date:   Wed Mar 24 13:28:27 2010 +0300

    Add partial information in whatsnew for the next release

commit a5e6b5589b9d8498740a289dba2d56d3eb14af72
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Mar 29 18:43:38 2010 +0200

    registry: Fix compilation.

commit 38fc9dfdc6046e21cd8f0127e2cd88f72f81b3b3
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Sun Mar 28 17:07:09 2010 +0200

    Revert reordering from commit 51bedf939568717424edd7732e1e315faa333849
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 2d6791286b97236136de468ebf4173bd35336b6e
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Sun Mar 28 17:03:08 2010 +0200

    Revert "s4:registry - util.c - add harder checks for inputs on "reg_val_data_string""
    
    This reverts commit eb8c8a0ecaa9bfd29f090db21fccdad7751767ae.
    
    Conflicts:
    
    	source4/lib/registry/util.c
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 16427efb749d63b5a54b2b260ea8ac565f63a9e7
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Sun Mar 28 16:46:53 2010 +0200

    Revert "s4:registry - util.c - move the "REG_NONE" case in the conversion functions on top of the switch"
    
    This reverts commit 4e6c0e1f6f37a7e04d10dbf7abbf626f52232aaf.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit b1c70d49c9f8e99997fe3c9228e92db5e6ad3ad4
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Sun Mar 28 16:46:30 2010 +0200

    Revert "s4:registry - util.c - treat unsupported and binary values as the same in the conversion functions"
    
    This reverts commit cc3eec1681bb6d614e688f51e48bd76f6d513e67.
    
    Conflicts:
    
    	source4/lib/registry/util.c
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit cb670f366cdc7d3dd457bd40fc37349c4484b54b
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Sun Mar 28 16:30:43 2010 +0200

    Revert "s4:registry - adaptions for "add memory contexts for delete value/key functions""
    
    This reverts commit 43170dafbcbe7464bce9b4c6d76532d7d0bf5b9a.
    
    Conflicts:
    
    	source4/lib/registry/dir.c
    	source4/lib/registry/util.c
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit f8e67f198ad6e42f7563390012f30fffe43b92f7
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Sun Mar 28 16:18:46 2010 +0200

    Revert "s4:registry - "util" - make "reg_key_add_abs" consistent with "reg_key_del_abs""
    
    This reverts commit 9d8592978e28c492d971a3b5a4c0133febc149ea.
    
    Conflicts:
    
    	source4/lib/registry/util.c
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit d90f1a7146385328dfd8e5245e7b1f83eb46e7e1
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Sun Mar 28 16:12:22 2010 +0200

    Revert of commit 5b6ad54f43741c0c25b35e44cafe5fed352ff133 in registry.h
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 541e2942f8dcda970a8b83c7832ea5c09cb38fc8
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Sun Mar 28 16:03:12 2010 +0200

    Remove incorrect const, something that was correct in commit 9c3e6249fd984b823a77cab0514601d2a487920a
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 3629798f72aa9126e115a8f38e0455245794f9c3
Author: Wilco Baan Hofman <wilco@baanhofman.nl>
Date:   Sun Mar 28 15:59:53 2010 +0200

    Revert "s4:registry - "util" - remove "const" from "reg_abs_path""
    
    This reverts commit 9c3e6249fd984b823a77cab0514601d2a487920a.
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit cac9981b1a88a37c703a76a951b0691fa4ba7b4b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 25 15:54:29 2010 +0100

    s3:rpc_client: remove more unused code
    
    metze

commit 13cf592bb8478453dccd4d78bdb4dabec7aeddc2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 25 15:29:05 2010 +0100

    s3:rpc_client: remove unused code, we handle transport failures in the transport layer now
    
    metze

commit 6bd5a2a3739938f95fce23ab2da652c9b5a48111
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 29 16:31:13 2010 +0200

    s3:winbindd_reconnect: don't only reconnect on NT_STATUS_UNSUCCESSFUL
    
    metze

commit 94a4bcd2f0c0464e192556679c6636639cb307ea
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 25 15:25:47 2010 +0100

    s3:winbindd_cm: invalidate connection if cm_connect_netlogon() fails
    
    metze

commit 4f391fedac7111683d13f2d79fee7c0dbc27f86e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 25 15:17:07 2010 +0100

    s3:winbindd: consistently use TALLOC_FREE(conn->foo_pipe) is we create a new connection
    
    metze

commit d980c06a994d032a833adc8d56d2f2c037f8fdaf
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 25 15:15:57 2010 +0100

    s3:winbindd_cm: use rpccli_is_connected() helper function
    
    metze

commit 408a3eb35a0e61b5d66a3b48ebbd1a6796672d0f
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 25 15:14:02 2010 +0100

    s3:winbindd_cm: use cli_state_is_connected() helper function
    
    metze

commit 3e70da3f470eeb122f95477fb48d89939f501b3e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sun Mar 28 19:34:34 2010 +0200

    s3:rpc_client: return at least 10 sec as old timeout in rpccli_set_timeout() instead of 0
    
    metze

commit 99664ad15460530b6fb44957b6c57823f09884bf
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 25 15:51:51 2010 +0100

    s3:rpc_client: add set_timeout hook to rpc_cli_transport
    
    metze

commit 4f41b53487ac9bc96c7960e8edab464558656373
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 25 15:00:38 2010 +0100

    s3:rpc_client: add rpccli_is_connected()
    
    metze

commit dc09b12681ea0e6d4c2b0f1c99dfeb1f23019c65
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 29 14:58:19 2010 +0200

    s3:rpc_client: don't mix layers and keep a reference to cli_state in the caller
    
    We should not rely on the backend to have a reference to the cli_state.
    This will make it possible for the backend to set its cli_state reference
    to NULL, when the transport is dead.
    
    metze

commit 5f8fc63515a02aaf55719cb8d3be8ce695178fe9
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 25 14:10:25 2010 +0100

    s3:rpc_transport_np: add comment about bad usage in a destructor
    
    metze

commit b862351da8624df893ec77e020a456c1d23c58ed
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 25 14:08:42 2010 +0100

    s3:rpc_transport_np: use cli_state_is_connected() helper
    
    metze

commit d7bf30ef92031ffddcde3680b38e602510bcae24
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 25 13:20:56 2010 +0100

    s3:libsmb: add cli_state_is_connected() function
    
    metze

commit 47e10ab9a85960c78af807b66b99bcd139713644
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 29 15:07:34 2010 +0200

    s3:libsmb: don't let cli_shutdown() segfault with a NULL cli_state
    
    metze

commit 1ec2b2f7f328abd0111f1dd871a032ea32f5e573
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Mar 29 18:05:03 2010 +0200

    ldap.py: Fix syntax error.

commit 336cd5a0a3d35b998b67efc975813ccc8482e6ee
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Mar 29 17:35:20 2010 +0200

    python: Fix rule for generating docs using pydoctor.

commit 082e7f20d7df457c08119eb41fc2f3f8c09ba7ab
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Mar 29 16:25:03 2010 +0200

    subunit: Update to newer upstream version.

commit c87332950043471e52b924f7498b63982ec4302c
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Mar 29 16:21:26 2010 +0200

    s4-python: Simplify mechanism for finding included Python modules.

commit 4bbc3ff037026c72f3249f59c1b5af69a6ad6d69
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Mar 29 16:08:11 2010 +0200

    s4-python: Move dnspython to lib/, like the other Python modules
    
    This also avoids it from being installed if it's already present on the
    system.

commit 89aa3b766b926d19dac4805a7e72433e497ce872
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Mon Mar 29 15:43:43 2010 +0200

    s4-python: Format to PEP8, simplify tests.

commit 87ad4e990be2a763af9f45c0857b5de654cf2e1b
Author: Holger Hetterich <hhetter@novell.com>
Date:   Mon Mar 29 17:05:34 2010 +0200

    Make the smbta-util manpage xml create smbta-util.8 instead of smbta-tool.8
    
    Additionally change any references to smbta-tool in the text of the manpage.
    
    Signed-off-by: Andreas Schneider <asn@samba.org>

commit e230c8dd2441181963c6df678be06cdaaf6cb822
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Mar 27 12:48:21 2010 +0100

    pidl:Samba4/Client: don't mix rpc and application NTSTATUS errors anymore for the new bindings
    
    The new dcerpc_binding_handle based client stubs don't mix error codes anymore,
    while the old dcerpc_pipe based ones still do to keep OpenChange happy for now.
    
    metze

commit 979c50eff7a7a1611e27f0e26db821416d50110f
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 24 13:14:09 2010 +0100

    s4:torture/rpc/samba3rpc.c: add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 733701ae9b98b79685dad2679f8172a981634b99
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 17 20:14:53 2010 +0100

    s4:libnet/libnet_passwd.c: add explicit check for NTSTATUS r.out.result
    
    metze

commit cd3ae926e7f54b29eb733e42aafd1a1b6c45dc38
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 17 20:31:15 2010 +0100

    s4:libnet/libnet_samsync.c: add explicit check for NTSTATUS r.out.result
    
    metze

commit d0efef3f864f36eefe6b0abd152c4614324f2fc2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 17 20:30:57 2010 +0100

    s4:libnet/libnet_join.c: add explicit check for NTSTATUS r.out.result
    
    metze

commit 12ee027106009664bd6e138df819250e99af5188
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 23 15:04:25 2010 +0100

    s4:libcli/util/clilsa.c: add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 10e46e52abde3095d575db39cc3fd60ae6eeb264
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 24 09:06:54 2010 +0100

    s4:torture/rpc/lsa.c: add explicit check for NTSTATUS r.out.result
    
    metze

commit 1a4d9b95eec6983fbc28a69f1b4b3049c2f27397
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 00:38:04 2010 +0100

    s4:torture/rpc/samr.c: add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit e531b52ab965b7f258b475da9639330e3c49c8cc
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 15:35:36 2010 +0100

    s4:torture/rpc/handles.c: add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 3398636a3bf2e55adda01eb92fc7aaf5c03adb2a
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 12:23:37 2010 +0100

    s4:torture/rpc/samr_accessmask.c: add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 08177e98b2237b9428bfc28c4a0ebdfd34eba49a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Mar 27 10:45:17 2010 +0100

    s4:torture/rpc/samsync.c: add explicit check for NTSTATUS r.out.result

commit 5dcb1e5030e07922405bb0175d3459f6ed96054c
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 14:56:52 2010 +0100

    s4:torture/rpc/samlogon.c: add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 2f7f7257d938b9f223399df8d0cbf31b91a3f55a
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 14:45:38 2010 +0100

    s4:torture/rpc/netlogon.c: add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 8ac42bc0dc1b946893c9cc7a5a8555a1ca89819a
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 00:09:46 2010 +0100

    s4:torture/rpc/lsa_lookup.c:add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 1248adb2c5716d26323e6e9bb1ac81103701d908
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 23 15:20:16 2010 +0100

    s4:torture/libnet:add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 2d35523f24f7806d41d785028e09f9cb6bbfaf56
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 14:17:18 2010 +0100

    s4:torture/rpc/schannel.c: add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 940c6ab29f21862ba21d313223ce73c6e3ea6401
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 14:48:36 2010 +0100

    s4:torture/rpc/remote_pac.c: add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit a154bb56297c7bdfe7d7505afc409e0333100770
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 13:55:35 2010 +0100

    s4:torture/rpc/testjoin.c: add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 959a128c7b9303b59e92273b01fefde02d752015
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 00:16:29 2010 +0100

    s4:torture/rpc/session_key.c: add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 583c7cbd4c70be4f8e4d1c28fb7bba42c5d3c05d
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 12:57:54 2010 +0100

    s4:torture/rpc/eventlog.c: add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 159ca620946951b03431ef57623552abcea6b2f6
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 00:21:01 2010 +0100

    s4:torture/rpc/unixinfo.c: add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 1184ef6672347e6e446a485b992249f051a3873c
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 23 15:19:25 2010 +0100

    s4:torture/ntp: add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 0590e7ef3685d629057971cf132838bf7e223ee3
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 12:26:27 2010 +0100

    s4:torture/rpc/atsvc.c: add explicit check for NTSTATUS r.out.result
    
    Guenther
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit fd9495491d8cdefc4bdbd20d1881f43c119537c2
Author: Stefan Metzmacher <metze@sernet.private>
Date:   Wed Mar 24 09:45:21 2010 +0100

    s4:torture/rpc/echo.c: remove NTSTATUS status variables
    
    metze

commit 870a21b3ecc11b16f09b59440dc9e42b09f807d3
Author: Stefan Metzmacher <metze@sernet.private>
Date:   Wed Mar 24 09:31:17 2010 +0100

    s4:torture/rpc/echo.c: add explicit check for NTSTATUS r.out.result
    
    metze

commit 8b1651cb5021efdf6ea153b991cdc0ef3da0ffd8
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Mar 29 16:59:48 2010 +0200

    s3: Fix bug 7212, "getent group does not return group members"

commit 686221eae28ff58fb048fdc7132e1413dedb6eb9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 20:53:16 2010 +1100

    s4-waf: use the libreplace strerror_r if needed

commit 7ed349caceed2524d897d957cee98ad1cdc4704c
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 08:35:30 2010 +1100

    pytalloc: allow for using a system libtalloc-dev with pytalloc
    
    When we have a system talloc library, we still need to grab pytalloc.h
    from lib/talloc. We don't want to just use -Ilib/talloc, as otherwise
    we'll get the in-tree talloc.h which may not be compatible with the
    system talloc.h
    
    So we need to give the path to pytalloc.h

commit 08faa3a43c26f8cc637969d2b216f2efea9099d9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 18:48:29 2010 +1100

    talloc: testsuite should use <talloc.h> not "talloc.h"
    
    if we are using the system talloc, the testsuite needs to use the
    system talloc.h

commit b60da39da6e1d1025de4bb200f39f9821f01c1d6
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 29 20:20:25 2010 +1100

    s4: added a simple implementation of bin/samba -b
    
    this shows the config paths. Useful for debugging --enable-fhs

commit 61106c056898aa8e5dd580b83fa404f12cfccd28
Author: Andreas Schneider <asn@redhat.com>
Date:   Fri Mar 26 13:23:31 2010 +0100

    s3-selftest: Don't log to stdout, use logfiles instead.
    
    The logging to the logfiles is more verbose and they can be found in
    ./st/dc/logs. If you still want to log to stdout start selftest with:
    
    SMBD_OPTIONS="-S -d10" make selftest

commit 0dac5d2ab362c128e184e06a73364bc48f748fd2
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Mar 29 07:24:00 2010 +0200

    s3: Attempt to fix the build on AIX, shm_ptr seems to be a macro there

commit ba74823c8f42dd3f4f0883163e42888ec35baf32
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Mar 28 22:58:36 2010 +0200

    upgradeprovision: Fix formatting, syntax error.

commit d18d7cfa27a3f2a088c8f3ea9de4f9d8d89fea38
Author: Matthieu Patou <mat@matws.net>
Date:   Mon Mar 29 00:37:26 2010 +0400

    s4 upgradeprovision: add information about upgrade in oEMInformation to keep a better trace of different updates
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 8d3ff2d41e9ffeb41d55613f645a72fbdda77861
Author: Matthieu Patou <mat@matws.net>
Date:   Sun Mar 28 22:48:55 2010 +0400

    s4: allow upgrade provision to fix acl and missing dir on GPO dirs
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit ec48d3693de25d7210c926f27ac859cbf97ef428
Author: Matthieu Patou <mat@matws.net>
Date:   Tue Feb 23 19:11:58 2010 +0300

    provision: make gpo related function more reusable for upgradeprovision
    
    Signed-off-by: Jelmer Vernooij <jelmer@samba.org>

commit 66375cfba24fcf92122e83afeecaa14b9b2e3d2e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Mar 28 22:42:31 2010 +0200

    provision: Remove unnecessary whitespace.

commit f4e314457f5ec7857d59a52cb2318bea8e6f579e
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Mar 28 22:42:11 2010 +0200

    selftest: Update locations in README.

commit 45f389b2538f4e1e45fad72142e11f0427a1eaf2
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Mar 28 21:56:09 2010 +0200

    selftest: Remove unused BuildFarm output file (now using subunit)

commit 235cd3e5c462fd559f9ac58f6336e6a9de4b1000
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Mar 28 21:45:42 2010 +0200

    selftest: Remove html subunit formatter; it's too simple and really belongs in subunit or testrepository upstream.

commit b607f9968818811759ee744afeebab4880d2c5de
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Sun Mar 28 21:42:34 2010 +0200

    Remove extension from format-subunit.

commit 9ecc30837bc75ef1c85191f494d65c7ce9b1ba23
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 14 19:45:26 2010 +0100

    s3: Slightly simplify unmap_unix_group

commit c377a913739fd8fe40926fcf662a52cafabd4ce7
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 28 16:22:26 2010 +0200

    Attempt to fix the build on AIX, that system seems to have a #define for s_type

commit cae4105c9232c4d11a13fe21c139b99e803a0282
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 28 14:32:47 2010 +0200

    s3: Remove unused bitmap_[allocate|free]

commit 59d09cbed8e6fde867b88dce4408b64132e4ca6d
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 28 14:26:53 2010 +0200

    s3: Use bitmap_talloc in vfs_full_audit.c
    
    This also simplifies the calling convention for init_bitmap() slightly

commit d3c6f4ae17d1311f90d549bd8d7e22e802e0be1a
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 28 14:19:17 2010 +0200

    s3: Use bitmap_talloc for smb1 server tcons

commit c67e498ae863bb5f25dcb36162c473ede46400be
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 28 14:16:55 2010 +0200

    s3: Use bitmap_talloc in init_dptrs

commit 30c708b902b6945e2cbcb7e1de40d475ce00eaad
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 28 14:14:48 2010 +0200

    s3: Use bitmap_talloc in files.c

commit 0205633ed94a19d8723c3f2f252daf1b96729375
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 28 14:13:48 2010 +0200

    s3: Use bitmap_talloc in loadparm

commit 48f90be7b9560258054486dce6514476b669ebfb
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 28 14:05:55 2010 +0200

    s3: A NULL context might be perfectly valid for bitmap_talloc

commit 2356c22825de020ebf4ae8cb664fea96dc981749
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 28 14:03:57 2010 +0200

    s3: Fix a memleak in bitmap_talloc

commit 8a43679cea769b3f568def53006690ef23c083c6
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 28 14:03:31 2010 +0200

    s3: Use TALLOC_ZERO_ARRAY in bitmap_talloc

commit ed5a65d7a0f6a3e9697184b4e32081a77b65f78b
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 28 14:02:47 2010 +0200

    s3: Fix the memory hierarchy in bitmap_talloc

commit d77a1fb272d06e9fa4f4b1cbe9b151625334ca9f
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 28 13:16:58 2010 +0200

    s3: Slightly simplify logic in conv_str_size

commit ea0f9378a02ed3b64ab3b4f71862bfcb449d2b42
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 28 13:16:18 2010 +0200

    s3: Fix indentation in conv_str_size

commit e541013e20572c96f7fe12814742b6f9eb3084db
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 28 13:13:03 2010 +0200

    s3: Fix some nonempty blank lines

commit 4d8a974ddc1333a1e3c6ddf4a0e215a5e41e1074
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Mar 26 13:18:52 2010 +0100

    s3: Use tdb_transaction_start_nonblock in gencache_stabilize
    
    This avoids the thundering herd problem when 5000 smbds exit simultaneously
    because the network went down.

commit d5fd1f207757b4f15d15b8744db0c9380fe63cab
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Mar 26 13:15:53 2010 +0100

    Revert "s3: Optimize gencache for smbd exit"
    
    This reverts commit 5ca63676dc59e83ffd9560fdcfa26063f267f283.
    
    That does not fully fix the problem, adding a tdb_transaction_start_nonblock to fix it.

commit 3caaca90219c1fd8f7f9d668d3a537f6368b9417
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 28 14:21:49 2010 +0200

    s3: Fix typos in a debug message in vfs_init_custom

commit 09a676a4712b86ad0406487f38a8a1a4e6a9e115
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sat Mar 27 12:44:20 2010 +1100

    s4-selftest: use CONFIG_H environment variable to find config.h

commit 1f0467562b50e29eabae070c3d0088d4fc62d3a0
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Mar 27 19:13:28 2010 +1100

    s4:heimdal Use correct variable to advance past -- options in kpasswd
    
    This bug was introduced when kpasswd was migrated to a local getarg()
    call, in Heimdal commit 7dd146072cd9b56d660a01f4aa20f8d81be356e8
    
    Andrew Bartlett

commit f47454a04d7656e93de7286e1105119fe80cb366
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Mar 27 19:12:33 2010 +1100

    s4:heimdal_build Remove forced HAVE_STRERROR_R
    
    This just causes warnings, now upstream has a more complete fix.

commit 64b8b0cdafc18dcf65dcc4210be50e6139f553d7
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Mar 27 12:24:00 2010 +1100

    s4:heimal Update generated files (cp from Heimdal)

commit df7fbf28ee3e4d75a6bf824bb2a5681dc65d38b1
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Mar 27 12:23:21 2010 +1100

    s4:testprogs Update test to match current Heimdal

commit 533024be44861c8d2c8ba3232738c7d2dbbe2e4f
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Mar 27 11:55:22 2010 +1100

    s4:heimdal: import lorikeet-heimdal-201003262338 (commit f4e0dc17709829235f057e0e100d34802d3929ff)

commit 679854384252e698b8f8c09d31eb15ed043c919b
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Sat Mar 27 11:48:05 2010 +1100

    s4:testprogs Fix kinit test for updated Heimdal

commit 564d5cd2c48b9d9debccf03433cfee282040e2da
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jan 12 13:24:33 2010 +1100

    s4:heimdal New files and supporting logic for heimdal update

commit 89eaef025376339ef25d07cdc4748920fceaa968
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Jan 12 18:16:45 2010 +1100

    s4:heimdal: import lorikeet-heimdal-201001120029 (commit a5e675fed7c5db8a7370b77ed0bfa724196aa84d)

commit fac8ca52ade6e490eea3cf3d0fc98287da321c13
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Mar 26 17:09:58 2010 -0700

    Fix bug #7240 - Net usershare is not case sensitive.
    
    Updates usershare files in a backwards compatible way.
    I don't intend to back port this fix to 3.5.x as it
    depends on a version upgrade in the share_info.tdb share security database.
    
    Jeremy.

commit 203a661e01e1a138871aacb1cc329a3e3e79295a
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 26 22:59:29 2010 +0100

    s3-selftest: set "lpq cache time = 0" in server configuration.
    
    This fixes currently broken spoolss tests.
    (make test variant).
    
    Guenther

commit d3a22fc62b69ebaea84955b1083d59ca4001d50c
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 26 22:58:42 2010 +0100

    s3-selftest: set "lpq cache time = 0" in server configuration.
    
    This fixes currently broken spoolss tests.
    
    Guenther

commit 0909696261f8f0f112615af224156ca525c41bf5
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 26 15:23:34 2010 +0100

    s4-smbtorture: more JobInfo testing.
    
    Guenther

commit e968db67395cbfa1e0c46eb7c03b77916579596d
Author: Kai Blin <kai@samba.org>
Date:   Thu Mar 25 22:22:56 2010 +0100

    s3 ntlm_auth: Don't malloc data that will be talloc_free()d
    
    This fixes bug #7290
    Thanks to Mohan <mohann@silver-peak.com> for the bug report.

commit c1f6f61f620e865516d1856c9d937b5326a29046
Author: Simo Sorce <idra@samba.org>
Date:   Fri Mar 26 15:21:15 2010 -0400

    tdb: update exports and signatures files

commit 261c3b4f1beed820647061bacbee3acccbcbb089
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Mar 26 13:18:33 2010 +0100

    tdb: Add a non-blocking version of tdb_transaction_start

commit d570a0af0be442d6d1e253309d9bbae9562669cf
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Fri Mar 26 10:08:47 2010 +0100

    s4:auth/credentials/credentials.c - initialise more content
    
    Now all data should be initialised

commit 1fc5e7a3d6b1ee88da5479c8614ef18498799ae0
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Mar 26 09:32:40 2010 -0700

    Revert the part of bug fix #7233 - print fails with jobs >4GB from Win7 clients.
    
    Submitter reports print file corruption after 2GB when SMBwrite etc.
    always write at EOF. Still working on the fix.
    
    Jeremy.

commit 4b89195f0c61404a30c8c688df44ce2b3796c370
Author: Karolin Seeger <kseeger@samba.org>
Date:   Fri Mar 26 15:14:35 2010 +0100

    s3-util_sock: Rise debug level for getpeername failed messages.
    
    Don't show all getpeername failed messages in debug level 0 and 1.
    
    Karolin
    
    Signed-off-by: Volker Lendecke <vl@samba.org>

commit a6f25fc635dce0b67422b271e09467e9ea854489
Author: Andreas Schneider <asn@redhat.com>
Date:   Fri Mar 26 11:17:37 2010 +0100

    s3-smbd: Don't close stdout if we want to log to stdout.

commit f70e1b4d43995ac4c7ab020613d3f0af24eb03f6
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 26 13:37:42 2010 +0100

    s4-smbtorture: fail spoolss test on SetJob failure.
    
    Guenther

commit dcec9322798ffb848ec70bae67220eb0526942ac
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 26 13:36:00 2010 +0100

    s3-spoolss: return info for the correct printjob in _spoolss_GetJob().
    
    Guenther

commit 3da91b786ef87bd13ae1210a1bf671e2209d9c1f
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 26 13:17:49 2010 +0100

    s3-printing: avoid mixing cups backend code with nt_printing code in cups_pull_comment_location.
    
    Guenther

commit 772839640e11664e1b1304d7f95146613d6ac1ac
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 22:07:50 2010 +1100

    s3-event: switch s3 to using tevent_re_initialise()
    
    This correctly initialises the event backend, and checks for errors
    
    (thanks to Metze for suggesting this)

commit 789d67c4992e008fe17b830d3b23e3b95a4e70d9
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 21:13:55 2010 +1100

    s4-smbd: use tevent_re_initialise()
    
    This fixes a crash bug on startup

commit 5609c504337b79fd6f521c42b414c650b23d0c9a
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 21:13:27 2010 +1100

    tevent: added tevent_re_initialise()
    
    This allows us to re-initialise a tevent context without destroying
    the pointer. That means that if someone keeps a long term ptr to the
    event context across a fork it will still work.
    
    This also brings the memory handling in single and standard process
    models much closer together, which means less bugs that we don't find
    with make test.

commit 525a4fb2c423dbbeeb1e6da3254f334044b7bd7f
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 19:03:22 2010 +1100

    util: on FreeBSD true is in /usr/bin. Use execvp to find it

commit fae84f98e37e99e41b23739305e7331b3a34ae48
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 17:36:02 2010 +1100

    libutil: moved the networking defines to util_net.h
    
    These were causing thousands of warnings on solaris8

commit c81d2ae3c9a4f9b5d2291563f141bb10d64cd650
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 26 16:50:24 2010 +1100

    libreplace: strerror_r() is needed by heimdal on solaris8

commit af807758e8d98ea53f58b2bae8f00b83074cfdec
Author: Eduardo Lima <eduardoll@gmail.com>
Date:   Wed Mar 24 16:21:15 2010 -0300

    s4-drs: replmd_delete with the 3 stage deletion recycle bin

commit 63fc3978089df403d7e63462593784ff3d05e6e7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 25 16:42:19 2010 +1100

    tsocket: not all systems have IPV6_V6ONLY

commit 92332fb2368c641db1552d1f2a2f7b3deaa11519
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Mar 25 18:20:33 2010 -0700

    Second part of bug #7288 - SMB job IDs in CUPS job names wrong.
    
    Forgot to delete the overload of the smbjob bool.
    
    Jeremy.

commit c79ca41baf15b4ef7eb287d343b17a53ba41e852
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Mar 25 17:36:47 2010 -0700

    Fix bug #7288 - SMB job IDs in CUPS job names wrong.
    
    Based on a patch from Michael Karcher <samba@mkarcher.dialup.fu-berlin.de>.
    
    I think this is the correct fix. It causes cups_job_submit to use
    print_parse_jobid(), which I've moved into printing/lpq_parse.c (to allow the
    link to work).
    
    It turns out the old print_parse_jobid() was *broken*, in that the pjob
    filename was set as an absolute path - not relative to the sharename (due to it
    not going through the VFS calls).
    
    This meant that the original code doing a strncmp on the first part of the
    filename would always fail - it starts with a "/", not the relative pathname of
    PRINT_SPOOL_PREFIX ("smbprn.").
    
    This fix could fix some other mysterious printing bugs - probably the ones
    Guenther noticed where job control fails on non-cups backends.
    
    Guenther PLEASE CHECK !
    
    Jeremy.

commit 2e00a8a74b7c5c95b61e6c7f365ed852c7d95289
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Mar 25 17:09:23 2010 -0700

    Fix bug 7297 - smbd crashes with CUPS printers and no [printers] share defined.
    
    Ensure we don't dereference an array with an index of -1.
    
    Jeremy.

commit 462322f6e8f868c8cd6a5cc84cd0af247a04ec1d
Author: Holger Hetterich <hhetter@novell.com>
Date:   Mon Mar 22 15:05:33 2010 +0100

    s3: vfs_smb_traffic_analyzer.c: remove warnings from developer build
    
    This patch should remove all warnings coming up when compiling
    traffic analyzer with configure.developer.
    
    Re-activate the smb_traffic_analyzer_rmdir function by adding it's
    vfs_fn_pointer to vfs_smb_traffic_analyzer_fns.
    
    Copy the mode_t used in smb_traffic_analyzer_open to the corresponding
    data structure.

commit 9fbbaa560ae74f015e404cfa700753c0b5909519
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 25 20:59:49 2010 +0100

    s3:passdb: avoid sid_to_gid() if the sid is "domain users"
    
    If the call fails we would use the "domain users" sid anyway.
    
    metze

commit ef1c3176c80a5d8533d590aacd0b5035ba589b17
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 25 17:58:19 2010 +0100

    s4:libcli/wrepl: correctly remove the tstream_context when the connection is dead
    
    metze

commit c2a6631dc6a6ea61036f978ede083da3a98861c7
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 25 18:36:12 2010 +0100

    s4-smbtorture: fix include of proto header in main RAP test.
    
    Guenther

commit 36f4541d92b7ae588743ce206514d27419d478df
Author: Torsten Kurbad <samba-technical@tk-webart.de>
Date:   Thu Mar 25 17:58:27 2010 +0100

    s3: Fix a missing </listitem> in vfs_crossrename.8.xml

commit 6392eaf6a33085d91f7be5bfd3cd93b7dc490e6c
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Mar 25 16:45:02 2010 +0100

    s3: Add a comment to notify_internal_parent_init, this is pretty confusing

commit 0deaff0c11dfec123acf361c599a6b79c2e3bccb
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Mar 25 16:44:41 2010 +0100

    s3: Add a comment to serverid_parent_init, this is pretty confusing

commit bb1165584f339c8a54710e71764a251323245d8f
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Mar 25 16:44:02 2010 +0100

    s3: Add a comment to messaging_tdb_parent_init, this is pretty confusing

commit 5a88e43c693f9e0c5dd93e4fd238364262643b5a
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Mar 25 16:02:54 2010 +0100

    s3: Make sure our CLEAR_IF_FIRST optimization works for serverid.tdb
    
    In the child, we fully re-open serverid.tdb, which leads to one fcntl lock for
    CLEAR_IF_FIRST detection per smbd. This opens the tdb in the parent and holds
    it, so that tdb_reopen_all correctly catches the CLEAR_IF_FIRST bit.

commit ed189459b9d7776700ffd353f81b283232940199
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Mar 25 16:01:54 2010 +0100

    s3: Make sure our CLEAR_IF_FIRST optimization works for the notify tdbs
    
    The notify tdb files are opened at tconX time, which leads to one fcntl lock
    for CLEAR_IF_FIRST detection per smbd. This opens the tdbs in the parent and
    holds it, so that tdb_reopen_all correctly catches the CLEAR_IF_FIRST bit.

commit 4cdbe07b2563b56c2d8b9a5733eedf25245ba86b
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Mar 25 15:59:41 2010 +0100

    s3: Make sure our CLEAR_IF_FIRST optimization works for messaging.tdb
    
    In the child, we fully re-open messaging.tdb, which leads to one fcntl lock for
    CLEAR_IF_FIRST detection per smbd. This opens the tdb in the parent and holds
    it, so that tdb_reopen_all correctly catches the CLEAR_IF_FIRST bit.

commit f20bdd32ddabf79800c876fa94b65b928bea3c30
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Mar 25 15:43:47 2010 +0100

    s3: Fix some nonempty blank lines

commit 9a5d50b7246b4c2aed75dc9113b35b17f9612be9
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 25 14:40:40 2010 +0100

    s3-selftest: enable RAP-RPC test against s3.
    
    Guenther

commit a2e65a2addb38ebf57c04b83ae9a2312233d78b7
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 25 13:17:05 2010 +0100

    s3-selftest: add RAP-RPC testsuite for crosschecking RAP and DCERPC calls.
    
    Guenther

commit 45f6eae4c43f47b4ac766183aafe9a7139c257a0
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 25 11:02:33 2010 +0100

    s4-smbtorture: fix drsblobs ndr torture test.
    
    Guenther

commit fa1245f01c73055160173c6a62e29b3368f38db1
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 25 11:02:10 2010 +0100

    s3: re-run make samba3-idl.
    
    Guenther

commit 1ff55500ded3a20ff5ed3fcc7249bfb593ffd2f3
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 25 10:56:15 2010 +0100

    drsblobs: remove utf8string2 from ForestTrustData.
    
    Simo, it's not really worth to add a new idl type just for being able to omit
    the size field. The size field is part of the spec in MS-ADTS 7.1.6.9.3.1 so we
    should have it as well.
    
    Guenther

commit 2e20cdaeeb28bdaddcfd0fb1807e8f3eb8c8e525
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 25 10:20:14 2010 +0100

    s4-smbtorture: activate job control tests against s3 in spoolss tests.
    
    Spoolss job control commands work for cups in s3 now but not for other
    backends. We need to investigate why.
    
    Guenther

commit 59315887a07033316edf91c0c57563eee5ea992d
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Mar 25 10:29:41 2010 +0100

    tdb: Fix indentation in tdb_new_database()

commit ea8e0d5d54b020c530e392c4edaeed43e20af303
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Mar 25 10:19:48 2010 +0100

    Fix some nonempty blank lines

commit 0a65bb57a18176a4aaa6972c025062577b124ee7
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Mar 25 16:30:54 2010 +1100

    s4:selftest Add testing of kpasswd password set on servicePrincipalName

commit 5f6f7a2e518b53783df60e497e1b12fdaee307a7
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Mar 25 16:27:40 2010 +1100

    s4:kdc Add support for changing password of a servicePrincipalName
    
    Apparently AD supports setting a password on a servicePrincipalName,
    not just a user principal name.  This should fix (part of) the join of
    OpenSolaris's internal CIFS server to Samba4 as reported by Bug #7273
    
    Andrew Bartlett

commit 6199ae474589f24180002a22f9c197ab973447b7
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 25 15:45:08 2010 +1100

    s4-ldb: fixed command line parsing in oLschema2ldif
    
    It really doesn't make sense to use the ldb command line code

commit 3b29f9c66e68abff8c49390d97b71b4762d28417
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 25 15:06:40 2010 +1100

    s4-ldb: removed unused command line options -I and -O
    
    These are not used anywehere, so they just confuse people
    
    Pair-Programmed-With: Andrew Bartlett <abartlet@samba.org>

commit 8e1d94778702ac2ab18983abac630957d8782cf6
Author: Fernando J V da Silva <fernandojvsilva@yahoo.com.br>
Date:   Wed Mar 24 13:02:36 2010 -0300

    s4-drs: If we are a RODC then do not send DSReplicaSync messages

commit 088096d1bad51428a2e2d487214995d4fdfc7ccc
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 16:50:50 2010 +1100

    python: use '#!/usr/bin/env python' to cope with varying install locations
    
    this should be much more portable

commit 845c2281c7513bd3139a8f50b593658b32dbdb31
Author: Michael Karcher <samba@mkarcher.dialup.fu-berlin.de>
Date:   Wed Mar 24 17:33:21 2010 -0700

    Fix bug #7269 - Job management commands don't work for CUPS queues.
    
    Samba needs to retrieve pjob->sysjob from the CUPS response (as
    is done in the iprint backend).

commit 34674e0a61fe5b2983176e8c33aa48d43fd840ce
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 25 00:55:32 2010 +0100

    s3-selftest: move printing config to global section.
    
    "make test" variant.
    
    Guenther

commit f84f65306613d2794b14b3eaeba59fe3ca5751cb
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 25 00:55:13 2010 +0100

    s3-selftest: move printing config to global section.
    
    Guenther

commit 426cb9be1c882fea5a22475107aad05e8d0e124e
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 25 00:49:38 2010 +0100

    s4-smbtorture: add print test to RPC-SPOOLSS-PRINTER as well.
    
    Guenther

commit 6913c57b2f22550102e7fcea75d12c99db1776f7
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 25 00:37:45 2010 +0100

    s4-smbtorture: create several printjobs during print test in RPC-SPOOLSS.
    
    Guenther

commit 27c50255f6b05ff68301a3a32c1ede58626cac2c
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 25 00:48:55 2010 +0100

    s4-smbtorture: mention job id in GetJob test output in RPC-SPOOLSS.
    
    Guenther

commit 1bb8341871a6d91ec6b2e826c2cbcb395cba13ee
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 25 00:33:35 2010 +0100

    s4-smbtorture: mention job id in SetJob test output in RPC-SPOOLSS.
    
    Guenther

commit 66b7fcc8ef6b43c219dcae43a68d861cf71b80fa
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Mar 24 12:47:01 2010 -0700

    Fix bug #7233 - print fails with jobs >4GB from Win7 clients.
    
    Ensure we always write at end-of-file for older write calls.
    
    Jeremy.

commit c2d1b01103d63f52c773c83eec52633b7f2032cc
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Mar 24 12:20:03 2010 -0700

    Missing include guard in source4/libcli/security/security.h
    
    Jeremy.

commit eb8e18476c198705a19d375e2f949c6c6df73612
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Mar 24 10:31:43 2010 -0700

    Fix bug #7283 - vfs_acl_tdb does not work as expected.
    
    both vfs_acl_common.c and vfs_acl_tdb.c were using the connection
    handle, thus conflicted. Fix this.
    
    Jeremy.

commit c5f67891528698e3848c7fc464bf1755c56b4477
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Mar 24 10:31:14 2010 -0700

    Fix valgrind warning when source and dest stat are identical.
    
    Jeremy.

commit bb47e5b6172ae28f996b132e8b612c752c873adb
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 24 18:08:21 2010 +0100

    s4-smbtorture: add drsblobs ndr torture test.
    
    Guenther

commit fb70368a975e6c78c6ce557fc6011569dbdc6d75
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 24 18:29:52 2010 +0100

    s4-smbtorture: move up torture_assert_sid_equal at least to the torture/ndr level.
    
    Guenther

commit 254d85d537a57ae3a7f7154987da4049846a85db
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 24 17:37:07 2010 +0100

    s4-selftest: use correct test names.
    
    Guenther

commit 3b33fa72d6b57d1da807250ed6d5c136990ed415
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jan 16 09:32:35 2010 +0100

    s3:ntlmssp: use c99 types
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit dee63fe4ca5d8dad820ff8b5f15edba41e6be65f
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 16:53:08 2009 +0100

    s3:ntlmssp: use client.netbios_name instead of workstation
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 2dfc78a41a34e181ba9dcacf58010ddb0883a619
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 14:20:31 2009 +0100

    s3:ntlmssp: remove unused ntlmssp_set_workstation()
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 9f895ea236fb2e6a5ed93656f75ea853f20fd102
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jan 9 14:38:35 2010 +0100

    s3:ntlmssp: move sign/seal states to a private ntlmssp_crypt_state union
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 8804dc13281acf7839762c9cfb5fb9cafd0ba6a0
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jan 9 11:30:39 2010 +0100

    s3:ntlmssp: add const for *sig in ntlmssp_unseal_packet()
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 9172b4a0b1082f80ce8a1b551d67337005365b43
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jan 6 17:14:25 2010 +0100

    s3:ntlmssp: make whole_pdu const for ntlmssp_[un]seal_packet()
    
    Only data needs to be non-const.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit d0ef97f74b61f0441b078845d0637f5dad3e2e16
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jan 7 10:43:23 2010 +0100

    s3:ntlmssp: use a 'bool ok' variable to make the code more readable
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 0de3698be23d23b79ef52a4a2c51b1ac56f36445
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Jan 9 14:06:27 2010 +0100

    s3:ntlmssp: fix some formating
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit b65e6f0c0da1ecb8d1b05a4190c1dc77ed9b465e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jan 6 15:45:38 2010 +0100

    s3:ntlmssp: inline ntlmssp_weaken_keys()
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit f0e7e94ee1bf6a11091a1fc15780e27a57c2ea93
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jan 6 15:22:24 2010 +0100

    s3:ntlmssp: make send_seal_key and recv_seal_key local variables
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit ca2a5693bf85ccfe5abe540e3a725945b52e8039
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 14:53:08 2009 +0100

    s3:ntlmssp: rename void *auth_context; into void *callback_private;
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 7c42c5d8ffe87885f3ba96f1e0ba6ba69f1bab46
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 15:23:16 2009 +0100

    s3:ntlmssp: add some consts
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 7c0ea293f93eb19de56ae3c642fa3e78a2b50096
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 14:17:51 2009 +0100

    s3:ntlmssp: remove unused get_global_myname() and get_domain() from ntlmssp_state
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 7d977da92554c34539a475feb7dcb0a6dc0ad654
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 14:13:45 2009 +0100

    s3:ntlmssp: pass names and use_ntlmv2 to ntlmssp_client_start() and store them
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 55279dfbe3770563016723c3ba7d1dbbec3d4437
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 13:29:54 2009 +0100

    s3:ntlmssp: remove server_name from ntlmssp_state and fill the server.* fields also for the client
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit eb1780981252f05c792a1e40b7d0471f5b670ef5
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 11:55:23 2009 +0100

    s3:ntlmssp: pass names to ntlmssp_server_start() and store them in ntlmssp_state
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit eca118614c1431855c88b9f43457c0d2d6502ebe
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 10:07:32 2009 +0100

    s3:ntlmssp: replace server_role by a server.is_standalone in ntlmssp_state
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 533830543f4282dfb13173dcf8ccf5e65f9d1ed4
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Dec 29 17:25:47 2009 +0100

    s3:ntlmssp: make use of C99 types in ntlmssp_sign.c
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit c2cc18455b46f2015b916daacaca1fb0ba88ce87
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Dec 29 17:25:20 2009 +0100

    s3:ntlmssp: use uint8_t in calc_ntlmv2_key()
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 25a89b701596aea4e62ffdf11777022687ea5f44
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jan 7 10:10:13 2010 +0100

    s4:ntlmssp: move sign/seal states to a private ntlmssp_crypt_state union
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 598bfdcfd8b7a21815db214b1f7be62cbf7fe720
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jan 8 14:11:10 2010 -0700

    s4:ntlmssp: make use of dump_arc4_state()
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 48d815787924ec8ef4c421c91149a170d474533a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jan 6 16:59:35 2010 +0100

    s4:ntlmssp: copy dump_arc4_state() from source3
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a69260642e9a08a1f3eceed2f77d5c246b171765
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jan 8 13:58:42 2010 -0700

    s4:ntlmssp: avoid usage of calc_ntlmv2_key_talloc()
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 00f99a3df580598442250d38199a457aa8c1b2e7
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jan 8 13:49:54 2010 -0700

    s4:ntlmssp: make use of calc_ntlmv2_key() for seal keys
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit fc120dd758277d22c00c3a8b9a1d0e1357fd95bf
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jan 8 13:37:43 2010 -0700

    s4:ntlmssp: add calc_ntlmv2_key() from source3
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit e0c7d9c8aa10ee0eb927d248b3d46fb0f0a52524
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jan 8 13:36:37 2010 -0700

    s4:ntlmssp: rename calc_ntlmv2_key => calc_ntlmv2_key_talloc
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit c64e6e0a0fd29fb462af90a2a0195280ef5e0696
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Jan 8 13:07:33 2010 -0700

    s4:ntlmssp: inline ntlmssp_weakend_keys()
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 3220c84b72212cb7619ecda60dd8a7c756742e3b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jan 6 16:58:52 2010 +0100

    s4:ntlmssp: use a 'bool ok' helper variable to make the code more readable
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit e669ee4c9d2b068073187326eb61d1ac751a03af
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Jan 7 10:24:12 2010 +0100

    s4:ntlmssp: fix some formating
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 44ce126b84d88eb8b3e84996f0292ae768f88b4f
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Jan 6 14:53:30 2010 +0100

    s4:ntlmssp: move doing_ntlm2 to ntlmssp_server_auth_state
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 40395eee5b8a58e980b46a797042fb86ed4b63d8
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Jan 5 18:24:02 2010 +0100

    s4:ntlmssp: move NTLM2 session_nonce to ntlmssp_server_auth_state
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 1b20f7192a56933a094733bea042e753c7b27c48
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Jan 5 18:21:10 2010 +0100

    s4:ntlmssp: move encrypted_session_key to ntlmssp_server_auth_state
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a56ae60851da0767d8cb2b56d2f8cf0273821189
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Jan 5 18:18:29 2010 +0100

    s4:ntlmssp: keep a ntlmssp_server_auth_state to transport variables from preauth to postauth hooks
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a42cad635f781d76637c04c170f0ad59d8d10269
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Jan 5 17:51:53 2010 +0100

    s4:ntlmssp: remove unused server_multiple_authentications feature.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit d3e7266676f3516c4d5493d11cf75099365b69dc
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 17:57:54 2009 +0100

    s4:ntlmssp: rename gensec_ntlmssp_state => ntlmssp_state
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 706333856b53c7544dcb44a6505ab82bd38d860c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 16:02:37 2009 +0100

    s4:ntlmssp: split gensec_ntlmssp_unseal_packet() and ntlmssp_unseal_packet()
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit d4c2f252dac7b756958c9df3192581cf9ccde529
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 16:02:37 2009 +0100

    s4:ntlmssp: split gensec_ntlmssp_seal_packet() and ntlmssp_seal_packet()
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 1564b2a94beba168c20f961d438a78cebe79d72d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 16:01:28 2009 +0100

    s4:ntlmssp: split gensec_ntlmssp_check_packet() and ntlmssp_check_packet()
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 23507c022f9d926cc15674ae0158ce55478cf202
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 15:58:05 2009 +0100

    s4:ntlmssp: split gensec_ntlmssp_sign_packet() and ntlmssp_sign_packet()
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit b47a849df2be9aa77616b870ffe9877a2ad12ad3
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 15:23:37 2009 +0100

    s4:ntlmssp: make user a 'const char *' in (gensec_)ntlmssp_state
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 36669bfcf1d1ea9f0ec63280b85f3cb356dc10c1
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 15:00:02 2009 +0100

    s4:ntlmssp: remove server_name from (gensec_)ntlmssp_state and fill the server.* fields also for the client
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 282a2d8591a9132dac1d70113a7e51287d3c1674
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 15:14:38 2009 +0100

    s4:ntlmssp: calculate server names at startup and store them in (gensec_)ntlmssp_state->server.*
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 133a3e4ce81ea156461c5e8b922e234dbf1ce688
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 10:14:07 2009 +0100

    s4:ntlmssp: replace server_role by a server.is_standalone in (gensec_)ntlmssp_state
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit c33e72b8c53625247202a2247ec2f4f9bdd24e9e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Dec 29 17:29:47 2009 +0100

    s4:ntlmssp: remove more whitespaces...
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 4ab94f5836a9e0e3002d052eb4076c8d9ad28e2f
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Dec 29 16:46:05 2009 +0100

    s4:ntlmssp: add NTLMSSP_FEATURE_* flags from s3
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit ee240799b6d7918afffdd762ead5221283f5dd5d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 08:23:13 2009 +0100

    s4:ntlmssp: keep struct gensec_ntlmssp_context in gensec_security->private_data
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a0522a5b2633b644fb16d9bdfc6f07e1bed30a15
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Dec 30 08:06:28 2009 +0100

    s4:ntlmssp: remove gensec_security from (gensec_)ntlmssp_state
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 32d822af813b74c33bc618b4130dc50a3b79c7af
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Dec 29 17:56:56 2009 +0100

    s4:ntlmssp: remove backend specifix stuff from (gensec_)ntlmssp_state
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 83cc137d5eef9d50af9b458c5c64fa9abc20adde
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Dec 29 17:01:28 2009 +0100

    s4:ntlmssp: create a gensec_ntlmssp_context between gensec_security and ntlmssp_state
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 8df01705bf10c700ea2f76387cf6fedaacb24327
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Dec 29 16:48:38 2009 +0100

    s4:ntlmssp: add definition of gensec_ntlmssp_context
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit bd550df322251f4cf2b3d053563d601e5aca8f00
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Dec 29 16:47:11 2009 +0100

    s4:ntlmssp: add a callback_private pointer to gensec_ntlmssp_state
    
    We'll remove any gensec specific stuff from gensec_ntlmssp_state
    and rename it to ntlmssp_state again.
    
    Inspired by the NTLMSSP merge work by Andrew Bartlett.
    
    metze
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a6bfc1a2d0270197ee34405f3ce028a5919f1aaa
Author: Karolin Seeger <kseeger@samba.org>
Date:   Wed Mar 24 14:55:15 2010 +0100

    s3-testparm: Throw warning when 'workgroup' and 'netbios name' are identical.
    
    Address bug #7285 (NetBIOS Namespace Clash Handling).
    
    Karolin

commit ef6976dad3234b57016f8dce3f1b8e93d3ddb521
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Wed Mar 17 03:27:05 2010 +0200

    idl: drsuapi.idl - fix few more comments

commit 9ad8f808f719af1b680013cc26c737730cb53adb
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Wed Mar 17 03:09:09 2010 +0200

    idl: Regenerate DRSUAPI idl files

commit aa572a43342c4bb16f5769a9272bef2c6193e58f
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Wed Mar 17 03:08:56 2010 +0200

    s4/drs: Pretty print for drsuapi_SecBufferType
    
    It is a type and mask combined in one DRS field so
    we have to make a custom ndr_print implementation for this type

commit 842d75613bd2efcefa8b01eafae9fa9e43a3aa45
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Wed Mar 17 03:07:01 2010 +0200

    s4/idl: DsAddEntry V3 request description

commit db02ca65a01f218cb5ea2282ad00936409f3cc54
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Mon Mar 15 13:57:41 2010 +0200

    s4/drs: Implement DsAddEntry V3 error handling

commit 6b3ff0de465605f8fe2409a91c7b7977efb413dc
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Wed Mar 17 01:20:31 2010 +0200

    s4/idl: Remove drsuapi_DsAddEntryExtraErrorBuffer - it is not used anymore

commit 3efad5a6d85ed5ee6db93d7a14e4541bf6bcbf16
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Tue Mar 16 21:58:22 2010 +0200

    s4/idl: Complete drsuapi_DsAddEntryErrorInfo description
    
    Members for Security, Service, Update and System errors renamed
    to be more descriptive.
    
    All those error types share same description.

commit 0663799275a88739d4813422b3f3f8960ef402f9
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Tue Mar 16 01:30:05 2010 +0200

    s4/idl: Add DsAddEntry Referral error definition

commit 61e80fe3eb58179f3ef33ac930b231824f3b15e1
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Sun Mar 14 16:07:49 2010 +0200

    s4/idl: Add DsAddEntry Name resolution error definition

commit 04f4ea6ae22f5821ccc80dab04dc2fa17c946f1f
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Fri Mar 12 17:05:58 2010 +0200

    s4/drs: Refactor error handling for DsAddEntry V3 replies
    
    Dumping for specific error classes are to be implemented properly
    in the near future.

commit fbaf3b3799f6c177eb7b2210b3417fb13b2b97e1
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Fri Mar 12 15:06:19 2010 +0200

    s4/drs: pretty print for drsuapi_DsAddEntry_AttrErrListItem_V1

commit 98cbcf809f9a5a5571316a9119c75655924f46f0
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Fri Mar 12 14:55:05 2010 +0200

    s4/idl: redefine drsuapi_DsAddEntryErrorInfo1
    
    This actually describes Attribute error during DsAddEntry execution.
    
    Structure is renamed to drsuapi_DsAddEntryErrorInfo_Attr.
    And structure to define Attribute error data are all
    prefixed with drsuapi_DsAddEntry_AttrErr

commit 00fce797e889eb7b9d8310e18d5264cad5403dd2
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Wed Mar 10 16:37:38 2010 +0200

    s4/drs: drsuapi_DsAddEntry_ErrData propagate structure def in source code

commit 7b4341637cdd9e4797303197e8c2e1e405ab20e1
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Fri Mar 12 14:30:05 2010 +0200

    s4/idl: drsuapi_DsAddEntryError refactored
    
    Structure description and name was changed to be aligned with
    WSPP definition.
    
    Ref: [MS-DRSR] 4.1.1.1.23

commit 427a1f3c6269105256f5d0b0cb642465e728314a
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Fri Mar 12 13:42:05 2010 +0200

    s4/drs: DsAddEntry - extending error handling for V2 replies
    
    After having more complete definition for DsAddEntryReply V2
    structure, we can now handle error state in more robust way,
    not just counting on number of objects returned.

commit fbc1528649b378c9fd004d092b89cb7db545fc61
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Tue Mar 9 02:59:34 2010 +0200

    s4/idl: DsAddEntry - refactor DsAddEntryCtr2 structure
    
    Reply structure definition was aligned with WSPP documentation
    Ref: [MS-DRSR], section 4.1.1.1.7

commit 58ddf31ad1aad26b4a1bff885c9e7a66a51cd3f6
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Mon Mar 8 03:52:14 2010 +0200

    s4/drs: drsuapi_DsAddEntryErrorInfoX changes propagated to source code

commit 4cdf4627a12751b821932e298450e80628f16158
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Mon Mar 8 03:51:37 2010 +0200

    s4/idl: Update drsuapi_DsAddEntryErrorInfoX definition
    
    drsuapi_DsAddEntryErrorInfoX is an extended error
    description used by most of the error infos returned
    by DsAddEntry RPC method.

commit 818719f7ba5b386bc0b191227d68c1a7ebc8843c
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Fri Mar 12 13:39:52 2010 +0200

    s4/idl: DIRERR error codes definition
    
    DIRERR codes specify class of error returned from
    DsAddEntry method call.
    
    Ref: [MS-DRSR], section 4.1.1.1.25

commit 05db9365b62289298984e3b30c7a74bfbbf07685
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Sun Mar 7 21:46:39 2010 +0200

    s4/drs: DsAddEntry - Propagating unsigned switches to source code

commit a4ed8dc1fd51ff0713679aea7e49e842f26fb0dd
Author: Kamen Mazdrashki <kamen.mazdrashki@postpath.com>
Date:   Sun Mar 7 21:36:22 2010 +0200

    s4/idl: DsAddEntry - switch types should be unsigned

commit fcad13500bee1305784df6de0f553372b2948a74
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 24 13:34:01 2010 +0100

    s4-smbtorture: add missing checks for WERROR results in RPC-SAMBA3 tests.
    
    Guenther

commit 8cd63a854e465bba030436038e4644f694f2801a
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 24 13:18:33 2010 +0100

    s4-smbtorture: fix some invalid parameters in RPC-SAMSYNC test.
    
    Guenther

commit 9fd24eb9c5fdd0e4a801af83cf9ec7f6de6c4504
Author: Günther Deschner <gd@samba.org>
Date:   Mon Mar 22 15:58:09 2010 +0100

    s4-smbtorture: cleanup some of the RPC-SAMBA3 tests.
    
    This avoids printf, uses simplication functions where appropriate, etc.
    
    Guenther

commit 5e87e8576caddfb6e46b6c7d42428b79d2056569
Author: Günther Deschner <gd@samba.org>
Date:   Mon Mar 22 17:24:38 2010 +0100

    s4-smbtorture: add rap_get_servername to RPC-SAMBA3 family of tests.
    
    Guenther

commit 7d89c7c17bcedd33dae7d3200104dc0643a753f6
Author: Simo Sorce <idra@samba.org>
Date:   Wed Mar 24 07:45:15 2010 -0400

    idl: fix comment and convert whitespaces to tabs

commit 5592a9ba5adb6e23a0fc580725184f39efce0486
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Mar 24 19:27:18 2010 +1100

    s4:selftest Test --sign and --encrypt options to ldbsearch

commit bb7854afea47699be32f5331fe5f8f05e469cb96
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Mar 24 19:26:02 2010 +1100

    s4:cmdline Add --sign and --encrypt options to our common command line
    
    This allows ldbsearch to accept --sign and --encrypt.  I'll soon work
    to integrate with the --signing= option in smbclient.
    
    Andrew Bartlett

commit a2286bad67a772d290fead9832b7ca52877c40b2
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Wed Mar 24 16:09:02 2010 +1100

    s4:ntlmssp Ensure that we always negotiate signing if we negotiate sealing.
    
    Without this, a sealed LDAP connection to windows does not work.
    
    Andrew Bartlett

commit fbdcaa929c7270469cf6c31fd6fcf94ce4e7306e
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Mar 23 18:36:55 2010 +0100

    s3: Optimize gencache for smbd exit
    
    If thousands of smbds try to gencache_stabilize at the same time because the
    network died, all of them might be sitting in transaction_start. Don't do the
    stabilize transaction if nothing has changed in gencache_notrans.tdb.
    
    Volker

commit a599319d0a389ff0c31dae8068cd7a78352aa9e7
Author: Andrew Tridgell <tridge@freebsd.home.tridgell.net>
Date:   Wed Mar 24 05:06:25 2010 +1100

    libreplace: fixed declaration of dprintf() on FreeBSD

commit 83aaf4829e2b9bece5c1b4181553d3025d6d2cb3
Author: Andrew Tridgell <tridge@samba.org>
Date:   Wed Mar 24 16:52:37 2010 +1100

    s4-provision: FreeBSD uses 'staff' for users

commit de2b8419358d3588f6d33a22686260de8efda1d2
Author: Andrew Tridgell <tridge@samba.org>
Date:   Tue Mar 23 11:02:32 2010 -0400

    s4-provision: solaris uses the group "other"

commit 4c4d0a029dd4fd2b509f724b5166b3ff99222d2b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Mon Mar 22 18:40:44 2010 +1100

    build: fixed nss_wrapper on solaris
    
    solaris has different getpwnam_r syntax

commit fd2bc081381eb24bdbb82d0b1b0fbf0ae12f250a
Author: Simo Sorce <idra@samba.org>
Date:   Tue Mar 23 18:45:20 2010 -0400

    idl: fix forest trust information idl
    
    --validate now passes

commit 247c6f53f9e2bc5dd1039e49cc92062b240ae818
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 23 18:32:06 2010 +0100

    s4-smbtorture: remove tailing whitespace in samba3rpc testsuite.
    
    Guenther

commit ec30022233dd41db7bd13de73fbd7e7602c42e18
Author: Stefan Metzmacher <metze@sernet.private>
Date:   Thu Mar 18 18:55:49 2010 +0100

    s4:librpc/rpc/pyrpc.h: librpc/rpc/dcerpc.h isn't needed anymore
    
    metze

commit f57b1da428a2922e872657e43c6fa2e3774b22c4
Author: Stefan Metzmacher <metze@sernet.private>
Date:   Thu Mar 18 19:36:50 2010 +0100

    s4:lib/messaging: pymessaging needs libndr.h
    
    metze

commit 4985720e81b46e1663b5d5c8caba122b5bea2fc5
Author: Stefan Metzmacher <metze@sernet.private>
Date:   Thu Mar 18 18:55:00 2010 +0100

    pidl:Samba4/Python: librpc/rpc/dcerpc.h isn't needed anymore
    
    metze

commit 48cd096126578c6a09aeba8d4cc68840c50d8d8c
Author: Stefan Metzmacher <metze@sernet.private>
Date:   Fri Mar 19 13:02:26 2010 +0100

    s4:libnet: don't include librpc/rpc/dcerpc.h directly
    
    metze

commit 845f9c01ed279495919e2781db2e8927ebd3e968
Author: Stefan Metzmacher <metze@sernet.private>
Date:   Fri Mar 19 19:16:35 2010 +0100

    s3:librpc/rpc: move prototypes to dcerpc.h
    
    metze

commit bf9f24f571e87f5c6ae39cf68c5af3c99664a102
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 23 17:28:55 2010 +0100

    s4-smbtorture: use torture_context in samsync test.
    
    Guenther

commit 9c586e6b1bffac76b40a85d544904b9f8d56451e
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 23 17:16:23 2010 +0100

    s4-smbtorture: remove trailing whitespace from samsync torture test.
    
    Guenther

commit 3e04bf4fbce09ff2538e1c83f904a0b3fe9a755c
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 23 16:30:05 2010 +0100

    s4-smbtorture: use torture_context in libnet domain tests as well.
    
    Guenther

commit bebb17ad0e8a9508bf6b083c4f709001fc6998c5
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 23 16:43:41 2010 +0100

    s4:WINREG torture - fix an error (missing "break" in a "switch")
    
    Sorry my fault - I didn't discover that earlier since we had binary data types
    support activated in s4.

commit 3a2488870f8f52e14948b50ec9b91de1c9a990b9
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 23 16:19:26 2010 +0100

    s4:registry - "reg_ldb_pack_value" - provide workarounds when the server receives non-standard data.
    
    For now we reset/delete the "data" attribute. Anyway there is the need to find
    a better solution (we probably want to change the format and save all data as
    we got it like Windows itself does).
    
    These workarounds are needed since for example the Windows 2000 Registry Editor
    initialises empty REG_SZ strings with content '\0' and length 1 (not a valid
    UTF16 sequence - "convert_string_talloc" breaks). So we simply reset/delete the
    "data" attribute which works (no content).

commit 0426b5b78678f4ffe564aa58a00a8f01790e7b1f
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 23 16:17:25 2010 +0100

    s4:registry - "LDB backend" - fix indentation

commit 97a974e5b7b4645544b10ff48459125c5580580d
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 23 15:31:27 2010 +0100

    s4-smbtorture: use torture_context for debugging output everywhere in libnet torture tests.
    
    Mimir, please check.
    
    Guenther

commit f5eb8eb97fb494501359e0c5ee368f2bb64ad717
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 23 16:04:30 2010 +0100

    s4-smbtorture: remove trailing whitespace in libnet torture tests.
    
    Guenther

commit fad0629e78c8672ea9b4eeb709b1d21c43abac06
Author: Karolin Seeger <kseeger@samba.org>
Date:   Tue Mar 23 14:53:49 2010 +0100

    s3-builtin: Add missing builtin groups.
    
    Karolin

commit d05a1bd01359d73f2d6a6448a0272acef929ada0
Author: Karolin Seeger <kseeger@samba.org>
Date:   Tue Mar 23 15:24:25 2010 +0100

    s3: Re-run make samba3-idl.
    
    Karolin

commit 18d1821490a9793dc7df123c5d3f212857239b29
Author: Karolin Seeger <kseeger@samba.org>
Date:   Tue Mar 23 14:26:51 2010 +0100

    security.idl: Add missing builtin groups.
    
    Karolin

commit 77de23384d65261e5254b42760d48588fb32ef0c
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Mar 20 11:29:46 2010 +0100

    librpc/rpc: fix dcerpc_errstr() to handle all nca_s_* status codes and fallback to WERROR codes
    
    metze

commit 56180e3d2bd900a9790751b9647e755761e560c5
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 23 14:37:40 2010 +0100

    s3:re-run make samba3-idl.
    
    Guenther

commit 0fa67c8d8f03d1671382adc2e16340a1df11a2de
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Mar 20 10:57:26 2010 +0100

    dcerpc.idl: add nca_s_* status codes from the DCE 1.1 specification
    
    metze

commit ef83c970ca66bf02d684c6fb913a6caa2b25e39c
Author: Karolin Seeger <kseeger@samba.org>
Date:   Tue Mar 23 11:39:05 2010 +0100

    s3-builtin: Add some builtin groups.
    
    Karolin

commit 9f84d72ef16d3be926f6caffe3c86b4a61b9fc11
Author: Simo Sorce <idra@samba.org>
Date:   Tue Mar 23 01:06:24 2010 -0400

    idl:drsblobs add code to interpret msDS-TrustForestTrustInfo

commit d9e311ddce50a6decc55ea442f562d11f06e2f78
Author: Simo Sorce <idra@samba.org>
Date:   Tue Mar 16 16:15:39 2010 -0400

    s4:lsa Functions to set Domain Trust Information

commit 668e7db9d69c8ad62fe817fd057542149937a55f
Author: Simo Sorce <idra@samba.org>
Date:   Mon Mar 22 16:37:24 2010 -0400

    s4:lsa move code to add trusted domain user into its own function

commit 650a62d1cb72428c190dbc55e9e279746c796c78
Author: Simo Sorce <idra@samba.org>
Date:   Mon Mar 22 10:48:31 2010 -0400

    s4:lsa Abstract crypto (un)wrapping in separate functions

commit a6f5e495b1aa87982ee69c17b098e27010bed756
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 23 00:24:32 2010 +0100

    s4:registry - "LDB backend" - revert the length check for UTF16 strings
    
    Let this do the "convert_string_talloc" function as it was before.

commit f39ef9866870d320ae0106dfd09a41c0451e9238
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 23 00:13:26 2010 +0100

    Revert "s4:torture - WINREG RPC - reactivate test "SetValueExtended" for s4"
    
    This reverts commit 0f2cf82e5e52da6fc71742df7b13c9f372bcf113.
    
    Naturally we have to revert this for s4 until a new storage mechanism for binary
    REG_SZ and REG_*WORD values has been found.

commit bca353561ebc67a4e78fdd84f4316259be29820f
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 23 00:09:22 2010 +0100

    s4:registry - "LDB backend" - revert the binary storage of "REG_SZ", "REG_DWORD" and "REG_QWORD"
    
    We agreed that this hack isn't the best of the possible solutions.

commit 6a63c38c1258e5a666f11b5b795828ea7bedbf14
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 23:53:17 2010 +0100

    s4:ldb_modules/util.c - fix two counter variables to be "unsigned"

commit 7509b56b5f59a7aeeb2ad1538ef71cbb8b459948
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Mar 22 15:57:31 2010 -0700

    share_info.tdb could use non-canonicalized sharenames.
    
    Fix this by moving canonicalization into lib/sharesec.c. Update the
    db version to 3. Ensures we always find share names with security
    descriptors attached.
    
    Jeremy.

commit 31b45854891f194c46629185b4bb494691f06441
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 23:16:26 2010 +0100

    convert_string_talloc_convenience - print out the input buffer in a better way (using dump_data since it isn't always directly readable)

commit c69afbbfd080c6a0f0d6b6db8745171b3cbc7830
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 22:38:45 2010 +0100

    s4:registry - "reg_key_del/add_abs": call "talloc_free" only on valid objects

commit 12f42e35bcbb819cb742c28538b7cc67ac9d93cf
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 22:23:08 2010 +0100

    s4:registry - "reg_import_hive_key" - change a "talloc_steal" into a "talloc_reference"
    
    Use a "talloc_reference" since the "hive" variable can continue to exist also
    after the destructed "struct local_key" object. It is also referenced by the
    "mountpoints" structure under the "ctx" object.

commit e2466334a07062ca9c7160c8487386e1743d982a
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 22:01:31 2010 +0100

    s4:registry - "patchfile" - add another "W_ERROR_HAVE_NO_MEMORY" macro call

commit 8046cbe3c1b2a61081ef091398ec0ff2183e7a0d
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 21:46:39 2010 +0100

    s4:registry - "local" - add also here more "W_ERROR_HAVE_NO_MEMORY" macro tests

commit e690c0776fa4d3a475e9291c243be6141d54b4d4
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 21:34:54 2010 +0100

    s4:registry - "util.c" - initialise "result" in "reg_key_add_abs"

commit 0c10703c756117ad1a8c9e911157cd9ca81f0f70
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 20:14:51 2010 +0100

    s4:WINREG RPC - add also here a "W_ERROR_HAVE_NO_MEMORY"

commit e78289f167363f3617f7417f7e25de369ea22d7f
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 20:12:13 2010 +0100

    s4:registry - "samba.c" - add a "talloc_free"

commit dc17292f1a097d3abd8c391315b661034ab1914e
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 20:10:26 2010 +0100

    s4:registry - add more "W_ERROR_HAVE_NO_MEMORY" invocations (on talloc'ed stuff)

commit 9c3e6249fd984b823a77cab0514601d2a487920a
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 19:53:23 2010 +0100

    s4:registry - "util" - remove "const" from "reg_abs_path"
    
    Here it's not really needed

commit 5f850af84aec378780b5caeff9e795297654abcc
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 19:56:52 2010 +0100

    s4:registry - adaptions for "add also a memory context argument for "reg_key_del_abs"

commit 5b6ad54f43741c0c25b35e44cafe5fed352ff133
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 19:47:49 2010 +0100

    s4:registry - "util" - add also a memory context argument for "reg_key_del_abs"

commit 9d8592978e28c492d971a3b5a4c0133febc149ea
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 19:45:21 2010 +0100

    s4:registry - "util" - make "reg_key_add_abs" consistent with "reg_key_del_abs"

commit 05d8882a966708f994688fce3b978abb1432bc40
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 19:44:19 2010 +0100

    s4:registry - "util" - fix up memory allocated data

commit 96bb09bcf6ed221b1ce11dd4ec91b64d53ff6626
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 19:26:59 2010 +0100

    s4:registry - "dir.c" - fix up dynamic memory allocation operations
    
    - Added free operations where needed
    - Use always the "mem_ctx" for temporary data
    - Proof with W_ERROR_HAVE_NO_MEMORY if stuff was allocated

commit 43170dafbcbe7464bce9b4c6d76532d7d0bf5b9a
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 19:18:56 2010 +0100

    s4:registry - adaptions for "add memory contexts for delete value/key functions"

commit 64f51380aad484d020093c926512ec79a35bcb93
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 18:51:20 2010 +0100

    s4:registry - registry.h - add memory contexts for delete value/key functions

commit e2c7e5c4f72565fe49265d5b036531926ea1ac92
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 14 20:07:58 2010 +0100

    tdb: Fix bug 7248, avoid the nanosleep dependency

commit 12f97c0576c8ec6628971aa7f86d7cbc5e304293
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Mar 22 13:05:29 2010 -0700

    Fix valgrind error when running under share level security. plaintext_password
    is a data blob with a data pointer pointing to an allocation of length zero.
    
    Jeremy.

commit 70f9338bf2e6081916ffe5bb7cddf50b4e958b24
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Mar 5 16:46:36 2010 +0100

    s3: Add the "ctdb locktime warn threshold" parameter
    
    This is mainly a debugging aid for post-mortem analysis in case a cluster file
    system is slow.

commit cad0c004ad54d80dcb25803f0ebb317344a42792
Author: Volker Lendecke <vl@samba.org>
Date:   Thu Mar 18 12:50:22 2010 +0100

    s3: Implement an asynchronous echo responder process
    
    This replies to echo requests when the main smbd is stuck somewhere
    
    Signed-off-by: Stefan Metzmacher <metze@samba.org>

commit 0c77e3a1bae728de3f48bdce4a82d85007ea9b45
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 22 09:06:07 2010 +0100

    s3:smbd: don't allow SMB2 if the async echo handler is active
    
    metze

commit 5a069f7209855e69082a176969533cc0d0ac0f55
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Mar 19 15:47:11 2010 +0100

    s3:smbd: disable SMB encryption when the echo handler is active
    
    metze

commit d663b4c6c03450366375eb0951209bc374835935
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 22 09:11:05 2010 +0100

    s3:smbd: disallow readbraw and writebraw if the echo handler is active
    
    metze

commit fbf112bd1684acf420b104e0e7d66721af47c676
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Mar 19 12:08:13 2010 +0100

    s3:smbd: disable sendfile if the echo handler is active
    
    metze

commit 453e6af5b81c8f206d87ec2e62fd79172f695950
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 18 20:22:26 2010 +0100

    s3:smbd: don't use recvfile if the echo handler is active
    
    metze

commit 79e5e3dda7178c4d3c5952a48474d6dcafba91ec
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Mar 19 14:59:19 2010 +0100

    s3:smbd: setup a shared memory area for the signing state
    
    metze

commit 44d655b33fecb7a543ff957940716ba93fec12cd
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 22 08:42:13 2010 +0100

    s3:smbd: add echo handler information to struct smbd_server_connection
    
    metze

commit 752240ccdc4dcdce7a2270ee5544e007c44bcf4d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 22 08:35:33 2010 +0100

    s3:param: add "async smb echo handler" option
    
    This will enable an extra forked process that will reply
    to SMBecho requests, while the main process is blocked by another
    request.
    
    metze

commit b2c107ffbcd067ccc42f81a2d0969f7f88b63ae7
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 18 15:36:19 2010 +0100

    s3:smbd: pass down trusted_channel via receive_smb_talloc()
    
    metze

commit 1e7086e5ce0924687d657de583adb63a9f0c1bfb
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Mar 19 12:04:32 2010 +0100

    s3:smbd: let reply_readbraw_error use the locked socket
    
    metze

commit c1653e3b0e536e835faf82a5aadadaec1cd38d1a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Mar 19 12:02:27 2010 +0100

    s3:smbd: send keepalive packets under the socket lock
    
    metze

commit 977aa660f452d8ebc8f3a2f4bfbf0dda0bc230a2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 18 09:23:48 2010 +0100

    s3:smbd: smbd_[un]lock_socket() while accessing the socket to the client
    
    metze

commit 8de8554628bd3b16d9e488adfc31c8014c2eb1db
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 18 09:17:43 2010 +0100

    s3:smbd: add smbd_[un]lock_socket() dummies
    
    metze

commit 0b7da43da0bd5c7e0986854cda63103f082a26ee
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 18 09:14:40 2010 +0100

    s3:smbd: add an option to skip signings checks srv_check_sign_mac for trusted channels
    
    metze

commit 048c919dc0b7bc038becad34c2861c43c72c43c9
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 17 15:07:07 2010 +0100

    s3:libsmb: add a smb_signing_init_ex() function
    
    Make it possible to overload memory handling functions.
    
    metze

commit 01f2c023f7d2a4b0e016676638a062a5ba29ec0b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 22 08:27:58 2010 +0100

    lib/util: add allocate_anonymous_shared()
    
    metze

commit 13400a6589a20452097bc338fa742d834bbd6a34
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Mar 22 15:29:19 2010 +0100

    s3: Fix a bad memleak in winbind

commit dd111804f6b22e36fe9753c6f805f0f7ae43af15
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 14:00:02 2010 +0100

    s4:registry - "RPC backend" - use "talloc_steal" and not "talloc_reference"
    
    No need to create additional references but we need to assign the strings to the
    right context.

commit 43bb87f5fa8fb23aee816636cefeb509397e7291
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 13:39:40 2010 +0100

    s4:registry - "patchfile" - check if strings could be allocated

commit 686825e0255a106d7bc67fb6059cd3c1ddefe315
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 13:33:04 2010 +0100

    s4:registry - "patchfile" - initialise the data blobs

commit c5b9b25c714516555bb6832edb62a72b66268dd8
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 12:42:21 2010 +0100

    s4:registry - "patchfile" - add more "talloc_free"s to save memory

commit 885a167929c7f5409a6239705ef6142ecc014ff3
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 12:22:13 2010 +0100

    s4:registry - "util.c" - "reg_string_to_val" - consider always the return values
    
    In some cases we didn't consider them.

commit 6f7f16dc80000ccea582036dc58ce81ea9f078b0
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 12:15:19 2010 +0100

    s4:registry - "patchfile_preg.c" - also here don't accumulate the memory usage
    
    Free always the unused stuff.

commit 93472b41dedd8e30be8752c271f2b4bca392176a
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 12:00:57 2010 +0100

    s4:registry - "patchfile_dotreg.c" - fix a memory leak
    
    Here we allocate memory on the "NULL" context through "reg_val_data_string" on
    each call of "set_value". So when we have written out the allocated data on the
    specified file descriptor we should immediately free this memory! Otherwise we
    may end up with a big memory consumption on big registry databases.

commit 5f24bfb7b9419d4aac220adc038bd3776fc172e6
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 11:45:20 2010 +0100

    s4:registry - "patchfile" - add comments
    
    Helps to understand when we need to generate the hive diffs.

commit b2f45f20b0108ba6c834f813386ab3d29a729abd
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Mar 22 11:19:10 2010 +0100

    s3: Add "log writeable files on exit" parameter
    
    This boolean option controls whether at exit time the server dumps a list of
    files with debug level 0 that were still open for write. This is an
    administrative aid to find the files that were potentially corrupt if the
    network connection died.

commit 0cf9d62f30218efcfddf2b00e6117fb670f0f911
Author: Günther Deschner <gd@samba.org>
Date:   Sun Mar 21 00:05:00 2010 +0100

    s4-selftest: fix selftest-vars script.
    
    Tridge, please check.
    
    Guenther

commit f8019ff793a735563ccedf5581c72e015fd62014
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Mar 22 18:44:51 2010 +1100

    s4:dsdb Add a shortcut sequence number for schema reloads
    
    This uses the ldb sequence number, in a hope to detect an unchanged
    schema quicker.
    
    Andrew Bartlett

commit fe3e1af901c970f738bee92baac5d7d4f5736e17
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Mar 22 16:03:33 2010 +1100

    s4:dsdb Rework schema loading and add schema reloading
    
    This commit reworks Samba4's schema loading code to detect when it
    needs to reload the schema.  This is done by watching the @REPLCHANGED
    special DN.
    
    The reload happens by means of a callback, which is only set when the
    schema is loaded from the ldb - not when loaded from an LDIF file or
    DRS.
    
    We also rework the global schema handling - instead of storing the
    pointer to the global schema in each ldb, we store a flag indicating
    that the global schema should be returned at run time.  This makes it
    much easier to switch to a new global schema.
    
    Andrew Bartlett

commit d0b54476fc9f855d1e482597538a7ec60e04f331
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Mar 22 16:00:39 2010 +1100

    s4:dsdb Move dsdb_save_partition_usn() to be a module helper function
    
    This function should not traverse the module stack again, but instead
    run from this point.  Also add a matching
    dsdb_module_load_partition_usn() and change repl_meta_data to match.
    
    Andrew Bartlett

commit 639728a29873e4cf59dfa149a231eae353f3753a
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Mar 22 15:41:51 2010 +1100

    s4:schema Expand the schema structure
    
    We now store the location of the schema in the schema, and provide
    hooks for a future schema reloading mechanism.
    
    Andrew Bartlett

commit 775c5ec1c57b4acf61c1c750c4832f64defcb5b6
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Mar 22 15:20:47 2010 +1100

    s4:dsdb Remove unused 'dsdb_make_schema_global' call from pyglue

commit 7fc94eb9a7034c36943efbe04f4f4cdfb174c50e
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Mar 22 15:19:55 2010 +1100

    s4:dsdb Add 'const' to some struct dsdb_schema variables
    
    We don't currently require this, but we may move this way in future.

commit fc5a507a86f37aecb6702d8c2c3bdc462e49f9fd
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Mon Mar 22 15:17:58 2010 +1100

    s4:dsdb Don't load the schema unconditionally
    
    Schema loads now come at a price, so avoid doing them if we don't have
    to (such as when doing an @REPLCHANGED or other special DN based
    search).
    
    Andrew Bartlett

commit 8195832c6cde7ebb2de5543be76979a111bd5712
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Mar 22 09:16:57 2010 +0100

    s3: file_walk_table -> files_forall
    
    This is more in line with the rest of the Samba code, like connections_forall
    etc.

commit 678815081da171e10123b1f6768a554adc1bedb4
Author: Volker Lendecke <vl@samba.org>
Date:   Mon Mar 22 09:11:24 2010 +0100

    s3: Fix some nonempty blank lines

commit c8a9533902036dc09e900fc2075765833502585b
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 00:13:02 2010 +0100

    s4:registry - "patchfile.c" - consider also the hives in the generated diffs
    
    Apparently the diffs for the hives weren't generated previously.

commit 056d262bb008fdcd0d46ff54dc93261e812d8e07
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 22 00:02:06 2010 +0100

    s4:registry - "patchfile.c" - fix a typo

commit 872d2330a4d0d2608993fab9e9c0b0c3aa3921f8
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 21 23:41:50 2010 +0100

    s4:regtree - fix counter variables to be "unsigned"

commit 61761cbac8f609c9ee7c6d391739c50bd4844340
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 21 23:36:09 2010 +0100

    s4:registry - "LDB backend" - "reg_ldb_unpack_value"
    
    When the name isn't found it is the default value. Call it "" to be consistent.

commit 7b54964a253b031ba0351fecbfc271a68b76c25b
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 21 22:01:06 2010 +0100

    s4:registry - "LDB backend" - "reg_key_get_info"
    
    Consider also the default value (if it exists) as value. That means:
    - count it when setting "num_values"
    - take also his buffer length as a candidate for the maximum value buffer length
    
    This is what Windows does.

commit 773faa50632b8cee0008fe5d2c277c924b121756
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 21 22:57:31 2010 +0100

    s4:registry - "LDB backend" - "ldb_get_default_value"
    
    There exist also key objects (the hives) which don't contain a "key" entry at
    all. This prevented to display their default value (my fault).

commit b7f129f5c4686ac22940a09f306c813ce4212aef
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 21 22:02:19 2010 +0100

    s4:registry - "LDB backend" - make the key argument "const" of ldb_get_default_value

commit ea621efee79721afff8238c94ee8c95045820d0b
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 21 21:51:06 2010 +0100

    s4:registry - "LDB backend" - fix indentation

commit 56940a28ff759fb2903891f69dc4bbf5f0789b9f
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 21 20:59:13 2010 +0100

    Fix an uninitialized variable

commit fc80ff40025a35a61aa1a0c7666f98b4c0b78924
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 21 17:49:06 2010 +0100

    s3: Fix bug 7202 for multi-threaded applications
    
    Thanks to Sergey Tereschenko <serg.partizan@gmail.com> for providing good
    feedback!
    
    Volker

commit d097d9fb09ff1f4acc4c8407a1a7903b6ef197de
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 21 15:55:04 2010 +0100

    Use TALLOC_FREE in talloc_pop()

commit 0f3040a61fc51434e07ed5a87a89eda25e196514
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 21 15:16:27 2010 +0100

    Use calloc instead of ZERO_STRUCTP in talloc_stackframe_create()

commit 6695b0e87d135dff759ce202cf61de49e062e946
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 21 15:14:48 2010 +0100

    Trim an overlong line

commit 6c39b10f1d3927c4e6dc31523b79b6611f6f8bc6
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 21 16:02:36 2010 +0100

    s4:regshell - here we don't need a newline - "ctime" itself provides one

commit d4425ecea5b4c5bc586ee53a78b386d4a57a2d21
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 21 15:54:17 2010 +0100

    s4:regshell - don't return an error code if we get a security descriptors error
    
    s4 itself doesn't support them so print only the error code out (in s4's case
    WERR_NOT_SUPPORTED).

commit ad83995de5df5a738c2fdad48866e226533b9b0a
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 21 15:33:52 2010 +0100

    s4:registry - "LDB backend" - reg_key_get_info - adapt max. subkey and value length
    
    Those lengths are measured in UTF8 string lengths and not in UTF16 ones (the
    returned strings are generally in this format). Discovered this by checking the
    s3 registry code.
    Therefore we have to multiply the both numbers by two.
    
    Discovered with the "regedt32" (old NT registry editor).

commit 2bbdb2cd34233b0836f1aa7365e02c85494af4fa
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 21 15:12:37 2010 +0100

    s4:WINREG RPC server - don't check for the "name" size in "EnumValue"
    
    This isn't needed at all since:
    1.) a new name object is created and sent back to the client
    2.) the "size" seems to be the size of the "name" pointer. On my test with the
        "regedt32" program this has always been "4".

commit 0f2cf82e5e52da6fc71742df7b13c9f372bcf113
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 21 14:30:53 2010 +0100

    s4:torture - WINREG RPC - reactivate test "SetValueExtended" for s4
    
    Should be definitely fixed now.

commit 811c601ae081485bff778a99a6b510029da0a88f
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 21 14:20:41 2010 +0100

    s4:WINREG RPC - we support only non-volatile keys

commit cc4e5c8beb95e67d91add0334807ada6eea8f9b7
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 21 14:10:17 2010 +0100

    s4:registry - "LDB backend" - don't test for "0" as string termination on binary and unknown typed values

commit 1cdeb0c0d280312df3e1c93a30e03cd0a7459fe9
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Fri Mar 19 20:23:36 2010 +0100

    s4:WINREG RPC - specify the performed create action for "CreateKey"
    
    To make the WINREG RPC testsuite happy.

commit 2f79217964ef2f3b4b5c8bd8780db88081ecbc5d
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Fri Mar 19 19:55:32 2010 +0100

    s4:registry - handle type "DWORD_BIG_ENDIAN" as type "DWORD"
    
    Further tests show that (at least per default) there aren't any differences
    between them.

commit d82b325bc315d4d1dc4e5489e0c5df1764835540
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Fri Mar 19 19:50:17 2010 +0100

    s4:torture WINREG - enhance test for "QWORD" type
    
    We need to know how this behaves.

commit 66f94ca3ecea628be73d37ea5a972783949f955b
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Fri Mar 19 19:40:07 2010 +0100

    s4:torture WINREG - enhance test for "DWORD_BIG_ENDIAN" type
    
    We need to know how this behaves.

commit a55031792dfd56e1d8f235ea6cdd6383507ee5e4
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Fri Mar 19 19:14:44 2010 +0100

    s4:registry - "LDB backend" - fix up memory allocation for dynamic integers
    
    We don't need to reserve memory for NULL termination when storing data as
    integers.

commit 1d49a266abbe6ae0bf50f456399099a31814b9a9
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Fri Mar 19 18:23:00 2010 +0100

    s4:registry - "LDB backend" - Fix up the storage of binary REG_SZ/REG_EXPAND_SZ values
    
    There seem to exist also UTF16 sequences which have byte sizes of a multiple of
    two but are invalid (gd's winreg test shows this).

commit 6e48267c28b05c3837a3e5ffc1f5b58316cc286f
Author: Bo Yang <boyang@samba.org>
Date:   Sun Mar 21 16:00:26 2010 +0800

    s3: Open winbindd_cache.tdb with read/write access.
    
    Open winbindd_cache.tdb with read/write access when validate the cache,
    otherwise, validation fails to get lock in tdb_check. It results in
    validation failure even the cache is good.
    
    Signed-off-by: Bo Yang <boyang@samba.org>

commit 09f270e748263f2fb02683a9376ae185a5534178
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Mar 20 15:23:17 2010 +0100

    s3: Fix bug 7202
    
    Make sure _nss_wins_gethostbyname_r has a talloc stackframe available
    
    Thanks to Sergey Tereschenko <serg.partizan@gmail.com> for reporting the bug!
    
    Volker

commit c04922ec20034beec9e37232ce5fa35596bf7ca0
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 17:24:53 2010 +1100

    build: useful shell vars for setting up selftest

commit 429102e6bde396492e53a1984242de46e28dd9d1
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 14:26:18 2010 +1100

    subunit: fixed reporting of unexpected failures

commit 77b77e6ba13137522b542d364891aba031a3ede8
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Mar 19 14:24:31 2010 +1100

    subunit: keep total error and failure counts

commit a52b3dfb26f01ca93daa3a69d19c27dd2de922fb
Author: Günther Deschner <gd@samba.org>
Date:   Sat Mar 20 02:56:20 2010 +0100

    s4-selftest: skip RPC-DFS for s4 entirely.
    
    Guenther

commit 3cb56942ed958723bf312040dd9245cd08e9ffcb
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 22:37:53 2010 +0100

    s4-smbtorture: rework RPC-DFS test a bit.
    
    Guenther

commit 5d5c6e132098a88f2c3f80c53019d91bdc82c0bb
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 19:59:15 2010 +0100

    s3-selftest: use proper names for samba3 dcerpc tests.
    
    Guenther

commit f5ab6fd7886da7c9018bbb31877966605eb393b4
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 19:58:24 2010 +0100

    s4-smbtorture: put all RPC-SAMB3-X torture tests into their own torture_suite.
    
    Guenther

commit f4700296b3296c013cdb186a5de02baa77d6bad8
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Mar 19 17:38:32 2010 +0100

    s4:librpc/rpc: add NCACN_INTERNAL from s3
    
    metze

commit b82f168c3cbd49fdefa9f469ececcbdbce2730a7
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 14:33:58 2010 +0100

    s3:librpc: remove unused stuff
    
    metze

commit 4d6368f5f5b384af7e8d06425357cb1666ac853f
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 09:19:39 2010 +0100

    s3-selftest: enable RAP calls testsuite against samba3.
    
    Guenther

commit 3144a988e5e95671fd49bd2326099dff789fec5d
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 10:54:12 2010 +0100

    s4-smbtorture: skip RAP netservergetinfo level 1 test against s3.
    
    Guenther

commit 53d35fc9587234c4d72b9622fc5144d50ba47a80
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 10:33:54 2010 +0100

    s3-selftest: rearrange uid/gid calculation to achieve correct membership.
    
    (make test variant)
    
    Guenther

commit 20d73f768d002faf62f760f99c608f139b229491
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 10:23:39 2010 +0100

    s3-selftest: rearrange uid/gid calculation to achieve correct membership.
    
    Guenther

commit f06779629db8f810f1ff8ad8f16ac2b580052b2c
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 09:50:56 2010 +0100

    nss_wrapper.pl: allow to specify gid for new users.
    
    Guenther

commit e7cc45cb140e1df5731619ae09af6c10b8f9fffa
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 19 09:30:36 2010 +0100

    error_codes: fix NT_STATUS_RPC_UNKNOWN_IF typo.
    
    Metze, please check.
    
    Guenther

commit dd4e2ebda5c3febe89025781921f7f6875b57e07
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 18 23:54:14 2010 +0100

    s4-smbtorture: use torture_context in policy function in RPC-LSA-LOOKUP test.
    
    Guenther

commit 421a926237f94ebdb90aaf0cf7678a9804bd5cdc
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 18 15:27:05 2010 +0100

    s3:libsmb/nterr.c: fix/add NT_STATUS_RPC_* codes
    
    metze

commit a949c70ed821ea18dfd2e7218255638823c8deea
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 18 15:12:07 2010 +0100

    s3-selftest: fix Samba3.pm provisioning after uid/gid changes.
    
    Guenther

commit 05cad2ea2f0963e7845b451d97830528c86e2cda
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 18 12:12:58 2010 +0100

    s3-selftest: make sure we do not have duplicate uids/gids in nsswrapper.
    
    Also make sure we only add root user when needed, Jeremy please check.
    
    Guenther

commit 38a46fa32bfd8007f0fb3e2b607d0e57a012ae95
Author: Günther Deschner <gd@samba.org>
Date:   Thu Mar 18 11:27:36 2010 +0100

    s3-selftest: make sure we do not have duplicate uids/gids in nsswrapper.
    
    Guenther

commit 6a1f8e67eb6e15bbafca570ac9b3714681025a1f
Author: Stefan Metzmacher <metze@sernet.private>
Date:   Wed Mar 17 19:48:56 2010 +0100

    libcli/util: add more NT_STATUS_RPC_* defines
    
    metze

commit 30aa55a998016c5d87691b3592435a21107fe33b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 18 11:26:19 2010 +0100

    pidl:Samba4/Python: make use of dcerpc_binding_handle stubs
    
    metze

commit 5e9ce495eef98b2b27a77bf042514ccb2037d33d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 18 11:25:21 2010 +0100

    s4:librpc/rpc: let pyrpc make use of dcerpc_binding_handle stubs
    
    metze

commit f055fce74c0f569e8bfcf29e5c4fadb592a7c87d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 18 12:36:57 2010 +0100

    pidl:Samba4/Python: remove compiler warnings
    
    metze

commit 2624bafca532de66ae1d4976f8c2e99f5f7b250e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 18 10:52:05 2010 +0100

    pidl:Samba4/Python: remove compiler warnings when using -Wc++
    
    metze

commit fd86c9b6877ab9e416b82d04bc7cfc42af027d74
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 18 10:48:24 2010 +0100

    s4:utils/net/drs: make use of dcerpc_binding_handle stubs
    
    metze

commit 95cefcfa4a7da51f11c9662057275830b25555a4
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 18 10:27:41 2010 +0100

    s4:torture/rpc/browser.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 18fa68f2597a68699a3f87674663fb8df57453b9
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 18 10:26:43 2010 +0100

    s4:torture/rpc/ntsvcs.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 7456df5e75ae383a5ea89578fbc1ef5507771670
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 18 10:24:56 2010 +0100

    s4:torture/rpc/frsapi.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 61c62a7fd12efeea91b11762f59aebe6d9652b3f
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 18 09:56:32 2010 +0100

    s4:torture/rpc/handles.c: make use of dcerpc_binding_handle stubs
    
    metze

commit cef46436fc89d938780a4bdaea4e654b9a4c01b1
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 18 09:38:57 2010 +0100

    s4:torture/rpc/handles: check the correct last_fault_code
    
    metze

commit 6de83ef6277d8506478ce5ff43d33e39541b310c
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Thu Mar 18 22:03:40 2010 +1100

    s4:dsdb Move rdn_name down the stack
    
    This is done so that it can be (in future) removed when the OpenLDAP
    backend is in use and the rdn_val module is used, while keeping as
    similar semantics as possible between the module stacks.
    
    Andrew Bartlett

commit 0d6d068bc4f76c2816f969fcce6013e1945794d4
Author: Jeremy Allison <jra@samba.org>
Date:   Thu Mar 18 11:21:15 2010 +0100

    s3-printing: Fix "printer admin" functionality.
    
    Fix bug #7255 ("printer admin" parameter does not work as expected).

commit 55c45110e6994fe95867f4df3243c6829116e093
Author: Andrew Tridgell <tridge@samba.org>
Date:   Thu Mar 18 14:06:13 2010 +1100

    charset: fixed a problem with the global use of the iconv_convenience structure
    
    We had a crash bug where a cached copy of a iconv convenience pointer
    was used after being freed when loadparm asked for iconv to
    reload. This could happen if a python module used a iconv based
    function before loadparm was completed.
    
    The fix is to ensure that any use of this pointer remains valid, by
    reusing the pointer itself when it has already been initialised, but
    filling in the child elements with the updated values.

commit 752b2206cbb411e98e88efcfd1df9876a79d4a3d
Author: Oliver Liebel <oliver@itc.li>
Date:   Wed Mar 17 20:11:11 2010 +0100

    Fixed --ol-mmr-url helpline
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 947560fe3754185cd6edf7e1cd7e5c5fe405fa39
Author: Oliver Liebel <oliver@itc.li>
Date:   Wed Mar 17 20:14:19 2010 +0100

    Fixed OL-MMR make test
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit 15172d3055349ba1280d671a94794ccb1e787775
Author: Oliver Liebel <oliver@itc.li>
Date:   Wed Mar 17 20:08:08 2010 +0100

    Fixed MMR-URL-Split and changed RID-Range OpenLDAP ITS6394
    
    Signed-off-by: Andrew Bartlett <abartlet@samba.org>

commit b05f0db957633454ad01598d084d883b8a3631fe
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 18:03:29 2010 +0100

    s4-smbtorture: fix typo in RPC-SAMR-PASSWORDS-LOCKOUT test.
    
    Guenther

commit b170ebe08b78c5240266578a19dae424802cda0e
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 23:16:53 2010 +0100

    s3-eventlog: fix elog_tdbname(), we were always lower-casing entire lockdir path...
    
    Found by RPC-EVENTLOG torture test.
    
    Guenther

commit 3bc18d9f67feea901cc9f8e254bf23429b03a4e7
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 22:56:15 2010 +0100

    s3-selftest: run RPC-EVENTLOG against s3.
    
    Guenther

commit bb91bbb413132c62066e77c95c6dc4f1d8444628
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 22:55:41 2010 +0100

    s3-test: setup initial eventlog infrastructure.
    
    Guenther

commit 3efaf5e6ba203df23151665baac821a7c09754d6
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 22:55:00 2010 +0100

    s3-selftest: setup initial eventlog infrastructure.
    
    Guenther

commit 453fed4efd08fccd2979d0faf31a67facf133778
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 22:44:44 2010 +0100

    s4-smbtorture: skip BackupLog test against samba in RPC-EVENTLOG.
    
    Guenther

commit 4b80e145b402a198ff7da2458cb4cebd9232bce2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 17 12:09:53 2010 +0100

    s4:torture/rpc/samba3rpc.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 2d897beb7ad5f6abc19b8c4dcaafaf897af9fd1f
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 17 12:05:10 2010 +0100

    s4:torture/rpc/samsync.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 532e034e287705b34c84dc110dbf954d2e885972
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 15 09:01:17 2010 +0100

    s4:torture/rpc/samr_accessmask.c: make use of dcerpc_binding_handle stubs
    
    metze

commit f400fc54bce0f2fda5ce98238439f69283da91ac
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 17 12:06:05 2010 +0100

    s4:torture/rpc/dssetup.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 6e8fd4df6078cb426a1a9233f796532590c2387f
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 17 12:05:42 2010 +0100

    s4:torture/rpc/bench.c: make use of dcerpc_binding_handle stubs
    
    metze

commit aecd9dd19573b2b27a301d3aca2ed201b9c3b8ce
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 16 11:34:04 2010 +0100

    s4:torture/rpc/samlogon.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 9639afae694621c63f35c3ff46939bae5c1606a9
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 16 11:22:28 2010 +0100

    s4:torture/rpc/netlogon.c: make use of dcerpc_binding_handle stubs
    
    metze

commit c05a0f78236e595642b62271570acf96e5bba69d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 16 11:10:16 2010 +0100

    s4:torture/rpc/schannel.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 2d31379853716b25ee2a0dcc58edc0f584742d55
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 16 10:55:41 2010 +0100

    s4:torture/rpc/testjoin.c: make use of dcerpc_binding_handle stubs
    
    metze

commit a91647d494c43b4430a9f339907e50c14187a35a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Mar 12 17:51:06 2010 +0100

    s4:torture/rpc/samr.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 04221518dab1a36610752cd97ec560f285dc2090
Author: Stefan Metzmacher <metze@sernet.private>
Date:   Wed Mar 17 14:00:45 2010 +0100

    s4:librpc/rpc: initialize p->binding_handle in dcerpc_secondary_context()
    
    metze

commit 4ca2cc348e3412fd1851cd8512a10d0d0b1acf99
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 15:55:23 2010 +0100

    s4-smbtorture: workaround broken REG_MULTI_SZ from winreg in s3
    during SetPrinterDataEx SPOOLSS test.
    
    Guenther

commit 481402bae557b174b38a965d209d417728c7562f
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 15:45:54 2010 +0100

    s4-smbtorture: workaround the fact that you cannot fully rename a printer in samba.
    
    Guenther

commit c05a06187d6a9b2f065dfc65112ab5188d2f11b7
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 15:32:42 2010 +0100

    s4-smbtorture: only use "friendly" data in extended SetPrinterDataEx test.
    
    Passes against windows but not against samba yet :-(
    
    Guenther

commit d41b8c305342de0795dd49dac588b5c0b8f00bfe
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 11:31:43 2010 +0100

    s4-smbtorture: skip security descriptor tests against Samba in RPC-WINREG.
    
    Guenther

commit 3db9729240dedd74cdf3d404b68ac45ef0fe0bca
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 01:25:42 2010 +0100

    s4-smbtorture: re-arrange tests in RPC-WINREG.
    
    Mostly choping test_Open() into smaller parts.
    
    Guenther

commit 75a4dffac1e25293e67fc1b471fb8d74c2f40e61
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 00:57:22 2010 +0100

    s4-smbtorture: add test to check different keytypes.
    
    This test will be skipped for samba.
    
    Guenther

commit 89eaa9ed8e52ff9447285974d2acd586257e4319
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 11:36:09 2010 +0100

    s4-smbtorture: add test_DeleteKey_opts to RPC-WINREG.
    
    Guenther

commit 80ba1295ec39692821b0f2af1c53124f80ae8866
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 00:55:41 2010 +0100

    s4-smbtorture: add test_OpenKey_opts() to RPC-WINREG.
    
    Guenther

commit c33a7ca84cc313299af746b60a7cf94c4589c44b
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 00:53:21 2010 +0100

    s4-smbtorture: add test_CreateKey_opts() to RPC-WINREG test.
    
    Guenther

commit f07572063dcc84d0f91284ecbf03b4319fe37a60
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 00:05:52 2010 +0100

    s4-smbtorture: put HKLM current_version test into an own function.
    
    Guenther

commit 8fd4375803c4cdebd7e68053c8b62e78b887eec8
Author: Günther Deschner <gd@samba.org>
Date:   Wed Mar 17 00:05:02 2010 +0100

    s4-smbtorture: use binding handle for simple SetValue winreg test.
    
    Guenther

commit 50cc29b3cb234f71f7fbbef47fe36bf9d85a313b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 11 12:00:34 2010 +0100

    s4:torture/rpc/lsa*: make use of dcerpc_binding_handle stubs
    
    metze

commit ba3b9fa36b0ffcb2cfcee34dab6d9a544a8cd9fd
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 16 11:24:25 2010 +0100

    s4:torture/rpc/remote_pac.c: make use of dcerpc_binding_handle stubs
    
    metze

commit f48fb0d908dec53e407c9cd0f843ee7d83e31580
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 16 23:02:29 2010 +0100

    s3-vfs: fix some buildwarnings in traffic analyzer, there are many more.
    
    Holger, please check.
    
    Guenther

commit 2b4ce9a73f6b041f3cc69125e45b9f61e0155ff5
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Mar 16 22:22:21 2010 +0100

    s3: Make login_cache_write take a pointer

commit 276b1aa1891df2a31e8c65b04f41b0a0ebb57335
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Mar 16 22:18:52 2010 +0100

    s3: Make login_cache_read take a pointer, avoid a malloc

commit 13a278c1b901cadef7e09d1dc6a89d935ebb73ea
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Mar 16 22:08:37 2010 +0100

    s3: Remove a typedef

commit 02d7cdc671e27b5ed717c4c0e088b8457caa6e4a
Author: Volker Lendecke <vl@samba.org>
Date:   Tue Mar 16 22:23:06 2010 +0100

    s3: Fix some nonempty blank lines

commit 0d8ab380551941ab5880a6e5be49b73d541746a4
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 16 22:17:55 2010 +0100

    s3: fix buildwarning in smbta-util.
    
    Guenther

commit 2070c042305eb14bac5182d7a061aaf38086f3f3
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 16 21:50:07 2010 +0100

    s4-smbtorture: add lsa_SetTrustedDomainInfoByName NDR test.
    
    Thanks Simo for providing the data and pointing out the IDL failure.
    
    Guenther

commit 0e47277dd7305c7add269ebe41820780ea4ab6bf
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 16 21:15:50 2010 +0100

    s3: re-run make samba3-idl.
    
    Guenther

commit 4f28afc929eadd8a7ae4448a815b5a0cc381750a
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 16 21:14:45 2010 +0100

    lsa: fix IDL for lsa_SetTrustedDomainInfoByName.
    
    Guenther

commit f98941033ddbf79a18f24d81f44aba05366874fe
Author: Andreas Schneider <asn@redhat.com>
Date:   Tue Mar 16 13:27:00 2010 -0400

    Fix developer build, remove malloc

commit 2bdece18c62c5119d2a7c85b0044ec3c9234445c
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 16 18:20:51 2010 +0100

    kerberos - set the memory to "0"s before freeing the password to prevent security issues

commit a6c57472ab144eb6d77cc85f56d7bd3152146b1d
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 16 17:07:04 2010 +0100

    heimdal - remove unused variable

commit dc5e0d84641173b7f710f0a735970f5dd2c27d38
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 16 16:53:39 2010 +0100

    heimdal - fix overlapped identifiers in the "krb5" library

commit 973001e91a3988f4338f88599acbf4ab8978e1c9
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 16 16:26:25 2010 +0100

    heimdal - free always "ctx->password" when it isn't needed anymore
    
    "strdup" does always create a new object in the memory (through "malloc") which
    needs to be freed if it isn't used anymore.

commit bdc0372f8a6116b3be7cd8bd6d398c0f1929ae68
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 16 16:29:46 2010 +0100

    s4:auth/kerberos/kerberos.c - fix also here a memory leak
    
    The options need to be freed also on this error case.

commit 36175be5d4dbbd1545db4ac7de98d9293b897188
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 16 16:23:57 2010 +0100

    libcli/auth/schannel_state_tdb.c - fix a memory leak

commit 4c29a4e12683a6826104f5974a86d07fb6346266
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 16 16:00:34 2010 +0100

    s4:wb_cmd_getgroups - fix failure in s4 winbind's "getgroups"

commit c323629a1a3c3baf4ce799d2a9efe446822f6ec0
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 16 16:05:07 2010 +0100

    s4-smbtorture: use random buffer for extended SetValue test in RPC-WINREG.
    
    Guenther

commit cb5805d789d276f4bf13db75491099c9dde0f660
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 15 17:56:14 2010 +0100

    s4:torture/rpc/winreg.c: make use of dcerpc_binding_handle stubs
    
    metze

commit bffe22223062549fcaa16338a626b6f7c906a7ba
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Mar 12 11:09:00 2010 +0100

    s4:torture/rpc/spoolss_win.c: make use of dcerpc_binding_handle stubs
    
    metze

commit b01cd7864d3865655320e3441c2804d5bc4b404a
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Mar 12 10:53:54 2010 +0100

    s4:torture/rpc/spoolss_notify.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 97d74a4407940da43e776e50d7695da5206bf15b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Mar 12 10:53:15 2010 +0100

    s4:torture/rpc/spoolss_notify.c: fix compiler warnings
    
    metze

commit c1bf3244df7ca5261e9b649588f5587dab3f486d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 16 11:45:51 2010 +0100

    s4:torture/rpc/spoolss.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 28a6e5398d762b4ad69e9e3d5be6677746057538
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 16 10:27:42 2010 +0100

    s4:tortore/rpc/spoolss.c: fix compiler warning
    
    metze

commit d7699cb24a3dc57e45f3296372ed1e25e08167d9
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 16 10:55:12 2010 +0100

    s4:torture/rpc/autoidl.c: make use of dcerpc_binding_handle stubs
    
    metze

commit d03286e078e0544238212d81e3aa73c40acdca89
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 16 10:43:39 2010 +0100

    s4:torture/rpc/mgmt.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 87a5596d4654aacbd7b7821cc2cc96c818c1b344
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 16 10:42:58 2010 +0100

    s4:torture/rpc/remact.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 54ab68f04317d79ca2ea5c6815e96dce3a336725
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 16 10:36:19 2010 +0100

    s4:torture/rpc/oxidresolve.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 8bc8e6ca0390d92ac536624c8ca02c247be23755
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 16 10:32:56 2010 +0100

    s4:torture/rpc/initshutdown.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 004a8413178f14825d7c7ab0a9bdfc37592bfb64
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 15 10:59:05 2010 +0100

    s4:torture/rpc/epmapper.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 8c9b9d3336b9a51203fcf336879a5de93f204cea
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 15 10:55:00 2010 +0100

    s4:torture/rpc/eventlog.c: make use of dcerpc_binding_handle stubs
    
    metze

commit bdb8f9131493ea33918a444f30fa87caca13c9bd
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 15 10:53:50 2010 +0100

    s4:tortore/rpc/eventlog.c: rename variable 'b' => 'br'
    
    metze

commit dfa92d445fb568c4cae9c9853d0cd320b4aa0e35
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 15 10:50:12 2010 +0100

    s4:torture/rpc/svcctl.c: make use of dcerpc_binding_handle stubs
    
    metze

commit b0ea3248a4e6d384608330e1033e7fd9cf92c5c6
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 15 10:49:02 2010 +0100

    s4:torture/rpc/atsvc.c: make use of dcerpc_binding_handle stubs
    
    metze

commit b8605cdd4ed58376e93b9ed9d4436b5c8e8fe15b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 15 10:19:02 2010 +0100

    s4:torture/rpc/wkssvc.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 119f15132184bd3fdaa664182135db2dfe1cdc37
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 15 10:08:04 2010 +0100

    s4:torture/rpc/srvsvc.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 88ab666f191ce36b13e6628ca39b34b0e09a4088
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 11 13:03:26 2010 +0100

    s4:torture/rpc/dsgetinfo.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 4434b3972d4971b17b4e45fc51d6f91536ed1b66
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 11 12:55:46 2010 +0100

    s4:torture/rpc/dssync.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 369def8a33eebb41a7d6cc2d1c10794ba3c49c32
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 11 12:55:24 2010 +0100

    s4:torture/rpc/drsuapi*: make use of dcerpc_binding_handle stubs
    
    metze

commit 6591713d2679047e0551055960370ee8f47256cd
Author: Stefan Metzmacher <metze@samba.org>
Date:   Fri Mar 12 11:25:01 2010 +0100

    s4:torture/rpc/unixinfo.c: make use of dcerpc_binding_handle stubs
    
    metze

commit e55a9758603d135ac3c83cbd96c24e557d9e4040
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 16 15:30:13 2010 +0100

    s4-smbtorture: remove NotifyChangeKeyValue s3 skip in RPC-WINREG:
    
    Guenther

commit e46d3d9475c59af8ba6810aeb1403c1aa9e37d9d
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 16 15:29:14 2010 +0100

    s3-winreg: change notify call has no meaning when called remotely.
    
    Just return not supported to make smbtorture happy.
    
    Guenther

commit b4d09134fdb4e99aa42b5db3e6d54014e090a23c
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 16 13:53:54 2010 +0100

    s3-registry: make sure root has full registry access (in particular for make test).
    
    Guenther

commit 27d46ba266908ad5fa5be9e553b41839dfa7d9c8
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 16 13:52:48 2010 +0100

    s4-smbtorture: make it a bit easier to track failures in RPC-SPOOLSS-PRINTER.
    
    Guenther

commit 38cba5e930c3ac1e7ccfbb6d39e1d464fd3fa344
Author: Simo Sorce <idra@samba.org>
Date:   Thu Feb 25 21:40:27 2010 -0500

    s4:torture-ndr add lsarSetForestTrustInformation ndr test
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a5ad510fc417557608bd9a13405e9df3791658e4
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 16 14:03:49 2010 +0100

    s4-lsa: fix dcesrv_lsa_lsaRSetForestTrustInformation server stub.
    
    Guenther
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit ce8c622ffbb72f76ac1cb694be4b4e433aa2bee7
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 16 14:03:35 2010 +0100

    s3-lsa: fix _lsa_lsaRSetForestTrustInformation server stub.
    
    Guenther
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit a6d42784d02e1b0305a6616f4f7d5eb350447d75
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 16 14:01:27 2010 +0100

    s3: re-run make samba3-idl.
    
    Guenther
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit cfa2b7b6bf5f8527585c8c9c26a6336b503a682c
Author: Simo Sorce <idra@samba.org>
Date:   Tue Mar 16 13:59:32 2010 +0100

    s4:idl add lsaRSetForestTrustInformation
    
    Signed-off-by: Günther Deschner <gd@samba.org>

commit 8c5df22ffa4bb57078f4678c60cbec6ac7ba5710
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 16 12:48:47 2010 +0100

    Revert "Revert "s4-smbtorture: skip extended SetValue test against Samba (both dont survive).""
    
    This reverts commit 508c218eb2f4bf8c45dc9d481576c87ed4fecbd3.
    
    This lets make test fail.
    
    Matthias: please make sure make test still passes when you change things like
    this...(maybe add something to knownfail or so)
    
    metze

commit 7e859be26ac1ba1154eb5b39e0467ca48a66cbf4
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 16 14:25:11 2010 +0100

    s4:torture/rpc/dsgetinfo.c: fix name resolving for ldap_url
    
    metze

commit 287304e59eb4f83dd052642d35cf3a7d4e05067a
Author: Jim McDonough <jmcd@samba.org>
Date:   Tue Mar 16 10:04:51 2010 -0400

    Update copyright

commit c91afe9596ac03795aa0ef38038c191a3b439430
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 16 15:00:33 2010 +0100

    security.idl - push generated code diff

commit c3509d88a4920e7dcbc77d5af089c50f71642d0a
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 16 14:07:51 2010 +0100

    s4:resolve_oids LDB module - not really a change but a nicer method to call "talloc_reference"

commit 9447f863d281809a752836da8136eeae89c00353
Author: Jim McDonough <jmcd@samba.org>
Date:   Tue Mar 16 09:58:34 2010 -0400

    Don't exit(0) on error

commit a0e2632e119c2e3e086cd485d448b44836c1499b
Author: Holger Hetterich <hhetter@novell.com>
Date:   Mon Feb 15 17:47:30 2010 +0100

    s3: vfs_smb_traffic_analyzer.c: add VFS functions for file open and close

commit f6ae16e318145224cc38180628e542bb3fc6bb8c
Author: Holger Hetterich <hhetter@novell.com>
Date:   Sun Feb 7 20:39:58 2010 +0100

    smb_traffic_analyzer.c: optimize marshalling function and document
    
    Collect all data that is needed, and use only one talloc_asprintf
    operation to create the string of common data. This simplifies
    the code a bit and is most probably faster than the old method.
    
    Also, #define SMBTA_COMMON_DATA_COUNT as a complete string,
    speeding things up because we know the value at compile time.

commit 002193d34bc9ff385a866af2d39ed713a5bef1bf
Author: Holger Hetterich <hhetter@novell.com>
Date:   Sat Feb 6 11:36:14 2010 +0100

    vfs_smb_traffic_analyzer.c: added function
    static char *smb_traffic_analyzer_anonymize
    
    This takes a lot of code out of the main functions,
    and makes it a bit simpler. Do the anonymization in a function.
    Since we already anonymized the username we don't need to do
    this a second time in the v2 marshalling function.

commit c1fb55caa5bfc079bda6a6ef98ee591800789778
Author: Holger Hetterich <hhetter@novell.com>
Date:   Thu Feb 4 22:03:53 2010 +0100

    Simplify the code a bit by creating the functions:
    smb_traffic_analyzer_encrypt - doing the encryption of a data block,
    smb_traffic_analyzer_create_header - create the protocol header,
    smb_traffic_analyzer_write_data - actually write the data to the
    socket.

commit 56dfc0915c7a461fc53d32e9cbe29460a75c9b26
Author: Holger Hetterich <hhetter@novell.com>
Date:   Sat Jan 30 17:43:50 2010 +0100

    Update the manpage of vfs_smb_traffic_analyzer and add smbta-util.

commit 69d7d6c01a01cc81f7e28593701d3425adfce8ec
Author: Holger Hetterich <hhetter@novell.com>
Date:   Tue Feb 2 20:04:40 2010 +0100

    Add the number of common data blocks to the protocol.
    
    Always send the number of common data blocks first. This way, we
    can make the protocol backwards compatible. A receiver running with
    an older subprotocol can just ignore if a newer sender sends more
    common data.
    
    Add a few remarks to the marshalling function. Add two #define lines
    defining the protocol subrelease number and the number of common
    data blocks to the header file.

commit 4940da2e99647b2d6ae3b4abf78c9904e4390074
Author: Holger Hetterich <hhetter@novell.com>
Date:   Tue Feb 2 19:36:23 2010 +0100

    Put all the protocol stuff into a separate header file.
    
    All the structures and the vfs function identifier list is required
    by the receiver. It's therefore very handy to have this in an extra
    header file.

commit 5b7179d2a3708246c44c5c5126368588f9da74a0
Author: Holger Hetterich <hhetter@novell.com>
Date:   Tue Feb 2 00:14:28 2010 +0100

    Add smbta-util to manage the encryption key.
    
    This program allows the administrator to enable or disable AES
    encryption when using vfs_smb_traffic_analyzer. It also generates new
    keys, stores them to a file, so that the file can be reused on another
    client or server.

commit 6437df7d2ceedeb26be82e050b300ad55839a721
Author: Holger Hetterich <hhetter@novell.com>
Date:   Fri Jan 29 21:34:27 2010 +0100

    Implement AES encryption of the data block.
    
    First try. This runs on 16 bytes long AES block size, and enlarges the
    data block with 16 bytes, to make sure all bytes are in. The added
    bytes are filled with '.'. It then creates a header featuring the new
    length to be send, and finally sends the data block, then returns.
    
    This code is untested, as creating the receiver will be my next step.
    
    To simplify traffic_analyzer's code, this code should run as a function.
    It's on the do-to-list.

commit 3f5f2d82bd2447ea6a3f7dc626ff9a11f7101055
Author: Holger Hetterich <hhetter@novell.com>
Date:   Fri Jan 29 14:57:20 2010 +0100

    Implement anonymization for protocol v2.
    
    Since we need to care for the SID too, do the anonymization in the
    marshalling function and anonymize both the username and the SID.
    
    Remove the 'A' status flag from the header definition. A listener
    could see from the unencrypted header if the module is anonymizing
    or not, which is certainly not wanted.

commit b7457301616d27078338fc476273b99d0e78330b
Author: Holger Hetterich <hhetter@novell.com>
Date:   Sat Jan 23 22:45:28 2010 +0100

    Make all remarks compatible to the linux kernel coding styleguide.

commit 81c6b878b1cb665d7dd4b365af82a8c15b099d38
Author: Holger Hetterich <hhetter@novell.com>
Date:   Sat Jan 23 22:03:22 2010 +0100

    Added an exact description of the V2 protocol.
    I don't think it should have it's place the man page, because this is
    developer information.

commit a45db5948050b7a94181e0579fb9fc9f651aed74
Author: Holger Hetterich <hhetter@novell.com>
Date:   Fri Jan 22 21:17:53 2010 +0100

    Move the creation of the header.
    
    Since the header block of the protocol contains the number of bytes to
    come, we always send the header itself unmodified.
    If we compress or crypt the data we are about to send, the length of the
    data to send may change. Therefore, we no longer create the header in
    smb_traffic_analyzer_create_string, but shortly before we send the data.
    For both cases, encryption and normal, we create our own header, and
    send it before the actual data.
    
    In case of protocol v1, we don't need to create an extra header.
    Just send the data, and return from the function.
    Change a debug message to say that the header for crypted data has
    been created.
    
    Add a status flags consisting of 6 bytes to the header. Their function
    will be descriped in one of the next patches, which is descriping
    the header in a longer comment.
    When anonymization and/or encryption is used, set the flags accordingly.

commit 9702dcfa918f18c038eef0251b6330d6cf9a7162
Author: Holger Hetterich <hhetter@novell.com>
Date:   Fri Jan 22 14:55:33 2010 +0100

    Fetch the SID of the user we are running as and send with the common
    data.

commit 654cff4cc356ca9c403a57af19f319ec26da54ce
Author: Holger Hetterich <hhetter@novell.com>
Date:   Fri Jan 22 13:04:21 2010 +0100

    Additionally send the vfs function id with the protocol.

commit 27f4f51d56e8b8d00729ca1eb0c6b1e1762274ce
Author: Holger Hetterich <hhetter@novell.com>
Date:   Thu Jan 21 23:26:54 2010 +0100

    According to the linux kernel coding styleguide, it's better to
    align the switch and it's case statements in the same column.
    This saves us one indentation level.

commit cdd19067284081af01f38a4ed78a9667990677cd
Author: Holger Hetterich <hhetter@novell.com>
Date:   Thu Jan 21 23:16:58 2010 +0100

    Don't use typedefs on the VFS function data structures as
    typedefs are evil according to the linux kernel coding
    styleguide.

commit 8cb5bac9ee96321c982038cb5dc951f6c2856d8c
Author: Holger Hetterich <hhetter@novell.com>
Date:   Thu Jan 21 22:31:09 2010 +0100

    Add read,pread,write,pwrite support to the V2 protocol.

commit 541fb436cc3d69c154dcd90d2e6b22c273baa501
Author: Holger Hetterich <hhetter@novell.com>
Date:   Mon Dec 14 20:43:15 2009 +0100

    Enable AES encryption of the data if a key was found in secrets.tdb.

commit 7bff1eabe5af297f115dbe7e815a006bfd78b19e
Author: Holger Hetterich <hhetter@novell.com>
Date:   Fri Dec 11 21:04:46 2009 +0100

    Add rmdir, chdir, and rename as supported VFS functions

commit e959bdcca4c6c879520f7f2734550c472f99836a
Author: Holger Hetterich <hhetter@novell.com>
Date:   Tue Sep 22 20:01:35 2009 +0200

    The format of data we are sending over the network will be flexible when sending over the network in protocol v2. To be able to do this, we create a new va-list function that is creating the buffer to send. Also it makes it easier for the receiver to parse the data; it sends an initial header containing the full length of the buffer to be send. For the individual strings, it sends sub headers containing the length of the upcoming substring to be send. With the header-data-header-data [..] structure we don't need to quote the sub strings finally enabling having all possible character sets in filenames etc..
    
    In the sending function, implement mkdir to actually send it's data
    for testing.

commit dcff7d367248ec7ecf59c4f423a81b8816799ec5
Author: Holger Hetterich <hhetter@novell.com>
Date:   Mon Sep 21 15:33:21 2009 +0200

    Create structs carrying the data of individual VFS functions, and hand those over to the send function, which then casts the void pointer to the struct required by looking at the id. This allows us to return different result data depending on the VFS function that is running. Make the protocol v1 sender compatible to this. Adapt the existing VFS functions to use the new data structures. Make use of the new functionality and extend the mkdir VFS logger function to return the creation mode additionally.

commit 2a643ef10c3ed64dc60a7899a581a7b83004ce0e
Author: Holger Hetterich <hhetter@novell.com>
Date:   Thu Sep 17 20:11:39 2009 +0200

    Introduce smb_traffic_analyzer protocol v2.
    
    From Holger:
    Make smb_traffic_analyzer differ the protocol versions to enable the development of version 2 of the protocol. To do this, a new parameter "protocol_version" has been introduced, which can be set to "V1", "V2", or nothing. If protocol_version is not set, V1 will be chosen automatically.
    
    Created an enum for identifying VFS functions in the upcoming protocol v2. Converted the existing VFS functions to use the identifier, and set the read/write bool used in protocol v1 accordingly, also ignore any other VFS functions except read/write/pread/pwrite in v1. Added a first new VFS function for mkdir, which I use for testing and implementing both the sender and receiver for v2.

commit 8353aa39b64169a6bbd4b5b21ab4989e7821363e
Author: Simo Sorce <idra@samba.org>
Date:   Thu Feb 25 21:39:24 2010 -0500

    s4:idl change level to type in lsa_ForestTrustRecord.

commit 745f6f2574b57909c06c68eb6427cc52992705d3
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 16 12:24:18 2010 +0100

    s4-smbtorture: avoid printf calls in RPC-WINREG test.
    
    Guenther

commit a212c1dedb749b98d17c67db4278d1f1bb66d468
Author: Nadezhda Ivanova <nadezhda.ivanova@postpath.com>
Date:   Tue Mar 16 13:06:08 2010 +0200

    Added a net acl ds command for modification of ACLs on directory objects
    
    At present the command supports only addition of control access rigts, done
    so DRS access checks can be tested. It will be expanded to deal with most
    ways to modify and view a DS ACL.
    Shifted commands a bit. What used to be net acl is now "net acl nt" as apposed
    to this, which is "net acl ds"
    
    ./bin/net acl ds set --help
    Usage: set --objectdn=objectdn --car=control right --action=[deny|allow] --trusteedn=trustee-dn
    
    Options:
      -h, --help            show this help message and exit
      --host=HOST           LDB URL for database or target server
      --car=CAR              The access control right to allow or deny
      --action=ACTION       Deny or allow access
      --objectdn=OBJECTDN   DN of the object whose SD to modify
      --trusteedn=TRUSTEEDN
                            DN of the entity that gets access
    
      Samba Common Options:
        -s FILE, --configfile=FILE
                            Configuration file
    
      Credentials Options:
        --simple-bind-dn=DN
                            DN to use for a simple bind
        --password=PASSWORD
                            Password
        -U USERNAME, --username=USERNAME
                            Username
        -W WORKGROUP, --workgroup=WORKGROUP
                            Workgroup
        -N, --no-pass       Don't ask for a password
        -k KERBEROS, --kerberos=KERBEROS
                            Use Kerberos

commit 4379b082b80e4976120860310259248eea09f863
Author: Günther Deschner <gd@samba.org>
Date:   Tue Mar 16 00:01:16 2010 +0100

    s3-spoolss: be very strict on OpenPrinter{Ex} failures for bad names.
    
    Guenther

commit d7de3fa799fa64a3463765b3f6159fccda581b0c
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 16 09:48:58 2010 +0100

    s4:dsdb - fix up warnings

commit abe75a5c8c42a15927ae4f4fb3ff69aef1569d1e
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 16 09:40:11 2010 +0100

    s4:registry - use a macro for reverse byte order

commit e3cb626c61515a9c372352843fafc368ffc6e871
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Mar 16 14:56:32 2010 +1100

    s4:dsdb Show more detail in failure to compute the aggregate DN.
    
    Andrew Bartlett

commit 2de07761e071ccf09c0ea9e0fdc6a61303356549
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Mar 16 14:52:39 2010 +1100

    s4:dsdb Change dsdb_get_schema() callers to use new talloc argument
    
    This choses an appropriate talloc context to attach the schema too,
    long enough lived to ensure it does not go away before the operation
    compleates.
    
    Andrew Bartlett

commit bf0b4d7ee3f52f77d706ccea12abb2f033b4abd9
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Mar 16 14:46:31 2010 +1100

    s4:dsdb Fix warnings in DEBUG() by casting to unsigned long int

commit a7ec946cedf29ad8a88fcd0b253468b61f369d86
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Mar 16 14:43:33 2010 +1100

    s4:dsdb/acl Reduce calls to dsdb_get_schema() and add memory context
    
    dsdb_get_schema() isn't a very cheap call, due to the use of LDB
    opaque pointers.  We need to call it less, and instead pass it as a
    parameter where possible.
    
    This also changes to the new API with a talloc context.
    
    Andrew Bartlett

commit 1e6fee4185b726e532c98e0feec1121d59f734c5
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Mar 16 14:41:51 2010 +1100

    s4:dsdb Add a memory context for dsdb_get_schema()
    
    When specified, we talloc_reference onto this context to ensure that
    pointers found in it are valid for the life of the objects they are
    placed into.  (Such as the string form of LDAP attributes).
    
    Andrew Bartlett

commit c874b9f42eebacd9ad6baa90309635db8b8ec3fb
Author: Andrew Bartlett <abartlet@samba.org>
Date:   Tue Mar 16 14:40:15 2010 +1100

    s4:dsdb Don't error out if we can't get the Aggregate schema DN yet
    
    It's easier to just set it up when we can, then to deal with the
    ordering issues in ldb startup.  As long as we have it ready if a real
    client ever asks for it, then we should be happy.
    
    Andrew Bartlett

commit 19aa07564228f8018d5c7f3bdfcd3d7c311f08b1
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 15 23:18:44 2010 +0100

    s4:registry - check also for other registry value types in the generic test

commit b7c1444683d6fd63c29098b41d3ad6f792139136
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 15 22:46:20 2010 +0100

    s4:registry - add a test for the "REG_DWORD_BIG_ENDIAN" datatype

commit 2f686d8523c0978630c375d377afe23fe07cbf19
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 15 18:55:33 2010 +0100

    s4:registry - introduce the "REG_DWORD_BIG_ENDIAN" datatype
    
    It's like the normal REG_DWORD type but the byte order swapped

commit 559575fe40c2d0d860868276c42efacb46dc59aa
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Tue Mar 16 08:49:22 2010 +0100

    s4:dsdb/kcc/*.c - fix up wrong typed counters

commit 2a04aa08c642bc8b2a556c050a05dc69d6c5247c
Author: Erick Nogueira do Nascimento <erick.nogueira.nascimento@gmail.com>
Date:   Mon Mar 15 13:33:06 2010 -0300

    s4-drs: Torture testcase for DS_REPL_INFO_METADATA_2_FOR_OBJ infoType of DsGetReplInfo()
    
    This torture testcase considers both cases for this infoType: when the flag
    DRSUAPI_DS_LINKED_ATTRIBUTE_FLAG_ACTIVE is enabled and when not.
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit 81932f9148b968854035f3599af85301df99ce1b
Author: Erick Nogueira do Nascimento <erick.nogueira.nascimento@gmail.com>
Date:   Mon Mar 15 13:31:50 2010 -0300

    s4-drs: DsGetReplInfo(), infoType = DS_REPL_INFO_METADATA_2_FOR_OBJ
    
    Implementation of the DS_REPL_INFO_METADATA_2_FOR_OBJ infoType for DsGetReplInfo()
    
    Signed-off-by: Andrew Tridgell <tridge@samba.org>

commit f2cbc9fbb12d36f6ce86111848ab0ee05469cdba
Author: Craig Miskell <craig.miskell@opus.co.nz>
Date:   Mon Mar 15 16:20:44 2010 -0700

    Fix bug #7191 - WINS doesn't respond after > 86 #1c registrations.

commit 9a825dc770bfcb0923572e8ad3beff2f86dce992
Author: Michael Adam <obnox@samba.org>
Date:   Mon Mar 15 12:36:52 2010 +0100

    s3:registry-legacy: use talloc_stackframe() instead of NULL in regkey_open_internal()
    
    Michael

commit c27c430b21cae3d5906dc211cb29fa7d47e15699
Author: Michael Adam <obnox@samba.org>
Date:   Mon Mar 15 12:16:52 2010 +0100

    s3:smbcacls: also honour the "--sddl" flag when setting ACLs.
    
    Michael

commit 3b736987153da48918229ab940f8ac89017ae79f
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 14 21:18:34 2010 +0100

    s3: Fix an uninitialized variable read
    
    Found by Laurent Gaffie <laurent.gaffie@gmail.com>
    
    Thanks for that,
    
    Volker

commit c35c38075c96fddd0dcd41b4173ca47a9c07df92
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Mar 15 15:39:41 2010 -0700

    Remove the bool admin_user from conn struct. We no longer look at this to make access decisions.
    
    Jeremy.

commit 704a607e3c3a5c3e727b386fab9dbcdff56b5ac4
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Mar 15 15:04:18 2010 -0700

    Fix bug #7188 - Logic error in check of total_data for call_trans2mkdir()
    
    Make ea data checks identical for trans2open and trans2mkdir.
    
    Jeremy.

commit 33bd9b4bb901d08c3c9479bef0a748bb7f5f5fa7
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Mar 15 12:24:06 2010 -0700

    Remove reference to conn->admin_user in preparation for removal.
    
    We use (uid_t)0 here not sec_initial_uid() as make test uses a single user context.
    I will revisit this when all the uid check changes are complete.
    
    Jeremy.

commit b32ce075f8b5a3a2ab0a72ffed16924cda90f423
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Mar 15 12:18:04 2010 -0700

    Simplify processing of "admin user". If a user is an admin_user ensure their conn token is uid 0.
    
    This simplifies change_to_user() and removes special processing of the assignments
    we pass to set_sec_ctx().
    
    Jeremy.

commit 984eee7e290cd0dd20baf8a531ed9afc142796ff
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Mar 15 12:13:30 2010 -0700

    Switch over to using get_currect_XXX() accessor functions.
    
    Jeremy.

commit 6b2358e15eadf2b137b62669a813eded21aebbc7
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Mar 15 11:04:51 2010 -0700

    Pass "connection_struct *conn" into functions that currently use "current_user.XXX"
    
    Will allow me to replace them with accessor functions.
    
    Jeremy.

commit 5d6610a21580a1d588465ec9f144f5a6daad57cd
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Mar 15 10:45:15 2010 -0700

    Add accessor functions for current uid, gid, unix token, NT token and vuid.
    
    Jeremy.

commit 1332ce52b7b78b9e03e376f312120c0f1d7e302a
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Mar 15 11:03:29 2010 -0700

    We don't need to treat the token differently in the conn->admin_user case, it should already be pointing to a token with uid == 0.
    
    Jeremy.

commit 4b85a0ea7fe036347b9fe5c725e55b043f75ccb4
Author: Jeremy Allison <jra@samba.org>
Date:   Mon Mar 15 10:33:09 2010 -0700

    Rever e80ceb1d7355c8c46a2ed90d5721cf367640f4e8 "Remove more uses of "extern struct current_user current_user;"."
    
    As requested by Volker, split this into smaller commits.
    
    Jeremy.

commit 83b9e12513984af8b372f5558043ed0f65d832fd
Author: Günther Deschner <gd@samba.org>
Date:   Mon Mar 15 17:08:23 2010 +0100

    s4-smbtorture: add simple printer rename test to RPC-SPOOLSS-PRINTER.
    
    Guenther

commit 6f36e9d5045a062784d21dbfdd720df4cbb91182
Author: Günther Deschner <gd@samba.org>
Date:   Mon Mar 15 17:08:23 2010 +0100

    testprogs: add EnumPrinterData test to win32 spoolss test.
    
    Guenther

commit 08ec9b7e734dcdd46440abba49e980cae01b1e44
Author: Günther Deschner <gd@samba.org>
Date:   Mon Mar 15 16:11:43 2010 +0100

    s4-smbtorture: fill PrinterDriverData with more values for consistency test.
    
    Guenther

commit 386f15c62bb4d3517de719c750252e06cf3b1fb1
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 15 14:42:17 2010 +0100

    s3:smbd: make sure we always have a valid talloc stackframe
    
    metze

commit d23581b4d7a4936002c1d2d748836aead9215120
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 15 14:39:11 2010 +0100

    talloc_stack: reset stackframe pointers to NULL
    
    This makes it easier to debug the code in future.
    
    metze

commit 10ed809a1a31be50ce09142eb99b3a243ae8b940
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 15 14:32:52 2010 +0100

    talloc_stack: make sure we never let talloc_tos() return ts->talloc_stack[-1]
    
    In smbd there's a small gab between TALLOC_FREE(frame); before
    be call smbd_parent_loop() where we don't have a valid talloc stackframe.
    
    smbd_parent_loop() calls talloc_stackframe() only within the while(1) loop.
    As DEBUG(2,("waiting for connections")) uses talloc_tos() to construct
    the time header for the debug message we crash on some systems.
    
    metze

commit 1eb0fbe68d4ca00ec482cbdb9f73bc2af8f953bf
Author: Günther Deschner <gd@samba.org>
Date:   Mon Mar 15 14:55:25 2010 +0100

    s4-smbtorture: cleanup data after enumdata{ex} consistency test.
    
    Guenther

commit c9cc26ef620b6c46ba129ea07ce33892abf5931a
Author: Günther Deschner <gd@samba.org>
Date:   Mon Mar 15 14:41:58 2010 +0100

    s3-spoolss: Fix _spoolss_EnumPrinterData.
    
    Guenther

commit 06cbf05e8b964d353d0ca505ade7b018f93c8465
Author: Günther Deschner <gd@samba.org>
Date:   Mon Mar 15 14:11:44 2010 +0100

    s4-smbtorture: when cross checking enumdata{ex} make sure to have at least one entry.
    
    Guenther

commit 6bfde084e65718cfdf81696120f64f17e832b313
Author: Günther Deschner <gd@samba.org>
Date:   Mon Mar 15 12:38:17 2010 +0100

    s4-smbtorture: add PrinterInfo_to_SetPrinterInfo helper to RPC-SPOOLSS.
    
    Guenther

commit 163e559606d55cce63346b01498417770761dd64
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 15 13:44:00 2010 +0100

    s4:registry - rpc - don't crash when communication partner isn't available

commit cc3eec1681bb6d614e688f51e48bd76f6d513e67
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 15 11:15:19 2010 +0100

    s4:registry - util.c - treat unsupported and binary values as the same in the conversion functions
    
    We don't need to provide an extra representation for all available registry types.
    But if we treat all unsupported types as binary we also get our tools (regtree,
    regshell, regdiff...) working with them in a basic manner.

commit 4e6c0e1f6f37a7e04d10dbf7abbf626f52232aaf
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 15 11:12:52 2010 +0100

    s4:registry - util.c - move the "REG_NONE" case in the conversion functions on top of the switch
    
    (As in the "reg_value_types" structure)

commit 1e5010d35313d851a3904b116d3a4c2d3f0e199f
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 15 11:52:24 2010 +0100

    s4:registry - local testsuite - add a test for REG_QWORD
    
    Change also here to fixed-length HEX values output to test for the right
    representation.

commit 00934d4c2fd449493ad52127616445673f0de5b5
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 15 11:51:42 2010 +0100

    s4:registry - fix up the output of hexadecimal values
    
    Use a fixed-length representation to avoid platform-specific issues.

commit 80300af278d346049f9bfd48f013bc2055dc104b
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Mon Mar 15 11:07:36 2010 +0100

    s4:registry - add support for REG_QWORD values
    
    Basically the same as REG_DWORD but these are eight byte long.

commit c3eb509dea715620da086f3dc8e5702fb9d03e1c
Author: Günther Deschner <gd@samba.org>
Date:   Mon Mar 15 10:20:06 2010 +0100

    s4-smbtorture: fix torture_comment in RPC-SPOOLSS.
    
    Guenther

commit f49d5e3288bc1b45d22fff0e68b11add2c4691ab
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 15 09:37:42 2010 +0100

    s4:tortore/libnet: fix crash bugs because of incorrect function prototypes
    
    metze

commit eb8c8a0ecaa9bfd29f090db21fccdad7751767ae
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 14 17:40:14 2010 +0100

    s4:registry - util.c - add harder checks for inputs on "reg_val_data_string"
    
    ("NULL" result is error on most data types).

commit 508c218eb2f4bf8c45dc9d481576c87ed4fecbd3
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sat Mar 13 13:37:18 2010 +0100

    Revert "s4-smbtorture: skip extended SetValue test against Samba (both dont survive)."
    
    This reverts commit 40e2c04f8aba605e951810751222559ea0d32ebd.
    
    s4 should support now also the extended "SetValue" tests.

commit bb1ac0c75c2f42dff972bae36b3814e5ad1142f9
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 14 17:18:29 2010 +0100

    s4:registry - ldb.c - provide a mechanism for storing UTF8/binary REG_DWORD values
    
    We need to support this as gd's WINREG torture test shows.

commit fbce5ded301a79846356b3809275e10b0a4b6860
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 14 10:30:19 2010 +0100

    s4:registry - ldb.c - provide a mechansim for storing UTF8/binary REG_SZ/REG_EXPAND_SZ values
    
    We need to support this as gd's WINREG torture test shows.

commit 95bfd17e080e439ab3185a1544c64bbe17067306
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sat Mar 13 21:13:59 2010 +0100

    s4:registry - ldb.c - fix up a strange LDB filter

commit f72790daaa6ecef922edcfba38effdc8e5885782
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sat Mar 13 20:03:03 2010 +0100

    s4:registry - ldb.c - fix up the memory handling in "reg_ldb_unpack_value"
    
    Don't substitute existing data blobs with new ones and make sure, that the
    result objects in the data blob don't have memory dependencies of the LDB value
    input.

commit 33eb1c95e55bb26aee7ee3876e38136eb56ef36e
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sat Mar 13 19:37:13 2010 +0100

    s4:registry - ldb.c - check more for possible "Out of memory" circumstances

commit 9b3c45754e9f610a095e6e1b191bb33235e8c314
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sat Mar 13 19:30:43 2010 +0100

    s4:registry - ldb.c - remove superfluous "query" variable

commit cd3c870333d49460c9598a9928622454cd2cefc5
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sat Mar 13 19:29:03 2010 +0100

    s4:registry - ldb.c - Consider result values in "reg_ldb_pack_value"
    
    Break on errors and return NULL and otherwise the message pointer.

commit 3c6792bc76323f821bc9e44ea3d724ce39e9081f
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sat Mar 13 18:39:54 2010 +0100

    s4:registry - ldb.c - Move the "val" structure
    
    Move it into the REG_SZ/REG_EXPAND_SZ case block since it's used only there.
    Plus convert it from static into dynamic talloc'ed.

commit 727fb8578261de8eed335ce5210d86ea556ce6d3
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 14 14:21:18 2010 +0100

    s3: Remove some unused #defines

commit 2111fe5255c1a76c267bbd0986a9f4566e6a68f9
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 14 13:49:58 2010 +0100

    s3: Use a switch to implement map_nt_error_from_tdb
    
    First, this immediately gave me the warning that TDB_ERR_NESTING was not
    covered and second, this saved 48 bytes in the .o :-)

commit 6c00a3db24808333df734dde15064d01b32dbf45
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 14 14:13:30 2010 +0100

    s3: Remove some unused code

commit e00327323ddec6074141a4c5638a12565b6345bd
Author: Volker Lendecke <vl@samba.org>
Date:   Sun Mar 14 14:06:45 2010 +0100

    s3: Fix some nonempty blank lines

commit 5e06110bc19bb4e72a57487bdb231856f2f0c303
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sun Mar 14 10:31:29 2010 +0100

    Reintroduce "s4:provision Improve the handling of provision errors""
    
    This mainly reverts commit f0bc02d74c16bc013e9fdab46ef271cf45873453.
    
    Jelmer pointed out a way how we can achieve the same error handling with an
    older syntax also on Python 2.4+.

commit b4826b9393244e46e855a65a65df67d9e6c1d81c
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Mar 13 20:02:16 2010 +0100

    s3: Convert unexpected.tdb to use tdb_wrap_open

commit cfc44d244152609e17a26db85bbbf827955958a7
Author: Volker Lendecke <vl@samba.org>
Date:   Sat Mar 13 19:05:38 2010 +0100

    s3: Make tdb_wrap_open more robust
    
    This hides the use of talloc_reference from the caller, making it impossible to
    wrongly call talloc_free() on the result.

commit 5eeb1fc44737a3b788fb84945966ded108caf3cf
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sat Mar 13 12:47:28 2010 +0100

    NSS:winbind_struct_protocol.h - fix typo

commit f0bc02d74c16bc013e9fdab46ef271cf45873453
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Sat Mar 13 12:26:30 2010 +0100

    Revert "s4:provision Improve the handling of provision errors"
    
    This reverts partially commit 027123199e13cc02ae4edadd8f0dd0f0660e1193.
    
    Andrew, this is not Python 2.4+ compatible

commit b52b357ede6893bf98d9fa00167b0516e86b755f
Author: Stefan Metzmacher <metze@samba.org>
Date:   Sat Mar 13 08:19:34 2010 +0100

    s4:torture/rpc/spoolss.c: fix compiler warnings
    
    metze

commit 8f0773771491dd12c0fa0b8967009364d1daa188
Author: Günther Deschner <gd@samba.org>
Date:   Sat Mar 13 02:26:59 2010 +0100

    s4-smbtorture: warn on unexpected devicenames in spoolss devicemode test.
    
    Guenther

commit 6833094d6bddf53ee403f89e4f949b9e23041974
Author: Günther Deschner <gd@samba.org>
Date:   Sat Mar 13 01:37:32 2010 +0100

    s4-smbtorture: send even more random data in extended winreg SetValue test.
    
    Guenther

commit 33d9901ecb448835fe566932df609a60f288a87f
Author: Günther Deschner <gd@samba.org>
Date:   Sat Mar 13 01:34:31 2010 +0100

    s4-smbtorture: fix build and handle in spoolss test.
    
    it's friday night...
    
    Guenther

commit 5e48aa7ebbf0b3c589093867be12523d6f98e4d2
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 12 18:31:22 2010 +0100

    s3-spoolss: wrap _spoolss_EnumPrinterData() around _spoolss_EnumPrinterDataEx().
    
    This removes some dependencies to registry code.
    
    Guenther

commit d39ece17e0590aa7fd484cf273a7402f704a7ebb
Author: Günther Deschner <gd@samba.org>
Date:   Sat Mar 13 01:07:43 2010 +0100

    s4-smbtorture: add spoolss EnumPrinterData vs EnumPrinterDataEx consistency test.
    
    Guenther

commit ab33b991de6dcd3d27668ad4710e58f4b5e228f4
Author: Günther Deschner <gd@samba.org>
Date:   Sat Mar 13 01:05:24 2010 +0100

    s4-smbtorture: refactor spoolss EnumPrinterData test.
    
    Guenther

commit 1d9d617d971a38670b359403f76f9effad994bfa
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 12 22:45:33 2010 +0100

    s4-smbtorture: refactor SetPrinterData() calls a little more.
    
    Guenther

commit 3de2f0475dfcaf1df54054b9afce70cc0e9afeb1
Author: Günther Deschner <gd@samba.org>
Date:   Fri Mar 12 22:11:14 2010 +0100

    s4-smbtorture: re-arrange spoolss_SetPrinterData() tests.
    
    Guenther

commit f064a182eb3a28e49cec6aa3d9baaad8d85f13e6
Author: Günther Deschner <gd@samba.org>
Date:   Sat Mar 13 00:20:52 2010 +0100

    s4-smbtorture: make sure RPC-SPOOLSS passes against 64bit archs (w2k8r2).
    
    Guenther

commit a2be29dfa32a675249f743632a24450d5147a112
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Mar 12 14:31:47 2010 -0800

    Missed a couple more uses of conn->server_info->ptok that need to be get_current_nttok(conn)
    
    Centralize the root check into smb1_file_se_access_check()
    so this is used by modules/vfs_acl_common.c also.
    
    Jeremy.

commit e80ceb1d7355c8c46a2ed90d5721cf367640f4e8
Author: Jeremy Allison <jra@samba.org>
Date:   Fri Mar 12 13:56:51 2010 -0800

    Remove more uses of "extern struct current_user current_user;".
    
    Use accessor functions to get to this value. Tidies up much of
    the user context code. Volker, please look at the changes in smbd/uid.c
    to familiarize yourself with these changes as I think they make the
    logic in there cleaner.
    
    Cause smbd/posix_acls.c code to look at current user context, not
    stored context on the conn struct - allows correct use of these
    function calls under a become_root()/unbecome_root() pair.
    
    Jeremy.

commit 31b0417f7def5af5392088eec8fe6e77074d3da9
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Fri Mar 12 21:04:22 2010 +0100

    s4:provision.py - small output improvement

commit b3f727e6a5f20075dd79291ff895a46e47b63e53
Author: Matthias Dieter Wallnöfer <mwallnoefer@yahoo.de>
Date:   Fri Mar 12 18:56:44 2010 +0100

    s4:util.c - "dsdb_check_optional_feature" - counter should be "unsigned"

commit e3913084cd17861822b1e2f8b1379e48e181856c
Author: Volker Lendecke <vl@samba.org>
Date:   Fri Mar 12 15:48:35 2010 +0100

    s3: Add "net registry increment"
    
    A convenience function to increment a DWORD value under a (cluster-wide) lock

commit 0f210749a779249b8f323c2eb2aec38137ae4317
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 11 12:51:46 2010 +0100

    s4:torture/rpc/dfs.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 81ac17d12d28b02e896f9c6c17a3aa441e87f4a7
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 11 12:30:24 2010 +0100

    s4:torture/rpc/echo.c: make use of dcerpc_binding_handle stubs
    
    metze

commit f1633934cd1fc455648230c6e542c2a67f751879
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 11 11:33:10 2010 +0100

    s4:torture/libnet: make use of dcerpc_binding_handle stubs
    
    metze

commit 7be154a6168bd1bb49d776599b9ede0826835c66
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 11 11:31:36 2010 +0100

    s4:torture/ntp: make use of dcerpc_binding_handle stubs
    
    metze

commit 9e0557a14975375596e7ed89c7ed70b85116e7fc
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 11 11:27:58 2010 +0100

    s4:libnet/libnet_time.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 07a28b1923bee35c365972e4c5935de8637d412b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 11 11:27:40 2010 +0100

    s4:libnet/libnet_share.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 02c61f520cfd5bea83ab18a4877c978f448fa4d3
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 11 11:27:16 2010 +0100

    s4:libnet/libnet_samsync.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 19d229a11b959f4dd841b1a4e851f39271121e10
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 11 07:59:14 2010 +0100

    s4:libnet/libnet_passwd.c: make use of dcerpc_binding_handle stubs
    
    metze

commit bec3d8e7ae84c7adb64bff64529f7838aa45fd9b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 11 11:26:27 2010 +0100

    s4:libnet/libnet_join.c: make use of dcerpc_binding_handle stubs
    
    metze

commit 7807de5693174ee018561a694c8b6baf292888e2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 11 11:25:34 2010 +0100

    s4:libcli/util/clilsa.c: make use of dcerpc_binding_handle stubs
    
    metze

commit dea7c4f999c157358338436ce1717ef8bf3f96e0
Author: Stefan Metzmacher <metze@samba.org>
Date:   Thu Mar 11 11:25:01 2010 +0100

    s4:client: make use of dcerpc_binding_handle stubs
    
    metze

commit 580d491faa8baf35b85262fa84d8c3a0591d9f34
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 18:17:28 2010 +0100

    s4:rpc_server/spoolss: make use of dcerpc_binding_handle stubs
    
    metze

commit b6623e3a264d685c6f271a8f1e2529c3dcd201b8
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 18:13:50 2010 +0100

    s4:lib/registry/rpc: convert to use dcerpc_binding_handle stubs
    
    metze

commit d0662ac4d01a5de34a368504b63f03a5ab43c398
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 11:12:17 2010 +0100

    pidl:Samba4/NDR/Client: make the old rpc_request style async functions static
    
    metze

commit d4f143258b61055864d8bb61ec180284a8b68e71
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 10:36:05 2010 +0100

    s4:dcom: add a comment about unused code.
    
    metze

commit 6292cb7f7f097aba2151d348331700e2b99fe49e
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 10:30:03 2010 +0100

    s4:libcli/composite: get rid of composite_continue_rpc()
    
    metze

commit 7b76c118ad0f5272a2dac679e482f7b1b2440abc
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 10:23:01 2010 +0100

    s4:librpc/rpc/dcerpc_util.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit 398f477941de2fe3010c4f44b5507a9b764c2fd3
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 10:17:25 2010 +0100

    s4:librpc/rpc/dcerpc_schannel.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit ff54cbe3d4c090003720eaef2a7321923404db39
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 9 15:46:55 2010 +0100

    s4:torture/rpc: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit e9cae3b5bc9a59a45973c1671e2d7372d1c32b12
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 10:04:20 2010 +0100

    s4:winbind/wb_sam_logon.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit 399cbb647995d3caee4aba21a7333102a28324ba
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 10:03:56 2010 +0100

    s4:winbind/wb_init_domain.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit 7681260e1eb5fdf168e7e1a35e8b8b0a14e1c2e0
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 10:03:26 2010 +0100

    s4:winbind/wb_dom_info_trusted.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit 53bdd25829b0af13a30b70e503f59702708668a8
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 10:02:50 2010 +0100

    s4:winbind/wb_connect_sam.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit d836dd9ea7e96752e405990521d80242e948a84b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 10:02:25 2010 +0100

    s4:winbind/wb_connect_lsa.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit 6ecae51e18ef31010ba5cdac845e13108e821c40
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 10:01:57 2010 +0100

    s4:winbind/wb_cmd_usersids.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit 765d4a52cba49ac1c8d30ae825c03f6003acd188
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 10:01:23 2010 +0100

    s4:winbind/wb_cmd_list_trustdom.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit 05d6343ac7a9a1e244ad70c0c24d65f33936e6ad
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 9 13:49:20 2010 +0100

    s4:winbind/wb_cmd_getdcname: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit 9e87e6dc9ae73e1a5ad8bfc1742282ba69202ddd
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 8 20:33:48 2010 +0100

    s4:winbind/wb_async_helpers.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit a011cbccb7956b277657690f2c3070f4eea78092
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 09:53:36 2010 +0100

    s4:libnet/libnet_rpc.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit c190ae1631ae1307116005280fa61dbfac90a19d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 09:43:13 2010 +0100

    s4:libnet/usernam.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit a8967c378c771697760f47996aaae8f3d1e4a98b
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 09:42:07 2010 +0100

    s4:libnet/userinfo.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit ccc0ab681133548d9c8f0b34368b5836374d9947
Author: Stefan Metzmacher <metze@samba.org>
Date:   Wed Mar 10 09:39:55 2010 +0100

    s4:libnet/libnet_user.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit c148405a12919ca48163f0cbe337fe30b6c97d92
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 9 16:59:33 2010 +0100

    s4:libnet/libnet_lookup.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit eae3436320fef015f3e2f78ed32aa57cae0aa7f9
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 9 16:48:17 2010 +0100

    s4:libnet/libnet_group.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit 3d72524ab4de8d3fe820c0eb0dcd60c4a2cc3fe2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Tue Mar 9 16:45:04 2010 +0100

    s4:libnet/libnet_domain.c: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit f0a394315d6adede8e319a60236aca114b1aa362
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 8 17:12:56 2010 +0100

    s4:libnet_unbecome_dc: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit 2c5bbea8cbf1fd95db946ca65893f081b8c392d2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 8 16:41:43 2010 +0100

    s4:libnet_become_dc: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit 8dc4fd921b3d49d757f382d5546447eed37ea9f2
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 8 16:32:45 2010 +0100

    s4:libnet/group*: make use of tevent_req based dcerpc_binding_handle stubs
    
    metze

commit a3ae9802d47f7a39030be089d15fc42f8e8917e6
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 8 16:27:14 2010 +0100

    s4:libnet: keep a dcerpc_binding_handle for samr and lsa
    
    metze

commit 77fb700e2096a0fbd1ed9361f476898b2b7771c5
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 8 16:23:17 2010 +0100

    s4:dsdb/repl: make use of use tevent_req based dcerpc_binding_handle stubs
    
    metze

commit 15d9675b049ee157037328daa714f79b339c0c73
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 8 12:31:06 2010 +0100

    pidl:Samba4/NDR/Client: generate stubs for dcerpc_binding_handle abstraction
    
    metze

commit d95ca9003044969eacf6b42710a4ce5640084b2d
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 8 16:24:19 2010 +0100

    s4:librpc/rpc: prepare dcerpc dependecies before pidl changes
    
    metze

commit 6677a5431cc33d8fba565ee068d4c87050ddbd96
Author: Stefan Metzmacher <metze@samba.org>
Date:   Mon Mar 8 12:29:52 2010 +0100

    s4:librpc/rpc: add very basic dcerpc_binding_handle infrastructure
    
    metze
====================== samba git log end ========================

------------------------------------------------------------------------
r34732 | jmayer | 2010-10-31 03:37:32 -0700 (Sun, 31 Oct 2010) | 1 line
Changed paths:
   D /trunk/tools/pidl/config.mk
   D /trunk/tools/pidl/smb_interfaces.yp

Forgot to remove two more files
------------------------------------------------------------------------
r34733 | stig | 2010-10-31 05:15:41 -0700 (Sun, 31 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-batadv.c

Corrected abbrev for Source and Destination.

------------------------------------------------------------------------
r34734 | stig | 2010-10-31 05:26:15 -0700 (Sun, 31 Oct 2010) | 5 lines
Changed paths:
   M /trunk/asn1/Makefile.inc

Added a "all" target to rebuild all asn1 dissectors.

Currently this fails for kerberos and x721, because they shall not be build.
Maybe we should add some sort of disable build for them.

------------------------------------------------------------------------
r34735 | stig | 2010-10-31 05:30:19 -0700 (Sun, 31 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-x420.c

Rebuild, no code changes.

------------------------------------------------------------------------
r34736 | stig | 2010-10-31 05:37:46 -0700 (Sun, 31 Oct 2010) | 2 lines
Changed paths:
   M /trunk/asn1/ns_cert_exts/Makefile.common
   D /trunk/asn1/ns_cert_exts/packet-ns_cert_exts-template.h

Don't generate packet-ns_cert_exts.h, it's not used.

------------------------------------------------------------------------
r34739 | guy | 2010-10-31 10:33:46 -0700 (Sun, 31 Oct 2010) | 2 lines
Changed paths:
   M /trunk/tools/Makefile.am

Remove files that no longer exist.

------------------------------------------------------------------------
r34740 | kukosa | 2010-10-31 23:54:51 -0700 (Sun, 31 Oct 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h460.c
   M /trunk/epan/dissectors/packet-h501.c
   M /trunk/epan/dissectors/packet-pcap.c
   M /trunk/epan/dissectors/packet-rrlp.c

Next PER dissectors related to rev. 34400 (empty constructed types with an extension) are regenerated
http://anonsvn.wireshark.org/viewvc?view=rev&revision=34400
------------------------------------------------------------------------
r34741 | stig | 2010-11-01 03:29:07 -0700 (Mon, 01 Nov 2010) | 3 lines
Changed paths:
   M /trunk/gtk/stock_icons.c

Use more descriptive names for capture filter and display filter icons.
They are displayed in the toolbar dropdown when the window is too narrow.

------------------------------------------------------------------------
r34742 | morriss | 2010-11-01 07:33:14 -0700 (Mon, 01 Nov 2010) | 12 lines
Changed paths:
   M /trunk/editcap.c

From Jose Pedro Oliveira via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5353 :

editcap -h sends 9 lines to stderr and the rest to stdout.  This problem
affects editcap 1.4.x (branch 1.4) and devel (trunk).

How to duplicate:
 1) run "editcap -h"
 2) run "editcap -h > /dev/null"

The attached patch replaces 9 ocurrences of "stderr" by "output" in the usage
function.

------------------------------------------------------------------------
r34743 | wmeier | 2010-11-01 09:15:10 -0700 (Mon, 01 Nov 2010) | 2 lines
Changed paths:
   M /trunk/tools/pidl/lib/wscript_build
   M /trunk/tools/pidl/wscript

Add some svn properties

------------------------------------------------------------------------
r34744 | wmeier | 2010-11-01 10:11:04 -0700 (Mon, 01 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-assa_r3.c

Use value_string_ext fcns when accessing value_string arrays.

------------------------------------------------------------------------
r34745 | wmeier | 2010-11-01 11:26:34 -0700 (Mon, 01 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_gm.c
   M /trunk/epan/dissectors/packet-gtp.c
   M /trunk/epan/dissectors/packet-ndp.c
   M /trunk/epan/dissectors/packet-ppp.c
   M /trunk/epan/dissectors/packet-ppp.h

Use value_string_ext fcns to access various value_string arrays.
Also: use value_string_const() instead of value_string() where apropriate;
      minor reformatting & whitespace cleanup.

------------------------------------------------------------------------
r34746 | wmeier | 2010-11-01 11:33:30 -0700 (Mon, 01 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-zcl.c
   M /trunk/epan/dissectors/packet-zbee.h

Use value_string_ext fcns to access various value_string arrays;
Also: Fix a typo  in packet-zbee.h in the value for #define ZBEE_MFG_CODE_STG


------------------------------------------------------------------------
r34747 | wmeier | 2010-11-01 11:38:13 -0700 (Mon, 01 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ncp2222.inc
   M /trunk/tools/ncp2222.py

Compile (over 100) dfilters only if needed rather than at every Wireshark startup;
Also: Minor whitespace cleanup.

------------------------------------------------------------------------
r34748 | jake | 2010-11-02 00:54:24 -0700 (Tue, 02 Nov 2010) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ethertype.c
   M /trunk/epan/dissectors/packet-llc.c
   M /trunk/epan/etypes.h

From Daniel Ginsburg:
draft-ietf-isis-ext-eth specifies an extension to current Ethernet Frame
specifications for hardware and frame format to support payloads greater than
1500 Bytes for Type interpretation and Length interpretation frames.

The extension introduced by draft-ietf-isis-ext-eth is currently used by Cisco
Systems' IS-IS routing protocol implementation when running IS-IS over Ethernet
links with large MTU.

------------------------------------------------------------------------
r34749 | jake | 2010-11-02 01:21:29 -0700 (Tue, 02 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-aps.c
   M /trunk/epan/dissectors/packet-zbee-zcl.c
   M /trunk/epan/dissectors/packet-zbee.h

From Fred Fierling:
Update Profile ID Information to ZigBee-053298r17 (2010/7/21)

------------------------------------------------------------------------
r34750 | jake | 2010-11-02 01:48:06 -0700 (Tue, 02 Nov 2010) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

From Simon Leinen:
The IP Timestamp Option (RFC 781) has three variants.  One (flag=0) just stores
a sequence timestamps in the option, but the other two (flag=1 and flag=3)
store alternate IP addresses and timestamps.

From me:
Mark option full when offset (pointer) is set to one, as per RFC 781.

------------------------------------------------------------------------
r34751 | etxrab | 2010-11-02 05:03:06 -0700 (Tue, 02 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

(GTKUImanger)
- make the accelerators work.
------------------------------------------------------------------------
r34752 | martinm | 2010-11-02 08:17:58 -0700 (Tue, 02 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pdcp-lte.c
   M /trunk/epan/dissectors/packet-rlc-lte.c

Don't allocate context struct until/unless heuristic signature string matches.

------------------------------------------------------------------------
r34753 | martinm | 2010-11-02 08:20:38 -0700 (Tue, 02 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-mac-lte.h

Add 'ndi' and 'harq-id' as new MAC-PHY DL attributes.

------------------------------------------------------------------------
r34754 | etxrab | 2010-11-02 09:58:43 -0700 (Tue, 02 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-isakmp.c

from Alexis La Goutte:
Cleanup and update ISAKMP Dissector.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5360
------------------------------------------------------------------------
r34755 | cmaynard | 2010-11-02 11:43:26 -0700 (Tue, 02 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nbns.c

Removed call to proto_item_set_len() for SESSION_MESSAGE case.  Protect some
other of these calls with "if (ti != NULL)".  Fixes bug 5289.

------------------------------------------------------------------------
r34756 | sfisher | 2010-11-02 13:36:36 -0700 (Tue, 02 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tftp.c

Don't show \000 at the end of null terminated strings in the info column of the tftp dissector:

  tvb_format_text() -> tvb_format_stringzpad()

------------------------------------------------------------------------
r34757 | jake | 2010-11-03 00:30:42 -0700 (Wed, 03 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-aps.c
   M /trunk/epan/dissectors/packet-zbee-zcl.c
   M /trunk/epan/dissectors/packet-zbee.h

From Fred Fierling:
Patch to correct various typos

------------------------------------------------------------------------
r34758 | etxrab | 2010-11-03 06:01:01 -0700 (Wed, 03 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

Update SIP headers.
------------------------------------------------------------------------
r34759 | cmaynard | 2010-11-03 07:45:17 -0700 (Wed, 03 Nov 2010) | 4 lines
Changed paths:
   M /trunk/gtk/file_dlg_win32.c

Use g_utf16_toutf8() instead of utf_16to8() to avoid the last display filter
applied from being overwritten.  Fixes bug 3894.  Also, combined the open and
merge filters into one, so we have a single most recently used filter.

------------------------------------------------------------------------
r34760 | cmaynard | 2010-11-03 09:40:41 -0700 (Wed, 03 Nov 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb2.c

From Claes Nasten, submitted in bug 2952:

Here's a patch updating the decoding of write request/responses, decodes the 16
unknown bytes in write requests, decodes the 8 unknown bytes in write responses
and renames length to count as per the SMB2 spec.

------------------------------------------------------------------------
r34761 | jake | 2010-11-03 10:52:11 -0700 (Wed, 03 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee802154.c

From Colin O'Flynn:
Add a missing NULL pointer check.

------------------------------------------------------------------------
r34762 | jake | 2010-11-03 10:57:22 -0700 (Wed, 03 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-agentx.c

From Fulko Hew:
The hex field highlighting when the 'PDU Header' sub-tree is selected
highlights 5 octets rather than the correct 4 (only) octets.

------------------------------------------------------------------------
r34763 | wmeier | 2010-11-03 11:28:35 -0700 (Wed, 03 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wap.c
   M /trunk/epan/dissectors/packet-wap.h
   M /trunk/epan/dissectors/packet-wbxml.c
   M /trunk/epan/dissectors/packet-wsp.c
   M /trunk/epan/dissectors/packet-wsp.h
   M /trunk/epan/dissectors/packet-wtls.c
   M /trunk/epan/dissectors/packet-wtp.c
   M /trunk/epan/libwireshark.def
   M /trunk/gtk/wsp_stat.c
   M /trunk/tap-wspstat.c

Use value_string_ext fcns to access certain value_string arrays;
Some whitespace cleanup.

------------------------------------------------------------------------
r34764 | wmeier | 2010-11-03 11:37:29 -0700 (Wed, 03 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

(Trivial): Fix up a comment.

------------------------------------------------------------------------
r34765 | jake | 2010-11-03 13:44:46 -0700 (Wed, 03 Nov 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-agentx.c

From Fulko Hew:
According to RFC 2741 section 6.2.1 the Open-PDU can have an o.id
field containing a 'null' identifier.  The dissector currently does
not handle it and causes other (misleading) error messages to appear
on the decode window.

------------------------------------------------------------------------
r34766 | wmeier | 2010-11-03 15:08:49 -0700 (Wed, 03 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-actrace.c
   M /trunk/epan/dissectors/packet-bthci_cmd.c
   M /trunk/epan/dissectors/packet-bthci_evt.c
   M /trunk/epan/dissectors/packet-hci_h4.h
   M /trunk/epan/dissectors/packet-ip.c
   M /trunk/epan/dissectors/packet-netflow.c
   M /trunk/epan/dissectors/packet-scsi.c
   M /trunk/epan/dissectors/packet-skinny.c
   M /trunk/epan/dissectors/packet-uma.c

Use value_string_ext fcns to access certain value_string arrays;
Sort several value_string arrays to be in ascending order.
Also: Minor whitespace cleanup.

------------------------------------------------------------------------
r34767 | jake | 2010-11-03 23:36:33 -0700 (Wed, 03 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmp.c
   M /trunk/epan/dissectors/packet-iscsi.c
   M /trunk/epan/dissectors/packet-mstp.c
   M /trunk/epan/dissectors/packet-mstp.h
   M /trunk/epan/dissectors/packet-q931.c

From Alexis La Goutte:
Replace all *_min()/*_max() by MIN() and MAX().

------------------------------------------------------------------------
r34768 | jake | 2010-11-03 23:37:01 -0700 (Wed, 03 Nov 2010) | 3 lines
Changed paths:
   M /trunk/tap-camelsrt.c

From Alexis La Goutte:
Replace all *_min()/*_max() by MIN() and MAX().

------------------------------------------------------------------------
r34769 | jake | 2010-11-03 23:37:26 -0700 (Wed, 03 Nov 2010) | 3 lines
Changed paths:
   M /trunk/gtk/rtp_player.c

From Alexis La Goutte:
Replace all *_min()/*_max() by MIN() and MAX().

------------------------------------------------------------------------
r34770 | jake | 2010-11-03 23:37:58 -0700 (Wed, 03 Nov 2010) | 3 lines
Changed paths:
   M /trunk/wiretap/erf.c
   M /trunk/wiretap/netscaler.c

From Alexis La Goutte:
Replace all *_min()/*_max() by MIN() and MAX().

------------------------------------------------------------------------
r34771 | jake | 2010-11-03 23:42:17 -0700 (Wed, 03 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iscsi.c

From Alexis La Goutte:
Remove unused header fields.

------------------------------------------------------------------------
r34772 | jake | 2010-11-03 23:44:57 -0700 (Wed, 03 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-q931.c

From Alexis La Goutte:
Fix false positive from checkhf.

------------------------------------------------------------------------
r34773 | stig | 2010-11-04 04:25:40 -0700 (Thu, 04 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-clnp.c
   M /trunk/epan/dissectors/packet-dtn.c
   M /trunk/epan/dissectors/packet-ftp.c

Corrected pointer types to avoid warnings from clang.

------------------------------------------------------------------------
r34774 | stig | 2010-11-04 04:26:20 -0700 (Thu, 04 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/strutil.c

Corrected some pointer types to avoid warnings from clang.

------------------------------------------------------------------------
r34775 | stig | 2010-11-04 04:27:04 -0700 (Thu, 04 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sbus.c

Added check for valid pointers.

------------------------------------------------------------------------
r34776 | stig | 2010-11-04 04:27:34 -0700 (Thu, 04 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-git.c

Removed unused assignments.

------------------------------------------------------------------------
r34777 | stig | 2010-11-04 04:37:06 -0700 (Thu, 04 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/prefs.c
   M /trunk/gtk/menus.c

Support empty column titles.

------------------------------------------------------------------------
r34778 | cmaynard | 2010-11-04 08:34:36 -0700 (Thu, 04 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ositp.c

Multi-byte fields are big-endian, so fixed hf_cotp_vp_[src|dst]_tsap_bytes.
Added link to most up-to-date spec, relegating RFC905 to historic status.

------------------------------------------------------------------------
r34779 | jake | 2010-11-04 13:53:02 -0700 (Thu, 04 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

Prevent false related packet information, which may be missing or ignored.

------------------------------------------------------------------------
r34780 | wmeier | 2010-11-04 14:30:42 -0700 (Thu, 04 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-afs.c
   M /trunk/epan/dissectors/packet-cigi.c
   M /trunk/epan/dissectors/packet-nfs.c
   M /trunk/epan/dissectors/packet-wbxml.c

Use value_string_ext fcns to access certain value_string arrays;
Sort certain value_string arrays to be in ascending numeric order;
Do minor whitespace cleanup and reformatting of long lines.

------------------------------------------------------------------------
r34781 | etxrab | 2010-11-04 23:19:57 -0700 (Thu, 04 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_gm.c

From Pascal Quantin:
[NAS EPS] Display explicitly the spare bits when decoding a TFT
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5371
------------------------------------------------------------------------
r34782 | etxrab | 2010-11-05 00:03:40 -0700 (Fri, 05 Nov 2010) | 3 lines
Changed paths:
   M /trunk/gtk/tcp_graph.c

From Alexander Koeppe:
Window Scaling Graph - Fix display of x-axis in long-lasting captures
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5341
------------------------------------------------------------------------
r34783 | etxrab | 2010-11-05 00:14:21 -0700 (Fri, 05 Nov 2010) | 3 lines
Changed paths:
   M /trunk/wiretap/network_instruments.c

From Robert Bullen:
Network Instruments' trace files sometimes cannot be read with an error message of "Observer: bad record: Invalid magic number"
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5330
------------------------------------------------------------------------
r34784 | stig | 2010-11-05 01:04:24 -0700 (Fri, 05 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-synphasor.c
   M /trunk/plugins/gryphon/packet-gryphon.c

Fixed a printf modifier to remove a warning from clang.

------------------------------------------------------------------------
r34785 | stig | 2010-11-05 01:10:40 -0700 (Fri, 05 Nov 2010) | 5 lines
Changed paths:
   M /trunk/gtk/dfilter_expr_dlg.c

Corrected an if-statement in field_select_row_cb() where checking for
hfinfo->strings and hfinfo->display.

This bug was found by clang.

------------------------------------------------------------------------
r34786 | stig | 2010-11-05 01:13:26 -0700 (Fri, 05 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c

Initialize a variable to remove a warning from clang.

------------------------------------------------------------------------
r34787 | stig | 2010-11-05 01:21:25 -0700 (Fri, 05 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-security.c

Put all code handling nwk_hints inside "if (nwk_hints)" to avoid possible
dereference of null pointer.

------------------------------------------------------------------------
r34788 | stig | 2010-11-05 01:28:34 -0700 (Fri, 05 Nov 2010) | 2 lines
Changed paths:
   M /trunk/asn1/h245/h245.cnf
   M /trunk/epan/dissectors/packet-h245.c

Initialize dummy_me to avoid garbage or undefined values.

------------------------------------------------------------------------
r34789 | stig | 2010-11-05 02:59:40 -0700 (Fri, 05 Nov 2010) | 2 lines
Changed paths:
   M /trunk/plugins/gryphon/packet-gryphon.c

Simply use %c for printing char.

------------------------------------------------------------------------
r34790 | wmeier | 2010-11-05 07:27:18 -0700 (Fri, 05 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.h

(Trivial) Whitespace cleanup.

------------------------------------------------------------------------
r34791 | etxrab | 2010-11-05 08:01:05 -0700 (Fri, 05 Nov 2010) | 2 lines
Changed paths:
   M /trunk/tshark.c

Bug fix: Running tshark with the following command will leave a temp file on the file system.
\tshark -f "port 53" -a duration:1 -z proto,col info,dns.qry.type,dns.qry.type
------------------------------------------------------------------------
r34792 | martinm | 2010-11-05 09:47:22 -0700 (Fri, 05 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Show some reserved bits as hex, not decimal.

------------------------------------------------------------------------
r34793 | martinm | 2010-11-05 11:00:35 -0700 (Fri, 05 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c
   M /trunk/epan/dissectors/packet-pdcp-lte.c
   M /trunk/epan/dissectors/packet-pdcp-lte.h
   M /trunk/epan/dissectors/packet-rlc-lte.c

Pass ueid + channel-info into PDCP dissector.
This will allow me soon to track per-channel sequence numbers...

------------------------------------------------------------------------
r34794 | wmeier | 2010-11-05 15:44:03 -0700 (Fri, 05 Nov 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-camel.c
   M /trunk/epan/dissectors/packet-gsm_a_dtap.c
   M /trunk/epan/dissectors/packet-h225.c
   M /trunk/epan/dissectors/packet-h248_annex_c.c
   M /trunk/epan/dissectors/packet-h248_q1950.c
   M /trunk/epan/dissectors/packet-inap.c
   M /trunk/epan/dissectors/packet-isup.c
   M /trunk/epan/dissectors/packet-isup.h
   M /trunk/epan/dissectors/packet-q931.c
   M /trunk/epan/dissectors/packet-q931.h
   M /trunk/epan/dissectors/packet-sip.c
   M /trunk/epan/libwireshark.def
   M /trunk/gtk/voip_calls.c

Use value_string_ext fcns to access certain value_string arrays;
Sort certain value_string arrays so the values are in ascending order;
Use val_to_str_ext() instead of for loops to do value_string array lookups (voip_calls.c).
Minor whitespace cleanup.

------------------------------------------------------------------------
r34795 | etxrab | 2010-11-06 08:13:25 -0700 (Sat, 06 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pdcp-lte.h

Get the Windows build going again.
- Martin is this the right fix?
------------------------------------------------------------------------
r34796 | etxrab | 2010-11-06 08:25:34 -0700 (Sat, 06 Nov 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main_proto_draw.c

From Alexander Koeppe:
Patch that fixes overflowing highlighting of data.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5374
------------------------------------------------------------------------
r34797 | martinm | 2010-11-06 11:51:08 -0700 (Sat, 06 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pdcp-lte.h
   M /trunk/epan/dissectors/packet-rlc-lte.h

Try to fix by making both use guint8, rather than guint16.

------------------------------------------------------------------------
r34798 | martinm | 2010-11-06 12:22:16 -0700 (Sat, 06 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pdcp-lte.h
   M /trunk/epan/dissectors/packet-rlc-lte.h

Use guint16 after all, to avoid breaking the UDP framing protocol.
8 bits are enough though...

------------------------------------------------------------------------
r34799 | etxrab | 2010-11-06 14:05:45 -0700 (Sat, 06 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

display the the PDU length as "cut short"if it crosses the boundary of the 
	 * packet and no more packets are available.
Based on the patch from Alexander Koeppe in
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5285
------------------------------------------------------------------------
r34802 | gerald | 2010-11-07 10:21:22 -0800 (Sun, 07 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

The PEN field is 32 bits.

------------------------------------------------------------------------
r34803 | etxrab | 2010-11-07 12:51:16 -0800 (Sun, 07 Nov 2010) | 6 lines
Changed paths:
   M /trunk/asn1/camel/packet-camel-template.c
   M /trunk/asn1/h225/h225.cnf
   M /trunk/asn1/inap/inap.cnf

Make the changes from:
Use value_string_ext fcns to access certain value_string arrays;
Sort certain value_string arrays so the values are in ascending order;
Use val_to_str_ext() instead of for loops to do value_string array lookups (voip_calls.c).
Minor whitespace cleanup.
In the source files of the as2wrs generated dissectors.
------------------------------------------------------------------------
r34804 | etxrab | 2010-11-08 06:43:59 -0800 (Mon, 08 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-rtp.c
   M /trunk/epan/dissectors/packet-sdp.c
   M /trunk/epan/libwireshark.def
   M /trunk/epan/rtp_pt.h
   M /trunk/gtk/rtp_player.c
   M /trunk/gtk/rtp_stream_dlg.c
   M /trunk/gtk/voip_calls.c
   M /trunk/tap-rtp.c

Use value_string_ext for RTP payload types.
------------------------------------------------------------------------
r34805 | cmaynard | 2010-11-08 08:53:11 -0800 (Mon, 08 Nov 2010) | 4 lines
Changed paths:
   M /trunk/gtk/export_object.c

Allow objects to be saved that otherwise couldn't be due to invalid characters
in the filename, excessive filename lengths or duplicate filenames.  Fixes
bug 1671.

------------------------------------------------------------------------
r34806 | cmaynard | 2010-11-08 09:05:30 -0800 (Mon, 08 Nov 2010) | 2 lines
Changed paths:
   M /trunk/print.c

Ensure strings are properly quoted for CSV output.  Fixes bug 1297.

------------------------------------------------------------------------
r34807 | cmaynard | 2010-11-08 09:10:35 -0800 (Mon, 08 Nov 2010) | 2 lines
Changed paths:
   M /trunk/make-version.pl

If svn not found, print "Unknown" revision message.

------------------------------------------------------------------------
r34808 | cmaynard | 2010-11-08 09:53:13 -0800 (Mon, 08 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/export_object.c

Make maxlen a gsize instead of a guint.

------------------------------------------------------------------------
r34809 | cmaynard | 2010-11-08 09:54:32 -0800 (Mon, 08 Nov 2010) | 2 lines
Changed paths:
   M /trunk/print.c

Fix gcc warning.  (Sorry, but VS2008EE complains a LOT less.)

------------------------------------------------------------------------
r34810 | etxrab | 2010-11-08 10:05:42 -0800 (Mon, 08 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dns.c

Tweek dns_types.
------------------------------------------------------------------------
r34811 | wmeier | 2010-11-08 13:24:10 -0800 (Mon, 08 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtp.c

Remove two duplicate entries from rtp_payload_type_vals array.

------------------------------------------------------------------------
r34812 | wmeier | 2010-11-08 13:35:14 -0800 (Mon, 08 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtp.c

Remove two duplicate values from rtp_payload_type_short_vals value_string array.

------------------------------------------------------------------------
r34813 | wmeier | 2010-11-08 13:59:39 -0800 (Mon, 08 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-afp.c
   M /trunk/epan/dissectors/packet-afp.h
   M /trunk/epan/dissectors/packet-atalk.c
   M /trunk/epan/dissectors/packet-dnp.c
   M /trunk/epan/dissectors/packet-dsi.c
   M /trunk/epan/libwireshark.def
   M /trunk/gtk/afp_stat.c
   M /trunk/tap-afpstat.c

Use value_string_ext fcns to access certain value_string arrays;
Sort a few value_string arrays to be in ascending order by value;
Do minor reformatting and whitespace cleanup.

------------------------------------------------------------------------
r34814 | etxrab | 2010-11-08 15:15:16 -0800 (Mon, 08 Nov 2010) | 1 line
Changed paths:
   M /trunk/asn1/gsm_map/GSMMAP.asn
   M /trunk/asn1/gsm_map/MAP-BS-Code.asn
   M /trunk/asn1/gsm_map/MAP-CH-DataTypes.asn
   M /trunk/asn1/gsm_map/MAP-CallHandlingOperations.asn
   M /trunk/asn1/gsm_map/MAP-CommonDataTypes.asn
   M /trunk/asn1/gsm_map/MAP-DialogueInformation.asn
   M /trunk/asn1/gsm_map/MAP-ER-DataTypes.asn
   M /trunk/asn1/gsm_map/MAP-Errors.asn
   M /trunk/asn1/gsm_map/MAP-ExtensionDataTypes.asn
   M /trunk/asn1/gsm_map/MAP-GR-DataTypes.asn
   M /trunk/asn1/gsm_map/MAP-Group-Call-Operations.asn
   M /trunk/asn1/gsm_map/MAP-LCS-DataTypes.asn
   M /trunk/asn1/gsm_map/MAP-LocationServiceOperations.asn
   M /trunk/asn1/gsm_map/MAP-MS-DataTypes.asn
   M /trunk/asn1/gsm_map/MAP-MobileServiceOperations.asn
   M /trunk/asn1/gsm_map/MAP-OM-DataTypes.asn
   M /trunk/asn1/gsm_map/MAP-OperationAndMaintenanceOperations.asn
   M /trunk/asn1/gsm_map/MAP-Protocol.asn
   M /trunk/asn1/gsm_map/MAP-SM-DataTypes.asn
   M /trunk/asn1/gsm_map/MAP-SS-Code.asn
   M /trunk/asn1/gsm_map/MAP-SS-DataTypes.asn
   M /trunk/asn1/gsm_map/MAP-ShortMessageServiceOperations.asn
   M /trunk/asn1/gsm_map/MAP-SupplementaryServiceOperations.asn
   M /trunk/asn1/gsm_map/MAP-TS-Code.asn
   M /trunk/epan/dissectors/packet-gsm_map.c

Update to 3GPP TS 29.002 V9.3.0 (2010-09)
------------------------------------------------------------------------
r34815 | cmaynard | 2010-11-08 18:50:29 -0800 (Mon, 08 Nov 2010) | 2 lines
Changed paths:
   M /trunk/doc/tshark.pod

Fixed typos.

------------------------------------------------------------------------
r34816 | cmaynard | 2010-11-08 19:20:15 -0800 (Mon, 08 Nov 2010) | 2 lines
Changed paths:
   M /trunk/doc/capinfos.pod
   M /trunk/doc/editcap.pod
   M /trunk/doc/text2pcap.pod
   M /trunk/doc/wireshark-filter.pod

Fixed typos.

------------------------------------------------------------------------
r34817 | cmaynard | 2010-11-08 19:30:55 -0800 (Mon, 08 Nov 2010) | 2 lines
Changed paths:
   M /trunk/doc/wireshark.pod.template

Fixed typos.

------------------------------------------------------------------------
r34818 | etxrab | 2010-11-08 23:28:04 -0800 (Mon, 08 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c
   M /trunk/epan/dissectors/packet-gsm_a_common.c
   M /trunk/epan/dissectors/packet-gsm_a_common.h
   M /trunk/epan/dissectors/packet-gsm_a_rr.c

Use value_string_ext for gsm_a_rr_rxlev_vals.
------------------------------------------------------------------------
r34819 | stig | 2010-11-09 04:15:55 -0800 (Tue, 09 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Removed calls to proto_item_set_expert_flags(), as this will be called
in expert_add_info_format().

------------------------------------------------------------------------
r34820 | stig | 2010-11-09 04:17:11 -0800 (Tue, 09 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Added an expert info for illegal integer length.

------------------------------------------------------------------------
r34821 | stig | 2010-11-09 04:31:50 -0800 (Tue, 09 Nov 2010) | 5 lines
Changed paths:
   M /trunk/gtk/main_proto_draw.c

Added check for valid finfo->ds_tvb in packet_hex_print(), as we do not
always have finfo->ds_tvb.

This bug was introdused in revision 34796.

------------------------------------------------------------------------
r34822 | wmeier | 2010-11-09 07:47:41 -0800 (Tue, 09 Nov 2010) | 2 lines
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_quick_setup.xml
   M /trunk/docbook/wsdg_src/WSDG_chapter_tools.xml

Python 2.7 is now the current Production version of Python.

------------------------------------------------------------------------
r34823 | tuexen | 2010-11-09 08:29:15 -0800 (Tue, 09 Nov 2010) | 4 lines
Changed paths:
   M /trunk/gtk/sctp_graph_dlg.c

Bugfix from Irene Ruengeler to improve the TSN plot for SCTP
when large gap reports are present.
 

------------------------------------------------------------------------
r34824 | etxrab | 2010-11-09 09:23:57 -0800 (Tue, 09 Nov 2010) | 2 lines
Changed paths:
   M /trunk/diameter/TGPPGmb.xml
   M /trunk/diameter/TGPPSh.xml
   M /trunk/diameter/dictionary.xml
   M /trunk/diameter/etsie2e4.xml
   M /trunk/diameter/mobileipv4.xml
   M /trunk/epan/dissectors/packet-diameter.c

Define unused AVP:s to make it possible to use value_string_ext for
common AVP:s.
------------------------------------------------------------------------
r34825 | etxrab | 2010-11-09 09:24:45 -0800 (Tue, 09 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_rr.c

Add a value_string_ext.
------------------------------------------------------------------------
r34826 | etxrab | 2010-11-09 09:26:34 -0800 (Tue, 09 Nov 2010) | 1 line
Changed paths:
   M /trunk/diameter/TGPPGmb.xml

Remove comments.
------------------------------------------------------------------------
r34827 | etxrab | 2010-11-09 13:13:28 -0800 (Tue, 09 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-isup.c

Fill th Q.850 tables.
------------------------------------------------------------------------
r34828 | wmeier | 2010-11-09 14:58:17 -0800 (Tue, 09 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-isup.c

Fix a few typos in two value_string arrays ....

------------------------------------------------------------------------
r34829 | wmeier | 2010-11-09 15:03:47 -0800 (Tue, 09 Nov 2010) | 3 lines
Changed paths:
   M /trunk/config.nmake

From Michael Wells: Fix "missing path seperator in config.nmake"
See: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5378

------------------------------------------------------------------------
r34830 | stig | 2010-11-10 05:49:55 -0800 (Wed, 10 Nov 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

Added hint about "TCP segmentation offload" when IP length == 0.
Added expert info item for bogus IP length.
Added hint about "IP checksum offload" for invalid IP checksum.
Describe TSO in the preference setting. 

------------------------------------------------------------------------
r34831 | etxrab | 2010-11-10 06:43:20 -0800 (Wed, 10 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-diameter.c

Make a more descriptive name for the per vendor avp value_string_ext.
------------------------------------------------------------------------
r34832 | gerald | 2010-11-10 07:25:11 -0800 (Wed, 10 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf, services and enterprise-numbers update for 2010-11-10]
------------------------------------------------------------------------
r34835 | etxrab | 2010-11-10 12:11:38 -0800 (Wed, 10 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-diameter.c

Make value_string_ext for all AVP:s with enums.
------------------------------------------------------------------------
r34836 | etxrab | 2010-11-10 12:48:10 -0800 (Wed, 10 Nov 2010) | 1 line
Changed paths:
   M /trunk/diameter/TGPPSh.xml
   M /trunk/diameter/gqpolicy.xml

Fill up enums, whitespace changes.
------------------------------------------------------------------------
r34837 | cmaynard | 2010-11-10 13:41:10 -0800 (Wed, 10 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb-browse.c

Convert host name to UTF8 before displaying to info column or in tree.
Fixes bug 1867.

------------------------------------------------------------------------
r34838 | sfisher | 2010-11-10 14:37:30 -0800 (Wed, 10 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-eth.c
   M /trunk/epan/dissectors/packet-ethertype.c
   M /trunk/epan/dissectors/packet-ieee8021ah.c
   D /trunk/epan/dissectors/packet-vlan.c
   D /trunk/epan/dissectors/packet-vlan.h
   M /trunk/epan/prefs.c


Resolve bug #2254: Migrate the 802.1q VLAN dissector into the Ethernet II.


------------------------------------------------------------------------
r34839 | jmayer | 2010-11-10 15:27:10 -0800 (Wed, 10 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/CMakeLists.txt

follow up commit 34838 (get rid of packet-vlan.?
------------------------------------------------------------------------
r34840 | etxrab | 2010-11-10 23:34:07 -0800 (Wed, 10 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sflow.c

From Andrew Feren:
sflow decode error for some extended formats.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5379
------------------------------------------------------------------------
r34841 | guy | 2010-11-10 23:34:12 -0800 (Wed, 10 Nov 2010) | 4 lines
Changed paths:
   M /trunk/dumpcap.c

OS X 10.6.5 is out, and it re-incorporates the libpcap workaround for
the BPF BIOCSRTIMEOUT bug in 64-bit mode, so we don't need to do our own
workaround in 10.6.5 or later.

------------------------------------------------------------------------
r34842 | etxrab | 2010-11-10 23:37:43 -0800 (Wed, 10 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-rtcp.c

Fix indentation.
------------------------------------------------------------------------
r34843 | etxrab | 2010-11-11 08:33:47 -0800 (Thu, 11 Nov 2010) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml

Update AVP:s
------------------------------------------------------------------------
r34844 | etxrab | 2010-11-11 09:24:11 -0800 (Thu, 11 Nov 2010) | 1 line
Changed paths:
   M /trunk/asn1/s1ap/s1ap.cnf
   M /trunk/epan/dissectors/packet-s1ap.c

Use value_string_ext.
------------------------------------------------------------------------
r34845 | etxrab | 2010-11-11 13:18:15 -0800 (Thu, 11 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-amr.c
   M /trunk/epan/dissectors/packet-ber.c
   M /trunk/epan/dissectors/packet-tcp.c

Use value_string_ext.
------------------------------------------------------------------------
r34846 | etxrab | 2010-11-11 13:18:46 -0800 (Thu, 11 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c

Update from IANA records.
------------------------------------------------------------------------
r34847 | stig | 2010-11-11 23:54:39 -0800 (Thu, 11 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sflow.c

Getting wrong addr_type from the packet is not a dissector bug.

------------------------------------------------------------------------
r34848 | stig | 2010-11-12 05:32:04 -0800 (Fri, 12 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/wspython/wspy_libws.py

Use python comments in python code.

Reported by Emil Wojak in bug 5389.

------------------------------------------------------------------------
r34849 | etxrab | 2010-11-12 06:50:58 -0800 (Fri, 12 Nov 2010) | 1 line
Changed paths:
   M /trunk/asn1/camel/CAP-GPRS-ReferenceNumber.asn
   M /trunk/asn1/camel/CAP-SMS-ops-args.asn
   M /trunk/asn1/camel/CAP-U-ABORT-Data.asn
   M /trunk/asn1/camel/CAP-classes.asn
   M /trunk/asn1/camel/CAP-datatypes.asn
   M /trunk/asn1/camel/CAP-errorcodes.asn
   M /trunk/asn1/camel/CAP-errortypes.asn
   M /trunk/asn1/camel/CAP-gprsSSF-gsmSCF-ops-args.asn
   M /trunk/asn1/camel/CAP-gsmSCF-gsmSRF-ops-args.asn
   M /trunk/asn1/camel/CAP-gsmSSF-gsmSCF-ops-args.asn
   M /trunk/asn1/camel/CAP-object-identifiers.asn
   M /trunk/asn1/camel/CAP-operationcodes.asn
   M /trunk/epan/dissectors/packet-camel.c

Update Camel to TS 29.078 9.2.0 (2010-06)
------------------------------------------------------------------------
r34850 | wmeier | 2010-11-12 07:34:30 -0800 (Fri, 12 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/proto.c

Use val_to_str_const & val_to_str_ext_const where appropriate.

------------------------------------------------------------------------
r34851 | martinm | 2010-11-12 08:14:09 -0800 (Fri, 12 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/mac_lte_stat_dlg.c
   M /trunk/gtk/rlc_lte_stat_dlg.c

Fix a column typo, and give them different menu accelerator keys.

------------------------------------------------------------------------
r34852 | martinm | 2010-11-12 08:59:22 -0800 (Fri, 12 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Check given RNTI value is consistent with given RNTI-type.

As suggested in bug 5382.  The reported crash didn't happen for me...

------------------------------------------------------------------------
r34853 | wmeier | 2010-11-12 09:28:01 -0800 (Fri, 12 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

Fix a crash I introduced in SVN #34692: A value_string ext referenced smb_cmd_vals rather than smb_cmd_vals_ext.

------------------------------------------------------------------------
r34854 | wmeier | 2010-11-12 11:48:30 -0800 (Fri, 12 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/proto.c
   M /trunk/epan/value_string.c
   M /trunk/epan/value_string.h

Enhance 'tshark -G values': Add info about extended value strings (including acess method).

------------------------------------------------------------------------
r34855 | wmeier | 2010-11-12 13:47:41 -0800 (Fri, 12 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-zcl.c

zbee_mfr_code_names: sort so in ascending order by value; add dummy "Unknown" entries for missing values.

------------------------------------------------------------------------
r34856 | jake | 2010-11-12 14:20:12 -0800 (Fri, 12 Nov 2010) | 1 line
Changed paths:
   M /trunk/gtk/CMakeLists.txt
   M /trunk/gtk/Makefile.am
   M /trunk/gtk/Makefile.common
   A /trunk/gtk/file_import_dlg.c
   A /trunk/gtk/file_import_dlg.h
   M /trunk/gtk/menus.c
   A /trunk/gtk/text_import.c
   A /trunk/gtk/text_import.h
   A /trunk/gtk/text_import_scanner.l

Add text import capability, like text2pcap, directly into the GUI.
------------------------------------------------------------------------
r34857 | jake | 2010-11-13 03:35:21 -0800 (Sat, 13 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/Makefile.common

Get the build going again from the source distribution, with text import.

------------------------------------------------------------------------
r34858 | etxrab | 2010-11-13 06:47:53 -0800 (Sat, 13 Nov 2010) | 12 lines
Changed paths:
   M /trunk/gtk/Makefile.nmake

Try to fix the build for text_import_scanner,
not sure if it's correct but now it builds text_import_scanner.c
but still fails with:

c:\wireshark\gtk\text_import.h(34) : fatal error C1083: Cannot open include file
: 'glib.h': No such file or directory
NMAKE : fatal error U1077: '"c:\Program Files (x86)\Microsoft Visual Studio 9.0\
VC\BIN\x86_amd64\cl.EXE"' : return code '0x2'
Stop.
NMAKE : fatal error U1077: '"c:\Program Files (x86)\Microsoft Visual Studio 9.0\
VC\BIN\nmake.exe"' : return code '0x2'
Stop.
------------------------------------------------------------------------
r34859 | martinm | 2010-11-13 07:32:29 -0800 (Sat, 13 Nov 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

From Pascal Quantin:

- Set a default RNTI value for each type, in case optional RNTI value isn't supplied.
- Improve range checking of given type against acceptable range of values
- fix misplaced return (this fixed bug 5392)

------------------------------------------------------------------------
r34860 | martinm | 2010-11-13 08:04:00 -0800 (Sat, 13 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/text_import.c

Add newline at end of file.

------------------------------------------------------------------------
r34861 | etxrab | 2010-11-13 08:24:14 -0800 (Sat, 13 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/Makefile.nmake

Try to fix the build for text_import_scanner.
Please check if the compile flags are OK...
------------------------------------------------------------------------
r34862 | etxrab | 2010-11-13 08:47:57 -0800 (Sat, 13 Nov 2010) | 3 lines
Changed paths:
   M /trunk/gtk/Makefile.nmake
   M /trunk/wiretap/wtap.def

Try to fix the build for text_import_scanner.
Please check if the compile flags are OK...
3:d time lucky ?
------------------------------------------------------------------------
r34863 | etxrab | 2010-11-13 12:09:01 -0800 (Sat, 13 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-amr.c

Fix a typo.
------------------------------------------------------------------------
r34864 | etxrab | 2010-11-13 12:13:30 -0800 (Sat, 13 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-security.c

From Fred Fierling:
Patch to fix dissector bug noticed in ZigBee APS commands with null payload.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5384
------------------------------------------------------------------------
r34865 | etxrab | 2010-11-14 01:57:42 -0800 (Sun, 14 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-amr.c

Fix a couple of cut-n-paste errors.
------------------------------------------------------------------------
r34866 | etxrab | 2010-11-14 06:13:52 -0800 (Sun, 14 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Fix a cut-n-paste error.
------------------------------------------------------------------------
r34867 | sfisher | 2010-11-14 07:53:41 -0800 (Sun, 14 Nov 2010) | 6 lines
Changed paths:
   M /trunk/epan/libwireshark.def


Add proto_item_append_string() to exported functions per:

  http://www.wireshark.org/lists/wireshark-dev/201011/msg00153.html


------------------------------------------------------------------------
r34868 | gerald | 2010-11-14 08:03:37 -0800 (Sun, 14 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf, services and enterprise-numbers update for 2010-11-14]
------------------------------------------------------------------------
r34869 | wmeier | 2010-11-14 08:30:56 -0800 (Sun, 14 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/proto.c
   M /trunk/epan/value_string.c
   M /trunk/epan/value_string.h

'tshark -G values' - Validate (somewhat) value_string_ext before use to prevent a crash.

------------------------------------------------------------------------
r34872 | etxrab | 2010-11-14 12:53:15 -0800 (Sun, 14 Nov 2010) | 1 line
Changed paths:
   M /trunk/diameter/TGPPGmb.xml
   M /trunk/diameter/dictionary.xml
   M /trunk/epan/dissectors/packet-isup.c

Extend value_strings to make full use of value_string_ext.
------------------------------------------------------------------------
r34873 | stig | 2010-11-14 13:59:57 -0800 (Sun, 14 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk

Ignore generated text_import_scanner_lex.h and text_import_scanner.c

------------------------------------------------------------------------
r34874 | wmeier | 2010-11-14 15:48:07 -0800 (Sun, 14 Nov 2010) | 2 lines
Changed paths:
   M /trunk/tools/asn2wrs.py

Sort value_string array by value if used with value_str_ext fcns;

------------------------------------------------------------------------
r34875 | etxrab | 2010-11-15 08:46:07 -0800 (Mon, 15 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c
   M /trunk/epan/dissectors/packet-gtp.h
   M /trunk/epan/dissectors/packet-isup.c
   M /trunk/epan/dissectors/packet-q931.c

Fill value_strings.
------------------------------------------------------------------------
r34876 | wmeier | 2010-11-15 08:46:14 -0800 (Mon, 15 Nov 2010) | 4 lines
Changed paths:
   M /trunk/asn1/nbap/nbap.cnf
   M /trunk/epan/dissectors/packet-nbap.c

Regenerate packet-nbap.c now that asn2wrs sorts value_string arrays used with value_string_ext fcns;
Change nbap.cnf to use val_to_str_ext to access protocolIE_ID value_string array.
Also: Minor whitespace cleanup in nbap.cnf.

------------------------------------------------------------------------
r34877 | morriss | 2010-11-15 08:56:54 -0800 (Mon, 15 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-security.c

From Fred Fierling via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5403 :

Fix recent fuzz failures.

------------------------------------------------------------------------
r34878 | morriss | 2010-11-15 10:01:19 -0800 (Mon, 15 Nov 2010) | 15 lines
Changed paths:
   M /trunk/epan/dissectors/packet-coap.c

From Shoichi Sakane via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5270 :

I improved the coap dissector.  It is resulted by the 2nd coap test event. 
This patch is diff from 34794.  The fuzzying test passed more than 62000.

Changed:
- removed "#if 0", and expanded exp2().
- added new error codes.
- improved looks of the block options
- renamed to "token" from "opaque_bytes" according to new draft.


From me: Use a use a left shift operation instead of multiplying by 2 many
times.

------------------------------------------------------------------------
r34879 | jake | 2010-11-15 10:28:36 -0800 (Mon, 15 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ancp.c

Skip reserved word in ANCP OAM-Loopback-Test-Parameters TLV.

------------------------------------------------------------------------
r34880 | morriss | 2010-11-15 10:52:41 -0800 (Mon, 15 Nov 2010) | 5 lines
Changed paths:
   M /trunk/plugins/opcua/opcua_simpletypes.c

From Gerhard Gappmeier via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5406 :

I attached a patch which fixes some problems in the array handling of OPC UA 
data when the array length is zero or -1 which is a Null-Array.

------------------------------------------------------------------------
r34881 | wmeier | 2010-11-15 11:00:16 -0800 (Mon, 15 Nov 2010) | 6 lines
Changed paths:
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/epan/dissectors/packet-h248.c

Update package_name_vals[] value_string array:
- Add new entries based on: http://www.iana.org/assignments/megaco-h248 last updated 2010-10-01;
- Fix a typo (incorrect value for an entry);
- Switch values between two entries to match the IANA list;
- Switch two entries so list is in ascending order by value.

------------------------------------------------------------------------
r34882 | wmeier | 2010-11-15 11:08:12 -0800 (Mon, 15 Nov 2010) | 3 lines
Changed paths:
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/epan/dissectors/packet-h248.c

Use value_string_ext fcns to access certain value_string arrays;
Whitespace cleanup.

------------------------------------------------------------------------
r34883 | wmeier | 2010-11-15 11:15:34 -0800 (Mon, 15 Nov 2010) | 2 lines
Changed paths:
   M /trunk/asn1/rnsap/rnsap.cnf
   M /trunk/epan/dissectors/packet-rnsap.c

Use value_string_ext fcns to access a value_string array.

------------------------------------------------------------------------
r34884 | wmeier | 2010-11-15 11:46:07 -0800 (Mon, 15 Nov 2010) | 2 lines
Changed paths:
   M /trunk/asn1/ranap/ranap.cnf
   M /trunk/epan/dissectors/packet-ranap.c

Use value_string_ext fcns to access a value_string array.

------------------------------------------------------------------------
r34885 | jmayer | 2010-11-15 12:25:28 -0800 (Mon, 15 Nov 2010) | 7 lines
Changed paths:
   M /trunk/README.cmake
   M /trunk/cmake/modules/FindLEX.cmake
   M /trunk/gtk/CMakeLists.txt

cmake stuff:
- Fix fallout from gtk/text_import_scanner.l patch: Wireshark will
  build with cmake again.
- Update README.cmake a bit
- Running "cmake -DUI_MANAGER=ON" will give you the new ui-manager.


------------------------------------------------------------------------
r34886 | morriss | 2010-11-15 12:52:41 -0800 (Mon, 15 Nov 2010) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee802154.c
   M /trunk/epan/dissectors/packet-ieee802154.h
   M /trunk/epan/dissectors/packet-zbee-nwk.c
   M /trunk/epan/dissectors/packet-zbee-nwk.h
   M /trunk/epan/dissectors/packet-zbee-security.c

From Fred Fierling via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5395 :

The ZigBee security dissector was not recording the short to long address
mappings in Security Headers, preventing the decryption of some payloads. This
patch eliminates the Undecoded warnings in packets 1 and 19 in this test
capture: https://bugs.wireshark.org/bugzilla/attachment.cgi?id=5457

The keys to decrypt these packets are listed in the bug.

------------------------------------------------------------------------
r34887 | etxrab | 2010-11-15 13:05:03 -0800 (Mon, 15 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-diameter.c

Use value_string ext for address family.
------------------------------------------------------------------------
r34888 | etxrab | 2010-11-15 13:32:27 -0800 (Mon, 15 Nov 2010) | 1 line
Changed paths:
   M /trunk/diameter/nasreq.xml
   M /trunk/epan/dissectors/packet-dnp.c
   M /trunk/epan/dissectors/packet-dsi.c

"Fill" value_strings.
------------------------------------------------------------------------
r34890 | wmeier | 2010-11-15 14:00:33 -0800 (Mon, 15 Nov 2010) | 2 lines
Changed paths:
   M /trunk/asn1/pcap/pcap.cnf
   M /trunk/epan/dissectors/packet-pcap.c

Use value_string_ext fcns to access several value_string arrays.

------------------------------------------------------------------------
r34891 | wmeier | 2010-11-15 14:37:35 -0800 (Mon, 15 Nov 2010) | 2 lines
Changed paths:
   M /trunk/asn1/ranap/ranap.cnf
   M /trunk/epan/dissectors/packet-ranap.c

Use value_string_ext fcns to access several value_string arrays.

------------------------------------------------------------------------
r34893 | martinm | 2010-11-15 15:32:34 -0800 (Mon, 15 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c

Assert was firing while working out sequence length for user plane frames.
Treat signalling plane case separately.

------------------------------------------------------------------------
r34894 | wmeier | 2010-11-15 15:53:25 -0800 (Mon, 15 Nov 2010) | 2 lines
Changed paths:
   M /trunk/asn1/rnsap/rnsap.cnf
   M /trunk/epan/dissectors/packet-rnsap.c

Use value_string_ext fcns to access several value_string arrays.

------------------------------------------------------------------------
r34895 | jmayer | 2010-11-15 16:18:54 -0800 (Mon, 15 Nov 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Another unused function with MAIN_MENU_USE_UIMANAGER
------------------------------------------------------------------------
r34896 | jmayer | 2010-11-15 16:20:31 -0800 (Mon, 15 Nov 2010) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/docbook/CMakeLists.txt

First try to install docbook stuff as well - not yet working
------------------------------------------------------------------------
r34897 | jake | 2010-11-15 22:46:12 -0800 (Mon, 15 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/Makefile.common
   M /trunk/gtk/file_import_dlg.c
   M /trunk/gtk/text_import.c
   M /trunk/gtk/text_import.h
   A /trunk/gtk/text_import_scanner.h
   M /trunk/gtk/text_import_scanner.l

Accomodate older flex versions.
Make scanner compilation more environment agnostic.
------------------------------------------------------------------------
r34898 | etxrab | 2010-11-16 01:15:15 -0800 (Tue, 16 Nov 2010) | 1 line
Changed paths:
   M /trunk/gtk/Makefile.nmake

Try to clean up the makefile a bit.
------------------------------------------------------------------------
r34899 | morriss | 2010-11-16 07:01:43 -0800 (Tue, 16 Nov 2010) | 6 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-daap.c

From Yaniv Kaul via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5400 :

The attached patch adds many more DAAP codes to be parsed properly by the DAAP
dissector.
In addition, it fixes some prints.

------------------------------------------------------------------------
r34900 | wmeier | 2010-11-16 07:20:33 -0800 (Tue, 16 Nov 2010) | 3 lines
Changed paths:
   M /trunk/asn1/ansi_map/ansi_map.cnf
   M /trunk/asn1/ansi_map/packet-ansi_map-template.c
   M /trunk/asn1/ansi_map/packet-ansi_map-template.h
   M /trunk/epan/dissectors/packet-ansi_map.c
   M /trunk/epan/dissectors/packet-ansi_map.h

Use value_string_ext fcns to access several value_string arrays;
Minor whitespace cleanup.

------------------------------------------------------------------------
r34901 | wmeier | 2010-11-16 07:24:51 -0800 (Tue, 16 Nov 2010) | 2 lines
Changed paths:
   M /trunk/asn1/Makefile.inc.nmake

Modify 'compare_files' target: ignore #line changes; compare from epan\dissectors to asn1\...

------------------------------------------------------------------------
r34902 | cmaynard | 2010-11-16 07:37:37 -0800 (Tue, 16 Nov 2010) | 6 lines
Changed paths:
   M /trunk/dumpcap.c
   M /trunk/tempfile.c

Use more meaningful temp file name.  Fixes bug 1882.
Template chosen is: wireshark_<iface>_YYYYmmddHHMMSS_XXXXXX ... where
    <iface> is the interface name (or UUID part of the interface if applicable)
    YYYYmmddHHMMSS are as described in "man strftime".
    XXXXXX is a template filled in with random characters.  See "man mkstemp".

------------------------------------------------------------------------
r34903 | cmaynard | 2010-11-16 08:15:04 -0800 (Tue, 16 Nov 2010) | 2 lines
Changed paths:
   M /trunk/help/faq.py

Update the description of the temporary file name.

------------------------------------------------------------------------
r34904 | cmaynard | 2010-11-16 08:40:16 -0800 (Tue, 16 Nov 2010) | 2 lines
Changed paths:
   M /trunk/tempfile.c

Fix warning.

------------------------------------------------------------------------
r34905 | morriss | 2010-11-16 08:45:22 -0800 (Tue, 16 Nov 2010) | 6 lines
Changed paths:
   M /trunk/plugins/opcua/opcua_simpletypes.c

From Gerhard Gappmeier via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5409 :

This patch fixes displaying OPCUA Strings and ByteStrings.

From me: fix warnings: "format not a string literal and no format arguments"

------------------------------------------------------------------------
r34906 | morriss | 2010-11-16 09:00:50 -0800 (Tue, 16 Nov 2010) | 23 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/plugins/opcua/Makefile.common
   A /trunk/plugins/opcua/opcua_extensionobjectids.h
   A /trunk/plugins/opcua/opcua_extensionobjecttable.c
   M /trunk/plugins/opcua/opcua_identifiers.h
   M /trunk/plugins/opcua/opcua_simpletypes.c
   M /trunk/plugins/opcua/opcua_simpletypes.h

From Gerhard Gappmeier via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5410 :

This patch adds support for displaying OPC UA ExtensionObjects.

An ExtensionObject is a mechanism to transport user defined structures as
serialized blobs. Some types of ExtensionObjects are already defined by the OPC
Foundation's OPC UA Specifications.
These types can be implemented by this dissector, because they are well-known.

Real user-defined or vendor-defined types are unlikely to be implemented by a
passive dissector, because this would require browsing of the UA server's
address space to retrieve the type information.

Currently only the following types are supported:

 * DataChangeNotification
 * EventNotification

Others OPC defined types will follow.


From me: fix warnings: "format not a string literal and no format arguments"

------------------------------------------------------------------------
r34908 | etxrab | 2010-11-16 09:31:29 -0800 (Tue, 16 Nov 2010) | 1 line
Changed paths:
   M /trunk/asn1/nbap/NBAP-CommonDataTypes.asn
   M /trunk/asn1/nbap/NBAP-Constants.asn
   M /trunk/asn1/nbap/NBAP-Containers.asn
   M /trunk/asn1/nbap/nbap.cnf
   M /trunk/epan/dissectors/packet-nbap.c

value_string_ext fixes.
------------------------------------------------------------------------
r34910 | etxrab | 2010-11-16 09:52:57 -0800 (Tue, 16 Nov 2010) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml

Accounting-Session-Id should be an UTF8String.
------------------------------------------------------------------------
r34911 | etxrab | 2010-11-16 12:08:31 -0800 (Tue, 16 Nov 2010) | 2 lines
Changed paths:
   M /trunk/tempfile.c

Add a cast to fix:
tempfile.c(202) : warning C4267: '=' : conversion from 'size_t' to 'unsigned long'
------------------------------------------------------------------------
r34912 | morriss | 2010-11-16 12:13:26 -0800 (Tue, 16 Nov 2010) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/gtk/Makefile.am
   M /trunk/gtk/Makefile.common
   M /trunk/gtk/Makefile.nmake

Split libui into libui and libui_dirty.  The latter contains (only)
text_import_scanner.c (which is generated and not by us so we can't guarantee
that it's clean).

------------------------------------------------------------------------
r34913 | sake | 2010-11-16 12:22:20 -0800 (Tue, 16 Nov 2010) | 4 lines
Changed paths:
   M /trunk/doc/editcap.pod
   M /trunk/editcap.c

Make editcap -B work like expected: output no packets after the stop time.
Old behavior was to include a packet with a timestamp of 12:00:00.934 if -B "YYYY-MM-DD 12:00:00" was used.


------------------------------------------------------------------------
r34914 | etxrab | 2010-11-16 12:46:21 -0800 (Tue, 16 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c

The IPv6 "element" in PDN address information element is a 8 byte 
IPv6 interface identifier.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5408
------------------------------------------------------------------------
r34915 | cmaynard | 2010-11-16 13:08:08 -0800 (Tue, 16 Nov 2010) | 4 lines
Changed paths:
   M /trunk/dumpcap.c

If pcap_geterr() returns "read error: PacketReceivePacket failed", report that
the "network adapter on which the capture was being done is no longer running".
Fixes bug 2623 reported by Anthony Coulter.

------------------------------------------------------------------------
r34918 | morriss | 2010-11-16 18:57:22 -0800 (Tue, 16 Nov 2010) | 14 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/address.h
   M /trunk/epan/address_to_str.c
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-infiniband.c
   M /trunk/epan/dissectors/packet-infiniband.h
   A /trunk/epan/dissectors/packet-infiniband_sdp.c

From Slava via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5335 :

This patch adds to Wireshark the ability to dissect Infiniband SDP (Socket
Direct Protocol) and CM MADs traffic.

It also contains various other bug-fixes and enhancements. SDP traffic can be
identified automatically (analyzing SDP CM MADs) or manually.

SDP, or Sockets Direct Protocol, is a protocol developed by the Infiniband
Trade Association which enables existing socket-based applications to
transparently utilize the Infiniband capabilities. 

This patch is submitted on behalf of Mellanox Technologies Ltd.

------------------------------------------------------------------------
r34919 | morriss | 2010-11-16 19:16:30 -0800 (Tue, 16 Nov 2010) | 20 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/plugins/wimaxasncp/packet-wimaxasncp.c
   M /trunk/plugins/wimaxasncp/wimaxasncp_dict.h
   M /trunk/plugins/wimaxasncp/wimaxasncp_dict.l
   M /trunk/wimaxasncp/dictionary.dtd
   M /trunk/wimaxasncp/dictionary.xml

From David Katz via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5166 :

Add a configuration parameter of the NWG version for WiMAX ASN CP dissector.
The format and meaning of TLVs, as well as function types  and messages changed
between the different NWG versions.
Added support for the version number of TLVs in the dictionary xml, its parser,
and of course in the packet itself.
Added support for the version number of function-types and message-types by
extending the value_string structure to contain also a "since" version number.

Successfully tested with a live capture and capture file, containing WiMAX ASN
packets (full Network entry).
Also fuzzed 500 passes successfully.

The XML doesn't contain all existing NWG versions, only selected ones. This is
a little tedious work to go over all TLVs of each version, so I'll add some
newer versions later on. can add a short how-to of adding a new version, for
others to use, if needed.


------------------------------------------------------------------------
r34920 | cmaynard | 2010-11-16 19:29:12 -0800 (Tue, 16 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/conversations_table.c
   M /trunk/gtk/hostlist_table.c
   M /trunk/gtk/iax2_analysis.c
   M /trunk/gtk/io_stat.c
   M /trunk/gtk/rtp_analysis.c
   M /trunk/gtk/rtp_stream_dlg.c
   M /trunk/gtk/wlan_stat_dlg.c

Quote all fields when exporting to CSV.  Fixes bug 2811.

------------------------------------------------------------------------
r34921 | jake | 2010-11-16 23:29:40 -0800 (Tue, 16 Nov 2010) | 1 line
Changed paths:
   M /trunk/doc/README.plugins

Small clarification.
------------------------------------------------------------------------
r34922 | jake | 2010-11-16 23:42:32 -0800 (Tue, 16 Nov 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sctp.c
   M /trunk/epan/sctpppids.h

Separate out/update comment block.
Update IANA assignments.
Use available checksum routines.
Some cleanup and use of convenience macros.

------------------------------------------------------------------------
r34924 | etxrab | 2010-11-17 00:18:30 -0800 (Wed, 17 Nov 2010) | 2 lines
Changed paths:
   M /trunk/asn1/sabp/packet-sabp-template.c
   M /trunk/asn1/sabp/sabp.cnf
   M /trunk/epan/dissectors/packet-sabp.c

- Use SABP:s SCTP ppid.
- Use value_string_ext.
------------------------------------------------------------------------
r34925 | etxrab | 2010-11-17 03:48:17 -0800 (Wed, 17 Nov 2010) | 2 lines
Changed paths:
   M /trunk/asn1/ranap/RANAP-CommonDataTypes.asn
   M /trunk/asn1/ranap/RANAP-Constants.asn
   M /trunk/asn1/ranap/RANAP-Containers.asn
   M /trunk/asn1/ranap/RANAP-IEs.asn
   M /trunk/asn1/ranap/RANAP-PDU-Contents.asn
   M /trunk/asn1/ranap/RANAP-PDU-Descriptions.asn
   M /trunk/asn1/ranap/ranap.cnf
   M /trunk/epan/dissectors/packet-ranap.c

- Update to 3GPP TS 25.413 V9.4.0 (2010-09).
- Fill the value_strings.
------------------------------------------------------------------------
r34926 | cmaynard | 2010-11-17 06:26:38 -0800 (Wed, 17 Nov 2010) | 3 lines
Changed paths:
   M /trunk/tap-iostat.c

Allow <interval> to be successfully sscanf'd no matter the locale for the
decimal symbol.  Fixes bug 2880.

------------------------------------------------------------------------
r34927 | wmeier | 2010-11-17 06:59:08 -0800 (Wed, 17 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-spoolss.c
   M /trunk/epan/dissectors/packet-dcerpc-spoolss.h

User value_string_ext fcns to access several value_string arrays;
Minor reformatting and whitespace cleanup.

------------------------------------------------------------------------
r34928 | etxrab | 2010-11-17 07:36:53 -0800 (Wed, 17 Nov 2010) | 2 lines
Changed paths:
   M /trunk/asn1/rnsap/RNSAP-CommonDataTypes.asn
   M /trunk/asn1/rnsap/RNSAP-Constants.asn
   M /trunk/asn1/rnsap/RNSAP-Containers.asn
   M /trunk/asn1/rnsap/RNSAP-IEs.asn
   M /trunk/asn1/rnsap/RNSAP-PDU-Contents.asn
   M /trunk/asn1/rnsap/RNSAP-PDU-Descriptions.asn
   M /trunk/asn1/rnsap/rnsap.cnf
   M /trunk/epan/dissectors/packet-rnsap.c

- Update to 3GPP TS 25.413 V9.4.0 (2010-09).
- Fill the value_strings.
------------------------------------------------------------------------
r34929 | etxrab | 2010-11-17 08:23:10 -0800 (Wed, 17 Nov 2010) | 2 lines
Changed paths:
   M /trunk/asn1/pcap/PCAP-CommonDataTypes.asn
   M /trunk/asn1/pcap/PCAP-Constants.asn
   M /trunk/asn1/pcap/PCAP-IEs.asn
   M /trunk/asn1/pcap/PCAP-PDU-Contents.asn
   M /trunk/asn1/pcap/PCAP-PDU-Descriptions.asn
   M /trunk/asn1/pcap/pcap.cnf
   M /trunk/asn1/s1ap/S1AP-Constants.asn
   M /trunk/epan/dissectors/packet-pcap.c
   M /trunk/epan/dissectors/packet-s1ap.c

- Update to 3GPP TS 25.413 V9.4.0 (2010-09).
- Fill the value_strings.
------------------------------------------------------------------------
r34930 | morriss | 2010-11-17 08:47:03 -0800 (Wed, 17 Nov 2010) | 6 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-sametime.c

From Toralf Foerster via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5376 :

A dissector for the SAMETIME protocol.

From me: no need to include gmodule.h, use only ASCII in the author's name.

------------------------------------------------------------------------
r34931 | morriss | 2010-11-17 08:52:20 -0800 (Wed, 17 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sametime.c

Remove unneeded stuff from the Copyright notice.  Use ENC_BIG_ENDIAN and ENC_NA.
------------------------------------------------------------------------
r34932 | etxrab | 2010-11-17 08:56:51 -0800 (Wed, 17 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-uma.c

value_string_ext fixes.
------------------------------------------------------------------------
r34933 | wmeier | 2010-11-17 13:40:21 -0800 (Wed, 17 Nov 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-daap.c

Use value-string_ext fcns to access value_string array;
Sort value_string_array in ascending order by value;
Reformat display of tag info to be more readable;
Rework TLV processing;
Remove unneeded variable;
Minor whitespace cleanup.

------------------------------------------------------------------------
r34934 | etxrab | 2010-11-17 13:58:06 -0800 (Wed, 17 Nov 2010) | 3 lines
Changed paths:
   M /trunk/diameter/dictionary.xml
   M /trunk/diameter/nasreq.xml

Fix bug https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5411
Acct-Session-Id -> OctetString.
Also fix assorted Enums.
------------------------------------------------------------------------
r34935 | etxrab | 2010-11-17 13:58:35 -0800 (Wed, 17 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bthci_cmd.c
   M /trunk/epan/dissectors/packet-e212.c

"Fill" value_strings.
------------------------------------------------------------------------
r34938 | gerald | 2010-11-17 15:51:31 -0800 (Wed, 17 Nov 2010) | 3 lines
Changed paths:
   M /trunk/dumpcap.c

Set the pipe read timeout to 100 milliseconds instead of 100 microseconds.
Should fix bug 5309.

------------------------------------------------------------------------
r34943 | etxrab | 2010-11-18 01:51:50 -0800 (Thu, 18 Nov 2010) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/packaging/nsis/wireshark.nsi
   A /trunk/radius/dictionary.eltex

From Taras Kotov: 
Add RADIUS dictionary for vendor Eltex.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5415
------------------------------------------------------------------------
r34944 | etxrab | 2010-11-18 03:40:06 -0800 (Thu, 18 Nov 2010) | 4 lines
Changed paths:
   M /trunk/diameter/dictionary.xml
   M /trunk/radius/dictionary.rfc2866

RADIUS: Acc-Status-Type value 3 identified as "Alive" instead of "Interim-Update"
Updte the dictionaries to reflect IANA entries.
http://www.iana.org/assignments/radius-types/radius-types.xml#radius-types-10
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5418
------------------------------------------------------------------------
r34945 | etxrab | 2010-11-18 07:57:12 -0800 (Thu, 18 Nov 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

[UImanager]Add missing GO to frame, and copy paste errors.
------------------------------------------------------------------------
r34946 | etxrab | 2010-11-18 08:01:39 -0800 (Thu, 18 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-nb_rtpmux.c

Tweak the display of the header.
------------------------------------------------------------------------
r34947 | gerald | 2010-11-18 09:29:02 -0800 (Thu, 18 Nov 2010) | 2 lines
Changed paths:
   M /trunk/dumpcap.c

Add a comment about the pipe read timeout on Windows.

------------------------------------------------------------------------
r34954 | wmeier | 2010-11-18 11:25:11 -0800 (Thu, 18 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-daap.c

Tighten up TLV processing a bit to prevent a potential loop.

------------------------------------------------------------------------
r34955 | wmeier | 2010-11-18 11:37:22 -0800 (Thu, 18 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-adwin.c

Use value_string_ext fcns to access a number of value_string arrays;
Sort several value_arrays in ascending order by value;
Localize a global variable to proto_reg_handoff().

------------------------------------------------------------------------
r34956 | sfisher | 2010-11-18 12:54:14 -0800 (Thu, 18 Nov 2010) | 6 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-ppi-antenna.c
   A /trunk/epan/dissectors/packet-ppi-geolocation-common.c
   A /trunk/epan/dissectors/packet-ppi-geolocation-common.h
   A /trunk/epan/dissectors/packet-ppi-gps.c
   A /trunk/epan/dissectors/packet-ppi-vector.c
   M /trunk/epan/dissectors/packet-ppi.c


From Jon Ellch via bug #5175: Add PPI-GPS protocol dissector patch

Minor changes by me as detailed in the bug's comment #8.


------------------------------------------------------------------------
r34961 | wmeier | 2010-11-18 13:56:25 -0800 (Thu, 18 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sametime.c

stats_tree_register() need be called only once (and not each time a port pref is changed);
(Minor) use tvb_reported_length_remaining() rather than tvb_length_remaining() in a number of places;
Add a comment to get_sametime_message_len() about the minimum length of the tvb when the fcn is called.

------------------------------------------------------------------------
r34962 | wmeier | 2010-11-18 14:55:18 -0800 (Thu, 18 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ppi-antenna.c

Fix compilation errors: Use FT_DOUBLE and proto_tree_add_double for gdoubles.

------------------------------------------------------------------------
r34963 | wmeier | 2010-11-18 15:02:20 -0800 (Thu, 18 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ppi-vector.c

Fix compilation errors: Use FT_DOUBLE and proto_tree_add_double for gdoubles.

------------------------------------------------------------------------
r34964 | jake | 2010-11-18 16:05:38 -0800 (Thu, 18 Nov 2010) | 2 lines
Changed paths:
   M /trunk/doc/text2pcap.pod

Make some updates to describe the newer features.

------------------------------------------------------------------------
r34965 | morriss | 2010-11-18 18:12:19 -0800 (Thu, 18 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-coap.c

From Shoichi Sakane via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5270 :

Fix the dissection of the length of the option field.

------------------------------------------------------------------------
r34966 | morriss | 2010-11-18 18:32:42 -0800 (Thu, 18 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-reload.c

From Stephane Bryant via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5412 :

Update ReLOAD dissector to reflect draft-ietf-p2psip-base-12

------------------------------------------------------------------------
r34967 | martinm | 2010-11-19 03:42:05 -0800 (Fri, 19 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c
   M /trunk/epan/dissectors/packet-umts_fp.h

Reserve not-yet-supported channel type IDs.

------------------------------------------------------------------------
r34968 | morriss | 2010-11-19 05:33:32 -0800 (Fri, 19 Nov 2010) | 1 line
Changed paths:
   M /trunk/AUTHORS

Add Stéphane Bryant (RELOAD dissector).  Since this file accepts UTF-8, put the o-umlaut back in Toralf Förster's name.
------------------------------------------------------------------------
r34969 | morriss | 2010-11-19 05:35:24 -0800 (Fri, 19 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-reload.c

Remove some unnecessary includes.
------------------------------------------------------------------------
r34970 | wmeier | 2010-11-19 07:21:40 -0800 (Fri, 19 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipdc.c
   M /trunk/epan/dissectors/packet-ipdc.h

Use value_string_ext fcns to access certain value_string arrays.

------------------------------------------------------------------------
r34971 | wmeier | 2010-11-19 07:26:27 -0800 (Fri, 19 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ppi-antenna.c
   M /trunk/epan/dissectors/packet-ppi-gps.c
   M /trunk/epan/dissectors/packet-ppi-vector.c
   M /trunk/epan/dissectors/packet-ppi.c

Remove a check_col();
Fix a typo;
Minor whitespace cleanup.

------------------------------------------------------------------------
r34972 | etxrab | 2010-11-19 07:43:35 -0800 (Fri, 19 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-h248_annex_c.c

Pretify dissection of H.248 Annex C.11 SDP equivalents.
------------------------------------------------------------------------
r34973 | etxrab | 2010-11-19 07:44:49 -0800 (Fri, 19 Nov 2010) | 4 lines
Changed paths:
   M /trunk/radius/dictionary

Add a missing piece of the commit:
From Taras Kotov: 
Add RADIUS dictionary for vendor Eltex.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5415
------------------------------------------------------------------------
r34974 | etxrab | 2010-11-19 08:33:12 -0800 (Fri, 19 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-h248_annex_c.c

Mark a parameter as unused.
------------------------------------------------------------------------
r34975 | etxrab | 2010-11-19 08:34:51 -0800 (Fri, 19 Nov 2010) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Remove comments used when editing.
------------------------------------------------------------------------
r34976 | morriss | 2010-11-19 10:53:40 -0800 (Fri, 19 Nov 2010) | 5 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-vnc.c

From Yaniv Kaul via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5366 :

Several fixes that make Tight VNC negotiation properly parsed.
It was not parsed correctly previously, for multiple reasons.

------------------------------------------------------------------------
r34977 | morriss | 2010-11-19 10:54:19 -0800 (Fri, 19 Nov 2010) | 17 lines
Changed paths:
   M /trunk/epan/dissectors/packet-vnc.c

Verify the number of rectangles, sub-rectangles, the number of bytes of cut
text, etc. are "sane" before:
1) requesting enough bytes (from reassembly) to dissect them all
2) (and) attempting to add them all to the tree

Request all the bytes we'll need to dissect all those rectangles/sub-rectangles
before starting dissection rather than checking before dissecting each
rectangle/sub-rectangle.

Use tvb_get_ephemeral_string().

Use _U_ to mark unused arguments.

Fix up some indentation.

Get rid of one more DISSECTOR_ASSERT.

------------------------------------------------------------------------
r34978 | guy | 2010-11-19 11:02:08 -0800 (Fri, 19 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ppi-antenna.c
   M /trunk/epan/dissectors/packet-ppi-gps.c
   M /trunk/epan/dissectors/packet-ppi-vector.c

Clean up blurbs a bit.  Not much we can do about "Description" - what is
it a description *of*?

------------------------------------------------------------------------
r34983 | jake | 2010-11-20 05:41:04 -0800 (Sat, 20 Nov 2010) | 2 lines
Changed paths:
   A /trunk/docbook/wsug_graphics/ws-file-import.png
   M /trunk/docbook/wsug_src/WSUG_chapter_io.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_use.xml

Add description of File|Import option.

------------------------------------------------------------------------
r34984 | sake | 2010-11-20 06:55:02 -0800 (Sat, 20 Nov 2010) | 3 lines
Changed paths:
   M /trunk/gtk/menus.c

Repair copy (summary and as filter) functionality in the packet-list context menu. It got broken in the bulk of work required to move to the UImanager.


------------------------------------------------------------------------
r34985 | wmeier | 2010-11-20 07:33:09 -0800 (Sat, 20 Nov 2010) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_graphics/ws-stats-compare.png

Remove svn:executable and svn:keywords properties.

------------------------------------------------------------------------
r34986 | jake | 2010-11-20 08:14:30 -0800 (Sat, 20 Nov 2010) | 2 lines
Changed paths:
   M /trunk/docbook/user-guide.xml

Add missing update of user-guide.xml for revision 34983.

------------------------------------------------------------------------
r34987 | jake | 2010-11-20 10:14:30 -0800 (Sat, 20 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-eth.c
   M /trunk/epan/dissectors/packet-sll.c
   M /trunk/epan/dissectors/packet-sll.h

Fix for bug 5422:
Add support for dissecting SLL type 0x03 frames.
------------------------------------------------------------------------
r34988 | etxrab | 2010-11-21 02:30:35 -0800 (Sun, 21 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c
   M /trunk/epan/dissectors/packet-ipv6.h

From Alexis La Goutte:
ICMPv6 Enhancements : make ICMP option filterable.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5424
------------------------------------------------------------------------
r34989 | etxrab | 2010-11-21 02:41:01 -0800 (Sun, 21 Nov 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main_proto_draw.c

From Jakub Zawadzki via Alexander Koeppe.
Improvement of checking available length highlighting byteview data.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5383
------------------------------------------------------------------------
r34990 | stig | 2010-11-21 03:28:42 -0800 (Sun, 21 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c

Removed unused route_preference.

------------------------------------------------------------------------
r34991 | jake | 2010-11-21 04:36:24 -0800 (Sun, 21 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sll.c
   M /trunk/epan/dissectors/packet-sll.h
   M /trunk/epan/dissectors/packet-socketcan.c

Fix for bug 5425:
Add support for dissecting SLL type 0x0C frames.

------------------------------------------------------------------------
r34992 | gerald | 2010-11-21 08:03:40 -0800 (Sun, 21 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf, services and enterprise-numbers update for 2010-11-21]
------------------------------------------------------------------------
r34995 | wmeier | 2010-11-21 10:57:21 -0800 (Sun, 21 Nov 2010) | 2 lines
Changed paths:
   M /trunk/radius/README.radius_dictionary
   M /trunk/radius/dictionary.acc
   M /trunk/radius/dictionary.bay
   M /trunk/radius/dictionary.colubris
   M /trunk/radius/dictionary.compat
   M /trunk/radius/dictionary.epygi
   M /trunk/radius/dictionary.gemtek
   M /trunk/radius/dictionary.infonet
   M /trunk/radius/dictionary.karlnet
   M /trunk/radius/dictionary.lancom
   M /trunk/radius/dictionary.livingston
   M /trunk/radius/dictionary.localweb
   M /trunk/radius/dictionary.manzara
   M /trunk/radius/dictionary.netscreen
   M /trunk/radius/dictionary.ntua
   M /trunk/radius/dictionary.shasta
   M /trunk/radius/dictionary.versanet

Add $Id$

------------------------------------------------------------------------
r34996 | wmeier | 2010-11-21 11:03:17 -0800 (Sun, 21 Nov 2010) | 2 lines
Changed paths:
   M /trunk/packaging/Makefile.am
   M /trunk/packaging/nsis/Makefile.am
   M /trunk/packaging/nsis/WinPcap_4_1_2.exe
   M /trunk/packaging/rpm/Makefile.am
   M /trunk/packaging/rpm/SPECS/Makefile.am
   M /trunk/packaging/rpm/SPECS/wireshark.spec.in
   M /trunk/packaging/svr4/Makefile.am
   M /trunk/packaging/svr4/checkinstall.in
   M /trunk/packaging/svr4/mkpkg
   M /trunk/packaging/svr4/pkginfo.in

Add $Id$; Fix some properties.

------------------------------------------------------------------------
r34997 | wmeier | 2010-11-21 11:33:46 -0800 (Sun, 21 Nov 2010) | 2 lines
Changed paths:
   M /trunk/asn1/mpeg-audio/mpeg-audio.asn
   M /trunk/asn1/mpeg-pes/mpeg-pes.asn
   M /trunk/asn1/sv/Makefile.am
   M /trunk/asn1/sv/Makefile.common
   M /trunk/asn1/sv/Makefile.nmake
   M /trunk/asn1/sv/packet-sv-template.c
   M /trunk/asn1/sv/packet-sv-template.h
   M /trunk/asn1/sv/sv.asn
   M /trunk/asn1/sv/sv.cnf
   M /trunk/epan/dissectors/packet-dcerpc-frstrans.c
   M /trunk/epan/enterprise-numbers
   M /trunk/plugins/interlink/Makefile.am
   M /trunk/plugins/interlink/Makefile.common
   M /trunk/plugins/interlink/Makefile.nmake
   M /trunk/plugins/interlink/moduleinfo.nmake
   M /trunk/plugins/interlink/packet-interlink.c
   M /trunk/radius/dictionary.aruba

Fix properties.

------------------------------------------------------------------------
r34998 | cmaynard | 2010-11-21 21:09:57 -0800 (Sun, 21 Nov 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wccp.c

Display priority and protocol, even in the case of WCCP2_SERVICE_STANDARD, but
indicate that these fields are unused in this case and must be zero.
Furthermore, if the value is non-zero, add an expert info warning about it.
Fixes bug 3631.

------------------------------------------------------------------------
r34999 | jmayer | 2010-11-22 04:03:28 -0800 (Mon, 22 Nov 2010) | 1 line
Changed paths:
   M /trunk/docbook/CMakeLists.txt
   M /trunk/epan/CMakeLists.txt

Add new files to cmake as well
------------------------------------------------------------------------
r35000 | martinm | 2010-11-22 05:28:49 -0800 (Mon, 22 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pdcp-lte.c
   M /trunk/epan/dissectors/packet-pdcp-lte.h

Add sequence analysis for PDCP, based upon RLC/UM.
For now, only enable it for logged PDCP frames, i.e. not for PDCP found inside RLC (that won't work properly until RLC re-assembly is implemented).

------------------------------------------------------------------------
r35001 | martinm | 2010-11-22 05:37:13 -0800 (Mon, 22 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c
   M /trunk/epan/dissectors/packet-umts_fp.h

Add another (unsupported) channel type identifier.

------------------------------------------------------------------------
r35002 | wmeier | 2010-11-22 06:57:58 -0800 (Mon, 22 Nov 2010) | 2 lines
Changed paths:
   M /trunk/tools/pidl/tests/cutil.pl
   M /trunk/tools/pidl/tests/ndr_align.pl
   M /trunk/tools/pidl/tests/ndr_alloc.pl
   M /trunk/tools/pidl/tests/ndr_array.pl
   M /trunk/tools/pidl/tests/ndr_refptr.pl
   M /trunk/tools/pidl/tests/ndr_represent.pl
   M /trunk/tools/pidl/tests/ndr_simple.pl
   M /trunk/tools/pidl/tests/ndr_string.pl
   M /trunk/tools/pidl/tests/ndr_tagtype.pl
   M /trunk/tools/pidl/tests/parse_idl.pl
   M /trunk/tools/pidl/tests/samba3-srv.pl

Remove 'keywords' property from a few files.

------------------------------------------------------------------------
r35003 | wmeier | 2010-11-22 06:59:33 -0800 (Mon, 22 Nov 2010) | 2 lines
Changed paths:
   M /trunk/debian/headers-check.c

Remove 'keywords' property.

------------------------------------------------------------------------
r35004 | etxrab | 2010-11-22 07:02:06 -0800 (Mon, 22 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

Remove faulty return, probably forgotten during test.
Fixing dissection on Via header.
------------------------------------------------------------------------
r35005 | morriss | 2010-11-22 08:19:39 -0800 (Mon, 22 Nov 2010) | 8 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-reload-framing.c
   M /trunk/epan/dissectors/packet-reload.c

From Stephane Bryant via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5358 :

This is a dissector for reload framed message:
ReLOAD packets can be inserted in frame message, as described in
draft-ietf-p2psip-base-10

From me: remove some unnecessary includes.

------------------------------------------------------------------------
r35006 | wmeier | 2010-11-22 09:17:46 -0800 (Mon, 22 Nov 2010) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake

Prevent "MS-DOS style path detected" messages for several commands (when "nodosfilewarning" not set).

------------------------------------------------------------------------
r35007 | morriss | 2010-11-22 10:48:54 -0800 (Mon, 22 Nov 2010) | 23 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-tds.c

From Emil Wojak via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5391 :

I'd like to share my enhancements to the TDS dissector with everyone.
The list of improvements follows:
- nearly complete dissection of RPC calls,
- detection and dissection of the ALL_HEADERS rule,
- corrected some existing proto_tree fields to support filters,
- other minor fixes where the interpretation of data conflicted with the
  official documentation from MS.

I tested the new code on a variety of different TDS captures with many diverse
RPC calls. The code compiles and works on 32-bit Linux, I didn't check those
changes on other platforms though.

From me:

- terminate all value_strings
- change ++*offset to *offset += 1 (I think that's more readable)
- replace all the dissector assertions which could be caused by malformed
  packets with expert infos
- Don't throw ReportedBoundsError when the packets have unexpected data in
  them, just report an expert info and continue on

------------------------------------------------------------------------
r35008 | wmeier | 2010-11-22 11:45:03 -0800 (Mon, 22 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/file_dlg_win32.c
   M /trunk/gtk/file_dlg_win32.h

Remove print_update_dynamic() decl from file_dlg_win32.h since only used in [...].c

------------------------------------------------------------------------
r35009 | etxrab | 2010-11-22 12:24:12 -0800 (Mon, 22 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c
   M /trunk/epan/dissectors/packet-sccp.h

From Mike Morrin:
In bssmap, track L3 handover target (GSM or UMTS) between PDUs
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5294
------------------------------------------------------------------------
r35010 | gerald | 2010-11-22 12:43:22 -0800 (Mon, 22 Nov 2010) | 3 lines
Changed paths:
   M /trunk/wsutil/file_util.c

Make sure we pass a directory path and not a file path to
SetCurrentDirectory.  Should fix bug 5420.

------------------------------------------------------------------------
r35011 | stig | 2010-11-22 13:05:49 -0800 (Mon, 22 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sccp.c

Initialize no_assoc.app_info=0.

------------------------------------------------------------------------
r35012 | gerald | 2010-11-22 13:05:55 -0800 (Mon, 22 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/filesystem.c

Use g_path_get_dirname in init_progfile_dir on Windows. Leave the
non-Windows code alone since it needs to check for a libtool-ized path.

------------------------------------------------------------------------
r35013 | martinm | 2010-11-23 03:01:48 -0800 (Tue, 23 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Check the DDI while dissecting the header.

------------------------------------------------------------------------
r35014 | morriss | 2010-11-23 07:27:18 -0800 (Tue, 23 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-tds.c

Based on https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5391#c11 : put some DISSECTOR_ASSERTs and THROW's back in.
------------------------------------------------------------------------
r35015 | etxrab | 2010-11-23 09:33:57 -0800 (Tue, 23 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/tvbuff.c

From Vincent Helfre:
Bug in tvb_get_bits32(), The last bitshift is too large, which causes the least significant bits to be 0 all the time.
------------------------------------------------------------------------
r35016 | etxrab | 2010-11-23 11:42:11 -0800 (Tue, 23 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Remove Supported Channels lenght check fixes
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5430
------------------------------------------------------------------------
r35017 | wmeier | 2010-11-23 18:11:43 -0800 (Tue, 23 Nov 2010) | 13 lines
Changed paths:
   M /trunk/epan/dissectors/packet-imf.c

Tighten up code dissecting message header.

This corrects the specific issue reported in Bug #3317
wherein the dissector decided there was a valid but unknown
header when dissecting a binary (non text) message with a ":"
as the last byte.

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=3317

Note that a larger issue remains: the IMF dissector
presumably shouldn't really even try to dissect a
binary payload (which is proably encrypted text).

------------------------------------------------------------------------
r35018 | wmeier | 2010-11-23 19:43:09 -0800 (Tue, 23 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-imf.c

Whitespace cleanup;
Add some braces;

------------------------------------------------------------------------
r35019 | jake | 2010-11-24 00:41:22 -0800 (Wed, 24 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/file_import_dlg.c

Try to fix dummy header settings alignment.

------------------------------------------------------------------------
r35020 | etxrab | 2010-11-24 07:15:28 -0800 (Wed, 24 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-reload-framing.c

Tighten the heuristic.
------------------------------------------------------------------------
r35021 | etxrab | 2010-11-24 08:21:04 -0800 (Wed, 24 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-per.c

From Johannes Lange:
Bug 5393 - Wrong length calculation in new_octet_aligned_subset_bits() (PER dissector) .
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5393
------------------------------------------------------------------------
r35022 | cmaynard | 2010-11-24 08:24:44 -0800 (Wed, 24 Nov 2010) | 2 lines
Changed paths:
   M /trunk/editcap.c

When listing encapsulation types with -T or file types with -F, sort them.

------------------------------------------------------------------------
r35023 | etxrab | 2010-11-24 08:35:23 -0800 (Wed, 24 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-per.c

From Johannes Lange:
Function dissect_per_bit_string_display might read more bytes than available (PER dissector).
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5394
------------------------------------------------------------------------
r35024 | cmaynard | 2010-11-24 09:10:48 -0800 (Wed, 24 Nov 2010) | 2 lines
Changed paths:
   M /trunk/editcap.c

Attempt to fix warnings not previously seen with VS2008EE.

------------------------------------------------------------------------
r35025 | cmaynard | 2010-11-24 09:33:58 -0800 (Wed, 24 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c
   M /trunk/wiretap/pcap-common.c

Add support for USB isochronous.  From Marton Nemeth via bug #5370.

------------------------------------------------------------------------
r35026 | jake | 2010-11-24 23:01:39 -0800 (Wed, 24 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/file_import_dlg.c
   M /trunk/gtk/help_dlg.c
   M /trunk/gtk/help_dlg.h

Create proper Help reference.

------------------------------------------------------------------------
r35027 | etxrab | 2010-11-25 05:56:29 -0800 (Thu, 25 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/main.c

Remove threading of tap update.
See http://www.wireshark.org/lists/wireshark-dev/200611/msg00199.html
------------------------------------------------------------------------
r35028 | etxrab | 2010-11-25 07:21:24 -0800 (Thu, 25 Nov 2010) | 1 line
Changed paths:
   M /trunk/gtk/main.c

Update comments to point to the previous commit to enhance traceabillity.
------------------------------------------------------------------------
r35029 | jake | 2010-11-25 11:59:19 -0800 (Thu, 25 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sll.c
   M /trunk/epan/dissectors/packet-sll.h
   M /trunk/plugins/irda/packet-irda.c

Fix for bug 5435:
Add support for dissecting SLL type 0x17 frames.

------------------------------------------------------------------------
r35030 | rbalint | 2010-11-25 15:00:16 -0800 (Thu, 25 Nov 2010) | 4 lines
Changed paths:
   M /trunk/wsutil/Makefile.am

Add libtool version info to libwsutil.
From Eloy Paris <peloy@debian.org>
http://svn.debian.org/wsvn/collab-maint/ext-maint/wireshark/branches/wireshark-1.4.x%2Blibseparation/debian/patches/25_libwsutil-version.patch

------------------------------------------------------------------------
r35031 | sfisher | 2010-11-26 09:54:45 -0800 (Fri, 26 Nov 2010) | 1 line
Changed paths:
   M /trunk/config.nmake

Remove comment stating that Microsoft Visual Studio 2010 doesn't work since the express edition does (and presumably the full edition does also)
------------------------------------------------------------------------
r35032 | sfisher | 2010-11-26 11:16:06 -0800 (Fri, 26 Nov 2010) | 1 line
Changed paths:
   M /trunk/Makefile.am
   M /trunk/Makefile.nmake
   M /trunk/gtk/Makefile.am
   M /trunk/gtk/Makefile.nmake
   D /trunk/gtk/file_dlg_win32.c
   D /trunk/gtk/file_dlg_win32.h
   M /trunk/gtk/print_dlg.c
   D /trunk/gtk/print_win32.c
   D /trunk/gtk/print_win32.h
   A /trunk/win32
   A /trunk/win32/Makefile.nmake
   A /trunk/win32/file_dlg_win32.c (from /trunk/gtk/file_dlg_win32.c:35030)
   A /trunk/win32/file_dlg_win32.h (from /trunk/gtk/file_dlg_win32.h:35030)
   A /trunk/win32/print_win32.c (from /trunk/gtk/print_win32.c:35030)
   A /trunk/win32/print_win32.h (from /trunk/gtk/print_win32.h:35030)

Move native Win32 code to its own directory and out of gtk directory (hopefully without breaking any builds)
------------------------------------------------------------------------
r35033 | sfisher | 2010-11-26 12:13:00 -0800 (Fri, 26 Nov 2010) | 1 line
Changed paths:
   M /trunk/image/file_dlg_win32.rc

Fix the Windows buildbot after r35032
------------------------------------------------------------------------
r35034 | sfisher | 2010-11-26 12:57:46 -0800 (Fri, 26 Nov 2010) | 1 line
Changed paths:
   M /trunk/gtk/capture_file_dlg.c
   M /trunk/gtk/follow_stream.c
   M /trunk/gtk/follow_tcp.c
   M /trunk/gtk/main_proto_draw.c

Fix the rest of the include paths after the move of native win32 code to win32 and out of the gtk directory in r35032
------------------------------------------------------------------------
r35035 | sfisher | 2010-11-26 15:33:05 -0800 (Fri, 26 Nov 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssh.c


Mention SSHv2 RFCs


------------------------------------------------------------------------
r35036 | sfisher | 2010-11-26 15:50:56 -0800 (Fri, 26 Nov 2010) | 4 lines
Changed paths:
   M /trunk/config.h.win32
   M /trunk/configure.in


Define HAVE_GTK in config.h when compiling with GTK for the GUI


------------------------------------------------------------------------
r35037 | sfisher | 2010-11-26 17:13:25 -0800 (Fri, 26 Nov 2010) | 1 line
Changed paths:
   M /trunk/config.h.win32

Fix typo in comment
------------------------------------------------------------------------
r35038 | sfisher | 2010-11-27 08:51:24 -0800 (Sat, 27 Nov 2010) | 4 lines
Changed paths:
   M /trunk/doc/README.idl2wrs
   M /trunk/doc/dumpcap.pod
   M /trunk/doc/tshark.pod
   M /trunk/doc/wireshark.pod.template
   M /trunk/docbook/GPL_appendix.xml
   M /trunk/docbook/wsdg_src/WSDG_chapter_tools.xml
   M /trunk/docbook/wsluarm.xml
   M /trunk/docbook/wsug_src/WSUG_app_files.xml
   M /trunk/docbook/wsug_src/WSUG_app_tools.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_capture.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_customize.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_io.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_statistics.xml


From OKANO Takayoshi via bug #5442: Fix typos in documentation


------------------------------------------------------------------------
r35039 | wmeier | 2010-11-27 10:00:21 -0800 (Sat, 27 Nov 2010) | 2 lines
Changed paths:
   M /trunk/win32/Makefile.nmake

Add svn:keywords & svn:eol-style properties.

------------------------------------------------------------------------
r35040 | sfisher | 2010-11-27 10:52:02 -0800 (Sat, 27 Nov 2010) | 1 line
Changed paths:
   M /trunk/config.nmake

Remove "not tested" note on MSVC 2010's vcredist instructions
------------------------------------------------------------------------
r35041 | guy | 2010-11-27 13:50:49 -0800 (Sat, 27 Nov 2010) | 10 lines
Changed paths:
   M /trunk/Makefile.common
   M /trunk/file.c
   M /trunk/gtk/Makefile.common
   M /trunk/gtk/filter_dlg.c
   M /trunk/gtk/find_dlg.c
   M /trunk/gtk/main.c
   M /trunk/gtk/main_packet_list.c
   M /trunk/gtk/main_statusbar.c
   D /trunk/gtk/main_statusbar.h
   M /trunk/gtk/menus.c
   M /trunk/gtk/new_packet_list.c
   M /trunk/gtk/simple_dialog.c
   A /trunk/main_statusbar.h (from /trunk/gtk/main_statusbar.h:35040)
   M /trunk/simple_dialog.h

Move main_statusbar.h to the top-level directory; none of its routines
use GTK+ data types, so, at least in theory, it could be implemented
atop another toolkit.

Make statusbar_push_temporary_msg() take a format string and format
arguments.  Use it instead of simple_status(), and change one call to
just take a format string and arguments rather than to take the result
of using that format string and arguments with g_strdup_printf() and
passing the result to statusbar_push_temporary_msg().

------------------------------------------------------------------------
r35042 | guy | 2010-11-27 15:06:14 -0800 (Sat, 27 Nov 2010) | 5 lines
Changed paths:
   M /trunk/gtk/filter_dlg.c
   M /trunk/gtk/main.c
   M /trunk/gtk/main_statusbar.c
   M /trunk/gtk/main_welcome.c
   M /trunk/gtk/main_welcome.h
   M /trunk/main_statusbar.h

Make some other statusbar routines take a format string and format args,
and get rid of an unnecessary string pointer.

Make the argument to welcome_header_push_msg() a const pointer.

------------------------------------------------------------------------
r35043 | guy | 2010-11-27 16:00:58 -0800 (Sat, 27 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/airpcap_dlg.c

Clean up white space.

------------------------------------------------------------------------
r35044 | guy | 2010-11-27 16:02:39 -0800 (Sat, 27 Nov 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main.c
   M /trunk/gtk/main_statusbar.c
   M /trunk/main_statusbar.h

Add GCC-style printf annotation to the routines that now take a format
string and format arguments, and fix issues warned about by that.

------------------------------------------------------------------------
r35045 | guy | 2010-11-27 16:13:38 -0800 (Sat, 27 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/stats_tree_stat.c

Don't report an error twice.

------------------------------------------------------------------------
r35046 | sfisher | 2010-11-27 16:15:21 -0800 (Sat, 27 Nov 2010) | 1 line
Changed paths:
   M /trunk/Makefile.common
   M /trunk/gtk/Makefile.common
   M /trunk/gtk/main.c
   M /trunk/gtk/menus.c
   M /trunk/gtk/recent.c
   D /trunk/gtk/u3.c
   D /trunk/gtk/u3.h
   A /trunk/u3.c (from /trunk/gtk/u3.c:35042)
   A /trunk/u3.h (from /trunk/gtk/u3.h:35042)

Move u3 code to top-level directory since it's not GTK specific
------------------------------------------------------------------------
r35047 | guy | 2010-11-27 16:19:49 -0800 (Sat, 27 Nov 2010) | 2 lines
Changed paths:
   M /trunk/capture.c

Clean up white space.

------------------------------------------------------------------------
r35048 | guy | 2010-11-27 16:41:47 -0800 (Sat, 27 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/airpcap_gui_utils.c

Clean up white space.

------------------------------------------------------------------------
r35049 | guy | 2010-11-27 16:53:23 -0800 (Sat, 27 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/expert_comp_table.c

Partially clean up white space.

------------------------------------------------------------------------
r35050 | martinm | 2010-11-28 07:37:40 -0800 (Sun, 28 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Fix calling of LTE RRC dissector for "rrc_lte_r8" frames.

------------------------------------------------------------------------
r35051 | gerald | 2010-11-28 08:03:43 -0800 (Sun, 28 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf, services and enterprise-numbers update for 2010-11-28]
------------------------------------------------------------------------
r35054 | etxrab | 2010-11-28 12:58:26 -0800 (Sun, 28 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_rr.c

From Alex Badea:
gsm_a_rr: System Information Type 4 / CBCH mobile allocation dissected incorrectly
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5436
------------------------------------------------------------------------
r35055 | etxrab | 2010-11-28 13:03:43 -0800 (Sun, 28 Nov 2010) | 3 lines
Changed paths:
   M /trunk/plugins/asn1/packet-asn1.c

From Robert Groenenberg:
Assert when using ASN.1 dissector with loading a 'type table'
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5447
------------------------------------------------------------------------
r35056 | etxrab | 2010-11-28 13:08:03 -0800 (Sun, 28 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-infiniband.c

From Slava:
Bug with RWH parsing in Infiniband dissector.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5444
------------------------------------------------------------------------
r35057 | jmayer | 2010-11-28 13:44:06 -0800 (Sun, 28 Nov 2010) | 2 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/gtk/CMakeLists.txt

u3.c has moved.

------------------------------------------------------------------------
r35058 | jmayer | 2010-11-28 13:45:15 -0800 (Sun, 28 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dns.c

Make the Primary name element filterable in response records.
Same for Nameserver names.

------------------------------------------------------------------------
r35059 | martinm | 2010-11-29 04:09:18 -0800 (Mon, 29 Nov 2010) | 2 lines
Changed paths:
   M /trunk/gtk/rlc_lte_stat_dlg.c

Allow DCT error strings containing given subsets to be filtered upon.

------------------------------------------------------------------------
r35060 | etxrab | 2010-11-29 05:02:31 -0800 (Mon, 29 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c

Try to fix Buildbot crash output: fuzz-2010-11-28-11164.pcap
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5448
------------------------------------------------------------------------
r35061 | etxrab | 2010-11-29 05:12:35 -0800 (Mon, 29 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_rr.c

From Vincent Helfre:
I have fixed some issue in the measurement information decoding in packet-gsm_a_rr.c.
------------------------------------------------------------------------
r35062 | etxrab | 2010-11-29 05:27:00 -0800 (Mon, 29 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c

From Vincent Helfre:
Make it possible to dissect NAS EPS messages without security header.
------------------------------------------------------------------------
r35063 | cmaynard | 2010-11-29 09:22:05 -0800 (Mon, 29 Nov 2010) | 2 lines
Changed paths:
   M /trunk/wiretap/pcap-common.c

Fix typos.

------------------------------------------------------------------------
r35064 | etxrab | 2010-11-29 10:15:09 -0800 (Mon, 29 Nov 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bthci_evt.c

From Andrei Emeltchenko:
Wrong link type in a packet(bluethouth).
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5449
------------------------------------------------------------------------
r35065 | morriss | 2010-11-29 12:07:43 -0800 (Mon, 29 Nov 2010) | 1 line
Changed paths:
   M /trunk/gtk/Makefile.common

Add DIRTY_GENERATED_C_FILES to GENERATED_FILES (so they get cleaned up by distclean).
------------------------------------------------------------------------
r35066 | morriss | 2010-11-29 12:09:09 -0800 (Mon, 29 Nov 2010) | 1 line
Changed paths:
   M /trunk/gtk/Makefile.am

Remove file_dlg_win32.c and print_win32.c from the checkapi target.
------------------------------------------------------------------------
r35067 | morriss | 2010-11-29 12:37:24 -0800 (Mon, 29 Nov 2010) | 1 line
Changed paths:
   M /trunk/gtk/Makefile.nmake

Remove DIRTY_GENERATED_C_FILES from WIRESHARK_GTK_SRC so we don't run checkapi on it.  Also remove capture_if_details_dlg_win32.c from the checkapi list since it's in WIRESHARK_GTK_SRC (which is in the list of files checkapi is run against).
------------------------------------------------------------------------
r35068 | sfisher | 2010-11-29 12:43:24 -0800 (Mon, 29 Nov 2010) | 7 lines
Changed paths:
   M /trunk/epan/prefs.c


Add "Length" as a new default column on a trial basis between the protocol
and info columns per discussion on -dev list:

    http://www.wireshark.org/lists/wireshark-dev/201011/msg00151.html 


------------------------------------------------------------------------
r35069 | morriss | 2010-11-29 12:53:22 -0800 (Mon, 29 Nov 2010) | 1 line
Changed paths:
   M /trunk/gtk/Makefile.am
   M /trunk/gtk/Makefile.common
   M /trunk/gtk/Makefile.nmake

Move the checkapi targes to Makefile.common.  Rename Makefile.nmake's WIRESHARK_GTK_SRC to WIRESHARK_GTK_ALL_SRC to avoid reusing the variable of the same name from Makefile.common; Put DIRTY_GENERATED_C_FILES back in that variable since checkapi is no longer run on it.
------------------------------------------------------------------------
r35070 | etxrab | 2010-11-29 13:40:49 -0800 (Mon, 29 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

Change SIP TCP port preference to a range preference.
------------------------------------------------------------------------
r35071 | morriss | 2010-11-29 13:46:53 -0800 (Mon, 29 Nov 2010) | 1 line
Changed paths:
   M /trunk/win32/Makefile.nmake

Fix the checkapi target.
------------------------------------------------------------------------
r35072 | morriss | 2010-11-29 14:11:39 -0800 (Mon, 29 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

Remove a no-longer-used variable.
------------------------------------------------------------------------
r35073 | morriss | 2010-11-29 14:34:04 -0800 (Mon, 29 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/Makefile.am
   M /trunk/epan/Makefile.common
   M /trunk/epan/Makefile.nmake
   M /trunk/epan/crypt/Makefile.am
   M /trunk/epan/crypt/Makefile.common
   M /trunk/epan/crypt/Makefile.nmake
   M /trunk/epan/dfilter/Makefile.am
   M /trunk/epan/dfilter/Makefile.common
   M /trunk/epan/dfilter/Makefile.nmake
   M /trunk/epan/dissectors/Makefile.am
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/Makefile.nmake

Move some checkapi targets into Makefile.common
------------------------------------------------------------------------
r35074 | sake | 2010-11-29 14:50:21 -0800 (Mon, 29 Nov 2010) | 3 lines
Changed paths:
   M /trunk/gtk/main.c

Fix "colorize with filter" functionality that got broken with the new_packet_list.


------------------------------------------------------------------------
r35075 | morriss | 2010-11-29 18:04:55 -0800 (Mon, 29 Nov 2010) | 1 line
Changed paths:
   M /trunk/epan/Makefile.am
   M /trunk/epan/Makefile.common
   M /trunk/epan/Makefile.nmake
   M /trunk/epan/crypt/Makefile.am
   M /trunk/epan/crypt/Makefile.common
   M /trunk/epan/crypt/Makefile.nmake
   M /trunk/epan/dfilter/Makefile.am
   M /trunk/epan/dfilter/Makefile.common
   M /trunk/epan/dfilter/Makefile.nmake
   M /trunk/epan/dissectors/Makefile.am
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/Makefile.nmake
   M /trunk/gtk/Makefile.am
   M /trunk/gtk/Makefile.common
   M /trunk/gtk/Makefile.nmake

Oh yeah, there's a reason we don't put targets in Makefile.common: the first target in a makefile is what you get when you just run make (without a target).  Revert 35073 and 35069.
------------------------------------------------------------------------
r35076 | martinm | 2010-11-30 07:10:17 -0800 (Tue, 30 Nov 2010) | 13 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pdcp-lte.c

From Pascal Quantin:

I just found a small bug in LTE PDCP dissector with current top of tree.
If global preference global_pdcp_dissect_user_plane_as_ip is set to true, the dissector will try to decode an IP frame even with signalling plane.
PDCP-LTE
    ...0 0000 = Seq Num: 0
    Signalling Data: 0800183aa808
    MAC: 0x00000000 (0)
[Malformed Packet: IP]
    [Expert Info (Error/Malformed): Malformed Packet (Exception occurred)]

With the attached patch, I get the correct output for both signalling and user plane PDUs.

------------------------------------------------------------------------
r35077 | morriss | 2010-11-30 09:06:13 -0800 (Tue, 30 Nov 2010) | 14 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sametime.c

From Toralf Foerster via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5432 :

The attached patch against that dissector contains :

FIX:
- counting statistics over encrypted packages (line 610 ff)

NEW:
- tag sametime message type 0x0025 as known

MISC:
- better comment
- new line clean ups

------------------------------------------------------------------------
r35078 | cmaynard | 2010-11-30 09:08:37 -0800 (Tue, 30 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-m2pa.c

Rename conflicting draft v2 and v8 display filter fields.  Fixes bug 4059.

------------------------------------------------------------------------
r35079 | gerald | 2010-11-30 09:46:09 -0800 (Tue, 30 Nov 2010) | 3 lines
Changed paths:
   M /trunk/doc/wireshark-filter.pod

We don't include a comprehensive display filter reference; don't say we
do.

------------------------------------------------------------------------
r35080 | morriss | 2010-11-30 12:57:43 -0800 (Tue, 30 Nov 2010) | 1 line
Changed paths:
   M /trunk/gtk/Makefile.nmake

Move the port audio source into a separate variable which is not run through checkapi.
------------------------------------------------------------------------
r35081 | morriss | 2010-11-30 13:32:04 -0800 (Tue, 30 Nov 2010) | 1 line
Changed paths:
   M /trunk/gtk/Makefile.nmake

Convert the .c file names to .obj before putting them in WIRESHARK_GTK_OBJECTS.
------------------------------------------------------------------------
r35082 | morriss | 2010-11-30 14:28:34 -0800 (Tue, 30 Nov 2010) | 9 lines
Changed paths:
   M /trunk/epan/addr_resolv.c
   M /trunk/make-manuf

Fix https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4102 :

Limit the length of manuf names to 8 characters in make-manuf (this matches
the (old) limit in addr_resolv.c).

Dynamically allocate memory to store the manuf name in epan/addr_resolv.c so
that we don't end up corrupting the UTF-8 if/when we need to truncate the
string.

------------------------------------------------------------------------
r35083 | morriss | 2010-11-30 14:33:29 -0800 (Tue, 30 Nov 2010) | 1 line
Changed paths:
   M /trunk/manuf

Update the manuf file (ahead of this weekend's auto-update) to reflect rev 35082's change to make-manuf.
------------------------------------------------------------------------
r35084 | sfisher | 2010-11-30 15:42:47 -0800 (Tue, 30 Nov 2010) | 1 line
Changed paths:
   M /trunk/version_info.c

Fix bug #5453: Use GetSystemNativeInfo() function if found on the  machine running Wireshark instead of GetSystemInfo(), so that we obtain the machine's actual architecture even when running under WOW64 x86 emulation.
------------------------------------------------------------------------
r35085 | sfisher | 2010-11-30 16:42:48 -0800 (Tue, 30 Nov 2010) | 5 lines
Changed paths:
   M /trunk/version_info.c


Back out r35084 since it contains code fragments from MSDN, which are covered
under the "Microsoft Limited Public License" apparently.


------------------------------------------------------------------------
r35086 | wmeier | 2010-11-30 17:31:49 -0800 (Tue, 30 Nov 2010) | 13 lines
Changed paths:
   M /trunk/epan/to_str.c

On Windows: convert _tzname[] strings from the system charset to UTF8 before use.

 In the Windows C Runtime the strings in the global array _tzname[]
   are encoded using the "system default ansi code page".
   They must be converted to UTF8 before use by Wireshark/GTK.
   (See comment in the code for details).

   Fixes Bug #5421 (I hope).
   https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5421

Also: Fix bug: when the timezone name is not available from the system
      ?ST was used when ?DT should have been used (and vice-versa).

------------------------------------------------------------------------
r35087 | wmeier | 2010-11-30 18:18:01 -0800 (Tue, 30 Nov 2010) | 2 lines
Changed paths:
   M /trunk/epan/to_str.c

Fix a GCC error.

------------------------------------------------------------------------
r35088 | cmaynard | 2010-12-01 07:45:24 -0800 (Wed, 01 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipsec.c

From Alex Badea via bug #4149: IPcomp: decompress deflated payloads.

------------------------------------------------------------------------
r35089 | cmaynard | 2010-12-01 07:48:45 -0800 (Wed, 01 Dec 2010) | 2 lines
Changed paths:
   M /trunk/AUTHORS

Added Alex Badea for his contribution via bug #4149.

------------------------------------------------------------------------
r35090 | sfisher | 2010-12-01 08:39:28 -0800 (Wed, 01 Dec 2010) | 1 line
Changed paths:
   M /trunk/version_info.c

Fix bug #5453 "Help->About Wireshark mis-reports OS" (again) without the help of MSDN code fragments.
------------------------------------------------------------------------
r35091 | etxrab | 2010-12-01 09:34:26 -0800 (Wed, 01 Dec 2010) | 3 lines
Changed paths:
   M /trunk/radius/README.radius_dictionary
   M /trunk/radius/dictionary.ascend

Delegated-IPv6-Prefix(123) is shown incorrect as X-Ascend-Call-Attempt-Limit(123)

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5455
------------------------------------------------------------------------
r35092 | sfisher | 2010-12-01 10:16:41 -0800 (Wed, 01 Dec 2010) | 5 lines
Changed paths:
   M /trunk/wsutil/privileges.h


Add #ifndef __PRIVILEGES_H__ / #define / #endif logic to prevent multiple
inclusions of privileges.h.


------------------------------------------------------------------------
r35093 | sfisher | 2010-12-01 10:25:18 -0800 (Wed, 01 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/filesystem.h
   M /trunk/epan/plugins.h
   M /trunk/wsutil/privileges.h


Add extern "C" to more header files.


------------------------------------------------------------------------
r35094 | sfisher | 2010-12-01 12:48:44 -0800 (Wed, 01 Dec 2010) | 1 line
Changed paths:
   M /trunk/packaging/nsis/wireshark.nsi

Now the Microsoft Visual C++ 2010 redistributable for x86 (32-bit) brings up a confusing dialog asking the user to repair or remove it if it's already installed.  Change it to (re-)install quietly (/q command-line option) like we do with the 64-bit version.
------------------------------------------------------------------------
r35095 | sfisher | 2010-12-01 13:21:33 -0800 (Wed, 01 Dec 2010) | 1 line
Changed paths:
   M /trunk/docbook/README.txt

Change underscore to dash to show correct docbook-xml42 package in Cygwin.
------------------------------------------------------------------------
r35096 | sfisher | 2010-12-01 13:42:19 -0800 (Wed, 01 Dec 2010) | 1 line
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_tools.xml

Add details to the table of Microsoft Visual C++ compilers (Win32 native tool chain) for Visual C++ 2010 Express and Professional.
------------------------------------------------------------------------
r35097 | morriss | 2010-12-01 15:12:46 -0800 (Wed, 01 Dec 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sccp.c

From Neil Piercy via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=3301 :

The packet-sccp.c has a bug in the declared valid ranges of the SSN and DPC
values in the user table used to match to a subdissector. The SSN range is 16
bits rather than 8 (not really an issue) but the DPC range is 16 bits rather
than 24 - so many traces cannot be matched by this table.

------------------------------------------------------------------------
r35098 | morriss | 2010-12-01 15:26:07 -0800 (Wed, 01 Dec 2010) | 12 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sccp.c

From Neil Piercy via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=3301 :

The information which is used to determine which sub-dissector to use for the
various Data messages within an SCCP connection is only present within the
initial Connection Request, so even with connection tracking on, unless the
trace contains the Connection Request no sub-dissector is called. It is common
for traces to only contain a single carried protocol anyway - e.g. RANAP.

The supplied patch adds a user preference for a "default payload"
sub-dissector, which is called in preference to the Data dissector if nothing
else has claimed the packet first.

------------------------------------------------------------------------
r35099 | morriss | 2010-12-01 15:30:06 -0800 (Wed, 01 Dec 2010) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi.c

From Zachary Mark via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5457 :

The scsi_persresv_type_val field in packet-scsi.c contains a mapping of
persistent reservation opcodes to their descriptive types.  The opcode for the
Exclusive Access - Registrants Only field is incorrectly set to 7, when the
correct opcode is 6 (as per SPC-2 onward).  The attached patch corrects this
discrepancy.

The attached patch also adds support for dissecting opcodes 7 and 8, the two
all registrants reservation types present in SPC-3 onward.

------------------------------------------------------------------------
r35100 | wmeier | 2010-12-01 17:38:50 -0800 (Wed, 01 Dec 2010) | 3 lines
Changed paths:
   M /trunk/win32/file_dlg_win32.c

Windows 'File ! Save_As': Error popup if saving to name of open capture file and also
error popup if delete of existing file fails.

------------------------------------------------------------------------
r35101 | wmeier | 2010-12-01 19:22:45 -0800 (Wed, 01 Dec 2010) | 2 lines
Changed paths:
   M /trunk/win32/file_dlg_win32.c

Remove an incorrect (uninformed) comment recently added my me.

------------------------------------------------------------------------
r35102 | etxrab | 2010-12-02 04:39:24 -0800 (Thu, 02 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-infiniband_sdp.c

From Slava:
Incorrectly registered range string in sdp infiniband dissector.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5461
------------------------------------------------------------------------
r35103 | morriss | 2010-12-02 06:35:11 -0800 (Thu, 02 Dec 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mongo.c

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5460 :

MongoDB dissector improperly decodes cursorID in OP_KILL_CURSORS command.
The size of the CursorID is 64 bits, while the code assumes they are 4 bits,
though correctly incrementing the pointer.  Fix this typo.

------------------------------------------------------------------------
r35104 | cmaynard | 2010-12-02 12:05:19 -0800 (Thu, 02 Dec 2010) | 7 lines
Changed paths:
   M /trunk/packaging/portableapps/win32/WiresharkPortable.nsi

Allow more than one instance of Wireshark to be started.  For now, the stuff
that disallowed it is just commented out.  Later, we might choose to make use
of AllowMultipleInstances like other portableapps do, such as Firefox, et al.
This change was made as a result of the following query on the -users list:

    http://www.wireshark.org/lists/wireshark-users/201012/msg00008.html

------------------------------------------------------------------------
r35105 | etxrab | 2010-12-02 12:44:18 -0800 (Thu, 02 Dec 2010) | 3 lines
Changed paths:
   M /trunk/plugins/opcua/opcua_simpletypes.c

From Gerhard Gappmeier:
Fix mapping of datatype strings in opcua plugin
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5428
------------------------------------------------------------------------
r35106 | etxrab | 2010-12-02 23:14:04 -0800 (Thu, 02 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-aps.c
   M /trunk/epan/dissectors/packet-zbee-nwk.h
   M /trunk/epan/dissectors/packet-zbee-security.c

From Fred Fierling:
Fixes invalid long address mappings in NWK layer.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5456
------------------------------------------------------------------------
r35107 | jmayer | 2010-12-03 08:56:04 -0800 (Fri, 03 Dec 2010) | 39 lines
Changed paths:
   M /trunk/tools/pidl/idl.yp
   M /trunk/tools/pidl/lib/Parse/Pidl/IDL.pm
   M /trunk/tools/pidl/lib/Parse/Pidl/Samba4/Python.pm

Sync from samba git:

======== f99c009..189b4bc =========
commit 135756c8ac34c4cf82992dce8c7218781e67f39b
Author: Andrew Tridgell <tridge@samba.org>
Date:   Fri Nov 5 11:52:20 2010 +1100

    pidl: use a union assignment instead of memmove
    
    this means we don't lose type checking
    
    Pair-Programmed-With: Jelmer Vernooij <jelmer@samba.org>

commit 3bff03723d8920faece76dd57bcf5d19b84d7b02
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Nov 30 23:48:46 2010 +0100

    pidl/python: Allow import of talloc, even though it doesn't live in the
    samba.dcerpc. namespace.

commit ba2110d19060c4d84656917eb6be7b78afc6df6b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Nov 30 23:06:32 2010 +0100

    pidl: Allow more flexibility importing modules using convenience function.

commit dd0fbc47c798acfb003e37afbee5f0748e30ad1b
Author: Jelmer Vernooij <jelmer@samba.org>
Date:   Tue Nov 30 22:59:32 2010 +0100

    pidl: Base new objects off of talloc object.

commit a3ed70ff96122531ba000123cdf3992d26663f30
Author: Andrew Tridgell <tridge@samba.org>
Date:   Sun Nov 21 23:05:07 2010 +1100

    pidl: fixed call to cpp with a space in the directory name
=============================

------------------------------------------------------------------------
r35108 | sfisher | 2010-12-03 09:31:58 -0800 (Fri, 03 Dec 2010) | 6 lines
Changed paths:
   M /trunk/gtk/stock_icons.c


Change the Wireshark stock icon description from "Auto Scroll in Live Capture"
to "Auto Scroll" to save space in the main toolbar.  Leave the rest of the
references (such as in the view menu) as they were.


------------------------------------------------------------------------
r35109 | sfisher | 2010-12-03 10:47:10 -0800 (Fri, 03 Dec 2010) | 4 lines
Changed paths:
   M /trunk/gtk/main.c


Don't include epan/emem.h twice.


------------------------------------------------------------------------
r35110 | gerald | 2010-12-03 10:48:05 -0800 (Fri, 03 Dec 2010) | 2 lines
Changed paths:
   M /trunk/help/faq.py

Don't assume everyone knows what Wireshark is.

------------------------------------------------------------------------
r35111 | wmeier | 2010-12-03 12:32:17 -0800 (Fri, 03 Dec 2010) | 2 lines
Changed paths:
   M /trunk/tap-stats_tree.c

Fix a typo & do whitespace cleanup.

------------------------------------------------------------------------
r35112 | wmeier | 2010-12-03 12:37:34 -0800 (Fri, 03 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fcfzs.h

Fix spelling errors.

------------------------------------------------------------------------
r35113 | sfisher | 2010-12-03 13:52:05 -0800 (Fri, 03 Dec 2010) | 7 lines
Changed paths:
   M /trunk/epan/prefs.c


Change default for "Welcome screen and title bar shows version" to on per
discussion in this thread on the wireshark-dev mailing list:

    http://www.wireshark.org/lists/wireshark-dev/201011/msg00151.html


------------------------------------------------------------------------
r35114 | sfisher | 2010-12-03 14:19:58 -0800 (Fri, 03 Dec 2010) | 5 lines
Changed paths:
   M /trunk/gtk/main_welcome.c
   M /trunk/gtk/main_welcome.h
   M /trunk/gtk/prefs_gui.c


After applying GUI preferences, reset the welcome screen's header message
in case the show version in welcome screen option was toggled.


------------------------------------------------------------------------
r35115 | morriss | 2010-12-03 14:59:16 -0800 (Fri, 03 Dec 2010) | 5 lines
Changed paths:
   M /trunk/epan/dfilter/semcheck.c

Fix a problem noticed in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5380#c2 :

Don't attempt to use a BASE_CUSTOM field's 'strings' field as a
value_string: it's not, it's a pointer to a function.

------------------------------------------------------------------------
r35116 | morriss | 2010-12-03 15:04:45 -0800 (Fri, 03 Dec 2010) | 17 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

From Andrew Feren via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5380 :

Comment in the code asked....

 /*XXX: 2 bytes skipped ?? */

Here is what I have found.

The high byte (1) indicates the Classification Engine ID
The low bytes (3) indicate the application ID

Engine ID of 5 is NBAR Standard.
Engine ID of 6 is NBAR Custom.

Attached patch displays all 4 bytes (type and ID) in a readable way.  Also
allows better filtering.

------------------------------------------------------------------------
r35117 | morriss | 2010-12-03 15:44:35 -0800 (Fri, 03 Dec 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bthci_acl.c

From Allan M. Madsen via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5446 :

Bluetooth ACL packets are not defragmented when the packet boundary flags is set
to 'flushable first fragment'.

------------------------------------------------------------------------
r35118 | morriss | 2010-12-03 18:54:25 -0800 (Fri, 03 Dec 2010) | 5 lines
Changed paths:
   M /trunk/plugins/opcua/opcua_extensionobjectids.h
   M /trunk/plugins/opcua/opcua_extensionobjecttable.c

From Gerhard Gappmeier via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5427 :

This patch adds support for dissecting all Extension Objects types defined by
the OPC Foundation.

------------------------------------------------------------------------
r35119 | morriss | 2010-12-03 18:54:59 -0800 (Fri, 03 Dec 2010) | 11 lines
Changed paths:
   M /trunk/plugins/opcua/opcua.c
   M /trunk/plugins/opcua/opcua_transport_layer.c
   M /trunk/plugins/opcua/opcua_transport_layer.h

From Gerhard Gappmeier via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5429 :

Until now the info column only shows the OPC UA transport protocol type (Hello,
Ack, Secure Conversion message).
After connections establishment has finished this column shows only Secure
Conversion message, because every service is sent over the secure channel.

This patch adds the useful support of displaying the service type in the info
column. This makes it easier to find specific service calls in huge capture
files.

------------------------------------------------------------------------
r35120 | gerald | 2010-12-05 08:03:43 -0800 (Sun, 05 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf, services and enterprise-numbers update for 2010-12-05]
------------------------------------------------------------------------
r35122 | gerald | 2010-12-05 09:32:19 -0800 (Sun, 05 Dec 2010) | 1 line
Changed paths:
   M /trunk/manuf

[Automatic manuf, services and enterprise-numbers update for 2010-12-05]
------------------------------------------------------------------------
r35125 | martinm | 2010-12-05 15:34:11 -0800 (Sun, 05 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-mac-lte.h

Add more PHY attributes to MAC frames.

------------------------------------------------------------------------
r35126 | wmeier | 2010-12-05 17:34:58 -0800 (Sun, 05 Dec 2010) | 2 lines
Changed paths:
   M /trunk/asn1/gsm_map/packet-gsm_map-template.c
   M /trunk/asn1/mpeg-pes/packet-mpeg-pes-template.c
   M /trunk/asn1/sabp/packet-sabp-template.c
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/editcap.c
   M /trunk/epan/dissectors/packet-assa_r3.c
   M /trunk/epan/dissectors/packet-daap.c
   M /trunk/epan/dissectors/packet-dcerpc-netlogon.c
   M /trunk/epan/dissectors/packet-dcerpc.c
   M /trunk/epan/dissectors/packet-dcm.c
   M /trunk/epan/dissectors/packet-dhcpv6.c
   M /trunk/epan/dissectors/packet-gsm_map.c
   M /trunk/epan/dissectors/packet-h248_3gpp.c
   M /trunk/epan/dissectors/packet-h264.c
   M /trunk/epan/dissectors/packet-hsrp.c
   M /trunk/epan/dissectors/packet-iax2.c
   M /trunk/epan/dissectors/packet-ipmi-picmg.c
   M /trunk/epan/dissectors/packet-isns.c
   M /trunk/epan/dissectors/packet-m2ua.c
   M /trunk/epan/dissectors/packet-mpeg-pes.c
   M /trunk/epan/dissectors/packet-mtp2.c
   M /trunk/epan/dissectors/packet-mysql.c
   M /trunk/epan/dissectors/packet-omron-fins.c
   M /trunk/epan/dissectors/packet-pnrp.c
   M /trunk/epan/dissectors/packet-ppi-antenna.c
   M /trunk/epan/dissectors/packet-ppi-vector.c
   M /trunk/epan/dissectors/packet-pptp.c
   M /trunk/epan/dissectors/packet-rlc-lte.c
   M /trunk/epan/dissectors/packet-rmt-common.c
   M /trunk/epan/dissectors/packet-rsl.c
   M /trunk/epan/dissectors/packet-sabp.c
   M /trunk/epan/dissectors/packet-scsi-mmc.c
   M /trunk/epan/dissectors/packet-sdp.c
   M /trunk/epan/dissectors/packet-sflow.c
   M /trunk/epan/dissectors/packet-smb.c
   M /trunk/epan/dissectors/packet-smpp.c
   M /trunk/epan/dissectors/packet-snmp.c
   M /trunk/epan/dissectors/packet-synphasor.c
   M /trunk/epan/dissectors/packet-tcp.c
   M /trunk/epan/dissectors/packet-teklink.c
   M /trunk/epan/dissectors/packet-tn5250.c
   M /trunk/epan/dissectors/packet-v52.c
   M /trunk/epan/dissectors/packet-wifi-p2p.c
   M /trunk/gtk/font_utils.h
   M /trunk/gtk/rtp_stream.h
   M /trunk/gtk/service_response_time_table.c
   M /trunk/gtk/tcp_graph.c
   M /trunk/tap-diameter-avp.c
   M /trunk/tap-rpcstat.c

Fix various typos and spelling errors.

------------------------------------------------------------------------
r35127 | morriss | 2010-12-06 07:57:39 -0800 (Mon, 06 Dec 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-windows-common.c

From Yaniv Kaul via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5372 :

Fix crash in LDAP dissector, in a generic way (for all callers of
dissect_nt_sid()).

------------------------------------------------------------------------
r35128 | sfisher | 2010-12-06 09:30:08 -0800 (Mon, 06 Dec 2010) | 8 lines
Changed paths:
   M /trunk/epan/emem.c


Fix bug #5463 (and likely others) so that ep_strbuf_new() no longer
truncates newly created and copied strings.  The problem was that
strlen() (which returns a length not counting the NULL terminator) was
being mixed with functions that do malloc() (which need to allocate
memory large enough to inculde the NULL string terminator).


------------------------------------------------------------------------
r35129 | gerald | 2010-12-06 10:29:46 -0800 (Mon, 06 Dec 2010) | 2 lines
Changed paths:
   M /trunk/tap-megaco-common.c

Remove an unused include.

------------------------------------------------------------------------
r35130 | gerald | 2010-12-06 10:30:14 -0800 (Mon, 06 Dec 2010) | 2 lines
Changed paths:
   D /trunk/make-manuf
   A /trunk/tools/make-manuf (from /trunk/make-manuf:35128)

Move make-manuf to the tools directory.

------------------------------------------------------------------------
r35131 | sfisher | 2010-12-06 10:30:39 -0800 (Mon, 06 Dec 2010) | 6 lines
Changed paths:
   M /trunk/epan/strutil.c


Change format_text() and format_text_wsp() to use g_unichar_isprint() for
UTF-8 support instead of isprint().  This allows the middle packet details
pane to display UTF-8 strings instead of escaping them with \xxx notation.


------------------------------------------------------------------------
r35132 | sfisher | 2010-12-06 10:34:26 -0800 (Mon, 06 Dec 2010) | 6 lines
Changed paths:
   M /trunk/gtk/follow_stream.c


Change isprint() calls in follow_stream.c (shared code that supports Follow
TCP, UDP and SSL streams) to g_unichar_isprint() so that UTF-8 characters
are displayed properly.


------------------------------------------------------------------------
r35133 | gerald | 2010-12-06 10:34:49 -0800 (Mon, 06 Dec 2010) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/tools/Makefile.am

Update the location of make-manuf.

------------------------------------------------------------------------
r35134 | morriss | 2010-12-06 11:48:05 -0800 (Mon, 06 Dec 2010) | 1 line
Changed paths:
   M /trunk/asn1/ulp/packet-ulp-template.c
   M /trunk/epan/dissectors/packet-giop.c
   M /trunk/epan/dissectors/packet-ucp.c
   M /trunk/epan/dissectors/packet-ulp.c
   M /trunk/epan/dissectors/packet-ziop.c

Make some (preference) variables static.
------------------------------------------------------------------------
r35135 | sfisher | 2010-12-06 13:24:25 -0800 (Mon, 06 Dec 2010) | 4 lines
Changed paths:
   M /trunk/gtk/follow_tcp.c


Remove unnecessary #include "../isprint.h"


------------------------------------------------------------------------
r35136 | sfisher | 2010-12-06 13:33:19 -0800 (Mon, 06 Dec 2010) | 5 lines
Changed paths:
   M /trunk/gtk/follow_stream.c


Revert r35132 so that a better fix can be implemented that doesn't break
non-printable non-UTF8 ASCII characters such as in binary streams.


------------------------------------------------------------------------
r35137 | cmaynard | 2010-12-06 14:00:08 -0800 (Mon, 06 Dec 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi-mmc.c
   M /trunk/epan/dissectors/packet-scsi-sbc.c
   M /trunk/epan/dissectors/packet-scsi-smc.c
   M /trunk/epan/dissectors/packet-scsi-ssc.c
   M /trunk/epan/dissectors/packet-scsi.c
   M /trunk/epan/dissectors/packet-scsi.h

Improve dissection of bit-oriented fields.  Patch from Richard Sharpe via
bug #5466 with some minor whitespace modifications from me and a fix of an
invalid offset introduced with the patch.  Fuzz testing still needs to be done.
I can't seem to get the fuzz tester to work with the capture files attached to
the bug report. 

------------------------------------------------------------------------
r35138 | morriss | 2010-12-06 14:08:48 -0800 (Mon, 06 Dec 2010) | 1 line
Changed paths:
   M /trunk/asn1/dap/packet-dap-template.c
   M /trunk/asn1/disp/packet-disp-template.c
   M /trunk/asn1/dop/packet-dop-template.c
   M /trunk/asn1/dsp/packet-dsp-template.c
   M /trunk/asn1/idmp/packet-idmp-template.c
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/asn1/p7/packet-p7-template.c
   M /trunk/asn1/x411/packet-x411-template.c
   M /trunk/epan/dissectors/packet-dap.c
   M /trunk/epan/dissectors/packet-disp.c
   M /trunk/epan/dissectors/packet-dop.c
   M /trunk/epan/dissectors/packet-dsp.c
   M /trunk/epan/dissectors/packet-idmp.c
   M /trunk/epan/dissectors/packet-ldap.c
   M /trunk/epan/dissectors/packet-p7.c
   M /trunk/epan/dissectors/packet-x411.c

Make some prefs callback functions static.  (These modules don't use proto_reg_handoff_*() as their prefs callback.)
------------------------------------------------------------------------
r35139 | morriss | 2010-12-06 15:17:43 -0800 (Mon, 06 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-fmp.c
   M /trunk/epan/dissectors/packet-fmp.h
   M /trunk/epan/dissectors/packet-fmp_notify.c

Make a whole bunch of symbols static.
------------------------------------------------------------------------
r35140 | morriss | 2010-12-06 15:20:21 -0800 (Mon, 06 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/crypt/airpdcap_tkip.c
   M /trunk/epan/dissectors/packet-diameter.c
   M /trunk/epan/dissectors/packet-infiniband.c
   M /trunk/epan/dissectors/packet-q708.c
   M /trunk/epan/dissectors/packet-q708.h

Make some symbols static.
------------------------------------------------------------------------
r35141 | morriss | 2010-12-06 18:44:25 -0800 (Mon, 06 Dec 2010) | 17 lines
Changed paths:
   M /trunk/epan/dissectors/packet-agentx.c

From Fulko Hew via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5438 :

Various fixes for AgentX protocol decoding:

1/ Fixed the decode of get & getnext PDU to correctly iterate over range lists.
2/ Re-adjust PDU header highlighting to hightlight all 20 octets instead of
only the first 4.
3/ Altered the decode hierarchy so that PDU bodys are no longer a sub-component
of the PDU header, but is now at the same level as the header.
4/ Corrected the highlighted length of decoded OIDs.
5/ Added bitwise decoding of the PDU 'flag' octet.

From me:
- Remove unnecessary includes.
- Some indentation/white space cleanup.
- Remove (new) duplicate blurbs

------------------------------------------------------------------------
r35142 | morriss | 2010-12-06 19:46:10 -0800 (Mon, 06 Dec 2010) | 8 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-netflow.c
   M /trunk/epan/sminmpec.h

From Andrew Feren via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5377 :

Add a bunch of NetFlow/IPFIX extensions from Plixer and ntop.

A little cleanup as well.

From me: remove duplicate blurbs.

------------------------------------------------------------------------
r35143 | sake | 2010-12-07 03:42:32 -0800 (Tue, 07 Dec 2010) | 3 lines
Changed paths:
   M /trunk/gtk/menus.c

Change the accelerator keys for "goto previous/next packet in conversation" from "<ctrl>+[" and "<ctrl>+]" to "<ctrl>+," and "<ctrl>+." as the bracket keys cause problems on many keyboards where they are "hidden" behind AltGr (I was tipped by a user with a German keyboard that has that "problem"). The new keys should cause no problems on most keyboards according to http://en.wikipedia.org/wiki/Keyboard_layout.


------------------------------------------------------------------------
r35144 | sake | 2010-12-07 03:59:15 -0800 (Tue, 07 Dec 2010) | 3 lines
Changed paths:
   M /trunk/doc/wireshark.pod.template
   M /trunk/docbook/wsug_src/WSUG_chapter_use.xml

... and update the documentation too :-)


------------------------------------------------------------------------
r35145 | rbalint | 2010-12-07 05:38:15 -0800 (Tue, 07 Dec 2010) | 2 lines
Changed paths:
   M /trunk/Makefile.am.inc
   M /trunk/epan
   M /trunk/epan/Makefile.am
   M /trunk/wiretap
   M /trunk/wiretap/Makefile.am
   M /trunk/wsutil
   M /trunk/wsutil/Makefile.am

Make libtool export only symbols listed in *.def files

------------------------------------------------------------------------
r35146 | morriss | 2010-12-07 06:28:28 -0800 (Tue, 07 Dec 2010) | 1 line
Changed paths:
   M /trunk/wiretap/Makefile.am

Fill out libwiretap's DEPENDENCIES line with the rest of the dependencies (from LIBADD).
------------------------------------------------------------------------
r35147 | morriss | 2010-12-07 10:31:50 -0800 (Tue, 07 Dec 2010) | 1 line
Changed paths:
   M /trunk/wsutil
   M /trunk/wsutil/Makefile.am

Revert rev 35145 for wsutil: go back to exporting all symbols.  libwsutil's list of exported symbols includes our optional targets and trying to export symbols that don't (always) exist upsets some linkers.  Anyway, the list of global symbols in libwsutil is (so far) quite short.
------------------------------------------------------------------------
r35148 | morriss | 2010-12-07 12:24:57 -0800 (Tue, 07 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/filesystem.c
   M /trunk/epan/filesystem.h
   M /trunk/epan/libwireshark.def
   M /trunk/wsutil/file_util.c
   M /trunk/wsutil/file_util.h
   M /trunk/wsutil/libwsutil.def
   M /trunk/wsutil/unicode-utils.c

Move getenv_utf8() to wsutil.
------------------------------------------------------------------------
r35149 | morriss | 2010-12-07 12:45:22 -0800 (Tue, 07 Dec 2010) | 1 line
Changed paths:
   M /trunk/wsutil/file_util.c

Include stdlib.h for getenv().
------------------------------------------------------------------------
r35150 | morriss | 2010-12-07 13:20:39 -0800 (Tue, 07 Dec 2010) | 1 line
Changed paths:
   M /trunk/gtk/file_dlg.c

Change includes for getenv_utf8()
------------------------------------------------------------------------
r35151 | wmeier | 2010-12-07 15:27:11 -0800 (Tue, 07 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mp2t.c

Init fragment_table and reassembly table every "session" rather than just once in proto_register...()

------------------------------------------------------------------------
r35152 | sfisher | 2010-12-07 16:16:42 -0800 (Tue, 07 Dec 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc.c


Change "DCE RPC" to "Distributed Computing Environment / Remote Procedure
Call (DCE/RPC)" for the DCERPC dissector's PROTONAME. 


------------------------------------------------------------------------
r35153 | etxrab | 2010-12-07 22:32:04 -0800 (Tue, 07 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/reassemble.c

Reassemble.c leaks memory for GLIB > 2.8
Free fragment data and fragment keys in fragment_table when neccessary. reassembled_table remains to be fixed.
------------------------------------------------------------------------
r35154 | etxrab | 2010-12-08 00:26:40 -0800 (Wed, 08 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/reassemble.c

fragment_free_key to be used only if Glib >= 2.10
------------------------------------------------------------------------
r35155 | etxrab | 2010-12-08 01:12:03 -0800 (Wed, 08 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/reassemble.c

reassemble.c: In function 'free_all_fragments':
reassemble.c:222: warning: unused variable 'key'
------------------------------------------------------------------------
r35156 | etxrab | 2010-12-08 03:25:22 -0800 (Wed, 08 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/reassemble.c

Mark parameter as unused.
reassemble.c:220: warning: unused parameter 'key_arg'
------------------------------------------------------------------------
r35160 | rbalint | 2010-12-08 15:36:01 -0800 (Wed, 08 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/Makefile.am

filter out wlua_plugin_list from libwireshark.sym when compiling without Lua

------------------------------------------------------------------------
r35162 | rbalint | 2010-12-09 07:19:28 -0800 (Thu, 09 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/Makefile.am

revert commit 35160 (filter out wlua_plugin_list from libwireshark.sym when compiling without Lua)

------------------------------------------------------------------------
r35163 | rbalint | 2010-12-09 07:20:14 -0800 (Thu, 09 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/plugins.h
   M /trunk/epan/wslua/init_wslua.c
   D /trunk/epan/wslua/init_wslua.h
   M /trunk/gtk/plugins_dlg.c

Always provide wslua_plugin_list, even if we don't have Lua configured.

------------------------------------------------------------------------
r35164 | rbalint | 2010-12-09 07:47:23 -0800 (Thu, 09 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/wslua/Makefile.am

Drop init_wslua.h from EXTRA_DIST

------------------------------------------------------------------------
r35165 | wmeier | 2010-12-09 19:13:09 -0800 (Thu, 09 Dec 2010) | 7 lines
Changed paths:
   M /trunk/tools/fuzz-test.sh

Export G_SLICE=debug-blocks to do additional memory checks;

From the GLib docs
 "Using this option (present since GLib-2.13) engages extra code which
  performs sanity checks on the released memory slices. Invalid slice
  addresses or slice sizes will be reported and lead to a program halt."

------------------------------------------------------------------------
r35166 | wmeier | 2010-12-09 21:23:40 -0800 (Thu, 09 Dec 2010) | 2 lines
Changed paths:
   M /trunk/tools/test-fuzzed-cap.sh

Export G_SLICE=debug-blocks to do additional memory checks;

------------------------------------------------------------------------
r35167 | rbalint | 2010-12-10 02:37:03 -0800 (Fri, 10 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/plugins.c
   M /trunk/epan/wslua/init_wslua.c

Move wslua_plugin_list to epan/plugins.c, that should fix the Solaris builds finally.

------------------------------------------------------------------------
r35169 | etxrab | 2010-12-10 04:39:59 -0800 (Fri, 10 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rsl.c

From Mike Morrin:
Fix RSL Channel description and interference dissection.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5479
------------------------------------------------------------------------
r35170 | etxrab | 2010-12-10 06:23:48 -0800 (Fri, 10 Dec 2010) | 12 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c

From Lori Tribble:
Enhancements to BACnet's bacapp dissector
Details:
1) Added the low and high instance parameters of the who-is command to the
summary view, if present.
2) Added dissecting of the property active-cov-subscriptions.
3) Added tag details to the decoded view of ProcessId.
4) Fixed the indent levels of the recipientProcess decoding.
5) Fixed the indent tree levels for ReadPropertyMultiple-ACK when decoding
error response.

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5473
------------------------------------------------------------------------
r35171 | etxrab | 2010-12-10 07:32:47 -0800 (Fri, 10 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dnp.c

From Rob Casey:
Addition of support for DNP3 Analog Input Deadband object type
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5471
------------------------------------------------------------------------
r35172 | wmeier | 2010-12-10 07:35:59 -0800 (Fri, 10 Dec 2010) | 6 lines
Changed paths:
   M /trunk/epan/reassemble_test.c

Additions to allow the valgrind to test for reassembly.c memory leaks.
 Specifically: free all dynamically allocated memory after each test (or
 at program completion).
Also: add some debug functions (conditionally enabled) to print information
about the fragment_table and reassembled_table fd-chains.

------------------------------------------------------------------------
r35173 | cmaynard | 2010-12-10 07:49:33 -0800 (Fri, 10 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi.c

From Richard Sharpe via bug 5466: "Changes to dissect persistentreserveout
parameters", with some whitespace changes by me.

------------------------------------------------------------------------
r35175 | wmeier | 2010-12-10 19:22:09 -0800 (Fri, 10 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/reassemble.c

Fix bug #5477: fuzz-test failure found by using G_SLICE=debug-blocks.
Essentially: doing g_slice_free with the wrong 'type' for the data to be freed.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5477

------------------------------------------------------------------------
r35176 | wmeier | 2010-12-10 20:11:31 -0800 (Fri, 10 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/reassemble.c

Rework some comments.

------------------------------------------------------------------------
r35177 | stig | 2010-12-11 13:40:01 -0800 (Sat, 11 Dec 2010) | 2 lines
Changed paths:
   M /trunk/plugins/opcua/CMakeLists.txt

Added opcua_extensionobjecttable.c from revision 34906.

------------------------------------------------------------------------
r35178 | gerald | 2010-12-12 08:03:46 -0800 (Sun, 12 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf, services and enterprise-numbers update for 2010-12-12]
------------------------------------------------------------------------
r35181 | martinm | 2010-12-13 03:00:05 -0800 (Mon, 13 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Show DDI config info.

------------------------------------------------------------------------
r35182 | cmaynard | 2010-12-13 07:59:14 -0800 (Mon, 13 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

From Marton Nemeth via bug #5490: Cleanup USB endpoint direction display.

------------------------------------------------------------------------
r35183 | wmeier | 2010-12-13 17:50:31 -0800 (Mon, 13 Dec 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c
   M /trunk/epan/dissectors/packet-fw1.c
   M /trunk/epan/dissectors/packet-gtp.c
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/epan/dissectors/packet-iuup.c
   M /trunk/epan/dissectors/packet-ssl.c
   M /trunk/epan/dissectors/packet-x11.c
   M /trunk/epan/dissectors/packet-zbee-aps.c

Minor cleanup:
- Initialize a few static global variables;
- Remove two unnecessary calls to g_hash_table_foreach_remove;
- Do whitespace cleanup and use consistent indentation;
- Fix a few typos and fix up several comments.

------------------------------------------------------------------------
r35184 | jake | 2010-12-13 23:43:17 -0800 (Mon, 13 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

Riverbed published patch for dissection of Riverbed TCP Probe/Transparency TCP options.

------------------------------------------------------------------------
r35185 | wmeier | 2010-12-14 06:23:27 -0800 (Tue, 14 Dec 2010) | 3 lines
Changed paths:
   M /trunk/doc/README.developer

Update the "Following Conversations" section to use se_alloc() instead of GMemChunks.
Also: add information about the conversation_set_dissector() function.

------------------------------------------------------------------------
r35186 | sfisher | 2010-12-14 09:02:00 -0800 (Tue, 14 Dec 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl.c


Rename "Secure Socket Layer" to "Secure Sockets Layer" (plural) and update
protocol reference URLs.


------------------------------------------------------------------------
r35187 | sfisher | 2010-12-14 10:27:04 -0800 (Tue, 14 Dec 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rip.c


Introduce a preference to display the third and forth bytes of the RIPv2 
header as the "Routing Domain" field as introduced in RFC 1388 [January 1993]
and obsoleted as of RFC 1723 [November 1994].  Defaults to FALSE.


------------------------------------------------------------------------
r35188 | martinm | 2010-12-14 17:45:43 -0800 (Tue, 14 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c
   M /trunk/epan/dissectors/packet-umts_fp.c
   M /trunk/epan/dissectors/packet-umts_fp.h

Add support for FP E-DCH T2 frames.

------------------------------------------------------------------------
r35189 | martinm | 2010-12-15 02:53:35 -0800 (Wed, 15 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Prettify the dissection of EDCH T2 data.

------------------------------------------------------------------------
r35190 | martinm | 2010-12-15 02:59:10 -0800 (Wed, 15 Dec 2010) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fp_hint.c

From Tobias Witek:
Bug 5494 -  FP-Hint: Display correct DCH-ID value

In FP-Hint, DCH-IDs are stored as a 5-bit value. While a 5-bit value can 
hold values from 0..31, DCH-IDs in the NBAP, RNSAP and RRC protocols 
have values from 1..32.

This patch adds 1 to the DCH-ID in FP-Hint in order to display the 
correct DCH-ID value in the protcol tree.

------------------------------------------------------------------------
r35191 | martinm | 2010-12-15 04:07:41 -0800 (Wed, 15 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Use value_string for MAC-is descriptor lchid.

------------------------------------------------------------------------
r35192 | jake | 2010-12-15 10:38:17 -0800 (Wed, 15 Dec 2010) | 10 lines
Changed paths:
   M /trunk/gtk/rtp_player.c

From k barnard:
Flag when a packet has been dropped by the jitter buffer in the audio player,
by showing:
 D dropped packet
 W wrong timestamp
 S silence added by wireshark

To show when audio 'glitches' may have come from the processing the received
packets through the jitter buffer.

------------------------------------------------------------------------
r35193 | jake | 2010-12-15 23:01:22 -0800 (Wed, 15 Dec 2010) | 15 lines
Changed paths:
   M /trunk/plugins/docsis/CMakeLists.txt
   M /trunk/plugins/docsis/Makefile.common
   A /trunk/plugins/docsis/packet-cmctrlreq.c
   A /trunk/plugins/docsis/packet-cmctrlrsp.c
   A /trunk/plugins/docsis/packet-dbcack.c
   A /trunk/plugins/docsis/packet-dbcreq.c
   A /trunk/plugins/docsis/packet-dbcrsp.c
   A /trunk/plugins/docsis/packet-dpvreq.c
   A /trunk/plugins/docsis/packet-dpvrsp.c
   M /trunk/plugins/docsis/packet-macmgmt.c
   M /trunk/plugins/docsis/packet-mdd.c
   A /trunk/plugins/docsis/packet-tlv-cmctrl.c
   M /trunk/plugins/docsis/packet-tlv.c
   M /trunk/plugins/docsis/packet-tlv.h

From Guido Reismueller:
packet-mdd.c
- TLV 15 fixed

packet-tlv.c
- Added Support for DOCSIS 3.0 TLVs (38-66)

Added Support for the following DOCSIS 3.0 MAC Management Messages
- DBC-REQ (packet-dbcreq.c)
- DBC-RSP (packet-dbcrsp.c)
- DBC-ACK (packet-dbcack.c)
- CM-CTRL-REQ (packet-cmctrlreq.c)
- CM-CTRL-RSP (packet-cmctrlrsp.c)
- DPV-REQ (packet-dpvreq.c)
- DPV-RSP (packet-dpvrsp.c)
------------------------------------------------------------------------
r35194 | jake | 2010-12-15 23:25:01 -0800 (Wed, 15 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_gm.c

Fix for bug 5475:
Track dissection properly of Packet Flow Identifier IE to 
avoid Extraneous Data reporting.

------------------------------------------------------------------------
r35195 | jake | 2010-12-15 23:55:35 -0800 (Wed, 15 Dec 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_ipa.c

From Harald Welte:
As it seems, there are systems that use an IPA multiplex layer but don't use
it on the standard ports that ip.access is using them for the A-bis interface.

This patch adds a user-configurable preference for the TCP and UDP ports the
IPA dissector should work on.

------------------------------------------------------------------------
r35196 | jake | 2010-12-16 00:03:57 -0800 (Thu, 16 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_ipa.c

From Harald Welte:
It seems that Hay Systems Limited (HSL) is using stream 0xDD to transport
human-readable debug messages from the BTS to the BSC.

------------------------------------------------------------------------
r35197 | etxrab | 2010-12-16 02:04:00 -0800 (Thu, 16 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-diameter_3gpp.c

Dissect  AVP Code: 606 User-Data if it's xml.
------------------------------------------------------------------------
r35198 | etxrab | 2010-12-16 04:26:01 -0800 (Thu, 16 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-diameter_3gpp.c

Fix a comment.
------------------------------------------------------------------------
r35199 | etxrab | 2010-12-16 04:26:49 -0800 (Thu, 16 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_rr.c

From Vincent Helfre:
fixed the conversions for utran and eutran threshold which are used for Enhanced Measurement Report.
------------------------------------------------------------------------
r35200 | etxrab | 2010-12-16 04:33:36 -0800 (Thu, 16 Dec 2010) | 2 lines
Changed paths:
   M /trunk/asn1/lte-rrc/packet-lte-rrc-template.c
   M /trunk/epan/dissectors/packet-lte-rrc.c

From Pascal Quantin:
When I coded the decoding of the feature group indicator, I decided to do not display the feature group content when it is not supported. After further thinking I find it more useful to always display the features of a given indicator whether it is supported or not.
------------------------------------------------------------------------
r35201 | morriss | 2010-12-16 06:39:33 -0800 (Thu, 16 Dec 2010) | 1 line
Changed paths:
   M /trunk/plugins/docsis/Makefile.common

There is no exceptions.h file here, remove it from DISSECTOR_INCLUDES.
------------------------------------------------------------------------
r35202 | rbalint | 2010-12-16 08:42:34 -0800 (Thu, 16 Dec 2010) | 4 lines
Changed paths:
   M /trunk/Makefile.am.inc
   M /trunk/configure.in
   M /trunk/wsutil
   M /trunk/wsutil/Makefile.am

Export only defined symbols from libwsutil.
Exported symbols are the symbols listed in libwsutil.def, but the
symbols defined in not used optional objects are filtered out.

------------------------------------------------------------------------
r35203 | rbalint | 2010-12-16 09:22:17 -0800 (Thu, 16 Dec 2010) | 2 lines
Changed paths:
   M /trunk/wsutil/Makefile.am

Update filter for Windows-only symbols.

------------------------------------------------------------------------
r35204 | etxrab | 2010-12-16 10:06:32 -0800 (Thu, 16 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Jouni Malinen:
Add dissecting for SA Query Action frames (IEEE 802.11w)
The patch hunks that were missed in r33436.
------------------------------------------------------------------------
r35205 | wmeier | 2010-12-16 10:42:03 -0800 (Thu, 16 Dec 2010) | 5 lines
Changed paths:
   M /trunk/docbook/catalog.xml

Add comment that this file is apparently not referenced when building docs;
 "AFAIK this file is *not* referenced on either Windows or *nix during the
  process of generating Wireshark documentation.
  (The catalogs referenced seem to be those in the "usual places": /etc/xml/...)"

------------------------------------------------------------------------
r35206 | gerald | 2010-12-16 11:52:59 -0800 (Thu, 16 Dec 2010) | 2 lines
Changed paths:
   M /trunk/util.c

Simplify our Remote Desktop session detection.

------------------------------------------------------------------------
r35207 | sfisher | 2010-12-16 12:38:06 -0800 (Thu, 16 Dec 2010) | 4 lines
Changed paths:
   M /trunk/util.c


Only call GetSystemMetrics(SM_REMOTESESSION) if running on MS Windows. 


------------------------------------------------------------------------
r35208 | etxrab | 2010-12-16 13:49:55 -0800 (Thu, 16 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ethertype.c
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/epan/etypes.h

From Jouni Malinen:
Add support for dissecting TDLS (IEEE 802.11z) frames.
These are mostly used as Action frames that are encapsulated in Data frames (to go through any AP).
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5493
------------------------------------------------------------------------
r35209 | stig | 2010-12-17 05:01:12 -0800 (Fri, 17 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dtn.c

Switched to bitwise | instead of logical || in bit operations.

This bug was found by clang.

------------------------------------------------------------------------
r35210 | stig | 2010-12-17 05:01:52 -0800 (Fri, 17 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ncp2222.inc

Switched to bitwise & instead of logical && in bit operations.

This bug was found by clang.

------------------------------------------------------------------------
r35211 | stig | 2010-12-17 05:03:34 -0800 (Fri, 17 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_a.c

Use printf modifier %u for guint32 values.

------------------------------------------------------------------------
r35212 | martinm | 2010-12-17 09:40:42 -0800 (Fri, 17 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Refactor EDCH-T2 function to also support the very similar EDCH-Common format.
N.B. EDCH-Common support itself not yet tested.

------------------------------------------------------------------------
r35213 | wmeier | 2010-12-17 12:30:26 -0800 (Fri, 17 Dec 2010) | 3 lines
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_build_intro.xml
   M /trunk/docbook/wsdg_src/WSDG_preface.xml

Integrate README.developer into the WSDG: Step 1: Styleguide;
Also: add list of README.developer contributors to the WSDG preface.

------------------------------------------------------------------------
r35214 | wmeier | 2010-12-17 12:55:45 -0800 (Fri, 17 Dec 2010) | 2 lines
Changed paths:
   M /trunk/doc/README.developer

The Styleguide section has been moved to the Wireshark Developer's Guide.

------------------------------------------------------------------------
r35215 | wmeier | 2010-12-17 13:31:55 -0800 (Fri, 17 Dec 2010) | 14 lines
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_dissection.xml

Convert indentation tabs within <programlisting> elements to 4 spaces.

As the book says:
 "Often a program listing will include tab characters to indent lines of code.
  When such a listing is imported to DocBook XML and formatted, the tab
  characters are not expanded as they are in the program editor.
  That's because in XSL-FO and HTML, tab stops and tab expansion are not
  described in either HTML or XSL-FO standards.
  By default, an XSL-FO processor treats a tab character as a single space,
  which leads to unsatisfactory results."

http://www.sagehill.net/docbookxsl/TabExpansion.html


------------------------------------------------------------------------
r35216 | sake | 2010-12-17 17:16:11 -0800 (Fri, 17 Dec 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/epan/dissectors/packet-ssl-utils.h
   M /trunk/epan/dissectors/packet-ssl.c

Add support for the TLSv1.2 format of the CertificateRequest handshake message.

(see: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5485 )


------------------------------------------------------------------------
r35217 | jake | 2010-12-18 06:29:21 -0800 (Sat, 18 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dns.c

From Daniel Black:
Adds support for GOST algorithm as per RFC5933. This is used as an option
DNSSEC algorithm.

------------------------------------------------------------------------
r35218 | wmeier | 2010-12-18 09:55:06 -0800 (Sat, 18 Dec 2010) | 3 lines
Changed paths:
   M /trunk/doc/README.developer

Revert SVN #35214 based upon comments in the Wireshark-dev list.
http://www.wireshark.org/lists/wireshark-dev/201012/msg00206.html

------------------------------------------------------------------------
r35219 | wmeier | 2010-12-18 10:07:36 -0800 (Sat, 18 Dec 2010) | 4 lines
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_build_intro.xml
   M /trunk/docbook/wsdg_src/WSDG_preface.xml

Revert SVN #35213 based upon comments in the Wireshark-dev list.
 http://www.wireshark.org/lists/wireshark-dev/201012/msg00206.html


------------------------------------------------------------------------
r35220 | gerald | 2010-12-19 08:03:24 -0800 (Sun, 19 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers

[Automatic manuf, services and enterprise-numbers update for 2010-12-19]
------------------------------------------------------------------------
r35223 | jake | 2010-12-19 10:46:08 -0800 (Sun, 19 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-raw.c
   M /trunk/wiretap/pcap-common.c
   M /trunk/wiretap/wtap.c
   M /trunk/wiretap/wtap.h

Prepare for handling DLT_IPV4 and DLT_IPV6.

------------------------------------------------------------------------
r35224 | guy | 2010-12-19 21:35:29 -0800 (Sun, 19 Dec 2010) | 8 lines
Changed paths:
   M /trunk/asn1/ansi_map/ansi_map.cnf
   M /trunk/asn1/ansi_tcap/packet-ansi_tcap-template.c
   M /trunk/asn1/cmp/packet-cmp-template.c
   M /trunk/asn1/dap/packet-dap-template.c
   M /trunk/asn1/disp/packet-disp-template.c
   M /trunk/asn1/dop/packet-dop-template.c
   M /trunk/asn1/dsp/packet-dsp-template.c
   M /trunk/asn1/goose/packet-goose-template.c
   M /trunk/asn1/gsm_map/gsm_map.cnf
   M /trunk/asn1/h225/h225.cnf
   M /trunk/asn1/h225/packet-h225-template.c
   M /trunk/asn1/h245/h245.cnf
   M /trunk/asn1/h248/packet-h248-template.c
   M /trunk/asn1/h450/packet-h450-template.c
   M /trunk/asn1/h501/packet-h501-template.c
   M /trunk/asn1/hnbap/packet-hnbap-template.c
   M /trunk/asn1/idmp/packet-idmp-template.c
   M /trunk/asn1/kerberos/packet-kerberos-template.c
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/asn1/mpeg-pes/packet-mpeg-pes-template.c
   M /trunk/asn1/nbap/packet-nbap-template.c
   M /trunk/asn1/p7/packet-p7-template.c
   M /trunk/asn1/pcap/packet-pcap-template.c
   M /trunk/asn1/q932/packet-q932-template.c
   M /trunk/asn1/qsig/packet-qsig-template.c
   M /trunk/asn1/ranap/packet-ranap-template.c
   M /trunk/asn1/ranap/ranap.cnf
   M /trunk/asn1/rnsap/packet-rnsap-template.c
   M /trunk/asn1/ros/ros-err.cnf
   M /trunk/asn1/ros/ros-inv.cnf
   M /trunk/asn1/ros/ros-res.cnf
   M /trunk/asn1/rua/packet-rua-template.c
   M /trunk/asn1/s1ap/packet-s1ap-template.c
   M /trunk/asn1/sabp/packet-sabp-template.c
   M /trunk/asn1/smrse/packet-smrse-template.c
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/asn1/sv/packet-sv-template.c
   M /trunk/asn1/t38/packet-t38-template.c
   M /trunk/asn1/tcap/packet-tcap-template.c
   M /trunk/asn1/ulp/packet-ulp-template.c
   M /trunk/asn1/x2ap/packet-x2ap-template.c
   M /trunk/asn1/x411/packet-x411-template.c
   M /trunk/asn1/x411/x411.cnf
   M /trunk/doc/README.developer
   M /trunk/doc/README.heuristic
   M /trunk/doc/README.python
   M /trunk/docbook/wsdg_src/WSDG_chapter_dissection.xml
   M /trunk/epan/dissectors/packet-2dparityfec.c
   M /trunk/epan/dissectors/packet-3com-njack.c
   M /trunk/epan/dissectors/packet-3com-xns.c
   M /trunk/epan/dissectors/packet-3g-a11.c
   M /trunk/epan/dissectors/packet-9p.c
   M /trunk/epan/dissectors/packet-HI2Operations.c
   M /trunk/epan/dissectors/packet-aarp.c
   M /trunk/epan/dissectors/packet-acap.c
   M /trunk/epan/dissectors/packet-actrace.c
   M /trunk/epan/dissectors/packet-adwin.c
   M /trunk/epan/dissectors/packet-agentx.c
   M /trunk/epan/dissectors/packet-aim-oft.c
   M /trunk/epan/dissectors/packet-aim.c
   M /trunk/epan/dissectors/packet-airopeek.c
   M /trunk/epan/dissectors/packet-ajp13.c
   M /trunk/epan/dissectors/packet-alcap.c
   M /trunk/epan/dissectors/packet-amqp.c
   M /trunk/epan/dissectors/packet-amr.c
   M /trunk/epan/dissectors/packet-ancp.c
   M /trunk/epan/dissectors/packet-ans.c
   M /trunk/epan/dissectors/packet-ansi_637.c
   M /trunk/epan/dissectors/packet-ansi_683.c
   M /trunk/epan/dissectors/packet-ansi_801.c
   M /trunk/epan/dissectors/packet-ansi_a.c
   M /trunk/epan/dissectors/packet-ansi_map.c
   M /trunk/epan/dissectors/packet-ansi_tcap.c
   M /trunk/epan/dissectors/packet-aodv.c
   M /trunk/epan/dissectors/packet-aoe.c
   M /trunk/epan/dissectors/packet-ap1394.c
   M /trunk/epan/dissectors/packet-arcnet.c
   M /trunk/epan/dissectors/packet-armagetronad.c
   M /trunk/epan/dissectors/packet-arp.c
   M /trunk/epan/dissectors/packet-artnet.c
   M /trunk/epan/dissectors/packet-aruba-adp.c
   M /trunk/epan/dissectors/packet-aruba-erm.c
   M /trunk/epan/dissectors/packet-aruba-papi.c
   M /trunk/epan/dissectors/packet-asap.c
   M /trunk/epan/dissectors/packet-ascend.c
   M /trunk/epan/dissectors/packet-asf.c
   M /trunk/epan/dissectors/packet-assa_r3.c
   M /trunk/epan/dissectors/packet-atalk.c
   M /trunk/epan/dissectors/packet-atm.c
   M /trunk/epan/dissectors/packet-auto_rp.c
   M /trunk/epan/dissectors/packet-ax4000.c
   M /trunk/epan/dissectors/packet-ayiya.c
   M /trunk/epan/dissectors/packet-bacapp.c
   M /trunk/epan/dissectors/packet-bacnet.c
   M /trunk/epan/dissectors/packet-banana.c
   M /trunk/epan/dissectors/packet-bat.c
   M /trunk/epan/dissectors/packet-batadv.c
   M /trunk/epan/dissectors/packet-bctp.c
   M /trunk/epan/dissectors/packet-beep.c
   M /trunk/epan/dissectors/packet-ber.c
   M /trunk/epan/dissectors/packet-bfd.c
   M /trunk/epan/dissectors/packet-bgp.c
   M /trunk/epan/dissectors/packet-bittorrent.c
   M /trunk/epan/dissectors/packet-bjnp.c
   M /trunk/epan/dissectors/packet-bofl.c
   M /trunk/epan/dissectors/packet-bootp.c
   M /trunk/epan/dissectors/packet-bpdu.c
   M /trunk/epan/dissectors/packet-brdwlk.c
   M /trunk/epan/dissectors/packet-bssap.c
   M /trunk/epan/dissectors/packet-btamp.c
   M /trunk/epan/dissectors/packet-bthci_acl.c
   M /trunk/epan/dissectors/packet-bthci_cmd.c
   M /trunk/epan/dissectors/packet-bthci_evt.c
   M /trunk/epan/dissectors/packet-bthci_sco.c
   M /trunk/epan/dissectors/packet-btl2cap.c
   M /trunk/epan/dissectors/packet-btrfcomm.c
   M /trunk/epan/dissectors/packet-btsdp.c
   M /trunk/epan/dissectors/packet-bvlc.c
   M /trunk/epan/dissectors/packet-calcappprotocol.c
   M /trunk/epan/dissectors/packet-capwap.c
   M /trunk/epan/dissectors/packet-cast.c
   M /trunk/epan/dissectors/packet-catapult-dct2000.c
   M /trunk/epan/dissectors/packet-cdp.c
   M /trunk/epan/dissectors/packet-cfm.c
   M /trunk/epan/dissectors/packet-cgmp.c
   M /trunk/epan/dissectors/packet-chdlc.c
   M /trunk/epan/dissectors/packet-cimetrics.c
   M /trunk/epan/dissectors/packet-cip.c
   M /trunk/epan/dissectors/packet-cisco-erspan.c
   M /trunk/epan/dissectors/packet-cisco-wids.c
   M /trunk/epan/dissectors/packet-classicstun.c
   M /trunk/epan/dissectors/packet-clip.c
   M /trunk/epan/dissectors/packet-clnp.c
   M /trunk/epan/dissectors/packet-cmp.c
   M /trunk/epan/dissectors/packet-cmpp.c
   M /trunk/epan/dissectors/packet-coap.c
   M /trunk/epan/dissectors/packet-collectd.c
   M /trunk/epan/dissectors/packet-componentstatus.c
   M /trunk/epan/dissectors/packet-cops.c
   M /trunk/epan/dissectors/packet-cosine.c
   M /trunk/epan/dissectors/packet-cpfi.c
   M /trunk/epan/dissectors/packet-cpha.c
   M /trunk/epan/dissectors/packet-csm-encaps.c
   M /trunk/epan/dissectors/packet-cups.c
   M /trunk/epan/dissectors/packet-dap.c
   M /trunk/epan/dissectors/packet-daytime.c
   M /trunk/epan/dissectors/packet-db-lsp.c
   M /trunk/epan/dissectors/packet-dccp.c
   M /trunk/epan/dissectors/packet-dcm.c
   M /trunk/epan/dissectors/packet-dcp-etsi.c
   M /trunk/epan/dissectors/packet-ddtp.c
   M /trunk/epan/dissectors/packet-dec-bpdu.c
   M /trunk/epan/dissectors/packet-dec-dnart.c
   M /trunk/epan/dissectors/packet-dect.c
   M /trunk/epan/dissectors/packet-dhcp-failover.c
   M /trunk/epan/dissectors/packet-dhcpv6.c
   M /trunk/epan/dissectors/packet-diameter.c
   M /trunk/epan/dissectors/packet-diameter_3gpp.c
   M /trunk/epan/dissectors/packet-dis.c
   M /trunk/epan/dissectors/packet-disp.c
   M /trunk/epan/dissectors/packet-distcc.c
   M /trunk/epan/dissectors/packet-dlm3.c
   M /trunk/epan/dissectors/packet-dlsw.c
   M /trunk/epan/dissectors/packet-dmp.c
   M /trunk/epan/dissectors/packet-dnp.c
   M /trunk/epan/dissectors/packet-dns.c
   M /trunk/epan/dissectors/packet-dop.c
   M /trunk/epan/dissectors/packet-dpnss-link.c
   M /trunk/epan/dissectors/packet-dsi.c
   M /trunk/epan/dissectors/packet-dsp.c
   M /trunk/epan/dissectors/packet-dtn.c
   M /trunk/epan/dissectors/packet-dtp.c
   M /trunk/epan/dissectors/packet-dtpt.c
   M /trunk/epan/dissectors/packet-dua.c
   M /trunk/epan/dissectors/packet-eap.c
   M /trunk/epan/dissectors/packet-eapol.c
   M /trunk/epan/dissectors/packet-echo.c
   M /trunk/epan/dissectors/packet-edonkey.c
   M /trunk/epan/dissectors/packet-egd.c
   M /trunk/epan/dissectors/packet-eigrp.c
   M /trunk/epan/dissectors/packet-enc.c
   M /trunk/epan/dissectors/packet-enip.c
   M /trunk/epan/dissectors/packet-enrp.c
   M /trunk/epan/dissectors/packet-enttec.c
   M /trunk/epan/dissectors/packet-epl.c
   M /trunk/epan/dissectors/packet-epl_v1.c
   M /trunk/epan/dissectors/packet-epmd.c
   M /trunk/epan/dissectors/packet-erf.c
   M /trunk/epan/dissectors/packet-esio.c
   M /trunk/epan/dissectors/packet-esis.c
   M /trunk/epan/dissectors/packet-etch.c
   M /trunk/epan/dissectors/packet-eth.c
   M /trunk/epan/dissectors/packet-etherip.c
   M /trunk/epan/dissectors/packet-ethertype.c
   M /trunk/epan/dissectors/packet-evrc.c
   M /trunk/epan/dissectors/packet-exec.c
   M /trunk/epan/dissectors/packet-extreme.c
   M /trunk/epan/dissectors/packet-fc.c
   M /trunk/epan/dissectors/packet-fcct.c
   M /trunk/epan/dissectors/packet-fcdns.c
   M /trunk/epan/dissectors/packet-fcels.c
   M /trunk/epan/dissectors/packet-fcfcs.c
   M /trunk/epan/dissectors/packet-fcfzs.c
   M /trunk/epan/dissectors/packet-fcgi.c
   M /trunk/epan/dissectors/packet-fcoe.c
   M /trunk/epan/dissectors/packet-fcp.c
   M /trunk/epan/dissectors/packet-fcsb3.c
   M /trunk/epan/dissectors/packet-fcswils.c
   M /trunk/epan/dissectors/packet-fddi.c
   M /trunk/epan/dissectors/packet-fefd.c
   M /trunk/epan/dissectors/packet-ff.c
   M /trunk/epan/dissectors/packet-fip.c
   M /trunk/epan/dissectors/packet-fix.c
   M /trunk/epan/dissectors/packet-flip.c
   M /trunk/epan/dissectors/packet-fr.c
   M /trunk/epan/dissectors/packet-fractalgeneratorprotocol.c
   M /trunk/epan/dissectors/packet-frame.c
   M /trunk/epan/dissectors/packet-ftp.c
   M /trunk/epan/dissectors/packet-g723.c
   M /trunk/epan/dissectors/packet-gdsdb.c
   M /trunk/epan/dissectors/packet-gift.c
   M /trunk/epan/dissectors/packet-git.c
   M /trunk/epan/dissectors/packet-glbp.c
   M /trunk/epan/dissectors/packet-gmhdr.c
   M /trunk/epan/dissectors/packet-gnutella.c
   M /trunk/epan/dissectors/packet-goose.c
   M /trunk/epan/dissectors/packet-gopher.c
   M /trunk/epan/dissectors/packet-gprs-llc.c
   M /trunk/epan/dissectors/packet-gre.c
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c
   M /trunk/epan/dissectors/packet-gsm_a_dtap.c
   M /trunk/epan/dissectors/packet-gsm_a_gm.c
   M /trunk/epan/dissectors/packet-gsm_a_rp.c
   M /trunk/epan/dissectors/packet-gsm_bssmap_le.c
   M /trunk/epan/dissectors/packet-gsm_ipa.c
   M /trunk/epan/dissectors/packet-gsm_map.c
   M /trunk/epan/dissectors/packet-gsm_sms.c
   M /trunk/epan/dissectors/packet-gsm_sms_ud.c
   M /trunk/epan/dissectors/packet-gsm_um.c
   M /trunk/epan/dissectors/packet-gsmtap.c
   M /trunk/epan/dissectors/packet-gtp.c
   M /trunk/epan/dissectors/packet-gtpv2.c
   M /trunk/epan/dissectors/packet-gvcp.c
   M /trunk/epan/dissectors/packet-h221_nonstd.c
   M /trunk/epan/dissectors/packet-h223.c
   M /trunk/epan/dissectors/packet-h225.c
   M /trunk/epan/dissectors/packet-h245.c
   M /trunk/epan/dissectors/packet-h248.c
   M /trunk/epan/dissectors/packet-h261.c
   M /trunk/epan/dissectors/packet-h263p.c
   M /trunk/epan/dissectors/packet-h264.c
   M /trunk/epan/dissectors/packet-h450-ros.c
   M /trunk/epan/dissectors/packet-h450.c
   M /trunk/epan/dissectors/packet-h501.c
   M /trunk/epan/dissectors/packet-hci_h1.c
   M /trunk/epan/dissectors/packet-hci_h4.c
   M /trunk/epan/dissectors/packet-hip.c
   M /trunk/epan/dissectors/packet-hnbap.c
   M /trunk/epan/dissectors/packet-homeplug.c
   M /trunk/epan/dissectors/packet-hp-erm.c
   M /trunk/epan/dissectors/packet-hpext.c
   M /trunk/epan/dissectors/packet-hpsw.c
   M /trunk/epan/dissectors/packet-hpteam.c
   M /trunk/epan/dissectors/packet-hsrp.c
   M /trunk/epan/dissectors/packet-http.c
   M /trunk/epan/dissectors/packet-hyperscsi.c
   M /trunk/epan/dissectors/packet-i2c.c
   M /trunk/epan/dissectors/packet-iapp.c
   M /trunk/epan/dissectors/packet-iax2.c
   M /trunk/epan/dissectors/packet-icap.c
   M /trunk/epan/dissectors/packet-icmp.c
   M /trunk/epan/dissectors/packet-icmpv6.c
   M /trunk/epan/dissectors/packet-icp.c
   M /trunk/epan/dissectors/packet-icq.c
   M /trunk/epan/dissectors/packet-idmp.c
   M /trunk/epan/dissectors/packet-idp.c
   M /trunk/epan/dissectors/packet-iec104.c
   M /trunk/epan/dissectors/packet-ieee1722.c
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/epan/dissectors/packet-ieee802154.c
   M /trunk/epan/dissectors/packet-ieee8021ah.c
   M /trunk/epan/dissectors/packet-ieee802a.c
   M /trunk/epan/dissectors/packet-igmp.c
   M /trunk/epan/dissectors/packet-igrp.c
   M /trunk/epan/dissectors/packet-image-jfif.c
   M /trunk/epan/dissectors/packet-imap.c
   M /trunk/epan/dissectors/packet-infiniband.c
   M /trunk/epan/dissectors/packet-ip.c
   M /trunk/epan/dissectors/packet-ipdc.c
   M /trunk/epan/dissectors/packet-ipfc.c
   M /trunk/epan/dissectors/packet-ipmi-session.c
   M /trunk/epan/dissectors/packet-ipnet.c
   M /trunk/epan/dissectors/packet-ipsec-tcp.c
   M /trunk/epan/dissectors/packet-ipsec-udp.c
   M /trunk/epan/dissectors/packet-ipsec.c
   M /trunk/epan/dissectors/packet-ipsi-ctl.c
   M /trunk/epan/dissectors/packet-ipv6.c
   M /trunk/epan/dissectors/packet-ipvs-syncd.c
   M /trunk/epan/dissectors/packet-ipx.c
   M /trunk/epan/dissectors/packet-ipxwan.c
   M /trunk/epan/dissectors/packet-irc.c
   M /trunk/epan/dissectors/packet-isakmp.c
   M /trunk/epan/dissectors/packet-isdn.c
   M /trunk/epan/dissectors/packet-isis.c
   M /trunk/epan/dissectors/packet-ismacryp.c
   M /trunk/epan/dissectors/packet-ismp.c
   M /trunk/epan/dissectors/packet-isns.c
   M /trunk/epan/dissectors/packet-isup.c
   M /trunk/epan/dissectors/packet-itdm.c
   M /trunk/epan/dissectors/packet-iua.c
   M /trunk/epan/dissectors/packet-iuup.c
   M /trunk/epan/dissectors/packet-jabber.c
   M /trunk/epan/dissectors/packet-jmirror.c
   M /trunk/epan/dissectors/packet-jpeg.c
   M /trunk/epan/dissectors/packet-juniper.c
   M /trunk/epan/dissectors/packet-k12.c
   M /trunk/epan/dissectors/packet-kdp.c
   M /trunk/epan/dissectors/packet-kerberos.c
   M /trunk/epan/dissectors/packet-kerberos4.c
   M /trunk/epan/dissectors/packet-kingfisher.c
   M /trunk/epan/dissectors/packet-kink.c
   M /trunk/epan/dissectors/packet-kismet.c
   M /trunk/epan/dissectors/packet-kpasswd.c
   M /trunk/epan/dissectors/packet-l1-events.c
   M /trunk/epan/dissectors/packet-l2tp.c
   M /trunk/epan/dissectors/packet-lapb.c
   M /trunk/epan/dissectors/packet-lapbether.c
   M /trunk/epan/dissectors/packet-lapd.c
   M /trunk/epan/dissectors/packet-lapdm.c
   M /trunk/epan/dissectors/packet-laplink.c
   M /trunk/epan/dissectors/packet-ldap.c
   M /trunk/epan/dissectors/packet-ldp.c
   M /trunk/epan/dissectors/packet-ldss.c
   M /trunk/epan/dissectors/packet-lge_monitor.c
   M /trunk/epan/dissectors/packet-linx.c
   M /trunk/epan/dissectors/packet-llc.c
   M /trunk/epan/dissectors/packet-lldp.c
   M /trunk/epan/dissectors/packet-llt.c
   M /trunk/epan/dissectors/packet-lmi.c
   M /trunk/epan/dissectors/packet-lmp.c
   M /trunk/epan/dissectors/packet-loop.c
   M /trunk/epan/dissectors/packet-lpd.c
   M /trunk/epan/dissectors/packet-lsc.c
   M /trunk/epan/dissectors/packet-ltp.c
   M /trunk/epan/dissectors/packet-lwapp.c
   M /trunk/epan/dissectors/packet-lwres.c
   M /trunk/epan/dissectors/packet-m2pa.c
   M /trunk/epan/dissectors/packet-m2tp.c
   M /trunk/epan/dissectors/packet-m2ua.c
   M /trunk/epan/dissectors/packet-m3ua.c
   M /trunk/epan/dissectors/packet-maccontrol.c
   M /trunk/epan/dissectors/packet-mactelnet.c
   M /trunk/epan/dissectors/packet-manolito.c
   M /trunk/epan/dissectors/packet-mbtcp.c
   M /trunk/epan/dissectors/packet-mdshdr.c
   M /trunk/epan/dissectors/packet-megaco.c
   M /trunk/epan/dissectors/packet-memcache.c
   M /trunk/epan/dissectors/packet-meta.c
   M /trunk/epan/dissectors/packet-mgcp.c
   M /trunk/epan/dissectors/packet-mikey.c
   M /trunk/epan/dissectors/packet-mip.c
   M /trunk/epan/dissectors/packet-mip6.c
   M /trunk/epan/dissectors/packet-mongo.c
   M /trunk/epan/dissectors/packet-mp2t.c
   M /trunk/epan/dissectors/packet-mp4ves.c
   M /trunk/epan/dissectors/packet-mpeg-pes.c
   M /trunk/epan/dissectors/packet-mpeg1.c
   M /trunk/epan/dissectors/packet-mpls-echo.c
   M /trunk/epan/dissectors/packet-mpls.c
   M /trunk/epan/dissectors/packet-mq.c
   M /trunk/epan/dissectors/packet-mrp-msrp.c
   M /trunk/epan/dissectors/packet-ms-mms.c
   M /trunk/epan/dissectors/packet-msdp.c
   M /trunk/epan/dissectors/packet-msn-messenger.c
   M /trunk/epan/dissectors/packet-msnlb.c
   M /trunk/epan/dissectors/packet-msproxy.c
   M /trunk/epan/dissectors/packet-mstp.c
   M /trunk/epan/dissectors/packet-mtp2.c
   M /trunk/epan/dissectors/packet-mtp3.c
   M /trunk/epan/dissectors/packet-mtp3mg.c
   M /trunk/epan/dissectors/packet-mysql.c
   M /trunk/epan/dissectors/packet-nasdaq-soup.c
   M /trunk/epan/dissectors/packet-nat-pmp.c
   M /trunk/epan/dissectors/packet-nbap.c
   M /trunk/epan/dissectors/packet-nbipx.c
   M /trunk/epan/dissectors/packet-nbns.c
   M /trunk/epan/dissectors/packet-ncp.c
   M /trunk/epan/dissectors/packet-ncs.c
   M /trunk/epan/dissectors/packet-ndmp.c
   M /trunk/epan/dissectors/packet-ndp.c
   M /trunk/epan/dissectors/packet-ndps.c
   M /trunk/epan/dissectors/packet-netbios.c
   M /trunk/epan/dissectors/packet-netdump.c
   M /trunk/epan/dissectors/packet-netflow.c
   M /trunk/epan/dissectors/packet-netmon-802_11.c
   M /trunk/epan/dissectors/packet-netperfmeter.c
   M /trunk/epan/dissectors/packet-netsync.c
   M /trunk/epan/dissectors/packet-nettl.c
   M /trunk/epan/dissectors/packet-newmail.c
   M /trunk/epan/dissectors/packet-nfs.c
   M /trunk/epan/dissectors/packet-nhrp.c
   M /trunk/epan/dissectors/packet-nlsp.c
   M /trunk/epan/dissectors/packet-nntp.c
   M /trunk/epan/dissectors/packet-nsip.c
   M /trunk/epan/dissectors/packet-nsrp.c
   M /trunk/epan/dissectors/packet-nstrace.c
   M /trunk/epan/dissectors/packet-nt-tpcp.c
   M /trunk/epan/dissectors/packet-ntp.c
   M /trunk/epan/dissectors/packet-null.c
   M /trunk/epan/dissectors/packet-oicq.c
   M /trunk/epan/dissectors/packet-olsr.c
   M /trunk/epan/dissectors/packet-omapi.c
   M /trunk/epan/dissectors/packet-omron-fins.c
   M /trunk/epan/dissectors/packet-opsi.c
   M /trunk/epan/dissectors/packet-osi.c
   M /trunk/epan/dissectors/packet-ositp.c
   M /trunk/epan/dissectors/packet-ospf.c
   M /trunk/epan/dissectors/packet-p7.c
   M /trunk/epan/dissectors/packet-p_mul.c
   M /trunk/epan/dissectors/packet-packetbb.c
   M /trunk/epan/dissectors/packet-packetlogger.c
   M /trunk/epan/dissectors/packet-pagp.c
   M /trunk/epan/dissectors/packet-pcap.c
   M /trunk/epan/dissectors/packet-pcep.c
   M /trunk/epan/dissectors/packet-pcli.c
   M /trunk/epan/dissectors/packet-pflog.c
   M /trunk/epan/dissectors/packet-pgm.c
   M /trunk/epan/dissectors/packet-pgsql.c
   M /trunk/epan/dissectors/packet-pim.c
   M /trunk/epan/dissectors/packet-pingpongprotocol.c
   M /trunk/epan/dissectors/packet-pktc.c
   M /trunk/epan/dissectors/packet-pnrp.c
   M /trunk/epan/dissectors/packet-pop.c
   M /trunk/epan/dissectors/packet-ppi.c
   M /trunk/epan/dissectors/packet-ppp.c
   M /trunk/epan/dissectors/packet-pppoe.c
   M /trunk/epan/dissectors/packet-pptp.c
   M /trunk/epan/dissectors/packet-prp.c
   M /trunk/epan/dissectors/packet-ptp.c
   M /trunk/epan/dissectors/packet-pvfs2.c
   M /trunk/epan/dissectors/packet-pw-atm.c
   M /trunk/epan/dissectors/packet-pw-cesopsn.c
   M /trunk/epan/dissectors/packet-pw-eth.c
   M /trunk/epan/dissectors/packet-pw-fr.c
   M /trunk/epan/dissectors/packet-pw-hdlc.c
   M /trunk/epan/dissectors/packet-pw-satop.c
   M /trunk/epan/dissectors/packet-q931.c
   M /trunk/epan/dissectors/packet-q932-ros.c
   M /trunk/epan/dissectors/packet-q932.c
   M /trunk/epan/dissectors/packet-q933.c
   M /trunk/epan/dissectors/packet-qsig.c
   M /trunk/epan/dissectors/packet-quake.c
   M /trunk/epan/dissectors/packet-quake2.c
   M /trunk/epan/dissectors/packet-quake3.c
   M /trunk/epan/dissectors/packet-quakeworld.c
   M /trunk/epan/dissectors/packet-radiotap.c
   M /trunk/epan/dissectors/packet-radius.c
   M /trunk/epan/dissectors/packet-ranap.c
   M /trunk/epan/dissectors/packet-raw.c
   M /trunk/epan/dissectors/packet-rdt.c
   M /trunk/epan/dissectors/packet-redback.c
   M /trunk/epan/dissectors/packet-reload-framing.c
   M /trunk/epan/dissectors/packet-rfc2190.c
   M /trunk/epan/dissectors/packet-rip.c
   M /trunk/epan/dissectors/packet-ripng.c
   M /trunk/epan/dissectors/packet-rlogin.c
   M /trunk/epan/dissectors/packet-rmcp.c
   M /trunk/epan/dissectors/packet-rmi.c
   M /trunk/epan/dissectors/packet-rmp.c
   M /trunk/epan/dissectors/packet-rmt-alc.c
   M /trunk/epan/dissectors/packet-rnsap.c
   M /trunk/epan/dissectors/packet-roofnet.c
   M /trunk/epan/dissectors/packet-rpc.c
   M /trunk/epan/dissectors/packet-rpcap.c
   M /trunk/epan/dissectors/packet-rpl.c
   M /trunk/epan/dissectors/packet-rsh.c
   M /trunk/epan/dissectors/packet-rsl.c
   M /trunk/epan/dissectors/packet-rsvp.c
   M /trunk/epan/dissectors/packet-rsync.c
   M /trunk/epan/dissectors/packet-rtmpt.c
   M /trunk/epan/dissectors/packet-rtnet.c
   M /trunk/epan/dissectors/packet-rtp-events.c
   M /trunk/epan/dissectors/packet-rtp.c
   M /trunk/epan/dissectors/packet-rtsp.c
   M /trunk/epan/dissectors/packet-rua.c
   M /trunk/epan/dissectors/packet-rudp.c
   M /trunk/epan/dissectors/packet-rx.c
   M /trunk/epan/dissectors/packet-s1ap.c
   M /trunk/epan/dissectors/packet-s5066.c
   M /trunk/epan/dissectors/packet-sabp.c
   M /trunk/epan/dissectors/packet-sametime.c
   M /trunk/epan/dissectors/packet-sap.c
   M /trunk/epan/dissectors/packet-sasp.c
   M /trunk/epan/dissectors/packet-sbus.c
   M /trunk/epan/dissectors/packet-sccp.c
   M /trunk/epan/dissectors/packet-sccpmg.c
   M /trunk/epan/dissectors/packet-scop.c
   M /trunk/epan/dissectors/packet-scriptingservice.c
   M /trunk/epan/dissectors/packet-sctp.c
   M /trunk/epan/dissectors/packet-sdlc.c
   M /trunk/epan/dissectors/packet-sdp.c
   M /trunk/epan/dissectors/packet-sebek.c
   M /trunk/epan/dissectors/packet-sflow.c
   M /trunk/epan/dissectors/packet-sigcomp.c
   M /trunk/epan/dissectors/packet-simulcrypt.c
   M /trunk/epan/dissectors/packet-sip.c
   M /trunk/epan/dissectors/packet-sita.c
   M /trunk/epan/dissectors/packet-skinny.c
   M /trunk/epan/dissectors/packet-slimp3.c
   M /trunk/epan/dissectors/packet-sll.c
   M /trunk/epan/dissectors/packet-slowprotocols.c
   M /trunk/epan/dissectors/packet-slsk.c
   M /trunk/epan/dissectors/packet-smb.c
   M /trunk/epan/dissectors/packet-smrse.c
   M /trunk/epan/dissectors/packet-smtp.c
   M /trunk/epan/dissectors/packet-sna.c
   M /trunk/epan/dissectors/packet-snaeth.c
   M /trunk/epan/dissectors/packet-sndcp.c
   M /trunk/epan/dissectors/packet-snmp.c
   M /trunk/epan/dissectors/packet-socketcan.c
   M /trunk/epan/dissectors/packet-socks.c
   M /trunk/epan/dissectors/packet-spp.c
   M /trunk/epan/dissectors/packet-sqloracle.c
   M /trunk/epan/dissectors/packet-srvloc.c
   M /trunk/epan/dissectors/packet-sscop.c
   M /trunk/epan/dissectors/packet-ssh.c
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/epan/dissectors/packet-stun.c
   M /trunk/epan/dissectors/packet-sua.c
   M /trunk/epan/dissectors/packet-sv.c
   M /trunk/epan/dissectors/packet-symantec.c
   M /trunk/epan/dissectors/packet-synergy.c
   M /trunk/epan/dissectors/packet-synphasor.c
   M /trunk/epan/dissectors/packet-syslog.c
   M /trunk/epan/dissectors/packet-t38.c
   M /trunk/epan/dissectors/packet-tacacs.c
   M /trunk/epan/dissectors/packet-tapa.c
   M /trunk/epan/dissectors/packet-tcap.c
   M /trunk/epan/dissectors/packet-tcp.c
   M /trunk/epan/dissectors/packet-tdmoe.c
   M /trunk/epan/dissectors/packet-tds.c
   M /trunk/epan/dissectors/packet-teamspeak2.c
   M /trunk/epan/dissectors/packet-teimanagement.c
   M /trunk/epan/dissectors/packet-telkonet.c
   M /trunk/epan/dissectors/packet-telnet.c
   M /trunk/epan/dissectors/packet-teredo.c
   M /trunk/epan/dissectors/packet-tftp.c
   M /trunk/epan/dissectors/packet-time.c
   M /trunk/epan/dissectors/packet-tipc.c
   M /trunk/epan/dissectors/packet-tivoconnect.c
   M /trunk/epan/dissectors/packet-tnef.c
   M /trunk/epan/dissectors/packet-tns.c
   M /trunk/epan/dissectors/packet-tpkt.c
   M /trunk/epan/dissectors/packet-tpncp.c
   M /trunk/epan/dissectors/packet-tr.c
   M /trunk/epan/dissectors/packet-trill.c
   M /trunk/epan/dissectors/packet-tsp.c
   M /trunk/epan/dissectors/packet-tte-pcf.c
   M /trunk/epan/dissectors/packet-tzsp.c
   M /trunk/epan/dissectors/packet-udld.c
   M /trunk/epan/dissectors/packet-udp.c
   M /trunk/epan/dissectors/packet-ulp.c
   M /trunk/epan/dissectors/packet-uma.c
   M /trunk/epan/dissectors/packet-usb-hid.c
   M /trunk/epan/dissectors/packet-usb-hub.c
   M /trunk/epan/dissectors/packet-usb-masstorage.c
   M /trunk/epan/dissectors/packet-usb.c
   M /trunk/epan/dissectors/packet-user_encap.c
   M /trunk/epan/dissectors/packet-v5ua.c
   M /trunk/epan/dissectors/packet-vicp.c
   M /trunk/epan/dissectors/packet-vines.c
   M /trunk/epan/dissectors/packet-vj.c
   M /trunk/epan/dissectors/packet-vmlab.c
   M /trunk/epan/dissectors/packet-vnc.c
   M /trunk/epan/dissectors/packet-vrrp.c
   M /trunk/epan/dissectors/packet-vtp.c
   M /trunk/epan/dissectors/packet-wai.c
   M /trunk/epan/dissectors/packet-wassp.c
   M /trunk/epan/dissectors/packet-wccp.c
   M /trunk/epan/dissectors/packet-wcp.c
   M /trunk/epan/dissectors/packet-wfleet-hdlc.c
   M /trunk/epan/dissectors/packet-who.c
   M /trunk/epan/dissectors/packet-winsrepl.c
   M /trunk/epan/dissectors/packet-wlccp.c
   M /trunk/epan/dissectors/packet-wol.c
   M /trunk/epan/dissectors/packet-wow.c
   M /trunk/epan/dissectors/packet-wsmp.c
   M /trunk/epan/dissectors/packet-wsp.c
   M /trunk/epan/dissectors/packet-wtls.c
   M /trunk/epan/dissectors/packet-wtp.c
   M /trunk/epan/dissectors/packet-x11.c
   M /trunk/epan/dissectors/packet-x25.c
   M /trunk/epan/dissectors/packet-x29.c
   M /trunk/epan/dissectors/packet-x2ap.c
   M /trunk/epan/dissectors/packet-x411.c
   M /trunk/epan/dissectors/packet-x509ce.c
   M /trunk/epan/dissectors/packet-xdmcp.c
   M /trunk/epan/dissectors/packet-xml.c
   M /trunk/epan/dissectors/packet-xot.c
   M /trunk/epan/dissectors/packet-xtp.c
   M /trunk/epan/dissectors/packet-xyplex.c
   M /trunk/epan/dissectors/packet-zbee-aps.c
   M /trunk/epan/dissectors/packet-zbee-zcl.c
   M /trunk/epan/dissectors/packet-zbee-zdp.c
   M /trunk/epan/dissectors/packet-zebra.c
   M /trunk/epan/dissectors/packet-zep.c
   M /trunk/epan/libwireshark.def
   M /trunk/epan/next_tvb.c
   M /trunk/epan/next_tvb.h
   M /trunk/epan/packet.c
   M /trunk/epan/packet.h
   M /trunk/epan/packet_info.h
   M /trunk/epan/wslua/wslua_pinfo.c
   M /trunk/epan/wslua/wslua_proto.c
   M /trunk/gtk/decode_as_dlg.c
   M /trunk/plugins/asn1/packet-asn1.c
   M /trunk/plugins/docsis/packet-bintrngreq.c
   M /trunk/plugins/docsis/packet-bpkmattr.c
   M /trunk/plugins/docsis/packet-bpkmreq.c
   M /trunk/plugins/docsis/packet-bpkmrsp.c
   M /trunk/plugins/docsis/packet-cmctrlreq.c
   M /trunk/plugins/docsis/packet-cmctrlrsp.c
   M /trunk/plugins/docsis/packet-dbcack.c
   M /trunk/plugins/docsis/packet-dbcreq.c
   M /trunk/plugins/docsis/packet-dbcrsp.c
   M /trunk/plugins/docsis/packet-dccack.c
   M /trunk/plugins/docsis/packet-dccreq.c
   M /trunk/plugins/docsis/packet-dccrsp.c
   M /trunk/plugins/docsis/packet-dcd.c
   M /trunk/plugins/docsis/packet-docsis.c
   M /trunk/plugins/docsis/packet-dpvreq.c
   M /trunk/plugins/docsis/packet-dpvrsp.c
   M /trunk/plugins/docsis/packet-dsaack.c
   M /trunk/plugins/docsis/packet-dsareq.c
   M /trunk/plugins/docsis/packet-dsarsp.c
   M /trunk/plugins/docsis/packet-dscack.c
   M /trunk/plugins/docsis/packet-dscreq.c
   M /trunk/plugins/docsis/packet-dscrsp.c
   M /trunk/plugins/docsis/packet-dsdreq.c
   M /trunk/plugins/docsis/packet-dsdrsp.c
   M /trunk/plugins/docsis/packet-intrngreq.c
   M /trunk/plugins/docsis/packet-macmgmt.c
   M /trunk/plugins/docsis/packet-map.c
   M /trunk/plugins/docsis/packet-mdd.c
   M /trunk/plugins/docsis/packet-regack.c
   M /trunk/plugins/docsis/packet-regreq.c
   M /trunk/plugins/docsis/packet-regreqmp.c
   M /trunk/plugins/docsis/packet-regrsp.c
   M /trunk/plugins/docsis/packet-regrspmp.c
   M /trunk/plugins/docsis/packet-rngreq.c
   M /trunk/plugins/docsis/packet-rngrsp.c
   M /trunk/plugins/docsis/packet-sync.c
   M /trunk/plugins/docsis/packet-tlv-cmctrl.c
   M /trunk/plugins/docsis/packet-tlv.c
   M /trunk/plugins/docsis/packet-type29ucd.c
   M /trunk/plugins/docsis/packet-uccreq.c
   M /trunk/plugins/docsis/packet-uccrsp.c
   M /trunk/plugins/docsis/packet-ucd.c
   M /trunk/plugins/docsis/packet-vendor.c
   M /trunk/plugins/ethercat/packet-ams.c
   M /trunk/plugins/ethercat/packet-ecatmb.c
   M /trunk/plugins/ethercat/packet-ethercat-datagram.c
   M /trunk/plugins/ethercat/packet-ethercat-frame.c
   M /trunk/plugins/ethercat/packet-ioraw.c
   M /trunk/plugins/ethercat/packet-nv.c
   M /trunk/plugins/gryphon/packet-gryphon.c
   M /trunk/plugins/interlink/packet-interlink.c
   M /trunk/plugins/irda/packet-irda.c
   M /trunk/plugins/irda/packet-sir.c
   M /trunk/plugins/m2m/packet-m2m.c
   M /trunk/plugins/opcua/opcua.c
   M /trunk/plugins/profinet/packet-pn-mrp.c
   M /trunk/plugins/profinet/packet-pn-rt.c
   M /trunk/plugins/sercosiii/packet-sercosiii_1v1.c
   M /trunk/plugins/tpg/packet-http.c
   M /trunk/plugins/unistim/packet-unistim.c
   M /trunk/plugins/wimax/packet-wmx.c
   M /trunk/plugins/wimaxasncp/packet-wimaxasncp.c
   M /trunk/tools/asn2wrs.py
   M /trunk/tshark.c

Rename the routines that handle dissector tables with unsigned integer
keys to have _uint in their names, to match the routines that handle
dissector tables with string keys.  (Using _port can confuse people into
thinking they're intended solely for use with TCP/UDP/etc. ports when,
in fact, they work better for things such as Ethernet types, where the
binding of particular values to particular protocols are a lot
stronger.)

------------------------------------------------------------------------
r35225 | guy | 2010-12-19 21:58:42 -0800 (Sun, 19 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/next_tvb.h

Another #define for old code.

------------------------------------------------------------------------
r35226 | jake | 2010-12-19 23:49:56 -0800 (Sun, 19 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-skinny.c

From Mathieu Parent:
* Support for XMLAlarmMessage (0x015A)
* every xml data is parsed using the XML dissector

------------------------------------------------------------------------
r35227 | jake | 2010-12-19 23:57:52 -0800 (Sun, 19 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dnp.c

From Rob Casey:
Patch to add support for DNP3 protocol Binary Output Change object type.

------------------------------------------------------------------------
r35228 | martinm | 2010-12-20 03:26:50 -0800 (Mon, 20 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

From Papan Kumar Singh (bug 5504 & 5505):
Add missing break so that PDCP-LTE direction is set properly.

------------------------------------------------------------------------
r35229 | morriss | 2010-12-20 08:39:09 -0800 (Mon, 20 Dec 2010) | 6 lines
Changed paths:
   M /trunk/tools/checkAPIs.pl

Deprecate dissector_add(), dissector_change(), dissector_delete(),
dissector_get_port_handle(), dissector_reset(), dissector_try_port(),
dissector_try_port_new(), and next_tvb_add_port().

Re-tabify the file.

------------------------------------------------------------------------
r35230 | wmeier | 2010-12-20 09:48:20 -0800 (Mon, 20 Dec 2010) | 3 lines
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_capture.xml

dissector_add() --> dissector_add_uint();
Rempve trailing blanks from lines.

------------------------------------------------------------------------
r35231 | cmaynard | 2010-12-20 09:48:26 -0800 (Mon, 20 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pim.c

Some PIM enhancements, mostly to allow more fields to be filterable.

------------------------------------------------------------------------
r35232 | cmaynard | 2010-12-20 10:16:12 -0800 (Mon, 20 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pim.c

Fix warnings with format.

------------------------------------------------------------------------
r35233 | morriss | 2010-12-20 12:54:33 -0800 (Mon, 20 Dec 2010) | 1 line
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_sources.xml

Saying that patches will be reviewed in "a few days" may be a bit optimistic.  Also point out that it's not necessary for patch submitters to mark the bug as ASSIGNED nor assign it to themselves.
------------------------------------------------------------------------
r35234 | sfisher | 2010-12-20 15:34:14 -0800 (Mon, 20 Dec 2010) | 10 lines
Changed paths:
   M /trunk/wiretap/commview.c


Fix bug #5509: CommView file format now uses reserved bytes and adds a 
new use for the direction field per:

  http://www.tamos.com/htmlhelp/commview/logformat.htm

Add basic support for new fields and don't reject files that fit the new
format.


------------------------------------------------------------------------
r35235 | jake | 2010-12-21 00:07:24 -0800 (Tue, 21 Dec 2010) | 3 lines
Changed paths:
   M /trunk/gtk/rtp_analysis.c

From Marc Giertzsch:
Dialog RTP Graph analysis is not showing forward and reverse delta.

------------------------------------------------------------------------
r35236 | jake | 2010-12-21 00:08:28 -0800 (Tue, 21 Dec 2010) | 2 lines
Changed paths:
   M /trunk/gtk/pixmap_save.c

Set default graph file format to more appropriate Portable Network Graphics.

------------------------------------------------------------------------
r35237 | martinm | 2010-12-21 09:46:25 -0800 (Tue, 21 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Be more consistent about how offset is updated while dissecting lte_rrc fields.
Show cell-id in info column (if don't manage to call RRC).

------------------------------------------------------------------------
r35238 | sfisher | 2010-12-21 09:51:35 -0800 (Tue, 21 Dec 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb-common.c


Fix indentation: change from a mixture of 2 and 4 spaces to tabs (which
is what packet-smb.c uses) and add extra line breaks.  Both changes are
for improved readbility of the frequent complex and cryptic loops.


------------------------------------------------------------------------
r35239 | cmaynard | 2010-12-21 11:45:16 -0800 (Tue, 21 Dec 2010) | 2 lines
Changed paths:
   M /trunk/packaging/nsis/Makefile.nmake

Removed duplicate rawshark.html entry from DOC.

------------------------------------------------------------------------
r35240 | wmeier | 2010-12-21 13:01:01 -0800 (Tue, 21 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/to_str.c

Add a comment about not needing to g_free() the value returned from g_locale_to_utf8().

------------------------------------------------------------------------
r35241 | jake | 2010-12-21 13:29:47 -0800 (Tue, 21 Dec 2010) | 12 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cigi.c

From daulis0@gmail.com:
There are 2 parts to the CIGI protocol. 1) Host to IG messages and 2) IG to
Host messages. Currently, Host to IG messages are parsed correctly, but IG to
Host messages show Malformed Packet (or may not even detect as CIGI at all)

Some of the protocol format is different between versions. The "Minor Version"
is used by the dissector to separate the differences, but this field is in a
different location in the IG Control Packet (Host to IG message) vs the Start
of Frame Packet (IG to Host message).

Attached patch to correct this.

------------------------------------------------------------------------
r35242 | jake | 2010-12-21 22:25:33 -0800 (Tue, 21 Dec 2010) | 2 lines
Changed paths:
   M /trunk/doc/README.developer
   M /trunk/epan/prefs.c

Allow for NULL preference descriptions.

------------------------------------------------------------------------
r35243 | stig | 2010-12-22 05:19:38 -0800 (Wed, 22 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-git.c

From Alexis La Goutte via bug 5514:
Fix a Git issue.

------------------------------------------------------------------------
r35244 | sake | 2010-12-22 09:25:06 -0800 (Wed, 22 Dec 2010) | 3 lines
Changed paths:
   M /trunk/gtk/menus.c
   M /trunk/gtk/new_packet_list.c
   M /trunk/gtk/new_packet_list.h

Fix marking functionality (bug 5279)


------------------------------------------------------------------------
r35245 | sfisher | 2010-12-22 10:53:21 -0800 (Wed, 22 Dec 2010) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssh.c


Change prefixes in #define:

  SSH -> SSH1
  SSH2 -> SSH

This will make it easier to compare the code to the SSH RFCs, which only
cover SSH version 2.


------------------------------------------------------------------------
r35246 | sfisher | 2010-12-22 11:46:57 -0800 (Wed, 22 Dec 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssh.c


Add #define and value_string entries for the remaining SSH message type
numbers as defined in RFC 4250.


------------------------------------------------------------------------
r35247 | jake | 2010-12-22 12:24:51 -0800 (Wed, 22 Dec 2010) | 3 lines
Changed paths:
   M /trunk/gtk/rtp_stream_dlg.c

Fix for bug 5513:
Prepare filter must take Fwd and Rev part in combined filter.

------------------------------------------------------------------------
r35248 | jake | 2010-12-22 15:09:31 -0800 (Wed, 22 Dec 2010) | 1 line
Changed paths:
   M /trunk/rawshark.c
   M /trunk/tap-rtp-common.c
   M /trunk/tshark.c

Avoid the need for cf_mark_frame stubs.
------------------------------------------------------------------------
r35249 | jake | 2010-12-22 15:28:23 -0800 (Wed, 22 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iec104.c

From Jiří Engelthaler:
Fixes computing of milliseconds in CP56time2a and add "bitstring of 32 bits" 
and "step position" support (ASDU types 5,7,32,33,47,51,60 and 64).

------------------------------------------------------------------------
r35250 | martinm | 2010-12-23 03:09:52 -0800 (Thu, 23 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Skip an outheader field.

------------------------------------------------------------------------
r35251 | martinm | 2010-12-23 04:16:37 -0800 (Thu, 23 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Properly read UL grant subframe number.

------------------------------------------------------------------------
r35252 | jake | 2010-12-23 09:45:02 -0800 (Thu, 23 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cfm.c

Fix for bug 5517:
MEG ID, ICC-based format is text, not binary.

------------------------------------------------------------------------
r35253 | sfisher | 2010-12-23 09:59:34 -0800 (Thu, 23 Dec 2010) | 6 lines
Changed paths:
   M /trunk/doc/README.developer
   M /trunk/epan/tvbuff.c
   M /trunk/epan/tvbuff.h


Introduce new function called tvb_get_ephemeral_unicode_stringz(), which
is a unicode (UTF-16) version of tvb_get_ephemeral_stringz().  It scans
a tvbuff for a UTF-16 string and converts it to UTF-8 upon return.


------------------------------------------------------------------------
r35254 | sfisher | 2010-12-23 10:01:28 -0800 (Thu, 23 Dec 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c


Proof of concept for using new tvb_get_ephemeral_unicode_stringz(), which was
just introduced in SVN revision 35253.  This new function has many more uses
in the SMB (and other) dissectors. 


------------------------------------------------------------------------
r35255 | sfisher | 2010-12-23 10:24:39 -0800 (Thu, 23 Dec 2010) | 5 lines
Changed paths:
   M /trunk/epan/tvbuff.c


Remove comment to myself that I forgot to remove before commiting r35253
and change comments to fit within 80 column display.


------------------------------------------------------------------------
r35256 | sfisher | 2010-12-23 10:26:25 -0800 (Thu, 23 Dec 2010) | 5 lines
Changed paths:
   M /trunk/epan/tvbuff.c


Add a couple more comments to new unicode function to remind us when a
variable is counting UTF-16 characters vs. normal bytes.


------------------------------------------------------------------------
r35257 | guy | 2010-12-23 13:22:55 -0800 (Thu, 23 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

Clean up indentation.

------------------------------------------------------------------------
r35258 | rbalint | 2010-12-23 15:36:48 -0800 (Thu, 23 Dec 2010) | 3 lines
Changed paths:
   M /trunk/tools/asn2wrs.py

Raise Exceptions containing a string instead of string exceptions
This fixes https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4846

------------------------------------------------------------------------
r35259 | jake | 2010-12-23 15:50:14 -0800 (Thu, 23 Dec 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc.c
   M /trunk/epan/dissectors/packet-dcerpc.h
   M /trunk/epan/dissectors/packet-http.c

From Julien Kerihuel:
I've just finished to write a ncacn_http dissector for Wireshark which
provides the ability to dissect Outlook anywhere packets properly (as
specified by [MS-RPCH].pdf documentation.

------------------------------------------------------------------------
r35260 | cmaynard | 2010-12-24 05:53:26 -0800 (Fri, 24 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bgp.c
   M /trunk/epan/dissectors/packet-bgp.h

Properly define and dissect BGP_EXT_COM_LINKBAND.  Fixes bug 4409 reported by
Max Ivanov.

------------------------------------------------------------------------
r35261 | guy | 2010-12-24 14:51:53 -0800 (Fri, 24 Dec 2010) | 4 lines
Changed paths:
   M /trunk/configure.in

We only need to do AC_PATH_PROG on flex once.

We don't define FLEX_PATH, so no need to AC_SUBST it.

------------------------------------------------------------------------
r35262 | guy | 2010-12-25 00:21:53 -0800 (Sat, 25 Dec 2010) | 2 lines
Changed paths:
   M /trunk/configure.in

Add a comment asking where to check for YACC/Bison and Flex.

------------------------------------------------------------------------
r35263 | gerald | 2010-12-26 08:03:29 -0800 (Sun, 26 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers

[Automatic manuf, services and enterprise-numbers update for 2010-12-26]
------------------------------------------------------------------------
r35266 | etxrab | 2010-12-26 13:06:08 -0800 (Sun, 26 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c
   M /trunk/epan/dissectors/packet-gsm_a_common.c
   M /trunk/epan/dissectors/packet-gsm_a_common.h
   A /trunk/epan/dissectors/packet-sgsap.c

Start of a SGSAP (TS 29.118) dissector for LTE.
------------------------------------------------------------------------
r35267 | etxrab | 2010-12-26 13:23:06 -0800 (Sun, 26 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c

Correct:
RESET IP RESOURCE
RESET IP RESOURCE ACKNOWLEDGE
Tags
------------------------------------------------------------------------
r35268 | martinm | 2010-12-26 15:40:22 -0800 (Sun, 26 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Only a new transmission grant should end a Scheduling Request.

------------------------------------------------------------------------
r35269 | etxrab | 2010-12-26 21:33:58 -0800 (Sun, 26 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.h
   M /trunk/epan/dissectors/packet-nas_eps.c

move the enum to packet-gsm_a_common to
make it possible to use element dissecton from this dissector
in other dissectors.
It is left in packet-nas_EPS.c as a comment for easier reference.
------------------------------------------------------------------------
r35270 | etxrab | 2010-12-27 00:23:55 -0800 (Mon, 27 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c

Try to apiece the Ubuntu buildbot.
------------------------------------------------------------------------
r35271 | etxrab | 2010-12-27 01:33:39 -0800 (Mon, 27 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c

Fix the Message numbering.
------------------------------------------------------------------------
r35272 | etxrab | 2010-12-27 02:57:42 -0800 (Mon, 27 Dec 2010) | 13 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-icmpv6.c
   M /trunk/epan/dissectors/packet-ipv6.h

From Alexis La Goutte:
ICMPv6 Enhancements : make ICMP option filterable (Part 2)

*Merge (and update) FMIPv6 Option with ND Option
*Make ICMP option filterable (use proto_tree_add_item..)
*Reorder ND Option
*Add dissector for RA Flags Extension (RFC5075)
*Add dissector for Handover Key Request/Reply (RFC5269)
*Add dissector for Handover Assist Info / Mobile Node ID (RFC5271)
*Add dissector for DNS Search List (RFC6106

From me removed a c++ style comment and changed 
to tvb_memcpy(tvb, (guint8 *)&prefix.bytes in a couple of places.
------------------------------------------------------------------------
r35273 | etxrab | 2010-12-27 07:15:55 -0800 (Mon, 27 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sgsap.c

Add more IE dissection.
------------------------------------------------------------------------
r35274 | sfisher | 2010-12-27 08:38:03 -0800 (Mon, 27 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sgsap.c


Fix build by #if 0 out unused de_sgsap_tmsi() function. 


------------------------------------------------------------------------
r35275 | etxrab | 2010-12-27 12:19:55 -0800 (Mon, 27 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sgsap.c

Remove de_sgsap_tmsi as it's not needed.
------------------------------------------------------------------------
r35276 | etxrab | 2010-12-27 12:23:26 -0800 (Mon, 27 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Add dissection of Radio Priority LCS.
------------------------------------------------------------------------
r35277 | guy | 2010-12-27 13:40:48 -0800 (Mon, 27 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/exceptions.h

Get rid of trailing white space.

------------------------------------------------------------------------
r35278 | sfisher | 2010-12-27 13:44:34 -0800 (Mon, 27 Dec 2010) | 6 lines
Changed paths:
   M /trunk/gtk/rtp_player.c


The RTP Player shows the number of seconds since the beginning of that
call's packet flow along the x-axis.  Add " s" to the end of each number
to give the user an idea those numbers are seconds.


------------------------------------------------------------------------
r35279 | sfisher | 2010-12-27 14:24:07 -0800 (Mon, 27 Dec 2010) | 4 lines
Changed paths:
   M /trunk/gtk/rtp_player.c


Clarify some comments


------------------------------------------------------------------------
r35280 | martinm | 2010-12-27 17:05:45 -0800 (Mon, 27 Dec 2010) | 2 lines
Changed paths:
   M /trunk/gtk/rlc_lte_stat_dlg.c

Add a tooltip.

------------------------------------------------------------------------
r35281 | martinm | 2010-12-27 17:06:51 -0800 (Mon, 27 Dec 2010) | 2 lines
Changed paths:
   M /trunk/gtk/mac_lte_stat_dlg.c

Add support for showing errors matching substrings (like LTE RLC stats supports).  TODO: fix the loayout/spacing....

------------------------------------------------------------------------
r35282 | jake | 2010-12-28 01:30:24 -0800 (Tue, 28 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wps.c

From Masashi Honma:
EAP WPS RF band may be '2.4 GHz and 5 GHz'.

------------------------------------------------------------------------
r35283 | jake | 2010-12-28 02:34:19 -0800 (Tue, 28 Dec 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c
   M /trunk/epan/dissectors/packet-ipv6.h

From Alexis La Goutte:
A patch to enchance the ICMPv6 dissector
- Update RFC Draft (draft-ietf-ipngwg-icmp-name-lookups-07/08) to Final RFC (RFC 4620)
- Make NI field filterable 
- ....

------------------------------------------------------------------------
r35284 | etxrab | 2010-12-28 03:23:47 -0800 (Tue, 28 Dec 2010) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml

Add application id="16777232" name="Ericsson Charging-CIP.
------------------------------------------------------------------------
r35285 | etxrab | 2010-12-28 03:24:46 -0800 (Tue, 28 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sgsap.c

Add dissection of NAS message container.
------------------------------------------------------------------------
r35286 | etxrab | 2010-12-28 04:36:26 -0800 (Tue, 28 Dec 2010) | 10 lines
Changed paths:
   M /trunk/asn1/ansi_map/packet-ansi_map-template.c
   M /trunk/epan/dissectors/packet-ansi_a.c
   M /trunk/epan/dissectors/packet-ansi_map.c
   M /trunk/epan/dissectors/packet-gsm_a_common.h
   M /trunk/epan/tvbuff.c
   M /trunk/epan/tvbuff.h

Add tvb_bcd_dig_to_ep_str()
/*
 * Given a tvbuff, an offset into the tvbuff, and a length that starts
 * at that offset (which may be -1 for "all the way to the end of the
 * tvbuff"), fetch BCD encoded digits from a tvbuff starting from either 
 * the low or high half byte, formating the digits according to an input digit set, 
 * if NUll a default digit set of 0-9 returning "?" for overdecadic digits will be used.
 * A pointer to the EP allocated string will be returned.
 * Note a tvbuff content of 0xf is considered a 'filler' and will end the conversion.
 */
------------------------------------------------------------------------
r35287 | cmaynard | 2010-12-28 10:02:24 -0800 (Tue, 28 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ltp.c

Improve sanity checking of reception claim count.  Fixes bug 5521.

------------------------------------------------------------------------
r35288 | sfisher | 2010-12-28 10:22:59 -0800 (Tue, 28 Dec 2010) | 6 lines
Changed paths:
   M /trunk/gtk/rtp_player.c


Implement first part of request in bug #5527 - allow the user to change
the timestamp display in the RTP Player to time of day with a checkbox
similar to in the IO Stats graph.


------------------------------------------------------------------------
r35289 | cmaynard | 2010-12-28 10:26:16 -0800 (Tue, 28 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c

From Alexis La Goutte via bug 5528:
    Fix wrong Field Type for HAI-Value and MN-Value (RFC 5271)

------------------------------------------------------------------------
r35290 | cmaynard | 2010-12-28 12:19:41 -0800 (Tue, 28 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-fileexp.c

From non-customers [AT] operamail [DOT] com, submitted via bug 5529:
    Values[9] is fetched twice but Values[8] not at all, despite printing it
    later on.

------------------------------------------------------------------------
r35291 | guy | 2010-12-28 12:32:58 -0800 (Tue, 28 Dec 2010) | 4 lines
Changed paths:
   M /trunk/wiretap/netmon.c

It is not guaranteed that the records in numerical (frame table) order
will be in sequential (byte offset) order in the file; don't treat the
record offset going backwards as an error.

------------------------------------------------------------------------
r35292 | gerald | 2010-12-28 12:47:48 -0800 (Tue, 28 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

From non-customers via bug 5530: Fix a buffer overflow in the MAC LTE
dissector.  From me: Add a define, ep_allocate the buffer.

------------------------------------------------------------------------
r35293 | sfisher | 2010-12-28 16:29:05 -0800 (Tue, 28 Dec 2010) | 7 lines
Changed paths:
   M /trunk/gtk/rtp_player.c


Fix Windows build, which complained about possible loss of data converting
from a double to a time_t.  I removed nstime_to_secs() and grab the
seconds portion of the nstime (which is a time_t), since that's all the
precision needed in the code right now anyway.


------------------------------------------------------------------------
r35294 | jake | 2010-12-28 23:39:52 -0800 (Tue, 28 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c

Fix the HAI value display filter string.

------------------------------------------------------------------------
r35295 | jake | 2010-12-29 10:16:50 -0800 (Wed, 29 Dec 2010) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_capture.xml

Update capture options dialog description.

------------------------------------------------------------------------
r35296 | jake | 2010-12-29 10:26:04 -0800 (Wed, 29 Dec 2010) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_graphics/ws-capture-options.png
   M /trunk/docbook/wsug_src/WSUG_chapter_capture.xml

Add Compile BPF to the capture options dialog description.

------------------------------------------------------------------------
r35297 | guy | 2010-12-29 11:40:36 -0800 (Wed, 29 Dec 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c

Fix incomplete conversion from an on-the-stack buffer to an ep_allocated
buffer - the size of the latter can't be found with sizeof, as all you
have is a pointer to the buffer.  sizeof (pointer) happened, by chance,
to give the right answer on ILP32 platforms, but gave a too-big answer
on LP64 and LLP64 platforms, which meant we overflowed the buffer when
clearing it.

------------------------------------------------------------------------
r35298 | gerald | 2010-12-29 12:09:27 -0800 (Wed, 29 Dec 2010) | 2 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

Fix a buffer overflow in the engineId preferences. Fixes bug 5530.

------------------------------------------------------------------------
r35299 | cmaynard | 2010-12-29 12:30:36 -0800 (Wed, 29 Dec 2010) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_capture.xml

Fix two minor typos.

------------------------------------------------------------------------
r35300 | cmaynard | 2010-12-29 12:41:53 -0800 (Wed, 29 Dec 2010) | 2 lines
Changed paths:
   M /trunk/config.nmake
   M /trunk/packaging/portableapps/win32/WiresharkPortable.nsi
   M /trunk/packaging/portableapps/win32/appinfo.tmpl
   M /trunk/packaging/portableapps/win32/installer.ini
   M /trunk/packaging/portableapps/win32/makefile.nmake

Updates for Wireshark portable installer.  Using nsis unicode now.

------------------------------------------------------------------------
r35301 | cmaynard | 2010-12-29 12:58:14 -0800 (Wed, 29 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-stun.c

Update list of relevant protocol specs.  Some drafts are now RFC's.

------------------------------------------------------------------------
r35302 | cmaynard | 2010-12-29 13:06:05 -0800 (Wed, 29 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/geoip_db.c

Add GEOIP_COUNTRY_EDITION_V6 to geoip_type_name_vals[].

------------------------------------------------------------------------
r35303 | guy | 2010-12-29 18:10:49 -0800 (Wed, 29 Dec 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/pidl/README

Add some white space.

Give more information about getting Yapp; not everybody using it is
necessarily using SUSE (and, yes, that's how it appears to be spelled
now, even though the "u" was for "und" and not originally capitalized).

------------------------------------------------------------------------
r35304 | guy | 2010-12-29 18:56:51 -0800 (Wed, 29 Dec 2010) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-samr.c
   M /trunk/epan/dissectors/pidl/samr.cnf
   M /trunk/epan/dissectors/pidl/samr.idl

The rids argument to samr_GetGroupsForUser() is *not* a single RID, it's
an array of samr_RidWithAttributeArray structures.  Don't equate it to
hf_samr_rid; that causes hf_samr_rid to be added as an item with a
length of -1, but, as hf_samr_rid is an FT_UINT32 field, that causes a
dissector bug error.

The version of Yapp I was using, at least, didn't like C++-style
comments in the IDL file; replace them with C-style comments.

------------------------------------------------------------------------
r35305 | guy | 2010-12-29 19:13:37 -0800 (Wed, 29 Dec 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/pidl/README

OK, I found a URL that will get you to the CPAN page for Yapp without
embedding a version number.  Use it.

"This will build and install the binaries and the manpage (pidl.1)."
refers to the process of installing Pidl; put it immediately after the
steps for installing Pidl.

------------------------------------------------------------------------
r35306 | guy | 2010-12-29 19:22:45 -0800 (Wed, 29 Dec 2010) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/pidl/README

Clarify that "don't make changes here" refers to the copy of Pidl, not
to the .cnf files (or perhaps even the .idl files).

------------------------------------------------------------------------
r35307 | etxrab | 2010-12-30 06:09:09 -0800 (Thu, 30 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Extend IE dissetcion.
------------------------------------------------------------------------
r35308 | etxrab | 2010-12-30 06:10:35 -0800 (Thu, 30 Dec 2010) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sgsap.c

Extend a comment
------------------------------------------------------------------------
r35309 | gerald | 2010-12-30 11:52:24 -0800 (Thu, 30 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sgsap.c

Fix checkAPI.

------------------------------------------------------------------------
r35310 | stig | 2010-12-30 12:15:55 -0800 (Thu, 30 Dec 2010) | 2 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

Only chop the last character (new line) from the error message.

------------------------------------------------------------------------
r35311 | stig | 2010-12-30 12:16:33 -0800 (Thu, 30 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/column_info.h

Corrected comment for col_custom_occurrence.

------------------------------------------------------------------------
r35312 | gerald | 2010-12-30 12:22:42 -0800 (Thu, 30 Dec 2010) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_graphics/ws-export-pdml.png
   M /trunk/docbook/wsug_graphics/ws-export-plain.png
   M /trunk/docbook/wsug_graphics/ws-export-ps.png
   M /trunk/docbook/wsug_graphics/ws-export-psml.png
   M /trunk/docbook/wsug_graphics/ws-export-selected.png

Update the export dialog screen shots.

------------------------------------------------------------------------
r35313 | guy | 2010-12-30 16:02:54 -0800 (Thu, 30 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

It's not a good idea to use tcph->th_seglen if you haven't set it.

Fixes bug 4211.

------------------------------------------------------------------------
r35314 | martinm | 2010-12-30 16:24:50 -0800 (Thu, 30 Dec 2010) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pdcp-lte.c

Add current list of ROHC profile names, taken from:
http://www.iana.org/assignments/rohc-pro-ids/rohc-pro-ids.txt

As raised by bug 5536, we now at least show which profile is present.
Supporting all of the specific message types is another matter...

------------------------------------------------------------------------
r35315 | stig | 2010-12-31 08:24:24 -0800 (Fri, 31 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt

Added missing packet-sgsap.c

------------------------------------------------------------------------
r35316 | stig | 2010-12-31 08:25:53 -0800 (Fri, 31 Dec 2010) | 2 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt

Whops, packet-sgsap.c is not ASN1.

------------------------------------------------------------------------
r35317 | cmaynard | 2010-12-31 10:03:23 -0800 (Fri, 31 Dec 2010) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-json.c
   M /trunk/epan/dissectors/packet-text-media.c
   M /trunk/epan/tvbparse.c

From Jakub Zawadzki via bug 4753: New dissector: JSON, w/minor changes by me:
1) Add links to RFC 4627 and the json.org web site.
2) Comment out hf_json_member_key to keep tools/checkhf.pl happy.
3) Avoid duplicate (application/json) from being displayed in Info column.

------------------------------------------------------------------------
r35318 | gerald | 2010-12-31 14:24:06 -0800 (Fri, 31 Dec 2010) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-enttec.c

From FRAsse via bug 5539:

There's a buffer overflow in ENTTEC DMX Data RLE, leading to crashes and
potential code execution.

From me: ep_allocate our buffers.

------------------------------------------------------------------------
r35319 | guy | 2010-12-31 14:28:57 -0800 (Fri, 31 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tn3270.c

A Query List has more than one has multiple QCODEs; you cannot handle
that by doing the entire list as a single FT_UINT8 field, you must
handle each QCODE, in a loop, as that field.

------------------------------------------------------------------------
r35320 | guy | 2010-12-31 15:30:38 -0800 (Fri, 31 Dec 2010) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c

Update some URLs, add another spec.

At least for one of the DOCSIS suboptions, do length checking.

------------------------------------------------------------------------
r35321 | krj | 2011-01-01 01:42:12 -0800 (Sat, 01 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/CMakeLists.txt

Add packet-json.c
------------------------------------------------------------------------
r35322 | stig | 2011-01-01 04:23:21 -0800 (Sat, 01 Jan 2011) | 2 lines
Changed paths:
   M /trunk/packaging/macosx/Info.plist.in
   M /trunk/version_info.c

New Year.

------------------------------------------------------------------------
r35323 | krj | 2011-01-02 00:13:40 -0800 (Sun, 02 Jan 2011) | 16 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-btl2cap.c
   M /trunk/epan/dissectors/packet-btl2cap.h
   M /trunk/epan/dissectors/packet-btobex.c
   M /trunk/epan/dissectors/packet-btrfcomm.c
   M /trunk/epan/dissectors/packet-btsdp.c

From Allan M. Madsen via. bug 5445:

Bluetooth profiles and protocols above RFCOMM and L2CAP can not be dissected correctly because the required information (server channel and dynamic PSM value mappings to services/profiles) about the type of data carried in the payload is not available. RFCOMM is currently hardcoded to handoff all payload data to the obex dissector though it may carry e.g. handsfree, dial-up networking or serial port profile related data.

The patch consists of modifcations to the following dissectors:

btsdp: Extraction of RFCOMM server channel and L2CAP dynamic PSM with service mapping is provided to RFCOMM and L2CAP through a tap interface. In addition, the packet list info is beautyfied and extended with more details for better
overview.

btl2cap: Adds a new dissector table with services and dynamic PSM mapping which is filled by a tap listner catching the info from btsdp. More info added to packet list.

btrfcomm: Adds a new dissector table with services and server channel mapping which is filled by a tap listner catching the info from btsdp. Dissectors for handsfree, dial-up netorking and serial port profiles (all based on RFCOMM) are also added.

btobex: Registers several obex based profiles (e.g. obex push, file transfer, basic printing etc.) in both RFCOMM and L2CAP. Some cleanup.


------------------------------------------------------------------------
r35324 | krj | 2011-01-02 00:29:33 -0800 (Sun, 02 Jan 2011) | 1 line
Changed paths:
   A /trunk/epan/dissectors/packet-btsdp.h

Add missing packet-btsdp.h
------------------------------------------------------------------------
r35325 | gerald | 2011-01-02 08:03:26 -0800 (Sun, 02 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers

[Automatic manuf, services and enterprise-numbers update for 2011-01-02]
------------------------------------------------------------------------
r35328 | guy | 2011-01-02 11:39:24 -0800 (Sun, 02 Jan 2011) | 2 lines
Changed paths:
   M /trunk/plugins/unistim/packet-unistim.c

Fix some cut-and-pasteos and other typoes.

------------------------------------------------------------------------
r35329 | guy | 2011-01-02 11:53:48 -0800 (Sun, 02 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/proto.c

Fix indentation.

------------------------------------------------------------------------
r35330 | guy | 2011-01-02 13:27:57 -0800 (Sun, 02 Jan 2011) | 12 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

For those cases where we interpret the contents of an OCTET STRING,
which could be of arbitrary length - even if it's not supposed to be! -
as a value of some other type, by adding them as a registered field,
first check to make sure the length of the field is appropriate for the
type and, if not, show a dissection error, rather than showing a
dissector-bug assertion when we call proto_tree_add_item().

This fixes a bunch of dissector-bug assertions that show up with
malformed BER-encoded packets.

Also, fix a typo, and expand a comment.

------------------------------------------------------------------------
r35331 | guy | 2011-01-02 13:49:00 -0800 (Sun, 02 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Note that this is ultimately not necessarily the right fix.

------------------------------------------------------------------------
r35332 | guy | 2011-01-02 19:30:20 -0800 (Sun, 02 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-diameter.c

Do length checking for Integer32, Integer64, Unsigned64, Float32, and
Float64, as well as for Unsigned32.

------------------------------------------------------------------------
r35333 | jake | 2011-01-02 23:40:21 -0800 (Sun, 02 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/wsdg_graphics/ws-function-blocks.dia
   M /trunk/docbook/wsdg_graphics/ws-function-blocks.png
   M /trunk/docbook/wsdg_src/WSDG_chapter_works.xml

Include dumpcap in the description.

------------------------------------------------------------------------
r35334 | jake | 2011-01-02 23:41:33 -0800 (Sun, 02 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/wsdg_src/WSDG_chapter_dissection.xml

Add relevant docbook tags in the source.

------------------------------------------------------------------------
r35335 | guy | 2011-01-03 00:21:35 -0800 (Mon, 03 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-diameter.c

If we have no value to dissect, because the AVP has the wrong length for
the value's type, return NULL as the label, rather than returning an
uninitialized value as the label.

------------------------------------------------------------------------
r35336 | guy | 2011-01-03 00:31:45 -0800 (Mon, 03 Jan 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tn3270.c

Put the query list items under the top-level query list item (which
should've been done in the previous checkin).

Display the "request type" field in a Read Partition request correctly
(only the upper 2 bits matter, and they're an enumerated value).

------------------------------------------------------------------------
r35337 | guy | 2011-01-03 01:17:20 -0800 (Mon, 03 Jan 2011) | 9 lines
Changed paths:
   M /trunk/wiretap/vms.c

We must always return an error code on an error; otherwise, our caller
will see random crap as the error code.

However, if we're skipping a "TCPIPTRACE-W-BUFFERSFUL" error, if the
"error" we get is an end-of-file indication, that's *not* an error.

It is, however, ultimately a "we dropped some packets" indication; add a
comment noting that we should eventually treat it as such.

------------------------------------------------------------------------
r35338 | etxrab | 2011-01-03 09:22:02 -0800 (Mon, 03 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Enhance IE dissection and a number of bug fixes.
------------------------------------------------------------------------
r35339 | etxrab | 2011-01-03 09:26:12 -0800 (Mon, 03 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Comment out a faulty line.
------------------------------------------------------------------------
r35340 | etxrab | 2011-01-03 09:30:35 -0800 (Mon, 03 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Mark unused parameters as such.
------------------------------------------------------------------------
r35341 | etxrab | 2011-01-03 09:32:15 -0800 (Mon, 03 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Mark unused parameters as such.
------------------------------------------------------------------------
r35342 | morriss | 2011-01-03 09:37:41 -0800 (Mon, 03 Jan 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Fix https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5537 :

Don't go modifying the bitstring if its length is 0 (meaning that there is only
the NULL terminator).

------------------------------------------------------------------------
r35343 | morriss | 2011-01-03 09:55:23 -0800 (Mon, 03 Jan 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-btsdp.c

Partially fix https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5542 :

Fix one of the "Conditional jump or move depends on uninitialised value(s)"
errors from Valgrind: always initialize *val in get_sdp_type().

------------------------------------------------------------------------
r35344 | sfisher | 2011-01-03 10:29:29 -0800 (Mon, 03 Jan 2011) | 13 lines
Changed paths:
   M /trunk/epan/tvbuff.c
   M /trunk/epan/tvbuff.h


Introduce two new functions for Unicode (UTF-16) string handling:

	tvb_get_unicode_string()
	tvb_get_ephemeral_unicode_string()

These function like their counterparts, tvb_get_string and
tvb_get_epemeral_string, for standard strings.

Also update comment on what the first such function,
tvb_get_ephemeral_unicode_stringz does regarding updating lengthp.


------------------------------------------------------------------------
r35345 | sfisher | 2011-01-03 10:33:02 -0800 (Mon, 03 Jan 2011) | 5 lines
Changed paths:
   M /trunk/doc/README.developer


Document new tvb_get_unicode_string() and tvb_get_ephemeral_string()
functions.


------------------------------------------------------------------------
r35346 | sfisher | 2011-01-03 10:33:58 -0800 (Mon, 03 Jan 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc.c


Switch one of the places in the DCERPC dissector from using
tvb_fake_unicode() to tvb_get_unicode_string().


------------------------------------------------------------------------
r35347 | morriss | 2011-01-03 10:48:29 -0800 (Mon, 03 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-btsdp.c

Fix (or at least quiet Valgrind about) https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5542 :

Always initialize *all* the outputs of get_sdp_type().

------------------------------------------------------------------------
r35348 | sfisher | 2011-01-03 11:28:52 -0800 (Mon, 03 Jan 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc.c


Remove the other use of tvb_fake_unicode() from the DCE/RPC dissector and
replace it with tvb_get_unicode_string().


------------------------------------------------------------------------
r35349 | sfisher | 2011-01-03 11:37:13 -0800 (Mon, 03 Jan 2011) | 6 lines
Changed paths:
   M /trunk/doc/README.developer


State in the developer documentation that the tvb_fake_unicode() and
tvb_get_ephemeral_fake_unicode() functions have been superceded by
tvb_get_unicode_string() and tvb_get_ephemeral_unicode_string() respectivey.


------------------------------------------------------------------------
r35350 | jake | 2011-01-03 13:40:03 -0800 (Mon, 03 Jan 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c

From Hadar Shoham:
Add support to EuroCableLabs at bootp opt 60 sub 23.
according to PKT-SP-PROV1.5-I04-090624, paragraph 10.23 Device MIB Support:
type 2 is indicating EuroCableLabs.

------------------------------------------------------------------------
r35351 | etxrab | 2011-01-03 14:13:11 -0800 (Mon, 03 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Prettify dissection of User Location Info (ULI).
------------------------------------------------------------------------
r35352 | etxrab | 2011-01-03 15:21:49 -0800 (Mon, 03 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Prettify dissection of User Location Info (ULI). (Complete)
------------------------------------------------------------------------
r35353 | jake | 2011-01-03 23:06:01 -0800 (Mon, 03 Jan 2011) | 2 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/Makefile.am
   M /trunk/Makefile.nmake
   M /trunk/dumpcap.c

Free dumpcap from linking to wiretap.

------------------------------------------------------------------------
r35354 | etxrab | 2011-01-03 23:14:11 -0800 (Mon, 03 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Add more info to the tree.
------------------------------------------------------------------------
r35355 | jake | 2011-01-03 23:44:39 -0800 (Mon, 03 Jan 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c

From Alexis La Goutte:
A Patch to enchance the ICMPv6 Router Renumbering for IPv6 (RFC 2894) Dissector
- Make RR field filterable 
- Add RR Result Message
- ...

------------------------------------------------------------------------
r35356 | guy | 2011-01-03 23:48:28 -0800 (Mon, 03 Jan 2011) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ltp.c

Instead of going over the Report segment twice, once to get the fields
in the segment and once to put them into the protocol tree, just do it
once.  That also means we don't need to allocate an array for all the
reception claims, so we don't have to worry about the claim count (other
than making sure it's non-negative), and that we won't abort the
dissection until we run past the end of the packet.

(The rest of the dissector should be changed to work that way as well.)

------------------------------------------------------------------------
r35357 | guy | 2011-01-04 00:04:27 -0800 (Tue, 04 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-amqp.c

Don't use DISSECTOR_ASSERT() to catch malformed packets.  Fixes bug
4048.

------------------------------------------------------------------------
r35358 | etxrab | 2011-01-04 00:45:03 -0800 (Tue, 04 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c

Fix build.
------------------------------------------------------------------------
r35359 | morriss | 2011-01-04 07:39:12 -0800 (Tue, 04 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipv6.h

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5544 :

Include the packet-ipv6.h changes too.

------------------------------------------------------------------------
r35360 | etxrab | 2011-01-04 08:58:07 -0800 (Tue, 04 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-e212.c
   M /trunk/epan/dissectors/packet-e212.h

Introduce dissect_e212_mcc_mnc_ep_str()

Which can be useful to make nice lables like:
+ Serving Network : MCC 311 United States of America, MNC 28
------------------------------------------------------------------------
r35361 | etxrab | 2011-01-04 08:58:55 -0800 (Tue, 04 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Maeke use of dissect_e212_mcc_mnc_ep_str().
------------------------------------------------------------------------
r35362 | morriss | 2011-01-04 10:41:25 -0800 (Tue, 04 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Give a couple of fields abbreviations.
------------------------------------------------------------------------
r35363 | morriss | 2011-01-04 10:43:24 -0800 (Tue, 04 Jan 2011) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Detect (and error on) NULL or empty abbreviations.  Wireshark aborts on the former and warns on the latter.
------------------------------------------------------------------------
r35364 | morriss | 2011-01-04 10:48:26 -0800 (Tue, 04 Jan 2011) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Check hf entries *after* removing comments (in case there are commented-out entries).
------------------------------------------------------------------------
r35365 | jake | 2011-01-04 14:12:25 -0800 (Tue, 04 Jan 2011) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/Makefile.nmake

Drop Python dissectors directory flag from programs that don't have dissectors.
Win32: remove superfluous dumpcap build dependancy on wiretap.

------------------------------------------------------------------------
r35366 | morriss | 2011-01-04 15:07:32 -0800 (Tue, 04 Jan 2011) | 21 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sctp.c

When generating a tvb subset for chunks, parameters, and error causes, set the:
 - "reported length" to be minimum of the entity's length (taken from the
   packet) or the reported length of the TVB.
 - "backing length" to be the minimum of the reported length (above) or the
   (captured) length of the TVB.

This prevents tvb_new_subset() from generating an exception if the entity's
length (in the packet) is bogus (bigger than what's in the TVB) which allows
dissection to continue to a point where we can show the user what the problem
is.

When dissecting chunks, add an expert info if the item's length is bigger than
what was on the wire (the reported length).  (The same could also be done for
parameters and error causes.)

This makes captures like that in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5546
easier to understand.

It also starts getting this dissector using the reported length instead of the
(captured) TVB length (there's more to be done with other tvb subsets).

------------------------------------------------------------------------
r35367 | sfisher | 2011-01-04 16:48:40 -0800 (Tue, 04 Jan 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dns.c


Reverse r34810 other than the comment because the re-ordering of dns_types[]
caused the numbering to no longer be lined up so the "SRV" record (#33) type
T_SRV was being given the description "EID" instead of "Service Location"


------------------------------------------------------------------------
r35368 | morriss | 2011-01-04 19:40:02 -0800 (Tue, 04 Jan 2011) | 13 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sctp.c

Use reported length (instead of the captured length) when dissecting error
causes (should have been in rev 35366).

When generating TVB subsets, limit the subset's backing and reported lengths to
the (captured) TVB length and the reported TVB length, respectively.

This allows us to dissect most of the packet in
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5546
before asserting out.

It also yields similar better behavior when the capture is limited by a
snapshot length.

------------------------------------------------------------------------
r35369 | guy | 2011-01-04 22:11:10 -0800 (Tue, 04 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-amqp.c

Put end-of-field-table checks back into dissect_amqp_field_table().

------------------------------------------------------------------------
r35370 | etxrab | 2011-01-04 23:16:09 -0800 (Tue, 04 Jan 2011) | 3 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-rsvp.c

From Francesco Fondelli:
RSVP: support for Vendor Private objects, RFC 3936
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5468
------------------------------------------------------------------------
r35371 | etxrab | 2011-01-04 23:27:41 -0800 (Tue, 04 Jan 2011) | 1 line
Changed paths:
   M /trunk/AUTHORS

Update the AUTHORS file
------------------------------------------------------------------------
r35372 | jake | 2011-01-04 23:31:46 -0800 (Tue, 04 Jan 2011) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Clean up the white space.

------------------------------------------------------------------------
r35373 | martinm | 2011-01-05 06:36:48 -0800 (Wed, 05 Jan 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/catapult_dct2000.c

Support FP_R8 over ATM, plus a couple of other tidying-ups.

------------------------------------------------------------------------
r35374 | martinm | 2011-01-05 06:45:31 -0800 (Wed, 05 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Remove a stray debug printf().

------------------------------------------------------------------------
r35375 | morriss | 2011-01-05 07:11:32 -0800 (Wed, 05 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sctp.c

Don't pass the result of tvb_get_ptr() into a %s format string: the string may
not be NULL terminated.  Use tvb_get_ephemeral_string() instead.

------------------------------------------------------------------------
r35376 | morriss | 2011-01-05 07:18:54 -0800 (Wed, 05 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sua.c

Don't pass the result of tvb_get_ptr() into a %s format string: the string may
not be NULL terminated.  Use tvb_get_ephemeral_string() instead.

------------------------------------------------------------------------
r35377 | morriss | 2011-01-05 07:23:53 -0800 (Wed, 05 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dua.c
   M /trunk/epan/dissectors/packet-iua.c
   M /trunk/epan/dissectors/packet-m2ua.c
   M /trunk/epan/dissectors/packet-m3ua.c
   M /trunk/epan/dissectors/packet-v5ua.c

Don't pass the result of tvb_get_ptr() into a %s format string: the string may
not be NULL terminated.  Use tvb_get_ephemeral_string() instead.

------------------------------------------------------------------------
r35378 | etxrab | 2011-01-05 08:46:40 -0800 (Wed, 05 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Enhance IE dissection.
------------------------------------------------------------------------
r35379 | morriss | 2011-01-05 09:16:29 -0800 (Wed, 05 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-m2tp.c

Don't pass the result of tvb_get_ptr() into a %s format string: the string may
not be NULL terminated.  Use tvb_get_ephemeral_string() instead.

------------------------------------------------------------------------
r35380 | guy | 2011-01-05 09:19:48 -0800 (Wed, 05 Jan 2011) | 5 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-amqp.c

From Steve Huston: add support for AMQP 0-10.

From me: add 0_9 to names for #defines and routines for 0-9, add expert
info for the "you ran past the end of the field table" error.

------------------------------------------------------------------------
r35381 | morriss | 2011-01-05 09:28:17 -0800 (Wed, 05 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-m2tp.c

Use proto_tree_add_item() to add some FT_BYTES to the tree instead of calling proto_tree_add_bytes() with the result of tvb_get_ptr() passed as the 'value'.
------------------------------------------------------------------------
r35382 | guy | 2011-01-05 09:38:03 -0800 (Wed, 05 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-amqp.c

Fix (legitimate) warning.

------------------------------------------------------------------------
r35383 | guy | 2011-01-05 09:59:50 -0800 (Wed, 05 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-enttec.c

Handling a too-long length should be handled better.

------------------------------------------------------------------------
r35384 | morriss | 2011-01-05 10:59:47 -0800 (Wed, 05 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-spnego.c

Use some tvb_ accessor functions instead of a standard function plus tvb_get_ptr().
------------------------------------------------------------------------
r35385 | gerald | 2011-01-05 11:35:08 -0800 (Wed, 05 Jan 2011) | 3 lines
Changed paths:
   M /trunk/manuf

Update manuf, which the auto-update script has been missing for the past
few weeks.

------------------------------------------------------------------------
r35386 | morriss | 2011-01-05 14:17:33 -0800 (Wed, 05 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_sms.c

Replace 2 switch()es with duplicated values (but missing most of the case statements--leading the Sun compiler to complain about most of the statements not being reached) with a value_string and a couple of val_to_str() calls.  Also some minor reformatting of the function in question.
------------------------------------------------------------------------
r35387 | morriss | 2011-01-05 14:20:39 -0800 (Wed, 05 Jan 2011) | 1 line
Changed paths:
   M /trunk/asn1/gsm_map/packet-gsm_map-template.c
   M /trunk/epan/dissectors/packet-gsm_map.c

Remove unreached statement.
------------------------------------------------------------------------
r35388 | morriss | 2011-01-05 14:26:43 -0800 (Wed, 05 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_683.c

Remove a break that makes other following statements unreached.
------------------------------------------------------------------------
r35389 | morriss | 2011-01-05 14:27:41 -0800 (Wed, 05 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c

Remove a duplicate return.
------------------------------------------------------------------------
r35390 | morriss | 2011-01-05 14:33:25 -0800 (Wed, 05 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-pdcp-lte.c

Remove an unreached return.
------------------------------------------------------------------------
r35391 | morriss | 2011-01-05 14:40:47 -0800 (Wed, 05 Jan 2011) | 1 line
Changed paths:
   M /trunk/asn1/ranap/packet-ranap-template.c
   M /trunk/epan/dissectors/packet-ranap.c

Reset the global pdu_type *before* returning.
------------------------------------------------------------------------
r35392 | jake | 2011-01-05 15:12:51 -0800 (Wed, 05 Jan 2011) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Rearrange the Intenals and Help menu somewhat.

------------------------------------------------------------------------
r35393 | morriss | 2011-01-05 18:18:36 -0800 (Wed, 05 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Use tvb_get_ephemeral_stringz() instead of tvb_get_strsize() plus (sometimes multiple) calls to tvb_get_ptr().
------------------------------------------------------------------------
r35394 | morriss | 2011-01-05 18:45:01 -0800 (Wed, 05 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nasdaq-itch.c

Rather than creating strtoul{l} functions that can deal with possibly non-NULL
terminated strings (retrieved with tvb_get_ptr()), just use
tvb_get_ephemeral_string() and the standard strtoul{l} functions.

------------------------------------------------------------------------
r35395 | morriss | 2011-01-05 18:52:00 -0800 (Wed, 05 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ppi-antenna.c

There's no need to pass the result of tvb_get_ptr() as the 'value' in proto_tree_add_string: just use proto_tree_add_item().
------------------------------------------------------------------------
r35396 | morriss | 2011-01-05 18:56:10 -0800 (Wed, 05 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ppi-vector.c

There's no need to pass the result of tvb_get_ptr() as the 'value' in proto_tree_add_string: just use proto_tree_add_item().
------------------------------------------------------------------------
r35397 | morriss | 2011-01-05 18:58:26 -0800 (Wed, 05 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ppi-vector.c

Actually use proto_tree_add_item().
------------------------------------------------------------------------
r35398 | morriss | 2011-01-05 19:08:03 -0800 (Wed, 05 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-yhoo.c

Use tvb_memeql() instead of memcmp()+tvb_get_ptr().
------------------------------------------------------------------------
r35399 | morriss | 2011-01-06 07:02:46 -0800 (Thu, 06 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-nasdaq-itch.c

strtoull() doesn't exist on Windows, use g_ascii_strtoull() instead.
------------------------------------------------------------------------
r35400 | morriss | 2011-01-06 08:08:56 -0800 (Thu, 06 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

(After discussion on -dev) revert 35393: the old code is faster (and it is safe).
------------------------------------------------------------------------
r35401 | sfisher | 2011-01-06 09:15:50 -0800 (Thu, 06 Jan 2011) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dns.c


When showing a DNS query response containing a SRV record, display items
in the tree of the service record broken out.  For example,
"_ldap._tcp.domain.com" shows:

	Service: ldap
	Protocol: tcp
	Name: domain.com


------------------------------------------------------------------------
r35402 | gerald | 2011-01-06 09:19:20 -0800 (Thu, 06 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/geoip_db.c

GEOIP_COUNTRY_EDITION_V6 isn't guaranteed to be defined.

------------------------------------------------------------------------
r35403 | sfisher | 2011-01-06 10:08:14 -0800 (Thu, 06 Jan 2011) | 6 lines
Changed paths:
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/epan/dissectors/packet-ldap.c


Minor corrections to NtVer dissection for NETLOGON_NT_VERSION Options Bits
in MSCLDAP packets per Microsoft's MS-ADTS specification, section 7.3.1.1,
revision 26 (11/19/2010).  Also re-format code a bit.


------------------------------------------------------------------------
r35404 | sfisher | 2011-01-06 10:50:39 -0800 (Thu, 06 Jan 2011) | 4 lines
Changed paths:
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/epan/dissectors/packet-ldap.c


More minor cleanup/fixes for MS Active Directory's use of CLDAP.


------------------------------------------------------------------------
r35405 | jake | 2011-01-06 12:29:05 -0800 (Thu, 06 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/wsluarm.xml

Add URL to Lua website. Whitespace cleanup.

------------------------------------------------------------------------
r35406 | morriss | 2011-01-06 13:07:58 -0800 (Thu, 06 Jan 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-amqp.c

Fix the fuzz failure in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5550 :

In dissect_amqp_0_10_array() if the 'type' is unknown, don't loop (for
potentially a very long time) adding the same element over and over again
(since the type is unknown, we don't know how much to increase the offset so
an exception is never thrown).

------------------------------------------------------------------------
r35407 | sfisher | 2011-01-06 14:24:10 -0800 (Thu, 06 Jan 2011) | 6 lines
Changed paths:
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/epan/dissectors/packet-ldap.c


More misc. CLDAP improvements for Active Directory including updating
field names and adding descriptions, changing the Domain GUID in the "LDAP
ping" response to a FT_GUID instead of FT_BYTES, etc.


------------------------------------------------------------------------
r35408 | guy | 2011-01-06 14:52:40 -0800 (Thu, 06 Jan 2011) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmp.c

Don't use g_warning() - either you have a dissector bug, and should use
one of the macros to report that, or you have a problem with the packet,
in which case you should note that in the protocol tree, or you have
something you don't understand, in which case you should dissect
whatever of it you do understand and put something appropriate, if
possible, into the protocol tree for the rest.

(And, if the length isn't right, there's not much you can do about it -
you have to trust the length, and manage to fail somewhere else.)

------------------------------------------------------------------------
r35409 | guy | 2011-01-06 15:04:48 -0800 (Thu, 06 Jan 2011) | 4 lines
Changed paths:
   M /trunk/tools/checkAPIs.pl

Let's discourage the use of g_warning in dissectors.  Either use one of
the dissector-bug macros, or try your best to dissect a packet that's
"wrong".

------------------------------------------------------------------------
r35410 | morriss | 2011-01-06 15:23:28 -0800 (Thu, 06 Jan 2011) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Prohibit strtoull(): Windows doesn't have it.  (Putting this in just saves waiting for the buildbot to complain.)
------------------------------------------------------------------------
r35411 | gerald | 2011-01-06 15:28:58 -0800 (Thu, 06 Jan 2011) | 4 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/capinfos.c
   M /trunk/dumpcap.c
   M /trunk/editcap.c
   M /trunk/gtk/main.c
   M /trunk/mergecap.c
   M /trunk/randpkt.c
   M /trunk/rawshark.c
   M /trunk/text2pcap.c
   M /trunk/tshark.c

On Windows, convert all of our command-line arguments from UTF-16 to
UTF-8 where we don't already do so. In Wireshark use g_utf16_to_utf8
instead of utf_16to8. This should fix bug 5520.

------------------------------------------------------------------------
r35412 | jake | 2011-01-06 15:34:46 -0800 (Thu, 06 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/user-guide.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_introduction.xml

Tell the user about the Q&A site.

------------------------------------------------------------------------
r35413 | etxrab | 2011-01-06 16:19:28 -0800 (Thu, 06 Jan 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c
   M /trunk/epan/dissectors/packet-ipv6.h

From Alexis La Goutte:
- Update RFC Draft (draft-vida-mld-v2-08.txt) to Final RFC
(RFC 3810)
- Make MLD field filterable 
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5552
------------------------------------------------------------------------
r35414 | guy | 2011-01-06 16:26:57 -0800 (Thu, 06 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-giop.c

If we get an unknown reply status, don't print a g_warning message -
just put the reply body, if any, into the protocol tree as a blob.  The
protocol tree will note that it's an unknown status.

------------------------------------------------------------------------
r35417 | etxrab | 2011-01-07 07:21:23 -0800 (Fri, 07 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.h
   M /trunk/epan/dissectors/packet-gtpv2.c
   M /trunk/epan/dissectors/packet-nas_eps.c

Add dissection of more IE:s
------------------------------------------------------------------------
r35418 | morriss | 2011-01-07 07:59:26 -0800 (Fri, 07 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dns.c

Fix the fuzz failure in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5554 :

Don't assume that g_strsplit() found and returned 3 strings.

------------------------------------------------------------------------
r35419 | etxrab | 2011-01-07 08:12:01 -0800 (Fri, 07 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Fix buildbot.
------------------------------------------------------------------------
r35420 | etxrab | 2011-01-07 10:04:03 -0800 (Fri, 07 Jan 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

** (process:23326): WARNING **: Field 'Reserved bit(s)' does not have an
abbreviation

** ERROR **: Field 'IPv4 Address' (gtpv2.ipv4_addr) is an FT_IPv4 but is being
displayed as BASE_DEC instead of BASE_NONE
------------------------------------------------------------------------
r35421 | morriss | 2011-01-07 10:32:17 -0800 (Fri, 07 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/Makefile.am

declare_wslua.h is built, so we need to also search in the wslua build directory for it.  (This fixes out-of-source-tree builds with Lua.)
------------------------------------------------------------------------
r35422 | morriss | 2011-01-07 11:01:17 -0800 (Fri, 07 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Don't try to display a string in BASE_DEC.  Also delete duplicate registration of hf_gtpv2_pti.
------------------------------------------------------------------------
r35423 | cmaynard | 2011-01-07 11:22:09 -0800 (Fri, 07 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-imf.c

Append text to INFO column.  Closes out bug 4472.

------------------------------------------------------------------------
r35425 | sake | 2011-01-08 07:51:38 -0800 (Sat, 08 Jan 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c
   M /trunk/epan/dissectors/packet-tcp.h

Add "tcp.window_size_value" and "tcp.window_size_scalefactor" conform
the discussion in bug 5541. Since we now have the window size value as
well as the scaled window size, there is no need anymore for the
tcp preference "tcp_window_scaling".


------------------------------------------------------------------------
r35426 | guy | 2011-01-08 08:40:46 -0800 (Sat, 08 Jan 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-jxta.c

If the lack of a peer conversation is a bug, use one of the
dissector-bug macros.  If it's just that we're missing some packets, we
should handle that as best we can and, if there's stuff we can't do,
maybe put something into the protocol summary or tree saying "not enough
information".  Don't just spit out a warning message which the user
might not even see.

------------------------------------------------------------------------
r35427 | guy | 2011-01-08 09:06:04 -0800 (Sat, 08 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-radius.c

Use report_failure() to report problems reading the RADIUS dictionary,
so it shows up in the GUI in Wireshark.

------------------------------------------------------------------------
r35428 | guy | 2011-01-08 10:44:21 -0800 (Sat, 08 Jan 2011) | 5 lines
Changed paths:
   M /trunk/gtk/drag_and_drop.c

From H.sivank:

	-A patch to allow drag and drop on wireshark icon doc.
	It does not require old(Carbon) ScriptExec.

------------------------------------------------------------------------
r35429 | guy | 2011-01-08 10:46:01 -0800 (Sat, 08 Jan 2011) | 6 lines
Changed paths:
   M /trunk/cmake/modules/FindGTK2.cmake

From H.sivank:

	-A patch to fix configure with cmake with macports libs.
	(gdk-pixbuf has now its own port. Location of headers has
	changed.)

------------------------------------------------------------------------
r35430 | etxrab | 2011-01-08 12:09:29 -0800 (Sat, 08 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Further IE dissection updates.
------------------------------------------------------------------------
r35431 | etxrab | 2011-01-08 12:26:35 -0800 (Sat, 08 Jan 2011) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c
   M /trunk/epan/dissectors/packet-gsm_a_common.h
   M /trunk/epan/dissectors/packet-gtpv2.c

Try to fix:
packet-gtpv2.c:2648: warning: return type defaults to 'int'
packet-gtpv2.c: In function 'dissect_udp_s_port_nr':
packet-gtpv2.c:2690: warning: unused parameter 'length'
packet-gtpv2.c: In function 'dissect_gtpv2_fq_csid':
packet-gtpv2.c:2845: warning: unused parameter 'length'
packet-gtpv2.c: In function 'dissect_gtpv2_emlpp_pri':
packet-gtpv2.c:2927: warning: implicit declaration of function 'be_emlpp_prio'
packet-gtpv2.c: At top level:
packet-gtpv2.c:3056: warning: initialization from incompatible pointer type
------------------------------------------------------------------------
r35432 | etxrab | 2011-01-09 05:50:03 -0800 (Sun, 09 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Get rid of check_col().
------------------------------------------------------------------------
r35433 | etxrab | 2011-01-09 05:50:41 -0800 (Sun, 09 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/Makefile.common

Put sgsap in the right place.
------------------------------------------------------------------------
r35434 | gerald | 2011-01-09 08:03:37 -0800 (Sun, 09 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf, services and enterprise-numbers update for 2011-01-09]
------------------------------------------------------------------------
r35436 | etxrab | 2011-01-09 09:49:31 -0800 (Sun, 09 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.c

Add 26 Link-local Address Option.
Comments and whitespace changes.
------------------------------------------------------------------------
r35438 | etxrab | 2011-01-09 11:15:11 -0800 (Sun, 09 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.c

Fix:
packet-mip6.c:801: warning: 'hf_pmip6_opt_ipack' defined but not used
packet-mip6.c:802: warning: 'hf_pmip6_opt_ipack_res' defined but not used
------------------------------------------------------------------------
r35439 | etxrab | 2011-01-09 11:17:39 -0800 (Sun, 09 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.c

Fix:
20:15:19          Err  Field 'Link-local Address' (pmip6.lila_lla) is an FT_IPv6
 but is being displayed as BASE_HEX instead of BASE_NONE
------------------------------------------------------------------------
r35440 | etxrab | 2011-01-09 11:37:35 -0800 (Sun, 09 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.c

More field related fixes.
------------------------------------------------------------------------
r35441 | jake | 2011-01-09 11:44:21 -0800 (Sun, 09 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/user-guide.xml
   M /trunk/docbook/wsug_graphics/ws-analyze-menu.png
   M /trunk/docbook/wsug_graphics/ws-capture-menu.png
   M /trunk/docbook/wsug_graphics/ws-edit-menu.png
   M /trunk/docbook/wsug_graphics/ws-file-menu.png
   M /trunk/docbook/wsug_graphics/ws-go-menu.png
   M /trunk/docbook/wsug_graphics/ws-help-menu.png
   M /trunk/docbook/wsug_graphics/ws-main-toolbar.png
   M /trunk/docbook/wsug_graphics/ws-main.png
   M /trunk/docbook/wsug_graphics/ws-statistics-menu.png
   M /trunk/docbook/wsug_graphics/ws-telephony-menu.png
   A /trunk/docbook/wsug_graphics/ws-tools-menu.png
   M /trunk/docbook/wsug_graphics/ws-view-menu.png
   M /trunk/docbook/wsug_src/WSUG_chapter_use.xml

Update the menu screenshots and descriptions.

------------------------------------------------------------------------
r35442 | etxrab | 2011-01-09 12:41:19 -0800 (Sun, 09 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.c

Update value_strings
------------------------------------------------------------------------
r35443 | jake | 2011-01-09 13:59:00 -0800 (Sun, 09 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/user-guide.xml
   A /trunk/docbook/wsug_graphics/ws-column-header-popup-menu.png
   M /trunk/docbook/wsug_graphics/ws-details-pane-popup-menu.png
   M /trunk/docbook/wsug_graphics/ws-packet-pane-popup-menu.png

Update the pop-up menu screen shots.

------------------------------------------------------------------------
r35444 | jake | 2011-01-09 14:17:14 -0800 (Sun, 09 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/CMakeLists.txt
   M /trunk/docbook/Makefile.common

Add the graphic files to the distribution.

------------------------------------------------------------------------
r35445 | jake | 2011-01-09 14:34:20 -0800 (Sun, 09 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.c

Make comment a real comment, trying to fix the buildbot.

------------------------------------------------------------------------
r35446 | morriss | 2011-01-09 19:02:43 -0800 (Sun, 09 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Give CSID an abbreviation.
------------------------------------------------------------------------
r35447 | morriss | 2011-01-09 19:04:26 -0800 (Sun, 09 Jan 2011) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Remove the comments and strings separately so that we can check the hf's when the comments are gone but the strings are not.
------------------------------------------------------------------------
r35448 | stig | 2011-01-09 23:01:23 -0800 (Sun, 09 Jan 2011) | 2 lines
Changed paths:
   M /trunk/util.c

Simplified a #ifdef __WIN32.

------------------------------------------------------------------------
r35449 | jake | 2011-01-09 23:39:15 -0800 (Sun, 09 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ppi-gps.c

Clean up the blurbs indicated by checkAPIs.

------------------------------------------------------------------------
r35450 | etxrab | 2011-01-10 04:28:56 -0800 (Mon, 10 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-xml.c

Add application/vnd.3gpp.cw+xml
------------------------------------------------------------------------
r35451 | etxrab | 2011-01-10 06:31:33 -0800 (Mon, 10 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/value_string.c
   M /trunk/epan/value_string.h

Introduce match_strval_idx_ext()
------------------------------------------------------------------------
r35452 | morriss | 2011-01-10 06:40:10 -0800 (Mon, 10 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-mikey.c

Give a couple commented-out hf's abbreviations (to keep checkAPIs happy).
------------------------------------------------------------------------
r35453 | morriss | 2011-01-10 06:43:29 -0800 (Mon, 10 Jan 2011) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Revert 35447 and 35364: remove comments and strings in one regex (so it doesn't get confused by things like /* inside a string).  And don't remove comments+strings before checking the hf's.
------------------------------------------------------------------------
r35454 | wmeier | 2011-01-10 07:19:18 -0800 (Mon, 10 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common

Move some DISSECTOR_SRC & DISSECTOR_INCLUDES entries so they are (more or less) in alpha order.

------------------------------------------------------------------------
r35455 | cmaynard | 2011-01-10 08:27:09 -0800 (Mon, 10 Jan 2011) | 2 lines
Changed paths:
   M /trunk/packaging/portableapps/win32/makefile.nmake

Revert back to NSIS from NSIS Unicode to resolve bug 5558.

------------------------------------------------------------------------
r35456 | etxrab | 2011-01-10 09:34:00 -0800 (Mon, 10 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Shorten long winded strings.
------------------------------------------------------------------------
r35460 | etxrab | 2011-01-10 11:48:15 -0800 (Mon, 10 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.c

Add an expert item about not dissected IE's
------------------------------------------------------------------------
r35461 | gerald | 2011-01-10 12:23:21 -0800 (Mon, 10 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-http.c

Add 2869 to the list of HTTP ports: http://support.microsoft.com/kb/886257

------------------------------------------------------------------------
r35463 | sfisher | 2011-01-10 13:23:25 -0800 (Mon, 10 Jan 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-btsdp.c


Stop gcc warning about type-punned pointer breaks strict anti-aliasing
rules.  (Is this the right fix?  I had to remove a now meaningless
comparison of psm > 0x1000 (4096) since psm is now a guint8 not a guint16.)


------------------------------------------------------------------------
r35466 | sahlberg | 2011-01-10 14:31:05 -0800 (Mon, 10 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfsacl.c

Add a missing procedure name for NFS-ACL


------------------------------------------------------------------------
r35467 | jake | 2011-01-10 15:29:54 -0800 (Mon, 10 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_work.xml

Complete the chapter on popup menus.

------------------------------------------------------------------------
r35474 | sahlberg | 2011-01-10 18:27:41 -0800 (Mon, 10 Jan 2011) | 6 lines
Changed paths:
   M /trunk/asn1/ldap/Lightweight-Directory-Access-Protocol-V3.asn
   M /trunk/asn1/ldap/ldap.cnf
   M /trunk/epan/dissectors/packet-ldap.c

From Matthieu Patou <mat@samba.org>

Dissect LDAP DirSyncFlags to show the bits of this bitmap.



------------------------------------------------------------------------
r35475 | jake | 2011-01-11 00:22:16 -0800 (Tue, 11 Jan 2011) | 11 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-fcoib.c

From Slava K:
FCoIB – Fibre Channel over InfiniBand. The protocol enables transmission of
Fibre Channel frames over InfiniBand networks. It is based on encapsulation of
Fibre Channel frames over InfiniBand UD transport. The discovery protocol is
based on the FIP protocol (not supported by this patch).

This patch adds an FCoIB dissector to Wireshark. It is based in large part on
the existing FCoE dissection code.

This code is submitted on behalf of Mellanox Technologies Ltd.

------------------------------------------------------------------------
r35476 | etxrab | 2011-01-11 03:41:03 -0800 (Tue, 11 Jan 2011) | 1 line
Changed paths:
   M /trunk/asn1/ldap/ldap.cnf
   M /trunk/epan/dissectors/packet-ldap.c

ldap.cnf:782: warning: ISO C90 forbids mixed declarations and code
------------------------------------------------------------------------
r35477 | etxrab | 2011-01-11 09:06:38 -0800 (Tue, 11 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.c
   M /trunk/epan/dissectors/packet-gsm_a_common.h
   M /trunk/epan/dissectors/packet-gtpv2.c

Improve dissection of UE Time Zone.
------------------------------------------------------------------------
r35483 | etxrab | 2011-01-11 12:02:30 -0800 (Tue, 11 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c
   M /trunk/epan/dissectors/packet-gsm_a_common.c
   M /trunk/epan/dissectors/packet-gsm_a_dtap.c

Complement to
http://anonsvn.wireshark.org/viewvc/viewvc.cgi?view=rev&revision=35477
------------------------------------------------------------------------
r35484 | etxrab | 2011-01-11 12:15:04 -0800 (Tue, 11 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c

Use value_string_ext and friends.
------------------------------------------------------------------------
r35485 | morriss | 2011-01-11 14:36:31 -0800 (Tue, 11 Jan 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sctp.c

Don't store message fragments whose length is 0: there's no point.  (Otherwise
fragment->len was left unitialized.)

Also (unrelated): save a couple of calls to tvb_reported_length() since the
value is already stored in a variable.

------------------------------------------------------------------------
r35486 | morriss | 2011-01-11 14:41:19 -0800 (Tue, 11 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sctp.c

Don't attempt to reassemble short (reported_len > len) chunks.
------------------------------------------------------------------------
r35493 | morriss | 2011-01-11 18:25:08 -0800 (Tue, 11 Jan 2011) | 8 lines
Changed paths:
   M /trunk/doc/README.developer
   M /trunk/epan/dissectors/packet-catapult-dct2000.c
   M /trunk/epan/libwireshark.def
   M /trunk/epan/tvbuff.c
   M /trunk/epan/tvbuff.h

Introduce, and start using, tvb_get_const_stringz().  This function returns a
pointer to a NULL-terminated string in the TVB.  It is no safer than dissectors
which call tvb_get_strsize() and then tvb_get_ptr() but it makes it clear that
this usage of tvb_get_ptr() is safe.

This function is slightly more efficient than tvb_get_ephemeral_stringz()--but
only as long as we're not using composite TVBs.

------------------------------------------------------------------------
r35494 | morriss | 2011-01-11 19:08:05 -0800 (Tue, 11 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-epm.c

Replace some uses of tvb_get_ptr() with tvb_get_ephemeral_string().

------------------------------------------------------------------------
r35495 | morriss | 2011-01-11 19:19:07 -0800 (Tue, 11 Jan 2011) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-fileexp.c

There's no need to pass the result of tvb_get_ptr() as the 'value' in
proto_tree_add_string(): just use proto_tree_add_item().

Replace some tvb_get_ptr()s with tvb_get_ephemeral_string()s.

In a couple of places an hf variable was being used as the length in a call to
proto_tree_add_*().  Use the appropriate variable instead.


------------------------------------------------------------------------
r35496 | morriss | 2011-01-11 19:27:32 -0800 (Tue, 11 Jan 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-fldb.c

There's no need to pass the result of tvb_get_ptr() as the 'value' in
proto_tree_add_string(): just use proto_tree_add_item().

Replace some tvb_get_ptr()s with tvb_get_ephemeral_string()s.

In a couple of places an hf variable was being used as the length in a call to
proto_tree_add_*().  Use the appropriate variable instead.

------------------------------------------------------------------------
r35497 | morriss | 2011-01-11 19:35:14 -0800 (Tue, 11 Jan 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-rpriv.c
   M /trunk/epan/dissectors/packet-dcerpc-rs_acct.c
   M /trunk/epan/dissectors/packet-dcerpc-rs_misc.c

There's no need to pass the result of tvb_get_ptr() as the 'value' in
proto_tree_add_string(): just use proto_tree_add_item().

Replace some tvb_get_ptr()s with tvb_get_ephemeral_string()s.

In a couple of places an hf variable was being used as the length in a call to
proto_tree_add_*().  Use the appropriate variable instead.

------------------------------------------------------------------------
r35498 | etxrab | 2011-01-11 23:18:57 -0800 (Tue, 11 Jan 2011) | 2 lines
Changed paths:
   M /trunk/asn1/gsm_map/packet-gsm_map-template.c
   M /trunk/epan/dissectors/packet-gsm_map.c

TCAP- Application context name not been decoded correctly
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5573
------------------------------------------------------------------------
r35499 | etxrab | 2011-01-11 23:25:34 -0800 (Tue, 11 Jan 2011) | 2 lines
Changed paths:
   M /trunk/doc/README.developer
   M /trunk/epan/libwireshark.def

Document and export:
tvb_bcd_dig_to_ep_str();
------------------------------------------------------------------------
r35500 | jake | 2011-01-11 23:31:49 -0800 (Tue, 11 Jan 2011) | 12 lines
Changed paths:
   M /trunk/epan/dissectors/packet-agentx.c

From Fulko Hew:
Improved the decoding of OID search ranges in AgentX dissector:

1/ OID highlighting on first OID of a range was too long.
   The code incorrectly used the length of the printable string instead 
   of the length of the source data.
2/ Added bitwise dissection of the 'include' field of an OID decoding.
3/ Added corrected 'start/end' range information to SearchRange decoding to
   discriminate between an 'end' indicator (old way) and the new way that 
   shows both an inclusive/exclusive indicator as well as a start/end range 
   indicator. (applicable to getnext/getbulk requests).

------------------------------------------------------------------------
r35501 | etxrab | 2011-01-11 23:36:55 -0800 (Tue, 11 Jan 2011) | 1 line
Changed paths:
   M /trunk/asn1/gsm_map/packet-gsm_map-template.c
   M /trunk/epan/dissectors/packet-gsm_map.c

Use value_string_ext in a couple of places.
------------------------------------------------------------------------
r35502 | etxrab | 2011-01-11 23:39:54 -0800 (Tue, 11 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c

Update a value_string.
------------------------------------------------------------------------
r35503 | jake | 2011-01-11 23:42:18 -0800 (Tue, 11 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c

From Steve Karg:
Added a display filter on BACnet WhoIs Low Limit and High Limit.

------------------------------------------------------------------------
r35504 | jake | 2011-01-11 23:46:46 -0800 (Tue, 11 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wifi-p2p.c

From Eliad:
Add dissector for P2P Group BSSID attribute (of p2p).

------------------------------------------------------------------------
r35505 | etxrab | 2011-01-12 08:43:19 -0800 (Wed, 12 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_gm.c

Update dissection of Protocol configuration options.
------------------------------------------------------------------------
r35506 | etxrab | 2011-01-12 08:43:59 -0800 (Wed, 12 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Enhance IE dissection.
------------------------------------------------------------------------
r35507 | etxrab | 2011-01-12 09:05:58 -0800 (Wed, 12 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Mark a parameter as unused.
------------------------------------------------------------------------
r35508 | morriss | 2011-01-12 09:20:52 -0800 (Wed, 12 Jan 2011) | 18 lines
Changed paths:
   M /trunk/epan/value_string.c
   M /trunk/epan/value_string.h

Fix the fuzz failure in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5574 :

The first time a value_string_ext() is accessed, _match_strval_ext_init() is
used before the real match function is called.  This function was not expanded
to take an idx parameter (in rev 35451).  It compiled only because the function:
  a) previously did not match _value_string_match_t
  b) and the difference was being cast away when assigning _match_strval to it
     (So the fact that the index parameter was not added was also ignored.)

To fix the problem, give _match_strval_ext_init() and index parameter and use
it instead of a dummy variable when calling the real match function.  That way
the first call to match_strval_ext_idx() will return an actual (initialized)
index.

To prevent the problem in the future, make the vse argument to
_match_strval_ext_init() const *and then cast away the constness* so the
function can modify the vse.

------------------------------------------------------------------------
r35509 | morriss | 2011-01-12 12:25:36 -0800 (Wed, 12 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/tvbuff.c

There's no need to call tvb_get_ptr() in here: just call ensure_contiguous() directly.
------------------------------------------------------------------------
r35510 | etxrab | 2011-01-12 13:36:11 -0800 (Wed, 12 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c

Set gsm_a_dtap_pinfo->link_dir to get proper dissection of PCO.
------------------------------------------------------------------------
r35511 | gerald | 2011-01-12 15:20:03 -0800 (Wed, 12 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

Start updating the release notes for 1.5.

------------------------------------------------------------------------
r35512 | gerald | 2011-01-12 16:52:32 -0800 (Wed, 12 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

More 1.5 updates.

------------------------------------------------------------------------
r35513 | etxrab | 2011-01-12 22:32:23 -0800 (Wed, 12 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_gm.c

From Pascal Quantin:
Fix dissection of  protocol ID.
------------------------------------------------------------------------
r35514 | sake | 2011-01-13 00:35:29 -0800 (Thu, 13 Jan 2011) | 3 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

Added a couple of my new features


------------------------------------------------------------------------
r35515 | etxrab | 2011-01-13 06:07:34 -0800 (Thu, 13 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gprs-llc.c

Make it possible to dissect the part pressent in short frames.
------------------------------------------------------------------------
r35516 | etxrab | 2011-01-13 06:36:40 -0800 (Thu, 13 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gprs-llc.c

Remove an unused variable.
------------------------------------------------------------------------
r35517 | etxrab | 2011-01-13 07:03:55 -0800 (Thu, 13 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gprs-llc.c

Use value_string_ext.
------------------------------------------------------------------------
r35518 | martinm | 2011-01-13 07:16:45 -0800 (Thu, 13 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Getting ready for R9 versions of some LTE protocols.

------------------------------------------------------------------------
r35519 | morriss | 2011-01-13 07:53:30 -0800 (Thu, 13 Jan 2011) | 11 lines
Changed paths:
   M /trunk/epan/address_to_str.c
   M /trunk/epan/dissectors/packet-3g-a11.c
   M /trunk/epan/dissectors/packet-sctp.c
   M /trunk/epan/dissectors/packet-sua.c
   M /trunk/epan/dissectors/packet-wccp.c
   M /trunk/epan/libwireshark.def
   M /trunk/epan/to_str.h

Introduce, and start using, tvb_ip_to_str() and tvb_ip6_to_str().  These
do the same as the non-tvb equivalents but take a TVB and an offset instead
of a pointer to an array of bytes.

Their purpose is to prevent (many) dissectors from doing:
ip_to_str(tvb_get_ptr(...)).

(About the names and the location: I like the names as they are but the names
imply that they should live in tvbuff.c.  That would make some sense but
I didn't want to pull to_str.h into tvbuff.c...)

------------------------------------------------------------------------
r35520 | sfisher | 2011-01-13 09:25:22 -0800 (Thu, 13 Jan 2011) | 4 lines
Changed paths:
   M /trunk/docbook/release-notes.xml


Add some of my changes since 1.4 was released


------------------------------------------------------------------------
r35521 | sfisher | 2011-01-13 09:39:54 -0800 (Thu, 13 Jan 2011) | 4 lines
Changed paths:
   M /trunk/globals.h


Wrap include file in extern "C" { ... } for __cplusplus


------------------------------------------------------------------------
r35522 | sfisher | 2011-01-13 09:54:30 -0800 (Thu, 13 Jan 2011) | 4 lines
Changed paths:
   M /trunk/capture.c


Add "break;" to end of last case statement.


------------------------------------------------------------------------
r35523 | jake | 2011-01-13 13:17:24 -0800 (Thu, 13 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

Mention another RTP player feature.

------------------------------------------------------------------------
r35524 | jake | 2011-01-13 13:22:57 -0800 (Thu, 13 Jan 2011) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-meta.c
   M /trunk/epan/dissectors/packet-meta.h

From Clemens Auer:
This patch adds support for the following fields in Meta protocol:
- Deciphered
- Local Device ID,
- Remote Device ID,
- Tap Group ID,
- TLLI,
- Calling Station ID,
- Called Station ID

------------------------------------------------------------------------
r35525 | gerald | 2011-01-13 14:08:26 -0800 (Thu, 13 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

Add keyboard shortcuts.

------------------------------------------------------------------------
r35526 | morriss | 2011-01-13 14:18:30 -0800 (Thu, 13 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pim.c

Don't (blindly) pass the result of match_strval() into proto_tree_add_*():
some OS (like Solaris) don't like NULL pointers to strings in (s)printf
formats; use val_to_str() instead.

------------------------------------------------------------------------
r35527 | gerald | 2011-01-13 14:43:01 -0800 (Thu, 13 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

Add the TCP scaling graph.

------------------------------------------------------------------------
r35528 | gerald | 2011-01-13 14:45:27 -0800 (Thu, 13 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

VMS → HP OpenVMS.

------------------------------------------------------------------------
r35529 | morriss | 2011-01-13 19:44:58 -0800 (Thu, 13 Jan 2011) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-asap.c
   M /trunk/epan/dissectors/packet-bootp.c
   M /trunk/epan/dissectors/packet-cdp.c
   M /trunk/epan/dissectors/packet-chdlc.c
   M /trunk/epan/dissectors/packet-dcerpc-epm.c
   M /trunk/epan/dissectors/packet-dhcp-failover.c
   M /trunk/epan/dissectors/packet-dns.c
   M /trunk/epan/dissectors/packet-enrp.c
   M /trunk/epan/dissectors/packet-gtpv2.c
   M /trunk/epan/dissectors/packet-iapp.c
   M /trunk/epan/dissectors/packet-icmp.c
   M /trunk/epan/dissectors/packet-icp.c
   M /trunk/epan/dissectors/packet-igmp.c
   M /trunk/epan/dissectors/packet-isakmp.c
   M /trunk/epan/dissectors/packet-isis-lsp.c
   M /trunk/epan/dissectors/packet-ismp.c
   M /trunk/epan/dissectors/packet-lmp.c
   M /trunk/epan/dissectors/packet-mip.c
   M /trunk/epan/dissectors/packet-mpls-echo.c
   M /trunk/epan/dissectors/packet-msdp.c
   M /trunk/epan/dissectors/packet-nbns.c
   M /trunk/epan/dissectors/packet-ospf.c

Replace ip_to_str((tvb_get_ptr(...)) with tvb_ip_to_str().
Replace ip6_to_str((tvb_get_ptr(...)) with tvb_ip6_to_str().

There's no need to pass the result of tvb_get_ptr() as the 'value' in
proto_tree_add_*(): just use proto_tree_add_item().

Replace some tvb_get_ptr()s with tvb_get_ephemeral_string()s.

Replace some memcpy()+tvb_get_ptr() with tvb_memcpy().

------------------------------------------------------------------------
r35530 | jake | 2011-01-13 23:20:31 -0800 (Thu, 13 Jan 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c

From Hadar Shoham:
bootp option 123 has 2 chooses - coordinate based location RFC 3825 or
CableLabs DSS_ID. Add better support for having 2 DSS_ID with dynamic
size (up to 32 byte each)

------------------------------------------------------------------------
r35531 | martinm | 2011-01-14 03:21:28 -0800 (Fri, 14 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Rather than repairing out-of-range subframe numbers, make sure error gets reported (and then are not used to access beyond subframe arrays).

------------------------------------------------------------------------
r35532 | martinm | 2011-01-14 03:32:58 -0800 (Fri, 14 Jan 2011) | 2 lines
Changed paths:
   M /trunk/gtk/mac_lte_stat_dlg.c
   M /trunk/gtk/rlc_lte_stat_dlg.c

Move MAC and RLC stats menu items into a common LTE subtree.

------------------------------------------------------------------------
r35533 | grahamb | 2011-01-14 04:15:10 -0800 (Fri, 14 Jan 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dnp.c

Updated dissector:
Additional function codes: Disable unsolicited messages, Open\Close\Delete file
Additional data objects: Analog output events, File objects and Octet string events.
Improved Info column display for reassembled fragments.
Changed all event timestamps to be UTC as per protocol spec.

------------------------------------------------------------------------
r35534 | grahamb | 2011-01-14 04:16:59 -0800 (Fri, 14 Jan 2011) | 1 line
Changed paths:
   M /trunk/gtk

Added ignore for *.pkl build artefacts
------------------------------------------------------------------------
r35535 | martinm | 2011-01-14 06:25:24 -0800 (Fri, 14 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-mac-lte.h

When looking for previous frame for UL/DL retx, use harq-id + ndi bit.

------------------------------------------------------------------------
r35536 | grahamb | 2011-01-14 06:39:40 -0800 (Fri, 14 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dnp.c

Removed redundant comparison that caused compilation failure on OSX
------------------------------------------------------------------------
r35537 | cmaynard | 2011-01-14 09:06:53 -0800 (Fri, 14 Jan 2011) | 2 lines
Changed paths:
   M /trunk/tap-dcerpcstat.c
   M /trunk/tap-rpcprogs.c
   M /trunk/tap-rpcstat.c
   M /trunk/tap-smbstat.c

From Cal Turney via bug 4964: Round & display 6 decimal places in tshark SRTs.

------------------------------------------------------------------------
r35538 | cmaynard | 2011-01-14 11:02:38 -0800 (Fri, 14 Jan 2011) | 2 lines
Changed paths:
   M /trunk/asn1/mpeg-pes/packet-mpeg-pes-template.c
   M /trunk/doc/README.developer
   M /trunk/epan/dissectors/packet-mpeg-pes.c
   M /trunk/epan/libwireshark.def
   M /trunk/epan/pint.h
   M /trunk/epan/tvbuff.c
   M /trunk/epan/tvbuff.h

Add tvb_get_[n|le]toh[40|48|56]() accessors.  Addresses bug 5082.

------------------------------------------------------------------------
r35539 | etxrab | 2011-01-14 13:43:31 -0800 (Fri, 14 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.c
   M /trunk/epan/dissectors/packet-gsm_a_common.h

- Add TELV to dissct IE's with an extention bit in the length vallue.
- Add a BSSGP PDU type
- Put IE name in the top tree for ELEM_V
------------------------------------------------------------------------
r35540 | morriss | 2011-01-14 19:25:43 -0800 (Fri, 14 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pcep.c
   M /trunk/epan/dissectors/packet-pim.c
   M /trunk/epan/dissectors/packet-ppp.c
   M /trunk/epan/dissectors/packet-rip.c
   M /trunk/epan/dissectors/packet-rsvp.c
   M /trunk/epan/dissectors/packet-slimp3.c
   M /trunk/epan/dissectors/packet-tapa.c
   M /trunk/epan/dissectors/packet-tpncp.c
   M /trunk/epan/dissectors/packet-xdmcp.c

Replace ip_to_str((tvb_get_ptr(...)) with tvb_ip_to_str().
Replace ip6_to_str((tvb_get_ptr(...)) with tvb_ip6_to_str().

------------------------------------------------------------------------
r35541 | morriss | 2011-01-15 10:18:13 -0800 (Sat, 15 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dnp.c

Replace some duplicate blurbs with NULL
------------------------------------------------------------------------
r35542 | morriss | 2011-01-15 10:58:42 -0800 (Sat, 15 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-stun.c

Don't (blindly) pass the result of match_strval() into proto_tree_add_*():
some OS (like Solaris) don't like NULL pointers to strings in (s)printf
formats; use val_to_str() instead.

------------------------------------------------------------------------
r35543 | morriss | 2011-01-15 11:01:53 -0800 (Sat, 15 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-kerberos.c

Replace ip_to_str((tvb_get_ptr(...)) with tvb_ip_to_str().
Replace ip6_to_str((tvb_get_ptr(...)) with tvb_ip6_to_str().

------------------------------------------------------------------------
r35544 | etxrab | 2011-01-15 15:13:28 -0800 (Sat, 15 Jan 2011) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Comitting work in progress to fix the linking problem.
>Linking fails now:
>epan/.libs/libwireshark.so: undefined reference to `hf_bssgp_elem_id'
>epan/.libs/libwireshark.so: undefined reference to `bssgp_elem_fcn'
>epan/.libs/libwireshark.so: undefined reference to `ett_bssgp_elem'
>epan/.libs/libwireshark.so: undefined reference to >`bssgp_elem_strings'
>Did you miss packet-bssgp.c in that commit?

I'll try to clean this up in the next few days.
------------------------------------------------------------------------
r35545 | morriss | 2011-01-15 19:29:03 -0800 (Sat, 15 Jan 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-aruba-adp.c
   M /trunk/epan/dissectors/packet-dcerpc-rs_pgo.c
   M /trunk/epan/dissectors/packet-dcom.c
   M /trunk/epan/dissectors/packet-dec-dnart.c
   M /trunk/epan/dissectors/packet-fc.c
   M /trunk/epan/dissectors/packet-fcsp.c
   M /trunk/epan/dissectors/packet-fddi.c
   M /trunk/epan/dissectors/packet-icq.c
   M /trunk/epan/dissectors/packet-ismp.c

Use tvb_ip_to_str().

There's no need to pass the result of tvb_get_ptr() as the 'value' in
proto_tree_add_*(): just use proto_tree_add_item().

Replace some tvb_get_ptr()s with tvb_get_ephemeral_string()s to ensure the
return string is NULL terminated.

------------------------------------------------------------------------
r35546 | morriss | 2011-01-15 19:35:29 -0800 (Sat, 15 Jan 2011) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-btobex.c
   M /trunk/epan/dissectors/packet-cms.c
   M /trunk/epan/dissectors/packet-cops.c
   M /trunk/epan/dissectors/packet-dcc.c
   M /trunk/epan/dissectors/packet-dcm.c
   M /trunk/epan/dissectors/packet-dsi.c
   M /trunk/epan/dissectors/packet-dtpt.c
   M /trunk/epan/dissectors/packet-echo.c
   M /trunk/epan/dissectors/packet-fcip.c
   M /trunk/epan/dissectors/packet-gsm_a_gm.c
   M /trunk/epan/dissectors/packet-gsm_map.c
   M /trunk/epan/dissectors/packet-ipsi-ctl.c
   M /trunk/epan/dissectors/packet-iscsi.c
   M /trunk/epan/dissectors/packet-ldp.c

Use tvb_memeql() and tvb_memcpy().

Use tvb_ip_to_str() and tvb_ip6_to_str().

There's no need to pass the result of tvb_get_ptr() as the 'value' in
proto_tree_add_*(): just use proto_tree_add_item().

Replace some tvb_get_ptr()s with tvb_get_ephemeral_string()s to ensure the
return string is NULL terminated.

------------------------------------------------------------------------
r35547 | morriss | 2011-01-15 19:46:16 -0800 (Sat, 15 Jan 2011) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-afp.c
   M /trunk/epan/dissectors/packet-atalk.c
   M /trunk/epan/dissectors/packet-fmp.c
   M /trunk/epan/dissectors/packet-hpsw.c
   M /trunk/epan/dissectors/packet-icmpv6.c
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/epan/dissectors/packet-isis-clv.c

Use tvb_memeql().

Use tvb_ip_to_str().

There's no need to pass the result of tvb_get_ptr() as the 'value' in
proto_tree_add_*(): just use proto_tree_add_item().

Replace some tvb_get_ptr()s with tvb_get_ephemeral_string()s to ensure the
return string is NULL terminated.

------------------------------------------------------------------------
r35548 | morriss | 2011-01-15 19:57:12 -0800 (Sat, 15 Jan 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-artnet.c
   M /trunk/epan/dissectors/packet-dhcpv6.c
   M /trunk/epan/dissectors/packet-fcdns.c
   M /trunk/epan/dissectors/packet-ipv6.c
   M /trunk/epan/dissectors/packet-ipx.c
   M /trunk/epan/dissectors/packet-lldp.c
   M /trunk/epan/dissectors/packet-lwres.c

Replace some tvb_get_ptr()s with tvb_get_ephemeral_string()s to ensure the
return string is NULL terminated.

There's no need to pass the result of tvb_get_ptr() as the 'value' in
proto_tree_add_*(): just use proto_tree_add_item().

------------------------------------------------------------------------
r35549 | morriss | 2011-01-15 20:33:42 -0800 (Sat, 15 Jan 2011) | 7 lines
Changed paths:
   M /trunk/epan/address_to_str.c
   M /trunk/epan/dissectors/packet-fcdns.c
   M /trunk/epan/dissectors/packet-fcels.c
   M /trunk/epan/dissectors/packet-fcfcs.c
   M /trunk/epan/to_str.h

Introduce, and start using, tvb_fc_to_str() and tvb_fcwwm_to_str(): these
functions act like their non-tvb counterparts except that they take a tvb and
and offset instead of a pointer to a byte array.

This basically saves the dissectors from having to call tvb_get_ptr()--which in
this case eliminates a couple of typos in the length given to tvb_get_ptr().

------------------------------------------------------------------------
r35550 | morriss | 2011-01-15 20:38:59 -0800 (Sat, 15 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Move assignment of 'oct' outside of if(tree)--it is used outside of the if block.
------------------------------------------------------------------------
r35551 | etxrab | 2011-01-16 00:24:11 -0800 (Sun, 16 Jan 2011) | 3 lines
Changed paths:
   M /trunk/asn1/gsm_map/gsm_map.cnf
   M /trunk/epan/dissectors/packet-gsm_map.c

r35546 Replace some tvb_get_ptr()s with tvb_get_ephemeral_string()s to ensure the
return string is NULL terminated.
Make the change also in the .cnf file
------------------------------------------------------------------------
r35552 | gerald | 2011-01-16 08:03:51 -0800 (Sun, 16 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf, services and enterprise-numbers update for 2011-01-16]
------------------------------------------------------------------------
r35555 | morriss | 2011-01-16 10:36:04 -0800 (Sun, 16 Jan 2011) | 1 line
Changed paths:
   M /trunk/docbook/release-notes.xml

<shortcut> doesn't appear to be a valid element.
------------------------------------------------------------------------
r35556 | etxrab | 2011-01-16 10:36:17 -0800 (Sun, 16 Jan 2011) | 4 lines
Changed paths:
   M /trunk/asn1/ansi_map/ansi_map.asn
   M /trunk/epan/dissectors/packet-ansi_map.c

From Porus Mehta:
Corrections to ANSI MAP ASN.1 specifications.

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5584
------------------------------------------------------------------------
r35557 | morriss | 2011-01-16 10:37:56 -0800 (Sun, 16 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fcfzs.c
   M /trunk/epan/dissectors/packet-fcip.c
   M /trunk/epan/dissectors/packet-fcsp.c
   M /trunk/epan/dissectors/packet-fcswils.c
   M /trunk/epan/dissectors/packet-fip.c
   M /trunk/epan/dissectors/packet-ipfc.c

Use tvb_fc_to_str() and tvb_fcwwm_to_str().

------------------------------------------------------------------------
r35558 | morriss | 2011-01-16 12:51:21 -0800 (Sun, 16 Jan 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-meta.c
   M /trunk/epan/dissectors/packet-mmse.c
   M /trunk/epan/dissectors/packet-mount.c
   M /trunk/epan/dissectors/packet-msproxy.c
   M /trunk/epan/dissectors/packet-mysql.c
   M /trunk/epan/dissectors/packet-netbios.c
   M /trunk/epan/dissectors/packet-ntp.c
   M /trunk/epan/dissectors/packet-pagp.c
   M /trunk/epan/dissectors/packet-pktc.c
   M /trunk/epan/dissectors/packet-q2931.c
   M /trunk/epan/dissectors/packet-q931.c
   M /trunk/epan/dissectors/packet-q933.c
   M /trunk/epan/dissectors/packet-quake2.c
   M /trunk/epan/dissectors/packet-raw.c
   M /trunk/epan/dissectors/packet-rmt-lct.c
   M /trunk/epan/dissectors/packet-rmt-lct.h
   M /trunk/epan/dissectors/packet-sap.c
   M /trunk/epan/dissectors/packet-scsi.c
   M /trunk/epan/dissectors/packet-slowprotocols.c
   M /trunk/epan/dissectors/packet-smb-browse.c
   M /trunk/epan/dissectors/packet-smb-common.c
   M /trunk/epan/dissectors/packet-smb-pipe.c
   M /trunk/epan/dissectors/packet-smb.c
   M /trunk/epan/dissectors/packet-smpp.c
   M /trunk/epan/dissectors/packet-socks.c
   M /trunk/epan/dissectors/packet-srvloc.c
   M /trunk/epan/dissectors/packet-ssl.c
   M /trunk/epan/dissectors/packet-trmac.c
   M /trunk/epan/dissectors/packet-uma.c
   M /trunk/epan/dissectors/packet-vmlab.c
   M /trunk/epan/dissectors/packet-wbxml.c
   M /trunk/epan/dissectors/packet-zbee-zcl.c

There's no need to pass the result of tvb_get_ptr() as the 'value' in
proto_tree_add_*(): just use proto_tree_add_item().

Replace some tvb_get_ptr()s with tvb_get_ephemeral_string() or
tvb_get_const_stringz().

Use tvb_memeql() & tvb_memcmp().

------------------------------------------------------------------------
r35559 | jake | 2011-01-16 13:32:39 -0800 (Sun, 16 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cdp.c
   M /trunk/epan/dissectors/packet-lldp.c
   M /trunk/epan/oui.h

From Vaibhav Katkade:
Add support for newly defined LLDP Four-wire Power-via-MDI and 
CDP Spare Pair PoE TLVs

------------------------------------------------------------------------
r35560 | wmeier | 2011-01-16 14:10:03 -0800 (Sun, 16 Jan 2011) | 2 lines
Changed paths:
   M /trunk/capinfos.c

Fix Windows comiler warning: remove unused 'wsadata' variable.

------------------------------------------------------------------------
r35561 | etxrab | 2011-01-16 14:32:22 -0800 (Sun, 16 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_gm.c

Switch to using proto_add_bits_item in a couple of places and fix
missing stepping of bit_offset.
------------------------------------------------------------------------
r35562 | morriss | 2011-01-16 14:52:17 -0800 (Sun, 16 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-slowprotocols.c

Actually use proto_tree_add_item instead of proto_tree_add_bytes.  Fixes bug 5588.
------------------------------------------------------------------------
r35563 | wmeier | 2011-01-16 15:04:33 -0800 (Sun, 16 Jan 2011) | 3 lines
Changed paths:
   M /trunk/version_info.c

Fix a Windows compiler warning;
Minor whitespace cleanup.

------------------------------------------------------------------------
r35564 | wmeier | 2011-01-16 15:24:15 -0800 (Sun, 16 Jan 2011) | 5 lines
Changed paths:
   M /trunk/Makefile.nmake

Compile text2pcap.c,mergecap.c,capinfos.c,editcap.c, & version_info.c with -WX;
(Treat warnings as errors);
Done by simplifing the dependency line for the objects so that the
 default .c.obj inference rule is used.

------------------------------------------------------------------------
r35565 | wmeier | 2011-01-16 15:47:05 -0800 (Sun, 16 Jan 2011) | 2 lines
Changed paths:
   M /trunk/plugins/giop/Makefile.nmake

Do Windows compile with /WX flag: treat warnings as errors.

------------------------------------------------------------------------
r35566 | etxrab | 2011-01-17 05:09:08 -0800 (Mon, 17 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_gm.c
   M /trunk/epan/tfs.c
   M /trunk/epan/tfs.h

- Remove debug printout.
- Enhance dissection a bit.
- add new true_false_strings
------------------------------------------------------------------------
r35567 | etxrab | 2011-01-17 06:18:54 -0800 (Mon, 17 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.c

Restore dissection of Mobile Identity(revert the code).
------------------------------------------------------------------------
r35568 | martinm | 2011-01-17 07:01:22 -0800 (Mon, 17 Jan 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

- Use correct data pointer during a comparison.
- Add expert info to show when DRX command is received
- Get rid of some tabs


------------------------------------------------------------------------
r35569 | morriss | 2011-01-17 07:22:11 -0800 (Mon, 17 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-uma.c

Actually use proto_tree_add_item() instead of proto_tree_add_ether().  I hope I didn't miss more of these...
------------------------------------------------------------------------
r35570 | wmeier | 2011-01-17 08:36:52 -0800 (Mon, 17 Jan 2011) | 2 lines
Changed paths:
   M /trunk/gtk/packet_list_store.c

Remove redundant test for a non-null pointer;

------------------------------------------------------------------------
r35571 | wmeier | 2011-01-17 08:51:31 -0800 (Mon, 17 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

(Until Anders comletes work): use #if 0 instead of //; init a variable;

------------------------------------------------------------------------
r35572 | etxrab | 2011-01-17 13:10:54 -0800 (Mon, 17 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_rr.c

- append TLLI value.
- Whitespace changes.
------------------------------------------------------------------------
r35573 | etxrab | 2011-01-17 13:12:30 -0800 (Mon, 17 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.c

Handle two length octets correctly in TELV.
------------------------------------------------------------------------
r35574 | gerald | 2011-01-17 14:23:35 -0800 (Mon, 17 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

Add another item.

------------------------------------------------------------------------
r35575 | jmayer | 2011-01-18 09:49:41 -0800 (Tue, 18 Jan 2011) | 2 lines
Changed paths:
   M /trunk/CMakeLists.txt

dumpcap failed to link - add glib2 and wsutil libraries to fix this.

------------------------------------------------------------------------
r35576 | etxrab | 2011-01-18 12:16:56 -0800 (Tue, 18 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.h

Introduce EXTRANEOUS_DATA_CHECK_EXPERT
which adds an expert item.
------------------------------------------------------------------------
r35577 | etxrab | 2011-01-18 22:27:50 -0800 (Tue, 18 Jan 2011) | 5 lines
Changed paths:
   M /trunk/asn1/ulp/SUPL.asn
   M /trunk/asn1/ulp/ULP-Components.asn
   M /trunk/asn1/ulp/ULP.asn
   M /trunk/epan/dissectors/packet-ulp.c

Updated to OMA-TS-ULP-V2_0-20100806-D
with asn1 files from eyimjia.
Files hand edited to pass as2wrs.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5593
(Does not fix the bug)
------------------------------------------------------------------------
r35578 | etxrab | 2011-01-18 22:33:33 -0800 (Tue, 18 Jan 2011) | 1 line
Changed paths:
   M /trunk/tools/asn2wrs.py

Try to enhance output at ValueError to ease debugging.
------------------------------------------------------------------------
r35579 | etxrab | 2011-01-18 22:43:28 -0800 (Tue, 18 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_gm.c

Add the RAI value to "add_string"
------------------------------------------------------------------------
r35580 | etxrab | 2011-01-19 01:35:34 -0800 (Wed, 19 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Cleaned up splitt between old and new dissection style.
A lot of conversion still needed.
------------------------------------------------------------------------
r35581 | etxrab | 2011-01-19 01:49:36 -0800 (Wed, 19 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

packet-bssgp.c:6916: warning: 'bssgp_tree' may be used uninitialized in this function
------------------------------------------------------------------------
r35582 | etxrab | 2011-01-19 06:55:15 -0800 (Wed, 19 Jan 2011) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Fix the broken Edit Menu when UImanager is used.
(UnmarkAllDisplayedPackets)
------------------------------------------------------------------------
r35583 | sfisher | 2011-01-19 09:58:53 -0800 (Wed, 19 Jan 2011) | 5 lines
Changed paths:
   M /trunk/gtk/main_proto_draw.c


From Cal Turney via bug #5585: When searching in packet bytes, the field and
bytes are not immediately shown.


------------------------------------------------------------------------
r35584 | sfisher | 2011-01-19 10:21:21 -0800 (Wed, 19 Jan 2011) | 5 lines
Changed paths:
   M /trunk/cfile.h
   M /trunk/file.c
   M /trunk/gtk/main.c
   M /trunk/gtk/main_proto_draw.c


From Cal Turney via enhancement bug #5587: In hex or string searches of the
packet data highlight the target rather than the entire field.


------------------------------------------------------------------------
r35585 | sfisher | 2011-01-19 11:42:00 -0800 (Wed, 19 Jan 2011) | 5 lines
Changed paths:
   M /trunk/gtk/main_proto_draw.c


Cast the returned value from strlen() to an int to make the Windows 64-bit
buildbot happy.


------------------------------------------------------------------------
r35586 | jake | 2011-01-19 12:57:39 -0800 (Wed, 19 Jan 2011) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c
   M /trunk/epan/dissectors/packet-ipv6.h

From Alexis La Goutte:
A patch to enhance the ICMPv6 dissector
- Make ICMP Type (sub)field filterable
- Add Inverse Neighbor Discovery (RFC 3122)
- Remove dependency to packet-ipv6.h
- Cleanup packet-ipv6.h
- Update RFC Draft to draft-ietf-roll-rpl-17 (with make a sub dissector
  for RPL Control and add Secure RPL...)
- Replace tvb_get_ipv6/ip6_to_str by new function tvb_ip6_to_str
- and other enchancements.....
------------------------------------------------------------------------
r35587 | sfisher | 2011-01-19 13:45:54 -0800 (Wed, 19 Jan 2011) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc.c


Fix warning found by clang...

packet-dcerpc.c:4056:19: error: comparison of integers of different signs:
      'guint32' (aka 'unsigned int') and 'int' [-Wsign-compare]
    for (i = 0; i < (int) commands_nb; ++i) {
                ~ ^ ~~~~~~~~~~~~~~~~~

... by removing the "(int)" cast


------------------------------------------------------------------------
r35588 | sfisher | 2011-01-19 13:51:30 -0800 (Wed, 19 Jan 2011) | 12 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c


Simply this:

    #define SIP2_HDR "SIP/2.0"
    #define SIP2_HDR_LEN ((gint)strlen (SIP2_HDR))

To this:

    #define SIP2_HDR "SIP/2.0"
    #define SIP2_HDR_LEN 7


------------------------------------------------------------------------
r35589 | sfisher | 2011-01-19 14:53:38 -0800 (Wed, 19 Jan 2011) | 11 lines
Changed paths:
   M /trunk/epan/in_cksum.c


Change the ADDCARRY(x) macro to eliminate clang warning about unused
result from the ADDCARRY portion of the REDUCE macro.

-#define ADDCARRY(x)  (x > 65535 ? x -= 65535 : x)
+#define ADDCARRY(x)  {if ((x) > 65535) (x) -= 65535;}

The new code is from in_cksum.c in the Tahoe/CGI port of 4.4BSD-Lite2 (we're
using the "Portable Version" copy otherwise).


------------------------------------------------------------------------
r35590 | jake | 2011-01-19 14:53:46 -0800 (Wed, 19 Jan 2011) | 1 line
Changed paths:
   M /trunk/plugins/wimax/msg_dlmap.c
   M /trunk/plugins/wimax/msg_pmc.c
   M /trunk/plugins/wimax/msg_ulmap.c
   M /trunk/plugins/wimax/packet-wmx.c
   M /trunk/plugins/wimax/wimax_bits.h
   M /trunk/plugins/wimax/wimax_compact_dlmap_ie_decoder.c
   M /trunk/plugins/wimax/wimax_tlv.h

Use Wireshark standard marking for unused parameters.
------------------------------------------------------------------------
r35591 | jake | 2011-01-19 14:55:53 -0800 (Wed, 19 Jan 2011) | 1 line
Changed paths:
   M /trunk/plugins/wimax/msg_pkm.c

Don't stop calling subdissectors when there's no tree.
------------------------------------------------------------------------
r35592 | sfisher | 2011-01-19 14:57:19 -0800 (Wed, 19 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/in_cksum.c


Add a note to the top about r35589's change of the ADDCARRY(x) macro.


------------------------------------------------------------------------
r35593 | morriss | 2011-01-19 19:49:44 -0800 (Wed, 19 Jan 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcm.c
   M /trunk/epan/dissectors/packet-dcp-etsi.c
   M /trunk/epan/dissectors/packet-ismp.c
   M /trunk/epan/dissectors/packet-ntp.c
   M /trunk/epan/dissectors/packet-olsr.c

Roll some calls to tvb_get_ptr() into proto_tree_add_bytes_format() (instead
of going through a temporary variable).  This just makes it more obvious which
add_bytes_format() calls are or are not being given pointers into the TVB.

Use tvb_ip_to_str() and tvb_ip6_to_str() in a couple spots.

------------------------------------------------------------------------
r35594 | jake | 2011-01-20 00:58:03 -0800 (Thu, 20 Jan 2011) | 2 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

Allow for expert items to be actually attached somewhere.

------------------------------------------------------------------------
r35595 | etxrab | 2011-01-20 05:05:17 -0800 (Thu, 20 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

In MM context the container contains IE:s not a complete
DTAP message.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5598
------------------------------------------------------------------------
r35596 | etxrab | 2011-01-20 05:19:26 -0800 (Thu, 20 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Update a comment.
------------------------------------------------------------------------
r35597 | etxrab | 2011-01-20 06:03:13 -0800 (Thu, 20 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Fix typos
------------------------------------------------------------------------
r35598 | sfisher | 2011-01-20 10:56:11 -0800 (Thu, 20 Jan 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-assa_r3.c
   M /trunk/epan/dissectors/packet-bacapp.c
   M /trunk/epan/dissectors/packet-gtp.c
   M /trunk/epan/dissectors/packet-rtcp.c
   M /trunk/epan/tvbuff.c
   M /trunk/wiretap/pcap-common.c


Fix the dead initialization warnings found by clang's static analysis
("Value stored to 'xxx' during its initialization is never read")


------------------------------------------------------------------------
r35599 | jake | 2011-01-20 12:04:39 -0800 (Thu, 20 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/oids.c

Allow presentation of Gauge32 values larger than 0x7FFFFFFF.

------------------------------------------------------------------------
r35600 | sake | 2011-01-20 16:19:03 -0800 (Thu, 20 Jan 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-esis.c
   M /trunk/epan/dissectors/packet-gre.c
   M /trunk/epan/dissectors/packet-gsm_a_gm.c
   M /trunk/epan/dissectors/packet-gvcp.c
   M /trunk/epan/dissectors/packet-linx.c
   M /trunk/epan/dissectors/packet-nsip.c
   M /trunk/epan/dissectors/packet-ntp.c
   M /trunk/epan/dissectors/packet-ppp.c
   M /trunk/epan/dissectors/packet-prp.c
   M /trunk/epan/dissectors/packet-turbocell.c
   M /trunk/epan/sigcomp_state_hdlr.c

Adress => Address corrections (also in comments).

(see bug 5600)


------------------------------------------------------------------------
r35601 | morriss | 2011-01-20 18:25:30 -0800 (Thu, 20 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-wol.c

Use tvb_ip_to_str()
------------------------------------------------------------------------
r35602 | morriss | 2011-01-20 18:48:55 -0800 (Thu, 20 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/address_to_str.c
   M /trunk/epan/dissectors/packet-atm.c
   M /trunk/epan/dissectors/packet-cdp.c
   M /trunk/epan/dissectors/packet-ipx.c
   M /trunk/epan/dissectors/packet-ismp.c
   M /trunk/epan/dissectors/packet-mactelnet.c
   M /trunk/epan/dissectors/packet-nbns.c
   M /trunk/epan/dissectors/packet-netbios.c
   M /trunk/epan/dissectors/packet-nlsp.c
   M /trunk/epan/dissectors/packet-ppp.c
   M /trunk/epan/dissectors/packet-radius.c
   M /trunk/epan/dissectors/packet-trmac.c
   M /trunk/epan/dissectors/packet-vines.c
   M /trunk/epan/libwireshark.def
   M /trunk/epan/to_str.h

Introduce, and start using, tvb_eth_to_str().

Export tvb_*_to_str() and put them in alphabetical order.

------------------------------------------------------------------------
r35603 | morriss | 2011-01-20 19:00:31 -0800 (Thu, 20 Jan 2011) | 5 lines
Changed paths:
   M /trunk/plugins/gryphon/packet-gryphon.c
   M /trunk/plugins/profinet/packet-dcom-cba-acco.c
   M /trunk/plugins/profinet/packet-pn.c
   M /trunk/plugins/wimaxasncp/packet-wimaxasncp.c

There's no need to pass the result of tvb_get_ptr() as the 'value' in
proto_tree_add_*(): just use proto_tree_add_item().
   
Replace some tvb_get_ptr()s with tvb_get_ephemeral_string().

------------------------------------------------------------------------
r35604 | etxrab | 2011-01-20 22:27:08 -0800 (Thu, 20 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/libwireshark.def

Fix typos
------------------------------------------------------------------------
r35605 | etxrab | 2011-01-20 22:30:55 -0800 (Thu, 20 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-prp.c

From Tobias Klauser:
Fix standard to IEC62439 Part 3
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5599
------------------------------------------------------------------------
r35606 | etxrab | 2011-01-21 01:24:43 -0800 (Fri, 21 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

CN-Id is two bytes.
------------------------------------------------------------------------
r35607 | etxrab | 2011-01-21 01:26:29 -0800 (Fri, 21 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.h
   M /trunk/epan/dissectors/packet-sgsap.c

Move sgsap_elem_idx_t to packet-gsm_a_common.h
Dissect Global-CN-Id
------------------------------------------------------------------------
r35608 | etxrab | 2011-01-21 01:31:25 -0800 (Fri, 21 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.c
   M /trunk/epan/dissectors/packet-gsm_a_gm.c

Use EXTRANEOUS_DATA_CHECK_EXPERT
------------------------------------------------------------------------
r35609 | etxrab | 2011-01-21 06:03:42 -0800 (Fri, 21 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sgsap.c

- Wrong element type used.
- Use match_strval_idx_ext.
------------------------------------------------------------------------
r35610 | morriss | 2011-01-21 09:08:35 -0800 (Fri, 21 Jan 2011) | 7 lines
Changed paths:
   M /trunk/doc/README.developer

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5603 :

Following the discussion on the dev mailing list about ett_ value in subtree
http://www.wireshark.org/lists/wireshark-dev/201101/msg00039.html

a small to update the Readme Developer Guide !

------------------------------------------------------------------------
r35611 | morriss | 2011-01-21 09:12:02 -0800 (Fri, 21 Jan 2011) | 6 lines
Changed paths:
   M /trunk/colorfilters

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5604 :

A small patch to add color rules for ICMPv6 Error (some error as ICMP(v4)..)

With this patch, Wireshark is ready for IPv6 Day ;)

------------------------------------------------------------------------
r35612 | jake | 2011-01-21 12:57:24 -0800 (Fri, 21 Jan 2011) | 1 line
Changed paths:
   M /trunk/docbook/user-guide.xml
   M /trunk/docbook/wsug_graphics/ws-analyze-menu.png
   M /trunk/docbook/wsug_graphics/ws-capture-menu.png
   M /trunk/docbook/wsug_graphics/ws-edit-menu.png
   M /trunk/docbook/wsug_graphics/ws-file-menu.png
   M /trunk/docbook/wsug_graphics/ws-go-menu.png
   M /trunk/docbook/wsug_graphics/ws-help-menu.png
   A /trunk/docbook/wsug_graphics/ws-internals-menu.png
   M /trunk/docbook/wsug_graphics/ws-main.png
   M /trunk/docbook/wsug_graphics/ws-menu.png
   M /trunk/docbook/wsug_graphics/ws-statistics-menu.png
   M /trunk/docbook/wsug_graphics/ws-telephony-menu.png
   M /trunk/docbook/wsug_graphics/ws-tools-menu.png
   M /trunk/docbook/wsug_graphics/ws-view-menu.png

Start update for 1.5 version of User's Guide.
------------------------------------------------------------------------
r35613 | jake | 2011-01-21 15:24:08 -0800 (Fri, 21 Jan 2011) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c

Re-arrange help menu a bit to group website and wiki links.

------------------------------------------------------------------------
r35614 | jake | 2011-01-21 15:37:46 -0800 (Fri, 21 Jan 2011) | 1 line
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_use.xml

Update the User Interface chapter of the User's Guide.
------------------------------------------------------------------------
r35615 | jake | 2011-01-21 16:18:03 -0800 (Fri, 21 Jan 2011) | 8 lines
Changed paths:
   M /trunk/docbook/release-notes.xml
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-lisp-data.c

From Loránd Jakab:
The patch I am attaching here is for dissecting LISP data packets.

From me: 
Minor cleanups.
Showing the reserved field.
Adding to all makefiles and release notes.

------------------------------------------------------------------------
r35616 | martinm | 2011-01-21 19:49:23 -0800 (Fri, 21 Jan 2011) | 2 lines
Changed paths:
   M /trunk/gtk/mac_lte_stat_dlg.c

Add buttons to allow filtering only UL or DL on selected UE.

------------------------------------------------------------------------
r35617 | jake | 2011-01-22 02:38:10 -0800 (Sat, 22 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_app_tools.xml

Insert and update tshark and dumpcap help information.

------------------------------------------------------------------------
r35618 | stig | 2011-01-22 05:43:54 -0800 (Sat, 22 Jan 2011) | 2 lines
Changed paths:
   M /trunk/gtk/profile_dlg.c

Close dir opened by ws_dir_open().

------------------------------------------------------------------------
r35619 | stig | 2011-01-22 05:44:06 -0800 (Sat, 22 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/geoip_db.c

Close dir opened by ws_dir_open().

------------------------------------------------------------------------
r35620 | stig | 2011-01-22 06:02:38 -0800 (Sat, 22 Jan 2011) | 3 lines
Changed paths:
   M /trunk/gtk/file_import_dlg.c

Set active combo_box entry before connecting the changed signal
to avoid a crash when opening the Import window.

------------------------------------------------------------------------
r35621 | morriss | 2011-01-22 07:15:51 -0800 (Sat, 22 Jan 2011) | 14 lines
Changed paths:
   M /trunk/epan/dfilter/semcheck.c

From Johannes Lange  via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5606 :

In semcheck.c the display filter string of an expression is checked against the
header_field_info.display value BASE_CUSTOM. But the value of BASE_CUSTOM is
applied as bitmask while the actual type is an enum (BASE_CUSTOM = 6).

With this BASE_DEC, BASE_DEC_HEX and BASE_HEX_DEC are also matching and are not
accepted as filter expression.


Actually: BASE_DEC works but not BASE_HEX.  And the problem only shows up when
trying to match a field in one of these bases against a string (from a
value_string).

------------------------------------------------------------------------
r35622 | morriss | 2011-01-22 07:35:34 -0800 (Sat, 22 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dmp.c
   M /trunk/epan/dissectors/packet-p_mul.c

Use nstime_set_zero() to initialize nstime_t's.
------------------------------------------------------------------------
r35623 | wmeier | 2011-01-22 08:48:02 -0800 (Sat, 22 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-lisp-data.c

Remove unneeded #includes: <stdio>,<stdlib>,<string>; Add emacs editor modelines

------------------------------------------------------------------------
r35624 | wmeier | 2011-01-22 09:01:47 -0800 (Sat, 22 Jan 2011) | 2 lines
Changed paths:
   M /trunk/AUTHORS

Add Loránd Jakab; Add two missing left-braces;

------------------------------------------------------------------------
r35625 | sfisher | 2011-01-22 09:42:40 -0800 (Sat, 22 Jan 2011) | 5 lines
Changed paths:
   M /trunk/gtk/follow_stream.c


Resolve bug #2520 by moving the follow stream direction combo box above the
buttons to make more room for hostnames.


------------------------------------------------------------------------
r35626 | stig | 2011-01-22 10:07:28 -0800 (Sat, 22 Jan 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-p_mul.c

Ensure we keep the pkg_data pointer for the init routine to cleanup correctly,
because the ep memory is cleared before the init routine is called.

Fixed the variable name for the no_yes true_false_string.
Update reference to protocol description.

------------------------------------------------------------------------
r35627 | gerald | 2011-01-23 08:03:54 -0800 (Sun, 23 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf, services and enterprise-numbers update for 2011-01-23]
------------------------------------------------------------------------
r35629 | wmeier | 2011-01-23 09:29:06 -0800 (Sun, 23 Jan 2011) | 2 lines
Changed paths:
   M /trunk/gtk/capture_if_details_dlg_win32.c

Reword some text about the accuracy of the dislayed values.

------------------------------------------------------------------------
r35631 | jake | 2011-01-23 12:11:08 -0800 (Sun, 23 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
Some patch to cleanup the 802.11 Dissector.

------------------------------------------------------------------------
r35632 | jake | 2011-01-23 12:15:31 -0800 (Sun, 23 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
Some patch to cleanup the 802.11 Dissector.

------------------------------------------------------------------------
r35633 | wmeier | 2011-01-23 12:59:12 -0800 (Sun, 23 Jan 2011) | 7 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

Fix a crash which can occur if a user hits "Capture:Options" immediately followed by "Capture:Start"

Fixes Bug #4645: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4645

Essentially: The "Capture Start" code "interrupted" the "Capture Options" code and attempted
 to use not yet initialized "Capture Options" state.

------------------------------------------------------------------------
r35634 | etxrab | 2011-01-23 15:45:36 -0800 (Sun, 23 Jan 2011) | 1 line
Changed paths:
   M /trunk/asn1/lte-rrc/lte-rrc.cnf
   M /trunk/asn1/lte-rrc/packet-lte-rrc-template.c
   M /trunk/epan/dissectors/packet-lte-rrc.c
   M /trunk/epan/dissectors/packet-lte-rrc.h

Export UE-EUTRA-Capability.
------------------------------------------------------------------------
r35637 | gerald | 2011-01-24 10:37:24 -0800 (Mon, 24 Jan 2011) | 2 lines
Changed paths:
   M /trunk/make-version.pl

Build 1.5.0.

------------------------------------------------------------------------
r35638 | wmeier | 2011-01-24 10:59:26 -0800 (Mon, 24 Jan 2011) | 8 lines
Changed paths:
   M /trunk/gtk/export_object_smb.c

Fix crash when doing File ! Export ! Objects ! SMB.
[Essentially: simplify the code used to test for duplicate packets].
Fixes Bug #5337: http://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5337

Also:
- Fix "divide by 0" which caused garbage for display of a percent value;
- Remove some unneeded #includes;

------------------------------------------------------------------------
r35639 | gerald | 2011-01-24 11:27:38 -0800 (Mon, 24 Jan 2011) | 2 lines
Changed paths:
   M /trunk/config.nmake
   M /trunk/configure.in
   M /trunk/debian/changelog
   M /trunk/docbook/release-notes.xml
   M /trunk/make-version.pl

1.5.0 → 1.5.1.

------------------------------------------------------------------------
r35640 | stig | 2011-01-24 11:33:36 -0800 (Mon, 24 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/to_str.c

Print "0 seconds" when time_val==0 in functions converting seconds to string.

------------------------------------------------------------------------
r35641 | wmeier | 2011-01-24 12:54:20 -0800 (Mon, 24 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

 From Alexis La Goutte:
 Some patch to cleanup the 802.11 Dissector.
 Part 3:  https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5609

------------------------------------------------------------------------
r35642 | jake | 2011-01-24 14:04:43 -0800 (Mon, 24 Jan 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Jouni Malinen:
Allow TDLS Setup Response/Confirm to not include optional fields

Verifying whether non-zero status code is used and use explicit validation of
the remaining length and an expert info instead of implicit failure by an
exception.

------------------------------------------------------------------------
r35643 | etxrab | 2011-01-25 05:53:35 -0800 (Tue, 25 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-windows-common.c

From Cal Turney:
 Enhancements to SID dissection.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5613
------------------------------------------------------------------------
r35644 | etxrab | 2011-01-25 05:55:20 -0800 (Tue, 25 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/tfs.c
   M /trunk/epan/tfs.h

Add tfs_reliable_not_reliable.
------------------------------------------------------------------------
r35645 | etxrab | 2011-01-25 05:56:15 -0800 (Tue, 25 Jan 2011) | 1 line
Changed paths:
   M /trunk/asn1/s1ap/s1ap.cnf
   M /trunk/epan/dissectors/packet-s1ap.c
   M /trunk/epan/dissectors/packet-s1ap.h

Export Global-ENB-ID.
------------------------------------------------------------------------
r35646 | etxrab | 2011-01-25 05:57:59 -0800 (Tue, 25 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.h
   M /trunk/epan/dissectors/packet-nas_eps.c

Export de_emm_trac_area_id.
------------------------------------------------------------------------
r35647 | etxrab | 2011-01-25 07:33:36 -0800 (Tue, 25 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-windows-common.c

Fix:
Error: the blurb for field "Well-known SID" ("nt.sid.wkwn") matches the field name in packet-windows-common.c
------------------------------------------------------------------------
r35648 | etxrab | 2011-01-25 07:34:52 -0800 (Tue, 25 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-windows-common.c

packet-windows-common.c:1492: warning: 'wkwn_sid2_len' may be used uninitialized in this function
------------------------------------------------------------------------
r35649 | etxrab | 2011-01-25 08:41:59 -0800 (Tue, 25 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Switch more messages over to the "gsm dissector style".
------------------------------------------------------------------------
r35650 | gerald | 2011-01-25 10:43:43 -0800 (Tue, 25 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Fix gcc compilation.

------------------------------------------------------------------------
r35651 | jake | 2011-01-25 14:11:59 -0800 (Tue, 25 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/addr_resolv.c

Fix fo bug 5616:
Remove the filters on IPv6 Link Local and Multicast addresses, since 
these _can_ be resolved through the hosts file and manual entry.

------------------------------------------------------------------------
r35652 | wmeier | 2011-01-25 16:15:01 -0800 (Tue, 25 Jan 2011) | 2 lines
Changed paths:
   M /trunk/tools/win-setup.sh

(Trivial) Fix a typo.

------------------------------------------------------------------------
r35653 | jake | 2011-01-25 23:24:06 -0800 (Tue, 25 Jan 2011) | 7 lines
Changed paths:
   M /trunk/docbook/release-notes.xml
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-rsip.c

From Brian Ginsbach:
Patch to add a new dissector for Realm Specific IP (RSIP) as defined by
RFC 3102, RFC 3103, and RFC 3104.
This is a very basic dissector.  It could be extended to do addtional RSIP
protocol violation testing.  The dissector is written such that it should be
easy to add later.

------------------------------------------------------------------------
r35654 | etxrab | 2011-01-25 23:47:31 -0800 (Tue, 25 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
Cleanup 802.11 Dissector : Header Field begin by hf_...
Patch 4 - 6
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5609
------------------------------------------------------------------------
r35655 | etxrab | 2011-01-26 00:49:06 -0800 (Wed, 26 Jan 2011) | 3 lines
Changed paths:
   M /trunk/asn1/ocsp/ocsp.cnf
   M /trunk/epan/dissectors/packet-ocsp.c
   M /trunk/epan/dissectors/packet-ocsp.h
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/epan/dissectors/packet-ssl-utils.h
   M /trunk/epan/dissectors/packet-ssl.c

From Kaspar Brand:
SSL/TLS dissector: add support for "Certificate Status" messages (aka OCSP stapling)
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5503
------------------------------------------------------------------------
r35656 | etxrab | 2011-01-26 00:57:26 -0800 (Wed, 26 Jan 2011) | 4 lines
Changed paths:
   M /trunk/asn1/ocsp/packet-ocsp-template.c
   M /trunk/asn1/ocsp/packet-ocsp-template.h

From Kaspar Brand:
(Part II)
SSL/TLS dissector: add support for "Certificate Status" messages (aka OCSP stapling)
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5503
------------------------------------------------------------------------
r35657 | etxrab | 2011-01-26 01:07:11 -0800 (Wed, 26 Jan 2011) | 1 line
Changed paths:
   M /trunk/asn1/ocsp/packet-ocsp-template.c
   M /trunk/epan/dissectors/packet-ocsp.c

packet-ocsp-template.c:47: warning: type defaults to 'int' in declaration of 'proto_ocsp'
------------------------------------------------------------------------
r35658 | stig | 2011-01-26 01:37:35 -0800 (Wed, 26 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt

Corrected entry for packet-lisp-data.c

------------------------------------------------------------------------
r35659 | tuexen | 2011-01-26 07:15:20 -0800 (Wed, 26 Jan 2011) | 3 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

From Irene Ruengeler: Double check that the interface specified in the
preferences still exists. If not, don't use it.

------------------------------------------------------------------------
r35663 | sfisher | 2011-01-26 11:01:10 -0800 (Wed, 26 Jan 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb2.c


Minor changes to SMB2 Share Type value string: rename values and change
from 2 bytes to 1 byte (the next byte is reserved) according to MS-SMB2
specification. 


------------------------------------------------------------------------
r35664 | etxrab | 2011-01-26 11:36:00 -0800 (Wed, 26 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/tfs.c
   M /trunk/epan/tfs.h

Add tfs_allowed_not_allowed.
------------------------------------------------------------------------
r35665 | etxrab | 2011-01-26 11:37:30 -0800 (Wed, 26 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.c
   M /trunk/epan/dissectors/packet-gsm_a_common.h
   M /trunk/epan/dissectors/packet-gsm_a_gm.c

Add 10.5.1.14 NAS container for PS HO.
------------------------------------------------------------------------
r35666 | etxrab | 2011-01-26 11:44:23 -0800 (Wed, 26 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c
   M /trunk/epan/dissectors/packet-gsm_a_common.c

Dissect PS-HANDOVER-REQUEST.
------------------------------------------------------------------------
r35667 | wmeier | 2011-01-26 12:23:18 -0800 (Wed, 26 Jan 2011) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_app_files.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_advanced.xml

Add references to Windows 7 where appropriate; Add temp file info for Windows 7/Vista.

------------------------------------------------------------------------
r35668 | sfisher | 2011-01-26 12:29:44 -0800 (Wed, 26 Jan 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nbns.c


Minor changs to NetBIOS Session Service code:

 - Simplify a proto_tree_add_uint() call into proto_tree_add_item()
 - Mention RFC 1002 in comment above message type definitions
 - Expand field descriptions for length field


------------------------------------------------------------------------
r35669 | sfisher | 2011-01-26 12:58:26 -0800 (Wed, 26 Jan 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb2.c


Improve display of names and descriptions of SMB2 share flags and
share capabilities including adding two new flags with the help of
the MS-SMB2 specification. 


------------------------------------------------------------------------
r35670 | sfisher | 2011-01-26 13:00:06 -0800 (Wed, 26 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb2.c


Add MS-SMB2 to the list of URLs to reference for this protocol.


------------------------------------------------------------------------
r35671 | jake | 2011-01-26 13:20:09 -0800 (Wed, 26 Jan 2011) | 2 lines
Changed paths:
   M /trunk/doc/README.developer

Sharpen the description of preference names.

------------------------------------------------------------------------
r35672 | tuexen | 2011-01-26 13:21:16 -0800 (Wed, 26 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sctp.c

Add expert info related to gap ack blocks.
Based on a patch submitted by Thomas Dreibholz.
See https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5616

------------------------------------------------------------------------
r35673 | sfisher | 2011-01-26 15:11:08 -0800 (Wed, 26 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c
   M /trunk/epan/dissectors/packet-gsm_a_common.c


Fix compilation errors


------------------------------------------------------------------------
r35674 | wmeier | 2011-01-26 19:39:16 -0800 (Wed, 26 Jan 2011) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-reload.c

From Stéphane Bryant: bug fixes and improvements in RELOAD dissector:
*Bug Fixes
*NodeId length is now configurable
*Added missing messages

See: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5620

From me:
-Remove trailing blanks from a few lines;
-Put "editor mode lines" at the end of the source file.

------------------------------------------------------------------------
r35675 | jake | 2011-01-26 23:26:21 -0800 (Wed, 26 Jan 2011) | 1 line
Changed paths:
   M /trunk/docbook/CMakeLists.txt

Missing a Users Guide graphic.
------------------------------------------------------------------------
r35676 | stig | 2011-01-26 23:45:31 -0800 (Wed, 26 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c

Removed duplicate hf_gsm_a_bssmap_lsa_only registry.

------------------------------------------------------------------------
r35677 | etxrab | 2011-01-27 03:23:22 -0800 (Thu, 27 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Fix a typo and prettify some printouts.
------------------------------------------------------------------------
r35678 | wmeier | 2011-01-27 06:41:38 -0800 (Thu, 27 Jan 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dlm3.c

From Masatake YAMATO: Updating value_string for dlm3.m.result

... some values are added to value_string table for
dlm3.m.result. It reflects the latest dlm code in linux kernel.

See https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5623


------------------------------------------------------------------------
r35679 | etxrab | 2011-01-27 07:43:55 -0800 (Thu, 27 Jan 2011) | 2 lines
Changed paths:
   M /trunk/asn1/ulp/ulp.cnf
   M /trunk/epan/dissectors/packet-ulp.c

The attemt to pretify MSISDN and IMSI breaks the dissection.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5593
------------------------------------------------------------------------
r35680 | etxrab | 2011-01-27 07:48:02 -0800 (Thu, 27 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-per.c

Don't treat the aligned and unaligned bit strings differently
always padd LSBs.
 Hopfully this does not break anything else...
------------------------------------------------------------------------
r35681 | wmeier | 2011-01-27 08:08:41 -0800 (Thu, 27 Jan 2011) | 21 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-rsvp.c

From Roberto Morro: RSVP dissector enhancements

- add new PROTECTION obj c-type 2 (RFC4872)
- add new TLVs for IF_ID (RFC4920)
- add Path Key subobj in ERO (RFC5520)
- add new ASSOCIATION obj c-type 4 (oif2008.389)
- add new LSP_ATTRIBUTES and LSP_REQUIRED_ATTRIBUTES objects (RFC5420)
- improved ERROR object dissection and new error values added
- ADMIN_STATUS transformed to filter and new flags added
- minor fix to conversation (not applied to ACK, SREFRESH and HELLO messages)
to resolv displaying of "Unknown session type" string in such messages

Moreover, I've deleted some "enum" statements for error values that I thought
they were useless since they were used only once throughout the RSVP dissector
code.

See https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5518

From me: fix two typos.


------------------------------------------------------------------------
r35682 | martinm | 2011-01-27 08:09:24 -0800 (Thu, 27 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Improve/rework the way we look for the original frame when there is a DL. retransmission.

------------------------------------------------------------------------
r35683 | morriss | 2011-01-27 09:31:41 -0800 (Thu, 27 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/prefs.c

Use g_error() (with a hopefully-useful error message) instead of g_assert() to report problems with preference registrations.
------------------------------------------------------------------------
r35684 | gerald | 2011-01-27 09:45:45 -0800 (Thu, 27 Jan 2011) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-radiotap-defs.h
   M /trunk/epan/dissectors/packet-radiotap-iter.c
   M /trunk/epan/dissectors/packet-radiotap.c

From Johannes Berg via bug 5625:

The radiotap standard just adopted the new MCS field to display MCS
information. The attached patch allows wireshark to parse that field.


From me: 

Terminate value_strings. Move the IEEE80211_RADIOTAP_XCHANNEL definition
to packet-radiotap-defs.h.

------------------------------------------------------------------------
r35685 | gerald | 2011-01-27 11:04:14 -0800 (Thu, 27 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-radiotap.c

Fix chekcAPIs.

------------------------------------------------------------------------
r35686 | sfisher | 2011-01-27 16:20:37 -0800 (Thu, 27 Jan 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dhcpv6.c


Fix bug #5627: DHCPv6 dissector formats DUID_LLT time incorrectly 

Add 30 years of seconds, not 20 years, since the DHCP_LLT time is seconds
since Jan 1 2000 and epoch is 30 years before that.


------------------------------------------------------------------------
r35687 | gerald | 2011-01-27 16:21:05 -0800 (Thu, 27 Jan 2011) | 7 lines
Changed paths:
   M /trunk/config.nmake
   M /trunk/image/Makefile.nmake
   M /trunk/image/wireshark.exe.manifest.in

Use the correct processor architecture in our manifest. This lets us
create a usable wireshark.exe for x64 using Visual C++ 10.  Change the
name of VCREDIST_DLL to PROCESSOR_ARCHITECTURE to more accurately
reflect what it's used for. Allow MSVC_VARIANT to be set from the
system environment, mainly to keep me from accidentally clobbering it
in the future.

------------------------------------------------------------------------
r35688 | gerald | 2011-01-28 10:42:49 -0800 (Fri, 28 Jan 2011) | 2 lines
Changed paths:
   M /trunk/config.nmake

Add an option to enable Code Analysis for C/C++ (MSVC's static analyzer).

------------------------------------------------------------------------
r35689 | sfisher | 2011-01-28 12:01:01 -0800 (Fri, 28 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/tvbuff.c
   M /trunk/epan/tvbuff.h


Mention that the fake tvb unicode functions have been superceded


------------------------------------------------------------------------
r35690 | sfisher | 2011-01-28 12:07:18 -0800 (Fri, 28 Jan 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/dcerpc/drsuapi/packet-dcerpc-drsuapi-template.c
   M /trunk/epan/dissectors/packet-dcerpc-drsuapi.c


Change tvb_fake_unicode() to tvb_get_unicode_string() in the DCERPC
DRSUAPI dissector.  Updated the packet-dcerpc-drsuapi.c file manually
because it used to be auto-generated, but appears to have had changes
since then.


------------------------------------------------------------------------
r35691 | sfisher | 2011-01-28 12:12:12 -0800 (Fri, 28 Jan 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/dcerpc/drsuapi/packet-dcerpc-drsuapi-template.c
   M /trunk/epan/dissectors/packet-dcerpc-drsuapi.c


Fix r35690: tvb_get_unicode_string() takes length in 8-bit bytes, not
16-bit UTF-16 characters as tvb_fake_unicode() did.


------------------------------------------------------------------------
r35692 | sfisher | 2011-01-28 12:15:41 -0800 (Fri, 28 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-spoolss.c


Remove the remaining tvb_fake_unicode() calls in the dissector source. 


------------------------------------------------------------------------
r35693 | sfisher | 2011-01-28 12:37:28 -0800 (Fri, 28 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-irc.c


Move protocol details from above the copyright notice to below.


------------------------------------------------------------------------
r35694 | wmeier | 2011-01-28 13:02:40 -0800 (Fri, 28 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dhcpv6.c

I believe 0 was meant instead of sizeof(0)....

------------------------------------------------------------------------
r35695 | sfisher | 2011-01-28 16:30:42 -0800 (Fri, 28 Jan 2011) | 6 lines
Changed paths:
   M /trunk/gtk/color_edit_dlg.c


If we're compiling with GTK+ 2.14 or higher, use accessor function
gtk_color_selection_dialog_get_color_selection() instead of accessing
the struct member directly. 


------------------------------------------------------------------------
r35696 | wmeier | 2011-01-28 20:41:03 -0800 (Fri, 28 Jan 2011) | 3 lines
Changed paths:
   M /trunk/gtk/color_edit_dlg.c

Fix Windows compile error(s);
{Compiles OK on Windows but not tested). 

------------------------------------------------------------------------
r35697 | sfisher | 2011-01-28 23:47:03 -0800 (Fri, 28 Jan 2011) | 5 lines
Changed paths:
   M /trunk/gtk/color_edit_dlg.c


Improve r35695/35696 by repeating the whole function call in each
block of the #if / #else / #endif for clarity.


------------------------------------------------------------------------
r35698 | etxrab | 2011-01-29 15:51:06 -0800 (Sat, 29 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
 Cleanup 802.11 Dissector : Rework Prism Header
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5631
------------------------------------------------------------------------
r35699 | etxrab | 2011-01-30 03:32:42 -0800 (Sun, 30 Jan 2011) | 8 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-gtp.c

From Grzegorz Szczytowski:
Add Bearer Control Mode selection support in gtpv1 dissector.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5634
Sligtly reworked by me:
- prefix names with gtp
- Use proto_tree_add_item()
- remove ref to specific protocol version, as it's probably a mix.
- Changed the update to the AUTHORS file.
------------------------------------------------------------------------
r35700 | gerald | 2011-01-30 08:05:20 -0800 (Sun, 30 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf, services and enterprise-numbers update for 2011-01-30]
------------------------------------------------------------------------
r35703 | etxrab | 2011-01-30 10:44:53 -0800 (Sun, 30 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
Cleanup 802.11 Dissector : Make checkhf Happy
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5636
Pach #1,#2;#3
------------------------------------------------------------------------
r35704 | stig | 2011-01-30 12:59:39 -0800 (Sun, 30 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common

Moved packet-t38.c to the ASN.1 section.

------------------------------------------------------------------------
r35705 | stig | 2011-01-30 13:01:07 -0800 (Sun, 30 Jan 2011) | 2 lines
Changed paths:
   M /trunk/asn1/idmp/packet-idmp-template.c
   M /trunk/asn1/rtse/packet-rtse-template.c
   M /trunk/asn1/t38/packet-t38-template.c
   M /trunk/docbook/wsdg_src/WSDG_chapter_dissection.xml
   M /trunk/epan/dissectors/packet-6lowpan.c
   M /trunk/epan/dissectors/packet-atalk.c
   M /trunk/epan/dissectors/packet-bacapp.c
   M /trunk/epan/dissectors/packet-ber.c
   M /trunk/epan/dissectors/packet-btobex.c
   M /trunk/epan/dissectors/packet-capwap.c
   M /trunk/epan/dissectors/packet-clnp.c
   M /trunk/epan/dissectors/packet-dcerpc.c
   M /trunk/epan/dissectors/packet-dcm.c
   M /trunk/epan/dissectors/packet-dcp-etsi.c
   M /trunk/epan/dissectors/packet-dnp.c
   M /trunk/epan/dissectors/packet-dtls.c
   M /trunk/epan/dissectors/packet-dtn.c
   M /trunk/epan/dissectors/packet-eap.c
   M /trunk/epan/dissectors/packet-gsm_sms.c
   M /trunk/epan/dissectors/packet-gsm_sms_ud.c
   M /trunk/epan/dissectors/packet-gssapi.c
   M /trunk/epan/dissectors/packet-h223.c
   M /trunk/epan/dissectors/packet-iax2.c
   M /trunk/epan/dissectors/packet-idmp.c
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/epan/dissectors/packet-ip.c
   M /trunk/epan/dissectors/packet-ipv6.c
   M /trunk/epan/dissectors/packet-isakmp.c
   M /trunk/epan/dissectors/packet-isup.c
   M /trunk/epan/dissectors/packet-lapdm.c
   M /trunk/epan/dissectors/packet-ltp.c
   M /trunk/epan/dissectors/packet-mp2t.c
   M /trunk/epan/dissectors/packet-ncp2222.inc
   M /trunk/epan/dissectors/packet-ndmp.c
   M /trunk/epan/dissectors/packet-ndps.c
   M /trunk/epan/dissectors/packet-netbios.c
   M /trunk/epan/dissectors/packet-ositp.c
   M /trunk/epan/dissectors/packet-p_mul.c
   M /trunk/epan/dissectors/packet-pop.c
   M /trunk/epan/dissectors/packet-q931.c
   M /trunk/epan/dissectors/packet-reload.c
   M /trunk/epan/dissectors/packet-rpc.c
   M /trunk/epan/dissectors/packet-rtp.c
   M /trunk/epan/dissectors/packet-rtse.c
   M /trunk/epan/dissectors/packet-sccp.c
   M /trunk/epan/dissectors/packet-scsi.c
   M /trunk/epan/dissectors/packet-smb-pipe.c
   M /trunk/epan/dissectors/packet-smb.c
   M /trunk/epan/dissectors/packet-smtp.c
   M /trunk/epan/dissectors/packet-sndcp.c
   M /trunk/epan/dissectors/packet-ssl.c
   M /trunk/epan/dissectors/packet-t38.c
   M /trunk/epan/dissectors/packet-tcp.c
   M /trunk/epan/dissectors/packet-tds.c
   M /trunk/epan/dissectors/packet-teamspeak2.c
   M /trunk/epan/dissectors/packet-tipc.c
   M /trunk/epan/dissectors/packet-wai.c
   M /trunk/epan/dissectors/packet-wtp.c
   M /trunk/epan/dissectors/packet-x25.c
   M /trunk/epan/dissectors/packet-zbee-aps.c
   M /trunk/epan/reassemble.c
   M /trunk/epan/reassemble.h
   M /trunk/tools/ncp2222.py

Introduce "Fragment count" filter element for all protocols doing reassembly.

------------------------------------------------------------------------
r35706 | wmeier | 2011-01-30 13:56:05 -0800 (Sun, 30 Jan 2011) | 8 lines
Changed paths:
   M /trunk/tap-megaco-common.c

When searching a list, validate pointer before (not after) trying to use it.

In this particular case, the code logic may ensure that
 the search thru the list never hits the end of the list so that a
 crash because of an attempt to deref a NULL pointer never happens.

Issue found via msvc level 4 warning "code not reachable".

------------------------------------------------------------------------
r35707 | etxrab | 2011-01-30 14:08:22 -0800 (Sun, 30 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Add more MSG dissection.
------------------------------------------------------------------------
r35708 | wmeier | 2011-01-30 14:23:45 -0800 (Sun, 30 Jan 2011) | 8 lines
Changed paths:
   M /trunk/gtk/print_dlg.c

Don't compile unused non-Windows code when on Windows.
(Found by msvc level 4 warning "unreachable code").

Also:
- suppress an invalid msvc level 4 warning by initializing a variable.
- Use #ifdef _WIN32 iso #if _WIN32


------------------------------------------------------------------------
r35709 | wmeier | 2011-01-30 14:32:25 -0800 (Sun, 30 Jan 2011) | 3 lines
Changed paths:
   M /trunk/epan/wslua/init_wslua.c
   M /trunk/epan/wslua/wslua_field.c
   M /trunk/epan/wslua/wslua_gui.c
   M /trunk/epan/wslua/wslua_pinfo.c
   M /trunk/epan/wslua/wslua_proto.c
   M /trunk/epan/wslua/wslua_tvb.c
   M /trunk/epan/wslua/wslua_util.c

Fix a number of msvc level 4 "Unreachable code" warnings by removing unneeded
return statements.

------------------------------------------------------------------------
r35710 | wmeier | 2011-01-30 14:42:06 -0800 (Sun, 30 Jan 2011) | 3 lines
Changed paths:
   M /trunk/plugins/mate/mate_runtime.c

Add a comment about some "unreachable code" indicating possible incorrect code someplace.
Fix some spelling..

------------------------------------------------------------------------
r35711 | wmeier | 2011-01-30 14:57:00 -0800 (Sun, 30 Jan 2011) | 2 lines
Changed paths:
   M /trunk/plugins/mate/mate.h
   M /trunk/plugins/mate/mate_setup.c
   M /trunk/plugins/mate/packet-mate.c

Whitespace cleanup (remove trailing blanks from lines).

------------------------------------------------------------------------
r35712 | wmeier | 2011-01-30 15:24:23 -0800 (Sun, 30 Jan 2011) | 2 lines
Changed paths:
   M /trunk/gtk/main_proto_draw.c

Don't compile non-used (unreachable) code on Windows.

------------------------------------------------------------------------
r35713 | wmeier | 2011-01-30 15:27:57 -0800 (Sun, 30 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtps2.c
   M /trunk/epan/filesystem.c
   M /trunk/epan/gcp.c
   M /trunk/epan/tvbuff.c
   M /trunk/gtk/hostlist_table.c
   M /trunk/gtk/packet_list_store.c
   M /trunk/wiretap/buffer.c
   M /trunk/wiretap/file_access.c

Fix various instances of "unreachable code".

------------------------------------------------------------------------
r35714 | guy | 2011-01-30 16:12:21 -0800 (Sun, 30 Jan 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Clean up white space.

Use the bssgp_perform_loc_request() routine for PERFORM-LOCATION-REQUEST
(fixes a "defined, but not used" warning).

------------------------------------------------------------------------
r35715 | martinm | 2011-01-30 16:28:22 -0800 (Sun, 30 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.h

Describe in more detail some of the fields that may be filled in for an LTE MAC frame.

------------------------------------------------------------------------
r35716 | wmeier | 2011-01-30 20:23:46 -0800 (Sun, 30 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/wslua/init_wslua.c

Put back a 'return' statement so GCC doesn't generate a warning...

------------------------------------------------------------------------
r35717 | stig | 2011-01-30 23:42:13 -0800 (Sun, 30 Jan 2011) | 2 lines
Changed paths:
   M /trunk/gtk/new_packet_list.c

Added filter autocomplete to "Edit Column Details".

------------------------------------------------------------------------
r35718 | etxrab | 2011-01-31 04:19:15 -0800 (Mon, 31 Jan 2011) | 3 lines
Changed paths:
   M /trunk/cfile.h
   M /trunk/file.c
   M /trunk/file.h
   M /trunk/gtk/find_dlg.c
   M /trunk/gtk/main.c
   M /trunk/gtk/main_proto_draw.c
   M /trunk/gtk/menus.h

From Cal Turney:
Bug 5621 - With String in Packet details searches, highlight row in tree 
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5621
------------------------------------------------------------------------
r35719 | etxrab | 2011-01-31 05:52:32 -0800 (Mon, 31 Jan 2011) | 3 lines
Changed paths:
   M /trunk/gtk/menus.h
   M /trunk/gtk/new_packet_list.c

Try to fix previous commit.
- menu.h commited by mistake
- new_packet_list.c missing
------------------------------------------------------------------------
r35720 | etxrab | 2011-01-31 05:58:36 -0800 (Mon, 31 Jan 2011) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Only define view_menu_auto_scroll_live_cb if HAVE_LIBPCAP
------------------------------------------------------------------------
r35721 | etxrab | 2011-01-31 07:16:45 -0800 (Mon, 31 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c
   M /trunk/epan/dissectors/packet-gsm_bssmap_le.c

Dissect more IE's in PERFORM-LOCATION-REQUEST.
------------------------------------------------------------------------
r35722 | wmeier | 2011-01-31 07:27:26 -0800 (Mon, 31 Jan 2011) | 18 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rsvp.c

From Roberto Morro: Fix for Bug #5628

This patch (against revision 35716) resolves the following bug:
[introduced in patch attached to Bug #5518]
"Dissector bug, protocol RSVP, in packet 78:
More than 1000000 items in the tree -- possible infinite loop"

Actually the bug is resolved by the "return" statement that was erased by
mistake. The patch fixes another issue: the code didn't take care of the fact
that TLVs must be padded to a length multiple of 4.

See:
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5518
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5628

From me:
 Change two bytestring_to_str(tvb_get_ptr(...),...) to tvb_bytes_to_str(tvb,...)

------------------------------------------------------------------------
r35723 | etxrab | 2011-01-31 08:25:26 -0800 (Mon, 31 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Add dissection of Evolved Allocation/Retention Priority I IE.
------------------------------------------------------------------------
r35724 | martinm | 2011-01-31 08:38:40 -0800 (Mon, 31 Jan 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/file_access.c

Return a string (even though abort is called first) to pacify gcc.

------------------------------------------------------------------------
r35725 | wmeier | 2011-01-31 09:09:58 -0800 (Mon, 31 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rsvp.c
   M /trunk/epan/dissectors/packet-rsvp.h

#include <stdio.h>, #include <stdlib.h> not req'd;
Make a global variable static (since it's apparently not used elsewhere);
Whitespace changes (indentation, trailing, etc).

------------------------------------------------------------------------
r35726 | wmeier | 2011-01-31 10:58:38 -0800 (Mon, 31 Jan 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcm.c
   M /trunk/gtk/voip_calls.c

Fix two cases of 'if (x = y)'  which should be 'if (x == y)'.

Found by reviewing msvc level 4 warnings "assignment within conditional expression".

(Unfortunately most of the warnings are false positives so this warning can't be enabled)



------------------------------------------------------------------------
r35727 | etxrab | 2011-01-31 12:37:17 -0800 (Mon, 31 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/epan/tfs.c
   M /trunk/epan/tfs.h

Change a bunch of value and tfs strings to not be prefixed by hf_ but ieee8021. Based on Alexis La Gouttes patch.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5636
------------------------------------------------------------------------
r35728 | morriss | 2011-01-31 13:09:28 -0800 (Mon, 31 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Replace some blurbs with NULL
------------------------------------------------------------------------
r35729 | jake | 2011-01-31 13:13:20 -0800 (Mon, 31 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/wslua/console.lua

Add a Manual entry to the Lua menu.
------------------------------------------------------------------------
r35730 | jake | 2011-01-31 13:15:27 -0800 (Mon, 31 Jan 2011) | 1 line
Changed paths:
   M /trunk/docbook/wsluarm.xml

Jack up the Lua reference entries one level to make it segmented.
------------------------------------------------------------------------
r35731 | jake | 2011-01-31 13:16:20 -0800 (Mon, 31 Jan 2011) | 1 line
Changed paths:
   M /trunk/docbook/make-wsluarm.pl

Clean up the whitespace in script.
------------------------------------------------------------------------
r35732 | wmeier | 2011-01-31 13:23:35 -0800 (Mon, 31 Jan 2011) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bittorrent.c

Fix minor bug lookups of certain "peer ids" would fail.

The  issue (in essence)
 For:
  char foo[][4] = {"abc", "defg", "hij"};

strlen(foo[1]) will be 7 and not 4 as expected;

Detected via msvc level 4 warning: "array is too small to include a terminating null character"

------------------------------------------------------------------------
r35733 | jake | 2011-01-31 13:23:49 -0800 (Mon, 31 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-tftp.c

Clean up dissector code. Pass data block to data dissector.
------------------------------------------------------------------------
r35734 | wmeier | 2011-01-31 13:35:48 -0800 (Mon, 31 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-edonkey.c

Use tvb_bytes_to_str() iso home-grown hex output fcn.

------------------------------------------------------------------------
r35735 | wmeier | 2011-01-31 13:45:16 -0800 (Mon, 31 Jan 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_683.c
   M /trunk/gtk/follow_stream.c

Use {'0', ...} type initializer for fixed length character arrays.

------------------------------------------------------------------------
r35736 | etxrab | 2011-01-31 14:25:19 -0800 (Mon, 31 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c
   M /trunk/epan/dissectors/packet-gsm_a_common.c
   M /trunk/epan/dissectors/packet-gsm_a_common.h

More IE dissection.
------------------------------------------------------------------------
r35737 | jake | 2011-01-31 14:31:05 -0800 (Mon, 31 Jan 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-lldp.c

From Johan Kristell:
In the standard 802.3at-2009 the PoE+ TLVs are 12 bytes long, but in the
earlier version 802.3bc-2009, they are 7 bytes long (the power type/
source/priority, and the requested and allocated fields are lacking).
Not respecting the length of the TLV leads to wireshark displaying garbage 
data and could lead to reading outside of buffer.

------------------------------------------------------------------------
r35738 | etxrab | 2011-01-31 15:00:11 -0800 (Mon, 31 Jan 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

packet-bssgp.c:10020: warning: 'bssgp_perform_loc_response' defined but not used
------------------------------------------------------------------------
r35739 | sfisher | 2011-01-31 16:46:59 -0800 (Mon, 31 Jan 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.c


Fix compilation error: gsm_a_dir_of_ver_speed_vals is a VALS not a TFS.


------------------------------------------------------------------------
r35740 | etxrab | 2011-01-31 23:15:14 -0800 (Mon, 31 Jan 2011) | 1 line
Changed paths:
   M /trunk/gtk/dfilter_expr_dlg.c
   M /trunk/gtk/gui_utils.c
   M /trunk/gtk/main.c

Replace a couple of deprecated functions # ifdef:ed with the GTK version they are deprecated in.
------------------------------------------------------------------------
r35741 | wmeier | 2011-02-01 06:30:24 -0800 (Tue, 01 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c
   M /trunk/epan/dissectors/packet-netbios.c

 Use {'0', ...} type initializer for fixed length character arrays.

------------------------------------------------------------------------
r35742 | sfisher | 2011-02-01 13:03:29 -0800 (Tue, 01 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/expert.h


From John Thacker via bug #5644: Can't include expert.h in C++ code


------------------------------------------------------------------------
r35743 | jake | 2011-02-01 14:46:30 -0800 (Tue, 01 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dect.c

Further restructure the DECT dissector:
- Refactor capture info, A field, B field dissection.
- Clean up dissection, removing private A field, B field structures.
- Added standard references.

------------------------------------------------------------------------
r35744 | etxrab | 2011-02-01 14:47:12 -0800 (Tue, 01 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Dissect a bit more of data records.
------------------------------------------------------------------------
r35745 | wmeier | 2011-02-01 15:02:54 -0800 (Tue, 01 Feb 2011) | 2 lines
Changed paths:
   M /trunk/tools/lemon/lemon.c
   M /trunk/wsutil/inet_v6defs.h
   M /trunk/wsutil/type_util.h

WIN32 ==> _WIN32

------------------------------------------------------------------------
r35746 | guy | 2011-02-01 16:04:18 -0800 (Tue, 01 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Get rid of unused variable warnings.

Clean up indentation.

------------------------------------------------------------------------
r35747 | wmeier | 2011-02-01 17:19:53 -0800 (Tue, 01 Feb 2011) | 15 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/codecs/Makefile.nmake
   M /trunk/config.nmake
   M /trunk/epan/Makefile.nmake
   M /trunk/epan/crc/Makefile.nmake
   M /trunk/epan/crypt/Makefile.nmake
   M /trunk/epan/dfilter/Makefile.nmake
   M /trunk/epan/dissectors/Makefile.nmake
   M /trunk/epan/ftypes/Makefile.nmake
   M /trunk/epan/wslua/Makefile.nmake
   M /trunk/epan/wspython/Makefile.nmake
   M /trunk/gtk/Makefile.nmake
   M /trunk/plugins/Makefile.nmake
   M /trunk/plugins/asn1/Makefile.nmake
   M /trunk/plugins/docsis/Makefile.nmake
   M /trunk/plugins/easy_codec/Makefile.nmake
   M /trunk/plugins/ethercat/Makefile.nmake
   M /trunk/plugins/giop/Makefile.nmake
   M /trunk/plugins/gryphon/Makefile.nmake
   M /trunk/plugins/interlink/Makefile.nmake
   M /trunk/plugins/irda/Makefile.nmake
   M /trunk/plugins/m2m/Makefile.nmake
   M /trunk/plugins/mate/Makefile.nmake
   M /trunk/plugins/opcua/Makefile.nmake
   M /trunk/plugins/profinet/Makefile.nmake
   M /trunk/plugins/sercosiii/Makefile.nmake
   M /trunk/plugins/stats_tree/Makefile.nmake
   M /trunk/plugins/tpg/Makefile.nmake
   M /trunk/plugins/unistim/Makefile.nmake
   M /trunk/plugins/wimax/Makefile.nmake
   M /trunk/plugins/wimaxasncp/Makefile.nmake
   M /trunk/tools/lemon/Makefile.nmake
   M /trunk/win32/Makefile.nmake
   M /trunk/wiretap/Makefile.nmake
   M /trunk/wsutil/Makefile.nmake

A bit of Windows makefiles rework and cleanup:
- Define macros for certain CFLAGS in config.nmake iso of having defs in each makefile;
  a. -DHAVE_CONFIG_H and -D_U_="" are now part of a macro named STANDARD_CFLAGS;
  b. -WX has been replaced by WARNINGS_ARE_ERRORS (defined as -WX in config.nmake)
      (This allows disabling "Warnings as Errors" by just changing config.nmake)
  c. CVARSDLL definitions (not usage) have been removed from the various makefiles.
     XXX: It appears the usage of CVARSDLL can also be removed (not yet done) since:
     -DWIN32 and -DNULL=0 do not appear to be needed (any more);
     -D_MT and _D_DLL  are not needed since /MP causes these definitions.
  d. Define a macro WARNINGS_CFLAGS with additional specific compiler (level4) warnings to be enabled.
     E.G., 4295: array is too small to include a terminating null character
- config.nmake: reformat some long lines for readability;
- plugins\Makefile.nmake: clean-deps does nothing: remove it (and usage in top-level makefile);
- dissectors/Makefile.nmake: test to enable packet-rrc.obj target needs to include MSVC2010 ...

------------------------------------------------------------------------
r35748 | wmeier | 2011-02-01 18:10:24 -0800 (Tue, 01 Feb 2011) | 2 lines
Changed paths:
   M /trunk/packaging/u3/tools/makefile.nmake

Use $(WARNINGS_ARE_ERRORS) (defined in config.nmake) iso -WX

------------------------------------------------------------------------
r35749 | wmeier | 2011-02-01 18:44:14 -0800 (Tue, 01 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

A bit more indentation cleanup

------------------------------------------------------------------------
r35750 | wmeier | 2011-02-01 18:52:53 -0800 (Tue, 01 Feb 2011) | 2 lines
Changed paths:
   A /trunk/packaging/Makefile.nmake (from /trunk/packaging/makefile.nmake:35749)
   D /trunk/packaging/makefile.nmake
   A /trunk/packaging/portableapps/win32/Makefile.nmake (from /trunk/packaging/portableapps/win32/makefile.nmake:35749)
   D /trunk/packaging/portableapps/win32/makefile.nmake
   A /trunk/packaging/u3/tools/Makefile.nmake (from /trunk/packaging/u3/tools/makefile.nmake:35749)
   D /trunk/packaging/u3/tools/makefile.nmake
   A /trunk/packaging/u3/win32/Makefile.nmake (from /trunk/packaging/u3/win32/makefile.nmake:35749)
   D /trunk/packaging/u3/win32/makefile.nmake

makefile.nmake => Makefile.nmake

------------------------------------------------------------------------
r35751 | etxrab | 2011-02-01 22:04:19 -0800 (Tue, 01 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
Fix and enhance WSIE
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5636
------------------------------------------------------------------------
r35752 | jake | 2011-02-01 22:14:27 -0800 (Tue, 01 Feb 2011) | 2 lines
Changed paths:
   M /trunk/packaging/Makefile.am

makefile.nmake => Makefile.nmake

------------------------------------------------------------------------
r35753 | etxrab | 2011-02-01 22:35:08 -0800 (Tue, 01 Feb 2011) | 6 lines
Changed paths:
   A /trunk/asn1/tetra
   A /trunk/asn1/tetra/packet-tetra-template.c
   A /trunk/asn1/tetra/packet-tetra-template.h
   A /trunk/asn1/tetra/tetra.asn
   A /trunk/asn1/tetra/tetra.cnf

The Beijing Institute of Technology (BIT) and associate professor LI Hai has created a TETRA decoder for wireshark, 
they made the decision to use the ASN1 infrastructure for creating the dissector and were kind enough to send the
GPLed sourcecode to us(The Osmocom Group). This group is using a protocol provided by their equipment.

This is an initial checkin of the code from BIT, it is not fit for inclusion in Wireshark in this state. Further patches are expected
before the code can be integrated by being added to the makefiles.
------------------------------------------------------------------------
r35754 | etxrab | 2011-02-01 22:41:16 -0800 (Tue, 01 Feb 2011) | 3 lines
Changed paths:
   M /trunk/asn1/tetra/packet-tetra-template.c
   M /trunk/asn1/tetra/packet-tetra-template.h
   M /trunk/asn1/tetra/tetra.asn

From Holger Freyther:
- Code Cleanups and preparation to call code from gsmtap
- Fix a bug in the asn1 file, Bug found with traces from OsmocomTETRA
------------------------------------------------------------------------
r35755 | etxrab | 2011-02-01 22:48:58 -0800 (Tue, 01 Feb 2011) | 1 line
Changed paths:
   A /trunk/asn1/tetra/Makefile.am
   A /trunk/asn1/tetra/Makefile.common
   A /trunk/asn1/tetra/Makefile.nmake

Add the local makefiles.
------------------------------------------------------------------------
r35756 | etxrab | 2011-02-02 09:00:19 -0800 (Wed, 02 Feb 2011) | 1 line
Changed paths:
   A /trunk/asn1/gprscdr
   A /trunk/asn1/gprscdr/3GPPGenericChargingDataTypes.asn
   A /trunk/asn1/gprscdr/GenericChargingDataTypes.asn
   A /trunk/asn1/gprscdr/Makefile.am
   A /trunk/asn1/gprscdr/Makefile.common
   A /trunk/asn1/gprscdr/Makefile.nmake
   A /trunk/asn1/gprscdr/gprscdr.cnf
   A /trunk/asn1/gprscdr/packet-gprscdr-template.c
   A /trunk/asn1/gprscdr/packet-gprscdr-template.h

Routines to dissect GPRS CDR's tranported in GTP'
------------------------------------------------------------------------
r35757 | etxrab | 2011-02-02 09:09:05 -0800 (Wed, 02 Feb 2011) | 1 line
Changed paths:
   M /trunk/asn1/gsm_map/gsm_map.cnf
   M /trunk/epan/dissectors/packet-gsm_map.c
   M /trunk/epan/dissectors/packet-gsm_map.h

Export more functions.
------------------------------------------------------------------------
r35758 | etxrab | 2011-02-02 09:10:31 -0800 (Wed, 02 Feb 2011) | 1 line
Changed paths:
   M /trunk/asn1/Makefile.am
   M /trunk/asn1/Makefile.nmake

Add gsmcdr to the makefiles.
------------------------------------------------------------------------
r35759 | etxrab | 2011-02-02 09:11:26 -0800 (Wed, 02 Feb 2011) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Add GTK 2.22 deprecated functions
------------------------------------------------------------------------
r35760 | etxrab | 2011-02-02 09:15:27 -0800 (Wed, 02 Feb 2011) | 1 line
Changed paths:
   A /trunk/epan/dissectors/packet-gprscdr.c
   A /trunk/epan/dissectors/packet-gprscdr.h

Add packet-gprcdr.[ch] to SVN.
------------------------------------------------------------------------
r35761 | etxrab | 2011-02-02 09:16:29 -0800 (Wed, 02 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/Makefile.common

Build gsmcdr.
------------------------------------------------------------------------
r35762 | etxrab | 2011-02-02 09:50:12 -0800 (Wed, 02 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/Makefile.common

Move gprscdr to dissectors with warnings.
------------------------------------------------------------------------
r35763 | etxrab | 2011-02-02 09:51:00 -0800 (Wed, 02 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Use gprscdr to dissect CDRs.
------------------------------------------------------------------------
r35764 | etxrab | 2011-02-02 11:54:14 -0800 (Wed, 02 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
Fix checkhf error (hf_ieee80211_ff_mesh_mgt_ie_id) and enhance dissect Mesh ID 
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5636
------------------------------------------------------------------------
r35765 | guy | 2011-02-02 12:06:05 -0800 (Wed, 02 Feb 2011) | 2 lines
Changed paths:
   M /trunk/configure.in

Add the gprscdr Makefile to the list of Makefiles to be generated.

------------------------------------------------------------------------
r35766 | etxrab | 2011-02-02 12:11:02 -0800 (Wed, 02 Feb 2011) | 1 line
Changed paths:
   M /trunk/asn1/Makefile.am
   M /trunk/asn1/Makefile.nmake
   M /trunk/asn1/tetra/packet-tetra-template.c
   M /trunk/configure.in
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-tetra.c
   A /trunk/epan/dissectors/packet-tetra.h

Integrate and build the tetra dissector.
------------------------------------------------------------------------
r35767 | etxrab | 2011-02-02 12:19:02 -0800 (Wed, 02 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
Cleanup renaming hf 80211 Part 8 and 9.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5609
------------------------------------------------------------------------
r35768 | etxrab | 2011-02-02 12:21:18 -0800 (Wed, 02 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
Cleanup renaming hf 80211 Part7.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5609
------------------------------------------------------------------------
r35769 | etxrab | 2011-02-02 13:06:51 -0800 (Wed, 02 Feb 2011) | 4 lines
Changed paths:
   M /trunk/asn1/tetra/packet-tetra-template.c
   M /trunk/epan/dissectors/packet-tetra.c

Warning: packet-tetra.c does not have an SVN Id tag.
Error: the blurb for field "Carrier Number" ("tetra.carrier") matches the field name in packet-tetra.c
Error: the blurb for field "PDU" ("tetra.pdu") matches the field name in packet-tetra.c
Error: Found deprecated APIs in packet-tetra.c: dissector_add
------------------------------------------------------------------------
r35770 | wmeier | 2011-02-02 14:02:53 -0800 (Wed, 02 Feb 2011) | 2 lines
Changed paths:
   M /trunk/configure.in

Remove duplicate 'asn1/gprscdr/Makefile' entry

------------------------------------------------------------------------
r35771 | jake | 2011-02-02 14:49:40 -0800 (Wed, 02 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-lapd.c
   M /trunk/wiretap/pcap-common.c
   M /trunk/wiretap/wtap.c
   M /trunk/wiretap/wtap.h

From njohnkev:
Add support for LAPD data link type.

------------------------------------------------------------------------
r35772 | etxrab | 2011-02-02 15:09:41 -0800 (Wed, 02 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
A series of patch to enhance 802.11 Dissector : Start all Header field by hf_80211_*
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5647
------------------------------------------------------------------------
r35773 | etxrab | 2011-02-02 15:12:34 -0800 (Wed, 02 Feb 2011) | 1 line
Changed paths:
   M /trunk/asn1/gprscdr/gprscdr.cnf
   M /trunk/asn1/gprscdr/packet-gprscdr-template.c

Start to prettify TimeStamp(to be continued).
------------------------------------------------------------------------
r35774 | martinm | 2011-02-02 15:21:16 -0800 (Wed, 02 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-mac-lte.h
   M /trunk/epan/libwireshark.def

Add and use accessors to get/set per-packet data for LTE MAC.
This will allow plugins to use the dissector.

------------------------------------------------------------------------
r35775 | martinm | 2011-02-02 15:23:07 -0800 (Wed, 02 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c

Allow PDCP dissector to be called for complete SDUs from UM RLC PDUs.

------------------------------------------------------------------------
r35776 | stig | 2011-02-02 22:23:36 -0800 (Wed, 02 Feb 2011) | 2 lines
Changed paths:
   M /trunk/asn1/gprscdr
   M /trunk/asn1/tetra

Added default svn:ignore list.

------------------------------------------------------------------------
r35777 | jake | 2011-02-02 22:32:35 -0800 (Wed, 02 Feb 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-hip.c

From Samu Varjonen:
This patch fixes four issues with the Host Identity Protocol (HIP dissector:

1. The incorrect parsing of the "type 1" locator of HIP. 
2. Updates the comments to reflect the approval of RFC 5770.
3. Cosmetic change (uppercase SPI)
4. Change in the checksum dissection 
   (when the HIP packet is UDP encapsulated 0 checksum is correct).
------------------------------------------------------------------------
r35778 | etxrab | 2011-02-03 00:06:54 -0800 (Thu, 03 Feb 2011) | 1 line
Changed paths:
   A /trunk/asn1/gprscdr/IMSChargingDataTypes.asn

Add a forgotten file
------------------------------------------------------------------------
r35779 | guy | 2011-02-03 00:16:08 -0800 (Thu, 03 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-lapd.c

Get rid of extra blank line at the end of the file.

------------------------------------------------------------------------
r35780 | guy | 2011-02-03 00:31:04 -0800 (Thu, 03 Feb 2011) | 2 lines
Changed paths:
   M /trunk/plugins/wimaxasncp/wimaxasncp_dict.l

Just use g_strdup_printf(), rather than doing it ourselves.

------------------------------------------------------------------------
r35781 | etxrab | 2011-02-03 08:17:10 -0800 (Thu, 03 Feb 2011) | 1 line
Changed paths:
   A /trunk/asn1/gprscdr/GPRSChargingDataTypes.asn
   D /trunk/asn1/gprscdr/IMSChargingDataTypes.asn
   M /trunk/asn1/gprscdr/gprscdr.cnf
   M /trunk/epan/dissectors/packet-gprscdr.c
   M /trunk/epan/dissectors/packet-gprscdr.h

Hope fully this will be the correct set of files - finally.
------------------------------------------------------------------------
r35782 | etxrab | 2011-02-03 08:36:22 -0800 (Thu, 03 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sgsap.c

- Use the right tree for IE's
- Dissect MME and VLR name
- Add strings to some IE's
------------------------------------------------------------------------
r35783 | etxrab | 2011-02-03 09:35:16 -0800 (Thu, 03 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
Cleanup 802.11 Dissector : Start Header Field by hf_80211_*

Part 6 - 9
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5647
------------------------------------------------------------------------
r35784 | martinm | 2011-02-03 09:41:45 -0800 (Thu, 03 Feb 2011) | 2 lines
Changed paths:
   M /trunk/gtk/mac_lte_stat_dlg.c
   M /trunk/gtk/rlc_lte_stat_dlg.c

Disable error substring controls when show errors checkbox is disabled.

------------------------------------------------------------------------
r35785 | etxrab | 2011-02-03 09:45:17 -0800 (Thu, 03 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sgsap.c

Dissect Erroneous message.
------------------------------------------------------------------------
r35786 | guy | 2011-02-03 10:15:56 -0800 (Thu, 03 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sgsap.c

Use the right proto_tree * variable.

Clean up indentation.

------------------------------------------------------------------------
r35787 | morriss | 2011-02-03 11:01:19 -0800 (Thu, 03 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/Makefile.common

Include packet-tetra.h in the source distribution.
------------------------------------------------------------------------
r35788 | wmeier | 2011-02-03 11:33:48 -0800 (Thu, 03 Feb 2011) | 12 lines
Changed paths:
   M /trunk/tools/win-setup.sh

Fix: Cygwin make fails after updating to bash v 4.1.9.2

Extracts from the cygwin Bash 4.1.9.2 release announcement:

4a. For a single affected script, add this line just after the she-bang:
 (set -o igncr) 2>/dev/null && set -o igncr; # comment is needed

4e. bash-4.1.9-1 dropped support for 'shopt -s igncr';

I'm assuming this is backwards compatible; If not, we'll know quite shortly :) 


------------------------------------------------------------------------
r35789 | jake | 2011-02-03 12:14:38 -0800 (Thu, 03 Feb 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pcep.c

From Roberto Morro:
- add PATH-KEY object, PKSv4 and PKSv6 subobjects in ERO (RFC5520)
- new METRIC types, Objective Function (OF) object and TLV (RFC5541)
- new RP object Flags
- restructured PCEP_ERROR object dissection (easier to add new 
  error_types, error_values)

------------------------------------------------------------------------
r35790 | morriss | 2011-02-03 14:04:19 -0800 (Thu, 03 Feb 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pcep.c

Store the result of tvb_get_ntohs() in a guint16 instead of a guint8 to avoid a
compiler warning.  (It looks like the only expected values will fit in 8 bits,
but it also appears that the code really is expecting 'of_code' to be stored in
16 bits on the wire.)


------------------------------------------------------------------------
r35791 | gerald | 2011-02-03 14:50:49 -0800 (Thu, 03 Feb 2011) | 5 lines
Changed paths:
   M /trunk/tshark.c
   M /trunk/wiretap/pcapng.c

From Huzaifa Sidhpurwala of the Red Hat Security Response Team: Don't
free uninitialized memory.

See also: bug 5652.

------------------------------------------------------------------------
r35795 | jake | 2011-02-03 15:17:31 -0800 (Thu, 03 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/wslua/wslua_pinfo.c

From David Carne:
col_set_str simply stores the pointer passed to it, and luaL_checkstring
returns a temporary pointer. Changing col_set_str to col_add_str in
Columns_newindex seems to fix the issue.

------------------------------------------------------------------------
r35796 | morriss | 2011-02-03 18:08:47 -0800 (Thu, 03 Feb 2011) | 1 line
Changed paths:
   M /trunk/wiretap/pcapng.c

Use g_strdup() instead of strdup()
------------------------------------------------------------------------
r35797 | morriss | 2011-02-03 18:10:15 -0800 (Thu, 03 Feb 2011) | 1 line
Changed paths:
   M /trunk/wiretap/Makefile.am

(As in the Windows builds) don't have checkapi check the 'abort' group in wiretap.
------------------------------------------------------------------------
r35800 | guy | 2011-02-03 18:24:33 -0800 (Thu, 03 Feb 2011) | 7 lines
Changed paths:
   M /trunk/wiretap/pcapng.c

Put more data into the "additional error information" messages.

Get rid of debugging printouts that are equivalent to the "additional
error information" messages.

Return additional error info for all WTAP_ERR_BAD_RECORD errors.

------------------------------------------------------------------------
r35804 | guy | 2011-02-04 00:07:50 -0800 (Fri, 04 Feb 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/pcapng.c

Fix indentation.

------------------------------------------------------------------------
r35805 | guy | 2011-02-04 00:09:17 -0800 (Fri, 04 Feb 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/ipfix.c

Set *err before *err_info - that's how it's done in most other modules.

------------------------------------------------------------------------
r35806 | guy | 2011-02-04 00:09:35 -0800 (Fri, 04 Feb 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/packetlogger.c

Set *err before *err_info - that's how it's done in most other modules.

------------------------------------------------------------------------
r35807 | guy | 2011-02-04 00:10:08 -0800 (Fri, 04 Feb 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/k12text.l

Set *err before *err_info - that's how it's done in most other modules.

------------------------------------------------------------------------
r35808 | etxrab | 2011-02-04 01:38:36 -0800 (Fri, 04 Feb 2011) | 1 line
Changed paths:
   M /trunk/asn1/s1ap/s1ap.cnf
   M /trunk/epan/dissectors/packet-s1ap.c

If ENBname is text, append the text.
------------------------------------------------------------------------
r35809 | guy | 2011-02-04 01:45:39 -0800 (Fri, 04 Feb 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/k12.c

Set the error code and additional information string in more cases.

------------------------------------------------------------------------
r35810 | etxrab | 2011-02-04 02:04:50 -0800 (Fri, 04 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
Cleanup 802.11 Dissector : Start Header Field by hf_80211_*

Part 10 - 15
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5647
------------------------------------------------------------------------
r35813 | guy | 2011-02-04 02:23:22 -0800 (Fri, 04 Feb 2011) | 2 lines
Changed paths:
   M /trunk/file.c

Clean up indentation.

------------------------------------------------------------------------
r35814 | etxrab | 2011-02-04 03:45:37 -0800 (Fri, 04 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-megaco.c

From Václav Horčák:
Fix keeps  parser function in scope of current transactions, allowing multiple
transaction in one packet. 

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=3420
------------------------------------------------------------------------
r35815 | martinm | 2011-02-04 03:47:38 -0800 (Fri, 04 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pdcp-lte.c

Show some top-level info about PDCP frame in protocol root.
Especially useful when PDCP is called from RLC.

------------------------------------------------------------------------
r35816 | etxrab | 2011-02-04 03:52:50 -0800 (Fri, 04 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-isakmp.c

From Alexis La Goutte:
Patch to fix a typo error....
------------------------------------------------------------------------
r35817 | etxrab | 2011-02-04 04:16:26 -0800 (Fri, 04 Feb 2011) | 6 lines
Changed paths:
   M /trunk/epan/proto.c

Fix  Bug 5500 - failed assertion in ISAKMP dissector (proto.c:4002) 
By reinseringt the check in proto_tree_move_item() if tree vissible
removed in http://anonsvn.wireshark.org/viewvc?view=rev&revision=32443
Hopefully not breaking tshark again.

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5500
------------------------------------------------------------------------
r35818 | etxrab | 2011-02-04 04:30:42 -0800 (Fri, 04 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-hip.c

From Samu Varjonen:
Bug fix: Incorrect presentation of Domain Identifier type and length in HIP dissector

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5649
------------------------------------------------------------------------
r35819 | kukosa | 2011-02-04 06:10:37 -0800 (Fri, 04 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-epmd.c
   A /trunk/epan/dissectors/packet-epmd.h
   A /trunk/epan/dissectors/packet-erldp.c

Erlang Port Mapper Daemon protocol updated and Erlang Distribution Protocol implemented
------------------------------------------------------------------------
r35820 | morriss | 2011-02-04 07:19:27 -0800 (Fri, 04 Feb 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-erldp.c

Mark some parameters as unused.

Add a format string to some proto_tree_add_text()s.

Add a cast.

------------------------------------------------------------------------
r35821 | morriss | 2011-02-04 07:19:46 -0800 (Fri, 04 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-epmd.c

Mark a parameter as unused.
------------------------------------------------------------------------
r35822 | etxrab | 2011-02-04 08:12:59 -0800 (Fri, 04 Feb 2011) | 2 lines
Changed paths:
   M /trunk/asn1/ansi_map/packet-ansi_map-template.c
   M /trunk/asn1/ansi_tcap/packet-ansi_tcap-template.c
   M /trunk/epan/dissectors/packet-ansi_map.c
   M /trunk/epan/dissectors/packet-ansi_tcap.c

Introduce preferences to set the strictness of Invoke/response
tracking.
------------------------------------------------------------------------
r35823 | etxrab | 2011-02-04 08:13:44 -0800 (Fri, 04 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-amr.c

Get rid of check_col().
------------------------------------------------------------------------
r35824 | etxrab | 2011-02-04 08:21:58 -0800 (Fri, 04 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
Cleanup 802.11 Dissector : Start Header Field by hf_80211_*

Part 16(Final)
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5647
------------------------------------------------------------------------
r35825 | etxrab | 2011-02-04 08:22:37 -0800 (Fri, 04 Feb 2011) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

White space changes.
------------------------------------------------------------------------
r35828 | gerald | 2011-02-04 08:25:55 -0800 (Fri, 04 Feb 2011) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

Add Erlang Distribution Protocol.

------------------------------------------------------------------------
r35829 | etxrab | 2011-02-04 08:28:26 -0800 (Fri, 04 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Get rid of check_col().
------------------------------------------------------------------------
r35830 | sake | 2011-02-04 09:12:47 -0800 (Fri, 04 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-eth.c

Fix for bug 5645 : Ethernet packets with both VLAN tag and LLC header no longer displayed correctly


------------------------------------------------------------------------
r35831 | kukosa | 2011-02-04 11:10:35 -0800 (Fri, 04 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-epmd.c
   M /trunk/epan/dissectors/packet-erldp.c

Fix checkAPIs errors
------------------------------------------------------------------------
r35832 | sake | 2011-02-04 13:09:55 -0800 (Fri, 04 Feb 2011) | 5 lines
Changed paths:
   M /trunk/doc/editcap.pod
   M /trunk/editcap.c

From  Jason Masker  (bug 5240):
`
Allow editcap to chop from beginning of packet for decapsulation


------------------------------------------------------------------------
r35834 | etxrab | 2011-02-05 06:37:52 -0800 (Sat, 05 Feb 2011) | 1 line
Changed paths:
   M /trunk/asn1/ansi_map/packet-ansi_map-template.c
   M /trunk/epan/dissectors/packet-ansi_map.c

Remove debug printouts.
------------------------------------------------------------------------
r35836 | etxrab | 2011-02-06 06:15:12 -0800 (Sun, 06 Feb 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
A patch to enhance add_fixed_field dissector 
* Replace proto_tree_add_uint/boolean/... by proto_tree_add_item
* Replace some macro by bitmask (TSI..)
* Other stuff...

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5656
------------------------------------------------------------------------
r35837 | gerald | 2011-02-06 08:03:43 -0800 (Sun, 06 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf, services and enterprise-numbers update for 2011-02-06]
------------------------------------------------------------------------
r35840 | morriss | 2011-02-06 19:31:40 -0800 (Sun, 06 Feb 2011) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-3g-a11.c
   M /trunk/epan/dissectors/packet-ntp.c
   M /trunk/epan/proto.c
   M /trunk/epan/proto.h

Add support for passing NTP times to proto_tree_add_item() by specifying
an encoding of ENC_TIME_NTP.

This increases the number of decimal places shown for NTP times (from 6 to 9),
so round the value to the nearest microsecond.  (I can't tell if NTP times are
ever more precise than a microsecond--this rounding is mainly to be closer to
the old behavior.)

Use proto_tree_add_item() for some NTP times.

------------------------------------------------------------------------
r35841 | guy | 2011-02-07 00:18:12 -0800 (Mon, 07 Feb 2011) | 12 lines
Changed paths:
   M /trunk/epan/dissectors/packet-3g-a11.c
   M /trunk/epan/dissectors/packet-ntp.c
   M /trunk/epan/proto.c
   M /trunk/epan/proto.h

For FT_{ABSOLUTE,RELATIVE}_TIME, make the rest of the encoding
orthogonal to the byte order.

This means that we can't just test for a non-zero encoding to determine
whether the format is big-endian or little-endian when we set the
field's endianness flag; instead, for the types where we accept any
non-zero value as meaning "litle-endian", map it to ENC_LITTLE_ENDIAN.

When we use ENC_TIME_NTP, OR in the byte order flag.  While we're at it,
in the dissectors that used ENC_TIME_NTP, update all the other encoding
items in proto_tree_add_item() calls to use the appropriate ENC_ value.

------------------------------------------------------------------------
r35842 | etxrab | 2011-02-07 09:43:26 -0800 (Mon, 07 Feb 2011) | 1 line
Changed paths:
   M /trunk/asn1/ansi_map/ansi_map.asn
   M /trunk/epan/dissectors/packet-ansi_map.c

Add a missing IE found in trace from https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5637
------------------------------------------------------------------------
r35843 | etxrab | 2011-02-07 09:44:34 -0800 (Mon, 07 Feb 2011) | 2 lines
Changed paths:
   M /trunk/asn1/gsm_map/MAP-SM-DataTypes.asn
   M /trunk/asn1/gsm_map/packet-gsm_map-template.c
   M /trunk/epan/dissectors/packet-gsm_map.c

Dissect V1 version , found in trace from:
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5637
------------------------------------------------------------------------
r35844 | etxrab | 2011-02-07 09:45:49 -0800 (Mon, 07 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_sms.c

Use value_string_ext and ENC_BIG_ENDIAN.
------------------------------------------------------------------------
r35845 | gerald | 2011-02-07 10:05:26 -0800 (Mon, 07 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_sms.c

Mark a parameter unused.

------------------------------------------------------------------------
r35846 | guy | 2011-02-07 10:35:22 -0800 (Mon, 07 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ccsds.c

Update URL (the document now includes all updates through Technical
Corrigendum 1; presumably that's the "c1").

------------------------------------------------------------------------
r35847 | sfisher | 2011-02-07 10:37:11 -0800 (Mon, 07 Feb 2011) | 4 lines
Changed paths:
   M /trunk/gtk/filter_autocomplete.c


Some -DGSEAL_ENABLE cleanup in preparation for GTK+ 3.0


------------------------------------------------------------------------
r35848 | sfisher | 2011-02-07 10:38:33 -0800 (Mon, 07 Feb 2011) | 4 lines
Changed paths:
   M /trunk/gtk/decode_as_dlg.c
   M /trunk/gtk/pixmap_save.c


More -DGSEAL_ENABLE cleanup in preparation for GTK+ 3.0


------------------------------------------------------------------------
r35849 | sfisher | 2011-02-07 10:41:38 -0800 (Mon, 07 Feb 2011) | 4 lines
Changed paths:
   M /trunk/gtk/color_edit_dlg.c
   M /trunk/gtk/conversations_table.c
   M /trunk/gtk/dlg_utils.c
   M /trunk/gtk/drag_and_drop.c
   M /trunk/gtk/expert_comp_table.c
   M /trunk/gtk/filter_dlg.c
   M /trunk/gtk/filter_utils.c
   M /trunk/gtk/find_dlg.c
   M /trunk/gtk/follow_stream.c
   M /trunk/gtk/gui_utils.c
   M /trunk/gtk/hostlist_table.c
   M /trunk/gtk/main.c
   M /trunk/gtk/main_proto_draw.c


And even more -DGSEAL_ENABLE cleanup for GTK+ 3.0 preparation...


------------------------------------------------------------------------
r35850 | wmeier | 2011-02-07 10:49:29 -0800 (Mon, 07 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssap.c
   M /trunk/epan/dissectors/packet-dpnss.c
   M /trunk/epan/dissectors/packet-eigrp.c
   M /trunk/epan/dissectors/packet-erf.c
   M /trunk/epan/dissectors/packet-icep.c
   M /trunk/epan/dissectors/packet-icmpv6.c
   M /trunk/epan/dissectors/packet-kink.c
   M /trunk/epan/dissectors/packet-nsip.c
   M /trunk/epan/dissectors/packet-pw-atm.c
   M /trunk/epan/dissectors/packet-rtps.c
   M /trunk/epan/dissectors/packet-sbus.c
   M /trunk/epan/dissectors/packet-sigcomp.c
   M /trunk/epan/dissectors/packet-sndcp.c
   M /trunk/epan/dissectors/packet-sqloracle.h
   M /trunk/epan/dissectors/packet-xtp.c

Remove unneeded #includes (stdio.h,stdlib.h);
Whitespace cleanup: trailing, indentation, "4-space tabs"

------------------------------------------------------------------------
r35851 | sfisher | 2011-02-07 11:18:19 -0800 (Mon, 07 Feb 2011) | 4 lines
Changed paths:
   M /trunk/gtk/color_edit_dlg.c


Fix crash introduced in r35849


------------------------------------------------------------------------
r35852 | sfisher | 2011-02-07 11:21:45 -0800 (Mon, 07 Feb 2011) | 4 lines
Changed paths:
   M /trunk/gtk/prefs_capture.c


More -DGSEAL_ENABLE cleanup in preparation for GTK+ 3


------------------------------------------------------------------------
r35853 | sfisher | 2011-02-07 11:24:26 -0800 (Mon, 07 Feb 2011) | 4 lines
Changed paths:
   M /trunk/gtk/gtkvumeter.c
   M /trunk/gtk/menus.c


More -DGSEAL_ENABLE cleanup in preparation for GTK+ 3


------------------------------------------------------------------------
r35854 | guy | 2011-02-07 11:37:51 -0800 (Mon, 07 Feb 2011) | 6 lines
Changed paths:
   M /trunk/gtk/filter_autocomplete.c

"XXX takes a foo * as an argument" != "pass a variable of type foo * to
XXX"; in the case of gtk_widget_get_allocation(), you have to pass it a
pointer to a variable of type foo, where foo = GtkAllocation.

The same applies to the pre-GTK-2.18 code.

------------------------------------------------------------------------
r35855 | gerald | 2011-02-07 11:39:05 -0800 (Mon, 07 Feb 2011) | 5 lines
Changed paths:
   M /trunk/wiretap/pcapng.c

Check for a large packet_len. Fixes a bug reported by Huzaifa
Sidhpurwala of the Red Hat Security Response Team.

See also: bug 5661.

------------------------------------------------------------------------
r35856 | guy | 2011-02-07 11:39:05 -0800 (Mon, 07 Feb 2011) | 2 lines
Changed paths:
   M /trunk/gtk/gui_utils.c

Fix typo.

------------------------------------------------------------------------
r35861 | guy | 2011-02-07 11:43:18 -0800 (Mon, 07 Feb 2011) | 2 lines
Changed paths:
   M /trunk/gtk/gtkvumeter.c

Similar corrections here.

------------------------------------------------------------------------
r35862 | gerald | 2011-02-07 12:24:42 -0800 (Mon, 07 Feb 2011) | 4 lines
Changed paths:
   M /trunk/gtk/airpcap_dlg.c
   M /trunk/gtk/airpcap_gui_utils.c
   M /trunk/gtk/airpcap_gui_utils.h
   M /trunk/gtk/keys.h

Switch from GtkCList (which is deprecated) to GtkTreeView+GtkListStore.
Make a bunch of functions static. Get rid of a no-longer-necessary
struct. Clean up other parts of the code.

------------------------------------------------------------------------
r35863 | etxrab | 2011-02-07 12:50:13 -0800 (Mon, 07 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
Cleanup 802.11 Dissector : Enhance add_tagged_field (and sub tagged field dissector)

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5660
------------------------------------------------------------------------
r35864 | etxrab | 2011-02-07 13:38:55 -0800 (Mon, 07 Feb 2011) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsmtap.c

from  Holger Freyther:
gsmtap: Update header file, add tetra support

0001 Minor cleanup - made it look crocked in visual studio, changed bu hand.
0002 Update the definitions from the 'upstream' source 
0003 First bits of tetra decoding included in GSMTAP 
0004 Pass the tetra PDUs to the TETRA decoder 

Changed def. of gsmtap_to_tetra to make it compile.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5659
------------------------------------------------------------------------
r35865 | jake | 2011-02-07 14:11:14 -0800 (Mon, 07 Feb 2011) | 2 lines
Changed paths:
   M /trunk/gtk/filter_autocomplete.c
   M /trunk/gtk/gtkvumeter.c

Fix parameters to gtk_widget_get_allocation() call.

------------------------------------------------------------------------
r35866 | jake | 2011-02-07 14:19:38 -0800 (Mon, 07 Feb 2011) | 3 lines
Changed paths:
   M /trunk/plugins/docsis/CMakeLists.txt
   M /trunk/plugins/docsis/Makefile.common
   A /trunk/plugins/docsis/packet-cmstatus.c

From Hendrik Robbel:
Dissector for DOCSIS 3.0 CM-STATUS Report Messages.

------------------------------------------------------------------------
r35867 | jake | 2011-02-07 14:47:43 -0800 (Mon, 07 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wps.c

From Masashi Honma:
Currently the Wireshark does not support Primary Device Type dissection. 
I made a patch for the dissection based on "Wi-Fi Simple Configuration 
Specification DRAFT Version 2.0.0.51".

------------------------------------------------------------------------
r35868 | sfisher | 2011-02-07 15:14:54 -0800 (Mon, 07 Feb 2011) | 4 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-bat.c
   M /trunk/epan/dissectors/packet-batadv.c


Fix bug #5657: Update my mail address 


------------------------------------------------------------------------
r35869 | wmeier | 2011-02-07 16:24:10 -0800 (Mon, 07 Feb 2011) | 3 lines
Changed paths:
   M /trunk/plugins/docsis/packet-bpkmattr.c
   M /trunk/plugins/docsis/packet-docsis.c
   M /trunk/plugins/docsis/packet-macmgmt.c
   M /trunk/plugins/docsis/packet-tlv-cmctrl.c
   M /trunk/plugins/docsis/packet-tlv.c
   M /trunk/plugins/docsis/packet-vendor.c

#if 0 code related to unused "docsis" dissector table;
Use consistent indentation & other whitespace cleanup.

------------------------------------------------------------------------
r35870 | sfisher | 2011-02-07 16:56:22 -0800 (Mon, 07 Feb 2011) | 4 lines
Changed paths:
   M /trunk/gtk/graph_analysis.c
   M /trunk/gtk/menus.c
   M /trunk/gtk/new_packet_list.c


More -DGSEAL_ENABLE cleanup (hopefully without breaking anything)...


------------------------------------------------------------------------
r35871 | guy | 2011-02-07 16:57:21 -0800 (Mon, 07 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wps.c

The checkAPI script doesn't understand arrays of value_string tables,
and that flavor of two-dimensional array requires you to declare a
maximum size for the value_string tables in the array.  Don't use an
array of value_string tables.

------------------------------------------------------------------------
r35872 | sfisher | 2011-02-07 17:01:50 -0800 (Mon, 07 Feb 2011) | 4 lines
Changed paths:
   M /trunk/gtk/prefs_dlg.c
   M /trunk/gtk/prefs_nameres.c
   M /trunk/gtk/prefs_protocols.c


More -DGSEAL_ENABLE cleanup in preparation for GTK+ 3.0...


------------------------------------------------------------------------
r35873 | wmeier | 2011-02-07 17:15:44 -0800 (Mon, 07 Feb 2011) | 2 lines
Changed paths:
   M /trunk/plugins/docsis/packet-cmstatus.c

Rename some hf_... vars so name starts with hf_docsis_cmstatus

------------------------------------------------------------------------
r35874 | guy | 2011-02-07 17:48:07 -0800 (Mon, 07 Feb 2011) | 2 lines
Changed paths:
   M /trunk/gtk/graph_analysis.c

Build with pre-2.18 GTK+es.

------------------------------------------------------------------------
r35875 | morriss | 2011-02-07 18:38:51 -0800 (Mon, 07 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-diameter.c
   M /trunk/epan/proto.c

Add support for 4-byte NTP times (only the seconds) in proto_tree_add_item().

Use it in packet-diameter.c .  Eliminate an unnecessary local variable.

------------------------------------------------------------------------
r35876 | morriss | 2011-02-07 19:16:35 -0800 (Mon, 07 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mikey.c
   M /trunk/epan/dissectors/packet-mip.c
   M /trunk/epan/dissectors/packet-mip6.c
   M /trunk/epan/dissectors/packet-mpls-echo.c

Add NTP times using proto_tree_add_item().

------------------------------------------------------------------------
r35877 | sfisher | 2011-02-07 20:12:09 -0800 (Mon, 07 Feb 2011) | 7 lines
Changed paths:
   M /trunk/gtk/graph_analysis.c


Fix compilation problem for GTK+ < 2.18

graph_analysis.c(1450): error C2039: 'allocation' : is not a member of
'_GtkStyle'


------------------------------------------------------------------------
r35878 | guy | 2011-02-07 22:55:53 -0800 (Mon, 07 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee802154.c

Don't look at any of the fields that come from the Auxiliary Security
Header unless there *is* an Auxiliary Security Header.

------------------------------------------------------------------------
r35879 | etxrab | 2011-02-08 04:32:34 -0800 (Tue, 08 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c

- Use ENC_BIG_ENDIAN.
- GSM_A_PDU_TYPE_BSSMAP.
------------------------------------------------------------------------
r35880 | etxrab | 2011-02-08 04:33:34 -0800 (Tue, 08 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-megaco.c

from Václav Horčák:
Bug 5663 - [PATCH] Fix for MEGACO dissector context tracking.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5663
------------------------------------------------------------------------
r35881 | morriss | 2011-02-08 09:45:34 -0800 (Tue, 08 Feb 2011) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml

Add 3GPP Requesting-Node-Type AVP: it's old but apparently still out there.
------------------------------------------------------------------------
r35882 | etxrab | 2011-02-08 14:01:33 -0800 (Tue, 08 Feb 2011) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsmtap.c

From  Holger Freyther:
Fix the GSMTAP to TETRA table

GSMTAP has the BSCH at 1... this means the table needs to have 9 entries, the
first being 0. 


--------------------------------------------------------------------------------

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5659
------------------------------------------------------------------------
r35883 | morriss | 2011-02-08 18:27:41 -0800 (Tue, 08 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c
   M /trunk/epan/dissectors/packet-rtcp.c
   M /trunk/epan/dissectors/packet-rtp.c

Add NTP times using proto_tree_add_item().

Replace a couple not-very-descriptive blurbs with NULL.

------------------------------------------------------------------------
r35884 | morriss | 2011-02-08 18:43:10 -0800 (Tue, 08 Feb 2011) | 3 lines
Changed paths:
   M /trunk/doc/README.developer

Document that NTP times can be added with proto_tree_add_item().


------------------------------------------------------------------------
r35885 | morriss | 2011-02-08 18:54:12 -0800 (Tue, 08 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

Rewrite this dissector's NTP-to-nstime routine to take a TVB and an offset
instead of a pointer into the TVB.  Then use the standard accessor functions
to get data out of the TVB.


------------------------------------------------------------------------
r35886 | morriss | 2011-02-08 19:00:51 -0800 (Tue, 08 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntp.c
   M /trunk/epan/dissectors/packet-ntp.h
   M /trunk/epan/dissectors/packet-rtcp.c

Rename ntp_fmt_ts() to tvb_ntp_fmt_ts() and make it take a pointer to a TVB and
an offset instead of (generally) a pointer into the TVB. Then use the standard
accessor functions to get data out of the TVB.


------------------------------------------------------------------------
r35887 | morriss | 2011-02-08 19:24:12 -0800 (Tue, 08 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c
   M /trunk/epan/dissectors/packet-ntp.c
   M /trunk/epan/dissectors/packet-ntp.h
   M /trunk/epan/dissectors/packet-zep.c

A couple of dissectors have/need an NTP-to-nstime routine, so put it in
packet-ntp and export it to the other dissectors.

Move some macros (now) only used in packet-ntp.c into that file.

------------------------------------------------------------------------
r35888 | jake | 2011-02-08 23:43:34 -0800 (Tue, 08 Feb 2011) | 2 lines
Changed paths:
   M /trunk/cmake/modules/FindGTK2.cmake

Accommodate the CMake build on Ubuntu 10.10.

------------------------------------------------------------------------
r35889 | jake | 2011-02-09 00:46:21 -0800 (Wed, 09 Feb 2011) | 5 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-e212.c

From Grzegorz Szczytowski:
Update of packet-e212.c dissector according to local national regulatory 
MNC assignment document.
www.uke.gov.pl/uke/redir.jsp?place=galleryStats&id=24439

------------------------------------------------------------------------
r35890 | morriss | 2011-02-09 10:45:32 -0800 (Wed, 09 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Register ett_gtp_bcm.

Replace some tabs with spaces.


------------------------------------------------------------------------
r35891 | morriss | 2011-02-09 14:37:26 -0800 (Wed, 09 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.c
   M /trunk/epan/dissectors/packet-pcep.c

Use tvb_bytes_to_str_punct() instead of bytestring_to_str(tvb_get_ptr(), ...)


------------------------------------------------------------------------
r35892 | morriss | 2011-02-09 14:43:06 -0800 (Wed, 09 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rip.c

Use tvb_bytes_to_str_punct() instead of a homegrown version.


------------------------------------------------------------------------
r35893 | etxrab | 2011-02-10 00:28:18 -0800 (Thu, 10 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nas_eps.c

- Add message name to info col in case of SERVICE REQUEST.
- Get rid of check_col
- proto_tree_add_item -> ENC_BIG_ENDIAN
------------------------------------------------------------------------
r35894 | stig | 2011-02-10 02:11:38 -0800 (Thu, 10 Feb 2011) | 3 lines
Changed paths:
   M /trunk/asn1/cmip/cmip.cnf
   M /trunk/asn1/cmip/packet-cmip-template.c
   M /trunk/epan/dissectors/packet-cmip.c

Added a dissector table for AttributeId localForm.
Use correct object identifier in ModificationList.

------------------------------------------------------------------------
r35895 | tuexen | 2011-02-10 04:54:20 -0800 (Thu, 10 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-calcappprotocol.c
   M /trunk/epan/dissectors/packet-fractalgeneratorprotocol.c
   M /trunk/epan/dissectors/packet-netperfmeter.c
   M /trunk/epan/dissectors/packet-pingpongprotocol.c
   M /trunk/epan/dissectors/packet-scriptingservice.c
   M /trunk/epan/dissectors/packet-sctp.c
   M /trunk/epan/sctpppids.h

Obtained from Thomas Dreibholz: Update SCTP PPIDs.

------------------------------------------------------------------------
r35896 | morriss | 2011-02-10 08:31:00 -0800 (Thu, 10 Feb 2011) | 12 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcm.c
   M /trunk/epan/dissectors/packet-diameter.c
   M /trunk/epan/dissectors/packet-dtls.c
   M /trunk/epan/dissectors/packet-fcswils.c
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/epan/dissectors/packet-isakmp.c
   M /trunk/epan/dissectors/packet-ismp.c
   M /trunk/epan/dissectors/packet-ldss.c
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-netflow.c
   M /trunk/epan/dissectors/packet-ntp.c
   M /trunk/epan/dissectors/packet-olsr.c
   M /trunk/epan/dissectors/packet-p_mul.c
   M /trunk/epan/dissectors/packet-packetbb.c
   M /trunk/epan/dissectors/packet-smb-pipe.c
   M /trunk/epan/dissectors/packet-smb.c
   M /trunk/epan/dissectors/packet-ssl.c
   M /trunk/epan/proto.c

Modify proto_tree_add_bytes_format() and proto_tree_add_bytes_format_value()
so that if the start_ptr is NULL the bytes are extracted from the given TVB
using the given offset and length.

Replace a bunch of:

proto_tree_add_bytes_format*(tree, hf, tvb, offset, length, tvb_get_ptr(tvb, offset, length), [...])

with:

proto_tree_add_bytes_format*(tree, hf, tvb, offset, length, NULL, [...])

------------------------------------------------------------------------
r35897 | gerald | 2011-02-10 09:09:36 -0800 (Thu, 10 Feb 2011) | 3 lines
Changed paths:
   M /trunk/gtk/airpcap_dlg.c
   M /trunk/gtk/airpcap_dlg.h

Remove a bunch of prototypes in airpcap_dlg.h for functions which are
now static. Make another function static.

------------------------------------------------------------------------
r35898 | guy | 2011-02-10 10:27:39 -0800 (Thu, 10 Feb 2011) | 4 lines
Changed paths:
   M /trunk/wiretap/k12.c

Add some information based on a Tektronix manual whose name popped up in
an email I found when looking for some other stuff and which I then
found with a Google search.

------------------------------------------------------------------------
r35899 | gerald | 2011-02-10 11:50:05 -0800 (Thu, 10 Feb 2011) | 2 lines
Changed paths:
   M /trunk/gtk/airpcap_gui_utils.c

Mark a parameter unused if needed.

------------------------------------------------------------------------
r35900 | gerald | 2011-02-10 12:15:31 -0800 (Thu, 10 Feb 2011) | 2 lines
Changed paths:
   M /trunk/gtk/airpcap_gui_utils.c

#ifdef → #ifndef.

------------------------------------------------------------------------
r35901 | guy | 2011-02-10 12:27:35 -0800 (Thu, 10 Feb 2011) | 3 lines
Changed paths:
   M /trunk/gtk/airpcap_gui_utils.c

Add the rest of the changes from the patch in bug 5924.  Squelches some
compiler warnings.

------------------------------------------------------------------------
r35902 | cmaynard | 2011-02-10 12:55:26 -0800 (Thu, 10 Feb 2011) | 2 lines
Changed paths:
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/epan/dissectors/packet-ldap.c
   M /trunk/epan/dissectors/packet-mip6.c

Declare ett's as gint, not guint.

------------------------------------------------------------------------
r35903 | etxrab | 2011-02-10 13:45:36 -0800 (Thu, 10 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
Cleanup 802.11 Dissector :Enhance SSID, Supported Rates, DS, FH, CFP.. Information Element sub dissector 

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5660
------------------------------------------------------------------------
r35904 | morriss | 2011-02-10 14:07:29 -0800 (Thu, 10 Feb 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ismp.c

Pass NULL as the value_ptr to proto_tree_add_bytes_format().

Simplify the code a bit since tvb_ensure_bytes_exist() was already throwing
an exception if all the bytes weren't there.

Use tvb_ether_to_str().

------------------------------------------------------------------------
r35905 | morriss | 2011-02-10 14:14:05 -0800 (Thu, 10 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-rsip.c
   M /trunk/epan/dissectors/packet-rsvp.c

Use tvb_ip_to_str() and tvb_ether_to_str().
------------------------------------------------------------------------
r35906 | morriss | 2011-02-10 14:53:48 -0800 (Thu, 10 Feb 2011) | 3 lines
Changed paths:
   M /trunk/tools/checkAPIs.pl

Add (commented-out for now) code to check certain function calls for embedded
(in the argument list) calls to tvb_get_ptr().

------------------------------------------------------------------------
r35907 | morriss | 2011-02-10 14:57:50 -0800 (Thu, 10 Feb 2011) | 4 lines
Changed paths:
   M /trunk/doc/README.developer

Document that proto_tree_add_bytes_format() and
proto_tree_add_bytes_format_value() may be given a NULL value_ptr.


------------------------------------------------------------------------
r35908 | martinm | 2011-02-10 16:29:40 -0800 (Thu, 10 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Show subheaders summary in subheader root item.

------------------------------------------------------------------------
r35909 | morriss | 2011-02-10 18:27:33 -0800 (Thu, 10 Feb 2011) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Clean up indentation
------------------------------------------------------------------------
r35910 | morriss | 2011-02-10 18:29:45 -0800 (Thu, 10 Feb 2011) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Oops, put a comma back
------------------------------------------------------------------------
r35911 | morriss | 2011-02-10 18:43:07 -0800 (Thu, 10 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c
   M /trunk/epan/dissectors/packet-dhcpv6.c
   M /trunk/epan/dissectors/packet-q931.c
   M /trunk/epan/dissectors/packet-q933.c
   M /trunk/tools/checkAPIs.pl

Check for places where tvb_bytes_to_str() or tvb_get_bytes_to_str_punct()
should be used (instead of the non-tvb functions with a call to tvb_get_ptr()).

Use those functions in a bunch of places.

------------------------------------------------------------------------
r35912 | morriss | 2011-02-10 19:13:24 -0800 (Thu, 10 Feb 2011) | 6 lines
Changed paths:
   M /trunk/epan/address_to_str.c
   M /trunk/epan/dissectors/packet-vines.c
   M /trunk/epan/dissectors/packet-vines.h
   M /trunk/epan/to_str.h

Rename vines_to_str() to tvb_vines_to_str() and make it take a pointer a TVB
and an offset instead of (generally) a pointer into a TVB.

Move most of the contents of packet-vines.h into packet-vines.c: the moved
content is only needed in that file.

------------------------------------------------------------------------
r35913 | morriss | 2011-02-10 19:33:11 -0800 (Thu, 10 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-arp.c
   M /trunk/epan/dissectors/packet-arp.h
   M /trunk/epan/dissectors/packet-bootp.c
   M /trunk/epan/dissectors/packet-dhcp-failover.c
   M /trunk/epan/dissectors/packet-dhcpv6.c

Rename arphrdaddr_to_str() to tvb_arphrdaddr_to_str() and make it take a pointer a TVB
and an offset instead of (generally) a pointer into a TVB.

------------------------------------------------------------------------
r35914 | guy | 2011-02-10 21:54:34 -0800 (Thu, 10 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipp.c

Register for the media type "application/ipp", so *any* HTTP request or
response with that content type will be dissected as IPP.

------------------------------------------------------------------------
r35915 | jake | 2011-02-11 00:00:21 -0800 (Fri, 11 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c

From Joe McEachern:
Add support the 6RD DHCP option defined in RFC 5969.

------------------------------------------------------------------------
r35916 | guy | 2011-02-11 01:28:05 -0800 (Fri, 11 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipp.c

Don't assume we're on port 631.

------------------------------------------------------------------------
r35917 | sfisher | 2011-02-11 10:28:55 -0800 (Fri, 11 Feb 2011) | 5 lines
Changed paths:
   M /trunk/gtk/new_packet_list.c


Remove #ifndef GSEAL_ENABLE hack to work-around the lack of an accessor
for a GSEALed variable since GTK 3.0 is out, which has the accessor.


------------------------------------------------------------------------
r35918 | sfisher | 2011-02-11 12:21:32 -0800 (Fri, 11 Feb 2011) | 10 lines
Changed paths:
   A /trunk/aclocal-fallback/gtk-3.0.m4
   M /trunk/configure.in


Add a command line argument for the configure script of "--with-gtk3" to
attempt to compile against GTK+ 3.0 (which can be installed at the same
time as GTK+ 2.0).  Also place a copy of the autoconf macro for finding
GTK+ 3.0 in the aclocal-fallback directory taken from the GTK+ 3.0
distribution.

(Note: Wireshark won't finish compiling with GTK+ 3.0 yet...)


------------------------------------------------------------------------
r35919 | morriss | 2011-02-11 13:13:38 -0800 (Fri, 11 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-fmp_notify.c

Register a couple ett_ variables. Declare all the ett_ variables together.
------------------------------------------------------------------------
r35920 | morriss | 2011-02-11 13:15:41 -0800 (Fri, 11 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Register a couple of ett_ variables.

Move the declaration of all the ett_ variables after the hf_ variables
(instead of in between some of them).

------------------------------------------------------------------------
r35921 | etxrab | 2011-02-11 13:21:45 -0800 (Fri, 11 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Update 8.12 Indication IE to 3GPP TS 29.274 version 9.4.0 Release 9
------------------------------------------------------------------------
r35922 | morriss | 2011-02-11 13:27:46 -0800 (Fri, 11 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h248_3gpp.c
   M /trunk/epan/dissectors/packet-h248_annex_e.c
   M /trunk/epan/dissectors/packet-h248_q1950.c

Register a bunch of ett_ variables.

Use gint (instead of int) for ett_ variables (for consistency only).

------------------------------------------------------------------------
r35923 | morriss | 2011-02-11 14:44:29 -0800 (Fri, 11 Feb 2011) | 8 lines
Changed paths:
   M /trunk/tools/checkAPIs.pl

Add a function to verify that ett_ variables are registered (or at least
stored in an array which will hopefully be registered).

This is a work-in-progress, so the function is not called.

It is also EXTREMELY slow on big files.  (Or maybe it's looping...
I haven't yet had the patience to let it finish processing packet-rrc.c .)

------------------------------------------------------------------------
r35926 | sfisher | 2011-02-11 16:27:47 -0800 (Fri, 11 Feb 2011) | 5 lines
Changed paths:
   M /trunk/gtk/capture_file_dlg.c
   M /trunk/gtk/capture_info_dlg.c


Traditional GtkTooltips deprecated at GTK+ 2.14 (and removed in 3.0), so
use the new functions when available. 


------------------------------------------------------------------------
r35927 | morriss | 2011-02-11 19:51:12 -0800 (Fri, 11 Feb 2011) | 1 line
Changed paths:
   M /trunk/asn1/tetra/packet-tetra-template.c
   M /trunk/epan/dissectors/packet-tetra.c

Remove an unused ett_ variable.
------------------------------------------------------------------------
r35928 | morriss | 2011-02-11 19:52:05 -0800 (Fri, 11 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ppp.c

Register an ett_ variable.
------------------------------------------------------------------------
r35929 | morriss | 2011-02-11 19:53:29 -0800 (Fri, 11 Feb 2011) | 10 lines
Changed paths:
   M /trunk/tools/checkAPIs.pl

There is a better (and faster) way to see if all the members of one list are
in another list: convert the 2nd list to a hash.  This speeds checking for ett_
variables up considerably.

Store the pattern to match ett_ variable names in a variable (since it's used 3
times).

Only match ett_ variable declarations that start on their own line (hopefully to
speed things up a bit).

------------------------------------------------------------------------
r35930 | gerald | 2011-02-12 09:54:36 -0800 (Sat, 12 Feb 2011) | 2 lines
Changed paths:
   M /trunk/packaging/portableapps/win32/Makefile.nmake

Cygwin 1.7 is much pickier about paths. Pass a POSIX path to bash.

------------------------------------------------------------------------
r35933 | guy | 2011-02-12 11:59:41 -0800 (Sat, 12 Feb 2011) | 14 lines
Changed paths:
   M /trunk/epan/dissectors/packet-btamp.c
   M /trunk/epan/dissectors/packet-btl2cap.c
   M /trunk/epan/dissectors/packet-btobex.c
   M /trunk/epan/dissectors/packet-btrfcomm.c
   M /trunk/epan/dissectors/packet-frame.c
   M /trunk/epan/dissectors/packet-hci_h4.c
   M /trunk/wiretap/btsnoop.c
   M /trunk/wiretap/hcidump.c

The lack of _WITH_PHDR in WTAP_ENCAP_BLUETOOTH_H4 means there's no
pseudo-header, and hence there's no direction indication. Don't set
pinfo->p2p_dir for it.  Use WTAP_ENCAP_BLUETOOTH_H4_WITH_PHDR, not
WTAP_ENCAP_BLUETOOTH_H4, for capture files where we have the direction.

Don't assume pinfo->p2p_dir is either P2P_DIR_SENT or P2P_DIR_RECV when
setting the info column in various Bluetooth dissectors; it might be
unknown.

In the HCI H4 dissector, put the direction into the info column
regardless of whether we have a type match or not; the dissectors for
HCI packet types appear to assume it's been set (as they put a blank at
the beginning of the stuff they append to the direction).

------------------------------------------------------------------------
r35934 | guy | 2011-02-12 12:08:47 -0800 (Sat, 12 Feb 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-btsdp.c

When generating the Info column, don't assume the direction is either
P2P_DIR_SENT or P2P_DIR_RECV - it might be unknown.

Use some #defines for SDP data element IDs, and rename the routine that
gets data elements tor reflect what it does.

------------------------------------------------------------------------
r35935 | etxrab | 2011-02-12 12:17:47 -0800 (Sat, 12 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c

Update dissection of 
3.2.2.103 Speech Codec List
3.2.2.104 Speech Codec
to 3GPP TS 48.008 version 9.4.0 Release 9.
------------------------------------------------------------------------
r35936 | guy | 2011-02-12 12:59:43 -0800 (Sat, 12 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-hci_h4.c

Use the p2p_dir names for the direction values, and also list
P2P_DIR_UNKNOWN as "Unspecified" (to distinguish it from "Unknown" as in
"I don't know what that value means").

------------------------------------------------------------------------
r35937 | etxrab | 2011-02-13 05:56:30 -0800 (Sun, 13 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-m3ua.c

Update standard references.
------------------------------------------------------------------------
r35938 | etxrab | 2011-02-13 07:01:34 -0800 (Sun, 13 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-isup.c

Register BICC by name.
------------------------------------------------------------------------
r35939 | etxrab | 2011-02-13 07:43:17 -0800 (Sun, 13 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c

Advance offsets in the "default" branch to avoid infinite loops.
** (tshark.exe:4392): WARNING **: Dissector bug, protocol GSM BSSMAP, in packet
194520: More than 1000000 items in the tree -- possible infinite loop
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5688
------------------------------------------------------------------------
r35940 | gerald | 2011-02-13 08:03:49 -0800 (Sun, 13 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf, services and enterprise-numbers update for 2011-02-13]
------------------------------------------------------------------------
r35943 | jake | 2011-02-13 13:19:26 -0800 (Sun, 13 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-agentx.c

From Fulko Hew:
The 'upper bound field is not being displayed in Register and Unregister PDU's.

------------------------------------------------------------------------
r35944 | cmaynard | 2011-02-13 17:44:15 -0800 (Sun, 13 Feb 2011) | 2 lines
Changed paths:
   M /trunk/doc/README.idl2wrs
   M /trunk/docbook/wsug_src/WSUG_app_tools.xml
   M /trunk/tools/idl2wrs.sh.in

Disallow invalid char's in the filename passed to idl2wrs.  Fixes bug 1129.

------------------------------------------------------------------------
r35945 | stig | 2011-02-14 02:18:03 -0800 (Mon, 14 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Put error messages and expert info for illegal UTCTime elements as a
subtree on the UTCTime element.

------------------------------------------------------------------------
r35946 | gerald | 2011-02-14 10:58:37 -0800 (Mon, 14 Feb 2011) | 3 lines
Changed paths:
   M /trunk/config.nmake

Enable Enterprise Code Analysis via the ENABLE_CODE_ANALYSIS environment
variable.

------------------------------------------------------------------------
r35947 | jake | 2011-02-14 12:51:40 -0800 (Mon, 14 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-skinny.c

Make sure RTP conversations are created.

------------------------------------------------------------------------
r35948 | jake | 2011-02-14 14:52:14 -0800 (Mon, 14 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-skinny.c

From Ania:
Patch enables decoding CM 7.1(3b) messages and CM5 CallInfoMessage (0x14A).

------------------------------------------------------------------------
r35949 | jake | 2011-02-14 23:14:22 -0800 (Mon, 14 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/to_str.c

From Matthew Parris:
Display "Day of Year" for January 1 as 1, not 0.

------------------------------------------------------------------------
r35950 | jmayer | 2011-02-15 04:06:39 -0800 (Tue, 15 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-skinny.c

Previously 1 byte TCP payload to port 2000 got interpreted as malformed Skinny
------------------------------------------------------------------------
r35951 | wmeier | 2011-02-15 08:40:09 -0800 (Tue, 15 Feb 2011) | 2 lines
Changed paths:
   M /trunk/config.nmake

Enable /analyze:WX-  only if ENABLE_CODE_ANALYSIS is defined ...

------------------------------------------------------------------------
r35952 | wmeier | 2011-02-15 08:56:31 -0800 (Tue, 15 Feb 2011) | 2 lines
Changed paths:
   M /trunk/config.nmake

Update a few comments about the use of LOCAL_CFLAGS, STANDARD_CFLAGS and WARNING_ARE_ERRORS

------------------------------------------------------------------------
r35953 | gerald | 2011-02-15 16:42:06 -0800 (Tue, 15 Feb 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/dct3trace.c

Fix a buffer overflow found by the Visual C++ analyzer.

------------------------------------------------------------------------
r35954 | gerald | 2011-02-15 16:44:12 -0800 (Tue, 15 Feb 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/catapult_dct2000.c
   M /trunk/wiretap/cosine.c
   M /trunk/wiretap/dbs-etherwatch.c
   M /trunk/wiretap/file_access.c
   M /trunk/wiretap/iseries.c
   M /trunk/wiretap/netscaler.c
   M /trunk/wiretap/ngsniffer.c
   M /trunk/wiretap/pppdump.c
   M /trunk/wiretap/vms.c

Fix errors found by the Visual C++ analyzer.

------------------------------------------------------------------------
r35955 | gerald | 2011-02-15 17:28:29 -0800 (Tue, 15 Feb 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/netscaler.c

Fix checkapi.

------------------------------------------------------------------------
r35956 | guy | 2011-02-15 18:16:12 -0800 (Tue, 15 Feb 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/pppdump.c

Check the index before storing into the array.

------------------------------------------------------------------------
r35957 | guy | 2011-02-15 18:21:31 -0800 (Tue, 15 Feb 2011) | 4 lines
Changed paths:
   M /trunk/wiretap/ngsniffer.c

Return an error value for the new error return; it "can't happen" (but
either the VC++ analyzer can't determine that or it *can*, in fact,
happen).  Pick an error code that's not too far off.

------------------------------------------------------------------------
r35958 | morriss | 2011-02-15 18:55:58 -0800 (Tue, 15 Feb 2011) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-aarp.c

Rename the _to_str() functions in this dissector to tvb_*_to_str() and make
the functions take a pointer to a TVB and an offset rather than (generally)
a pointer into a TVB.

Use NULL as the value_ptr in proto_tree_add_bytes_format() since the bytes are
coming straight from the TVB anyway.

Remove unnecessary include file.

------------------------------------------------------------------------
r35959 | morriss | 2011-02-15 19:01:19 -0800 (Tue, 15 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-aruba-adp.c

Use tvb_ether_to_str()
------------------------------------------------------------------------
r35960 | morriss | 2011-02-15 19:05:13 -0800 (Tue, 15 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-batadv.c

Use tvb_ether_to_str() when it can eliminate a tvb_get_ptr() call.
------------------------------------------------------------------------
r35961 | morriss | 2011-02-15 19:08:45 -0800 (Tue, 15 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bat.c

Use tvb_ip_to_str() when it can eliminate a tvb_get_ptr() call.
------------------------------------------------------------------------
r35962 | morriss | 2011-02-15 19:26:57 -0800 (Tue, 15 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dtp.c

Use tvb_ether_to_str().

There's no need to pass the result of tvb_get_ptr() as the 'value' in
proto_tree_add_*(): just use proto_tree_add_item().

------------------------------------------------------------------------
r35963 | morriss | 2011-02-15 19:30:59 -0800 (Tue, 15 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-extreme.c

Use tvb_ether_to_str()
------------------------------------------------------------------------
r35964 | morriss | 2011-02-15 19:36:49 -0800 (Tue, 15 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fddi.c

Make swap_mac_addr() take a pointer to a TVB and an offset rather than
(generally) a pointer into the TVB.

------------------------------------------------------------------------
r35965 | stig | 2011-02-16 03:04:28 -0800 (Wed, 16 Feb 2011) | 4 lines
Changed paths:
   M /trunk/asn1/x420/IPMSFileTransferBodyPartType.asn
   M /trunk/epan/dissectors/packet-x420.c

Generate correct type (FT_OID) for "x420.compression_algorithm_id".

I suspect this should have been fixed in asn2wrs...

------------------------------------------------------------------------
r35966 | sfisher | 2011-02-16 10:27:00 -0800 (Wed, 16 Feb 2011) | 5 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c
   M /trunk/gtk/capture_file_dlg.c
   M /trunk/gtk/capture_if_dlg.c
   M /trunk/gtk/color_edit_dlg.c


More cleanup toward being able to compile with GTK+ 3.0.  Mostly replacing
deprecated GtkToolTips with new functions.


------------------------------------------------------------------------
r35967 | gerald | 2011-02-16 11:26:08 -0800 (Wed, 16 Feb 2011) | 2 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c
   M /trunk/gtk/capture_if_dlg.c

Fix compilation on Windows.

------------------------------------------------------------------------
r35968 | guy | 2011-02-16 13:08:40 -0800 (Wed, 16 Feb 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-radiotap.c

Put the "MCS known information" field into the protocol tree; yes, it's
somewhat redundant, as items aren't displayed if they're not known, but
it can make it a little clearer to people who aren't familiar with the
gory details of radiotap (which people just looking at network traffic
might not be).

Clean up some capitalization of field names.

------------------------------------------------------------------------
r35969 | sfisher | 2011-02-16 13:56:28 -0800 (Wed, 16 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c


Change protocol column from "IEEE 802.11" to "802.11" so it fits in
the default column width.


------------------------------------------------------------------------
r35970 | gerald | 2011-02-16 14:57:36 -0800 (Wed, 16 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/crypt/airpdcap.c
   M /trunk/epan/crypt/airpdcap_ccmp.c

Fix Visual C++ code analysis errors.

------------------------------------------------------------------------
r35971 | gerald | 2011-02-16 17:11:05 -0800 (Wed, 16 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/addr_resolv.c
   M /trunk/epan/dissectors/packet-btobex.c
   M /trunk/epan/dissectors/packet-isakmp.c
   M /trunk/epan/dissectors/packet-iwarp-mpa.c
   M /trunk/epan/dissectors/packet-mount.c
   M /trunk/gtk/capture_if_details_dlg_win32.c
   M /trunk/win32/file_dlg_win32.c

Fix some Visual C++ static analyzer complaints.

------------------------------------------------------------------------
r35972 | guy | 2011-02-16 19:02:18 -0800 (Wed, 16 Feb 2011) | 7 lines
Changed paths:
   M /trunk/wsutil/privileges.c

Squelch a warning from the MSVC++ static analyzer (it's worried that
GetModuleHandle() could return a null pointer, which is possible,
although if it returns one when handed "kernel32.dll", you have bigger
problems...).

Add some comments.

------------------------------------------------------------------------
r35973 | guy | 2011-02-16 20:35:12 -0800 (Wed, 16 Feb 2011) | 15 lines
Changed paths:
   M /trunk/capture_ui_utils.c

Use "XXX != NULL" rather than "XXX" to test for a null pointer; either
I'm missing something or the MSVC++ code analyzer doesn't realize that
in

	if (XXX)
		dereference XXX

will not dereference XXX if it's null - maybe "if (XXX != NULL)" will do
the trick (if so, the code analyzer is buggy, because "if (XXX !=
NULL)", "if (XXX != 0)", and "if (XXX)" mean the exact same thing if XXX
is a pointer-valued expression, really, truly, even if a null pointer
isn't represented as all zero bits or if it's wider than an int).

Clean up indentation.

------------------------------------------------------------------------
r35974 | jake | 2011-02-17 00:03:48 -0800 (Thu, 17 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-isakmp.c

From Alexis La Goutte :
A patch to add Vendor ID of VIA Client & Remote AP (from Aruba Networks)
Also add ett_ value for rohc, ike & ike2.

------------------------------------------------------------------------
r35975 | guy | 2011-02-17 00:15:05 -0800 (Thu, 17 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dfilter/dfilter-macro.c
   M /trunk/epan/dfilter/dfilter.c

OK, let's try a couple more explicit checks against NULL, to see whether
that de-confuses Microsoft's code analyzer.

------------------------------------------------------------------------
r35976 | guy | 2011-02-17 00:39:41 -0800 (Thu, 17 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dfilter/dfilter-macro.c

Oops, wrong pointer comparison.

------------------------------------------------------------------------
r35977 | guy | 2011-02-17 01:08:11 -0800 (Thu, 17 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/addr_resolv.c

Can we reassure Microsoft's static analyzer that 0 <= mask <= 48?

------------------------------------------------------------------------
r35978 | guy | 2011-02-17 01:13:38 -0800 (Thu, 17 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/except.h

Is there an SAL tag that says "this function never returns"?

------------------------------------------------------------------------
r35979 | etxrab | 2011-02-17 02:13:05 -0800 (Thu, 17 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sua.c

- Introduce association tracking(might not work well with multihoming).
- prefix hf variables with sua ( hf_sua...)
------------------------------------------------------------------------
r35980 | stig | 2011-02-17 03:00:54 -0800 (Thu, 17 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sua.c

Fixed no_sua_assoc init.

------------------------------------------------------------------------
r35981 | guy | 2011-02-17 10:43:38 -0800 (Thu, 17 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dfilter/dfilter.c

It wasn't complaining about that null pointer reference.

------------------------------------------------------------------------
r35982 | sfisher | 2011-02-17 10:45:45 -0800 (Thu, 17 Feb 2011) | 4 lines
Changed paths:
   M /trunk/plugins/ethercat/packet-ecatmb.c


Remove some of the many dead assignments found by clang


------------------------------------------------------------------------
r35983 | sfisher | 2011-02-17 10:53:35 -0800 (Thu, 17 Feb 2011) | 8 lines
Changed paths:
   M /trunk/epan/radius_dict.l


Fix dead initialization error found by clang:

"Value stored to 's' during its initialization is never read"

(it's assigned by a later g_hash_table_lookup call)


------------------------------------------------------------------------
r35984 | gerald | 2011-02-17 11:28:30 -0800 (Thu, 17 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ajp13.c

Don't allocate a bunch of memory on the stack for strings that will be
fed to col_append_fstr; columns have a maximum length of 240 characters
(ITEM_LABEL_LENGTH). Make sure our column text is properly formatted.

------------------------------------------------------------------------
r35985 | gerald | 2011-02-17 11:43:16 -0800 (Thu, 17 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-3g-a11.c
   M /trunk/epan/dissectors/packet-afs.c
   M /trunk/epan/dissectors/packet-aim.c
   M /trunk/epan/dissectors/packet-alcap.c
   M /trunk/epan/dissectors/packet-amr.c
   M /trunk/epan/dissectors/packet-ansi_a.c
   M /trunk/epan/dissectors/packet-aoe.c

Fix various Visual C++ analysis warnings.

------------------------------------------------------------------------
r35986 | gerald | 2011-02-17 12:31:11 -0800 (Thu, 17 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_a.c

Fix gcc compilation errors.

------------------------------------------------------------------------
r35987 | guy | 2011-02-17 13:21:40 -0800 (Thu, 17 Feb 2011) | 5 lines
Changed paths:
   M /trunk/Makefile.nmake

Apparently, if the argument to the cd command in an nmake file contains
spaces, it needs to be quoted, the fact that, if the argument to a cd
command typed at cmd.exe contains spaces, it *doesn't* need to be quoted
nonwithstanding.

------------------------------------------------------------------------
r35988 | gerald | 2011-02-17 15:00:34 -0800 (Thu, 17 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-beep.c
   M /trunk/epan/dissectors/packet-ber.c
   M /trunk/epan/dissectors/packet-bssgp.c
   M /trunk/epan/dissectors/packet-bthci_acl.c
   M /trunk/epan/dissectors/packet-btl2cap.c
   M /trunk/epan/dissectors/packet-cip.c

Fix some Visual C++ analysis warnings.

------------------------------------------------------------------------
r35989 | guy | 2011-02-17 15:11:49 -0800 (Thu, 17 Feb 2011) | 4 lines
Changed paths:
   M /trunk/config.h.win32
   M /trunk/configure.in
   M /trunk/dumpcap.c
   M /trunk/epan/crc16.c
   M /trunk/epan/crc32.c
   M /trunk/epan/crypt/airpdcap_wep.c
   M /trunk/epan/except.c
   M /trunk/epan/except.h
   M /trunk/timestats.c

On Windows, try putting __declspec(noreturn) in front of declarations of
routines that don't return.  (This requires that some files include
config.h to get WS_MSVC_NORETURN declared properly.)

------------------------------------------------------------------------
r35990 | gerald | 2011-02-17 15:21:07 -0800 (Thu, 17 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/proto.h

Add a hint for Visual C++ to DISSECTOR_ASSERT. Hopefully this will
reduce some of the /analyze false positives.

------------------------------------------------------------------------
r35991 | gerald | 2011-02-17 15:35:46 -0800 (Thu, 17 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/except.h

Fix compilation on Windows.

------------------------------------------------------------------------
r35992 | guy | 2011-02-17 15:36:39 -0800 (Thu, 17 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/except.c

config.h is now included, and it defines _WIN32_WINNT.

------------------------------------------------------------------------
r35993 | gerald | 2011-02-17 16:08:03 -0800 (Thu, 17 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/except.h

Put WS_MSVC_NORETURN back.

------------------------------------------------------------------------
r35994 | gerald | 2011-02-17 16:33:35 -0800 (Thu, 17 Feb 2011) | 3 lines
Changed paths:
   M /trunk/config.h.win32

Disable Code Analysis warning C6011 for now. Hopefully Clang can pick
up the slack.

------------------------------------------------------------------------
r35995 | gerald | 2011-02-17 17:18:44 -0800 (Thu, 17 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc.c
   M /trunk/epan/dissectors/packet-distcc.c

Fix more Visual C++ analysis errors.

------------------------------------------------------------------------
r35996 | guy | 2011-02-17 17:28:18 -0800 (Thu, 17 Feb 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iwarp-mpa.c

Just for fun, see whether using __declspec(noreturn) on the exception
routines is sufficient to convince the Visual Studio code analyzer that
REPORT_DISSECTOR_BUG() never returns.  (That would probably require that
abort() be tagged with __declspec(noreturn); let's hope Microsoft did
the right thing there.)

------------------------------------------------------------------------
r35997 | guy | 2011-02-17 18:49:46 -0800 (Thu, 17 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iwarp-mpa.c

Nope, the __declspec(noreturn) didn't suffice - either abort() isn't
declared as a noreturn function or declaring except_throw() as a
noreturn function isn't good enough.

------------------------------------------------------------------------
r35998 | etxrab | 2011-02-17 23:00:03 -0800 (Thu, 17 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Add more MSG dissection.
------------------------------------------------------------------------
r35999 | jake | 2011-02-18 00:02:53 -0800 (Fri, 18 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee802154.c

From Ivan Lawrow:
The Final CAP Slot field "wpan.cap" in the Superframe Specification for a
beacon is always displayed as zero.

------------------------------------------------------------------------
r36000 | morriss | 2011-02-18 09:38:46 -0800 (Fri, 18 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

#if out some (currently) unused functions.
------------------------------------------------------------------------
r36001 | etxrab | 2011-02-18 10:40:29 -0800 (Fri, 18 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.h
   M /trunk/epan/dissectors/packet-gsm_a_dtap.c

From Pascal Quantin:
NAS EPS] Fix display of Authentication (Failure) Parameter IEs

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5704
------------------------------------------------------------------------
r36002 | gerald | 2011-02-18 11:46:05 -0800 (Fri, 18 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/reassemble.c
   M /trunk/gtk/find_dlg.c
   M /trunk/gtk/packet_list_store.c

Fix a few errors found by Clang scan-build.

------------------------------------------------------------------------
r36003 | gerald | 2011-02-18 11:57:18 -0800 (Fri, 18 Feb 2011) | 2 lines
Changed paths:
   M /trunk/plugins/asn1/packet-asn1.c

Try to fix some Clan scan-build warnings.

------------------------------------------------------------------------
r36004 | sfisher | 2011-02-18 12:48:49 -0800 (Fri, 18 Feb 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pcep.c


From Roberto Morro via bug #5701: Change the PCEP dissector's port
from 1010 to the IANA assigned value of 4189.  From me: Add RFC 5440
to the list of references.


------------------------------------------------------------------------
r36005 | gerald | 2011-02-18 13:44:06 -0800 (Fri, 18 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c
   M /trunk/epan/dissectors/packet-sua.c
   M /trunk/epan/dissectors/packet-x11.c
   M /trunk/epan/dissectors/packet-zbee-nwk.c

Try to fix more Clang scan-build warnings.

------------------------------------------------------------------------
r36006 | gerald | 2011-02-18 14:43:48 -0800 (Fri, 18 Feb 2011) | 6 lines
Changed paths:
   M /trunk/dumpcap.c
   M /trunk/epan/dissectors/packet-enttec.c
   M /trunk/epan/emem.c
   M /trunk/epan/osi-utils.c
   M /trunk/epan/prefs.c
   M /trunk/epan/stats_tree.c
   M /trunk/epan/strutil.c
   M /trunk/file.c
   M /trunk/gtk/gtkvumeter.c
   M /trunk/tap-protohierstat.c

Fix some dead code and zero division issues found by Clang scan-build.

In convert_string_case() use g_utf8_strup() instead of converting each
character by hand. Hopefully this won't cause any unexpected changes in
behavior.

------------------------------------------------------------------------
r36007 | gerald | 2011-02-18 16:05:12 -0800 (Fri, 18 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iax2.c
   M /trunk/epan/dissectors/packet-ieee802154.c
   M /trunk/epan/dissectors/packet-ms-mms.c
   M /trunk/epan/dissectors/packet-ncp2222.inc
   M /trunk/epan/dissectors/packet-netflow.c

Fix Visual C++ code analysis warnings.

------------------------------------------------------------------------
r36008 | cmaynard | 2011-02-19 14:01:14 -0800 (Sat, 19 Feb 2011) | 2 lines
Changed paths:
   M /trunk/tshark.c

Sort capture file types listed by "-F" like editcap does.

------------------------------------------------------------------------
r36009 | stig | 2011-02-20 07:03:09 -0800 (Sun, 20 Feb 2011) | 2 lines
Changed paths:
   M /trunk/asn1/spnego/packet-spnego-template.c
   M /trunk/epan/dissectors/packet-spnego.c

Add changes in r35384 to template file.

------------------------------------------------------------------------
r36010 | stig | 2011-02-20 07:05:21 -0800 (Sun, 20 Feb 2011) | 2 lines
Changed paths:
   M /trunk/asn1/cms/cms.cnf
   M /trunk/asn1/cms/packet-cms-template.c
   M /trunk/epan/dissectors/packet-cms.c

Add changes in r35546 to template and conformation file.

------------------------------------------------------------------------
r36011 | stig | 2011-02-20 08:02:59 -0800 (Sun, 20 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-packetbb.c

Capitalize protocol name.

------------------------------------------------------------------------
r36012 | gerald | 2011-02-20 08:03:38 -0800 (Sun, 20 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf
   M /trunk/services

[Automatic manuf, services and enterprise-numbers update for 2011-02-20]
------------------------------------------------------------------------
r36013 | stig | 2011-02-20 09:03:29 -0800 (Sun, 20 Feb 2011) | 3 lines
Changed paths:
   M /trunk/asn1/Makefile.am
   M /trunk/asn1/Makefile.nmake
   M /trunk/asn1/acp133/Makefile.common
   M /trunk/asn1/acp133/acp133.cnf
   M /trunk/asn1/acp133/packet-acp133-template.c
   M /trunk/asn1/cdt/cdt.cnf
   M /trunk/asn1/cdt/packet-cdt-template.c
   A /trunk/asn1/p1 (from /trunk/asn1/x411:36008)
   M /trunk/asn1/p1/Makefile.common
   A /trunk/asn1/p1/p1.cnf (from /trunk/asn1/x411/x411.cnf:36008)
   A /trunk/asn1/p1/packet-p1-template.c (from /trunk/asn1/x411/packet-x411-template.c:36008)
   A /trunk/asn1/p1/packet-p1-template.h (from /trunk/asn1/x411/packet-x411-template.h:36008)
   D /trunk/asn1/p1/packet-x411-template.c
   D /trunk/asn1/p1/packet-x411-template.h
   D /trunk/asn1/p1/x411.cnf
   A /trunk/asn1/p22 (from /trunk/asn1/x420:36010)
   M /trunk/asn1/p22/Makefile.common
   A /trunk/asn1/p22/p22.cnf (from /trunk/asn1/x420/x420.cnf:36010)
   A /trunk/asn1/p22/packet-p22-template.c (from /trunk/asn1/x420/packet-x420-template.c:36010)
   A /trunk/asn1/p22/packet-p22-template.h (from /trunk/asn1/x420/packet-x420-template.h:36010)
   D /trunk/asn1/p22/packet-x420-template.c
   D /trunk/asn1/p22/packet-x420-template.h
   D /trunk/asn1/p22/x420.cnf
   M /trunk/asn1/p7/Makefile.common
   M /trunk/asn1/p7/p7.cnf
   M /trunk/asn1/p7/packet-p7-template.c
   A /trunk/asn1/p772 (from /trunk/asn1/s4406:36010)
   M /trunk/asn1/p772/Makefile.common
   A /trunk/asn1/p772/p772.cnf (from /trunk/asn1/s4406/s4406.cnf:36010)
   A /trunk/asn1/p772/packet-p772-template.c (from /trunk/asn1/s4406/packet-s4406-template.c:36010)
   A /trunk/asn1/p772/packet-p772-template.h (from /trunk/asn1/s4406/packet-s4406-template.h:36010)
   D /trunk/asn1/p772/packet-s4406-template.c
   D /trunk/asn1/p772/packet-s4406-template.h
   D /trunk/asn1/p772/s4406.cnf
   D /trunk/asn1/s4406
   D /trunk/asn1/x411
   D /trunk/asn1/x420
   M /trunk/asn1/x509ce/Makefile.common
   M /trunk/asn1/x509ce/packet-x509ce-template.c
   M /trunk/asn1/x509ce/x509ce.cnf
   M /trunk/asn1/x509sat/Makefile.common
   M /trunk/asn1/x509sat/packet-x509sat-template.c
   M /trunk/asn1/x509sat/x509sat.cnf
   M /trunk/configure.in
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-acp133.c
   M /trunk/epan/dissectors/packet-cdt.c
   M /trunk/epan/dissectors/packet-dmp.c
   A /trunk/epan/dissectors/packet-p1.c (from /trunk/epan/dissectors/packet-x411.c:36008)
   A /trunk/epan/dissectors/packet-p1.h (from /trunk/epan/dissectors/packet-x411.h:36008)
   A /trunk/epan/dissectors/packet-p22.c (from /trunk/epan/dissectors/packet-x420.c:36010)
   A /trunk/epan/dissectors/packet-p22.h (from /trunk/epan/dissectors/packet-x420.h:36010)
   M /trunk/epan/dissectors/packet-p7.c
   A /trunk/epan/dissectors/packet-p772.c (from /trunk/epan/dissectors/packet-s4406.c:36010)
   A /trunk/epan/dissectors/packet-p772.h (from /trunk/epan/dissectors/packet-s4406.h:36010)
   D /trunk/epan/dissectors/packet-s4406.c
   D /trunk/epan/dissectors/packet-s4406.h
   D /trunk/epan/dissectors/packet-x411.c
   D /trunk/epan/dissectors/packet-x411.h
   D /trunk/epan/dissectors/packet-x420.c
   D /trunk/epan/dissectors/packet-x420.h
   M /trunk/epan/dissectors/packet-x509ce.c
   M /trunk/epan/dissectors/packet-x509sat.c

Renamed x411 to p1, x420 to p22 and s4406 to p772 to be consistent
on the naming policy for X.400 protocols.

------------------------------------------------------------------------
r36016 | etxrab | 2011-02-20 10:51:59 -0800 (Sun, 20 Feb 2011) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
Patch 3 : 

Enhance "Header" Tag Element (replace value_string tag_num_vals[] by
range_string tag_num_vals[]...)
Enhance TIM, IBSS, Country Info, (Q)BSS Load, FH Hopping Parameter...



https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5660
------------------------------------------------------------------------
r36017 | etxrab | 2011-02-20 10:56:52 -0800 (Sun, 20 Feb 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nwmtp.c

From: Holger Hans Peter Freyther

The protocol has a simple addition to provide the InService and
OutOfService notification for a MTPL2 link inside the protocol. This
patch adds these types to the type field, stops handing empty packages
to the MTPL3 dissector and fills out the COL_INFO with the type of
the packet.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5706
------------------------------------------------------------------------
r36018 | stig | 2011-02-21 03:00:19 -0800 (Mon, 21 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ses.c

Added reassembly of segmented SES packages.
X.225 7.37.1 states that an end SSDU may or may not contain User Data.

This is a fix for bug 5678.

------------------------------------------------------------------------
r36019 | stig | 2011-02-21 03:36:50 -0800 (Mon, 21 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ses.c

Added enclosure_item_flags assignment cast.

------------------------------------------------------------------------
r36020 | martinm | 2011-02-21 06:43:16 -0800 (Mon, 21 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Previous UL frame may be 8 OR 16 subframes ago.

------------------------------------------------------------------------
r36021 | gerald | 2011-02-21 10:42:19 -0800 (Mon, 21 Feb 2011) | 2 lines
Changed paths:
   M /trunk/config.nmake

Fix a typo.

------------------------------------------------------------------------
r36022 | jake | 2011-02-21 13:12:21 -0800 (Mon, 21 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-vnc.c

From Yaniv Kaul:
This one parses the extended desktop size pseudo-encoding, as specified in
http://www.tigervnc.com/cgi-bin/rfbproto#extendeddesktopsize-pseudo-encoding

------------------------------------------------------------------------
r36023 | jake | 2011-02-21 13:33:54 -0800 (Mon, 21 Feb 2011) | 5 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/cmakeconfig.h.in

From Roland Knall:
WS_MSVC_NORETURN is undeclared under a non-Windows operating system, which
breaks compilation in the files epan/except.c and dumpcap.c as well as any
file including epan/except.h

------------------------------------------------------------------------
r36025 | stig | 2011-02-22 02:23:44 -0800 (Tue, 22 Feb 2011) | 9 lines
Changed paths:
   M /trunk/asn1/p1/p1.cnf
   M /trunk/asn1/p1/packet-p1-template.c
   M /trunk/asn1/p1/packet-p1-template.h
   M /trunk/asn1/p7/p7.cnf
   M /trunk/epan/dissectors/packet-p1.c
   M /trunk/epan/dissectors/packet-p1.h
   M /trunk/epan/dissectors/packet-p7.c

Ensure we always have a valid top_tree for p1.content.  This fixes a problem
with other dissectors using p1.content, such as p7.

Reset global content_type_id so this will be correct in more cases.
This is still not a good solution, because ContentType and Content are
generic objects which may occur individual in P7.

Indicate when to report invalid content-type.

------------------------------------------------------------------------
r36026 | etxrab | 2011-02-22 03:56:10 -0800 (Tue, 22 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c
   M /trunk/epan/dissectors/packet-gsm_a_common.c
   M /trunk/epan/dissectors/packet-gsm_a_common.h
   M /trunk/epan/dissectors/packet-gsm_a_dtap.c
   M /trunk/epan/dissectors/packet-gsm_a_gm.c
   M /trunk/epan/dissectors/packet-gsm_a_rp.c
   M /trunk/epan/dissectors/packet-gsm_a_rr.c
   M /trunk/epan/dissectors/packet-nas_eps.c

From Pascal Quantin:
[3GPP protocols] Prettify the display of Mandatory Value information elements

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5711
------------------------------------------------------------------------
r36028 | jake | 2011-02-22 13:19:13 -0800 (Tue, 22 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

Fix for bug 5702:
In RFC 5102 (for IPFIX), id=128 is defined as "bgpNextAdjacentAsNumber" which
is DST_AS_PEER and id=129 as "bgpPrevAdjacentAsNumber" which is SRC_AS_PEER.

------------------------------------------------------------------------
r36029 | gerald | 2011-02-22 16:51:02 -0800 (Tue, 22 Feb 2011) | 9 lines
Changed paths:
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/asn1/ldap/packet-ldap-template.h
   M /trunk/epan/dissectors/packet-dns.c
   M /trunk/epan/dissectors/packet-dns.h
   M /trunk/epan/dissectors/packet-ldap.c
   M /trunk/epan/dissectors/packet-ldap.h
   M /trunk/epan/dissectors/packet-smb-common.c
   M /trunk/epan/dissectors/packet-smb-common.h
   M /trunk/epan/dissectors/packet-smb-logon.c

Split get_dns_name() into get_dns_name() and expand_dns_name().

In dissect_ms_compressed_string() dissect_mscldap_string() simply call
expand_dns_name() instead of using duplicate (and insecure) code. This
*might* break CLDAP and SMB dissection. If that's the case we should
probably revert get_dns_name() and simplify expand_dns_name().

Fixes infinite recursion errors found by joernchen of Phenoelit.

------------------------------------------------------------------------
r36031 | etxrab | 2011-02-23 05:51:49 -0800 (Wed, 23 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-6lowpan.c
   M /trunk/epan/dissectors/packet-bgp.c
   M /trunk/epan/dissectors/packet-cops.c
   M /trunk/epan/dissectors/packet-gsm_a_dtap.c
   M /trunk/epan/dissectors/packet-gsm_a_gm.c
   M /trunk/epan/dissectors/packet-gsm_a_rr.c
   M /trunk/epan/dissectors/packet-gtp.c
   M /trunk/epan/dissectors/packet-ipv6.h
   M /trunk/epan/dissectors/packet-isis-lsp.c
   M /trunk/epan/dissectors/packet-pflog.c
   M /trunk/epan/dissectors/packet-raw.c
   M /trunk/epan/dissectors/packet-sap.c

From Alexis La Goutte:
Cleanup packet-ipv6.h and dependency.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5713
------------------------------------------------------------------------
r36032 | morriss | 2011-02-23 09:00:20 -0800 (Wed, 23 Feb 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pim.c

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5713 :

Enhance PIM 
* Replace struct ip6_hdr/tvb_m by tvb_ip6_to_str
* Remove dependency to packet-ipv6.h

------------------------------------------------------------------------
r36033 | morriss | 2011-02-23 09:31:03 -0800 (Wed, 23 Feb 2011) | 12 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-ripng.c
   D /trunk/epan/dissectors/packet-ripng.h

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5713 :

Enhance RIPng
* Replace tvb_memcpy/proto_tree_add_text by proto_tree_add_item
* Remove dependency to packet-ipv6.h
* Remove packet-ripng.h (not needed)

Also update AUTHORS file

From me:
Put a check_col() back and reword (shorten) a couple of the new blurbs.

------------------------------------------------------------------------
r36034 | morriss | 2011-02-23 09:45:03 -0800 (Wed, 23 Feb 2011) | 14 lines
Changed paths:
   M /trunk/epan/dissectors/packet-agentx.c

From Fulko Hew via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5709 :

When Wireshark receives an AgentX Ping-PDU that contains a zero length
'context' identifier it emits the following warning:

14:30:20          Warn Dissector bug, protocol AgentX, in packet 1066:
tvbuff.c:2571: failed assertion "bufsize != 0"


The attached patch prevents the warning message from appearing under that
circumstance.  Note:  This patch will also prevent the warning under all other
conditions where a zero length string is specified anywhere in the protocol
dissector.

------------------------------------------------------------------------
r36035 | morriss | 2011-02-23 09:54:00 -0800 (Wed, 23 Feb 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-erf.c

From Stephen Donnelly via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5708 :

The ERF record format defines several error flags.

This patch exposes ERF error flags using 'Expert Infos' for highlighting and
counting.

------------------------------------------------------------------------
r36037 | gerald | 2011-02-23 14:49:59 -0800 (Wed, 23 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-6lowpan.c

Forward port r36036 from trunk-1.4: Make sure we ep_allocate enough
memory.

------------------------------------------------------------------------
r36039 | wmeier | 2011-02-23 19:46:30 -0800 (Wed, 23 Feb 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wsp.c

Fix Bug #5624: "Unknown MMS multipart media is shown in the wrong subtree"

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5624

Do ti = proto_tree_add_text(...,...); yyy=proto_item_add_subtree(ti,...) in the usual manner.

------------------------------------------------------------------------
r36042 | jake | 2011-02-23 22:22:52 -0800 (Wed, 23 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mactelnet.c

From Håkon Nessjøen
Additions:
  More correct way of checking direction of packets
  Support for two new packet types: ping, pingreply

------------------------------------------------------------------------
r36045 | jake | 2011-02-23 22:46:47 -0800 (Wed, 23 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-kdp.c

From Wade Hennessey:
Add support for new header options in the KDP protocol.

------------------------------------------------------------------------
r36047 | morriss | 2011-02-24 06:40:01 -0800 (Thu, 24 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-kdp.c

Initialize option_len to avoid a (false positive) unitialized variable warning.
------------------------------------------------------------------------
r36048 | morriss | 2011-02-24 06:49:10 -0800 (Thu, 24 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-kdp.c

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5724 :

Fix a possible bug/crash with rev 36045.

------------------------------------------------------------------------
r36049 | etxrab | 2011-02-24 07:06:16 -0800 (Thu, 24 Feb 2011) | 1 line
Changed paths:
   M /trunk/asn1/gsm_map/gsm_map.cnf
   M /trunk/epan/dissectors/packet-gsm_map.c
   M /trunk/epan/dissectors/packet-gsm_map.h

Add exports.
------------------------------------------------------------------------
r36052 | wmeier | 2011-02-24 11:26:38 -0800 (Thu, 24 Feb 2011) | 4 lines
Changed paths:
   M /trunk/dumpcap.c

Fix Bug #5716: "dumpcap: -q option behavior doesn't match documentation"
Rework code slightly to print "Packets captured: " at 'dumpcap -q ...' exit.
Also: SigInfo now prints: "Packets captured:  n" iso "n Packets captured".

------------------------------------------------------------------------
r36055 | sfisher | 2011-02-24 13:47:37 -0800 (Thu, 24 Feb 2011) | 5 lines
Changed paths:
   M /trunk/plugins/sercosiii/packet-sercosiii_1v1.c


From Roland Knall via bug #5726: Adding a dissector registration, so the
dissector may be called by other dissectors.


------------------------------------------------------------------------
r36059 | wmeier | 2011-02-24 16:15:34 -0800 (Thu, 24 Feb 2011) | 6 lines
Changed paths:
   M /trunk/wiretap/lanalyzer.c

Fix Bug #5698: "Potential access violation when writing to LANalyzer files"
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5698

Note: before fix
 File ! SaveAs  in Lanalyzer format crashed quite consistently on Windows.

------------------------------------------------------------------------
r36060 | wmeier | 2011-02-24 16:26:37 -0800 (Thu, 24 Feb 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/lanalyzer.c

Revert SVN #36059; patch from Bug #5698 to be used instead

------------------------------------------------------------------------
r36061 | wmeier | 2011-02-24 16:40:22 -0800 (Thu, 24 Feb 2011) | 6 lines
Changed paths:
   M /trunk/wiretap/lanalyzer.c

From Robert Bullen: Fix "Potential access violation when writing to LANalyzer files"
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5698

(Note from me: Before the fix "File ! Save As" in Lanalyzer format
                crashed quite consistently on my Windows 7)

------------------------------------------------------------------------
r36065 | morriss | 2011-02-24 19:18:02 -0800 (Thu, 24 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/emem.c

Add a comment explaining what the canary between allocations looks like.
------------------------------------------------------------------------
r36067 | stig | 2011-02-25 07:06:37 -0800 (Fri, 25 Feb 2011) | 2 lines
Changed paths:
   M /trunk/gtk/profile_dlg.c

Ensure we write the current recent file before copying.

------------------------------------------------------------------------
r36068 | etxrab | 2011-02-25 07:09:05 -0800 (Fri, 25 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/Makefile.common

Verify tools fails if wireshark-win32-libs does not exist.
------------------------------------------------------------------------
r36069 | etxrab | 2011-02-25 07:10:35 -0800 (Fri, 25 Feb 2011) | 1 line
Changed paths:
   M /trunk/Makefile.nmake

Verify tools fails if wireshark-win32-libs does not exist.
------------------------------------------------------------------------
r36070 | etxrab | 2011-02-25 07:14:12 -0800 (Fri, 25 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/Makefile.common

Revert file commited by misstake.
------------------------------------------------------------------------
r36071 | morriss | 2011-02-25 07:49:28 -0800 (Fri, 25 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/emem.c

Clean up comments: canaries are also used to pad allocations to an 8-byte boundary.
------------------------------------------------------------------------
r36072 | gerald | 2011-02-25 09:17:41 -0800 (Fri, 25 Feb 2011) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake

Comments have to be at the beginning of the line.

------------------------------------------------------------------------
r36073 | wmeier | 2011-02-25 11:17:17 -0800 (Fri, 25 Feb 2011) | 16 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtmpt.c

From Herbert Oppmann: Fix "RTMP dissector unknown audio codec"

"
The [...] variable rtmpt_audio_codecs should be enhanced.

According to [Flash Developer's Guide]
10 = HE-AAC and 11 = Speex are missing.

There is also [Adobe "RTMP Specification V1.0]
which additionally lists 3 = INTEL (not used), 7 = G711A, 8 = G711U
and 9 = NellyMoser 16kHz.
"

From me: All but 'Intel (not used)' added to the list of audio codecs


------------------------------------------------------------------------
r36074 | wmeier | 2011-02-25 12:33:43 -0800 (Fri, 25 Feb 2011) | 6 lines
Changed paths:
   M /trunk/wiretap/netxray.c

From Robert Bullen: ... code is not incrementing wtap_dumper.bytes_dumped.

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5666

Fro me: use 4 -space indentation (not tab) to match surrounding code lines.

------------------------------------------------------------------------
r36075 | etxrab | 2011-02-26 01:37:43 -0800 (Sat, 26 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

- Add a dissector table for Private Extensions.
- Use ENC_BIG_ENDIAN.
------------------------------------------------------------------------
r36077 | stig | 2011-02-26 09:23:24 -0800 (Sat, 26 Feb 2011) | 6 lines
Changed paths:
   M /trunk/epan/filesystem.c
   M /trunk/epan/filesystem.h
   M /trunk/epan/libwireshark.def
   M /trunk/gtk/main.c
   M /trunk/gtk/profile_dlg.c
   M /trunk/gtk/recent.c
   M /trunk/tshark.c

Added functionality for handling global profiles.

Global profiles can be installed in a "profiles" directory in the
Global configuration directory, and a global profile will be copied
to the users profiles on first time usage.

------------------------------------------------------------------------
r36078 | sahlberg | 2011-02-26 17:11:24 -0800 (Sat, 26 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iscsi.c

iSCSI REJECT PDU contains the full header of the offending command as payload.
Add dissection of this header.


------------------------------------------------------------------------
r36079 | etxrab | 2011-02-27 06:54:26 -0800 (Sun, 27 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_map.c
   M /trunk/epan/dissectors/packet-gsm_map.h

Export dissect_gsm_map_ISDN_AddressString_PDU();
------------------------------------------------------------------------
r36080 | gerald | 2011-02-27 08:03:40 -0800 (Sun, 27 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf
   M /trunk/services

[Automatic manuf, services and enterprise-numbers update for 2011-02-27]
------------------------------------------------------------------------
r36083 | etxrab | 2011-02-27 11:39:07 -0800 (Sun, 27 Feb 2011) | 1 line
Changed paths:
   M /trunk/asn1/ranap/ranap.cnf
   M /trunk/epan/dissectors/packet-ranap.c
   M /trunk/epan/dissectors/packet-ranap.h

Export SourceCellID.
------------------------------------------------------------------------
r36084 | etxrab | 2011-02-27 11:40:30 -0800 (Sun, 27 Feb 2011) | 1 line
Changed paths:
   A /trunk/asn1/s1ap/S1AP-SonTransfer-IEs.asn
   M /trunk/asn1/s1ap/s1ap.cnf
   M /trunk/epan/dissectors/packet-s1ap.c
   M /trunk/epan/dissectors/packet-s1ap.h

Add dissection of SonTransfer-IEs.
------------------------------------------------------------------------
r36085 | etxrab | 2011-02-27 11:41:34 -0800 (Sun, 27 Feb 2011) | 2 lines
Changed paths:
   M /trunk/asn1/gsm_map/gsm_map.cnf

Add miisng file from 
http://anonsvn.wireshark.org/viewvc/viewvc.cgi?view=rev&revision=36079
------------------------------------------------------------------------
r36086 | etxrab | 2011-02-27 13:55:35 -0800 (Sun, 27 Feb 2011) | 4 lines
Changed paths:
   M /trunk/asn1/s1ap/s1ap.cnf
   M /trunk/epan/dissectors/packet-s1ap.c
   M /trunk/epan/dissectors/packet-s1ap.h

Export:
SONtransferRequestContainer
SONtransferResponseContainer
SONtransferCause
------------------------------------------------------------------------
r36087 | etxrab | 2011-02-28 01:43:22 -0800 (Mon, 28 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-csn1.c
   A /trunk/epan/dissectors/packet-csn1.h
   A /trunk/epan/dissectors/packet-gsm_rlcmac.c
   A /trunk/epan/dissectors/packet-gsm_rlcmac.h


------------------------------------------------------------------------
r36088 | etxrab | 2011-02-28 03:33:27 -0800 (Mon, 28 Feb 2011) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_rlcmac.c

Fix checkapi detected errors.

Missing log message:
From Vincent Helfre:
GSM RLC MAC dissector

There are 2 things remaining to do:

-  Update to Rel 8 the control messages such as Packet Measurement Order, Packet Measurement Report, Packet Cell Change Order, Packet Cell Change Notification…

-  Improve the display by replacing the strings describing the type by a hf field
------------------------------------------------------------------------
r36089 | etxrab | 2011-02-28 03:34:59 -0800 (Mon, 28 Feb 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Add private extensions under the right tree.
------------------------------------------------------------------------
r36090 | martinm | 2011-02-28 04:24:45 -0800 (Mon, 28 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Make UL retx use warning, rather than error, expert level.

------------------------------------------------------------------------
r36091 | martinm | 2011-02-28 04:26:26 -0800 (Mon, 28 Feb 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c

When doing sequence analysis, allow for the first SN to be seen not to be 0.
This will happen if the capture doesn't include the start of this channel.

------------------------------------------------------------------------
r36092 | etxrab | 2011-02-28 05:55:47 -0800 (Mon, 28 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-csn1.c
   M /trunk/epan/dissectors/packet-csn1.h
   M /trunk/epan/dissectors/packet-gsm_rlcmac.c

From Vincent Helfre:
I change the void * descr field as an union to either store a pointer or a value.

Hope it solves the problem.
------------------------------------------------------------------------
r36093 | etxrab | 2011-02-28 06:17:52 -0800 (Mon, 28 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-csn1.c
   M /trunk/epan/dissectors/packet-gsm_rlcmac.c

- RE apply checkapi patch.
- Mark unused parameters (From Pascal Quantin).
------------------------------------------------------------------------
r36094 | etxrab | 2011-02-28 06:54:22 -0800 (Mon, 28 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-csn1.c
   M /trunk/epan/dissectors/packet-csn1.h

From Pascal Quantin:
patch to fix the various issues
------------------------------------------------------------------------
r36095 | etxrab | 2011-02-28 07:42:58 -0800 (Mon, 28 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-csn1.c
   M /trunk/epan/dissectors/packet-csn1.h

From Pascal Quantin:
the attached patch should hopefully please the buildbots
------------------------------------------------------------------------
r36096 | stig | 2011-02-28 08:11:20 -0800 (Mon, 28 Feb 2011) | 4 lines
Changed paths:
   M /trunk/epan/uat_load.l

Close UAT file after loading.

Open files may prevent deleting a used profile with UAT files.

------------------------------------------------------------------------
r36097 | sfisher | 2011-02-28 10:00:34 -0800 (Mon, 28 Feb 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntp.c


Display the NTP version in COL_INFO so tshark output (without -V) looks
more like tcpdump.


------------------------------------------------------------------------
r36098 | wmeier | 2011-02-28 15:09:02 -0800 (Mon, 28 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_rlcmac.c
   M /trunk/epan/dissectors/packet-gsm_rlcmac.h

Define global vars as static; Whitespace cleanup.

------------------------------------------------------------------------
r36099 | wmeier | 2011-02-28 15:46:07 -0800 (Mon, 28 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_rlcmac.c
   M /trunk/epan/dissectors/packet-gsm_rlcmac.h

Remove unneeded #includes; Add #includes to packet-gsm_rlcmac.c

------------------------------------------------------------------------
r36100 | wmeier | 2011-02-28 15:50:01 -0800 (Mon, 28 Feb 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-csn1.c
   M /trunk/epan/dissectors/packet-csn1.h

Define some globals as static; Remove uneeded #includes; Whitespace cleanup.

------------------------------------------------------------------------
r36101 | gerald | 2011-02-28 16:50:17 -0800 (Mon, 28 Feb 2011) | 5 lines
Changed paths:
   M /trunk/asn1/ldap/ldap.cnf
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/epan/dissectors/packet-ldap.c

If we encounter an excessively long filter string or one with too many
elements, add an expert item and throw a ReportedBoundsError. We may
want to handle this more cleanly in the future but this avoids
allocating a huge amount of memory.

------------------------------------------------------------------------
r36106 | martinm | 2011-03-01 02:53:58 -0800 (Tue, 01 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Was reading F in mac-is descriptors the wrong way around...

------------------------------------------------------------------------
r36107 | martinm | 2011-03-01 02:54:57 -0800 (Tue, 01 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Tweak the way we setup FP R8 info.

------------------------------------------------------------------------
r36108 | kukosa | 2011-03-01 05:01:26 -0800 (Tue, 01 Mar 2011) | 1 line
Changed paths:
   M /trunk/asn1/qsig/packet-qsig-template.c
   M /trunk/asn1/qsig/qsig.cnf
   M /trunk/epan/dissectors/packet-qsig.c

QSIG: decoding of PSS1InformationElement
------------------------------------------------------------------------
r36109 | martinm | 2011-03-01 06:58:51 -0800 (Tue, 01 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

After SR failure, allow for another attempt in SR state machine (presumably with a subsequent RACH happening in-between...)

------------------------------------------------------------------------
r36112 | tuexen | 2011-03-01 09:29:09 -0800 (Tue, 01 Mar 2011) | 7 lines
Changed paths:
   M /trunk/capture_opts.c
   M /trunk/capture_opts.h

Make HAVE_PCAP_REMOTE and HAVE_PCAP_SETSAMPLING independent
as in other places of the code. Such that this is consistently
used. While there, clean up some whitespaces.

This fix was provided by Irene Ruengeler which testing
remote capturing (with multiple interfaces).

------------------------------------------------------------------------
r36113 | gerald | 2011-03-01 11:40:51 -0800 (Tue, 01 Mar 2011) | 3 lines
Changed paths:
   M /trunk/config.nmake
   M /trunk/image/wiresharkinst.ico
   M /trunk/packaging/nsis/Makefile.nmake
   M /trunk/packaging/nsis/wireshark.nsi

Update some of the "Details" properties in the installer. Remove the
32-bit BMPs from the installer icon; they don't appear to render properly.

------------------------------------------------------------------------
r36118 | martinm | 2011-03-02 03:16:28 -0800 (Wed, 02 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Don't overwrite isPhyRetx field for UL frames with DL check.

------------------------------------------------------------------------
r36119 | martinm | 2011-03-02 03:33:46 -0800 (Wed, 02 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Allow linking back to previous UL tx 32 ms ago.

------------------------------------------------------------------------
r36120 | etxrab | 2011-03-02 07:23:38 -0800 (Wed, 02 Mar 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
* Add 802.11 Standard Reference
* Reorder IE (Information Element) and define in decimal (the standard use
decimal...) 

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5660
------------------------------------------------------------------------
r36121 | etxrab | 2011-03-02 08:25:33 -0800 (Wed, 02 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Fix Error: Found non-ASCII characters in packet-ieee80211.c
------------------------------------------------------------------------
r36122 | morriss | 2011-03-02 09:18:34 -0800 (Wed, 02 Mar 2011) | 3 lines
Changed paths:
   M /trunk/tools/checkAPIs.pl

As suggested by Anders: when we detect non-ASCII characters, print the line
number on which we found them.

------------------------------------------------------------------------
r36123 | morriss | 2011-03-02 18:18:57 -0800 (Wed, 02 Mar 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Make the _to_str() functions in here take a pointer to a TVB and an offset
rather than (generally) a pointer into the TVB.

Replace some tabs with spaces (for consistency).

Remove a couple unnecessary includes.

------------------------------------------------------------------------
r36124 | morriss | 2011-03-02 18:24:44 -0800 (Wed, 02 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-hpsw.c

Use tvb_ether_to_str().
------------------------------------------------------------------------
r36125 | morriss | 2011-03-02 18:32:18 -0800 (Wed, 02 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iapp.c

Use tvb_get_guint8() instead of tvb_get_ptr().

Remove a few unnecessary includes.

------------------------------------------------------------------------
r36126 | morriss | 2011-03-02 18:41:22 -0800 (Wed, 02 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c

Use tvb_ether_to_str().
------------------------------------------------------------------------
r36127 | morriss | 2011-03-02 19:02:03 -0800 (Wed, 02 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iwarp-mpa.c

Use tvb_memcpy() instead of tvb_get_ptr() + memcpy().

Remove a few unnecessary includes.

------------------------------------------------------------------------
r36128 | morriss | 2011-03-02 19:09:21 -0800 (Wed, 02 Mar 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-lldp.c

There's no need to pass the result of tvb_get_ptr() as the 'value' in
proto_tree_add_*(): just use proto_tree_add_item().

Use tvb_ether_to_str().

------------------------------------------------------------------------
r36129 | morriss | 2011-03-02 19:28:38 -0800 (Wed, 02 Mar 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pagp.c

There's no need to pass the result of tvb_get_ptr() as the 'value' in
proto_tree_add_*(): just use proto_tree_add_item().

Use tvb_ether_to_str().

Remove some unnecessary includes.

------------------------------------------------------------------------
r36130 | etxrab | 2011-03-02 23:20:34 -0800 (Wed, 02 Mar 2011) | 1 line
Changed paths:
   M /trunk/asn1/s1ap/s1ap.cnf
   M /trunk/epan/dissectors/packet-s1ap.c
   M /trunk/epan/dissectors/packet-s1ap.h

Export SONtransferRequestContaine, SONtransferResponseContainerand and Global-ENB-ID
------------------------------------------------------------------------
r36131 | morriss | 2011-03-03 12:22:45 -0800 (Thu, 03 Mar 2011) | 13 lines
Changed paths:
   M /trunk/epan/reassemble.c
   M /trunk/epan/reassemble_test.c

When reassembling fragments, don't stop looking at fragments just because the
current fragment pushes us past the reassembled size: it may be that the
current fragment is a duplicate/retransmission and will be ignored.

Also, if we detect a conflict between a previous and the current fragment,
flag the current (conflicting) fragment as FD_OVERLAPCONFLICT.  Do *not* flag
the fragment that got us into the reassembly routine (probably the final
fragment): it is not (may not be) the guilty fragment.

Clean up some spacing.

Also add reassembly tests for duplicate/retransmitted fragments.

------------------------------------------------------------------------
r36132 | morriss | 2011-03-03 15:28:32 -0800 (Thu, 03 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/reassemble_test.c

Add more duplicate fragment tests.
------------------------------------------------------------------------
r36133 | sfisher | 2011-03-03 15:47:05 -0800 (Thu, 03 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntp.c


Clarify / add explanations for the fields


------------------------------------------------------------------------
r36134 | sfisher | 2011-03-03 15:48:56 -0800 (Thu, 03 Mar 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntp.c


Change "Reference Clock ID" to "Reference ID" to match RFC5905 (also
mention this RFC in the comments).


------------------------------------------------------------------------
r36135 | sfisher | 2011-03-03 16:17:01 -0800 (Thu, 03 Mar 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntp.c


Correct the usage of tvb_memeql() after r35558: it doesn't return true
if the values are the same; we have to check for "== 0" to see if they
are the same. 


------------------------------------------------------------------------
r36136 | sfisher | 2011-03-03 16:25:56 -0800 (Thu, 03 Mar 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntp.c


Change descriptions of NTP Reference Identifier Codes for stratum 1
servers to match IANA assignment / RFC 5905.  A number of codes already
in Wireshark that aren't assigned were left intact.


------------------------------------------------------------------------
r36137 | etxrab | 2011-03-04 04:57:55 -0800 (Fri, 04 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

All messages converted to the "GSM style" dissection.
------------------------------------------------------------------------
r36138 | kukosa | 2011-03-04 06:01:57 -0800 (Fri, 04 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Check only first 14 digits of GeneralizedTime which are fixed, next parts are optional
------------------------------------------------------------------------
r36139 | kukosa | 2011-03-04 06:36:27 -0800 (Fri, 04 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Fix warning
------------------------------------------------------------------------
r36140 | wmeier | 2011-03-04 07:09:29 -0800 (Fri, 04 Mar 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nbns.c

From Stefan Metzmacher: Patch that fixes false positives and allows large smb1/2 pdus

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4914



------------------------------------------------------------------------
r36141 | etxrab | 2011-03-04 09:40:32 -0800 (Fri, 04 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
Enhance tag fh_hopping_.., tclas, tspec, challenge_text...

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5660
------------------------------------------------------------------------
r36142 | etxrab | 2011-03-06 01:42:41 -0800 (Sun, 06 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c
   M /trunk/epan/dissectors/packet-bssgp.h
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c
   M /trunk/epan/dissectors/packet-gtp.c
   M /trunk/epan/dissectors/packet-nsip.c

Prepare to remove old bssgp code by changing exports.
------------------------------------------------------------------------
r36143 | gerald | 2011-03-06 08:03:46 -0800 (Sun, 06 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf
   M /trunk/services

[Automatic manuf, services and enterprise-numbers update for 2011-03-06]
------------------------------------------------------------------------
r36144 | stig | 2011-03-06 08:37:21 -0800 (Sun, 06 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.h

Mark value_string_ext bssgp_cause_vals_ext as WS_VAR_IMPORT.

------------------------------------------------------------------------
r36147 | martinm | 2011-03-06 14:52:33 -0800 (Sun, 06 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Improve expert info output when detect Scheduling Request 'state machine' problem.

------------------------------------------------------------------------
r36148 | martinm | 2011-03-06 15:10:28 -0800 (Sun, 06 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pdcp-lte.c
   M /trunk/epan/dissectors/packet-rlc-lte.c
   M /trunk/epan/dissectors/packet-umts_fp.c

Remove some instances of _U_ where the parameter is now used.

------------------------------------------------------------------------
r36149 | wmeier | 2011-03-06 18:22:48 -0800 (Sun, 06 Mar 2011) | 13 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-dvbci.c
   M /trunk/wiretap/pcap-common.c
   M /trunk/wiretap/wtap.c
   M /trunk/wiretap/wtap.h

From Martin Kaiser: dissector for DVB-CI (Common Interface)

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5654

From me:
- Entry for DVBCI added to wtap.c encap_table_base[];
- Some code simplification with respect to the use of col_...() for COL_INFO;
- Certain tests for "enough bytes available" not really needed;
- (Other minor tweaks);
- #include<stdio.h> not req'd;
- Minor reformatting and whitespace cleanup;


------------------------------------------------------------------------
r36150 | wmeier | 2011-03-06 18:44:38 -0800 (Sun, 06 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dvbci.c

Set properties

------------------------------------------------------------------------
r36151 | wmeier | 2011-03-06 19:10:51 -0800 (Sun, 06 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dvbci.c

Fix compiler error on Windows 64: cast strlen() to (int);
Also: Apparently the length of an address of type AT_STRINGZ must include the NULL.

------------------------------------------------------------------------
r36152 | etxrab | 2011-03-07 01:36:24 -0800 (Mon, 07 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Remove the old code.
------------------------------------------------------------------------
r36153 | etxrab | 2011-03-07 02:01:24 -0800 (Mon, 07 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Fix packet-bssgp.c:125: warning: 'hf_bssgp_tmsi_ptmsi' defined but not used
------------------------------------------------------------------------
r36154 | etxrab | 2011-03-07 03:56:21 -0800 (Mon, 07 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Remove more obsolete code.
------------------------------------------------------------------------
r36155 | etxrab | 2011-03-07 04:31:49 -0800 (Mon, 07 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.h

Remove a no longer needed struct.
------------------------------------------------------------------------
r36156 | wmeier | 2011-03-07 08:43:55 -0800 (Mon, 07 Mar 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb2.c

From Stefan Metzmacher: smb2 multi-credit / large mtu support
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5729

From me: Update a comment re the "epoch" field: It's now called "credit charge".

------------------------------------------------------------------------
r36157 | sfisher | 2011-03-07 09:01:55 -0800 (Mon, 07 Mar 2011) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dvbci.c


Squelch compiler warning:

packet-dvbci.c: In function 'dissect_dvbci_lpdu':
packet-dvbci.c:1153: warning: 'hdr_tag' may be used uninitialized in this function
packet-dvbci.c:1153: note: 'hdr_tag' was declared here

By setting hdr_tag = 0, but see question on bug #5654 on whether 0 is a 
good default value or not.


------------------------------------------------------------------------
r36158 | etxrab | 2011-03-07 09:46:30 -0800 (Mon, 07 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

From Alexis La Goutte:
enhance tag Power Constraint/Capability, TPC Request/Report, Supported Channel, csa 
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5660
------------------------------------------------------------------------
r36159 | morriss | 2011-03-07 11:23:55 -0800 (Mon, 07 Mar 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sctp.c

Don't pass retransmitted chunks to subdissectors.  Instead just mark them as
retranmissions (in COL_INFO).  (Obviously this only works if TSN analysis is
enabled.)

This should make it more obvious to users which chunks are retransmissions and
will help avoid confusing the subdissector(s).

------------------------------------------------------------------------
r36160 | cmaynard | 2011-03-07 13:58:30 -0800 (Mon, 07 Mar 2011) | 6 lines
Changed paths:
   M /trunk/tap-comparestat.c

Allow <interval> to be successfully sscanf'd no matter the locale for the
decimal symbol.  Similar to the fix made to tap-iostat.c to resolve bug 2880.

Motivated by the discussion started from this thread on the user list:
http://www.wireshark.org/lists/wireshark-users/201103/msg00018.html

------------------------------------------------------------------------
r36161 | sake | 2011-03-07 17:52:25 -0800 (Mon, 07 Mar 2011) | 4 lines
Changed paths:
   M /trunk/color_filters.c
   M /trunk/color_filters.h
   M /trunk/epan/column-utils.c
   M /trunk/epan/frame_data.c
   M /trunk/epan/frame_data.h
   M /trunk/file.c
   M /trunk/file.h
   M /trunk/gtk/CMakeLists.txt
   M /trunk/gtk/Makefile.common
   M /trunk/gtk/capture_file_dlg.c
   M /trunk/gtk/color_dlg.c
   M /trunk/gtk/compare_stat.c
   M /trunk/gtk/drag_and_drop.c
   M /trunk/gtk/font_utils.c
   M /trunk/gtk/goto_dlg.c
   M /trunk/gtk/gtkglobals.h
   M /trunk/gtk/keys.h
   M /trunk/gtk/libui.vcproj
   M /trunk/gtk/main.c
   M /trunk/gtk/main.h
   D /trunk/gtk/main_packet_list.c
   D /trunk/gtk/main_packet_list.h
   M /trunk/gtk/main_proto_draw.c
   M /trunk/gtk/main_toolbar.c
   M /trunk/gtk/menus.c
   M /trunk/gtk/new_packet_list.c
   M /trunk/gtk/new_packet_list.h
   M /trunk/gtk/packet_list_store.c
   M /trunk/gtk/packet_list_store.h
   M /trunk/gtk/packet_win.c
   M /trunk/gtk/prefs_column.c
   M /trunk/gtk/prefs_dlg.c
   M /trunk/gtk/prefs_gui.c
   M /trunk/gtk/prefs_stream.c
   M /trunk/gtk/recent.c
   M /trunk/ui_util.h

Removal of the old packet-list in favor of the new packet list.
It compiles with "./configure without options" on my Mac. Let's see what the buildbots have to say about it :-)


------------------------------------------------------------------------
r36162 | sake | 2011-03-08 03:26:34 -0800 (Tue, 08 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

Fix for bug 5743 : tshark incorrectly calculates tcp stream for SYN packets when port numbers are re-used


------------------------------------------------------------------------
r36163 | wmeier | 2011-03-08 05:52:16 -0800 (Tue, 08 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dvbci.c

From Martin Kaiser: initialize hdr_tag with NO_TAG

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5654

------------------------------------------------------------------------
r36164 | morriss | 2011-03-08 06:41:12 -0800 (Tue, 08 Mar 2011) | 1 line
Changed paths:
   M /trunk/configure.in

Remove the --enable-new-packet-list option (since the code no longer supports the old packet list)
------------------------------------------------------------------------
r36165 | wmeier | 2011-03-08 06:55:07 -0800 (Tue, 08 Mar 2011) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.h.win32
   M /trunk/config.nmake

Remove the 'NEW_PACKET_LIST' defines & etc (since the code no longer supports the old packet list)

------------------------------------------------------------------------
r36166 | cmaynard | 2011-03-08 06:57:38 -0800 (Tue, 08 Mar 2011) | 3 lines
Changed paths:
   M /trunk/gtk/compare_stat.c

Allow <variance> to be successfully sscanf'd no matter the locale for the
decimal symbol.  Same change and reason as for revision 36160.

------------------------------------------------------------------------
r36167 | jmayer | 2011-03-08 10:29:30 -0800 (Tue, 08 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-radius.c

Add support for the pre-rfc DAE port 1700

------------------------------------------------------------------------
r36168 | cmaynard | 2011-03-08 10:33:45 -0800 (Tue, 08 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-radius.c

Conversation tracking must be handled whether "tree" is NULL or not.

------------------------------------------------------------------------
r36169 | cmaynard | 2011-03-08 10:52:12 -0800 (Tue, 08 Mar 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-radius.c

Don't bother creating/finding conversations if we're encapsulated within an
error packet, such as an ICMP destination unreachable.  Prior to this change,
I had captures that showed such encapsulated requests with responses indicated
in other frames, which obviously can't be true.

------------------------------------------------------------------------
r36170 | jmayer | 2011-03-08 11:10:46 -0800 (Tue, 08 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt
   A /trunk/epan/dissectors/packet-mndp.c

Add support for Mikrotiks Neigbor Discovery Protocol (MNDP).
Sample capture at
http://wiki.wireshark.org/SampleCaptures?action=AttachFile&do=get&target=mndp.pcap

------------------------------------------------------------------------
r36171 | etxrab | 2011-03-08 11:55:22 -0800 (Tue, 08 Mar 2011) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

W -> E for g_clist funktions.
------------------------------------------------------------------------
r36172 | sfisher | 2011-03-08 12:23:48 -0800 (Tue, 08 Mar 2011) | 4 lines
Changed paths:
   M /trunk/CMakeOptions.txt
   M /trunk/cmakeconfig.h.in
   M /trunk/color_filters.c


A little more old packet list cleanup


------------------------------------------------------------------------
r36173 | cmaynard | 2011-03-08 13:21:48 -0800 (Tue, 08 Mar 2011) | 2 lines
Changed paths:
   M /trunk/color_filters.c

Display a console warning instead of a simple_dialog for invalid color filters.

------------------------------------------------------------------------
r36174 | wmeier | 2011-03-08 16:43:49 -0800 (Tue, 08 Mar 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c

Check that imported private key is RSA; Prevents a crash.

Fixes Bug #5662

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5662

------------------------------------------------------------------------
r36175 | jmayer | 2011-03-09 05:27:13 -0800 (Wed, 09 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-mndp.c

Update/correct some TLVs
------------------------------------------------------------------------
r36176 | cmaynard | 2011-03-09 09:20:29 -0800 (Wed, 09 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Add emem_tree_lookup32_array_le.  Resolves bug 5744.

------------------------------------------------------------------------
r36177 | cmaynard | 2011-03-11 17:32:35 -0800 (Fri, 11 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sflow.c

Handle PPP in HDLC framing.  Fixes bug 5746.

------------------------------------------------------------------------
r36178 | sfisher | 2011-03-11 18:06:25 -0800 (Fri, 11 Mar 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sflow.c


Improve r36177 per Guy's suggestion at bug #5746 to always call the
PPP-over-HDLC dissector since it will do the check for us to see if
the HDLC framing is present or not.


------------------------------------------------------------------------
r36179 | stig | 2011-03-12 04:09:52 -0800 (Sat, 12 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-mndp.c

Use TRUE/FALSE for encoding_info to make it build.

Added packet-mndp.c to Makefile build.

------------------------------------------------------------------------
r36180 | wmeier | 2011-03-12 11:02:24 -0800 (Sat, 12 Mar 2011) | 7 lines
Changed paths:
   M /trunk/gtk/new_packet_list.c
   M /trunk/gtk/packet_list_store.c
   M /trunk/gtk/packet_list_store.h

Fix bug #5189: Wireshark crashes when cancelling a large sort operation.
Essentially: Don't try to sort if the pre-requisite "columnization" step is stopped
             via the progressbar dialog window before the step completes.
Also: Fix a (very) minor bug wherein the sort-indicator not always cleared on the
      "previous column" when "No Sorting" was selected from a column context menu.
Also: Do minor code, comments & whitespace cleanup.

------------------------------------------------------------------------
r36181 | etxrab | 2011-03-12 15:26:55 -0800 (Sat, 12 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-diameter_3gpp.c
   M /trunk/epan/dissectors/packet-gtp.c

Add sub dissection of AVP MBMS Service Area.
------------------------------------------------------------------------
r36182 | etxrab | 2011-03-13 01:33:45 -0800 (Sun, 13 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

../../../epan/dissectors/packet-gtp.c:5607: error: unused variable ‘length’
------------------------------------------------------------------------
r36183 | gerald | 2011-03-13 08:03:43 -0700 (Sun, 13 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf
   M /trunk/services

[Automatic manuf, services and enterprise-numbers update for 2011-03-13]
------------------------------------------------------------------------
r36186 | etxrab | 2011-03-14 00:15:25 -0700 (Mon, 14 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Add dissection of
- MBMS-SESSION-START-REQUEST
- MBMS-SESSION-START-RESPONSE
------------------------------------------------------------------------
r36187 | jake | 2011-03-14 00:49:05 -0700 (Mon, 14 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-skinny.c

Fix for bug 3933:
Decode TCP port 2443 as Secure Skinny (SCCPS).

------------------------------------------------------------------------
r36188 | etxrab | 2011-03-14 07:05:51 -0700 (Mon, 14 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Export 
tvb_new_composite
tvb_composite_finalize
tvb_composite_append
------------------------------------------------------------------------
r36190 | gerald | 2011-03-14 09:00:51 -0700 (Mon, 14 Mar 2011) | 2 lines
Changed paths:
   M /trunk/asn1/ldap/ldap.cnf
   M /trunk/epan/dissectors/packet-ldap.c

Properly initialize our filter counters.

------------------------------------------------------------------------
r36193 | sfisher | 2011-03-14 12:58:02 -0700 (Mon, 14 Mar 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmp.c


Don't verify the checksum of an ICMP packet when it the payload of an
error packet (pinfo->in_error_pkt), such as an ICMP destination
unreachable, because we probably don't have the whole original packet.


------------------------------------------------------------------------
r36194 | sfisher | 2011-03-14 15:01:49 -0700 (Mon, 14 Mar 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-udp.c


Add expert info to UDP dissector for showing possible (Unix-style)
traceroute packets: if the port number range is 33434 to 33434 + 30.


------------------------------------------------------------------------
r36195 | etxrab | 2011-03-14 23:03:58 -0700 (Mon, 14 Mar 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Add dissection of
- MBMS-SESSION-STOP-REQUEST
- MBMS-SESSION-STOP-RESPONSE
- MBMS-SESSION-UPDATE-REQUEST
- MBMS-SESSION-UPDATE-RESPONSE
- PS-HANDOVER-COMPLETE
- PS-HANDOVER-CANCEL
- PS-HANDOVER-COMPLETE-ACK
------------------------------------------------------------------------
r36196 | martinm | 2011-03-15 10:30:00 -0700 (Tue, 15 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Fix calling of LTE dissectors for R9 DCT protocols.

------------------------------------------------------------------------
r36197 | martinm | 2011-03-15 15:55:53 -0700 (Tue, 15 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Try to fix checkApi script.

------------------------------------------------------------------------
r36198 | etxrab | 2011-03-15 23:21:56 -0700 (Tue, 15 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-epl.c
   M /trunk/epan/dissectors/packet-epl_v1.c

From Roland Knall:
Patch, which removes both EPL and EPLv1 .h files, as well as adding a heuristic dissector hook to EPL (v1 is nearly nowhere in use anymore, therefore not needed)

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5751
------------------------------------------------------------------------
r36199 | cmaynard | 2011-03-16 07:51:53 -0700 (Wed, 16 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-agentx.c

From Fulko Hew via bug 5755: Fix dissect_octet_string() so it properly displays
strings of any length.

------------------------------------------------------------------------
r36200 | cmaynard | 2011-03-16 13:32:53 -0700 (Wed, 16 Mar 2011) | 2 lines
Changed paths:
   M /trunk/AUTHORS

From Jakub Zawadzki: Annotate Jakub as the author of the JSON dissector.

------------------------------------------------------------------------
r36201 | martinm | 2011-03-16 15:51:45 -0700 (Wed, 16 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

2 VS Code Analyzer warnings were bogus. Avoid one and add a comment about the second one.

------------------------------------------------------------------------
r36202 | martinm | 2011-03-16 15:53:41 -0700 (Wed, 16 Mar 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/catapult_dct2000.c

Avoid having large buffers on the stack (as noted in VS Code Analyzer warnings).

------------------------------------------------------------------------
r36203 | martinm | 2011-03-16 16:01:33 -0700 (Wed, 16 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Don't increment after reading last outheader value (as reported by clang).

------------------------------------------------------------------------
r36204 | martinm | 2011-03-16 16:18:59 -0700 (Wed, 16 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pdcp-lte.c
   M /trunk/epan/dissectors/packet-rlc-lte.c

Avoid some unnecessary assignments (as reported by clang).

------------------------------------------------------------------------
r36205 | morriss | 2011-03-17 06:18:27 -0700 (Thu, 17 Mar 2011) | 1 line
Changed paths:
   M /trunk/doc/Makefile.am

Add README.heuristic to the source distribution
------------------------------------------------------------------------
r36206 | morriss | 2011-03-17 06:27:23 -0700 (Thu, 17 Mar 2011) | 1 line
Changed paths:
   D /trunk/epan/dissectors/packet-epl.h
   D /trunk/epan/dissectors/packet-epl_v1.h

As per bug 5751, these header files are no longer needed/used.
------------------------------------------------------------------------
r36207 | cmaynard | 2011-03-17 08:37:28 -0700 (Thu, 17 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-agentx.c

From Jakub Zawadzki: Simpler patch to resolve bug 5755 to properly display all
strings in dissect_octet_string() without having to allocate extra memory.

------------------------------------------------------------------------
r36208 | martinm | 2011-03-17 09:00:13 -0700 (Thu, 17 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Respond to most of the clang warnings for this dissector.

------------------------------------------------------------------------
r36209 | gerald | 2011-03-17 12:53:28 -0700 (Thu, 17 Mar 2011) | 3 lines
Changed paths:
   M /trunk/tools/fuzz-test.sh

Don't clobber the capinfos data if we have a valid capture file. This
should let the original file information show up in bug reports.

------------------------------------------------------------------------
r36210 | cmaynard | 2011-03-17 13:17:09 -0700 (Thu, 17 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mysql.c

All fields are little-endian.  Fixes bug 5759 reported by Tang Fulin.

------------------------------------------------------------------------
r36211 | cmaynard | 2011-03-18 13:02:45 -0700 (Fri, 18 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mysql.c

From Alexis La Goutte submitted in bug 5759: Use  ENC_NA where appropriate.
From me:  Remove unused header fields found by checkhf.pl.  One more ENC_NA.

------------------------------------------------------------------------
r36212 | stig | 2011-03-19 04:09:03 -0700 (Sat, 19 Mar 2011) | 3 lines
Changed paths:
   M /trunk/gtk/drag_and_drop.c

From James Deucker via bug 5766:
Mark some unused arguments.

------------------------------------------------------------------------
r36213 | guy | 2011-03-19 17:05:39 -0700 (Sat, 19 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/proto.c

Clean up indentation.

------------------------------------------------------------------------
r36214 | guy | 2011-03-19 17:47:18 -0700 (Sat, 19 Mar 2011) | 3 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/plugins/sercosiii/packet-sercosiii_1v1.c

From Roland Knall <rknall [AT] gmail.com>: allow heuristic subdissectors
for SERCOS III packets.

------------------------------------------------------------------------
r36215 | stig | 2011-03-20 05:38:31 -0700 (Sun, 20 Mar 2011) | 2 lines
Changed paths:
   M /trunk/configure.in

Added a configure message when having c-ares instead of adns.

------------------------------------------------------------------------
r36216 | gerald | 2011-03-20 08:03:47 -0700 (Sun, 20 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf
   M /trunk/services

[Automatic manuf, services and enterprise-numbers update for 2011-03-20]
------------------------------------------------------------------------
r36219 | etxrab | 2011-03-20 12:33:07 -0700 (Sun, 20 Mar 2011) | 3 lines
Changed paths:
   M /trunk/gtk/expert_dlg.c

Don't register the Exper info dialogue as a first step of removal.

Should the common routines be moved into expet_comp_dlg.[ch]?
------------------------------------------------------------------------
r36220 | etxrab | 2011-03-20 15:36:57 -0700 (Sun, 20 Mar 2011) | 1 line
Changed paths:
   M /trunk/gtk/expert_dlg.c

expert_dlg.c:603: warning: 'expert_dlg_cb' defined but not used
------------------------------------------------------------------------
r36221 | gerald | 2011-03-20 16:09:36 -0700 (Sun, 20 Mar 2011) | 2 lines
Changed paths:
   M /trunk/help/faq.py

Add Python 3 support via 2to3.

------------------------------------------------------------------------
r36222 | guy | 2011-03-21 01:21:51 -0700 (Mon, 21 Mar 2011) | 2 lines
Changed paths:
   M /trunk/gtk/expert_dlg.c

#if 0-out an unused routine.

------------------------------------------------------------------------
r36223 | cmaynard | 2011-03-21 06:28:20 -0700 (Mon, 21 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/reassemble.c

From Jakub Zawadzki via wireshark-dev: Fix comment.

------------------------------------------------------------------------
r36224 | morriss | 2011-03-21 07:52:54 -0700 (Mon, 21 Mar 2011) | 1 line
Changed paths:
   M /trunk/gtk/expert_dlg.c

#if out another unused routine.
------------------------------------------------------------------------
r36225 | wmeier | 2011-03-21 09:57:11 -0700 (Mon, 21 Mar 2011) | 2 lines
Changed paths:
   M /trunk/dumpcap.c

Fix a comment; Use consistent indentatation & formatting.

------------------------------------------------------------------------
r36226 | wmeier | 2011-03-21 10:07:18 -0700 (Mon, 21 Mar 2011) | 4 lines
Changed paths:
   M /trunk/pcapio.c

Don't close file handle if a file write error; (caller does the close)

Fixes "USE_AFTER_FREE" defect reported by Coverity Prevent.

------------------------------------------------------------------------
r36227 | wmeier | 2011-03-21 10:34:58 -0700 (Mon, 21 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/crypt/crypt-md5.c

Add a comment re a "suspicious" sizeof() reported by Coverity Prevent.
(The report seems correct but I'm not altogether sure).

------------------------------------------------------------------------
r36228 | stig | 2011-03-21 11:33:18 -0700 (Mon, 21 Mar 2011) | 2 lines
Changed paths:
   M /trunk/plugins/mate/mate_util.c

Added some casts to fix coverity 325.

------------------------------------------------------------------------
r36229 | wmeier | 2011-03-21 11:54:10 -0700 (Mon, 21 Mar 2011) | 2 lines
Changed paths:
   M /trunk/gtk/find_dlg.c

Re-arrange code slightly to remove a false positive Coverity Prevent "Forward Null" defect report.

------------------------------------------------------------------------
r36230 | stig | 2011-03-21 11:58:48 -0700 (Mon, 21 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/oids.c

Corrected decoding of oid values with length 5.
This fixes coverity 340.

------------------------------------------------------------------------
r36231 | wmeier | 2011-03-21 12:33:19 -0700 (Mon, 21 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rsip.c

Fix an "infinite loop" defect reported by Coverity Prevent (Coverity 430 (run 616)).

------------------------------------------------------------------------
r36232 | sake | 2011-03-21 15:04:22 -0700 (Mon, 21 Mar 2011) | 3 lines
Changed paths:
   M /trunk/wiretap/netscreen.c

Fix for bug 5762, wireshark asserts on reading juniper snoop output when no hex data is present (snoop detail off).


------------------------------------------------------------------------
r36233 | wmeier | 2011-03-21 17:38:55 -0700 (Mon, 21 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ospf.c

Re-arrange code so Coverity Prevent doesn't falsely report several INFINITE_LOOPs: Coverity 427-429 (run 617)

------------------------------------------------------------------------
r36234 | guy | 2011-03-21 20:56:39 -0700 (Mon, 21 Mar 2011) | 8 lines
Changed paths:
   M /trunk/file.c

When we allocate the col_text array, initialize it to a bunch of
pointers to null strings, rather than a bunch of null pointers, so that
if an exception is thrown before we set any of the columns, or some
other problem occurs, we don't end up with null pointers that could
later cause a crash.

Fix indentation.

------------------------------------------------------------------------
r36235 | etxrab | 2011-03-21 23:17:20 -0700 (Mon, 21 Mar 2011) | 2 lines
Changed paths:
   M /trunk/gtk/Makefile.common
   M /trunk/gtk/expert_comp_dlg.c

Remove the Exper info dialogue.
(Leave the fies for a while).
------------------------------------------------------------------------
r36236 | guy | 2011-03-22 00:24:14 -0700 (Tue, 22 Mar 2011) | 5 lines
Changed paths:
   M /trunk/gtk/expert_comp_dlg.c
   M /trunk/gtk/expert_dlg.h

Make expert_tapdata_t opaque to its clients; define the structure only
in gtk/expert_comp_dlg.c.

Don't declare now-static functions in gtk/expert_dlg.h.

------------------------------------------------------------------------
r36237 | guy | 2011-03-22 00:42:45 -0700 (Tue, 22 Mar 2011) | 5 lines
Changed paths:
   M /trunk/wiretap/netscreen.c

Use the same style in netscreen_seek_read() that we use in
netscreen_read(), checking the return value of
parse_netscreen_hex_dump() against -1 and explicitly returning FALSE if
it's -1, otherwise driving on.

------------------------------------------------------------------------
r36238 | sahlberg | 2011-03-22 02:05:26 -0700 (Tue, 22 Mar 2011) | 9 lines
Changed paths:
   M /trunk/plugins/mate/mate_runtime.c

Coverity 420

Remove dead code and add a g_assert_not_reached() at a spot we can definitely never reach.

change a if(x)g_free(x) to a g_free(x)
since g_free(NULL) is just a nop.



------------------------------------------------------------------------
r36239 | etxrab | 2011-03-22 02:06:42 -0700 (Tue, 22 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sgsap.c

- Add 9.4.5 IMEISV IE dissection
- UE Time Zone is TLV
- Cell Global Identity  PDU type is SGSAP_PDU_TYPE
------------------------------------------------------------------------
r36240 | sahlberg | 2011-03-22 02:12:57 -0700 (Tue, 22 Mar 2011) | 6 lines
Changed paths:
   M /trunk/tools/lemon/lemon.c

Coverity 323

Use strdup to copy a string literal we will free() later on.



------------------------------------------------------------------------
r36241 | sahlberg | 2011-03-22 02:35:26 -0700 (Tue, 22 Mar 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc-netlogon.c

Coverity 512

Check if we ran out of bytes in the tvb and return NULL
instead of trying to pass it to the decryption routines.



------------------------------------------------------------------------
r36242 | sahlberg | 2011-03-22 02:47:34 -0700 (Tue, 22 Mar 2011) | 5 lines
Changed paths:
   M /trunk/plugins/wimax/msg_dcd.c

Coverity 1168

Create the items for 33_ARS under the subtree we create for this type and not under the parent node in the tree.


------------------------------------------------------------------------
r36243 | sahlberg | 2011-03-22 02:55:33 -0700 (Tue, 22 Mar 2011) | 6 lines
Changed paths:
   M /trunk/plugins/wimax/msg_dcd.c

Coverity 1167

Dont assign tlv_item unless we need to dereference it.
Also push the variable deeper into the scope where it is used isntead of function wide scope.


------------------------------------------------------------------------
r36244 | stig | 2011-03-22 03:12:07 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

Corrected hack for TAPA by checking for "not IPv4".

Coverity 343.

------------------------------------------------------------------------
r36245 | stig | 2011-03-22 04:25:12 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/capture_info.c

Rewrote error reporting to avoid using a 2048 bytes stack buffer.

Coverity 726.

------------------------------------------------------------------------
r36246 | stig | 2011-03-22 04:40:15 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c

Close fp in error case in ssl_parse_key_list to avoid leakage.

Coverity 597.

------------------------------------------------------------------------
r36247 | stig | 2011-03-22 04:46:19 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/tools/lemon/lemon.c

Allocate space for null termination in make_basename.

Coverity 710.

------------------------------------------------------------------------
r36248 | stig | 2011-03-22 05:12:04 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ntlmssp.c

Pass pointers to structs instead of struct values to create_ntlmssp_v2_key.

Coverity 567.

------------------------------------------------------------------------
r36249 | morriss | 2011-03-22 06:49:07 -0700 (Tue, 22 Mar 2011) | 1 line
Changed paths:
   M /trunk/plugins/wimax/msg_dcd.c

Fix a typo
------------------------------------------------------------------------
r36250 | martinm | 2011-03-22 07:39:02 -0700 (Tue, 22 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

There can be up to 15 DL HARQ processes (depending upon TDD config index).

------------------------------------------------------------------------
r36251 | morriss | 2011-03-22 09:05:12 -0700 (Tue, 22 Mar 2011) | 1 line
Changed paths:
   M /trunk/gtk/expert_comp_table.h

Copy expert_tapdata_t here so that expert_dlg.h is no longer needed.
------------------------------------------------------------------------
r36252 | guy | 2011-03-22 09:33:39 -0700 (Tue, 22 Mar 2011) | 5 lines
Changed paths:
   M /trunk/file.c

We have to initialize the elements of the fdata->col_text array to null
pointers, as there's code that assumes that if they're not set to null
pointers, they're set correctly, and doesn't bother setting them to the
right value.

------------------------------------------------------------------------
r36253 | sfisher | 2011-03-22 09:43:16 -0700 (Tue, 22 Mar 2011) | 6 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-image-gif.c
   M /trunk/epan/dissectors/packet-image-jfif.c
   M /trunk/epan/dissectors/packet-image-png.c


From Dirk via bug #5771: Add heuristic dissector for images and HTTP 

Also add to AUTHORS file.


------------------------------------------------------------------------
r36254 | martinm | 2011-03-22 10:37:47 -0700 (Tue, 22 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c

Don't assign top_ti - delete it for now.
Coverity CID 862

------------------------------------------------------------------------
r36255 | martinm | 2011-03-22 10:46:59 -0700 (Tue, 22 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sdp.c

Make a struct static to avoid growing the stack too much.
Coverity CID 753.

------------------------------------------------------------------------
r36256 | martinm | 2011-03-22 11:06:58 -0700 (Tue, 22 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-q931.c

Remove redundant comparison.
Coverity CID 361.

------------------------------------------------------------------------
r36257 | martinm | 2011-03-22 11:24:38 -0700 (Tue, 22 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_fp.c

Fix mask when extracting FACH Indicator.
Coverity CID 349.

------------------------------------------------------------------------
r36258 | wmeier | 2011-03-22 11:26:36 -0700 (Tue, 22 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tpncp.c

Fix potential array overrun: Coverity CID #565.

------------------------------------------------------------------------
r36259 | stig | 2011-03-22 11:28:08 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/gtk/gui_utils.c

Initialize geom in window_get_geometry.

Coverity 804.

------------------------------------------------------------------------
r36260 | stig | 2011-03-22 11:42:02 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dnp.c

Initialize al_cto before usage.

Coverity 808.

------------------------------------------------------------------------
r36261 | stig | 2011-03-22 11:53:37 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/gtk/uat_gui.c

Allocate correct size of int, not size of a pointer to int.

Coverity 717.

------------------------------------------------------------------------
r36262 | stig | 2011-03-22 11:58:32 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/plugins/mate/mate_runtime.c

Allocate correct size of range.

Coverity 718.

------------------------------------------------------------------------
r36263 | stig | 2011-03-22 12:13:05 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-reload-framing.c

Allocate correct size of reload_frame.

Coverity 714.

------------------------------------------------------------------------
r36264 | stig | 2011-03-22 12:13:48 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-infiniband.c

Allocate correct size of hash_key.

Coverity 713.

------------------------------------------------------------------------
r36265 | stig | 2011-03-22 12:16:19 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-aps.c

Allocate correct size of nwk_keyring.

Coverity 715.

------------------------------------------------------------------------
r36266 | stig | 2011-03-22 12:24:08 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/file.c

Allocate correct size of fdata col_text and col_text_len.

Coverity 711 & 716.

------------------------------------------------------------------------
r36267 | wmeier | 2011-03-22 12:27:48 -0700 (Tue, 22 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcm.c

Remove two tests for fail return from g_malloc();  Fixes Coverity #424 "FORWARD_NULL" 

------------------------------------------------------------------------
r36268 | stig | 2011-03-22 12:48:55 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/gtk/main_proto_draw.c

Added a sanity check for finfo->hfinfo.

Coverity 425.

------------------------------------------------------------------------
r36269 | sahlberg | 2011-03-22 13:48:36 -0700 (Tue, 22 Mar 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

Coverity 989

Remove some item=  assignments we dont need since we never use the value
of the created item.


------------------------------------------------------------------------
r36270 | gerald | 2011-03-22 14:07:00 -0700 (Tue, 22 Mar 2011) | 2 lines
Changed paths:
   M /trunk/file.c

Clarify a comment.

------------------------------------------------------------------------
r36271 | morriss | 2011-03-22 14:15:36 -0700 (Tue, 22 Mar 2011) | 1 line
Changed paths:
   M /trunk/gtk/CMakeLists.txt

Don't compile expert_dlg.c (that dialog is being removed)
------------------------------------------------------------------------
r36272 | wmeier | 2011-03-22 17:43:55 -0700 (Tue, 22 Mar 2011) | 5 lines
Changed paths:
   M /trunk/text2pcap.c

Don't compute each checksum twice when adding dummy headers (-u, -T, -s, -S options)

g_ntohs() & friends may be (are ?) macros and may (will ?) eval args more than once ...


------------------------------------------------------------------------
r36273 | sahlberg | 2011-03-22 21:50:17 -0700 (Tue, 22 Mar 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iscsi.c

The NSG bits in the login pdu are 0x0c   not 0xc0

coverity 344


------------------------------------------------------------------------
r36274 | sahlberg | 2011-03-22 21:55:22 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-scsi.c

Shift the correct number of steps when masking the UAAERP bit to 0/1

coverity 348

------------------------------------------------------------------------
r36275 | sahlberg | 2011-03-22 22:11:06 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/gtk/io_stat.c

Print the time units in the CSV output for io_stat using correct extension, i.e. always in seconds.

coverity 419

------------------------------------------------------------------------
r36276 | sahlberg | 2011-03-22 22:18:26 -0700 (Tue, 22 Mar 2011) | 4 lines
Changed paths:
   M /trunk/plugins/ethercat/packet-nv.c

dont assign to a proto_item* unless we are going to use the value

coverity 1157

------------------------------------------------------------------------
r36277 | etxrab | 2011-03-22 22:48:58 -0700 (Tue, 22 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c

CID 453,454
Missing break
------------------------------------------------------------------------
r36278 | sahlberg | 2011-03-22 23:50:09 -0700 (Tue, 22 Mar 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ff.c

value&0x03 does not need to be shifted to the right by two.

cut-n-paste bug from a few lines above where value&0x0c do need to be shifted by two
before printing as a value

coverity 342


------------------------------------------------------------------------
r36279 | stig | 2011-03-23 00:25:08 -0700 (Wed, 23 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcm.c

Removed "comparing an array to null", with no effect.

Coverity 532.

------------------------------------------------------------------------
r36280 | stig | 2011-03-23 00:29:19 -0700 (Wed, 23 Mar 2011) | 4 lines
Changed paths:
   M /trunk/gtk/main.c

Removed "comparing an array to null", with no effect.

Coverity 533.

------------------------------------------------------------------------
r36281 | stig | 2011-03-23 00:31:17 -0700 (Wed, 23 Mar 2011) | 4 lines
Changed paths:
   M /trunk/gtk/proto_help.c

Removed "comparing an array to null", with no effect.

Coverity 534.

------------------------------------------------------------------------
r36282 | stig | 2011-03-23 00:34:00 -0700 (Wed, 23 Mar 2011) | 4 lines
Changed paths:
   M /trunk/plugins/profinet/packet-dcom-cba.c

Rewrote check for szStr in dissect_ICBAPhysicalDevice_get_LogicalDevice_rqst.

Coverity 535.

------------------------------------------------------------------------
r36283 | stig | 2011-03-23 01:03:02 -0700 (Wed, 23 Mar 2011) | 4 lines
Changed paths:
   M /trunk/plugins/opcua/opcua_application_layer.c
   M /trunk/plugins/opcua/opcua_application_layer.h
   M /trunk/plugins/opcua/opcua_transport_layer.c

Removed unused parameter to parseServiceNodeId.

Coverity 596.

------------------------------------------------------------------------
r36284 | etxrab | 2011-03-23 02:14:50 -0700 (Wed, 23 Mar 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-csn1.c
   M /trunk/epan/dissectors/packet-csn1.h
   M /trunk/epan/dissectors/packet-gsm_a_rr.c
   M /trunk/epan/dissectors/packet-gsm_rlcmac.c
   M /trunk/epan/dissectors/packet-gsm_rlcmac.h

From Vincent Helfre:
- added documentation in packet-csn1.h
- fixed a bug in packet-csn1.c
- fixed a BSIC description in packet-gsm_a_rr.c
- removed the "_v" suffix in packet-gsm_rlcmac element description
------------------------------------------------------------------------
r36285 | martinm | 2011-03-23 03:12:35 -0700 (Wed, 23 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sdp.c

Remove static that was added to appease Coverity 753. 2016 bytes isn't too much to put on the stack.

------------------------------------------------------------------------
r36286 | martinm | 2011-03-23 03:58:24 -0700 (Wed, 23 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc.c

Don't assign proto_item pointers that are not used.

Coverity CIDs 1021 & 1022.

------------------------------------------------------------------------
r36287 | martinm | 2011-03-23 04:35:03 -0700 (Wed, 23 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fp_hint.c

Remove some unncessary assignments to proto_item pointers.

Coverity 904 & 905.

------------------------------------------------------------------------
r36288 | morriss | 2011-03-23 06:18:38 -0700 (Wed, 23 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-csn1.c

Don't use C++/C99-style comments.
------------------------------------------------------------------------
r36289 | wmeier | 2011-03-23 07:51:40 -0700 (Wed, 23 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zbee-zdp.c

Fix bug: 'guint8 |=0x8000'.
Coverity 350

------------------------------------------------------------------------
r36290 | stig | 2011-03-23 07:52:39 -0700 (Wed, 23 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/filesystem.c

Ensure we create the "Default" personal configuration files directory before
creating a new profile.  This fixes a bug when trying to create a new profile
from a newly installed wireshark with no saved preferences.

------------------------------------------------------------------------
r36291 | stig | 2011-03-23 07:58:34 -0700 (Wed, 23 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/filesystem.c

Fixed second parameter to create_persconffile_profile.

------------------------------------------------------------------------
r36292 | wmeier | 2011-03-23 08:15:02 -0700 (Wed, 23 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtps.c
   M /trunk/epan/dissectors/packet-rtps2.c

Fix bugs: 'if ((flags & 0x2) == 1)' ==> 'if ((flags & 0x2) != 0)'
Coverity 346 & 347

------------------------------------------------------------------------
r36293 | wmeier | 2011-03-23 08:21:18 -0700 (Wed, 23 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rsl.c

Fix bug: 'if ((octet & 0x80) == 80)' ==> 'if ((octet & 0x80) == 0x80)'

Coverity 345

------------------------------------------------------------------------
r36294 | wmeier | 2011-03-23 11:10:34 -0700 (Wed, 23 Mar 2011) | 2 lines
Changed paths:
   M /trunk/gtk/follow_tcp.c

Recode a loop slightly ....

------------------------------------------------------------------------
r36295 | wmeier | 2011-03-23 11:55:02 -0700 (Wed, 23 Mar 2011) | 4 lines
Changed paths:
   M /trunk/capture_ui_utils.c

Remove unneeded NULL Test...

Addresses Coverity 598

------------------------------------------------------------------------
r36296 | morriss | 2011-03-23 12:12:24 -0700 (Wed, 23 Mar 2011) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mysql.c

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5768 :

Patch 1 :
Enhance MySQL : Reorder hf and Proto_reg

Patch 2 :
Enhance MySQL : white space changes, use ENC_NA when appropriate, use
proto_tree_add_item()

------------------------------------------------------------------------
r36297 | cmaynard | 2011-03-23 13:00:13 -0700 (Wed, 23 Mar 2011) | 4 lines
Changed paths:
   M /trunk/doc/tshark.pod
   M /trunk/doc/wireshark.pod.template
   M /trunk/mkcap.c
   M /trunk/tap-afpstat.c
   M /trunk/tap-rpcstat.c
   M /trunk/tap-scsistat.c
   M /trunk/tap-smbstat.c
   M /trunk/tap-wspstat.c

From: http://www.wireshark.org/lists/wireshark-dev/201103/msg00157.html
Change RTT references to SRT.
(tshark.pod could use a description for -z afp,srt and -z camel,srt)

------------------------------------------------------------------------
r36298 | cmaynard | 2011-03-23 13:20:40 -0700 (Wed, 23 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmp.c

Add ICMP echo request/reply conversation tracking.  Closes bug 5770.

------------------------------------------------------------------------
r36299 | cmaynard | 2011-03-23 13:38:16 -0700 (Wed, 23 Mar 2011) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

Added an entry about the new tshark "-z <proto>,srt" syntax.

------------------------------------------------------------------------
r36300 | gerald | 2011-03-23 14:03:18 -0700 (Wed, 23 Mar 2011) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_app_files.xml
   M /trunk/docbook/wsug_src/WSUG_chapter_introduction.xml

Clean up information about older Windows versions.

------------------------------------------------------------------------
r36301 | sahlberg | 2011-03-23 14:17:29 -0700 (Wed, 23 Mar 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

remove a conditional that can never be true

coverity 247


------------------------------------------------------------------------
r36302 | gerald | 2011-03-23 15:31:59 -0700 (Wed, 23 Mar 2011) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

Fix markup.

------------------------------------------------------------------------
r36303 | gerald | 2011-03-23 16:36:39 -0700 (Wed, 23 Mar 2011) | 2 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_app_files.xml

More markup updates.

------------------------------------------------------------------------
r36304 | morriss | 2011-03-23 19:10:04 -0700 (Wed, 23 Mar 2011) | 16 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl.c
   M /trunk/epan/dissectors/packet-tcp.c

If we've already seen a segment which starts a multi-segment pdu (i.e., it's
a retransmission), don't add it to the list (tree) of multi-segment pdus.

Otherwise, if we'd already seen the rest of the pdu and the other segments
were not retransmitted, the retransmission would break dissection of the pdu
because lookups for the segment would find the retransmission (to which the
other segments were not attached).

Since we know this segment is a retransmission, don't bother handing it off
to the subdissector either.

Use PINFO_FD_VISITED().
Add some white space in the desegmentation routine to improve readability.

Apply the same changes to the SSL dissector.

------------------------------------------------------------------------
r36305 | morriss | 2011-03-23 19:49:05 -0700 (Wed, 23 Mar 2011) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-http.c
   M /trunk/epan/dissectors/packet-image-gif.c
   M /trunk/epan/dissectors/packet-image-jfif.c
   M /trunk/epan/dissectors/packet-image-png.c

From Dirk: fix https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=2930 :

Make the image (png, gif, jfif) dissectors "new style" so that they don't
dissect data that does not belong to them.

Modify the HTTP dissector to call heuristic dissectors on the body if the
registered subdissector does not accept/dissect the data.

From me: don't use assert() and don't add a preference to the HTTP dissector
for this behavior: it makes sense to behave like that by default.

------------------------------------------------------------------------
r36306 | etxrab | 2011-03-24 02:20:14 -0700 (Thu, 24 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-csn1.c
   M /trunk/epan/dissectors/packet-csn1.h
   M /trunk/epan/dissectors/packet-gsm_rlcmac.c

From Vincent Helfre:
I updated again the csn1 dissector to associate hf_field to each element.
------------------------------------------------------------------------
r36307 | etxrab | 2011-03-24 03:35:29 -0700 (Thu, 24 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_rlcmac.c

Fix Checkapi errors
Error: the name for field " N32" ("gsm_rlcmac_dl.n32") has leading space in packet-gsm_rlcmac.c
Error: the name for field " N51" ("gsm_rlcmac_dl.n51") has leading space in packet-gsm_rlcmac.c
Error: the name for field " N26" ("gsm_rlcmac_dl.n26") has leading space in packet-gsm_rlcmac.c
------------------------------------------------------------------------
r36308 | etxrab | 2011-03-24 03:36:39 -0700 (Thu, 24 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sgsap.c

Beutify IMEISV IE output.
------------------------------------------------------------------------
r36309 | morriss | 2011-03-24 08:31:52 -0700 (Thu, 24 Mar 2011) | 16 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mysql.c

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5768 :

Patch 3 :
Enhance MySQL : Request/Response sub-dissector/function 
(white space changes, use ENC_NA when appropriate, use
proto_tree_add_item()...)

Patch 4 :
Enhance MySQL : packet_ok, server, capa sub-dissector/function (white space
changes, use ENC_NA when appropriate, use proto_tree_add_item()...)

Split mysql_dissect_caps in mysql_dissect_caps_client and
mysql_dissect_caps_server

Rename mysql_dissect_ext_caps to mysql_dissect_ext_caps_client

------------------------------------------------------------------------
r36310 | wmeier | 2011-03-24 09:03:12 -0700 (Thu, 24 Mar 2011) | 7 lines
Changed paths:
   M /trunk/plugins/wimax/msg_ucd.c

Don't assign to a proto_item* if the value isn't to be used: Coverity 1173;
Also:
  - Fix 2 cases of an item attached to the wrong subtree;
  - "localize" & rename some variable definitions;
  - Minor indentation cleanup.


------------------------------------------------------------------------
r36311 | kukosa | 2011-03-24 09:21:31 -0700 (Thu, 24 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/libwireshark.def

Export next_tvb_... functions
------------------------------------------------------------------------
r36312 | wmeier | 2011-03-24 10:37:07 -0700 (Thu, 24 Mar 2011) | 3 lines
Changed paths:
   M /trunk/plugins/ethercat/packet-ecatmb.c

Don't assign to a proto_item* if the value won't be used: Coverity 1151-1154;


------------------------------------------------------------------------
r36313 | cmaynard | 2011-03-24 11:05:10 -0700 (Thu, 24 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmp.c

Display the value of the ICMP echo request/reply response time in milliseconds.

------------------------------------------------------------------------
r36314 | wmeier | 2011-03-24 13:17:22 -0700 (Thu, 24 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wtls.c

Don't assign to a proto_item* if the value won't be used: Coverity 1124-1128;
Also: minorwhitespace cleanup.


------------------------------------------------------------------------
r36315 | wmeier | 2011-03-24 14:19:39 -0700 (Thu, 24 Mar 2011) | 7 lines
Changed paths:
   M /trunk/plugins/ethercat/packet-ethercat-datagram.c

Don't assign to a proto_item* if the value won't be used: Coverity 1155-1156;

Also:
  - Fix a few cases of SET_HIDDEN on the wrong item. (The SET_HIDDEN was being
    done on an already hidden item).
  - Minor indentation cleanup;

------------------------------------------------------------------------
r36316 | sfisher | 2011-03-24 14:22:07 -0700 (Thu, 24 Mar 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmp.c


Only display the 3 digits of precision after the decimal that we have
from the ICMP conversation response time tracking. 


------------------------------------------------------------------------
r36317 | wmeier | 2011-03-24 15:27:20 -0700 (Thu, 24 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-juniper.c

Don't assign to a proto_item* if the value won't be used: Coverity 942-951

Also: minor Code & Whitespace cleanup.

------------------------------------------------------------------------
r36318 | gerald | 2011-03-24 15:47:57 -0700 (Thu, 24 Mar 2011) | 7 lines
Changed paths:
   M /trunk/doc/editcap.pod
   M /trunk/doc/tshark.pod
   M /trunk/epan/addr_resolv.c
   M /trunk/epan/addr_resolv.h
   M /trunk/epan/libwireshark.def
   M /trunk/file.c
   M /trunk/tshark.c
   M /trunk/wiretap/file_access.c
   M /trunk/wiretap/pcapng.c
   M /trunk/wiretap/wtap-int.h
   M /trunk/wiretap/wtap.c
   M /trunk/wiretap/wtap.def
   M /trunk/wiretap/wtap.h

Add initial pcapng name resolution record support. Wireshark has read
support; TShark has read+write support. Additionally TShark can read a
"hosts" file and write those records to a capture file.

This uses "struct addrinfo" in many places and probably won't compile on
some platforms.

------------------------------------------------------------------------
r36319 | gerald | 2011-03-24 15:58:45 -0700 (Thu, 24 Mar 2011) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

Add an item about pcapng name resolution.

------------------------------------------------------------------------
r36320 | wmeier | 2011-03-24 16:05:36 -0700 (Thu, 24 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-juniper.c

Fix a compile warning: unused variable

------------------------------------------------------------------------
r36321 | gerald | 2011-03-24 16:33:38 -0700 (Thu, 24 Mar 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/pcapng.c

Add a missing include.

------------------------------------------------------------------------
r36322 | wmeier | 2011-03-24 16:34:13 -0700 (Thu, 24 Mar 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ppp.c

Don't assign to a proto_item* if the value won't be used:

Also: Fix a bug wherein PPP_RTP_CUD8 was being registered
 to "ppp.protocol" with the cudp16 handle rather than the cudp8 handle.

Coverity 1004-1013

------------------------------------------------------------------------
r36323 | gerald | 2011-03-24 17:28:47 -0700 (Thu, 24 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

If a segment looks like a retransmission, don't mark it out-of-order.

------------------------------------------------------------------------
r36324 | sahlberg | 2011-03-24 20:07:05 -0700 (Thu, 24 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-image-gif.c

remove assignment of an unused value

coverity 1178

------------------------------------------------------------------------
r36325 | etxrab | 2011-03-24 23:42:59 -0700 (Thu, 24 Mar 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/pcapng.c

Make it build on Windows 7
(pcapng.c(1817) : warning C4267: '=' : conversion from 'size_t' to 'gint', possible loss of data)
------------------------------------------------------------------------
r36326 | sahlberg | 2011-03-25 00:15:48 -0700 (Fri, 25 Mar 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb2.c

remove an unused variable

coverity 1044


------------------------------------------------------------------------
r36327 | sahlberg | 2011-03-25 00:19:15 -0700 (Fri, 25 Mar 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-atm.c

remove unused variable

coverity 229


------------------------------------------------------------------------
r36328 | sahlberg | 2011-03-25 00:22:23 -0700 (Fri, 25 Mar 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-atalk.c

use the newly created tree to store the new items instead of the parent tree

coverity 842


------------------------------------------------------------------------
r36329 | sahlberg | 2011-03-25 00:26:17 -0700 (Fri, 25 Mar 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-syslog.c

remove two unused assignments

coverity 1050


------------------------------------------------------------------------
r36330 | morriss | 2011-03-25 08:45:37 -0700 (Fri, 25 Mar 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

Fix the problem reported in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=3785#c14 :

If we thought we finished reassembly (and called the subdissector) only to find
out that the subdissector asked for more data, handle the case where the
subdissector asked for DESEGMENT_UNTIL_FIN.  Previously we only handled the
possibility that the subdissector would ask for a specific number of bytes or
DESEGMENT_ONE_MORE_SEGMENT.

------------------------------------------------------------------------
r36331 | cmaynard | 2011-03-25 11:51:12 -0700 (Fri, 25 Mar 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

Change urb_type from FT_STRING to FT_UINT8.  This fixes the display filtering
for this field.  This change was prompted because of the following query:
    http://ask.wireshark.org/questions/3113/usburb_type-values

Also, remove 2 unused fields found by running tools/checkhf.pl.

------------------------------------------------------------------------
r36332 | morriss | 2011-03-25 12:02:18 -0700 (Fri, 25 Mar 2011) | 11 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-bgp.c
   M /trunk/epan/dissectors/packet-rtsp.c
   M /trunk/epan/dissectors/packet-snmp.c
   M /trunk/epan/dissectors/packet-ssh.c
   M /trunk/epan/dissectors/packet-ssl.c
   M /trunk/epan/dissectors/packet-tcp.c
   M /trunk/epan/dissectors/packet-tds.c
   M /trunk/epan/dissectors/packet-tpkt.c
   M /trunk/epan/dissectors/packet-x11.c

From Didier via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=3055 :

Apply rev 25869 to most of the rest of the TCP-desegmenting dissectors.
(The SSL dissector was already updated in one of two spots with bug 4535/rev
32456.)

A couple of the patches had to be manually applied.

From me: Fix the comments to match the change (including in the TCP and SSL
dissectors.)

------------------------------------------------------------------------
r36333 | morriss | 2011-03-25 13:04:54 -0700 (Fri, 25 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-fcip.c
   M /trunk/epan/dissectors/packet-iscsi.c
   M /trunk/epan/dissectors/packet-ldp.c

As suggested by Didier in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=3055 :

Apply rev 25869 to some more dissectors.

------------------------------------------------------------------------
r36334 | wmeier | 2011-03-25 14:09:28 -0700 (Fri, 25 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bgp.c

Don't assign to a proto_item* if the value won't be used: Coverity 852,854;
Add a hidden item to the correct subtree: Coverity 853.

------------------------------------------------------------------------
r36335 | wmeier | 2011-03-25 14:52:56 -0700 (Fri, 25 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ldss.c

Don't assign to a proto_item* if the value won't be used: Coverity 958-961.

------------------------------------------------------------------------
r36336 | wmeier | 2011-03-25 15:13:33 -0700 (Fri, 25 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ismacryp.c

Don't assign to a proto_item* if the value won't be used: Coverity 941

------------------------------------------------------------------------
r36337 | sfisher | 2011-03-25 15:16:23 -0700 (Fri, 25 Mar 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-vnc.c


Fix coverity 268, 269, 546, 547, 548, 549 by checking for null return
from p_get_proto_data() since it should have been set already by the
calling function.  Any other case would be a bug, so call
DISSECTOR_ASSERT in those cases.  Hopefully Coverity realizes that this
is a null return value check.


------------------------------------------------------------------------
r36338 | morriss | 2011-03-25 15:20:27 -0700 (Fri, 25 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

Reword the comments from rev 36304.

Replace the tabs in the file (mostly added by me) with spaces (for consistency).

------------------------------------------------------------------------
r36339 | sfisher | 2011-03-25 15:35:29 -0700 (Fri, 25 Mar 2011) | 8 lines
Changed paths:
   M /trunk/gtk/new_packet_list.c


Fix Coverity 331, 332, 333: Wrap the three remaining
gtk_tree_selection_get_selected() calls with if(!..) return;
like the rest of them.  These functions shouldn't be called
unless a packet was selected, so this call should always return
TRUE for success.


------------------------------------------------------------------------
r36340 | gerald | 2011-03-25 16:45:48 -0700 (Fri, 25 Mar 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/nettl.c
   M /trunk/wiretap/vms.c

Fix Coverity CIDs 810 & 811: uninitialized variables.

------------------------------------------------------------------------
r36341 | morriss | 2011-03-25 18:21:43 -0700 (Fri, 25 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-http.c

The 'name's passed to tick_stat_node() do not need to be static.
------------------------------------------------------------------------
r36342 | morriss | 2011-03-25 18:22:31 -0700 (Fri, 25 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-isup.c

Simplify the generation of the 'name' passed to tick_stat_node().
------------------------------------------------------------------------
r36343 | morriss | 2011-03-25 19:11:42 -0700 (Fri, 25 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/emem.c

Remove some duplicated string manipulation code.
------------------------------------------------------------------------
r36344 | morriss | 2011-03-25 19:39:04 -0700 (Fri, 25 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/emem.c
   M /trunk/epan/emem.h
   M /trunk/epan/g_gnuc_malloc.h
   M /trunk/epan/libwireshark.def

Introduce ep_strconcat (copied from the glib version)
------------------------------------------------------------------------
r36345 | sahlberg | 2011-03-25 22:18:09 -0700 (Fri, 25 Mar 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sna.c

remove a proto_item variable we dont need

coverity 1046


------------------------------------------------------------------------
r36346 | sahlberg | 2011-03-25 22:39:45 -0700 (Fri, 25 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-csn1.c

remove a proto_item variable we never use

coverity 866

------------------------------------------------------------------------
r36347 | jake | 2011-03-26 04:23:46 -0700 (Sat, 26 Mar 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dhcpv6.c

From Hadar Shoham:
Add support to correlation ID under DHCPv6 according to 
"CL-SP-CANN-DHCP-Reg-I06-110210" 
DHCPv6 option 17 Vendor-specific Information, sub option 2172 (paragraph 5.4.3)

------------------------------------------------------------------------
r36348 | stig | 2011-03-26 08:16:40 -0700 (Sat, 26 Mar 2011) | 4 lines
Changed paths:
   M /trunk/gtk/hostlist_table.c

Added a missing break in hostlist_get_filter_name.

Coverity 481.

------------------------------------------------------------------------
r36349 | stig | 2011-03-26 08:20:37 -0700 (Sat, 26 Mar 2011) | 4 lines
Changed paths:
   M /trunk/gtk/tcp_graph.c

Added a missing break in graph_select_segment.

Coverity 482.

------------------------------------------------------------------------
r36350 | stig | 2011-03-26 08:24:36 -0700 (Sat, 26 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/proto.c

Added a FALLTHRU comment to avoid a coverity warning.

Coverity 480.

------------------------------------------------------------------------
r36351 | stig | 2011-03-26 08:39:35 -0700 (Sat, 26 Mar 2011) | 4 lines
Changed paths:
   M /trunk/print.c

Added a sanity check in output_fields_set_option.

Coverity 552.

------------------------------------------------------------------------
r36352 | stig | 2011-03-26 08:53:55 -0700 (Sat, 26 Mar 2011) | 4 lines
Changed paths:
   M /trunk/gtk/megaco_stat.c
   M /trunk/tap-megacostat.c

Added sanity checks for preferences.

Coverity 551 & 553.

------------------------------------------------------------------------
r36353 | stig | 2011-03-26 08:59:57 -0700 (Sat, 26 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dmp.c

Added a sanity check to remove a coverity warning.

Coverity 537.

------------------------------------------------------------------------
r36354 | jake | 2011-03-26 09:07:30 -0700 (Sat, 26 Mar 2011) | 6 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-atmtcp.c

From Alexis La Goutte:
A patch to add ATM over TCP Dissector.
The dissector dissect only the ATMTCP header (VCI, VPI, Payload Length) 
The data are not yet dissect, it is necessary to add a "UAT" (As with the K12
dissector) to indicate the type (ILMI, AAL, ATM...) of data (based on VCI/VPI)

------------------------------------------------------------------------
r36355 | wmeier | 2011-03-26 09:39:30 -0700 (Sat, 26 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-erf.c

Don't assign to a proto_item* if the value won't be used: Coverity 895-897
Also: Fix some indentation & whitespace.

------------------------------------------------------------------------
r36356 | stig | 2011-03-27 06:15:14 -0700 (Sun, 27 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc.c
   M /trunk/wiretap/commview.c

Added a missing break.

Coverity 492.

------------------------------------------------------------------------
r36357 | stig | 2011-03-27 06:16:50 -0700 (Sun, 27 Mar 2011) | 4 lines
Changed paths:
   M /trunk/tap-h225counter.c

Added a missing break.

Coverity 491.

------------------------------------------------------------------------
r36358 | stig | 2011-03-27 06:30:39 -0700 (Sun, 27 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ospf.c

Added some missing breaks.

Coverity 466.

------------------------------------------------------------------------
r36359 | stig | 2011-03-27 06:33:28 -0700 (Sun, 27 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icq.c

Added a FALLTHRU comment to avoid a "missing break" warning.

Coverity 458.

------------------------------------------------------------------------
r36360 | stig | 2011-03-27 06:35:30 -0700 (Sun, 27 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-coap.c

Added some missing breaks.

Coverity 447.

------------------------------------------------------------------------
r36361 | stig | 2011-03-27 06:40:54 -0700 (Sun, 27 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Added some missing breaks.

Coverity 443 & 444.

------------------------------------------------------------------------
r36362 | stig | 2011-03-27 06:51:47 -0700 (Sun, 27 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-lmp.c

Added some missing breaks.

Coverity 462 & 463.

------------------------------------------------------------------------
r36363 | stig | 2011-03-27 06:54:53 -0700 (Sun, 27 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iuup.c

Added a missing break.

Coverity 461.

------------------------------------------------------------------------
r36364 | stig | 2011-03-27 06:56:53 -0700 (Sun, 27 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dpnss.c

Added a missing break.

Coverity 452.

------------------------------------------------------------------------
r36365 | etxrab | 2011-03-27 07:02:42 -0700 (Sun, 27 Mar 2011) | 1 line
Changed paths:
   M /trunk/asn1/gsm_map/packet-gsm_map-template.c
   M /trunk/epan/dissectors/packet-gsm_map.c

Added  FALLTHRU comment to avoid a "missing break" warning.
------------------------------------------------------------------------
r36366 | stig | 2011-03-27 07:11:40 -0700 (Sun, 27 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

Added a FALLTHRU comment to avoid a "missing break" warning.

Coverity 472.

------------------------------------------------------------------------
r36367 | wmeier | 2011-03-27 07:34:19 -0700 (Sun, 27 Mar 2011) | 4 lines
Changed paths:
   M /trunk/plugins/mate/mate_util.c

Removed uneeded 'continue'.

Fixes Coverity 815 ("UNREACHABLE").

------------------------------------------------------------------------
r36368 | gerald | 2011-03-27 08:03:43 -0700 (Sun, 27 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf
   M /trunk/services

[Automatic manuf, services and enterprise-numbers update for 2011-03-27]
------------------------------------------------------------------------
r36369 | wmeier | 2011-03-27 08:39:06 -0700 (Sun, 27 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-q933.c

1. Fix bug in dissection of a field; Add two missing lines of code.
2. #if 0 if test "which will never be true"; Add XXX comment

------------------------------------------------------------------------
r36370 | gerald | 2011-03-27 08:58:52 -0700 (Sun, 27 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dns.c

Add the IPv4 address, not the first 4 bytes of its name, to the
resolution table.

------------------------------------------------------------------------
r36372 | gerald | 2011-03-27 09:06:03 -0700 (Sun, 27 Mar 2011) | 2 lines
Changed paths:
   M /trunk/Makefile.common
   M /trunk/doc/tshark.pod
   M /trunk/docbook/release-notes.xml
   A /trunk/tap-hosts.c

Add "-z hosts", which dumps name resolution information in hosts format.

------------------------------------------------------------------------
r36373 | wmeier | 2011-03-27 09:15:19 -0700 (Sun, 27 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-reload-framing.c

Fix Coverity 393: "DEADCODE"; Add an XXX comment

------------------------------------------------------------------------
r36375 | guy | 2011-03-27 10:26:21 -0700 (Sun, 27 Mar 2011) | 4 lines
Changed paths:
   M /trunk/tap-hosts.c

If there are more than 4 billion characters in the printable form of a
network address, we have bigger problems.  Cast the result of strlen()
to int to squelch a compiler warning with MSVC++.

------------------------------------------------------------------------
r36376 | etxrab | 2011-03-28 06:09:47 -0700 (Mon, 28 Mar 2011) | 1 line
Changed paths:
   M /trunk/wiretap/wtap.h

Update a comment.
------------------------------------------------------------------------
r36377 | stig | 2011-03-28 07:18:29 -0700 (Mon, 28 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-user_encap.c

Added payload, header and trailer information to the DLT tree entry.

------------------------------------------------------------------------
r36378 | cmaynard | 2011-03-28 07:53:35 -0700 (Mon, 28 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

Make ip.fragments an FT_BYTES field so a PDML Export will display the bytes in
the value="..." attribute.  Fixes bug 1520.

------------------------------------------------------------------------
r36379 | morriss | 2011-03-28 08:20:16 -0700 (Mon, 28 Mar 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mysql.c

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5768 :

Patch 5

Enchance MySQL : 
* Add expert info of when undecoded data 
* Fix some white space

------------------------------------------------------------------------
r36380 | morriss | 2011-03-28 08:23:27 -0700 (Mon, 28 Mar 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-reload-framing.c

From Stephane Bryant via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5787 :

Register the reload-framing dissector by name.  Needed when RELOAD is not used
over udp/tcp (but tls, for example)

------------------------------------------------------------------------
r36381 | morriss | 2011-03-28 08:28:03 -0700 (Mon, 28 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-atmtcp.c

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5522 :

Fix a Clang warning, add email address, and add some stuff to COL_INFO.

------------------------------------------------------------------------
r36382 | cmaynard | 2011-03-28 09:42:25 -0700 (Mon, 28 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/proto.c

Don't use prohibited strncpy().  In this case, use g_strlcat() instead.

------------------------------------------------------------------------
r36383 | cmaynard | 2011-03-28 10:04:58 -0700 (Mon, 28 Mar 2011) | 3 lines
Changed paths:
   M /trunk/plugins/mate/mate_util.c

Don't use prohibited strncpy().  Use g_strlcpy() instead.  Ensures that "orig"
will be NULL-terminated, even if len >= SCS_HUGE_SIZE.

------------------------------------------------------------------------
r36384 | guy | 2011-03-28 10:23:06 -0700 (Mon, 28 Mar 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/wtap.h

More updates to the wtap_open_offline() comment.

------------------------------------------------------------------------
r36385 | morriss | 2011-03-28 12:44:41 -0700 (Mon, 28 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/gcp.c

Use g_ascii_strdown instead of g_strdown
------------------------------------------------------------------------
r36386 | sfisher | 2011-03-28 13:53:20 -0700 (Mon, 28 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-vnc.c


Fix for bug #4334 "VNC Hextile encoding is incomplete" from Yaniv Kaul.


------------------------------------------------------------------------
r36387 | cmaynard | 2011-03-28 15:10:41 -0700 (Mon, 28 Mar 2011) | 2 lines
Changed paths:
   M /trunk/capture_opts.c

Use fprintf_stderr() instead of printf() so "wireshark -D" works (on Windows).

------------------------------------------------------------------------
r36388 | cmaynard | 2011-03-28 15:12:53 -0700 (Mon, 28 Mar 2011) | 2 lines
Changed paths:
   M /trunk/gtk/main.c

Move -D option into "pre-scan" group as there's no need to start gtk+ for it.

------------------------------------------------------------------------
r36389 | cmaynard | 2011-03-28 15:22:05 -0700 (Mon, 28 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-vnc.c

Cast to guint to avoid a Windows compiler warning.

------------------------------------------------------------------------
r36390 | morriss | 2011-03-28 18:27:20 -0700 (Mon, 28 Mar 2011) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

Prohibit (memory-unsafe) g_sprintf() and g_vsprintf().
------------------------------------------------------------------------
r36391 | kukosa | 2011-03-29 03:56:30 -0700 (Tue, 29 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h223.c
   M /trunk/epan/dissectors/packet-rtp.c

RTP: display payload type name from dynamic payload type table
H.223: use just one protocol for bot dissectors for more clear protocol disabling 
------------------------------------------------------------------------
r36392 | stig | 2011-03-29 04:08:15 -0700 (Tue, 29 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-user_encap.c

From Pascal Quantin:
Added guard against proto_name's not resolved as protocols.

------------------------------------------------------------------------
r36393 | stig | 2011-03-29 04:09:59 -0700 (Tue, 29 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/proto.c

Guard against NULL return from find_protocol_by_id().

------------------------------------------------------------------------
r36394 | morriss | 2011-03-29 07:05:28 -0700 (Tue, 29 Mar 2011) | 6 lines
Changed paths:
   M /trunk/wiretap/ngsniffer.c

Don't put a 65536 byte variable on the stack: instead, malloc/free it.

Coverity 791-794.

Also, some white space/indentation cleanup.

------------------------------------------------------------------------
r36395 | martinm | 2011-03-29 07:23:13 -0700 (Tue, 29 Mar 2011) | 4 lines
Changed paths:
   M /trunk/plugins/wimaxasncp/packet-wimaxasncp.c

Don't assign proto_item pointers that are not used.

Coverity 1174

------------------------------------------------------------------------
r36396 | etxrab | 2011-03-29 07:23:21 -0700 (Tue, 29 Mar 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-msrp.c

Remove check_col().
------------------------------------------------------------------------
r36397 | morriss | 2011-03-29 07:29:45 -0700 (Tue, 29 Mar 2011) | 9 lines
Changed paths:
   M /trunk/wiretap/k12text.l

Don't put a 196808 byte variable on the stack: instead, malloc/free it.

Coverity 789-790.

Since we've been keeping track of how many bytes we put in the buffer,
use that value instead of calling strlen() find it again.

Also, some white space/indentation cleanup.

------------------------------------------------------------------------
r36398 | cmaynard | 2011-03-29 13:05:33 -0700 (Tue, 29 Mar 2011) | 2 lines
Changed paths:
   M /trunk/gtk/main_proto_draw.c

Grab URL from frame info value instead of from tvb.  Fixes bug 5780.

------------------------------------------------------------------------
r36399 | cmaynard | 2011-03-29 13:58:57 -0700 (Tue, 29 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mongo.c

From Alexis La Goutte via bug 5790: Add partial bit flag in query.

------------------------------------------------------------------------
r36400 | etxrab | 2011-03-29 14:05:29 -0700 (Tue, 29 Mar 2011) | 2 lines
Changed paths:
   M /trunk/plugins/mate/mate_util.c

Added  FALLTHRU comment to avoid a "missing break" warning.
CID 489
------------------------------------------------------------------------
r36401 | etxrab | 2011-03-29 14:08:34 -0700 (Tue, 29 Mar 2011) | 2 lines
Changed paths:
   M /trunk/plugins/wimax/mac_mgmt_msg_decoder.c

Add a missing break.
CID 490
------------------------------------------------------------------------
r36402 | etxrab | 2011-03-29 14:11:26 -0700 (Tue, 29 Mar 2011) | 2 lines
Changed paths:
   M /trunk/plugins/irda/packet-irda.c

Add a missing break.
CID 488
------------------------------------------------------------------------
r36403 | etxrab | 2011-03-29 14:20:36 -0700 (Tue, 29 Mar 2011) | 2 lines
Changed paths:
   M /trunk/plugins/ethercat/packet-ecatmb.c

Add a missing break.
CID 487
------------------------------------------------------------------------
r36404 | morriss | 2011-03-29 14:39:15 -0700 (Tue, 29 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/filesystem.c

Don't put a 65536 byte variable on the stack: instead, malloc/free it.

Coverity 760-761.

------------------------------------------------------------------------
r36405 | cmaynard | 2011-03-29 14:40:54 -0700 (Tue, 29 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mongo.c

Change TCP_PORT_MANGO to TCP_PORT_MONGO.

------------------------------------------------------------------------
r36406 | sahlberg | 2011-03-29 20:39:58 -0700 (Tue, 29 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

remove some assignments we dont use


------------------------------------------------------------------------
r36407 | sahlberg | 2011-03-29 21:36:09 -0700 (Tue, 29 Mar 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

remove two pointless const in casts

coverity 580 and 581

------------------------------------------------------------------------
r36408 | cmaynard | 2011-03-30 07:44:18 -0700 (Wed, 30 Mar 2011) | 2 lines
Changed paths:
   M /trunk/gtk/main.c
   M /trunk/text2pcap.c
   M /trunk/tshark.c

Wrap all text lines of help at column 80.

------------------------------------------------------------------------
r36409 | cmaynard | 2011-03-30 07:53:09 -0700 (Wed, 30 Mar 2011) | 3 lines
Changed paths:
   M /trunk/tap-dcerpcstat.c

From: http://www.wireshark.org/lists/wireshark-dev/201103/msg00157.html
Change RTT references to SRT.  (This should have been checked in with r36297.)

------------------------------------------------------------------------
r36410 | cmaynard | 2011-03-30 08:54:28 -0700 (Wed, 30 Mar 2011) | 2 lines
Changed paths:
   M /trunk/text2pcap.c
   M /trunk/tshark.c

Fix a couple of typos.

------------------------------------------------------------------------
r36411 | stig | 2011-03-31 04:01:06 -0700 (Thu, 31 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

Use correct length for clientaddr4 callback address entry.

------------------------------------------------------------------------
r36412 | stig | 2011-03-31 05:14:59 -0700 (Thu, 31 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/packet.c
   M /trunk/epan/packet.h

Added dissector_handle_get_long_name().

------------------------------------------------------------------------
r36413 | stig | 2011-03-31 05:16:41 -0700 (Thu, 31 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-user_encap.c

Use correct functions to fetch protocol name for a dissector registered 
by register_dissector().

------------------------------------------------------------------------
r36414 | stig | 2011-03-31 05:18:14 -0700 (Thu, 31 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

Register tcp by name.
To be used in User DLT's and Lua scripts.

------------------------------------------------------------------------
r36415 | cmaynard | 2011-03-31 07:03:23 -0700 (Thu, 31 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

From Andrew Feren via bug 5775: Correct types on several info elements.

------------------------------------------------------------------------
r36416 | cmaynard | 2011-03-31 07:23:07 -0700 (Thu, 31 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-erf.c

From Yair via bug 5779: Add option to leave AAL5 in unspecified format.
(... with whitepsace changes by me.)

------------------------------------------------------------------------
r36417 | wmeier | 2011-03-31 07:30:38 -0700 (Thu, 31 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/tap.c

(Trivial) Fix some typos; do some whitespace cleanup & rewording of comments.

------------------------------------------------------------------------
r36418 | cmaynard | 2011-03-31 07:35:40 -0700 (Thu, 31 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-erf.c
   M /trunk/epan/dissectors/packet-netflow.c

Delete unused header fields found by running tools/checkhf.pl.

------------------------------------------------------------------------
r36419 | cmaynard | 2011-03-31 08:17:49 -0700 (Thu, 31 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mongo.c

From Alexis La Goutte via bug 5790: Fix 8 clang warnings, all of which were:
"warning: Value stored to 'offset' is never read".  The 'offset' is now used.

------------------------------------------------------------------------
r36420 | cmaynard | 2011-03-31 08:41:23 -0700 (Thu, 31 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/crypt/crypt-md5.c

Clear the entire contents of ctx at the end of md5_finish().  Fixes CID 712.

------------------------------------------------------------------------
r36421 | cmaynard | 2011-03-31 09:23:07 -0700 (Thu, 31 Mar 2011) | 3 lines
Changed paths:
   M /trunk/gtk/main_statusbar.c

Use a common function, higher_priority_status_level() to determine whether or
not messages should be pushed onto the statusbar.  Should fix CID 270.

------------------------------------------------------------------------
r36422 | cmaynard | 2011-03-31 09:46:16 -0700 (Thu, 31 Mar 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/pcapng.c

Use BSWAP16 instead of BSWAP32 for 16-bit values.  Fixes CID's 1179 and 1180.

------------------------------------------------------------------------
r36423 | cmaynard | 2011-03-31 10:27:48 -0700 (Thu, 31 Mar 2011) | 3 lines
Changed paths:
   M /trunk/epan/column-utils.c

separator will never be NULL, but sep_len could be 0, so test for that instead.
Fixes CID 620.

------------------------------------------------------------------------
r36424 | cmaynard | 2011-03-31 11:00:26 -0700 (Thu, 31 Mar 2011) | 2 lines
Changed paths:
   M /trunk/plugins/wimaxasncp/wimaxasncp_dict.l

Don't dereference a NULL pointer.  Fixes CID 426.

------------------------------------------------------------------------
r36425 | cmaynard | 2011-03-31 11:28:52 -0700 (Thu, 31 Mar 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/mpeg.c

Check return value of file_seek().  Fixes CID 338.

------------------------------------------------------------------------
r36426 | cmaynard | 2011-03-31 12:17:06 -0700 (Thu, 31 Mar 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tnef.c

Fix 11 occurrences of returned pointer never used.  Fixes CID's 1064-1067.

------------------------------------------------------------------------
r36427 | sahlberg | 2011-03-31 13:50:13 -0700 (Thu, 31 Mar 2011) | 5 lines
Changed paths:
   M /trunk/tools/lemon/lemon.c

Memory leak in lemon.c

coverity 1177


------------------------------------------------------------------------
r36428 | wmeier | 2011-03-31 13:57:40 -0700 (Thu, 31 Mar 2011) | 3 lines
Changed paths:
   M /trunk/tshark.c

Rename local 'pipe_input' so it doesn't shadow global 'pipe_input';
Use consistent indentation and remove trailing whitespace.

------------------------------------------------------------------------
r36429 | martinm | 2011-04-01 06:41:08 -0700 (Fri, 01 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c

Take care not to append RLC mode to proto_item twice.

------------------------------------------------------------------------
r36430 | cmaynard | 2011-04-01 09:30:59 -0700 (Fri, 01 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-imf.c
   M /trunk/gtk/dfilter_expr_dlg.c

Remove const type qualifier from cast.  Resolves CID's 582-585.

------------------------------------------------------------------------
r36431 | cmaynard | 2011-04-01 09:55:59 -0700 (Fri, 01 Apr 2011) | 3 lines
Changed paths:
   M /trunk/tools/lemon/lempar.c

Don't use pParser->yyidx as an index into pParser->yystack[] until after it is
verified that it is non-negative.  Should resolve CID 619.

------------------------------------------------------------------------
r36432 | cmaynard | 2011-04-01 11:16:47 -0700 (Fri, 01 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tpncp.c

Avoid potential buffer overruns when sscanf'ing strings.
Should resolve CID's 656 and 657.

------------------------------------------------------------------------
r36433 | morriss | 2011-04-01 12:50:50 -0700 (Fri, 01 Apr 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mysql.c

From Alexis La Goutte via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5768 :

Patch 6 :
Enhance the MySQL collation

Patch 7 :
Enhance MySQL : add dissection of command Binlog Dump (replicate command).

------------------------------------------------------------------------
r36434 | wmeier | 2011-04-01 13:48:56 -0700 (Fri, 01 Apr 2011) | 3 lines
Changed paths:
   M /trunk/doc/README.developer

Add some info as to the determination of the length of a FT_STRINGZ item.
Add a note not leaving trailing whitespace on a line.

------------------------------------------------------------------------
r36435 | etxrab | 2011-04-02 02:18:18 -0700 (Sat, 02 Apr 2011) | 5 lines
Changed paths:
   M /trunk/asn1/gsm_map/packet-gsm_map-template.c
   M /trunk/asn1/inap/inap.cnf
   M /trunk/asn1/inap/packet-inap-template.c
   M /trunk/epan/dissectors/packet-inap.c

-Whitespace fix in gsm_map-template(no need to regenerate).
- Fix dissection of extensions in INAP it should now be possible to add
an "OID dissector" for extensions.
Should fix BUG
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5799
------------------------------------------------------------------------
r36436 | gerald | 2011-04-03 08:03:50 -0700 (Sun, 03 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf
   M /trunk/services

[Automatic manuf, services and enterprise-numbers update for 2011-04-03]
------------------------------------------------------------------------
r36437 | wmeier | 2011-04-03 08:39:01 -0700 (Sun, 03 Apr 2011) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dtn.c

Don't assign to a proto_item* if the value won't be used: Coverity 885-889
Also: Significant code rework including:
  - Fix bug wherein a timestamp was incorrectly reported as being an Error;
  - Replace many proto_tree_add_text()/proto_item_set_text() sequences each by a
    single proto_tree_add_text().
  - remove unneeded #include <string.h>
  - Whitespace clanup including replacing mixed space/tab indentation by spaces.


------------------------------------------------------------------------
r36440 | etxrab | 2011-04-03 22:48:06 -0700 (Sun, 03 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/tvbtest.c
   M /trunk/epan/tvbuff.c

From jakub Zawadzki:
I've fixed composite tests #0 and #2
------------------------------------------------------------------------
r36441 | etxrab | 2011-04-04 00:45:34 -0700 (Mon, 04 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssap.c
   M /trunk/epan/dissectors/packet-bssgp.c
   M /trunk/epan/dissectors/packet-bssgp.h
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c
   M /trunk/epan/dissectors/packet-gsm_a_common.h
   M /trunk/epan/dissectors/packet-gsm_a_dtap.c
   M /trunk/epan/dissectors/packet-gsm_a_gm.c
   M /trunk/epan/dissectors/packet-gsm_a_rr.c
   M /trunk/epan/dissectors/packet-gsm_bssmap_le.c
   M /trunk/epan/dissectors/packet-nas_eps.c
   M /trunk/epan/dissectors/packet-sgsap.c

Change the msg_fcn() signature to include pinfo.
------------------------------------------------------------------------
r36442 | etxrab | 2011-04-04 07:35:21 -0700 (Mon, 04 Apr 2011) | 2 lines
Changed paths:
   M /trunk/tools/extract_asn1_from_spec.pl

From Vincent Helfre:
updated the script that extracts the asn1 from the specification (we modified it after noticing that it currently fails to take the IMPORT section). It should also work now to extract the WCDMA RRC (TS 25.331).
------------------------------------------------------------------------
r36443 | etxrab | 2011-04-04 07:37:25 -0700 (Mon, 04 Apr 2011) | 1 line
Changed paths:
   M /trunk/asn1/gsm_map/gsm_map.cnf
   M /trunk/asn1/lte-rrc/lte-rrc.cnf
   M /trunk/asn1/rrc/rrc.cnf
   M /trunk/epan/dissectors/packet-bssap.c
   M /trunk/epan/dissectors/packet-bssgp.c
   M /trunk/epan/dissectors/packet-diameter_3gpp.c
   M /trunk/epan/dissectors/packet-gsm_a_bssmap.c
   M /trunk/epan/dissectors/packet-gsm_a_common.c
   M /trunk/epan/dissectors/packet-gsm_a_common.h
   M /trunk/epan/dissectors/packet-gsm_a_dtap.c
   M /trunk/epan/dissectors/packet-gsm_a_gm.c
   M /trunk/epan/dissectors/packet-gsm_a_rp.c
   M /trunk/epan/dissectors/packet-gsm_a_rr.c
   M /trunk/epan/dissectors/packet-gsm_bsslap.c
   M /trunk/epan/dissectors/packet-gsm_bssmap_le.c
   M /trunk/epan/dissectors/packet-gsm_map.c
   M /trunk/epan/dissectors/packet-gtp.c
   M /trunk/epan/dissectors/packet-gtpv2.c
   M /trunk/epan/dissectors/packet-lte-rrc.c
   M /trunk/epan/dissectors/packet-nas_eps.c
   M /trunk/epan/dissectors/packet-radius.c
   M /trunk/epan/dissectors/packet-radius.h
   M /trunk/epan/dissectors/packet-radius_packetcable.c
   M /trunk/epan/dissectors/packet-rrc.c
   M /trunk/epan/dissectors/packet-rsl.c
   M /trunk/epan/dissectors/packet-sgsap.c
   M /trunk/epan/dissectors/packet-uma.c

Change the signature of elem_fcn():ns to include pinfo.
------------------------------------------------------------------------
r36444 | etxrab | 2011-04-04 07:49:14 -0700 (Mon, 04 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c
   M /trunk/epan/dissectors/packet-gsm_a_common.c
   M /trunk/epan/dissectors/packet-gsm_a_dtap.c
   M /trunk/epan/dissectors/packet-gsm_a_gm.c
   M /trunk/epan/dissectors/packet-nas_eps.c
   M /trunk/epan/dissectors/packet-sgsap.c

Get rid of gsm_a_dtap_pinfo.
------------------------------------------------------------------------
r36445 | etxrab | 2011-04-04 08:09:22 -0700 (Mon, 04 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.c

Mark pinfo as unused.
------------------------------------------------------------------------
r36446 | wmeier | 2011-04-04 08:31:33 -0700 (Mon, 04 Apr 2011) | 3 lines
Changed paths:
   M /trunk/dftest.c
   M /trunk/epan/addr_resolv.c
   M /trunk/epan/dfilter/gencode.c
   M /trunk/epan/dfilter/semcheck.c
   M /trunk/epan/dissectors/packet-infiniband_sdp.c

Don't assign to a variable if the value won't be used: Coverity 817-821.


------------------------------------------------------------------------
r36447 | wmeier | 2011-04-04 08:38:19 -0700 (Mon, 04 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-6lowpan.c

Don't assign to a proto_item * if the value won't be used: Coverity 820/821;
Also: #include <stdio.h> & <string.h> not required;


------------------------------------------------------------------------
r36448 | gerald | 2011-04-04 08:41:07 -0700 (Mon, 04 Apr 2011) | 1 line
Changed paths:
   M /trunk/packaging/u3/win32/Makefile.nmake

Don't build a manifest if we don't need one.
------------------------------------------------------------------------
r36449 | wmeier | 2011-04-04 09:13:42 -0700 (Mon, 04 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-aim-generic.c

Don't assign to a proto_item * if the value won't be used: Coverity 823 & 824;
Fix a minor bug wherein a proto_tree_add_text used the wrong tree: Coverity 825;
Remove some unneeded #includes;
Use consistent indentation.

------------------------------------------------------------------------
r36450 | cmaynard | 2011-04-04 09:15:27 -0700 (Mon, 04 Apr 2011) | 2 lines
Changed paths:
   M /trunk/tap-rpcstat.c

Fix some typos.

------------------------------------------------------------------------
r36451 | wmeier | 2011-04-04 09:54:02 -0700 (Mon, 04 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ajp13.c

Don't assign to a variable if the value won't be used: Coverity 826;
Also: Remove some uneeded #includes & use consistent indentation.

------------------------------------------------------------------------
r36452 | gerald | 2011-04-04 10:11:56 -0700 (Mon, 04 Apr 2011) | 3 lines
Changed paths:
   M /trunk/gtk/main.c

On Windows, try to use an existing console for our messages. Create one if
it doesn't exist.

------------------------------------------------------------------------
r36453 | wmeier | 2011-04-04 10:24:17 -0700 (Mon, 04 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-amqp.c

Don't assign to a proto_item * if the value won't be used: Coverity 827;
Comment out some currently unused code: Coverity 828.

------------------------------------------------------------------------
r36454 | sfisher | 2011-04-04 10:42:37 -0700 (Mon, 04 Apr 2011) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-amqp.c


Fix compilation error:

packet-amqp.c:5617:5: error: "/*" within comment

Cause:

Previous comment wasn't terminated right


------------------------------------------------------------------------
r36455 | gerald | 2011-04-04 10:48:07 -0700 (Mon, 04 Apr 2011) | 3 lines
Changed paths:
   M /trunk/gtk/main.c

Only call destroy_console() when we create a console (pointed out by
Chris Maynard).

------------------------------------------------------------------------
r36456 | wmeier | 2011-04-04 10:49:32 -0700 (Mon, 04 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-amr.c

Don't assign to a proto_item * if the value won't be used: Coverity 829 & 830;
Fix a minor bug wherein a number of proto_tree_add_...() used the wrong tree: Coverity 831;
Remove some unneeded #includes.

------------------------------------------------------------------------
r36457 | sfisher | 2011-04-04 10:56:16 -0700 (Mon, 04 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zrtp.c


Fix Coverity 1137, 1138, 1139: UNUSED_VALUE


------------------------------------------------------------------------
r36458 | gerald | 2011-04-04 11:03:24 -0700 (Mon, 04 Apr 2011) | 2 lines
Changed paths:
   M /trunk/gtk/main.c

More console tweaks.

------------------------------------------------------------------------
r36459 | wmeier | 2011-04-04 11:13:22 -0700 (Mon, 04 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ancp.c

Don't assign to a proto_item * if the value won't be used: Coverity 832-834.
Also: white space cleanup.

------------------------------------------------------------------------
r36460 | wmeier | 2011-04-04 11:41:49 -0700 (Mon, 04 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_637.c

Don't assign to a proto_item * if the value won't be used: Coverity 836;
Also: remove some unneeded #includes.

------------------------------------------------------------------------
r36461 | morriss | 2011-04-04 11:43:59 -0700 (Mon, 04 Apr 2011) | 1 line
Changed paths:
   M /trunk/tools/fuzz-test.sh

Fix up indentation
------------------------------------------------------------------------
r36462 | morriss | 2011-04-04 12:10:30 -0700 (Mon, 04 Apr 2011) | 6 lines
Changed paths:
   M /trunk/tools/Makefile.am
   A /trunk/tools/list_protos_in_cap.sh

Based on idea from Bill Meier:

A little script to extract the protocols used in given capture files.

(Just so I don't have to remember how to do it again.)

------------------------------------------------------------------------
r36463 | cmaynard | 2011-04-04 12:15:31 -0700 (Mon, 04 Apr 2011) | 3 lines
Changed paths:
   M /trunk/gtk/main.c

More console tweaks.  But how to prevent prompt from being displayed before
command finishes without requiring, "start /wait <command>"?

------------------------------------------------------------------------
r36464 | wmeier | 2011-04-04 12:23:39 -0700 (Mon, 04 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c

 Don't assign to a proto_item * if the value won't be used: Coverity 846 & 848;
 Also: remove some unneeded #includes


------------------------------------------------------------------------
r36465 | wmeier | 2011-04-04 12:41:51 -0700 (Mon, 04 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-alcap.c

Fix "MISSING_BREAK"; Coverity 436.

------------------------------------------------------------------------
r36466 | wmeier | 2011-04-04 13:03:27 -0700 (Mon, 04 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-beep.c

 Don't assign to a proto_item * if the value won't be used: Coverity 850;
  Also: remove some unneeded #includes.

------------------------------------------------------------------------
r36467 | morriss | 2011-04-04 18:21:19 -0700 (Mon, 04 Apr 2011) | 1 line
Changed paths:
   M /trunk/tools/list_protos_in_cap.sh

Set BIN_DIR to . by default. Use tr to replace colons with newlines.
------------------------------------------------------------------------
r36468 | morriss | 2011-04-04 19:18:28 -0700 (Mon, 04 Apr 2011) | 21 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-bacapp.c
   A /trunk/epan/dissectors/packet-bacapp.h
   M /trunk/epan/wslua/taps

From Felix Kraemer: fix https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5694 :

This patch adds the capability to create BACnet statistics trees. 
Find the respective menu items under 'Statistics->BACnet'.
Packets can be sorted by different criteria:
- Src/Dst IP adresses
- Instance ID
- Object Type
- Service

From me:
- Don't use C++/C99-style comments.
- Name variables for tick_stat_node() don't need to be static.
- Change updateBacnetInfoValue() to require 'data' to be ep_ allocated.  Change
  the couple of calls that did not send in ep_ allocated data to do so.
- Change one or two functions to be static.
- Do not use (memory-unsafe) g_sprintf().
- Use ep_strconcat() instead of leaking memory with g_strconcat().
- Put back one if(tree) that doesn't appear to do any harm.
- Remove variable declarations and #includes from the header file.

------------------------------------------------------------------------
r36469 | morriss | 2011-04-04 19:35:32 -0700 (Mon, 04 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c

Remove some unused hf_ variables.
------------------------------------------------------------------------
r36470 | etxrab | 2011-04-04 22:50:45 -0700 (Mon, 04 Apr 2011) | 3 lines
Changed paths:
   M /trunk/capinfos.c

From Jose Pedro Oliveira:
#ifdef HAVE_LIBGCRYPT block includes a line too many.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5803
------------------------------------------------------------------------
r36471 | tuexen | 2011-04-05 07:28:33 -0700 (Tue, 05 Apr 2011) | 3 lines
Changed paths:
   M /trunk/text2pcap.c

Fix a typo in the help message.
Reported by Matthias Wellmeyer.

------------------------------------------------------------------------
r36472 | wmeier | 2011-04-05 08:09:32 -0700 (Tue, 05 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dis-pdus.c

Don't assign to a proto_item * if the value won't be used: Coverity 882;
Also: #include <string.h> not req'd

------------------------------------------------------------------------
r36473 | wmeier | 2011-04-05 08:33:56 -0700 (Tue, 05 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

Don't assign to a proto_item * if the value won't be used: Coverity 858;
Fix two cases where items appear to be added to the wrong tree: Coverioty 856 & 857.
Also: remove some unneeded #includes& do some whitespace cleanup.

------------------------------------------------------------------------
r36474 | etxrab | 2011-04-05 08:43:15 -0700 (Tue, 05 Apr 2011) | 1 line
Changed paths:
   M /trunk/asn1/inap/inap.cnf
   M /trunk/epan/dissectors/packet-inap.c

Actually get the oid string ...
------------------------------------------------------------------------
r36475 | stig | 2011-04-05 08:49:56 -0700 (Tue, 05 Apr 2011) | 2 lines
Changed paths:
   M /trunk/asn1/inap/inap.cnf
   M /trunk/epan/dissectors/packet-inap.c

Compile fix: camel_obj_id -> obj_id.

------------------------------------------------------------------------
r36476 | gerald | 2011-04-05 09:14:19 -0700 (Tue, 05 Apr 2011) | 2 lines
Changed paths:
   M /trunk/packaging/u3/win32/Makefile.nmake

Remove the manifest as a prerequisite for packaging.

------------------------------------------------------------------------
r36477 | cmaynard | 2011-04-05 10:27:30 -0700 (Tue, 05 Apr 2011) | 2 lines
Changed paths:
   M /trunk/tap-rpcstat.c

Fix a few more typos and reformat some of the comments.

------------------------------------------------------------------------
r36478 | wmeier | 2011-04-05 11:01:33 -0700 (Tue, 05 Apr 2011) | 4 lines
Changed paths:
   M /trunk/tools/list_protos_in_cap.sh

1. Remove \r from tshark output so output OK on Windows cygwin bash.
2. Error messsages to stderr.
3. Check capinfos return value to verify that file is a valid capture file.

------------------------------------------------------------------------
r36479 | wmeier | 2011-04-05 12:21:16 -0700 (Tue, 05 Apr 2011) | 2 lines
Changed paths:
   M /trunk/tools/list_protos_in_cap.sh

foo="\windows\style\pathname"; printf "$foo"  isn't going to work too well in the general case ...

------------------------------------------------------------------------
r36480 | cmaynard | 2011-04-05 13:21:59 -0700 (Tue, 05 Apr 2011) | 7 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/Makefile.common
   M /trunk/doc/README.tapping
   M /trunk/doc/tshark.pod
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-icmp.c
   A /trunk/epan/dissectors/packet-icmp.h
   M /trunk/epan/tap.h
   A /trunk/tap-icmpstat.c

Add ICMP tap support, and add a tshark tap to measure such things as:
  * Number of ICMP echo requests, replies, lost replies and percent loss.
  * Min, Max, Average SRT (Service Response Time), and standard deviation.
(This is my first tap, so hopefully I didn't miss something, but we'll see ...)
TODO: Add a Wireshark tap.


------------------------------------------------------------------------
r36481 | cmaynard | 2011-04-05 13:50:49 -0700 (Tue, 05 Apr 2011) | 2 lines
Changed paths:
   M /trunk/tap-icmpstat.c

Mark pinfo as unused with _U_ to avoid compiler warning.

------------------------------------------------------------------------
r36482 | gerald | 2011-04-05 15:33:37 -0700 (Tue, 05 Apr 2011) | 2 lines
Changed paths:
   M /trunk/packaging/u3/tools/Makefile.nmake

More manifest fixes.

------------------------------------------------------------------------
r36483 | gerald | 2011-04-05 15:38:12 -0700 (Tue, 05 Apr 2011) | 3 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.nmake
   M /trunk/packaging/nsis/wireshark.nsi
   M /trunk/tools/win32-setup.sh
   M /trunk/tools/win64-setup.sh

Use the latest library tag, which updates GNUTLS. Add code to check for
libintl-8.dll and add the GNUTLS version if needed.

------------------------------------------------------------------------
r36484 | wmeier | 2011-04-05 16:03:21 -0700 (Tue, 05 Apr 2011) | 2 lines
Changed paths:
   M /trunk/tap-icmpstat.c

Set the correct properties ...

------------------------------------------------------------------------
r36485 | wmeier | 2011-04-05 16:26:56 -0700 (Tue, 05 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmp.h

Set the correct properties ....

------------------------------------------------------------------------
r36486 | sfisher | 2011-04-05 17:07:52 -0700 (Tue, 05 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tftp.c


Fix Coverity 1062: UNUSED_VALUE


------------------------------------------------------------------------
r36487 | wmeier | 2011-04-05 18:41:03 -0700 (Tue, 05 Apr 2011) | 11 lines
Changed paths:
   M /trunk/capinfos.c
   M /trunk/doc/capinfos.pod

IMHO capinfos, when finished processing, should exit with an error status
 if an error occurred while processing.
E.G.,: For the default (no -C option):
  'capinfos invalid.xxx' or 'capinfos a.pcap invalid.xxx c.pcap'
 should exit with an error status
  (after processing all the input args) if there is an error for invalid.xxx.

With this fix, I expect fuzz-test.sh (and list_protos_in_cap.sh
and presumably other scripts) will work a bit more as as expected.


------------------------------------------------------------------------
r36488 | etxrab | 2011-04-05 23:20:32 -0700 (Tue, 05 Apr 2011) | 2 lines
Changed paths:
   M /trunk/asn1/camel/camel.cnf
   M /trunk/asn1/camel/packet-camel-template.c
   M /trunk/epan/dissectors/packet-camel.c

Missing decoding for CalledPartyBCD number in CAMEL
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5788
------------------------------------------------------------------------
r36489 | kukosa | 2011-04-05 23:20:50 -0700 (Tue, 05 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

RFC5806 Diversion header
------------------------------------------------------------------------
r36490 | etxrab | 2011-04-05 23:24:19 -0700 (Tue, 05 Apr 2011) | 1 line
Changed paths:
   M /trunk/asn1/camel/camel.cnf
   M /trunk/epan/dissectors/packet-camel.c

Add a comment
------------------------------------------------------------------------
r36491 | guy | 2011-04-05 23:51:19 -0700 (Tue, 05 Apr 2011) | 11 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/wiretap/5views.c
   M /trunk/wiretap/airopeek9.c
   M /trunk/wiretap/ber.c
   M /trunk/wiretap/btsnoop.c
   M /trunk/wiretap/commview.c
   M /trunk/wiretap/csids.c
   M /trunk/wiretap/erf.c
   M /trunk/wiretap/eyesdn.c
   M /trunk/wiretap/file_wrappers.h
   M /trunk/wiretap/hcidump.c
   M /trunk/wiretap/i4btrace.c
   M /trunk/wiretap/iptrace.c
   M /trunk/wiretap/iseries.c
   M /trunk/wiretap/jpeg_jfif.c
   M /trunk/wiretap/k12.c
   M /trunk/wiretap/lanalyzer.c
   M /trunk/wiretap/libpcap.c
   M /trunk/wiretap/mpeg.c
   M /trunk/wiretap/netmon.c
   M /trunk/wiretap/netscaler.c
   M /trunk/wiretap/nettl.c
   M /trunk/wiretap/network_instruments.c
   M /trunk/wiretap/netxray.c
   M /trunk/wiretap/ngsniffer.c
   M /trunk/wiretap/packetlogger.c
   M /trunk/wiretap/pcap-common.c
   M /trunk/wiretap/pcapng.c
   M /trunk/wiretap/radcom.c
   M /trunk/wiretap/snoop.c
   M /trunk/wiretap/tnef.c
   M /trunk/wiretap/visual.c
   M /trunk/wiretap/wtap-int.h

From Jakub Zawadzki:

file_read(buf, bsize, count, file) macro is compilant with fread
function and takes elements count+ size of each element, however to make
it compilant with gzread() it always returns number of bytes.

In wiretap file_read() this is not really used, file_read is called
either with bsize set to 1 or count to 1.

Attached patch remove bsize argument from macro.

------------------------------------------------------------------------
r36492 | guy | 2011-04-05 23:59:19 -0700 (Tue, 05 Apr 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/k12.c

From Jakub Zawadzki: fix the type of an argument.

------------------------------------------------------------------------
r36493 | guy | 2011-04-06 00:09:56 -0700 (Wed, 06 Apr 2011) | 7 lines
Changed paths:
   M /trunk/wiretap/file_access.c
   M /trunk/wiretap/file_wrappers.c
   M /trunk/wiretap/file_wrappers.h

From Jakub Zawadzki:

file-wrappers.[ch] is used only for reading files, and mode is always
"rb".

Attached patch removes 'mode' argument from file_open() & filed_open().

------------------------------------------------------------------------
r36494 | stig | 2011-04-06 01:52:42 -0700 (Wed, 06 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Made "BER Error" filterable.

------------------------------------------------------------------------
r36495 | stig | 2011-04-06 02:59:21 -0700 (Wed, 06 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

Fixed blurb for BER Error.

------------------------------------------------------------------------
r36496 | wmeier | 2011-04-06 05:19:38 -0700 (Wed, 06 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_637.c

Use the correct handle when registering "media_type" "application/vnd.3gpp2.sms": Coverity 835.

------------------------------------------------------------------------
r36497 | etxrab | 2011-04-06 08:01:42 -0700 (Wed, 06 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-diameter_3gpp.c

From Johan Wåhl:
Add dissection of feature list flags.
------------------------------------------------------------------------
r36498 | sfisher | 2011-04-06 09:34:45 -0700 (Wed, 06 Apr 2011) | 5 lines
Changed paths:
   M /trunk/docbook/check_svn_version.sh


From Peter via bug #5798: Don't try to run svnversion if it isn't
executable.


------------------------------------------------------------------------
r36499 | etxrab | 2011-04-06 11:48:07 -0700 (Wed, 06 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ethertype.c
   M /trunk/epan/etypes.h

Add RoHC to the ethertypes.
------------------------------------------------------------------------
r36500 | gerald | 2011-04-06 11:59:36 -0700 (Wed, 06 Apr 2011) | 3 lines
Changed paths:
   M /trunk/plugins/wimax/msg_rep.c
   M /trunk/plugins/wimax/msg_res_cmd.c
   M /trunk/plugins/wimax/msg_sbc.c

Either remove or use unused values found by Coverity. Fixes CIDs
1169-1172.

------------------------------------------------------------------------
r36501 | cmaynard | 2011-04-06 12:48:11 -0700 (Wed, 06 Apr 2011) | 3 lines
Changed paths:
   M /trunk/doc/tshark.pod
   M /trunk/tap-icmpstat.c

Add computation of median and change standard deviation calculation to "sample"
standard deviation.  Split statistics output onto 2 lines.

------------------------------------------------------------------------
r36502 | sfisher | 2011-04-06 12:57:39 -0700 (Wed, 06 Apr 2011) | 4 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/epan/oui.h


Enhancement bug #5796: Add Atheros vendor specific 802.11 IE parsing


------------------------------------------------------------------------
r36503 | sfisher | 2011-04-06 15:51:25 -0700 (Wed, 06 Apr 2011) | 8 lines
Changed paths:
   M /trunk/tap-icmpstat.c


Fix Coverity 1181: REVERSE_INULL & improve code:

 - Use g_try_malloc0() instead of g_malloc0() since the latter will
   fail and abort the program.  Leave the NULL return check.
 - Don't dereference pointer before checking that it's valid.


------------------------------------------------------------------------
r36504 | cmaynard | 2011-04-07 06:41:25 -0700 (Thu, 07 Apr 2011) | 4 lines
Changed paths:
   M /trunk/tap-icmpstat.c

Until the minimum glib version requirement is changed from 2.4 to at least 2.8,
use g_try_malloc() instead of g_try_malloc0().  This should make the Solaris
buildbot happy again. 

------------------------------------------------------------------------
r36505 | wmeier | 2011-04-07 07:07:54 -0700 (Thu, 07 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_637.c

(Trivial) Fix a typo & some indentation.

------------------------------------------------------------------------
r36506 | alagoutte | 2011-04-07 09:16:47 -0700 (Thu, 07 Apr 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Enhance Tag Measurement Request & Report

* Replace proto_tree_add_uint*/boolean/text by proto_tree_add_item
* use ENC_* macro for encoding
* ...

My first commit !

------------------------------------------------------------------------
r36507 | morriss | 2011-04-07 13:04:01 -0700 (Thu, 07 Apr 2011) | 1 line
Changed paths:
   M /trunk/gtk/Makefile.common

From Gisle Vanem: text_import_scanner_lex.h is no longer used.
------------------------------------------------------------------------
r36508 | cmaynard | 2011-04-07 13:41:11 -0700 (Thu, 07 Apr 2011) | 2 lines
Changed paths:
   M /trunk/tap-icmpstat.c

Display frame numbers containing min & max SRT's.  Other misc. display tweaks.

------------------------------------------------------------------------
r36509 | etxrab | 2011-04-07 14:39:49 -0700 (Thu, 07 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

Make it possible to have a sub dissector dissect the status line diagnostic string should it contain more than a string.
------------------------------------------------------------------------
r36510 | guy | 2011-04-07 14:53:31 -0700 (Thu, 07 Apr 2011) | 20 lines
Changed paths:
   M /trunk/wiretap/file_wrappers.h
   M /trunk/wiretap/wtap.c

From Jakub Zawadzki:

	Introduce file_clearerr

	I'm unsure of this patch, 

	gzclearerr() is used to clear the end-of-file mark, but for FILE
	there's function which do the same (clearerr).

	I created test program if clearerr() is needed for tailing file. 
	and it seems to work without it (at least on Linux, so for
	!HAVE_LIBZ I commented it out).

	For now this patch introduce file_clearerr macro, and define it
	only when EOF marking must be cleared (i.e.  when HAVE_LIBZ and
	HAVE_GZCLEARERR are defined).

	So everything works like before, patch just to keep same prefix
	for file interface :)

------------------------------------------------------------------------
r36511 | gerald | 2011-04-07 16:16:05 -0700 (Thu, 07 Apr 2011) | 3 lines
Changed paths:
   M /trunk/wiretap/cosine.c
   M /trunk/wiretap/daintree-sna.c
   M /trunk/wiretap/dbs-etherwatch.c
   M /trunk/wiretap/iseries.c
   M /trunk/wiretap/netscreen.c
   M /trunk/wiretap/toshiba.c
   M /trunk/wiretap/vms.c

Be more picky about our sscanf integer field widths. Hopefully this will
help squelch Coverity CIDs 701-709.

------------------------------------------------------------------------
r36512 | gerald | 2011-04-07 16:52:37 -0700 (Thu, 07 Apr 2011) | 2 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

Use a unique variable name. Fixes Coverity CID 593.

------------------------------------------------------------------------
r36513 | guy | 2011-04-07 17:28:37 -0700 (Thu, 07 Apr 2011) | 4 lines
Changed paths:
   M /trunk/wiretap/file_access.c
   M /trunk/wiretap/file_wrappers.c
   M /trunk/wiretap/file_wrappers.h
   M /trunk/wiretap/wtap-int.h
   M /trunk/wiretap/wtap.c

From Jakub Zawadzki:

Steal file_wrappers functions from zlib v2.

------------------------------------------------------------------------
r36514 | guy | 2011-04-07 18:55:25 -0700 (Thu, 07 Apr 2011) | 6 lines
Changed paths:
   M /trunk/wiretap/file_wrappers.c

To squelch some compiler warnings, temporarily cast the argument to
ws_lseek() to the appropriate type for the second argument to _lseek()
for Windows or lseek() for UN*X; ultimately, we want to call the
appropriate 64-bit-offset seek routine if available, otherwise cast the
value down and hand it to the 32-bit-offset seek routine.

------------------------------------------------------------------------
r36515 | guy | 2011-04-07 18:57:02 -0700 (Thu, 07 Apr 2011) | 7 lines
Changed paths:
   M /trunk/wiretap/ngsniffer.c

Change ng_file_read() to take only one size argument - and make it an
unsigned int - to match file_read().  Shrink some arguments, variables,
and structure members appropriately.

Fix an incorrect sizeof - sizeof a pointer is the size of the pointer,
not the size of what it points to.

------------------------------------------------------------------------
r36516 | etxrab | 2011-04-08 04:58:33 -0700 (Fri, 08 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

Use tvb_get_ephemeral_string()
prefix hf vars with hf_sip
------------------------------------------------------------------------
r36517 | etxrab | 2011-04-08 08:57:44 -0700 (Fri, 08 Apr 2011) | 1 line
Changed paths:
   M /trunk/wiretap/wtap.def

Make wtap plugins build on windows again.
------------------------------------------------------------------------
r36518 | sfisher | 2011-04-08 09:53:02 -0700 (Fri, 08 Apr 2011) | 5 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-babel.c


From Juliusz Chroboczek via bug #5812: Dissector for the Babel Routing
Protocol (RFC 6126)


------------------------------------------------------------------------
r36519 | gerald | 2011-04-08 10:05:05 -0700 (Fri, 08 Apr 2011) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

Add Babel.

------------------------------------------------------------------------
r36520 | etxrab | 2011-04-08 10:36:53 -0700 (Fri, 08 Apr 2011) | 4 lines
Changed paths:
   M /trunk/asn1/lte-rrc/EUTRA-InterNodeDefinitions.asn
   M /trunk/asn1/lte-rrc/EUTRA-RRC-Definitions.asn
   M /trunk/asn1/lte-rrc/EUTRA-UE-Variables.asn
   M /trunk/asn1/lte-rrc/packet-lte-rrc-template.c
   M /trunk/epan/dissectors/packet-lte-rrc.c

From Pascal Quantin:
Upgrade LTE RRC ASN.1 description to V9.6.0

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5815
------------------------------------------------------------------------
r36521 | guy | 2011-04-08 10:42:20 -0700 (Fri, 08 Apr 2011) | 6 lines
Changed paths:
   M /trunk/wiretap/file_access.c
   M /trunk/wiretap/wtap-int.h

Just make the fh member of a wtap_dumper_t a void * for now, and, in all
calls that use it, cast it to whatever it's supposed to be.  Making it a
gzFile means you can't use any stdio macros that reach inside the
structure; making it a FILE *, as it used to be, amounts to trying to
use a FILE * as a void * if we're writing a compressed file out.

------------------------------------------------------------------------
r36522 | gerald | 2011-04-08 12:51:39 -0700 (Fri, 08 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-snmp.c
   M /trunk/epan/dissectors/packet-snmp.h
   M /trunk/epan/dissectors/packet-spnego.c
   M /trunk/epan/dissectors/packet-spnego.h
   M /trunk/tools/asn2wrs.py

Add a relative path to the "#line" directives we produce. Regenerate the
SNMP and SPNEGO dissectors to see if it helps Coverity locate the
original source files.

------------------------------------------------------------------------
r36523 | alagoutte | 2011-04-08 12:52:04 -0700 (Fri, 08 Apr 2011) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Enhance Vendor Specific Atheros IE 

* Replace proto_tree_add_ether/boolean by proto_tree_add_item
* use BASE_CUSTOM for XR beacon interval 
* use ENC_* macro for encoding
* replace if(...) by switch(...) for type and subtype (more extensible if new (sub)type)
* add expert info when tag_len is incorrect

Fix also a minor issue with tag_end...


------------------------------------------------------------------------
r36524 | etxrab | 2011-04-08 12:54:07 -0700 (Fri, 08 Apr 2011) | 2 lines
Changed paths:
   M /trunk/asn1/lte-rrc/EUTRA-InterNodeDefinitions.asn
   M /trunk/asn1/lte-rrc/EUTRA-RRC-Definitions.asn
   M /trunk/asn1/lte-rrc/EUTRA-UE-Variables.asn

From Pascal Quantin:
A patch adding the missing hunks (it looks like extract_asn1_from_spec.pl script is mixing Windows and Linux line endings).
------------------------------------------------------------------------
r36525 | wmeier | 2011-04-08 13:06:56 -0700 (Fri, 08 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-nfs.c

Don't assign to a proto_item * if the value won't be used: Coverity 990;
Add some missing code: improves display of "main_opcode" field: Coverity 991, 993 & 994;
Fix bug introduced a while back: "changeinfo4" field details aren't displayed: Coverity 992;
Add missing code so READDIR (V4) details  are shown in a subtree (as presumably was originally intended);
Fix some indentation.

------------------------------------------------------------------------
r36526 | gerald | 2011-04-08 14:21:32 -0700 (Fri, 08 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/crypt/airpdcap.c

Fix Coverity CID 557.

------------------------------------------------------------------------
r36527 | guy | 2011-04-08 21:33:26 -0700 (Fri, 08 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/column-utils.c
   M /trunk/epan/column-utils.h
   M /trunk/epan/libwireshark.def
   M /trunk/gtk/packet_list_store.c

In packet_list_dissect_and_cache_record(), set the columns to
*something* if we get an error reading the packet from the capture file,
rather than leaving them as null (which will cause a crash).

------------------------------------------------------------------------
r36528 | wmeier | 2011-04-09 06:44:00 -0700 (Sat, 09 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-edonkey.c

Don't assign to a proto_item * if the value won't be used: Coverity 891 & 892;
Also: #include <stdlib.h> & <string.h> not req'd;  fix some indentation.


------------------------------------------------------------------------
r36529 | wmeier | 2011-04-09 10:11:13 -0700 (Sat, 09 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-homeplug.c

Don't assign to a proto_item * if the value won't be used: Coverity 923-927;
Add braces around around certain code sections for indentation purposes;
Do some indentation & whitespace cleanup.

------------------------------------------------------------------------
r36530 | wmeier | 2011-04-09 10:17:47 -0700 (Sat, 09 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_rr.c

Don't assign to a proto_item * if the value won't be used: Coverity 911;
Fix bug wherein an item was apparently added to the wrong subtree: Coverity 910;
Remove unneeded #includes;
Do whitespace and indentation cleanup.

------------------------------------------------------------------------
r36531 | wmeier | 2011-04-09 10:18:52 -0700 (Sat, 09 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.h

Do some whitespace cleanup.

------------------------------------------------------------------------
r36532 | stig | 2011-04-09 12:03:04 -0700 (Sat, 09 Apr 2011) | 3 lines
Changed paths:
   M /trunk/gtk/packet_list_store.c

From Jakub Zawadzki via bug 5809:
Compare frame number when columns are equal.

------------------------------------------------------------------------
r36533 | wmeier | 2011-04-10 08:01:18 -0700 (Sun, 10 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-babel.c

prefs_register_protocol() not needed since no prefs; Coverity #1185 (UNUSED_VALUE).
Also: #include <stdio.h> not needed.

------------------------------------------------------------------------
r36534 | gerald | 2011-04-10 08:03:48 -0700 (Sun, 10 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf
   M /trunk/services

[Automatic manuf, services and enterprise-numbers update for 2011-04-10]
------------------------------------------------------------------------
r36536 | gerald | 2011-04-10 09:40:29 -0700 (Sun, 10 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/addr_resolv.c

Minor whitespace fix.

------------------------------------------------------------------------
r36537 | gerald | 2011-04-10 09:42:10 -0700 (Sun, 10 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/make-version.pl

Build 1.5.1. Temporarily disable the Babel dissector.

------------------------------------------------------------------------
r36538 | guy | 2011-04-10 09:53:32 -0700 (Sun, 10 Apr 2011) | 4 lines
Changed paths:
   M /trunk/wiretap/file_wrappers.c
   M /trunk/wiretap/wtap-int.h

Move the definition of the structure pointed to by a FILE_T into
wiretap/file_wrappers.c; nothing outside of file_wrappers.c needs to
know what it looks like, it just passes around pointers to it.

------------------------------------------------------------------------
r36539 | guy | 2011-04-10 10:01:13 -0700 (Sun, 10 Apr 2011) | 5 lines
Changed paths:
   M /trunk/wiretap/file_wrappers.c

Point to RFC 1952 as a description of the gzip file format.

Point to pages for some other compressed file formats we might want to
support.

------------------------------------------------------------------------
r36540 | gerald | 2011-04-10 10:03:43 -0700 (Sun, 10 Apr 2011) | 2 lines
Changed paths:
   M /trunk/config.nmake
   M /trunk/configure.in
   M /trunk/debian/changelog
   M /trunk/docbook/release-notes.xml
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/make-version.pl

1.5.1 → 1.5.2. Reenable Babel.

------------------------------------------------------------------------
r36542 | guy | 2011-04-10 11:22:47 -0700 (Sun, 10 Apr 2011) | 8 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/wiretap/file_wrappers.c
   M /trunk/wiretap/wtap.c
   M /trunk/wsutil/file_util.h

Use AC_SYS_LARGEFILE to turn on large file support on platforms that
support it.

Rename ws_lseek to ws_lseek64, as it should be given a 64-bit offset,
and have it use _lseeki64 on Windows, to try to get 64-bit offset
support; AC_SYS_LARGEFILE should cause lseek() to support 64-bit offsets
on UN*X if possible.

------------------------------------------------------------------------
r36543 | stig | 2011-04-10 11:29:56 -0700 (Sun, 10 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/proto.c

strcpy -> strncpy.

Coverity 669.

------------------------------------------------------------------------
r36544 | guy | 2011-04-10 11:55:06 -0700 (Sun, 10 Apr 2011) | 4 lines
Changed paths:
   M /trunk/fileset.c
   M /trunk/wiretap/wtap.c
   M /trunk/wsutil/file_util.h

Add ws_fstat64(), defined to be fstat on UN*X and _fstati64 on Windows.

Use it in some places where we're getting the file size.

------------------------------------------------------------------------
r36545 | guy | 2011-04-10 12:56:06 -0700 (Sun, 10 Apr 2011) | 3 lines
Changed paths:
   M /trunk/fileset.c
   M /trunk/wiretap/wtap.c
   M /trunk/wsutil/file_util.h

Define ws_statb64 to be the appropriate "struct XXX" for a
64-bit-file-size-capable stat call, and use it for ws_fstat64().

------------------------------------------------------------------------
r36546 | guy | 2011-04-10 13:51:58 -0700 (Sun, 10 Apr 2011) | 2 lines
Changed paths:
   M /trunk/wsutil/file_util.h

Define ws_statb64 as struct stat *within* the "not Windows" block.

------------------------------------------------------------------------
r36547 | guy | 2011-04-10 13:59:10 -0700 (Sun, 10 Apr 2011) | 4 lines
Changed paths:
   M /trunk/asn1/kerberos/packet-kerberos-template.c
   M /trunk/capture_opts.c
   M /trunk/dumpcap.c
   M /trunk/epan/dissectors/packet-kerberos.c
   M /trunk/epan/filesystem.c
   M /trunk/gtk/capture_if_dlg.c
   M /trunk/gtk/main_welcome.c
   M /trunk/rawshark.c
   M /trunk/wiretap/file_access.c
   M /trunk/wsutil/file_util.c
   M /trunk/wsutil/file_util.h

Rename ws_stat to ws_stat64, and make it take a pointer to a ws_statb64
as an argument, along the lines of ws_fstat64, and, on Windows, make it
use _wstati64, to handle 64-bit file sizes.

------------------------------------------------------------------------
r36548 | guy | 2011-04-10 14:36:05 -0700 (Sun, 10 Apr 2011) | 2 lines
Changed paths:
   M /trunk/wsutil/libwsutil.def

ws_stdio_stat got renamed to ws_stdio_stat64.

------------------------------------------------------------------------
r36549 | guy | 2011-04-10 15:04:14 -0700 (Sun, 10 Apr 2011) | 4 lines
Changed paths:
   M /trunk/wiretap/file_access.c
   M /trunk/wsutil/file_util.h

To fill in a ws_statb64, you must use ws_fstat64.

Declare ws_stdio_stat64, as that's its new name.

------------------------------------------------------------------------
r36550 | guy | 2011-04-10 16:51:34 -0700 (Sun, 10 Apr 2011) | 2 lines
Changed paths:
   M /trunk/wsutil/file_util.h

We have to define ws_statb64 before declaring routines that use it.

------------------------------------------------------------------------
r36551 | guy | 2011-04-10 17:01:08 -0700 (Sun, 10 Apr 2011) | 3 lines
Changed paths:
   M /trunk/capture_opts.c
   M /trunk/capture_opts.h
   M /trunk/capture_sync.c
   M /trunk/clopts_common.c
   M /trunk/clopts_common.h

Jeff Morris's change to make the autostop file size 64-bit.  Fixes bug
5691.

------------------------------------------------------------------------
r36552 | guy | 2011-04-10 18:30:36 -0700 (Sun, 10 Apr 2011) | 4 lines
Changed paths:
   M /trunk/capture_opts.c
   M /trunk/capture_opts.h
   M /trunk/capture_sync.c
   M /trunk/clopts_common.c
   M /trunk/clopts_common.h

Back out Jeff Morris's change to make the autostop file size 64-bit - it
didn't change the GUI code for setting the autostop file size, and that
broke the build.

------------------------------------------------------------------------
r36553 | cmaynard | 2011-04-11 06:38:32 -0700 (Mon, 11 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/proto.c

Use g_strlcpy() instead of prohibited strncpy() to guarantee NULL-termination.

------------------------------------------------------------------------
r36554 | cmaynard | 2011-04-11 06:44:31 -0700 (Mon, 11 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Add proto_field_is_referenced.  Fixes bug 5816.

------------------------------------------------------------------------
r36555 | wmeier | 2011-04-11 07:28:18 -0700 (Mon, 11 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icq.c

Don't assign to a proto_item * if the value won't be used: Coverity 928-932;
Also: remove some unneeded #includes.

------------------------------------------------------------------------
r36556 | wmeier | 2011-04-11 07:41:14 -0700 (Mon, 11 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-megaco.c

Don't assign to a variable if the value won't be used: Coverity 964 & 965;
Also:
- Move proto_register...() & proto_reg_handoff...() to the end of the file;
- Remove some unneeded #includes;
- Do some indentation and whitespace cleanup (e.g., "4-space tabs").

------------------------------------------------------------------------
r36557 | wmeier | 2011-04-11 07:45:54 -0700 (Mon, 11 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_rlcmac.c

Don't assign to a proto_item * if the value won't be used: Coverity 912 & 913.

------------------------------------------------------------------------
r36558 | wmeier | 2011-04-11 08:17:22 -0700 (Mon, 11 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sip.c

Don't assign to a proto_item * if the value won't be used: Coverity 1036;
Fix what appears to be a use of an incorrect tree: Coverity 1037;
Also:
- Remove uneeded #includes & re-order #includes;
- Do indentation and whitespace cleanup (e.g., "4 space tabs").

------------------------------------------------------------------------
r36559 | jmayer | 2011-04-11 10:21:15 -0700 (Mon, 11 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bootp.c

Fix coverity CID 855: remove an unused variable
------------------------------------------------------------------------
r36560 | jmayer | 2011-04-11 10:25:41 -0700 (Mon, 11 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-extreme.c

CID 898: Remove a not really used variable
------------------------------------------------------------------------
r36561 | cmaynard | 2011-04-11 10:42:01 -0700 (Mon, 11 Apr 2011) | 6 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/Makefile.common
   M /trunk/doc/tshark.pod
   M /trunk/epan/dissectors/packet-icmpv6.c
   A /trunk/tap-icmpv6stat.c

Add conversation tracking and tshark tap support to ICMPv6.  Fixes bug 5810.
TODO: Add a Wireshark tap or look into possibly using the stats tree instead.
Also, like ICMP, the ICMPv6 payload appears to carry the sender's timestamp, so
it might be possible to make use of this information to estimate the total SRT.
(See bug 5770 for more details.)

------------------------------------------------------------------------
r36562 | cmaynard | 2011-04-11 11:40:36 -0700 (Mon, 11 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c

Neither checksum_item nor length are used uninitialized, but for some reason,
the OSX buildbots think they can be.  Initialize them to avoid a build failure.

------------------------------------------------------------------------
r36563 | guy | 2011-04-11 14:33:22 -0700 (Mon, 11 Apr 2011) | 4 lines
Changed paths:
   M /trunk/wiretap/file_access.c
   M /trunk/wiretap/file_wrappers.c
   M /trunk/wiretap/file_wrappers.h

Don't use the zlib I/O routines for writing compressed files, either;
this frees us from worrying about zlib large file issues on the write
side, and also lets us clean up a few other things.

------------------------------------------------------------------------
r36564 | martinm | 2011-04-11 14:33:33 -0700 (Mon, 11 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

- for UL/DL HARQ, show number of ms since previous tx
- for SR state-machine problems, show UEId in report
- incomplete beginnings of support for grouping/counting UEs per TTI

------------------------------------------------------------------------
r36565 | martinm | 2011-04-11 14:34:47 -0700 (Mon, 11 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c

Show Segment offset number in AM header root item.

------------------------------------------------------------------------
r36566 | martinm | 2011-04-11 14:40:49 -0700 (Mon, 11 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rdt.c

Don't assign to a proto_item* that is not used before being overwritten.

Coverity 1017.

------------------------------------------------------------------------
r36567 | guy | 2011-04-11 15:11:44 -0700 (Mon, 11 Apr 2011) | 4 lines
Changed paths:
   M /trunk/wiretap/airopeek9.c

Remove a no-longer-valid comment (we're not using zlib's I/O routines,
and the routines we're now using guarantee that an error has occured in
that case).

------------------------------------------------------------------------
r36568 | guy | 2011-04-11 15:19:01 -0700 (Mon, 11 Apr 2011) | 5 lines
Changed paths:
   M /trunk/wiretap/airopeek9.c
   M /trunk/wiretap/cosine.c
   M /trunk/wiretap/dbs-etherwatch.c
   M /trunk/wiretap/eyesdn.c
   M /trunk/wiretap/file_wrappers.c
   M /trunk/wiretap/iseries.c
   M /trunk/wiretap/netscreen.c
   M /trunk/wiretap/toshiba.c

Use ws_open(), not open(), so we handle UTF-8 pathnames on Windows.

Update or remove some additional "we don't have ferror() in zlib"
comments to reflect the current reality.

------------------------------------------------------------------------
r36569 | gerald | 2011-04-11 16:07:53 -0700 (Mon, 11 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_map.c
   M /trunk/epan/dissectors/packet-ansi_map.h
   M /trunk/epan/dissectors/packet-ldap.c
   M /trunk/epan/dissectors/packet-ldap.h
   M /trunk/epan/dissectors/packet-tetra.c
   M /trunk/epan/dissectors/packet-tetra.h

Regenerate the ANSI MAP, LDAP, and TETRA dissectors so that Coverity can
locate their template files.

------------------------------------------------------------------------
r36575 | guy | 2011-04-11 17:44:44 -0700 (Mon, 11 Apr 2011) | 10 lines
Changed paths:
   M /trunk/wiretap/5views.c
   M /trunk/wiretap/5views.h
   M /trunk/wiretap/btsnoop.c
   M /trunk/wiretap/btsnoop.h
   M /trunk/wiretap/catapult_dct2000.c
   M /trunk/wiretap/catapult_dct2000.h
   M /trunk/wiretap/commview.c
   M /trunk/wiretap/commview.h
   M /trunk/wiretap/eyesdn.c
   M /trunk/wiretap/eyesdn.h
   M /trunk/wiretap/file_access.c
   M /trunk/wiretap/k12.c
   M /trunk/wiretap/k12.h
   M /trunk/wiretap/k12text.l
   M /trunk/wiretap/lanalyzer.c
   M /trunk/wiretap/lanalyzer.h
   M /trunk/wiretap/libpcap.c
   M /trunk/wiretap/libpcap.h
   M /trunk/wiretap/netmon.c
   M /trunk/wiretap/netmon.h
   M /trunk/wiretap/netscaler.c
   M /trunk/wiretap/netscaler.h
   M /trunk/wiretap/nettl.c
   M /trunk/wiretap/nettl.h
   M /trunk/wiretap/network_instruments.c
   M /trunk/wiretap/network_instruments.h
   M /trunk/wiretap/netxray.c
   M /trunk/wiretap/netxray.h
   M /trunk/wiretap/ngsniffer.c
   M /trunk/wiretap/ngsniffer.h
   M /trunk/wiretap/pcapng.c
   M /trunk/wiretap/pcapng.h
   M /trunk/wiretap/snoop.c
   M /trunk/wiretap/snoop.h
   M /trunk/wiretap/visual.c
   M /trunk/wiretap/visual.h
   M /trunk/wiretap/wtap.h

"This file format can't be written to a pipe" and "this file format
can't be saved in compress form" are both equivalent to "this file file
format requires seeking when writing it".  Change the "can compress"
Boolean in the file format table to "writing requires seeking", give all
the entries the proper value, and do the checks for attempting to write
a file format to a pipe or write it in compressed format to common code.

This means we don't need to pass the "can't seek" flag to the dump open
routines.

------------------------------------------------------------------------
r36576 | guy | 2011-04-11 18:36:12 -0700 (Mon, 11 Apr 2011) | 9 lines
Changed paths:
   M /trunk/file.c
   M /trunk/tshark.c
   M /trunk/wiretap/wtap.c
   M /trunk/wiretap/wtap.h

Allow wtap_sequential_close() and wtap_close() to return an error; this
may happen if, when reading a compressed file, we find an error in the
file's contents past the last packet (e.g., the file being cut short so
that we can't get a full buffer worth of compressed data), and that
reporting of that error is delayed (so that you can get all of the
packets that we *can* decompress).  Check for those errors, at least on
the sequential read pass (the only errors we should see when closing the
random stream are errors we've already seen in the sequential stream).

------------------------------------------------------------------------
r36577 | guy | 2011-04-11 19:40:14 -0700 (Mon, 11 Apr 2011) | 13 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/wiretap/file_access.c
   M /trunk/wiretap/file_wrappers.c
   M /trunk/wiretap/file_wrappers.h
   M /trunk/wiretap/wtap-int.h
   M /trunk/wiretap/wtap.c

From Jakub Zawadzki: speed up random access to gzipped files, as per the
zran.c example in the zlib source.

This means that problems in the file's contents might not be reported
when a packet is read, as long as there's no problem in the contents of
the file up to the last bit of compressed data for the packet; we now
check for errors after finishing the sequential read of the file, at
least in some programs, so that shouldn't be an issue (the other
programs need to be changed to do so as well).  This is necessary in
order to be able to read all the packets we saw in the sequential pass;
it also lets us get a few more packets from truncated files in some
cases.

------------------------------------------------------------------------
r36578 | guy | 2011-04-11 20:27:10 -0700 (Mon, 11 Apr 2011) | 4 lines
Changed paths:
   M /trunk/wiretap/wtap.c

If we hit an EOF - wth->subtype_read returns FALSE, but sets *err to 0 -
call file_error() to fetch any deferred error, so we report an error
rather than an "everything's OK" EOF.

------------------------------------------------------------------------
r36579 | stig | 2011-04-12 02:05:43 -0700 (Tue, 12 Apr 2011) | 4 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

Corrected switch-case flow.

Coverity 1184.

------------------------------------------------------------------------
r36580 | wmeier | 2011-04-12 06:21:32 -0700 (Tue, 12 Apr 2011) | 2 lines
Changed paths:
   M /trunk/plugins/gryphon/packet-gryphon.c

localtime() can return a NULL ptr.

------------------------------------------------------------------------
r36581 | wmeier | 2011-04-12 06:27:08 -0700 (Tue, 12 Apr 2011) | 2 lines
Changed paths:
   M /trunk/plugins/gryphon/packet-gryphon.c

Don't assign to a proto_item * if the value won't be used: Coverity 1158 & 1159.

------------------------------------------------------------------------
r36582 | alagoutte | 2011-04-12 06:30:43 -0700 (Tue, 12 Apr 2011) | 3 lines
Changed paths:
   M /trunk/doc/tshark.pod

Fix tshark doc (ip.src==1.2.3.4) is not a valid filter for ICMPv6 trafic ;)


------------------------------------------------------------------------
r36583 | wmeier | 2011-04-12 07:33:30 -0700 (Tue, 12 Apr 2011) | 2 lines
Changed paths:
   M /trunk/plugins/gryphon/packet-gryphon.c

Rework whitespace.

------------------------------------------------------------------------
r36584 | martinm | 2011-04-12 07:33:31 -0700 (Tue, 12 Apr 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/file_wrappers.c

A parameter isn't used if ZLIB isn't enabled.

------------------------------------------------------------------------
r36585 | wmeier | 2011-04-12 08:39:19 -0700 (Tue, 12 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Fix a few cases of proto_item_add_subtree() using the wrong tree: Coverity 916-918;
Also: Fix some indentation: e.g., "4 space tabs".

------------------------------------------------------------------------
r36586 | etxrab | 2011-04-12 08:44:05 -0700 (Tue, 12 Apr 2011) | 11 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.nmake
   M /trunk/tools/win32-setup.sh

Build with zlib-1.2.5 for win32

zlib for GTK hasd this comment:
/* LFS conventions have no meaning on Windows. Looking for feature
 * macros like _LARGEFILE64_SOURCE or _FILE_OFFSET_BITS on Windows is
 * wrong. So make sure any such macros misguidedly defined by the
 * user have no effect. Windows has large file support, but the
 * official zlib DLL has not been built to provide the 64-bit offset
 * APIs, sigh.  So we have just patched out the 64-bit offset API
 * from this header file.
 */
------------------------------------------------------------------------
r36587 | wmeier | 2011-04-12 08:49:29 -0700 (Tue, 12 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-hilscher.c

Don't assign to a proto_item * if the value won't be used: Coverity 916-918;
Also: use consistent indentation.

------------------------------------------------------------------------
r36588 | wmeier | 2011-04-12 09:00:28 -0700 (Tue, 12 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee8021ah.c

Don't assign to a proto_item * if the value won't be used: Coverity 933;
Fix apparent use of incorrect tree: Coverity 934.

------------------------------------------------------------------------
r36589 | wmeier | 2011-04-12 09:12:03 -0700 (Tue, 12 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-jxta.c

Don't assign to a proto_item * if the value won't be used: Coverity 954 & 955;
Remove some unneeded #includes;
Minor whitespace cleanup.

------------------------------------------------------------------------
r36590 | guy | 2011-04-12 09:21:14 -0700 (Tue, 12 Apr 2011) | 11 lines
Changed paths:
   M /trunk/wiretap/file_wrappers.c

Update and expand some comments.

In the end-of-stream code, when we're checking the CRC and length, don't
check the CRC or length if we failed to read them, and don't check the
length if the CRC is bad.

We define O_BINARY as 0 on UN*X in <wsutil/file_util.h>, so we don't
need to avoid using it on UN*X.

In file_gets(), check for delayed errors.

------------------------------------------------------------------------
r36591 | guy | 2011-04-12 09:31:16 -0700 (Tue, 12 Apr 2011) | 5 lines
Changed paths:
   M /trunk/wiretap/file_wrappers.c

From Jakub Zawadski: some small fixes.

From me: small indentation fix (use spaces rather than tabs in all lines
in that routine).

------------------------------------------------------------------------
r36592 | wmeier | 2011-04-12 09:48:58 -0700 (Tue, 12 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mip6.c

Comment out some (currently ?) unused code: Coverity 969-971;
Fix up whitespace & indentation (e.g., "4 space tabs").

------------------------------------------------------------------------
r36593 | guy | 2011-04-12 10:37:05 -0700 (Tue, 12 Apr 2011) | 3 lines
Changed paths:
   M /trunk/file.c
   M /trunk/tshark.c
   M /trunk/wiretap/wtap.c
   M /trunk/wiretap/wtap.h

Now that wtap_read() checks for delayed errors on EOF, there's no need
to check for it on close.

------------------------------------------------------------------------
r36594 | wmeier | 2011-04-12 10:44:22 -0700 (Tue, 12 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ncp2222.inc

Don't assign to a proto_item * if the value won't be used: Coverity 978;
Use what appears to be the intended correct tree for various proto_add...: Coverity 979;
Minor indentation cleanup.

------------------------------------------------------------------------
r36595 | cmaynard | 2011-04-12 10:52:52 -0700 (Tue, 12 Apr 2011) | 3 lines
Changed paths:
   M /trunk/capinfos.c

Use g_snprintf instead of sprintf: Coverity 622.
Use g_strlcpy instead of strcpy: Coverity 632.

------------------------------------------------------------------------
r36596 | wmeier | 2011-04-12 10:53:23 -0700 (Tue, 12 Apr 2011) | 2 lines
Changed paths:
   M /trunk/config.nmake

Fix nasm pathname: nasm-2.09-08\nasm.exe ==> nasm-2.09.08\nasm.exe

------------------------------------------------------------------------
r36597 | cmaynard | 2011-04-12 10:57:22 -0700 (Tue, 12 Apr 2011) | 2 lines
Changed paths:
   M /trunk/tshark.c

Use g_snprintf instead of sprintf and g_strlcat instead of strcat: Coverity 698

------------------------------------------------------------------------
r36598 | cmaynard | 2011-04-12 11:16:55 -0700 (Tue, 12 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/to_str.c

Use g_strlcat instead of strcat: Coverity 632.

------------------------------------------------------------------------
r36599 | guy | 2011-04-12 11:21:05 -0700 (Tue, 12 Apr 2011) | 5 lines
Changed paths:
   M /trunk/wiretap/etherpeek.c

#if 0 out some unused variables; we may make use of them later, but this
keeps GCC 4.6.0 from complaining about them and failing to build with
-Werror, and may also squelch some Coverity (and other static analyzer)
complaints.

------------------------------------------------------------------------
r36600 | cmaynard | 2011-04-12 11:29:52 -0700 (Tue, 12 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/ftypes/ftype-string.c

Use g_snprintf instead of sprintf: (Part of) Covertiy 665.

------------------------------------------------------------------------
r36601 | cmaynard | 2011-04-12 11:43:44 -0700 (Tue, 12 Apr 2011) | 2 lines
Changed paths:
   M /trunk/editcap.c

Don't bother to strcpy() an empty string; just set buf[0] = '\0': Coverity 626

------------------------------------------------------------------------
r36602 | stig | 2011-04-12 12:06:51 -0700 (Tue, 12 Apr 2011) | 2 lines
Changed paths:
   M /trunk/asn1/tetra/packet-tetra-template.c
   M /trunk/epan/dissectors/packet-tetra.c

Removed some unused variables.

------------------------------------------------------------------------
r36603 | wmeier | 2011-04-12 12:41:26 -0700 (Tue, 12 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ndps.c

Fix two instances of apparent use of incorrect tree: Coverity 982 & 983;
Remove an uneeded line of code: Coverity 984;
#include <string.h> not needed;
Use consistent indentation & do other whitespace cleanup.

------------------------------------------------------------------------
r36604 | wmeier | 2011-04-12 12:59:26 -0700 (Tue, 12 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ppi.c

Don't assign to a variable if the value won't be used: Coverity 1002 & 1003.

------------------------------------------------------------------------
r36605 | stig | 2011-04-12 13:03:21 -0700 (Tue, 12 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-arp.c

Added a FALLTHRU comment to avoid a missing break warning.

Coverity 437.

------------------------------------------------------------------------
r36606 | wmeier | 2011-04-12 13:19:10 -0700 (Tue, 12 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sdp.c

Don't assign to a proto_item * if the value won't be used: Coverity 1034;
Comment out two calls to tvb_)get_ephemeral_string since the result is never used: Coverity 1035;
Also:
 Remove some unneeded #includes;
 Use consistent indentation.

------------------------------------------------------------------------
r36607 | sfisher | 2011-04-12 13:29:42 -0700 (Tue, 12 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sdp.c


Put back in one of the includes removed in r36606: ctype.h for isdigit()
function.


------------------------------------------------------------------------
r36608 | gerald | 2011-04-12 13:39:48 -0700 (Tue, 12 Apr 2011) | 5 lines
Changed paths:
   M /trunk/asn1/x509if/packet-x509if-template.c
   M /trunk/asn1/x509if/x509if.cnf
   M /trunk/epan/dissectors/packet-x509if.c
   M /trunk/epan/dissectors/packet-x509if.h

Add x509if_frame_end() which is passed to register_frame_end_routine()
and which resets our global variables. Remove a boolean which was used
to track a char *; just check if the pointer is NULL instead. Fixes bugs
5754 and 5793, hopefully without breaking anything.

------------------------------------------------------------------------
r36609 | gerald | 2011-04-12 13:45:25 -0700 (Tue, 12 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h248.c
   M /trunk/epan/dissectors/packet-h248.h
   M /trunk/epan/dissectors/packet-rtse.c
   M /trunk/epan/dissectors/packet-rtse.h
   M /trunk/epan/dissectors/packet-t38.c
   M /trunk/epan/dissectors/packet-t38.h

Regenerate more ASN.1 dissectors for Coverity.

------------------------------------------------------------------------
r36610 | stig | 2011-04-12 14:00:26 -0700 (Tue, 12 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-csn1.c

Cleanup ProcessError().

Coverity 865.

------------------------------------------------------------------------
r36611 | etxrab | 2011-04-12 14:09:34 -0700 (Tue, 12 Apr 2011) | 1 line
Changed paths:
   M /trunk/tools/win64-setup.sh

Use the new label(It will still break on zlib as zlib 1.2.5 isn't used yet).
------------------------------------------------------------------------
r36614 | sfisher | 2011-04-12 15:12:05 -0700 (Tue, 12 Apr 2011) | 4 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c


Fix Coverity 1047: UNUSED_VALUE in dissect_smux


------------------------------------------------------------------------
r36615 | sfisher | 2011-04-12 15:23:03 -0700 (Tue, 12 Apr 2011) | 13 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c


Fix Coverity 524: NEGATIVE_RETURNS

Coverity sees that two calls to tvb_length_remaining() with an offset
of 0 may return -1 (for an "out of bounds" condition), which would lead
to an assignment of -1 to an unsigned variable and then passing it
to functions further down that cannot accept negative values.

Use tvb_ensure_length_remaining() to throw an exception in a case of
out of bounds access (though unlikely with an offset of 0) instead of
tvb_length_remaining(), which would return -1.


------------------------------------------------------------------------
r36616 | etxrab | 2011-04-12 21:47:38 -0700 (Tue, 12 Apr 2011) | 6 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.nmake
   M /trunk/tools/win64-setup.sh

Build win64 with a modified zlib (google is your friend).
http://www.apachehaus.com/forum/index.php?action=printpage;topic=143.0

First problem: ZLIB build must be fixed for x64, otherwise there will be one unresolved external symbol later. Quick fix is to open build\win32\build_zlib.bat and insert this at line 51:
set ASM_OPTS=AS=ml64 LOC="-DASMV -DASMINF" OBJA="inffasx64.obj gvmat64.obj inffas8664.obj"
(info found in zlib\win32\Makefile.msc) and then open zlib\contrib\masmx64\inffas8664.c and prepend "../../" to four includes at the beginning.
------------------------------------------------------------------------
r36617 | etxrab | 2011-04-12 21:53:02 -0700 (Tue, 12 Apr 2011) | 1 line
Changed paths:
   M /trunk/tshark.c

Cast away size_t warnings on win64.
------------------------------------------------------------------------
r36618 | etxrab | 2011-04-12 22:43:07 -0700 (Tue, 12 Apr 2011) | 1 line
Changed paths:
   M /trunk/config.nmake

Restore defaults
------------------------------------------------------------------------
r36619 | etxrab | 2011-04-13 06:42:41 -0700 (Wed, 13 Apr 2011) | 1 line
Changed paths:
   M /trunk/config.nmake

Try out GTK 2.22
------------------------------------------------------------------------
r36620 | etxrab | 2011-04-13 07:38:58 -0700 (Wed, 13 Apr 2011) | 1 line
Changed paths:
   M /trunk/config.nmake

Ok let's try GTK 2.22 on Win64 too.
------------------------------------------------------------------------
r36621 | jmayer | 2011-04-13 08:16:41 -0700 (Wed, 13 Apr 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

+ Fix bug listed in CID 1182:
 Move test out of switch statement.
 Remove unused variable.

Remove trailing whitespace.

Whitespace in that file is a mess.

------------------------------------------------------------------------
r36622 | morriss | 2011-04-13 08:36:05 -0700 (Wed, 13 Apr 2011) | 13 lines
Changed paths:
   M /trunk/tools/fuzz-test.sh
   M /trunk/tools/test-fuzzed-cap.sh

Based on https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5821#c2 :

Move the setting of debug environment variables out of the while loop.

Export MALLOC_OPTIONS=AJ to increase memory allocation debug on FreeBSD (and
others).

Export a number of environment variables that MacOS looks at.

(I don't have easy access to either of these OS so this has not been tested.)

Add a comments for each entry explaining which OS uses it and what it does.

------------------------------------------------------------------------
r36623 | etxrab | 2011-04-13 08:46:39 -0700 (Wed, 13 Apr 2011) | 1 line
Changed paths:
   M /trunk/config.nmake

Ok let's try GTK 2.22 on Win64 too - fix a typo.
------------------------------------------------------------------------
r36624 | sfisher | 2011-04-13 08:48:24 -0700 (Wed, 13 Apr 2011) | 5 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c


Rollback r36614 and change dissect_SMUX_PDUs_PDU() to use previously
unused smux_tree instead of tree.  Per suggestion from Stig on -dev.


------------------------------------------------------------------------
r36625 | alagoutte | 2011-04-13 08:59:22 -0700 (Wed, 13 Apr 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Add Tag Quiet (40) and IBSS DFS (41)

Enhance Tag ERP Information (42), TS Delay (43), TCLAS Processing (44)

* Replace proto_tree_add_uint*/boolean/text by proto_tree_add_item
* use ENC_* macro for encoding


------------------------------------------------------------------------
r36626 | gerald | 2011-04-13 09:05:11 -0700 (Wed, 13 Apr 2011) | 2 lines
Changed paths:
   M /trunk/Makefile.am

capinfos and editcap need PYTHON_DIR when we have Python enabled.

------------------------------------------------------------------------
r36627 | sfisher | 2011-04-13 09:56:24 -0700 (Wed, 13 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/strutil.c
   M /trunk/epan/strutil.h
   M /trunk/gtk/new_packet_list.c


Change ws_strdup_escape_underscore() function to be more general, by
accepting any character as the escaped character.  Change existing
uses to use '_' for the underscore escaping.


------------------------------------------------------------------------
r36628 | gerald | 2011-04-13 10:53:28 -0700 (Wed, 13 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Update to reflect recent changes in epan/strutil.[ch].

------------------------------------------------------------------------
r36629 | cmaynard | 2011-04-13 11:15:41 -0700 (Wed, 13 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

Allow TCP segment data to be filterable via "tcp.data".

------------------------------------------------------------------------
r36630 | wmeier | 2011-04-13 14:00:44 -0700 (Wed, 13 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

Comment out code to create a subtree since  it's (currently ?) unused: Coverity 1039;
Don't assign to a proto_item * if the value won't be used: Coverity 1040 & 1041.
Remove some unneede #includes;
Do some minor indentation & whitespace cleanup.

------------------------------------------------------------------------
r36631 | wmeier | 2011-04-13 14:27:08 -0700 (Wed, 13 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

Don't assign to a proto_item * if the value won't be used: Coverity 1054-1056.

------------------------------------------------------------------------
r36632 | wmeier | 2011-04-13 15:07:53 -0700 (Wed, 13 Apr 2011) | 12 lines
Changed paths:
   M /trunk/epan/dissectors/packet-radiotap.c

From Solomon Peachy:Fix "Missing indication that we recognize the Radiotap MCS header field."

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5827

The radiotap header has a pile of optional fields, and uses a bitmask field to
indicate which fields are present.  Wireshark marks the fields it decodes, and
then decodes the payload.

The recently-added MCS field is decoded now, but the bit is not displayed as
recognized. This was presumably an oversight, as this bit is recognized and the
field decoded properly.

------------------------------------------------------------------------
r36633 | cmaynard | 2011-04-13 19:08:19 -0700 (Wed, 13 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

Via bug5774, Andrew Feren requested V9TEMPLATE_MAX_FIELDS be increased to 100.

------------------------------------------------------------------------
r36634 | cmaynard | 2011-04-13 19:16:39 -0700 (Wed, 13 Apr 2011) | 2 lines
Changed paths:
   M /trunk/docbook/release-notes.xml

Mention that tshark can now display ICMP and ICMPv6 service response times.

------------------------------------------------------------------------
r36635 | guy | 2011-04-13 19:49:20 -0700 (Wed, 13 Apr 2011) | 6 lines
Changed paths:
   M /trunk/aclocal-flags

Check for pkg-config's path as well, just in case it's installed
somewhere other than GLib (or if GLib isn't installed at all; that
configure script will fail in that case, but that's better than failing
because PKG_CHECK_MODULES wasn't defined, as that's a confusing failure
mode).

------------------------------------------------------------------------
r36636 | guy | 2011-04-13 19:53:18 -0700 (Wed, 13 Apr 2011) | 6 lines
Changed paths:
   M /trunk/wiretap/file_access.c

Check for _setmode() failing, Just In Case.  Squelches some MSVC static
analyzer warnings.

Return an actual error if we're failing because we're trying to write to
the standard output in compressed mode.

------------------------------------------------------------------------
r36637 | etxrab | 2011-04-13 22:37:58 -0700 (Wed, 13 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-skinny.c

From Mathieu Parent:
packet-skinny:Add DialedPhoneBookMessage and DialedPhoneBookAckMessage

Replaced meaningless hf blurbs with NULL

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5823
------------------------------------------------------------------------
r36638 | etxrab | 2011-04-13 23:07:42 -0700 (Wed, 13 Apr 2011) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-skinny.c

From Mathieu Parent:
- use 4-bytes hex for messages ids
- reorder skinny messages ids
- remove obsolete C-comments about status
- rewrite field names (from camel case to plain words)

From me:
Replaced meaningless hf blurbs with NULL

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5824
------------------------------------------------------------------------
r36639 | guy | 2011-04-13 23:28:25 -0700 (Wed, 13 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/wslua/wslua_proto.c

Zero is zero is zero, as Gertrude Stein didn't say.

------------------------------------------------------------------------
r36640 | kukosa | 2011-04-14 02:02:01 -0700 (Thu, 14 Apr 2011) | 1 line
Changed paths:
   M /trunk/wiretap/wtap.def

Export new file_...() functions from libwiretap.dll
------------------------------------------------------------------------
r36641 | alagoutte | 2011-04-14 02:40:07 -0700 (Thu, 14 Apr 2011) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c

Update to last IANA parameters (2011-04-08)
Update to last RPL Draft (19)
Add new ICMPv6 Option: Proxy Signature (PS) draft-ietf-csi-proxy-send-05
Fix 2 Clang Warning (unused variable):
packet-icmpv6.c:2755:9: warning: Value stored to 'oplength' is never read
        oplength = tvb_get_guint8(tvb, rr_offset);
packet-icmpv6.c:2916:5: warning: Value stored to 'nb_mcast_records' is never read
    nb_mcast_records = tvb_get_ntohs(tvb, mldr_offset);

------------------------------------------------------------------------
r36642 | cmaynard | 2011-04-14 06:58:40 -0700 (Thu, 14 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-3g-a11.c

Revert r24047.  Fixes bug 5822.

------------------------------------------------------------------------
r36643 | cmaynard | 2011-04-14 09:17:09 -0700 (Thu, 14 Apr 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

From Andrew Feren via bug 5774: Make V9TEMPLATE_MAX_FIELDS a user preference.
From me: Use lower-case v9template_max_fields instead of upper-case to avoid
any confusion with that variable being a define.  Use STRINGIFY() so we always
keep the default and the displayed default the same.  Fix bug introduced by
Andrew's patch where option_scope_field_count was inadvertently changed to
option_field_count.  Append "Maximum value can be adjusted ..." message to all
relevant expert infos.

------------------------------------------------------------------------
r36648 | guy | 2011-04-15 00:27:03 -0700 (Fri, 15 Apr 2011) | 5 lines
Changed paths:
   M /trunk/wiretap/file_wrappers.c

Return ENOMEM if we run out of memory.  (We're either running on UN*X,
in which case ENOMEM is the right error, or we're running on Windows but
using UN*Xy routines, in which case ENOMEM is the right error; unlike
zlib, we don't have to run on a whole pile of OSes.)

------------------------------------------------------------------------
r36649 | martinm | 2011-04-15 05:53:20 -0700 (Fri, 15 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlm.c

Remove more unnecessary assignments. Coverity 1022 (again).

------------------------------------------------------------------------
r36652 | sfisher | 2011-04-15 10:53:23 -0700 (Fri, 15 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-frame.c


From Edwin Groothuis via bug #5833: Make number of bits in Frame header
optional


------------------------------------------------------------------------
r36657 | martinm | 2011-04-15 16:32:44 -0700 (Fri, 15 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Keep track of how many UL/DL UEs in a TTI, and attach this info to each UL-SCH/DL-SCH frame..

------------------------------------------------------------------------
r36658 | martinm | 2011-04-16 03:56:18 -0700 (Sat, 16 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-mac-lte.h
   M /trunk/gtk/mac_lte_stat_dlg.c

Show max UEs/TTI in MAC stats window (UL/DL separately).

------------------------------------------------------------------------
r36659 | etxrab | 2011-04-16 04:44:05 -0700 (Sat, 16 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-rohc.c

Add a basic ROCH dissector.
Limitations:
- Small CID
- RTP profile
- IPv4
------------------------------------------------------------------------
r36660 | etxrab | 2011-04-16 04:49:51 -0700 (Sat, 16 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/CMakeLists.txt

Add rohc
------------------------------------------------------------------------
r36661 | etxrab | 2011-04-16 05:03:50 -0700 (Sat, 16 Apr 2011) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

From Motonori Shindo:
Current NetFlow V9/IPFIX dissector treats IN_BYTES (IE=1) and
IN_PERMANENT_BYTES (IE=85) exactly in the same way. The same applies to IN_PKTS
(IE=2) and IN_PERMANENT_PKTS (IE=86). However, IN_BYTES/IN_PKTS and
IN_PERMANENT_BYTES/IN_PERMANENT_PKTS have different semantics so they should be
distinguishable when they are displayed or specified in a filter. Please find
attached the patch
which does that.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5807
------------------------------------------------------------------------
r36662 | etxrab | 2011-04-16 05:22:16 -0700 (Sat, 16 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-bmc.c
   M /trunk/epan/dissectors/packet-rlc.c
   M /trunk/epan/dissectors/packet-umts_mac.c

From Neil Piercy:
Adds BMC protocol, including adding support for MAC and RLC CTCH channels to carry it.
From me:
Removed hf blurbs = def and removed check_col added tp CMakeList.
------------------------------------------------------------------------
r36663 | etxrab | 2011-04-16 05:28:03 -0700 (Sat, 16 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rohc.c

Fix:
packet-rohc.c: In function 'dissect_rohc_ir_rtp_profile_dynamic':
packet-rohc.c:285: warning: 'val_len' may be used uninitialized in this function
packet-rohc.c:186: warning: 'num_bits' may be used uninitialized in this function
packet-rohc.c:186: note: 'num_bits' was declared here
------------------------------------------------------------------------
r36664 | gerald | 2011-04-16 08:33:24 -0700 (Sat, 16 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bmc.c

Fix compilation errors.

------------------------------------------------------------------------
r36665 | etxrab | 2011-04-16 09:00:02 -0700 (Sat, 16 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcerpc.c

From Dirk:
The attachted patch cleans up the output of DCE/RPC fragment information in the
dissector.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5772

From me get rid of check_col()
------------------------------------------------------------------------
r36666 | stig | 2011-04-16 09:37:53 -0700 (Sat, 16 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rohc.c

Initialize feedback_data_len to avoid a compiler warning.

------------------------------------------------------------------------
r36667 | gerald | 2011-04-16 09:45:38 -0700 (Sat, 16 Apr 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tcp.c

From Edwin Groothuis via bug 5813:

In the explanation of TCP Option 78 (Riverbed Transparency), the labels
are "CSH IP Addr/Port" and "SSH IP Addr/Port". This should be "Src SH IP
Addr/Port" and "Dst SH IP Addr/Port".
The filter keys for these labels are correct.

------------------------------------------------------------------------
r36668 | alagoutte | 2011-04-16 10:14:39 -0700 (Sat, 16 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmpv6.c

Convert ICMPv6 dissector to "new-style" dissector
Fix Dead Store Warning ( warning: Value stored to '*offset*' is never read )


------------------------------------------------------------------------
r36669 | etxrab | 2011-04-16 10:32:30 -0700 (Sat, 16 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-rohc.c

Try to make the OSX buildbot happy.
------------------------------------------------------------------------
r36670 | gerald | 2011-04-16 14:25:34 -0700 (Sat, 16 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

Add NULL checks. Fixes Coverity CIDs 509 and 510.

------------------------------------------------------------------------
r36671 | gerald | 2011-04-16 14:38:21 -0700 (Sat, 16 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mgcp.c
   M /trunk/epan/dissectors/packet-radius.c
   M /trunk/epan/dissectors/packet-rtps.c

Fix the warnings in Coverity CIDs 606-608.

------------------------------------------------------------------------
r36672 | gerald | 2011-04-16 14:46:15 -0700 (Sat, 16 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcm.c

Fix Coverity CIDs 603 & 604.

------------------------------------------------------------------------
r36673 | gerald | 2011-04-16 15:02:14 -0700 (Sat, 16 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-imf.c

Remove another unneeded NULL check. Fixes Coverity CID 605.

------------------------------------------------------------------------
r36674 | alagoutte | 2011-04-17 01:58:15 -0700 (Sun, 17 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gre.c

Using the routing subtree (Miss in my last patch)
Fix a typo error (shoubl => should)

------------------------------------------------------------------------
r36675 | etxrab | 2011-04-17 02:34:38 -0700 (Sun, 17 Apr 2011) | 2 lines
Changed paths:
   M /trunk/plugins/sercosiii/packet-sercosiii_1v1_at.c
   M /trunk/plugins/sercosiii/packet-sercosiii_1v1_mdt.c
   M /trunk/plugins/sercosiii/packet-sercosiii_1v1_svc.c
   M /trunk/plugins/unistim/packet-unistim.c

Fix Unused varaiable warnings.
CID 1163 - 1166
------------------------------------------------------------------------
r36676 | martinm | 2011-04-17 04:22:03 -0700 (Sun, 17 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-mac-lte.h

Add a way for configuration protocol (e.g. RRC) to configure MAC-> RLC mappings, and add a preference to use this or the static UAT.

API is not yet called by RRC.

------------------------------------------------------------------------
r36677 | gerald | 2011-04-17 08:03:50 -0700 (Sun, 17 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf
   M /trunk/services

[Automatic manuf, services and enterprise-numbers update for 2011-04-17]
------------------------------------------------------------------------
r36680 | alagoutte | 2011-04-17 10:20:58 -0700 (Sun, 17 Apr 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Add QoS Capability element (46) and Extended Supported Rates element (50) 

Enhance RSN Info (48), Extended Capabilities information element (127)

* Replace proto_tree_add_uint*/boolean/text by proto_tree_add_item
* use ENC_* macro for encoding

------------------------------------------------------------------------
r36681 | stig | 2011-04-17 10:47:39 -0700 (Sun, 17 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mp2t.c

Check for valid docsis_handle, and use data_handle if not.

This fixes bug 5839.

------------------------------------------------------------------------
r36682 | stig | 2011-04-17 10:49:02 -0700 (Sun, 17 Apr 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/k12text.l

Mark err as unused in k12text_dump_open().

------------------------------------------------------------------------
r36683 | etxrab | 2011-04-17 11:00:14 -0700 (Sun, 17 Apr 2011) | 2 lines
Changed paths:
   M /trunk/gtk/iax2_analysis.c
   M /trunk/gtk/rtp_analysis.c

Coverity UNUSED_VALUE
CID 1142,1143,1147
------------------------------------------------------------------------
r36684 | etxrab | 2011-04-17 11:10:08 -0700 (Sun, 17 Apr 2011) | 2 lines
Changed paths:
   M /trunk/gtk/file_import_dlg.c

Coverity UNUSED_VALUE
CID 1141
------------------------------------------------------------------------
r36685 | stig | 2011-04-17 11:49:58 -0700 (Sun, 17 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sctp.c

Corrected equality check in frag_equal().

Found by clang.

------------------------------------------------------------------------
r36686 | stig | 2011-04-17 11:59:17 -0700 (Sun, 17 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-acn.c

Removed an unneeded assignment, they are both always 0.

Found by clang.

------------------------------------------------------------------------
r36687 | stig | 2011-04-17 12:01:26 -0700 (Sun, 17 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_a.c

Removed unneeded assignments to self.

Found by clang.

------------------------------------------------------------------------
r36688 | stig | 2011-04-17 12:04:54 -0700 (Sun, 17 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_a.c

Mark unused arguments with _U_.

------------------------------------------------------------------------
r36689 | stig | 2011-04-17 12:07:17 -0700 (Sun, 17 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ncp.c

Removed unneeded assignments.

Found by clang.

------------------------------------------------------------------------
r36690 | stig | 2011-04-17 12:17:46 -0700 (Sun, 17 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_a.c

One more unused argument.

------------------------------------------------------------------------
r36691 | tuexen | 2011-04-17 12:37:46 -0700 (Sun, 17 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-m3ua.c

Decode the SI value in DATA messages correclty.
This fixes bug 5834.

------------------------------------------------------------------------
r36692 | martinm | 2011-04-17 14:34:47 -0700 (Sun, 17 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rlc-lte.c
   M /trunk/epan/dissectors/packet-rlc-lte.h

Allow signaling protocol (e.g. RRC) to set number of SN bits
PDCP should use for DRB channels.

Not yet called by RRC.

------------------------------------------------------------------------
r36693 | martinm | 2011-04-17 14:43:20 -0700 (Sun, 17 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Retire a preference that can be always on now.

------------------------------------------------------------------------
r36695 | cmaynard | 2011-04-17 19:16:36 -0700 (Sun, 17 Apr 2011) | 2 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-cosine.c
   M /trunk/wiretap/AUTHORS
   M /trunk/wiretap/cosine.c
   M /trunk/wiretap/cosine.h

Update Motonori Shindo's email address at the author's request. Fixes bug 5840.

------------------------------------------------------------------------
r36696 | etxrab | 2011-04-18 07:38:18 -0700 (Mon, 18 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-rohc.c

Start merging from packet-pdcp-lte.c
------------------------------------------------------------------------
r36697 | stig | 2011-04-18 08:27:27 -0700 (Mon, 18 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rohc.c

Make it build.

------------------------------------------------------------------------
r36698 | stig | 2011-04-18 08:29:25 -0700 (Mon, 18 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-btamp.c
   M /trunk/epan/dissectors/packet-btobex.c
   M /trunk/epan/dissectors/packet-cisco-wids.c
   M /trunk/epan/dissectors/packet-dplay.c
   M /trunk/epan/dissectors/packet-dtls.c
   M /trunk/epan/dissectors/packet-isup.c
   M /trunk/epan/dissectors/packet-memcache.c
   M /trunk/epan/dissectors/packet-mgcp.c
   M /trunk/epan/dissectors/packet-nfs.c
   M /trunk/epan/dissectors/packet-rpc.c
   M /trunk/epan/dissectors/packet-scsi.c
   M /trunk/epan/dissectors/packet-smb-common.c
   M /trunk/epan/dissectors/packet-ssh.c
   M /trunk/epan/dissectors/packet-ucp.c
   M /trunk/epan/dissectors/packet-windows-common.c

Removed some unneeded assignments.

Found by clang.

------------------------------------------------------------------------
r36699 | alagoutte | 2011-04-18 10:35:25 -0700 (Mon, 18 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iax2.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36700 | alagoutte | 2011-04-18 10:38:08 -0700 (Mon, 18 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-http.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36701 | alagoutte | 2011-04-18 10:44:17 -0700 (Mon, 18 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-hip.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36702 | alagoutte | 2011-04-18 10:47:16 -0700 (Mon, 18 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h264.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36703 | alagoutte | 2011-04-18 10:48:23 -0700 (Mon, 18 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36704 | alagoutte | 2011-04-18 10:55:35 -0700 (Mon, 18 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ndps.c

Fix 100(!) Dead Store (Dead assignement/Dead increment) Warning found by Clang 


------------------------------------------------------------------------
r36705 | alagoutte | 2011-04-18 11:06:22 -0700 (Mon, 18 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gvcp.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang 


------------------------------------------------------------------------
r36707 | alagoutte | 2011-04-18 11:36:23 -0700 (Mon, 18 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ancp.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang 


------------------------------------------------------------------------
r36708 | alagoutte | 2011-04-18 11:36:44 -0700 (Mon, 18 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-amr.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang 


------------------------------------------------------------------------
r36709 | gerald | 2011-04-18 12:34:40 -0700 (Mon, 18 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bmc.c

We don't have any preferences, so remove the prefs.h include. It doesn't
look like we need a reg_handoff routine either so remove it as well.
Fixes Coverity CID 1189.

------------------------------------------------------------------------
r36710 | cmaynard | 2011-04-18 13:03:32 -0700 (Mon, 18 Apr 2011) | 3 lines
Changed paths:
   M /trunk/wiretap/k12.c

Wrap actual_len inside #ifdef DEBUG_K12 to avoid gcc 4.6.0 warning reported by
Kaul: http://www.wireshark.org/lists/wireshark-dev/201104/msg00170.html

------------------------------------------------------------------------
r36713 | stig | 2011-04-19 01:22:58 -0700 (Tue, 19 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-artnet.c
   M /trunk/epan/dissectors/packet-bthci_cmd.c
   M /trunk/epan/dissectors/packet-bthci_evt.c
   M /trunk/epan/dissectors/packet-cpfi.c
   M /trunk/epan/dissectors/packet-dcerpc-rs_misc.c
   M /trunk/epan/dissectors/packet-dhcpv6.c
   M /trunk/epan/dissectors/packet-dns.c
   M /trunk/epan/dissectors/packet-edonkey.c
   M /trunk/epan/dissectors/packet-fp_hint.c
   M /trunk/epan/dissectors/packet-gsm_a_rp.c
   M /trunk/epan/dissectors/packet-l2tp.c
   M /trunk/epan/dissectors/packet-ndmp.c
   M /trunk/epan/dissectors/packet-rtsp.c
   M /trunk/epan/dissectors/packet-scsi.c
   M /trunk/epan/dissectors/packet-snaeth.c
   M /trunk/epan/dissectors/packet-v52.c

From Michael Mann via bug 2794:
Fixed display filters with obvious typos.

------------------------------------------------------------------------
r36714 | tuexen | 2011-04-19 06:28:17 -0700 (Tue, 19 Apr 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/pcapng.c

Unbreak live capture using pcapng.

------------------------------------------------------------------------
r36715 | alagoutte | 2011-04-19 08:23:06 -0700 (Tue, 19 Apr 2011) | 10 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common

From Xiao Xiangquan via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5846
A new dissector for uTorrent Transport Protocol

From me :
* Add link to spec BEP-0029
* Add note about type/version 
* Rework extensions loop
* Use 2-space indenting


------------------------------------------------------------------------
r36716 | alagoutte | 2011-04-19 08:23:51 -0700 (Tue, 19 Apr 2011) | 10 lines
Changed paths:
   A /trunk/epan/dissectors/packet-bt-utp.c

From Xiao Xiangquan via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5846
A new dissector for uTorrent Transport Protocol

From me :
* Add link to spec BEP-0029
* Add note about type/version 
* Rework extensions loop
* Use 2-space indenting


------------------------------------------------------------------------
r36717 | wmeier | 2011-04-19 09:00:20 -0700 (Tue, 19 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bt-utp.c

Set svn:eol-style & svn:keywords properties

------------------------------------------------------------------------
r36718 | etxrab | 2011-04-19 09:02:07 -0700 (Tue, 19 Apr 2011) | 1 line
Changed paths:
   M /trunk/gtk/capture_dlg.c

Replace the capture filter deprecated gtk_combo_new() with gtk_combo_box_entry_new_text,
------------------------------------------------------------------------
r36719 | sfisher | 2011-04-19 09:24:29 -0700 (Tue, 19 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bt-utp.c


This file had an identical copy appended to the end of it.  Remove
duplicate.


------------------------------------------------------------------------
r36720 | wmeier | 2011-04-19 09:37:39 -0700 (Tue, 19 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bt-utp.c

Whitespace cleanup; Remove an uneeded col_clear().

------------------------------------------------------------------------
r36721 | wmeier | 2011-04-19 09:43:01 -0700 (Tue, 19 Apr 2011) | 2 lines
Changed paths:
   M /trunk/AUTHORS

Add Xiao Xiangquan to the AUTHORS file ....

------------------------------------------------------------------------
r36722 | gerald | 2011-04-19 12:20:03 -0700 (Tue, 19 Apr 2011) | 2 lines
Changed paths:
   M /trunk/config.nmake

Explicitly add /GS to CFLAGS and /SafeSEH & /FIXED:no to LDFLAGS.

------------------------------------------------------------------------
r36723 | sfisher | 2011-04-19 12:52:50 -0700 (Tue, 19 Apr 2011) | 5 lines
Changed paths:
   M /trunk/gtk/mtp3_stat.c


From Cecco via bug #5605: bug on gtk wireshark telephony->mtp3->msus
[doesn't show contents of window]


------------------------------------------------------------------------
r36724 | jmayer | 2011-04-19 14:15:58 -0700 (Tue, 19 Apr 2011) | 2 lines
Changed paths:
   M /trunk/plugins/profinet/packet-dcerpc-pn-io.c

CID 1162: Not really used variable 

------------------------------------------------------------------------
r36725 | jmayer | 2011-04-19 14:20:15 -0700 (Tue, 19 Apr 2011) | 2 lines
Changed paths:
   M /trunk/plugins/profinet/packet-pn.c

CID 1161: Not really used variable

------------------------------------------------------------------------
r36726 | sfisher | 2011-04-19 14:31:02 -0700 (Tue, 19 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bittorrent.c


From Georg Mueller via bug #5851: Add not handled IDs to BitTorrent
dissector


------------------------------------------------------------------------
r36727 | cmaynard | 2011-04-19 19:24:16 -0700 (Tue, 19 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

From Vladimir Kazansky via bug 5849: Fix msisdn_to_str() so it converts all BCD
digits and not just 1.

------------------------------------------------------------------------
r36728 | cmaynard | 2011-04-19 19:32:19 -0700 (Tue, 19 Apr 2011) | 2 lines
Changed paths:
   M /trunk/AUTHORS

Added Vladimir Kazansky for his contribution to bug 5849.

------------------------------------------------------------------------
r36729 | guy | 2011-04-19 20:22:19 -0700 (Tue, 19 Apr 2011) | 6 lines
Changed paths:
   M /trunk/acinclude.m4
   M /trunk/configure.in

First cut at support for clang.  We may want to have specific items for
"supports GCC-style -W flags", etc., and may want to improve the check
for "is this clang", as well as deciding what other stuff should be done
if we have clang as well.  clang should, I think, largely be
gcc-compatible at the command line.

------------------------------------------------------------------------
r36730 | cmaynard | 2011-04-19 22:21:32 -0700 (Tue, 19 Apr 2011) | 4 lines
Changed paths:
   M /trunk/config.nmake

Only add /SafeSEH to LDFLAGS if WIRESHARK_TARGET_PLATFORM != win64.  The 
Windows-7-x64 buildbot doesn't like it and reports the following:
LINK : fatal error LNK1246: '/SAFESEH' not compatible with 'x64' target machine; link without '/SAFESEH'

------------------------------------------------------------------------
r36731 | guy | 2011-04-20 01:37:45 -0700 (Wed, 20 Apr 2011) | 17 lines
Changed paths:
   M /trunk/acinclude.m4
   M /trunk/configure.in

Instead of having GCC and CLANG variables, just have
ac_supports_gcc_flags and ac_supports_W_linker_passthrough flags, the
first of which, for now, we set for GCC and clang, and the latter of
which we set for GCC, clang, and xlc (probably true for some other
compilers as well).

Rename AC_WIRESHARK_GCC_LDFLAGS_CHECK to AC_WIRESHARK_LDFLAGS_CHECK, as
it's not checking for anything GCC-specific.  (Leave
AC_WIRESHARK_GCC_CFLAGS_CHECK unrenamed for now, as the flags we test
with it are originally GCC flags that clang also supports for GCC
compatibility.)

Fix some string-equality tests to use = rather than ==; the former is
what the test/[ command uses.

Don't turn on "-no-cpp-precomp" for clang - it whines if you do.

------------------------------------------------------------------------
r36732 | guy | 2011-04-20 02:16:44 -0700 (Wed, 20 Apr 2011) | 4 lines
Changed paths:
   M /trunk/acinclude.m4

By default, clang only warns about unknown -W options, it doesn't
generate an error for them.  Force them to be treated as errors, so we
correctly test whether an option is supported.

------------------------------------------------------------------------
r36733 | guy | 2011-04-20 02:31:47 -0700 (Wed, 20 Apr 2011) | 2 lines
Changed paths:
   M /trunk/configure.in

Oh, dear, autoconf thinks clang is GCC, because it defines __GNUC__.

------------------------------------------------------------------------
r36734 | martinm | 2011-04-20 03:23:41 -0700 (Wed, 20 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mac-lte.c

Properly (re)initialise structs used for keeping track of UEs/TTI.

------------------------------------------------------------------------
r36735 | wmeier | 2011-04-20 09:35:42 -0700 (Wed, 20 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/packet.c

Fix a typo in a text string; use consistent indentation.

------------------------------------------------------------------------
r36736 | gerald | 2011-04-20 10:08:40 -0700 (Wed, 20 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.am
   M /trunk/epan/dissectors/Makefile.nmake

Add Makefile.common to the dependency list for register.c.

------------------------------------------------------------------------
r36737 | wmeier | 2011-04-20 10:25:07 -0700 (Wed, 20 Apr 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bt-utp.c

- New-style dissectors need to always return "bytes dissected" (not just when tree != NULL);
- The dissector probably shouldn't return a value for "bytes dissected" which is larger
   than the tvb length (altho there's actually no harm given the current implementation).
- Don't try to do an 'add_item' with an offset past the end of the tvb (altho again there's
   no actual harm in this case).

ToDo: Handle "original format" uTP headers.

------------------------------------------------------------------------
r36738 | guy | 2011-04-20 10:53:11 -0700 (Wed, 20 Apr 2011) | 3 lines
Changed paths:
   M /trunk/wiretap/erf.c

pntohll() takes a guint8 * as an argument; there's no need to cast to a
guint64 *, and it causes clang to complain.

------------------------------------------------------------------------
r36739 | guy | 2011-04-20 11:04:43 -0700 (Wed, 20 Apr 2011) | 5 lines
Changed paths:
   M /trunk/wiretap/file_access.c

Sigh.  The "data" element of a GArray is, alas, a "gchar *", not a "void
*", and some compilers complain when you cast that pointer to something
requiring stricter alignment.  Maybe the intent is to nudge you into
thinking about whether the pointer really is properly aligned, but....

------------------------------------------------------------------------
r36740 | cmaynard | 2011-04-20 13:12:40 -0700 (Wed, 20 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtp.c

Use [hi|lo]_nibble macros, leave room in str[] for invalid BCD digits to be
displayed as blanks.  Since imsi_to_str() and ip_to_str() do the same thing,
just have imsi_to_str() call ip_to_str() rather than having two different
implementations of the same thing.  Use a BCD2CHAR macro instead of doing a
table lookup.

------------------------------------------------------------------------
r36741 | etxrab | 2011-04-20 13:17:20 -0700 (Wed, 20 Apr 2011) | 1 line
Changed paths:
   M /trunk/gtk/capture_dlg.c

Replace the capture interface deprecated gtk_combo_new() with gtk_combo_box_entry_new_text.
------------------------------------------------------------------------
r36742 | wmeier | 2011-04-20 13:32:26 -0700 (Wed, 20 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bt-utp.c

Add code to dissect "original uTP header format"
 as described in the LibuTP utp.cpp source code;
Add a kludgy heuristic to differentiate between
 original and "V1" header formats.
 TBD: validity of the heuristic; is there a better way ?

------------------------------------------------------------------------
r36743 | martinm | 2011-04-20 14:25:38 -0700 (Wed, 20 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtcp.c

Simplify the test in a loop.

This was in response to a VS Code Analysis warning.  Not sure if it was confused by lack of parenthesis, or if it detected that we had an && where both sides would always have the same value, but it was confusing.

------------------------------------------------------------------------
r36744 | guy | 2011-04-20 14:36:23 -0700 (Wed, 20 Apr 2011) | 8 lines
Changed paths:
   M /trunk/wiretap/file_wrappers.c

Always check whether NEXT() failed - and rename it to GZ_GETC(), as it
has semantics similar to getc().

If it fails due to an EOF, set state->err to WTAP_ERR_SHORT_READ to
report a premature EOF; otherwise, raw_read() has already set
state->err, so don't set state->err to something else - that loses the
errno value in favor of a generic "bad data" error.

------------------------------------------------------------------------
r36745 | darkjames | 2011-04-20 22:31:11 -0700 (Wed, 20 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/emem.c

Fix ep_check_canary_integrity to use proper variable.

Previously it would sigsegv (accessing (void *) -1), instead of displaying error.


------------------------------------------------------------------------
r36746 | etxrab | 2011-04-20 23:05:55 -0700 (Wed, 20 Apr 2011) | 1 line
Changed paths:
   M /trunk/tools/checkAPIs.pl

"Upgrade" gtk_combo to 'E'.
------------------------------------------------------------------------
r36747 | etxrab | 2011-04-21 01:12:55 -0700 (Thu, 21 Apr 2011) | 6 lines
Changed paths:
   M /trunk/gtk/conversations_table.c

Add a cast as there seems to be a problem on some sytems
conversations_table.c: In function `ct_create_popup_menu':

conversations_table.c:1938: warning: passing arg 2 of `gtk_action_group_add_actions' discards qualifiers from pointer target type

make: *** [libui_a-conversations_table.o] Error 1
------------------------------------------------------------------------
r36748 | guy | 2011-04-21 02:41:52 -0700 (Thu, 21 Apr 2011) | 11 lines
Changed paths:
   M /trunk/capinfos.c
   M /trunk/capture_info.c
   M /trunk/file.c
   M /trunk/rawshark.c
   M /trunk/tshark.c
   M /trunk/wiretap/5views.c
   M /trunk/wiretap/airopeek9.c
   M /trunk/wiretap/ascendtext.c
   M /trunk/wiretap/ber.c
   M /trunk/wiretap/btsnoop.c
   M /trunk/wiretap/commview.c
   M /trunk/wiretap/cosine.c
   M /trunk/wiretap/csids.c
   M /trunk/wiretap/daintree-sna.c
   M /trunk/wiretap/dbs-etherwatch.c
   M /trunk/wiretap/dct3trace.c
   M /trunk/wiretap/erf.c
   M /trunk/wiretap/etherpeek.c
   M /trunk/wiretap/eyesdn.c
   M /trunk/wiretap/file_wrappers.c
   M /trunk/wiretap/file_wrappers.h
   M /trunk/wiretap/hcidump.c
   M /trunk/wiretap/i4btrace.c
   M /trunk/wiretap/ipfix.c
   M /trunk/wiretap/iptrace.c
   M /trunk/wiretap/iseries.c
   M /trunk/wiretap/jpeg_jfif.c
   M /trunk/wiretap/k12.c
   M /trunk/wiretap/lanalyzer.c
   M /trunk/wiretap/libpcap.c
   M /trunk/wiretap/mpeg.c
   M /trunk/wiretap/netmon.c
   M /trunk/wiretap/netscaler.c
   M /trunk/wiretap/netscreen.c
   M /trunk/wiretap/nettl.c
   M /trunk/wiretap/network_instruments.c
   M /trunk/wiretap/netxray.c
   M /trunk/wiretap/ngsniffer.c
   M /trunk/wiretap/packetlogger.c
   M /trunk/wiretap/pcap-common.c
   M /trunk/wiretap/pcapng.c
   M /trunk/wiretap/pppdump.c
   M /trunk/wiretap/radcom.c
   M /trunk/wiretap/snoop.c
   M /trunk/wiretap/tnef.c
   M /trunk/wiretap/toshiba.c
   M /trunk/wiretap/visual.c
   M /trunk/wiretap/vms.c
   M /trunk/wiretap/wtap-int.h
   M /trunk/wiretap/wtap.c
   M /trunk/wiretap/wtap.h

Add a new WTAP_ERR_DECOMPRESS error, and use that for errors discovered
by the gunzipping code.  Have it also supply a err_info string, and
report it.  Have file_error() supply an err_info string.

Put "the file" - or, for WTAP_ERR_DECOMPRESS, "the compressed file", to
suggest a decompression error - into the rawshark and tshark errors,
along the lines of what other programs print.

Fix a case in the Netscaler code where we weren't fetching the error
code on a read failure.

------------------------------------------------------------------------
r36749 | darkjames | 2011-04-21 02:50:12 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/rawshark.c

Add missing code to handle fields with an extended value_string (BASE_EXT_STRING)

------------------------------------------------------------------------
r36750 | etxrab | 2011-04-21 05:04:02 -0700 (Thu, 21 Apr 2011) | 1 line
Changed paths:
   M /trunk/gtk/conversations_table.c

Revert the previous commit, I was confused :-)
------------------------------------------------------------------------
r36751 | stig | 2011-04-21 06:13:39 -0700 (Thu, 21 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/wslua/init_wslua.c
   M /trunk/epan/wslua/make-reg.pl
   M /trunk/epan/wslua/make-taps.pl
   M /trunk/epan/wslua/wslua.h
   M /trunk/epan/wslua/wslua_dumper.c
   M /trunk/epan/wslua/wslua_field.c
   M /trunk/epan/wslua/wslua_gui.c
   M /trunk/epan/wslua/wslua_listener.c
   M /trunk/epan/wslua/wslua_pinfo.c
   M /trunk/epan/wslua/wslua_proto.c
   M /trunk/epan/wslua/wslua_tree.c
   M /trunk/epan/wslua/wslua_tvb.c
   M /trunk/epan/wslua/wslua_util.c

Include config.h only from .c files.

This avoids a warning building epan.c which includes both config.h and wslua.h
(duplicate defines from config.h)

------------------------------------------------------------------------
r36752 | alagoutte | 2011-04-21 06:31:04 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-agentx.c

Fix Dead Store (Dead nested assignment) Warning found by Clang 

------------------------------------------------------------------------
r36753 | alagoutte | 2011-04-21 06:31:42 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-assa_r3.c

Fix Dead Store (Dead nested assignment) Warning found by Clang 

------------------------------------------------------------------------
r36754 | alagoutte | 2011-04-21 06:32:11 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/plugins/profinet/packet-dcerpc-pn-io.c

Fix Dead Store (Dead nested assignment) Warning found by Clang 

------------------------------------------------------------------------
r36755 | alagoutte | 2011-04-21 06:32:34 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-l2tp.c

Fix Dead Store (Dead nested assignment) Warning found by Clang 

------------------------------------------------------------------------
r36756 | alagoutte | 2011-04-21 06:33:04 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/plugins/mate/mate_runtime.c

Fix Dead Store (Dead nested assignment) Warning found by Clang 

------------------------------------------------------------------------
r36757 | alagoutte | 2011-04-21 06:33:23 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mtp3.c

Fix Dead Store (Dead nested assignment) Warning found by Clang 

------------------------------------------------------------------------
r36758 | alagoutte | 2011-04-21 06:33:43 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ppi-gps.c

Fix Dead Store (Dead nested assignment) Warning found by Clang 

------------------------------------------------------------------------
r36759 | alagoutte | 2011-04-21 06:33:59 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smtp.c

Fix Dead Store (Dead nested assignment) Warning found by Clang 

------------------------------------------------------------------------
r36760 | alagoutte | 2011-04-21 06:34:22 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

Fix Dead Store (Dead nested assignment) Warning found by Clang 

------------------------------------------------------------------------
r36761 | alagoutte | 2011-04-21 06:34:43 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

Fix Dead Store (Dead nested assignment) Warning found by Clang 

------------------------------------------------------------------------
r36762 | alagoutte | 2011-04-21 06:35:09 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-xml.c

Fix Dead Store (Dead nested assignment) Warning found by Clang 

------------------------------------------------------------------------
r36763 | alagoutte | 2011-04-21 06:42:15 -0700 (Thu, 21 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smtp.c

Remove is_continuation_line variable (Unused for 3 years with add SMTP Command Pipelining (RFC2920) Rev24989)

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang 



------------------------------------------------------------------------
r36764 | alagoutte | 2011-04-21 06:43:23 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-assa_r3.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36765 | alagoutte | 2011-04-21 06:45:14 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36766 | alagoutte | 2011-04-21 06:45:37 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-xml.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36767 | etxrab | 2011-04-21 06:56:06 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/tempfile.c

Include time.h as compilation might fail with old gilb (2.4)
Thanks Jeff.
------------------------------------------------------------------------
r36768 | alagoutte | 2011-04-21 07:32:39 -0700 (Thu, 21 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-l2tp.c

Oups
Wrong fix in Rev36755 (Miss +2)

------------------------------------------------------------------------
r36769 | alagoutte | 2011-04-21 08:56:43 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-agentx.c
   M /trunk/epan/dissectors/packet-l2tp.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36770 | alagoutte | 2011-04-21 08:59:58 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-l2tp.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36771 | alagoutte | 2011-04-21 09:00:38 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/asn1/snmp/packet-snmp-template.c
   M /trunk/epan/dissectors/packet-snmp.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36772 | alagoutte | 2011-04-21 09:01:03 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/plugins/profinet/packet-dcerpc-pn-io.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36773 | alagoutte | 2011-04-21 09:01:26 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mtp3.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36774 | guy | 2011-04-21 10:51:19 -0700 (Thu, 21 Apr 2011) | 8 lines
Changed paths:
   M /trunk/wiretap/file_wrappers.c
   M /trunk/wiretap/wtap.c
   M /trunk/wiretap/wtap.h

In file_wrappers.c, explicitly set err_info to null for all errors that
don't have an "additional information" string.

Get rid of WTAP_ERR_ZLIB; just report an internal error with
WTAP_ERR_INTERNAL instead.  (If they start happening, we can think about
supplying an "additional information" string for compression errors on
output.)

------------------------------------------------------------------------
r36775 | morriss | 2011-04-21 11:09:13 -0700 (Thu, 21 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gtpv2.c

Avoid passing a NULL string pointer to format routines: some libc's (e.g.,
Solaris') will core on that.

Also clean up indentation and white space.

------------------------------------------------------------------------
r36776 | guy | 2011-04-21 11:33:20 -0700 (Thu, 21 Apr 2011) | 9 lines
Changed paths:
   M /trunk/wiretap/file_access.c
   M /trunk/wiretap/network_instruments.c

In a dump_open routine, you don't need to seek to the beginning of the
file before doing any writes - it starts out at the beginning of the
file.  This means that you *can* write a Network Instruments capture
file to a pipe, or write it out in compressed form, now that its
dump_open routine no longer seeks.

NetXRay format and K12 binary format, however, *do* require a seek when
writing them.

------------------------------------------------------------------------
r36777 | morriss | 2011-04-21 12:51:05 -0700 (Thu, 21 Apr 2011) | 4 lines
Changed paths:
   M /trunk/asn1/ldap/packet-ldap-template.c
   M /trunk/epan/dissectors/packet-ldap.c

From Stefan Metzmacher and Gregor Beck via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5850 :

The smallest LDAP PDU is 7 bytes, not 4.

------------------------------------------------------------------------
r36778 | stig | 2011-04-21 13:44:56 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/gtk/export_object_smb.c

Removed some unneeded assignments.

------------------------------------------------------------------------
r36779 | stig | 2011-04-21 13:56:01 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/gtk/hostlist_table.c

Removed some unneeded variables with initialization.

------------------------------------------------------------------------
r36780 | wmeier | 2011-04-21 14:50:35 -0700 (Thu, 21 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c

Remove some uneeded #includes;
Minor indentation & whitespace cleanup.

------------------------------------------------------------------------
r36781 | wmeier | 2011-04-21 15:13:56 -0700 (Thu, 21 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cops.c

Remove some unneeded #includes;
Correct some typos;
Use consistent indentation & do some whitespace cleanup.

------------------------------------------------------------------------
r36782 | wmeier | 2011-04-21 15:26:27 -0700 (Thu, 21 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-miop.c

Remove unneeded #include <ctype.h> and "isprint.h";
Do minor whitespace cleanup.

------------------------------------------------------------------------
r36783 | wmeier | 2011-04-21 15:31:45 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-miop.c

#include <errno.h> & #include <math.h> not req'd;

------------------------------------------------------------------------
r36784 | morriss | 2011-04-21 15:38:41 -0700 (Thu, 21 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-collectd.c

Avoid passing a NULL string pointer to format routines: some libc's (e.g.,
Solaris') will seg-fault on that.

------------------------------------------------------------------------
r36785 | wmeier | 2011-04-21 15:42:32 -0700 (Thu, 21 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb.c

Add #include <ctype.h> before #include "isprint.h";
Remove an unneeded line of code;
Do some indentation & whitespace cleanup.

------------------------------------------------------------------------
r36786 | wmeier | 2011-04-21 15:49:36 -0700 (Thu, 21 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ziop.c

Remove unneeded #include <errno>,<math>,<ctype> & "isprint";
Do minoir whitespace & indentation cleanup.

------------------------------------------------------------------------
r36787 | guy | 2011-04-21 20:10:22 -0700 (Thu, 21 Apr 2011) | 13 lines
Changed paths:
   M /trunk/wiretap/netscaler.c

Make all the fields in the various structures just arrays of bytes, so
we can cast not-necessarily-aligned pointers to pointers to those
structures without risk of compiler warnings *or* the underlying problem
the compiler's trying to warn us about (no, you can't always dereference
an unaligned pointer - SPARC traps, and at least some ARM processors may
do something other than what you want, for example).

This also caught some cases where we were not even properly
byte-swapping on big-endian platforms.

This also lets us not muck around with splitting 64-bit times into two
32-bit fields - we have pletohll(), after all.

------------------------------------------------------------------------
r36788 | guy | 2011-04-21 20:11:14 -0700 (Thu, 21 Apr 2011) | 3 lines
Changed paths:
   M /trunk/wiretap/pcapng.c

Cast away warnings about "struct sockaddr" -> "struct sockaddr_XXX"
casts that are actually safe.

------------------------------------------------------------------------
r36789 | guy | 2011-04-21 20:12:18 -0700 (Thu, 21 Apr 2011) | 5 lines
Changed paths:
   M /trunk/wiretap/pcap-common.c

Cast away alignment warnings about pointers where we never actually
directly dereference pointers to the field members.

Get rid of an unnecessary cast that provokes warnings.

------------------------------------------------------------------------
r36790 | guy | 2011-04-21 20:25:48 -0700 (Thu, 21 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-btsdp.c

"guint8 *" means "pointer to array of bytes that may or may not be
properly aligned"; "void *", at least when it's the return value of
ep_malloc(), means "pointer to properly-aligned chunk of memory".  Use
"void *" in get_sdp_data_element() and its callers in that case, to
squelch compiler warnings.

------------------------------------------------------------------------
r36791 | guy | 2011-04-21 20:27:40 -0700 (Thu, 21 Apr 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/pcap-common.c

*Properly* get rid of bogus cast.

------------------------------------------------------------------------
r36792 | guy | 2011-04-21 20:31:06 -0700 (Thu, 21 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-etch.c

Cast away bogus warnings.  (I begin to see why C++ has templates here,
complicated though they might be for both users and implementors....)

------------------------------------------------------------------------
r36793 | guy | 2011-04-21 20:34:39 -0700 (Thu, 21 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee802154.c

Stuff that comes back from ep_alloc() is properly aligned for all uses;
that's why it returns "void *", not "guint8 *".  Don't pointer-convert
that information away; otherwise, compilers might whine at you about
unsafe casts.

------------------------------------------------------------------------
r36794 | guy | 2011-04-21 20:53:01 -0700 (Thu, 21 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-infiniband.c

ep_alloc() returns a properly-aligned value for all uses; that's why it
returns void * rather than guint8 *.  Don't pointer-convert that
information away; otherwise, compilers might whine about safe pointer
casts.

------------------------------------------------------------------------
r36795 | guy | 2011-04-21 21:01:30 -0700 (Thu, 21 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/emem.c

Either the buf argument to emem_scrub_memory() is properly aligned or it
isn't.  If it is, we don't need to worry about alignment, so the XXX
comment doesn't belong there; if it isn't, then we should do what the
comment says.  For now, assume the comment before the XXX comment is
correct, and just cast away the alignment warning.

------------------------------------------------------------------------
r36796 | guy | 2011-04-21 21:04:20 -0700 (Thu, 21 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/in_cksum.c

We deal with pointer alignment ourselves, so we ensure the casts are
safe.  Tell the compiler so.

------------------------------------------------------------------------
r36797 | darkjames | 2011-04-22 00:15:45 -0700 (Fri, 22 Apr 2011) | 3 lines
Changed paths:
   M /trunk/dumpcap.c
   M /trunk/gtk/hostlist_table.c

Add return instructions for system without support for G_GNUC_NORETURN (e.g. some older gcc compilers).
Reported by Anders Broman on -dev list.

------------------------------------------------------------------------
r36798 | darkjames | 2011-04-22 00:36:37 -0700 (Fri, 22 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-json.c

Remove invalid svn:executable property

------------------------------------------------------------------------
r36799 | guy | 2011-04-22 00:58:19 -0700 (Fri, 22 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/slab.h

Add some casts to squelch complaints about alignment; our little slab
allocator should return properly-aligned items.

------------------------------------------------------------------------
r36800 | darkjames | 2011-04-22 05:25:01 -0700 (Fri, 22 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/emem.c

Cleanup emem_verify_pointer()

------------------------------------------------------------------------
r36801 | alagoutte | 2011-04-22 06:07:11 -0700 (Fri, 22 Apr 2011) | 3 lines
Changed paths:
   M /trunk/plugins/profinet/packet-dcerpc-pn-io.c

From http://www.wireshark.org/lists/wireshark-dev/201104/msg00231.html
Always use the returned tree value of proto_tree_add_subtree (and not the item!)

------------------------------------------------------------------------
r36802 | alagoutte | 2011-04-22 06:11:52 -0700 (Fri, 22 Apr 2011) | 2 lines
Changed paths:
   M /trunk/plugins/mate/packet-mate.c

Fix (latest) Dead Store (Dead nested assignment) Warning found by Clang

------------------------------------------------------------------------
r36803 | alagoutte | 2011-04-22 06:16:45 -0700 (Fri, 22 Apr 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bt-utp.c

Enhance BT-UTP dissector:
* Add type (syn, data, reset...) in column info
* Split dissect_utp_header(...) function to 
	* dissect_utp_header_v0(...)
	* dissect_utp_header_v1(...)
	* dissect_utp_extensions(...)

------------------------------------------------------------------------
r36804 | morriss | 2011-04-22 07:13:20 -0700 (Fri, 22 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-cmpp.c

Use the return value of proto_item_add_subtree()
------------------------------------------------------------------------
r36805 | morriss | 2011-04-22 07:17:34 -0700 (Fri, 22 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-megaco.c

Don't create a subtree that is not used.
------------------------------------------------------------------------
r36806 | morriss | 2011-04-22 07:29:00 -0700 (Fri, 22 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smpp.c

Don't assume that a proto_item is equivalent to a proto_tree.
Use the return value from proto_item_add_subtree().

------------------------------------------------------------------------
r36807 | morriss | 2011-04-22 07:30:19 -0700 (Fri, 22 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-ucp.c

Use the return value of proto_item_add_subtree()
------------------------------------------------------------------------
r36808 | morriss | 2011-04-22 07:32:35 -0700 (Fri, 22 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-vnc.c

Don't create a subtree that is not used.
------------------------------------------------------------------------
r36809 | morriss | 2011-04-22 07:33:58 -0700 (Fri, 22 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wtp.c

Don't assume that a proto_item is equivalent to a proto_tree.
Use the return value from proto_item_add_subtree().

------------------------------------------------------------------------
r36810 | morriss | 2011-04-22 07:41:26 -0700 (Fri, 22 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-zrtp.c

Don't create subtrees that are not used (and don't create subtrees which might
have--if the original code was different--contained only one sub-item).
Remove some no-longer-used ett variables.

------------------------------------------------------------------------
r36811 | morriss | 2011-04-22 07:48:10 -0700 (Fri, 22 Apr 2011) | 1 line
Changed paths:
   M /trunk/plugins/ethercat/packet-ecatmb.c

Use the return value of proto_item_add_subtree(): put the filter masks in their own subtree (as it appears was intended).
------------------------------------------------------------------------
r36812 | morriss | 2011-04-22 08:15:10 -0700 (Fri, 22 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/proto.h

If we're using GNUC, use attribute warn_unused_result to verify that the
return value of proto_item_add_subtree() is used.

(The WARN_IF_UNUSED macro doesn't belong here...  But where should it go?)

------------------------------------------------------------------------
r36813 | sfisher | 2011-04-22 08:53:34 -0700 (Fri, 22 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_637.c
   M /trunk/epan/dissectors/packet-ansi_683.c
   M /trunk/epan/dissectors/packet-ansi_a.c


Use _U_ for unused function parameters instead of assigning a variable
to itself.  Found by clang compiler.


------------------------------------------------------------------------
r36814 | sfisher | 2011-04-22 09:27:01 -0700 (Fri, 22 Apr 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-assa_r3.c


Found by clang 3.0 (built from trunk): various implicit conversion from
enumeration type 'xxx' to different enumeration type 'xxx'

Fix: Create different structs based on the enum type contained within.


------------------------------------------------------------------------
r36815 | sfisher | 2011-04-22 09:31:32 -0700 (Fri, 22 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c


Remove enum cast that doesn't do anything and causes a warning about
converting between enum types in clang 3.0 (trunk).


------------------------------------------------------------------------
r36816 | guy | 2011-04-22 10:05:28 -0700 (Fri, 22 Apr 2011) | 3 lines
Changed paths:
   M /trunk/plugins/asn1/packet-asn1.c

Assume the tags are mallocated, so they're properly aligned.  Cast away
the warnings.

------------------------------------------------------------------------
r36817 | sfisher | 2011-04-22 10:08:59 -0700 (Fri, 22 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/proto.h


Fix whitespace a bit and add field names from doc/README.developer to
comments such as FIELDNAME, FIELDABBREV, etc.


------------------------------------------------------------------------
r36818 | sfisher | 2011-04-22 10:25:25 -0700 (Fri, 22 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-diameter.c


Change enum type in struct to an int to allow different enum types to
be used for the field display type in the struct.


------------------------------------------------------------------------
r36819 | sfisher | 2011-04-22 10:30:06 -0700 (Fri, 22 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h223.c


Use _U_ for unused function parameters instead of assigning the
variable to itself.  Found by clang 3.0 (trunk) compiler.


------------------------------------------------------------------------
r36820 | sfisher | 2011-04-22 10:31:57 -0700 (Fri, 22 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h248_3gpp.c
   M /trunk/epan/dissectors/packet-h248_q1950.c


Fix a few "equality comparison with extraneous parentheses" warnings
found by clang 3.0 (trunk 129935) compiler.


------------------------------------------------------------------------
r36821 | sfisher | 2011-04-22 10:33:53 -0700 (Fri, 22 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iax2.c


Use _U_ for unused function parameters instead of assigning the variable
to itself.  Found by clang 3.0 (trunk 129935) compiler.


------------------------------------------------------------------------
r36822 | sfisher | 2011-04-22 10:36:16 -0700 (Fri, 22 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-isup.c


Fix a "equality comparison with extraneous parentheses" warning found
by clang 3.0 (trunk 129935) compiler.


------------------------------------------------------------------------
r36823 | sfisher | 2011-04-22 10:42:40 -0700 (Fri, 22 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-pw-fr.c


Fix a "equality comparison with extraneous parentheses" warning found
by clang 3.0 (trunk 129935) compiler.


------------------------------------------------------------------------
r36824 | sfisher | 2011-04-22 10:51:48 -0700 (Fri, 22 Apr 2011) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtsp.c


Fix warning about using wrong enum that is probably causing an actual
bug: whenever call_state is assigned to VOIP_CALL_SETUP in other parts
of Wireshark code (such as gtk/voip_calls.c), then call_active_state
is set to VOIP_ACTIVE.  Do that here too.  It was set to VOIP_NO_STATE
(from the wrong enum), which would have likely resulted in the wrong
value being assigned.


------------------------------------------------------------------------
r36825 | morriss | 2011-04-22 10:57:10 -0700 (Fri, 22 Apr 2011) | 8 lines
Changed paths:
   M /trunk/epan/emem.h
   A /trunk/epan/g_gnuc.h (from /trunk/epan/g_gnuc_malloc.h:36803)
   D /trunk/epan/g_gnuc_malloc.h
   M /trunk/epan/proto.h

As suggested by Jakub Zawadzki:

Rename g_gnuc_malloc.h to g_gnuc.h (since it contains non-malloc related
GNUC stuff).

Use G_GNUC_WARN_UNUSED_RESULT from glib instead of using warn_unused_result
directly.

------------------------------------------------------------------------
r36826 | sfisher | 2011-04-22 11:04:26 -0700 (Fri, 22 Apr 2011) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sbus.c
   M /trunk/epan/dissectors/packet-srvloc.c
   M /trunk/epan/dissectors/packet-tcp.c
   M /trunk/epan/dissectors/packet-xml.c


Fix various warnings found by clang 3.0 (trunk 129935) complier:

- Extraneous parentheses

- Use _U_ for unused function parameters instead of assigning the variable
  to itself 


------------------------------------------------------------------------
r36827 | morriss | 2011-04-22 11:32:56 -0700 (Fri, 22 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rpc.c

Avoid passing a NULL string pointer to format routines: some libc's (e.g.,
Solaris') will seg-fault on that.

------------------------------------------------------------------------
r36828 | sfisher | 2011-04-22 12:31:09 -0700 (Fri, 22 Apr 2011) | 4 lines
Changed paths:
   M /trunk/configure.in


Don't pass -fexcess-precision=fast to clang like we do for gcc.


------------------------------------------------------------------------
r36829 | darkjames | 2011-04-23 02:13:16 -0700 (Sat, 23 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-frame.c

Use orginal nsstime_t structures (without copying).

------------------------------------------------------------------------
r36830 | stig | 2011-04-23 02:47:28 -0700 (Sat, 23 Apr 2011) | 2 lines
Changed paths:
   M /trunk/gtk/main.c

Check if changing to another profile in change_configuration_profile()

------------------------------------------------------------------------
r36831 | morriss | 2011-04-23 04:10:47 -0700 (Sat, 23 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/Makefile.common

Rename g_gnuc_malloc.h to g_gnuc.h
------------------------------------------------------------------------
r36832 | guy | 2011-04-23 10:56:43 -0700 (Sat, 23 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/dfilter/scanner.l

Try putting the include of config.h at the top of the generated scanner,
so that the config.h definitions are available before we include
anything else; that way, for example, anything defined to enable
large-file support will be defined before we include any system header
files that might depend on it.

------------------------------------------------------------------------
r36833 | guy | 2011-04-23 12:03:05 -0700 (Sat, 23 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dfilter/scanner.l

Back out previous change - I guess the Solaris buildbot has a pre-2.5.30
flex.

------------------------------------------------------------------------
r36834 | gerald | 2011-04-24 08:03:44 -0700 (Sun, 24 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf

[Automatic manuf, services and enterprise-numbers update for 2011-04-24]
------------------------------------------------------------------------
r36837 | guy | 2011-04-24 12:38:12 -0700 (Sun, 24 Apr 2011) | 4 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

gtk_combo_box_new_text() returns a GtkComboBox, and you connect a
function directly to its "changed" signal; GtkComboBox is a subclass of
GtkBin, but you don't connect to its child.

------------------------------------------------------------------------
r36838 | guy | 2011-04-24 12:41:28 -0700 (Sun, 24 Apr 2011) | 2 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

Make the interface combo box an entry, so you can type in it again.

------------------------------------------------------------------------
r36839 | guy | 2011-04-24 14:02:55 -0700 (Sun, 24 Apr 2011) | 15 lines
Changed paths:
   M /trunk/file.c
   M /trunk/gtk/new_packet_list.c
   M /trunk/ui_util.h

new_packet_list_find_row_from_data() is always used to select a packet,
so get rid of the select_flag argument, and rename it
new_packet_list_select_row_from_data().

It's also always passed a frame_data *, so make its argument a
frame_data *.

Its return value is used only to detect whether the packet was found in
the display or not, so make it a gboolean.  Check it in *all* cases
where it's called, and change the dialog message a bit (the most likely
cause is that the user cancelled a redissection of the packets, so not
all packets in the capture file are in the display.

Also, in the find case, pass it the new packet we found.

------------------------------------------------------------------------
r36840 | jmayer | 2011-04-24 14:10:45 -0700 (Sun, 24 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/uat_load.l

Fix CID 813: Code after ERROR is dead code (never reached)
------------------------------------------------------------------------
r36841 | darkjames | 2011-04-24 14:19:41 -0700 (Sun, 24 Apr 2011) | 2 lines
Changed paths:
   M /trunk/gtk/menus.c
   M /trunk/gtk/new_packet_list.c
   M /trunk/gtk/packet_win.c
   M /trunk/gtk/packet_win.h

Initial support for editing packets inside wireshark.

------------------------------------------------------------------------
r36842 | darkjames | 2011-04-24 14:57:12 -0700 (Sun, 24 Apr 2011) | 2 lines
Changed paths:
   M /trunk/gtk/packet_win.c

Allocate space for epan_dissect_t inside struct.

------------------------------------------------------------------------
r36843 | darkjames | 2011-04-24 15:52:49 -0700 (Sun, 24 Apr 2011) | 5 lines
Changed paths:
   M /trunk/gtk/packet_win.c

Packet editing:
- Show next editing bit (for hex it'd require patching packet_hex_apply_reverse_tag)
- Remove memset()s
- Try to fix compilation for win64.

------------------------------------------------------------------------
r36844 | morriss | 2011-04-24 18:37:19 -0700 (Sun, 24 Apr 2011) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-enip.c

From Joakim Wiberg via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5801 :

The attached patch replaces most of the proto_tree_add_text() with
proto_tree_add_item(). That resulted in several new display filters.

It also uses the correct defines (ENC_NA, ENC_BIG_ENDIAN and ENC_LITTLE_ENDIAN)
instead of TRUE/FALSE in all proto_tree_add_item() calls.

Also it prints all out all connected transport data, since this is used by 
"IENetP Test Tool" as a part of the XML export.

------------------------------------------------------------------------
r36845 | morriss | 2011-04-24 19:06:17 -0700 (Sun, 24 Apr 2011) | 15 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/docbook/release-notes.xml
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-lisp.c

From Loránd Jakab via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5854 :

The Locator/ID Separation Protocol [1] is being standardized within the IETF,
and it is nearing RFC status (pending security review). I have been maintaining
a dissector patch for about a year, see [2]. Feedback received indicates that,
among others, it is widely used by the developers of a large router vendor,
without issues.

In January I submitted the dissector for data plane packets as bug #5602, which
was committed as r35615. The patch attached to this bug adds support for
dissection of control plane packets.

[1] http://tools.ietf.org/html/draft-ietf-lisp
[2] http://lisp.ccaba.upc.edu/wireshark/

------------------------------------------------------------------------
r36846 | guy | 2011-04-24 22:33:07 -0700 (Sun, 24 Apr 2011) | 8 lines
Changed paths:
   M /trunk/cfile.c
   M /trunk/cfile.h
   M /trunk/file.c
   M /trunk/gtk/new_packet_list.c
   M /trunk/summary.c

Make the packet count an unsigned value, as frame numbers are unsigned.

Make the loops that scan through all the packets do so by frame number,
to abstract away the "next" and "previous" pointers in the frame_data
structure.  Add a routine to cfile.c to map frame numbers to frame_data
structures, and put in some special case handling so scanning forward or
backward through the packets is O(N) rather than O(N^2).

------------------------------------------------------------------------
r36847 | sfisher | 2011-04-25 09:19:07 -0700 (Mon, 25 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/oids.c


Fix clang error ("increases requird alignment from 1 to 8") by removing
unnecessary VALS() cast


------------------------------------------------------------------------
r36848 | sfisher | 2011-04-25 09:29:16 -0700 (Mon, 25 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/oids.c


Cast away some clang errors about cast alignments that appear safe. 


------------------------------------------------------------------------
r36849 | guy | 2011-04-25 12:01:05 -0700 (Mon, 25 Apr 2011) | 39 lines
Changed paths:
   M /trunk/cfile.c
   M /trunk/cfile.h
   M /trunk/epan/dissectors/packet-tcp.c
   M /trunk/epan/frame_data.c
   M /trunk/epan/frame_data.h
   M /trunk/file.c
   M /trunk/gtk/new_packet_list.c
   M /trunk/packet-range.c
   M /trunk/proto_hier_stats.c
   M /trunk/summary.c
   M /trunk/tshark.c

Store the frame_data structures in a tree, rather than a linked list. 
This lets us get rid of the per-frame_data-structure prev and next
pointers, saving memory (at least according to Activity Monitor's report
of the virtual address space size on my Snow Leopard machine, it's a
noticeable saving), and lets us look up frame_data structures by frame
number in O(log2(number of frames)) time rather than O(number of frames)
time.  It seems to take more CPU time when reading in the file, but
seems to go from "finished reading in all the packets" to "displaying
the packets" faster and seems to free up the frame_data structures
faster when closing the file.

It *is* doing more copying, currently, as we now don't allocate the
frame_data structure until after the packet has passed the read filter,
so that might account for the additional CPU time.

(Oh, and, for what it's worth, on an LP64 platform, a frame_data
structure is exactly 128 bytes long.  However, there's more stuff to
remove, so the power-of-2 size is not guaranteed to remain, and it's not
a power-of-2 size on an ILP32 platform.)

It also means we don't need GLib 2.10 or later for the two-pass mode in
TShark.

It also means some code in the TCP dissector that was checking
pinfo->fd->next to see if it's NULL, in order to see if this is the last
packet in the file, no longer works, but that wasn't guaranteed to work
anyway:

	we might be doing a one-pass read through the capture in TShark;

	we might be dissecting the frame while we're reading in the
	packets for the first time in Wireshark;

	we might be doing a live capture in Wireshark;

in which case packets might be prematurely considered "the last packet".
#if 0 the no-longer-working tests, pending figuring out a better way of
doing it.

------------------------------------------------------------------------
r36850 | darkjames | 2011-04-25 12:28:00 -0700 (Mon, 25 Apr 2011) | 4 lines
Changed paths:
   M /trunk/gtk/packet_win.c

- Experimental support to edit single field_info.

Note: For now only integers (without bitmask), I'm afraid other fields require more work.

------------------------------------------------------------------------
r36851 | etxrab | 2011-04-25 12:36:13 -0700 (Mon, 25 Apr 2011) | 2 lines
Changed paths:
   M /trunk/file.c

from Jakub Zawadzki:
Don't thaw the packet list during file loading to speed up file loading.
------------------------------------------------------------------------
r36852 | darkjames | 2011-04-25 12:57:45 -0700 (Mon, 25 Apr 2011) | 3 lines
Changed paths:
   M /trunk/gtk/packet_win.c

Fix compilation warning:
	packet_win.c:230: warning: 'u_val' may be used uninitialized in this function

------------------------------------------------------------------------
r36853 | guy | 2011-04-25 14:07:01 -0700 (Mon, 25 Apr 2011) | 3 lines
Changed paths:
   M /trunk/gtk/drag_and_drop.c

Get rid of some extra parentheses that cause clang to warn that you
might have meant to do an assignment rather than a comparison.

------------------------------------------------------------------------
r36854 | guy | 2011-04-25 14:19:22 -0700 (Mon, 25 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/radius_dict.l

More fun with GArrays: cast away some warnings that don't report real
alignment problems and that wouldn't even happen if the "data" member of
a GArray were a "void *".

Clean up indentation.

------------------------------------------------------------------------
r36855 | guy | 2011-04-25 14:19:54 -0700 (Mon, 25 Apr 2011) | 4 lines
Changed paths:
   M /trunk/plugins/mate/packet-mate.c

More fun with GArrays: cast away some warnings that don't report real
alignment problems and that wouldn't even happen if the "data" member of
a GArray were a "void *".

------------------------------------------------------------------------
r36856 | guy | 2011-04-25 14:20:47 -0700 (Mon, 25 Apr 2011) | 7 lines
Changed paths:
   M /trunk/plugins/wimaxasncp/packet-wimaxasncp.c

Get rid of some unnecessary casts that just provoke uninteresting
warnings.

More fun with GArrays: cast away some warnings that don't report real
alignment problems and that wouldn't even happen if the "data" member of
a GArray were a "void *".

------------------------------------------------------------------------
r36857 | darkjames | 2011-04-25 14:26:52 -0700 (Mon, 25 Apr 2011) | 2 lines
Changed paths:
   M /trunk/gtk/packet_win.c

Make checkapi happy

------------------------------------------------------------------------
r36858 | sfisher | 2011-04-25 15:55:31 -0700 (Mon, 25 Apr 2011) | 4 lines
Changed paths:
   M /trunk/gtk/voip_calls.c


Take out extra pair of parenthesis 


------------------------------------------------------------------------
r36859 | cmaynard | 2011-04-25 17:41:08 -0700 (Mon, 25 Apr 2011) | 2 lines
Changed paths:
   M /trunk/gtk/sctp_graph_dlg.c

Plug a memory leak.

------------------------------------------------------------------------
r36860 | cmaynard | 2011-04-25 18:06:25 -0700 (Mon, 25 Apr 2011) | 2 lines
Changed paths:
   M /trunk/plugins/wimaxasncp/packet-wimaxasncp.c

Remove const qualifier to name, abbrev and blurb to pacify the buildbots.

------------------------------------------------------------------------
r36861 | guy | 2011-04-25 19:47:52 -0700 (Mon, 25 Apr 2011) | 3 lines
Changed paths:
   M /trunk/capture-pcap-util.c

Cast away warnings about "struct sockaddr" -> "struct sockaddr_XXX"
casts that are actually safe.

------------------------------------------------------------------------
r36862 | guy | 2011-04-25 19:51:10 -0700 (Mon, 25 Apr 2011) | 3 lines
Changed paths:
   M /trunk/file.c

Get rid of some code that's no longer relevant with the new tree
structure for frame_data items.

------------------------------------------------------------------------
r36863 | guy | 2011-04-25 19:53:58 -0700 (Mon, 25 Apr 2011) | 4 lines
Changed paths:
   M /trunk/color_filters.c

Get rid of a cast that was causing alignment warnings and that was bogus
anyway (the second argument to g_slist_find_custom is a gconstpointer,
not a gpointer * or a gconstpointer *).

------------------------------------------------------------------------
r36864 | guy | 2011-04-25 19:55:59 -0700 (Mon, 25 Apr 2011) | 3 lines
Changed paths:
   M /trunk/tap-hosts.c

Cast away warnings about "struct sockaddr" -> "struct sockaddr_XXX"
casts that are actually safe.

------------------------------------------------------------------------
r36865 | darkjames | 2011-04-26 00:12:42 -0700 (Tue, 26 Apr 2011) | 4 lines
Changed paths:
   M /trunk/gtk/packet_win.c

Packet editing for single field_info:
- Support FT_STRING and FT_STRINGZ types.
- hex editor (mainly for unsupported types)

------------------------------------------------------------------------
r36866 | darkjames | 2011-04-26 01:51:25 -0700 (Tue, 26 Apr 2011) | 2 lines
Changed paths:
   M /trunk/gtk/main_proto_draw.c
   M /trunk/gtk/main_proto_draw.h
   M /trunk/gtk/packet_win.c

Add new function packet_hex_editor_print.

------------------------------------------------------------------------
r36867 | darkjames | 2011-04-26 03:10:22 -0700 (Tue, 26 Apr 2011) | 3 lines
Changed paths:
   M /trunk/gtk/Makefile.am
   M /trunk/gtk/packet_win.c

- Synchronize gtk/Makefile.am checkapi with gtk/Makefile.nmake
- fix: Found deprecated-gtk APIs in packet_win.c: gtk_entry_new_with_max_length

------------------------------------------------------------------------
r36868 | alagoutte | 2011-04-26 07:40:19 -0700 (Tue, 26 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icq.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36869 | alagoutte | 2011-04-26 07:41:33 -0700 (Tue, 26 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-h223.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36870 | alagoutte | 2011-04-26 07:41:49 -0700 (Tue, 26 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-homeplug.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36871 | alagoutte | 2011-04-26 07:42:41 -0700 (Tue, 26 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-hyperscsi.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36872 | alagoutte | 2011-04-26 07:43:00 -0700 (Tue, 26 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

Fix Dead Store (Dead assignement/Dead increment) Warning found by Clang

------------------------------------------------------------------------
r36873 | gerald | 2011-04-26 10:13:37 -0700 (Tue, 26 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/addr_resolv.c
   M /trunk/epan/dissectors/packet-dcom.c
   M /trunk/epan/ftypes/ftype-ipv4.c
   M /trunk/epan/wslua/wslua_pinfo.c
   M /trunk/plugins/profinet/packet-dcom-cba-acco.c

get_host_ipaddr() was returning numeric addresses in host byte order
and hostnames in network byte order. Have it return everything in
network byte order.

------------------------------------------------------------------------
r36874 | etxrab | 2011-04-26 13:24:53 -0700 (Tue, 26 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bssgp.c

From Yaniv Kaul:
Fix 'set but not used' errors that GCC 4.6 emits.
------------------------------------------------------------------------
r36875 | gerald | 2011-04-26 14:59:11 -0700 (Tue, 26 Apr 2011) | 26 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dtls.c
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/epan/dissectors/packet-ssl-utils.h
   M /trunk/epan/dissectors/packet-ssl.c
   M /trunk/epan/prefs.c
   M /trunk/epan/prefs.h

From Ivan Sy via bug 3343:

- Support for DTLS and SSL RSA keys list using User Accessible Table
- Support for IPv6 SSL as posted by bug#3343 comment#1
- 'any' and 'anyipv4' for IPv4 wildcard
- 'anyipv6' for IPv6 wildcard
- UAT fields validation.


From me:

- Update paramaters to match UAT API changes.
- Change the UAT filename.
- Fix buffer overflow for IPv6 addresses.
- Allow the use of hostnames along with numeric addresses.
- Don't convert strings to addresses twice.
- Don't use the same variable name for different data types.
- Make "any" mean "any IPv4 or any IPv6".
- Bend the concept of obsolete preferences slightly so that we can convert
  and old-style key list to a UAT.
- Clean up whitespace.
- Don't point to a User's Guide section for now; it may make more sense to
  keep using the wiki page.
  
SSL dissector changes have been tested. DTLS dissector changes have not.

------------------------------------------------------------------------
r36876 | gerald | 2011-04-26 15:51:35 -0700 (Tue, 26 Apr 2011) | 19 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/epan/dissectors/packet-ssl-utils.h
   M /trunk/epan/dissectors/packet-ssl.c

From Adam Langley via bug 4349:

This patch adds support for getting the pre-master secret of a TLS
connection from a log file. Currently Wireshark can decrypt and TLS
connection only if it has the server's private key.

I commonly have a use case where I control the TLS client, but not the
server.  In order to decrypt in this case, I've added support to NSS
(used by Chrome and Firefox) to log the keys to a file on disk:

https://bugzilla.mozilla.org/show_bug.cgi?id=536474

Given this file, Wireshark can then decrypt the resulting TLS connections.

The format is such that Wireshark opens and linearly scans the file each
time it sees a ClientKeyExchange. If the key log grows too large, this
is pretty inefficient. However, it's simple and the number of
interesting TLS connections when debugging is usually very small.

------------------------------------------------------------------------
r36877 | guy | 2011-04-26 15:56:22 -0700 (Tue, 26 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dtls.c

If HAVE_LIBGNUTLS isn't defined, don't build functions that are used
only if HAVE_LIBGNUTLS is defined.

------------------------------------------------------------------------
r36878 | guy | 2011-04-26 16:07:40 -0700 (Tue, 26 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl.c

If HAVE_LIBGNUTLS isn't defined, don't build functions that are used
only if HAVE_LIBGNUTLS is defined.

------------------------------------------------------------------------
r36879 | guy | 2011-04-26 16:17:47 -0700 (Tue, 26 Apr 2011) | 11 lines
Changed paths:
   M /trunk/packet-range.c

Short-term hack to fix bug 5855 - don't try to process all the
frame_data structures for all the packets if we don't actually *have*
any frame_data structures for any packets, e.g. in TShark in one-pass
mode.

Also:

Use #if 0/#endif instead of commenting out.

Consistently use 4-space indentation.

------------------------------------------------------------------------
r36880 | guy | 2011-04-26 17:43:31 -0700 (Tue, 26 Apr 2011) | 2 lines
Changed paths:
   M /trunk/tshark.c

Another hack to handle the one-pass case.

------------------------------------------------------------------------
r36881 | guy | 2011-04-26 19:54:44 -0700 (Tue, 26 Apr 2011) | 14 lines
Changed paths:
   M /trunk/Makefile.common
   M /trunk/cfile.c
   M /trunk/cfile.h
   M /trunk/epan/frame_data.c
   M /trunk/epan/prefs.c
   M /trunk/file.c
   A /trunk/frame_data_sequence.c
   A /trunk/frame_data_sequence.h
   M /trunk/gtk/new_packet_list.c
   M /trunk/packet-range.c
   M /trunk/proto_hier_stats.c
   M /trunk/summary.c
   M /trunk/tshark.c

Create a new frame_data_sequence data type; it represents a dense
sequence of frame_data structures, indexed by the frame number.  Extract
the relevant bits of the capture_file data structure and move them to
the frame_data_sequence, and move the relevant code from cfile.c and
tweak it to handle frame_data_sequence structures.

Have a possibly-null pointer to a frame_data_sequence structure in the
capture_file structure; if it's null, we aren't keeping a sequence of
frame_data structures (we don't keep that sequence when we're doing
one-pass processing in TShark).

Nothing in libwireshark should care about a capture_file structure; get
rid of some unnecessary includes of cfile.h.

------------------------------------------------------------------------
r36882 | guy | 2011-04-26 20:13:03 -0700 (Tue, 26 Apr 2011) | 2 lines
Changed paths:
   M /trunk/file.c

Don't free the frame_data_sequence unless we have one.

------------------------------------------------------------------------
r36883 | wmeier | 2011-04-26 20:13:08 -0700 (Tue, 26 Apr 2011) | 6 lines
Changed paths:
   M /trunk/wiretap/radcom.c

Based upon a patch from Yaniv Kaul: Comment out unused assignmeent/variables;
From me:
  - remove unneeded #include <stdlib.h>;
  - fix some indentation;
  - use #if 0/#endif rather that /* */ to comment out some code

------------------------------------------------------------------------
r36884 | wmeier | 2011-04-26 20:45:19 -0700 (Tue, 26 Apr 2011) | 6 lines
Changed paths:
   M /trunk/wiretap/ngsniffer.c

From Yaniv Kaul: some 'set but not used' compilation fixes;
From me:
 - #include <stdlib.h> not needed;
 - Use consistent indentation;
 - use #if 0/#endif to comment out code rather than /* */

------------------------------------------------------------------------
r36885 | guy | 2011-04-26 20:57:21 -0700 (Tue, 26 Apr 2011) | 2 lines
Changed paths:
   M /trunk/CMakeLists.txt

Add frame_data_sequence.c.

------------------------------------------------------------------------
r36886 | guy | 2011-04-26 21:11:37 -0700 (Tue, 26 Apr 2011) | 3 lines
Changed paths:
   M /trunk/frame_data_sequence.c
   M /trunk/frame_data_sequence.h

Make the frame_data_sequence structure opaque, and move some other
implementation details into frame_data_sequence.c as well.

------------------------------------------------------------------------
r36887 | wmeier | 2011-04-26 21:24:44 -0700 (Tue, 26 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dfilter/semcheck.c

From Yaniv Kaul: some 'set but not used' compilation fixes;
From me:
 Use consistent indentation in the source file.

------------------------------------------------------------------------
r36888 | wmeier | 2011-04-26 21:27:38 -0700 (Tue, 26 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-6lowpan.c

From Yaniv Kaul: some 'set but not used' compilation fixes.

------------------------------------------------------------------------
r36889 | wmeier | 2011-04-26 22:02:47 -0700 (Tue, 26 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-9p.c
   M /trunk/epan/dissectors/packet-aarp.c
   M /trunk/epan/dissectors/packet-acn.c

From Yaniv Kaul: some 'set but not used' compilation fixes.

------------------------------------------------------------------------
r36890 | wmeier | 2011-04-26 22:09:00 -0700 (Tue, 26 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-aim-messaging.c

From Yaniv Kaul: some 'set but not used' compilation fixes;
From me:
- Remove unneeded #include <stdlib.h> and <ctype.h>;
- Indentation cleanup.

------------------------------------------------------------------------
r36891 | wmeier | 2011-04-26 22:18:58 -0700 (Tue, 26 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-aim-ssi.c

From Yaniv Kaul: some 'set but not used' compilation fixes.
From me:
 - remove unneeded #include <stdlib.h> and <ctype.h>;
 - Fix some indentation in the file.

------------------------------------------------------------------------
r36892 | etxrab | 2011-04-26 22:24:31 -0700 (Tue, 26 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ber.c

From Yaniv Kaul:
Fix 'set but not used' errors that GCC 4.6 emits.
------------------------------------------------------------------------
r36893 | etxrab | 2011-04-26 22:32:09 -0700 (Tue, 26 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcc.c

From Yaniv Kaul:
Fix 'set but not used' errors that GCC 4.6 emits.
------------------------------------------------------------------------
r36894 | etxrab | 2011-04-26 22:55:54 -0700 (Tue, 26 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-dcc.c

Remove check_col().
------------------------------------------------------------------------
r36895 | etxrab | 2011-04-26 23:02:16 -0700 (Tue, 26 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cmpp.c
   M /trunk/epan/dissectors/packet-componentstatus.c
   M /trunk/epan/dissectors/packet-cpha.c

From Yaniv Kaul:
Fix 'set but not used' errors that GCC 4.6 emits.
------------------------------------------------------------------------
r36896 | darkjames | 2011-04-27 02:20:02 -0700 (Wed, 27 Apr 2011) | 2 lines
Changed paths:
   M /trunk/file.c

Restore updating packet bar while loading file (removed in r36851)

------------------------------------------------------------------------
r36897 | darkjames | 2011-04-27 05:53:57 -0700 (Wed, 27 Apr 2011) | 2 lines
Changed paths:
   M /trunk/gtk/packet_win.c

Packet editor: add support for FT_BOOLEAN, and integer bitmasks.

------------------------------------------------------------------------
r36898 | morriss | 2011-04-27 06:32:28 -0700 (Wed, 27 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-e164.c

Put the length of the country code in parenthesis (for readability).
------------------------------------------------------------------------
r36899 | morriss | 2011-04-27 07:10:55 -0700 (Wed, 27 Apr 2011) | 7 lines
Changed paths:
   M /trunk/diameter/Ericsson.xml

From Anand Thakur via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5843 :

This diff files includes some AVPs from Ericsson GGSN documentation used for Gx
messaging between a GGSN and a PCRF.

From me: correct one spelling mistake.

------------------------------------------------------------------------
r36900 | morriss | 2011-04-27 08:23:20 -0700 (Wed, 27 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-skinny.c

From Mathieu Parent via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5826 :

Attached patch fixes dissection of ServiceURLStatMessage.

------------------------------------------------------------------------
r36901 | wmeier | 2011-04-27 09:25:05 -0700 (Wed, 27 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ajp13.c

From Yaniv Kaul:
  Some fixes for 'set but not used' errors that GCC 4.6 emits.

------------------------------------------------------------------------
r36902 | wmeier | 2011-04-27 09:29:09 -0700 (Wed, 27 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_683.c

From Yaniv Kaul:
  Some fixes for 'set but not used' errors that GCC 4.6 emits.
From me:
  Remove uneeded #include <stdlib.h>, <gmodule.h>;
  Do some whitespace cleanup.

------------------------------------------------------------------------
r36903 | wmeier | 2011-04-27 09:34:37 -0700 (Wed, 27 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_a.c

From Yaniv Kaul:
  Some fixes for 'set but not used' errors that GCC 4.6 emits.

------------------------------------------------------------------------
r36904 | wmeier | 2011-04-27 10:00:04 -0700 (Wed, 27 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ansi_a.c

#include <stdlib.h> not required;
Whitespace cleanup.

------------------------------------------------------------------------
r36905 | wmeier | 2011-04-27 10:06:54 -0700 (Wed, 27 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacnet.c

From Yaniv Kaul:
  Some fixes for 'set but not used' errors that GCC 4.6 emits.
From me:
  #include <stdlib.h> not req'd.


------------------------------------------------------------------------
r36906 | wmeier | 2011-04-27 10:15:57 -0700 (Wed, 27 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bgp.c

From Yaniv Kaul:
  Some fixes for 'set but not used' errors that GCC 4.6 emits.
From me:
  #include <stdlib.h> not req'd;
  Do some whitespace cleanup.

------------------------------------------------------------------------
r36907 | wmeier | 2011-04-27 10:22:20 -0700 (Wed, 27 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bittorrent.c

From Yaniv Kaul:
  Some fixes for 'set but not used' errors that GCC 4.6 emits.
From me:
  #include <string.h> not req'd.


------------------------------------------------------------------------
r36908 | wmeier | 2011-04-27 10:30:39 -0700 (Wed, 27 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bmc.c

From Yaniv Kaul:
  Some fixes for 'set but not used' errors that GCC 4.6 emits.
From me:
  Do some (minor) whitespace cleanup and re-formatting.

------------------------------------------------------------------------
r36909 | wmeier | 2011-04-27 10:39:25 -0700 (Wed, 27 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-btsdp.c

From Yaniv Kaul:
  Some fixes for 'set but not used' errors that GCC 4.6 emits.
From me:
  Do some (minor) indentation cleanup..

------------------------------------------------------------------------
r36910 | wmeier | 2011-04-27 10:58:22 -0700 (Wed, 27 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ccsds.c

From Yaniv Kaul:
  Some fixes for 'set but not used' errors that GCC 4.6 emits.

------------------------------------------------------------------------
r36911 | wmeier | 2011-04-27 11:09:39 -0700 (Wed, 27 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cip.c

From Yaniv Kaul:
  Some fixes for 'set but not used' errors that GCC 4.6 emits.

------------------------------------------------------------------------
r36912 | wmeier | 2011-04-27 11:13:31 -0700 (Wed, 27 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-clnp.c

From Yaniv Kaul:
  Some fixes for 'set but not used' errors that GCC 4.6 emits.

------------------------------------------------------------------------
r36913 | wmeier | 2011-04-27 12:24:32 -0700 (Wed, 27 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-cip.c

Remove unneeded #include <stdlib.h>;
Use consistent indentation;
Add editor modelines;
Use #if 0/#endif to comment out code instead of /* */.

------------------------------------------------------------------------
r36914 | wmeier | 2011-04-27 12:40:20 -0700 (Wed, 27 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-clnp.c

Comment out some unused code;
Use #if 0/#endif to comment out some code instead of using /* */;
Use consistent indentation & do some whitespace cleanup.

------------------------------------------------------------------------
r36915 | morriss | 2011-04-27 14:26:38 -0700 (Wed, 27 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/wspython/Makefile.am

Fix part of https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=4878 :

Put our one python example in the source distribution.

------------------------------------------------------------------------
r36916 | guy | 2011-04-27 14:59:47 -0700 (Wed, 27 Apr 2011) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-radiotap.c

Put the rate in for the MCS field, if all the information needed to
calculate the rate is present.

Don't put the rate in for MCS indices in the Rate field - we need not
only the MCS index but the bandwidth (20 MHz vs. 40 MHz) and the length
of the guard interval.  Note in a comment that those other items *might*
be available from some other radiotap fields.

Expand a comment on the hack to try to figure out whether a Rate field
with the 0x80 bit set is a FreeBSD MCS index or a high data rate.

------------------------------------------------------------------------
r36917 | morriss | 2011-04-27 15:15:42 -0700 (Wed, 27 Apr 2011) | 8 lines
Changed paths:
   M /trunk/epan/wspython/wspy_register.c

My version of Python (2.5.2) core dumps if PySequence_Check is called with a
NULL pointer (because no dissectors were registered).  Don't call that function
with a NULL pointer.

Also update the output when no dissectors are registered.  Not sure if we
should be printing *anything* in this situation, but for now make the output
interesting.

------------------------------------------------------------------------
r36918 | etxrab | 2011-04-27 15:18:00 -0700 (Wed, 27 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-gsm_a_common.c
   M /trunk/epan/dissectors/packet-gsm_a_common.h
   M /trunk/epan/dissectors/packet-gsm_a_dtap.c
   M /trunk/epan/dissectors/packet-gsm_a_gm.c
   M /trunk/epan/dissectors/packet-nas_eps.c

From Pascal Quantin:
Enhance the dissection of MM, GMM, SM, EPS EMM and EPS ESM
protocols according to 3GPP 24.008 V9.6.0 and 24.301 V9.6.0.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5866
------------------------------------------------------------------------
r36919 | guy | 2011-04-27 16:06:23 -0700 (Wed, 27 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-radiotap.c

Picky, picky....

While we're at it, catch invalid MCS/channel width/GI combinations.

------------------------------------------------------------------------
r36920 | gerald | 2011-04-27 16:20:15 -0700 (Wed, 27 Apr 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-babel.c

From Juliusz Chroboczek via bug 5812:

This should not trigger with any Babel packets generated by the current
version of babeld, but could potentially do so with a future version
that performs more aggressive compression for IPv4 addresses.

------------------------------------------------------------------------
r36921 | wmeier | 2011-04-27 18:07:43 -0700 (Wed, 27 Apr 2011) | 3 lines
Changed paths:
   M /trunk/wiretap/netxray.c

#include <stdlib.h> not needed;
use consistent indentation.

------------------------------------------------------------------------
r36922 | morriss | 2011-04-27 18:45:23 -0700 (Wed, 27 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/wspython/wspy_register.c

Don't dump core if Python was not able to load the dissector registration file
(e.g., due to a syntax error).

------------------------------------------------------------------------
r36923 | morriss | 2011-04-27 18:53:40 -0700 (Wed, 27 Apr 2011) | 7 lines
Changed paths:
   M /trunk/epan/wspython/Makefile.am

Fix one of the complaints in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5818 :

Create the wspy_dissectors data directory (by installing the one example
dissector).  This dissector won't be loaded (its name doesn't match the regexp)
but it forces the presence of the directory (so people will know where to put
their dissectors).

------------------------------------------------------------------------
r36924 | morriss | 2011-04-27 19:24:46 -0700 (Wed, 27 Apr 2011) | 5 lines
Changed paths:
   M /trunk/acinclude.m4

After testing for the presence of python-config, fix typo so that we actually
test whether we found it or not.

If the user asked for Python support, error out if we find we can't use it.

------------------------------------------------------------------------
r36925 | morriss | 2011-04-27 20:01:54 -0700 (Wed, 27 Apr 2011) | 11 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mbtcp.c

From Roland Knall via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5786 :

This patch registers a dissector table to allow other dissectors to register as
subdissectors for modbus/tcp data.

Additionally it registers the dissector, so it can be invoked by another
dissector by name.

Additionally this version of the patch adds the Data field not as a text field,
but rather as a field which can be selected and tested for by name.

------------------------------------------------------------------------
r36926 | etxrab | 2011-04-27 22:11:53 -0700 (Wed, 27 Apr 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-radiotap.c

Fix warnings:
packet-radiotap.c(240) : error C2220: warning treated as error - no 'object' file generated
packet-radiotap.c(240) : warning C4305: 'initializing' : truncation from 'double' to 'const float'
packet-radiotap.c(310) : warning C4305: 'initializing' : truncation from 'double' to 'const float'
packet-radiotap.c(315) : warning C4305: 'initializing' : truncation from 'double' to 'const float'
packet-radiotap.c(370) : warning C4305: 'initializing' : truncation from 'double' to 'const float'
packet-radiotap.c(380) : warning C4305: 'initializing' : truncation from 'double' to 'const float'
------------------------------------------------------------------------
r36927 | etxrab | 2011-04-27 22:36:26 -0700 (Wed, 27 Apr 2011) | 3 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/Makefile.common
   A /trunk/epan/crc8.c
   A /trunk/epan/crc8.h
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-mux27010.c
   M /trunk/wiretap/pcap-common.c
   M /trunk/wiretap/wtap.c
   M /trunk/wiretap/wtap.h

From Hans-Christoph Schemmel:
A variant of 3GPP TS 27.010 multiplexing protocol dissector.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5829
------------------------------------------------------------------------
r36928 | stig | 2011-04-27 23:39:56 -0700 (Wed, 27 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mux27010.c

Removed unused variables and functions.
Terminate strings by setting the first char to 0.

------------------------------------------------------------------------
r36929 | stig | 2011-04-28 01:48:35 -0700 (Thu, 28 Apr 2011) | 3 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

Initialize if_device to NULL at start and when g_free.
This fixes a bug introduced in revision 36741.

------------------------------------------------------------------------
r36930 | darkjames | 2011-04-28 04:15:46 -0700 (Thu, 28 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/value_string.c
   M /trunk/epan/value_string.h

Change value_string_ext->_vs_match to return value_string struct (instead of strptr),
Now index can be easily calculated so remove idx pointer from all match functions.

Just in case change names if someone is using wireshark internals.

------------------------------------------------------------------------
r36931 | darkjames | 2011-04-28 04:53:29 -0700 (Thu, 28 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/value_string.c

Try to fix:
	value_string.c(175) : warning C4244: '=' : conversion from '__int64' to 'gint', possible loss of data

------------------------------------------------------------------------
r36932 | morriss | 2011-04-28 06:14:36 -0700 (Thu, 28 Apr 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-mux27010.c

Add SVN Id tag.  Don't use deprecated dissector_add().
------------------------------------------------------------------------
r36933 | etxrab | 2011-04-28 06:43:23 -0700 (Thu, 28 Apr 2011) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml

Add grouped AVP:s
------------------------------------------------------------------------
r36934 | etxrab | 2011-04-28 07:22:18 -0700 (Thu, 28 Apr 2011) | 1 line
Changed paths:
   M /trunk/diameter/TGPPSh.xml
   M /trunk/diameter/dictionary.xml

Minor updates.
------------------------------------------------------------------------
r36935 | wmeier | 2011-04-28 07:38:29 -0700 (Thu, 28 Apr 2011) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mux27010.c

#include <stdio.h> not req'd;
Define all internal fcns as static;
fragment_table_init() & reassembled_table_init() need to be
  called form a registered_init fcn;
proto_register... and proto_reg_handoff should be at the end of the file as
  per Wireshark convention;
proto_reg_handoff .... doesn't need 'if (initialized)...';
proto_register... doesn't need 'if (proto_mux27010 == -1)...'

------------------------------------------------------------------------
r36936 | wmeier | 2011-04-28 07:48:39 -0700 (Thu, 28 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mux27010.c

Convert what appears to be the use of "4 space tabs" to spaces.

------------------------------------------------------------------------
r36937 | wmeier | 2011-04-28 07:59:31 -0700 (Thu, 28 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mux27010.c

Add missing "Wireshark .... Copyright ..".

------------------------------------------------------------------------
r36938 | wmeier | 2011-04-28 08:18:54 -0700 (Thu, 28 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mux27010.c

Remove an unneeded forward declaration (fixes compiler error);
Move a global variable to be local to proto_reg-handoff...

------------------------------------------------------------------------
r36939 | wmeier | 2011-04-28 08:52:32 -0700 (Thu, 28 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/crc8.c
   M /trunk/epan/crc8.h

Add missing $Id$ and "Wireshark ... Copyright ..."

------------------------------------------------------------------------
r36940 | wmeier | 2011-04-28 11:01:38 -0700 (Thu, 28 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-lisp.c

External subdissectors should be called regardless of 'if(tree)'.

------------------------------------------------------------------------
r36941 | wmeier | 2011-04-28 11:18:30 -0700 (Thu, 28 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-lisp.c

Remove an XXX comment;

------------------------------------------------------------------------
r36942 | guy | 2011-04-28 12:00:28 -0700 (Thu, 28 Apr 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-radiotap.c

Array indices are integers, not Booleans.  (The code is the same, given
that TRUE is #defined as 1 and FALSE is #defined as 0, but let's not
depend on that.)

------------------------------------------------------------------------
r36943 | etxrab | 2011-04-28 12:59:14 -0700 (Thu, 28 Apr 2011) | 6 lines
Changed paths:
   M /trunk/asn1/lte-rrc/lte-rrc.cnf
   M /trunk/epan/dissectors/packet-lte-rrc.c
   M /trunk/epan/dissectors/packet-lte-rrc.h

From Pascal Quantin:
the dissection of the UE capabilities when the RAT
type is set to geran-cs (the value part of Classmark 2 starts at the third byte). 
Moreover it adds a subtree to enhance the display of Mobile Station Classmark 2 and 3 and MS Radio Access Capability IEs.

https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5867
------------------------------------------------------------------------
r36944 | morriss | 2011-04-28 18:28:28 -0700 (Thu, 28 Apr 2011) | 1 line
Changed paths:
   M /trunk/colorfilters

Add default color filters for SCTP abort messages and checksum errors.
------------------------------------------------------------------------
r36945 | morriss | 2011-04-28 18:45:34 -0700 (Thu, 28 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sccp.c

If we're in a message return (UDTS or XUDTS), set pinfo->in_error_pkt to help
make it obvious to the user that this is an error message.

Fix up some indentation.

------------------------------------------------------------------------
r36946 | morriss | 2011-04-28 19:16:13 -0700 (Thu, 28 Apr 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sccp.c

Use proto_tree_add_item() when it saves us from having to retrieve the value
and without causing us to potentially run into bug 3834.

Add a couple hf entries for things that had been added with add_text().

------------------------------------------------------------------------
r36947 | stig | 2011-04-28 23:53:29 -0700 (Thu, 28 Apr 2011) | 5 lines
Changed paths:
   M /trunk/doc/tshark.pod
   M /trunk/print.c
   M /trunk/print.h
   M /trunk/tshark.c

From Edwin Groothuis via bug 5870:
The supplied patch adds a new option -O, which specifies a list of protocols
(names can be found with the "-G protocols" option) to be fully decoded while
the others only show the layer header.

------------------------------------------------------------------------
r36948 | stig | 2011-04-28 23:55:49 -0700 (Thu, 28 Apr 2011) | 2 lines
Changed paths:
   M /trunk/tshark.c

Untabify

------------------------------------------------------------------------
r36949 | darkjames | 2011-04-29 00:49:55 -0700 (Fri, 29 Apr 2011) | 2 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/wiretap/file_wrappers.c

configure: remove test for gzclearerr (not used anymore), add test for inflatePrime.

------------------------------------------------------------------------
r36950 | wmeier | 2011-04-29 07:02:55 -0700 (Fri, 29 Apr 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mux27010.c

Reformat long lines in hf[] definition for readability;
Replace hf[] "blurbs" by NULLs since the text of the blurb more or less matches the label text.

------------------------------------------------------------------------
r36951 | wmeier | 2011-04-29 07:05:55 -0700 (Fri, 29 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bmc.c

Remove two unneeded forward declarations.

------------------------------------------------------------------------
r36952 | wmeier | 2011-04-29 07:50:13 -0700 (Fri, 29 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-babel.c

#include <epan/prefs.h> not req'd since there are no prefs.

------------------------------------------------------------------------
r36953 | wmeier | 2011-04-29 07:56:40 -0700 (Fri, 29 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-icmp.h

Add "Wireshark ... Copyright ...".

------------------------------------------------------------------------
r36954 | morriss | 2011-04-29 10:30:23 -0700 (Fri, 29 Apr 2011) | 3 lines
Changed paths:
   M /trunk/config.h.win32
   M /trunk/config.nmake

On Windows: don't (try but fail--the code did not work) to define
HAVE_GZLCEARERR.  Define HAVE_INFLATEPRIME if we HAVE_LIBZ.

------------------------------------------------------------------------
r36955 | morriss | 2011-04-29 11:29:26 -0700 (Fri, 29 Apr 2011) | 3 lines
Changed paths:
   M /trunk/cmake/modules/FindZLIB.cmake
   M /trunk/cmakeconfig.h.in

Don't check for the existence of gzclearerr() any more.
Check for inflatePrime().

------------------------------------------------------------------------
r36956 | morriss | 2011-04-29 11:30:16 -0700 (Fri, 29 Apr 2011) | 1 line
Changed paths:
   M /trunk/Makefile.nmake

Oops, the Windows HAVE_GZCLEARERR stuff did work; take out the rest.
------------------------------------------------------------------------
r36957 | etxrab | 2011-04-30 01:36:00 -0700 (Sat, 30 Apr 2011) | 1 line
Changed paths:
   M /trunk/gtk/conversations_table.c

Use correct signature on callbacks.
------------------------------------------------------------------------
r36958 | gerald | 2011-04-30 10:43:05 -0700 (Sat, 30 Apr 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcm.c

Check our PDU length. Fixes the infinite loop found in bug 5876.

------------------------------------------------------------------------
r36959 | gerald | 2011-05-01 08:03:48 -0700 (Sun, 01 May 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf
   M /trunk/services

[Automatic manuf, services and enterprise-numbers update for 2011-05-01]
------------------------------------------------------------------------
r36962 | wmeier | 2011-05-01 19:06:52 -0700 (Sun, 01 May 2011) | 11 lines
Changed paths:
   M /trunk/capinfos.c

For "per packet" file encapsulation, display a list of the encapsulations seen ("long form" report).

Example:
 File type:           Microsoft NetMon 2.x
 File encapsulation:  Per packet
                        IEEE 802.11 plus Network Monitor radio header


ToDo: For the tabular form report display the list of per-packet encapsulations seen.


------------------------------------------------------------------------
r36963 | stig | 2011-05-02 07:06:33 -0700 (Mon, 02 May 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-http.c

Support content-type x-gzip and x-deflate, as described in RFC2616 as
equivalent to gzip and deflate.

This fixes bug 5882.

------------------------------------------------------------------------
r36964 | morriss | 2011-05-02 07:27:48 -0700 (Mon, 02 May 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mux27010.c

Fix the (fuzzed) memory allocation failure reported in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5880 :

Don't attempt to reassemble a message if the length of the fragment is negative.

------------------------------------------------------------------------
r36965 | sfisher | 2011-05-02 09:40:19 -0700 (Mon, 02 May 2011) | 7 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-eigrp.c


From Peter Paluch via bug #5877: EIGRP dissector enhancement for RS/EOT
flags

Me: Add Peter to AUTHORS file.


------------------------------------------------------------------------
r36966 | guy | 2011-05-02 17:22:35 -0700 (Mon, 02 May 2011) | 2 lines
Changed paths:
   M /trunk/gtk/packet_list_store.h

Fix a comment.

------------------------------------------------------------------------
r36967 | guy | 2011-05-02 18:19:55 -0700 (Mon, 02 May 2011) | 4 lines
Changed paths:
   M /trunk/epan/frame_data.c
   M /trunk/epan/frame_data.h
   M /trunk/file.c
   M /trunk/gtk/new_packet_list.c
   M /trunk/gtk/packet_list_store.c
   M /trunk/gtk/packet_list_store.h

TShark doesn't need column text attached to each frame; move col_text
and col_text_len from the frame_data structure to the PacketRecord
structure.

------------------------------------------------------------------------
r36968 | guy | 2011-05-02 19:03:25 -0700 (Mon, 02 May 2011) | 8 lines
Changed paths:
   M /trunk/gtk/packet_list_store.h

One bit suffices for the "columnized" and "colorized" flags in the
packet list store, and there's one PacketListRecord for every packet, so
that can save some space...

...especially if we move them after all the pointers, rather than before
the pointers, so they don't collectively take up 8 bytes on an LP64 or
LLP64 platform due to pointers having to be 8-byte aligned.

------------------------------------------------------------------------
r36969 | guy | 2011-05-02 21:48:02 -0700 (Mon, 02 May 2011) | 10 lines
Changed paths:
   M /trunk/acinclude.m4
   M /trunk/configure.in

Don't bother checking for gzgets(), as we don't use it, and don't even
need to use its presence in zlib as a proxy for "not the crufty old zlib
that comes with some versions of X11".

Do, however, check for inflatePrime() there, instead, just in case the
crufty old zlib that comes with some versions of X11 lack it; this is to
prevent the configure script from assuming a shiny new zlib by testing
with a non-X11 program, causing the build to fail when you build
Wireshark.

------------------------------------------------------------------------
r36970 | guy | 2011-05-02 22:26:10 -0700 (Mon, 02 May 2011) | 40 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/wiretap/file_access.c
   M /trunk/wiretap/network_instruments.c
   M /trunk/wiretap/network_instruments.h
   M /trunk/wiretap/wtap.h

From Tom Brezinski - fix for bug 5869:

This patch incorporates the following fixes from the patch attached to
bug 5671 with changes as noted below:

1.) Files where the packet header and packet data are noncontiguous are
handled improperly, resulting in read misalignment and ultimately the
error message, "Observer: bad record: Invalid magic number 0xXXXXXXXX."
This bug is caused by not obeying the packet_entry_header.offset_to_frame
field.

2.) Daylight savings time is not properly accounted for in files using
local time encoding.

3.) As of Observer/GigaStor v13.10 (bug 5671 incorrectly stated v14),
timestamps in the file format changed from local time encoding to GMT
encoding.  Wiretap has been changed to support reading both formats. 
Patch submitted with bug 5671 added a separate file type to allow
writing local format.  This patch does not add the separate file type
and always writes GMT.

4.) The wtap_dumper.bytes_dumped field is not being properly incremented
as data is written to files.

This patch also incorporates the following additional enhancements /
fixes not in bug 5671:

1.) Support for reading BFR files which contain Fibre Channel captures. 
Test file Fibre_Channel_Capture.bfr attached.

2.) Support for modified file header used in upcoming v15.  New header
file format takes an unused byte from the version string to allow for a
larger offset to the first packet to be specified.  Test file
V15_Lrg_Hdr_Test.bfr is attached, it is also a fuzz test as the number
of TLV items given in the header is less then the actual.

3.) It was found that if the number of TLV items given in the header was
larger then present it would fail to open the file.  Test file
V9_Num_TLVs_Too_Big.bfr is attached.

------------------------------------------------------------------------
r36971 | guy | 2011-05-02 22:28:39 -0700 (Mon, 02 May 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/network_instruments.c

Fix indentation (tab stops are not guaranteed to be every 4 spaces).

------------------------------------------------------------------------
r36972 | guy | 2011-05-02 22:50:30 -0700 (Mon, 02 May 2011) | 3 lines
Changed paths:
   M /trunk/wiretap/network_instruments.c

Squelch a compiler warning - but note, in a comment, a real problem the
warning points out.

------------------------------------------------------------------------
r36973 | guy | 2011-05-03 01:22:25 -0700 (Tue, 03 May 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/wiretap/netmon.c

It appears that, in NetMon 802.11 captures, management frames have an
FCS and data frames don't have an FCS; I don't know about control
frames.

------------------------------------------------------------------------
r36974 | guy | 2011-05-03 01:49:41 -0700 (Tue, 03 May 2011) | 2 lines
Changed paths:
   M /trunk/wiretap/netmon.c

Set the pseudo-header regardless of whether we have a trailer or not.

------------------------------------------------------------------------
r36975 | guy | 2011-05-03 02:14:56 -0700 (Tue, 03 May 2011) | 5 lines
Changed paths:
   M /trunk/wiretap/netmon.c

Note what NetMon 3 actually uses various types for.

For the ones that are used for raw IP, use WTAP_ENCAP_RAW_IP.  (Yes,
NetMon checks for v4 vs. v6 for all of them.)

------------------------------------------------------------------------
r36976 | cmaynard | 2011-05-03 08:38:22 -0700 (Tue, 03 May 2011) | 2 lines
Changed paths:
   M /trunk/tshark.c

Wrap text of description for -O.

------------------------------------------------------------------------
r36977 | etxrab | 2011-05-03 09:45:37 -0700 (Tue, 03 May 2011) | 1 line
Changed paths:
   M /trunk/gtk/expert_comp_dlg.c
   M /trunk/gtk/flow_graph.c
   M /trunk/gtk/gui_stat_menu.h
   M /trunk/gtk/voip_calls_dlg.c

Do some prep work on GUIManager code, if you enable it it will break as the menus.c changes are not commited.
------------------------------------------------------------------------
r36978 | etxrab | 2011-05-03 09:51:08 -0700 (Tue, 03 May 2011) | 1 line
Changed paths:
   M /trunk/gtk/io_stat.c

Do some prep work on GUIManager code, if you enable it it will break as the menus.c changes are not commited.
------------------------------------------------------------------------
r36979 | sfisher | 2011-05-03 10:38:26 -0700 (Tue, 03 May 2011) | 5 lines
Changed paths:
   M /trunk/gtk/export_object.c
   M /trunk/gtk/export_object.h
   M /trunk/gtk/export_object_dicom.c
   M /trunk/gtk/export_object_http.c
   M /trunk/gtk/export_object_smb.c


From Jose Pico via bug #5884: Corrected export_object smb segmentation
fault


------------------------------------------------------------------------
r36980 | darkjames | 2011-05-03 11:27:08 -0700 (Tue, 03 May 2011) | 3 lines
Changed paths:
   M /trunk/gtk/packet_win.c

Packet editor:
 - support for FT_IPv4

------------------------------------------------------------------------
r36981 | etxrab | 2011-05-03 13:23:57 -0700 (Tue, 03 May 2011) | 1 line
Changed paths:
   M /trunk/gtk/conversations_eth.c
   M /trunk/gtk/conversations_fc.c
   M /trunk/gtk/conversations_fddi.c
   M /trunk/gtk/conversations_ip.c
   M /trunk/gtk/conversations_ipv6.c
   M /trunk/gtk/conversations_ipx.c
   M /trunk/gtk/conversations_jxta.c

More GUIManager stuff.
------------------------------------------------------------------------
r36982 | etxrab | 2011-05-03 15:09:18 -0700 (Tue, 03 May 2011) | 1 line
Changed paths:
   M /trunk/gtk/conversations_ncp.c
   M /trunk/gtk/conversations_rsvp.c
   M /trunk/gtk/conversations_sctp.c
   M /trunk/gtk/conversations_tcpip.c
   M /trunk/gtk/conversations_tr.c
   M /trunk/gtk/conversations_udpip.c
   M /trunk/gtk/conversations_usb.c
   M /trunk/gtk/conversations_wlan.c

More GUIManager stuff.
------------------------------------------------------------------------
r36983 | morriss | 2011-05-04 08:24:14 -0700 (Wed, 04 May 2011) | 4 lines
Changed paths:
   M /trunk/print.c

Once we start printing an "opened up" (tshark -O) tree, print the entire
subtree.  Otherwise subitems whose abbreviation doesn't match the protocol name
(such as text items) won't get printed.

------------------------------------------------------------------------
r36984 | etxrab | 2011-05-04 10:24:48 -0700 (Wed, 04 May 2011) | 2 lines
Changed paths:
   M /trunk/asn1/lte-rrc/lte-rrc.cnf
   M /trunk/asn1/lte-rrc/packet-lte-rrc-template.c
   M /trunk/epan/dissectors/packet-lte-rrc.c

From Pascal Quantin:
Add an expert check for the MS Classmark 2 decoding in UE EUTRA Capability message and a few missing message type display in the column text.
------------------------------------------------------------------------
r36985 | etxrab | 2011-05-04 12:02:42 -0700 (Wed, 04 May 2011) | 3 lines
Changed paths:
   M /trunk/gtk/hostlist_eth.c
   M /trunk/gtk/hostlist_fc.c
   M /trunk/gtk/iax2_analysis.c
   M /trunk/gtk/menus.c

More GUIManager stuff.
Note Use GUI manager needs to be set in gui_stet_menu.h too,
to use it.
------------------------------------------------------------------------
r36986 | darkjames | 2011-05-04 12:32:35 -0700 (Wed, 04 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcm.c
   M /trunk/epan/dissectors/packet-dns.c
   M /trunk/epan/dissectors/packet-iax2.c
   M /trunk/epan/dissectors/packet-ip.c
   M /trunk/epan/dissectors/packet-rtcp.c
   M /trunk/epan/dissectors/packet-rtsp.c
   M /trunk/epan/dissectors/packet-smb2.c
   M /trunk/epan/dissectors/packet-tcp.c
   M /trunk/epan/dissectors/packet-telnet.c

Cleanup: replace sizeof(arr)/sizeof(arr[0]) with shorter array_length(arr)

------------------------------------------------------------------------
r36987 | sfisher | 2011-05-04 12:42:51 -0700 (Wed, 04 May 2011) | 7 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/dissectors/packet-daap.c
   M /trunk/epan/dissectors/packet-image-png.c


From Nick Glass via bug #5887: DACP (apple remote) enhancement to DAAP
dissector.

Me: Add Nick to AUTHORS file. 


------------------------------------------------------------------------
r36988 | darkjames | 2011-05-04 14:19:04 -0700 (Wed, 04 May 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iwarp-mpa.c
   M /trunk/epan/dissectors/packet-spnego.c
   M /trunk/epan/dissectors/packet-ssl-utils.c
   M /trunk/tap-iostat.c

Cleanup: g_malloc can't return NULL, remove checks for them.

XXX, should this code use g_try_malloc instead?

------------------------------------------------------------------------
r36989 | wmeier | 2011-05-04 15:48:51 -0700 (Wed, 04 May 2011) | 3 lines
Changed paths:
   M /trunk/gtk/packet_win.c

Fix Coverity 1191: DEADCODE;
Use consistent indentation.

------------------------------------------------------------------------
r36990 | wmeier | 2011-05-04 16:56:29 -0700 (Wed, 04 May 2011) | 2 lines
Changed paths:
   M /trunk/gtk/sctp_assoc_analyse.c

Fix 3 memory leaks: unused g_malloc(): Coverity 1148-1150 [UNUSED];

------------------------------------------------------------------------
r36991 | wmeier | 2011-05-04 17:15:59 -0700 (Wed, 04 May 2011) | 3 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c

Fix two unused variable assignments: Coverity 1140.
Also: fix some indentation.

------------------------------------------------------------------------
r36992 | wmeier | 2011-05-04 17:31:54 -0700 (Wed, 04 May 2011) | 3 lines
Changed paths:
   M /trunk/epan/tcap-persistentdata.c

Fix two cases of assignment to unused variables: Coverity 1030 & 1031 [UNUSED];
Also: #include <stdio.h> not req'd.

------------------------------------------------------------------------
r36993 | wmeier | 2011-05-04 17:48:54 -0700 (Wed, 04 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-xtp.c

Don't assign to unused variable: Coverity 1132 [UNUSED].

------------------------------------------------------------------------
r36994 | wmeier | 2011-05-04 18:08:17 -0700 (Wed, 04 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-xtp.c
   D /trunk/epan/dissectors/packet-xtp.h

packet-xtp.h used only in packet-xtp.c; Move packet-xtp.h contents to packet-xtp.c

------------------------------------------------------------------------
r36995 | etxrab | 2011-05-04 22:23:05 -0700 (Wed, 04 May 2011) | 1 line
Changed paths:
   M /trunk/gtk/hostlist_fddi.c
   M /trunk/gtk/hostlist_ip.c
   M /trunk/gtk/hostlist_ipv6.c
   M /trunk/gtk/hostlist_ipx.c
   M /trunk/gtk/hostlist_jxta.c
   M /trunk/gtk/hostlist_ncp.c
   M /trunk/gtk/hostlist_rsvp.c
   M /trunk/gtk/hostlist_sctp.c
   M /trunk/gtk/hostlist_tcpip.c
   M /trunk/gtk/hostlist_tr.c
   M /trunk/gtk/hostlist_udpip.c
   M /trunk/gtk/hostlist_usb.c
   M /trunk/gtk/hostlist_wlan.c

More GUIManager stuff.
------------------------------------------------------------------------
r36996 | darkjames | 2011-05-04 23:55:12 -0700 (Wed, 04 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-msrp.c
   M /trunk/epan/dissectors/packet-pdcp-lte.c
   M /trunk/epan/dissectors/packet-rlc-lte.c
   M /trunk/epan/dissectors/packet-rtcp.c
   M /trunk/epan/dissectors/packet-spnego.c

Cleanup: replace se_alloc+memcpy combo with single se_memdup().

------------------------------------------------------------------------
r36997 | cmaynard | 2011-05-05 07:20:22 -0700 (Thu, 05 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-iec104.c

Fix decoding of CP56Time2a timestamp.  Resolves bug 5889.

------------------------------------------------------------------------
r36998 | darkjames | 2011-05-05 09:41:52 -0700 (Thu, 05 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/address_to_str.c

Subtract (not add!) preamble length from remaining buffer length.

------------------------------------------------------------------------
r36999 | morriss | 2011-05-05 13:46:02 -0700 (Thu, 05 May 2011) | 3 lines
Changed paths:
   M /trunk/dumpcap.c

Apply rev 14059 to non-Windows: update the display with new packets every 500
msec (instead of every 1000msec).

------------------------------------------------------------------------
r37000 | darkjames | 2011-05-05 13:48:21 -0700 (Thu, 05 May 2011) | 6 lines
Changed paths:
   M /trunk/epan/addr_resolv.c
   M /trunk/epan/address_to_str.c
   M /trunk/epan/to_str.c
   M /trunk/epan/to_str.h

Introduce ip6_to_str_buf_len (little cleaner version of inet_ntop6 from wsutil/inet_ntop.c)
and use it instead of inet_ntop(AF_INET6, ...)

- Add MAX_IP6_STR_LEN define.
- use MAX_IP6_STR_LEN as a buffer size when ip6_to_str_buf() is used.

------------------------------------------------------------------------
r37001 | darkjames | 2011-05-05 14:15:33 -0700 (Thu, 05 May 2011) | 5 lines
Changed paths:
   M /trunk/epan/address_to_str.c

Fix false positive compiler warnings:
	address_to_str.c:157: warning: 'cur.len' may be used uninitialized in this function
	address_to_str.c:157: warning: 'best.len' may be used uninitialized in this function


------------------------------------------------------------------------
r37002 | morriss | 2011-05-05 14:41:51 -0700 (Thu, 05 May 2011) | 1 line
Changed paths:
   M /trunk/dumpcap.c

Forgot to remove my editor's tabs before committing...
------------------------------------------------------------------------
r37003 | morriss | 2011-05-05 18:09:04 -0700 (Thu, 05 May 2011) | 12 lines
Changed paths:
   M /trunk/epan/dissectors/packet-reload-framing.c
   M /trunk/epan/dissectors/packet-reload.c

From Marc Petit-Huguenin via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5894 :

- Use "RELOAD" everywhere.
- Fix invalid variable name "reload_framing.probe_information.type".
- Fix various names to match the spec.
- Dissect the X.509 certificate embedded in RELOAD messages.
- Use tls_signature_algorithm and tls_hash_algorithm tables in
  packet-ssl-utils.

From me: take out the tabs.  Keep the long dissector name when registering the
protocols.

------------------------------------------------------------------------
r37004 | morriss | 2011-05-05 18:27:54 -0700 (Thu, 05 May 2011) | 8 lines
Changed paths:
   M /trunk/epan/dissectors/packet-vtp.c

From Peter Paluch via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5893 :

Add support for VTP Join messages.

From me: rather than add the first and last VLANs with separate hf_ variables
and the masked ones with proto_tree_add_text(), use one hf_ variable for all the
VLAN IDs.

------------------------------------------------------------------------
r37005 | morriss | 2011-05-05 18:47:16 -0700 (Thu, 05 May 2011) | 9 lines
Changed paths:
   A /trunk/asn1/qsig/General-Error-List.asn
   M /trunk/asn1/qsig/Makefile.common
   M /trunk/asn1/qsig/QSIG-MCR.asn
   M /trunk/asn1/qsig/QSIG-PUMCH.asn
   M /trunk/asn1/qsig/QSIG-WTMLR.asn
   M /trunk/asn1/qsig/SYNC-SIG.asn
   M /trunk/epan/dissectors/packet-qsig.c
   M /trunk/epan/dissectors/packet-qsig.h

From Ed Day via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5890 :

ASN.1 files in trunk/asn1/qsig contain syntax errors that prevent them from
being compiled by a standard ASN.1 compiler.  A patch of modified files is
attached along with General-Error-List.asn which was missing completely.

From me: add the new asn file to the list of source files.  Add SVN Id tag to
the new file.

------------------------------------------------------------------------
r37006 | morriss | 2011-05-05 18:54:07 -0700 (Thu, 05 May 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-reload.c

Prefix the message class names with RELOAD_ to prevent collisions.
------------------------------------------------------------------------
r37007 | guy | 2011-05-05 20:59:44 -0700 (Thu, 05 May 2011) | 4 lines
Changed paths:
   M /trunk/epan/dfilter/scanner.l

Use strtoul() rather than sscanf to parse octal and hex numbers in
escape sequences; sscanf is a bit heavyweight, and using strtoul() also
squelches some "return value ignored" warnings.

------------------------------------------------------------------------
r37008 | darkjames | 2011-05-06 04:39:11 -0700 (Fri, 06 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/address_to_str.c

Add note about ::/96 being deprecated.

------------------------------------------------------------------------
r37009 | etxrab | 2011-05-06 05:28:11 -0700 (Fri, 06 May 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c
   M /trunk/epan/dissectors/packet-coap.c
   M /trunk/epan/dissectors/packet-gre.c
   M /trunk/epan/dissectors/packet-gtpv2.c
   M /trunk/epan/dissectors/packet-ieee80211.c
   M /trunk/epan/dissectors/packet-isakmp.c
   M /trunk/epan/dissectors/packet-mip6.c
   M /trunk/epan/dissectors/packet-synphasor.c

 VALS(& ->  VALS(
------------------------------------------------------------------------
r37010 | etxrab | 2011-05-06 08:05:51 -0700 (Fri, 06 May 2011) | 2 lines
Changed paths:
   M /trunk/diameter/dictionary.xml

From Tamás Regõs:
Make it possible to load Tango AVP:s if you have them.
------------------------------------------------------------------------
r37011 | gerald | 2011-05-06 12:39:47 -0700 (Fri, 06 May 2011) | 7 lines
Changed paths:
   M /trunk/epan/diam_dict.l

Huzaifa Sidhpurwala of Red Hat Security Response Team discovered that we
could dereferene a NULL pointer if we had a corrupted Diameter
dictionary.

Additionally, it was possible to push an invalid input buffer onto the
include stack.

------------------------------------------------------------------------
r37012 | darkjames | 2011-05-06 13:45:34 -0700 (Fri, 06 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-umts_mac.c

Move fpinf dereference after NULL check.

------------------------------------------------------------------------
r37014 | jake | 2011-05-07 07:50:36 -0700 (Sat, 07 May 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-lldp.c
   M /trunk/epan/oui.h

From Jens Osterkamp:
The following patch adds some code to decode the EVB TLV being standardized in
the upcoming IEEE 802.1Qbg draft 0.

------------------------------------------------------------------------
r37015 | alagoutte | 2011-05-08 03:23:53 -0700 (Sun, 08 May 2011) | 9 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/doc/README.developer
   M /trunk/epan/addr_resolv.c
   M /trunk/epan/addr_resolv.h
   M /trunk/epan/address_to_str.c
   M /trunk/epan/dfilter/semcheck.c
   M /trunk/epan/dissectors/packet-capwap.c
   M /trunk/epan/dissectors/packet-icmpv6.c
   M /trunk/epan/dissectors/packet-ieee802154.c
   M /trunk/epan/dissectors/packet-ieee802154.h
   M /trunk/epan/dissectors/packet-zbee-aps.c
   M /trunk/epan/dissectors/packet-zbee-nwk.c
   M /trunk/epan/dissectors/packet-zbee-security.c
   M /trunk/epan/dissectors/packet-zbee-zdp-binding.c
   M /trunk/epan/dissectors/packet-zbee-zdp-discovery.c
   M /trunk/epan/dissectors/packet-zbee-zdp-management.c
   M /trunk/epan/dissectors/packet-zbee-zdp.c
   M /trunk/epan/ftypes/ftype-integer.c
   M /trunk/epan/ftypes/ftypes.h
   M /trunk/epan/libwireshark.def
   M /trunk/epan/proto.c
   M /trunk/epan/proto.h
   M /trunk/epan/to_str.h

Add FT_EUI64 Field Type

* Remove proto_tree_add_eui64 function from 802.15.4 Dissector 
* Replace print_eui64/print_eui64 by eui64_to_str/get_eui64_name
* Update Documentation (README.dev)
* Add new function in libwireshark.def
* Support of encoding for tvb_eui64_to_str
* Use FT_EUI64 for ICMPv6, CAPWAP, Zbee ... dissector

------------------------------------------------------------------------
r37016 | rbalint | 2011-05-08 03:56:23 -0700 (Sun, 08 May 2011) | 5 lines
Changed paths:
   M /trunk/gtk/main_welcome.c

If no interface is found for capturing show this information

and direct user to Capture Help instead of showing the empty list of
interfaces and capture options.

------------------------------------------------------------------------
r37017 | gerald | 2011-05-08 08:03:55 -0700 (Sun, 08 May 2011) | 1 line
Changed paths:
   M /trunk/epan/enterprise-numbers
   M /trunk/manuf
   M /trunk/services

[Automatic manuf, services and enterprise-numbers update for 2011-05-08]
------------------------------------------------------------------------
r37020 | guy | 2011-05-08 13:22:18 -0700 (Sun, 08 May 2011) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-user_encap.c

There is no guarantee that, just because there's a UAT item for a given
LINKTYPE_USERn encapsulation with a protocol name - even if the protocol
name was valid at the time the entry was made, it might not be valid now
(e.g., if you no longer have a plugin), *and* the protocol lookup done
in the UI is case-insensitive but the lookup done later is
case-sensitive (this needs to be cleaned up somehow).

For now, just handle the case where encap->payload_proto is NULL.

------------------------------------------------------------------------
r37021 | rbalint | 2011-05-08 14:55:11 -0700 (Sun, 08 May 2011) | 3 lines
Changed paths:
   M /trunk/docbook/wsug_src/WSUG_chapter_build_install.xml

Note that README.Debian contains the procedure of setting up capture
rights for regular users on Debian systems.

------------------------------------------------------------------------
r37022 | guy | 2011-05-08 19:42:58 -0700 (Sun, 08 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

Count padding bytes against the transaction data byte count.

------------------------------------------------------------------------
r37023 | guy | 2011-05-08 19:55:31 -0700 (Sun, 08 May 2011) | 9 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

Support SMB_FIND_FILE_UNIX_INFO2.

Don't use "link destination" for file names in SMB_FIND_FILE_UNIX.

Link to the page for Microsoft's public protocol specifications and to
the Samba Wiki page for the UNIX extensions.

Fix a typo in a variable name.

------------------------------------------------------------------------
r37024 | guy | 2011-05-08 20:48:41 -0700 (Sun, 08 May 2011) | 4 lines
Changed paths:
   M /trunk/wiretap/file_access.c
   M /trunk/wiretap/file_wrappers.c

If a gzipped file's name ends in .caz, don't check the CRC - it's
probably a compressed file from the Windows Sniffer, and they don't
bother setting the CRC.

------------------------------------------------------------------------
r37025 | guy | 2011-05-08 22:30:59 -0700 (Sun, 08 May 2011) | 5 lines
Changed paths:
   M /trunk/file.c
   M /trunk/wiretap/file_wrappers.c
   M /trunk/wiretap/file_wrappers.h
   M /trunk/wiretap/wtap.c
   M /trunk/wiretap/wtap.h

From Jakub Zawadzki: for file read progress bars, use the raw offset in
the file, rather than the offset in the uncompressed data stream.  That
way we don't get the "hey, we're more than 100% into the file, better
refigure this" surprise.

------------------------------------------------------------------------
r37026 | guy | 2011-05-09 01:12:26 -0700 (Mon, 09 May 2011) | 6 lines
Changed paths:
   M /trunk/wiretap/ascendtext.c
   M /trunk/wiretap/ber.c
   M /trunk/wiretap/file_access.c
   M /trunk/wiretap/file_wrappers.c
   M /trunk/wiretap/file_wrappers.h
   M /trunk/wiretap/tnef.c
   M /trunk/wiretap/wtap-int.h
   M /trunk/wiretap/wtap.c

Get rid of the fd member of a wth structure; the FILE_T's in that
structure include a file descriptor.  Add a wtap_fstat() for the file
readers that use file times to generate time stamps (we really need a
way to say "this file has no time stamps" or "this file has only
relative time stamps).

------------------------------------------------------------------------
r37027 | darkjames | 2011-05-09 01:55:35 -0700 (Mon, 09 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/emem.c
   M /trunk/epan/emem.h

Initial commit of slab allocator (sl_* API) 

------------------------------------------------------------------------
r37028 | etxrab | 2011-05-09 02:05:35 -0700 (Mon, 09 May 2011) | 1 line
Changed paths:
   M /trunk/diameter/dictionary.xml

Skipp tango.xml for now...as not having it causes a warning.
------------------------------------------------------------------------
r37029 | darkjames | 2011-05-09 05:49:39 -0700 (Mon, 09 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/wslua/wslua_gui.c

Comment out dead code.

------------------------------------------------------------------------
r37030 | darkjames | 2011-05-09 05:52:55 -0700 (Mon, 09 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/emem.c
   M /trunk/epan/ftypes/ftypes.c
   M /trunk/epan/ftypes/ftypes.h
   M /trunk/epan/libwireshark.def
   M /trunk/epan/proto.c

Convert SLAB_-s, to sl_-API.

------------------------------------------------------------------------
r37031 | darkjames | 2011-05-09 05:59:57 -0700 (Mon, 09 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/libwireshark.def

Add sl_ API to libwireshark.def

------------------------------------------------------------------------
r37032 | guy | 2011-05-09 10:53:45 -0700 (Mon, 09 May 2011) | 3 lines
Changed paths:
   M /trunk/wiretap/file_wrappers.c

Note that compressed Windows Sniffer files might have a CRC, just not
one computed the right way (as specified by RFC 1952).

------------------------------------------------------------------------
r37033 | gerald | 2011-05-09 12:29:40 -0700 (Mon, 09 May 2011) | 2 lines
Changed paths:
   M /trunk/gtk/capture_dlg.c
   M /trunk/gtk/prefs_capture.c

We probably shouldn't call pcap-ng "experimental" any more.

------------------------------------------------------------------------
r37035 | etxrab | 2011-05-09 22:31:45 -0700 (Mon, 09 May 2011) | 1 line
Changed paths:
   M /trunk/gtk/conversations_eth.c
   M /trunk/gtk/conversations_fc.c
   M /trunk/gtk/conversations_fddi.c
   M /trunk/gtk/conversations_ip.c
   M /trunk/gtk/conversations_ipv6.c
   M /trunk/gtk/conversations_ipx.c
   M /trunk/gtk/conversations_jxta.c
   M /trunk/gtk/conversations_ncp.c
   M /trunk/gtk/conversations_rsvp.c
   M /trunk/gtk/conversations_sctp.c
   M /trunk/gtk/conversations_tcpip.c
   M /trunk/gtk/conversations_tr.c
   M /trunk/gtk/conversations_udpip.c
   M /trunk/gtk/conversations_usb.c
   M /trunk/gtk/conversations_wlan.c
   M /trunk/gtk/expert_comp_dlg.c
   M /trunk/gtk/flow_graph.c
   M /trunk/gtk/gui_stat_menu.h
   M /trunk/gtk/hostlist_eth.c
   M /trunk/gtk/hostlist_fc.c
   M /trunk/gtk/hostlist_fddi.c
   M /trunk/gtk/hostlist_ip.c
   M /trunk/gtk/hostlist_ipv6.c
   M /trunk/gtk/hostlist_ipx.c
   M /trunk/gtk/hostlist_jxta.c
   M /trunk/gtk/hostlist_ncp.c
   M /trunk/gtk/hostlist_rsvp.c
   M /trunk/gtk/hostlist_sctp.c
   M /trunk/gtk/hostlist_tcpip.c
   M /trunk/gtk/hostlist_tr.c
   M /trunk/gtk/hostlist_udpip.c
   M /trunk/gtk/hostlist_usb.c
   M /trunk/gtk/hostlist_wlan.c
   M /trunk/gtk/iax2_analysis.c
   M /trunk/gtk/io_stat.c
   M /trunk/gtk/menus.c
   M /trunk/gtk/voip_calls_dlg.c

More GUIManager stuff.
------------------------------------------------------------------------
r37036 | etxrab | 2011-05-09 23:03:56 -0700 (Mon, 09 May 2011) | 1 line
Changed paths:
   M /trunk/gtk/gui_stat_menu.h

Forgot to comment out UI_MANAGER
------------------------------------------------------------------------
r37037 | etxrab | 2011-05-10 00:23:00 -0700 (Tue, 10 May 2011) | 1 line
Changed paths:
   M /trunk/gtk/hostlist_jxta.c

Fix a typo.
------------------------------------------------------------------------
r37038 | etxrab | 2011-05-10 00:58:33 -0700 (Tue, 10 May 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sgsap.c

From Sijin N K:
Missing hf declaration for cn_id.
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5901
------------------------------------------------------------------------
r37039 | cmaynard | 2011-05-10 07:22:17 -0700 (Tue, 10 May 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-mp2t.c
   M /trunk/epan/dissectors/packet-ppp.c
   M /trunk/epan/dissectors/packet-usb.c

Allow both PPP and ISO/IEC 13818-1 over USB to be dissected using heuristics.
Resolves bug 4814.

------------------------------------------------------------------------
r37040 | darkjames | 2011-05-10 08:13:46 -0700 (Tue, 10 May 2011) | 2 lines
Changed paths:
   M /trunk/file.c

When closing capture file, set number of frames to 0. It fix bug #5903.

------------------------------------------------------------------------
r37041 | etxrab | 2011-05-10 08:20:09 -0700 (Tue, 10 May 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-3g-a11.c

On behalf of Ericsson update the A11 dissector.
------------------------------------------------------------------------
r37042 | cmaynard | 2011-05-10 08:37:06 -0700 (Tue, 10 May 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rohc.c

Fix two cases of comparisons begin made against incorrect values following a
mask operation.  Also, initialize g_rohc_info if pinfo->packet_data is !NULL.
Fixes Coverity ID's 1187, 1188 and 1190.

------------------------------------------------------------------------
r37043 | cmaynard | 2011-05-10 09:02:54 -0700 (Tue, 10 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-juniper.c

Fix two cases of dead code reported by Coverity as CID 376.

------------------------------------------------------------------------
r37044 | gerald | 2011-05-10 09:05:14 -0700 (Tue, 10 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-3g-a11.c

Make sure we set a variable.

------------------------------------------------------------------------
r37045 | cmaynard | 2011-05-10 10:04:05 -0700 (Tue, 10 May 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/Makefile.common
   A /trunk/epan/dissectors/packet-usb-at.c

Add USB/AT dissector, submitted by Tyson Key via bug 5868 with some
modifications by me as described/documented in the bug report.

------------------------------------------------------------------------
r37046 | cmaynard | 2011-05-10 10:06:20 -0700 (Tue, 10 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb-at.c

Add subversion Id and Wireshark copyright.

------------------------------------------------------------------------
r37047 | tuexen | 2011-05-10 10:25:45 -0700 (Tue, 10 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb-at.c

Remove unused variable to avoid a warning which breaks the build.

------------------------------------------------------------------------
r37048 | wmeier | 2011-05-10 10:28:46 -0700 (Tue, 10 May 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tte.c

Don't assign to unused variable: Coverity 1068 & 1069.
Remove some related no longer needed code and variables;
Also: Fix a typo and reword a comment.

------------------------------------------------------------------------
r37049 | cmaynard | 2011-05-10 10:40:29 -0700 (Tue, 10 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-eth.c

Add support for USB CDC Ethernet.  Resolves bug 4819.

------------------------------------------------------------------------
r37050 | wmeier | 2011-05-10 10:44:36 -0700 (Tue, 10 May 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tipc.c

Remove some unneeded lines of code: Coverity 1063;
Also: remonve someunneeded #includes.

------------------------------------------------------------------------
r37051 | wmeier | 2011-05-10 11:43:40 -0700 (Tue, 10 May 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb2.c

Add missing line of code: Fixes Coverity 1042 (UNUSED);
Remove unneeded lines of code: Coverity 1043 (UNUSED).

------------------------------------------------------------------------
r37052 | cmaynard | 2011-05-10 11:52:37 -0700 (Tue, 10 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-rtcp.c

From Olivier Crete via bug 5761: Compute the FCI size correctly for RTCP RTPFB.

------------------------------------------------------------------------
r37053 | guy | 2011-05-10 13:17:31 -0700 (Tue, 10 May 2011) | 4 lines
Changed paths:
   M /trunk/wiretap/commview.c
   M /trunk/wiretap/lanalyzer.c
   M /trunk/wiretap/ngsniffer.c
   M /trunk/wiretap/packetlogger.c

file_read() can return -1; don't just blindly add it to a previous
file_read() return value.  Use wtap_file_read_expected_bytes() in a
number of places.

------------------------------------------------------------------------
r37054 | guy | 2011-05-10 14:53:10 -0700 (Tue, 10 May 2011) | 4 lines
Changed paths:
   M /trunk/wiretap/nettl.c

file_read() can return -1; don't just blindly add it to a previous
file_read() return value.  Use wtap_file_read_expected_bytes() in a
number of places.

------------------------------------------------------------------------
r37055 | morriss | 2011-05-10 18:06:37 -0700 (Tue, 10 May 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-3g-a11.c

Eliminate redundant blurbs
------------------------------------------------------------------------
r37056 | morriss | 2011-05-10 18:11:50 -0700 (Tue, 10 May 2011) | 15 lines
Changed paths:
   M /trunk/epan/dissectors/packet-vtp.c

From Peter Paluch via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5893 :

- Put back the hf_ variables removed from the last patch

- Change the verbose protocol name to the (now) official spelling "VLAN
Trunking Protocol" instead of "Virtual Trunk Protocol"

- Made the "Info" column more informative by placing the message type and
selected key information into it, instead of just the verbose protocol name

- Corrected an error in the handling of the Advert-Request message where the
Management Domain Name field was not parsed properly, resulting in wrong
parsing of the remainder of the entire Advert-Request message


------------------------------------------------------------------------
r37057 | morriss | 2011-05-10 18:39:10 -0700 (Tue, 10 May 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-reload.c

Use consistent casing in hf_ descriptions and expert infos.
------------------------------------------------------------------------
r37058 | morriss | 2011-05-10 19:06:22 -0700 (Tue, 10 May 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c

From Michael Chen via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5863 :

5. A guaranteed null pointer access violation is fixed in packet-ssl-utils.c
when DTLS succeeded in dissecting its payload.

------------------------------------------------------------------------
r37059 | kukosa | 2011-05-11 00:31:18 -0700 (Wed, 11 May 2011) | 1 line
Changed paths:
   M /trunk/wiretap/wtap.def

Export wtap_fstat()
------------------------------------------------------------------------
r37060 | martinm | 2011-05-11 04:10:30 -0700 (Wed, 11 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-catapult-dct2000.c
   M /trunk/epan/dissectors/packet-mac-lte.c
   M /trunk/epan/dissectors/packet-mac-lte.h

Support multiple Scheduling Requests in one PDU.

------------------------------------------------------------------------
r37061 | tuexen | 2011-05-11 05:51:01 -0700 (Wed, 11 May 2011) | 3 lines
Changed paths:
   M /trunk/wiretap/pcapng.c

Fix a wrong name in a debug print statement.


------------------------------------------------------------------------
r37062 | wmeier | 2011-05-11 06:31:41 -0700 (Wed, 11 May 2011) | 3 lines
Changed paths:
   M /trunk/epan/CMakeLists.txt

Add packet-usb-at.c;
Also: put a few entries in alphabetical order.

------------------------------------------------------------------------
r37063 | wmeier | 2011-05-11 06:36:17 -0700 (Wed, 11 May 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb-at.c

#include <string.h> not req'd;
Move proto_reg_handoff...() to the end of the file as per the usual convention.

------------------------------------------------------------------------
r37064 | wmeier | 2011-05-11 06:58:35 -0700 (Wed, 11 May 2011) | 4 lines
Changed paths:
   M /trunk/AUTHORS

Add Tyson Key;
Fix spacing for a few entries;
Add back missing blank line before "and by".

------------------------------------------------------------------------
r37065 | gerald | 2011-05-11 13:35:57 -0700 (Wed, 11 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-lldp.c

Remove some unused variable assignments. Fixes Coverity CID 1202.

------------------------------------------------------------------------
r37066 | gerald | 2011-05-11 13:39:11 -0700 (Wed, 11 May 2011) | 2 lines
Changed paths:
   M /trunk/capinfos.c

Use a comparison instead of an assignment. Fixes Coverity CID 1194.

------------------------------------------------------------------------
r37067 | cmaynard | 2011-05-11 13:40:14 -0700 (Wed, 11 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb-at.c

When performing heuristics, use tvb_length() instead of tvb_reported_length().

------------------------------------------------------------------------
r37068 | gerald | 2011-05-11 15:36:59 -0700 (Wed, 11 May 2011) | 3 lines
Changed paths:
   M /trunk/wiretap/snoop.c

Check our original record length. Fixes a crash bug found by Huzaifa
Sidhpurwala of the Red Hat Security Response Team.

------------------------------------------------------------------------
r37069 | morriss | 2011-05-11 20:18:34 -0700 (Wed, 11 May 2011) | 10 lines
Changed paths:
   M /trunk/epan/dissectors/packet-btl2cap.c
   M /trunk/epan/dissectors/packet-btrfcomm.c
   M /trunk/epan/dissectors/packet-smb.c
   M /trunk/epan/dissectors/packet-smb2.c
   M /trunk/epan/libwireshark.def
   M /trunk/epan/tap.c
   M /trunk/epan/tap.h
   M /trunk/tshark.c

Fix the test.sh failures based on Guy's suggestion in https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5445#c15 :

Add a new tap flag to indicate that a tap listener is just a "dissector helper",
that is, a tap which is used by a dissector to help it do its dissection but
does not, itself, require dissection.

Use this new flag in the dissectors which register taps.

Remove the (now-unused) have_tap_listeners() function.

------------------------------------------------------------------------
r37070 | stig | 2011-05-12 03:27:02 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ip.c

Use IPv4 as protocol name, to align with IPv6.

------------------------------------------------------------------------
r37071 | stig | 2011-05-12 03:27:30 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ipv6.c

Prefix "fragments" with IPv6, as is done with IPv4.

------------------------------------------------------------------------
r37072 | etxrab | 2011-05-12 03:56:26 -0700 (Thu, 12 May 2011) | 4 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.h.win32
   M /trunk/config.nmake
   M /trunk/gtk/ansi_a_stat.c
   M /trunk/gtk/gsm_a_stat.c
   M /trunk/gtk/gui_stat_menu.h
   M /trunk/gtk/main_statusbar.c
   M /trunk/gtk/menus.c
   M /trunk/gtk/menus.h

Make the use of UIManager a configure option.
NOTE Only for Windows.

Additional moves to UIManager.
------------------------------------------------------------------------
r37073 | tuexen | 2011-05-12 03:58:14 -0700 (Thu, 12 May 2011) | 3 lines
Changed paths:
   M /trunk/capture_opts.c

Clean up some indentation. A purely whitespace change.


------------------------------------------------------------------------
r37074 | stig | 2011-05-12 04:06:42 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/asn1/ess/ess.cnf
   M /trunk/epan/dissectors/packet-ess.c
   M /trunk/epan/dissectors/packet-ess.h

Indicate Signed Receipt in info column.

------------------------------------------------------------------------
r37075 | stig | 2011-05-12 04:17:22 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/gtk/gsm_a_stat.c

Corrected endif.

------------------------------------------------------------------------
r37076 | tuexen | 2011-05-12 05:06:19 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/capture_opts.c

Another whitespace cleanup.

------------------------------------------------------------------------
r37077 | morriss | 2011-05-12 06:50:44 -0700 (Thu, 12 May 2011) | 1 line
Changed paths:
   M /trunk/epan/except.h
   M /trunk/epan/exntest.c

Include config.h (for WS_MSVC_NORETURN) and g_gnuc.h (for G_GNUC_NORETURN)
------------------------------------------------------------------------
r37078 | etxrab | 2011-05-12 08:17:28 -0700 (Thu, 12 May 2011) | 1 line
Changed paths:
   M /trunk/gtk/ansi_map_stat.c
   M /trunk/gtk/gsm_a_stat.c
   M /trunk/gtk/gsm_map_stat.c
   M /trunk/gtk/gsm_map_summary.c
   M /trunk/gtk/gui_stat_menu.h
   M /trunk/gtk/menus.c

Convetr more menus to GUIManager.
------------------------------------------------------------------------
r37079 | etxrab | 2011-05-12 08:40:32 -0700 (Thu, 12 May 2011) | 1 line
Changed paths:
   M /trunk/gtk/gsm_a_stat.c

Copy-paste error.
------------------------------------------------------------------------
r37080 | etxrab | 2011-05-12 08:48:51 -0700 (Thu, 12 May 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/packet-rsl.c

Remove check_col, use ENC_BIG_ENDIAN.
------------------------------------------------------------------------
r37081 | darkjames | 2011-05-12 09:31:42 -0700 (Thu, 12 May 2011) | 6 lines
Changed paths:
   M /trunk/epan/tvbuff.c

Fix double free. 

compr is also freed outside loop. So free it only when returning.

Might be related with bug #5908, but I don't have access to that bug ;-)

------------------------------------------------------------------------
r37082 | tuexen | 2011-05-12 09:54:16 -0700 (Thu, 12 May 2011) | 8 lines
Changed paths:
   M /trunk/capture_opts.c
   M /trunk/capture_opts.h

Add support for handling multiple interfaces as command line
parameters. An array of interface specific data is handled
in addition to the current way.
This change should not have any effect right now, it will
be used by dumpcap when supporting multiple interfaces
(and tshark/wireshark... in the future).


------------------------------------------------------------------------
r37083 | cmaynard | 2011-05-12 10:14:36 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-x25.c

Add text to fac_subtree instead of fac_tree.  Fixes Coverity CID 1129.

------------------------------------------------------------------------
r37084 | darkjames | 2011-05-12 10:14:59 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/config.h.win32
   M /trunk/config.nmake
   M /trunk/configure.in
   M /trunk/gtk/menus.c
   M /trunk/gtk/packet_win.c

Conditional support for packet-editor [default=no].

------------------------------------------------------------------------
r37085 | cmaynard | 2011-05-12 10:16:45 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wsmp.c

Delete acm as it is assigned but never used.  Fixes Coverity 1072.

------------------------------------------------------------------------
r37086 | cmaynard | 2011-05-12 10:19:10 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-wai.c

Use nonce_2_item instead of incorrect nonce_1_item.  Fixes Coverity CID 1071.

------------------------------------------------------------------------
r37087 | cmaynard | 2011-05-12 10:21:49 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-vmlab.c

Delete eth_addr; it was assigned a value but never used.  Fixes Coverity 1070.

------------------------------------------------------------------------
r37088 | cmaynard | 2011-05-12 10:23:38 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-tds.c

Add token to query_tree instead of to tree.  Fixes Coverity CID 1057.

------------------------------------------------------------------------
r37089 | cmaynard | 2011-05-12 10:25:43 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sua.c

Wrap assoc_tree within #if 0 ... #endif.  Fixes Coverity CID 1049.

------------------------------------------------------------------------
r37090 | cmaynard | 2011-05-12 10:26:54 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-sna.c

Add snai, mpf and efi to bf_tree, not tree.  Fixes Coverity CID 1045.

------------------------------------------------------------------------
r37091 | cmaynard | 2011-05-12 10:46:54 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/Makefile.nmake
   M /trunk/config.h.win32

WANT_PACKET_EDITOR fixups for Windows.

------------------------------------------------------------------------
r37092 | gerald | 2011-05-12 10:49:15 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/test/config.sh

"tshark -D" writes to stderr now.

------------------------------------------------------------------------
r37093 | gerald | 2011-05-12 11:02:00 -0700 (Thu, 12 May 2011) | 4 lines
Changed paths:
   M /trunk/packaging/macosx/ChmodBPF/ChmodBPF
   M /trunk/packaging/macosx/Read_me_first.rtf
   A /trunk/packaging/macosx/Scripts
   A /trunk/packaging/macosx/Scripts/chmodbpf-postinstall.sh
   A /trunk/packaging/macosx/Scripts/cli-postinstall.sh
   A /trunk/packaging/macosx/Scripts/wireshark-postinstall.sh
   A /trunk/packaging/macosx/Wireshark package.pmdoc
   A /trunk/packaging/macosx/Wireshark package.pmdoc/01wireshark-contents.xml
   A /trunk/packaging/macosx/Wireshark package.pmdoc/01wireshark.xml
   A /trunk/packaging/macosx/Wireshark package.pmdoc/02chmodbpf-contents.xml
   A /trunk/packaging/macosx/Wireshark package.pmdoc/02chmodbpf.xml
   A /trunk/packaging/macosx/Wireshark package.pmdoc/03utility-contents.xml
   A /trunk/packaging/macosx/Wireshark package.pmdoc/03utility.xml
   A /trunk/packaging/macosx/Wireshark package.pmdoc/index.xml
   M /trunk/packaging/macosx/osx-dmg.sh

Switch to an installer package for OS X instead of a draggable app
bundle. There are still a few rough edges but it's an improvement over
what we currently have. Fixes bug 5756.

------------------------------------------------------------------------
r37094 | tuexen | 2011-05-12 11:03:04 -0700 (Thu, 12 May 2011) | 8 lines
Changed paths:
   M /trunk/dumpcap.c

Add some more details (name of the interface and number of captured packets)
to the message showed when dumpcap is finishing.

This patch is the first one of a series which will add support for
capturing on multiple interfaces to dumpcap.

This patch is based on work of Irene Ruengeler.

------------------------------------------------------------------------
r37095 | tuexen | 2011-05-12 11:55:24 -0700 (Thu, 12 May 2011) | 5 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/dumpcap.c

Initialize the glib thread system on all platforms, not only on Windows.
This requires to be linked against a different library. This is only
required for dumpcap, but the configure files currently doesn't check
this in a target specific way. So use these libs for all binaries.

------------------------------------------------------------------------
r37096 | gerald | 2011-05-12 12:09:53 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/packaging/macosx/osx-dmg.sh

Remove "--version ..." to see if it fixes the builds.

------------------------------------------------------------------------
r37097 | cmaynard | 2011-05-12 12:24:55 -0700 (Thu, 12 May 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dns.c

Use rcode instead of repeated uses of "flags & F_RCODE".  One change submitted
from Yaniv Kaul via bug 5858; the other 2 from me.

------------------------------------------------------------------------
r37098 | tuexen | 2011-05-12 12:25:44 -0700 (Thu, 12 May 2011) | 4 lines
Changed paths:
   M /trunk/dumpcap.c

Add support for multiple interfaces when processing the -L option.

This is based on work of Irene Ruengeler.

------------------------------------------------------------------------
r37099 | darkjames | 2011-05-12 12:47:49 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/cfile.h
   M /trunk/epan/frame_data.h
   M /trunk/file.c
   M /trunk/gtk/packet_win.c

Packet editor: support for saving changed frames.

------------------------------------------------------------------------
r37100 | cmaynard | 2011-05-12 13:32:28 -0700 (Thu, 12 May 2011) | 7 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dnp.c

From Yaniv Kaul via bug 5858: Fix some "set but not used" warnings.  I
committed a variation of his patch that deleted unused variables rather than
#if 0'ing them out, and I also kept dissect_dnp3_al()'s return values, even if
it's not currently being checked, just in case the commented code is ever
uncommented and the return value ends up being checked later on.  Lastly, I
also added what appeared to be some missing DNP3_AL_UNS's.

------------------------------------------------------------------------
r37101 | morriss | 2011-05-12 13:35:13 -0700 (Thu, 12 May 2011) | 1 line
Changed paths:
   M /trunk/configure.in

We need both gthread and gmodule.
------------------------------------------------------------------------
r37102 | morriss | 2011-05-12 13:51:53 -0700 (Thu, 12 May 2011) | 5 lines
Changed paths:
   M /trunk/epan/dissectors/packet-ssl-utils.c

From Richard Brodie via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5800 :

Fix compilation if we HAVE_LIBGNUTLS but we do not HAVE_LIBGCRYPT.  (The
former can be built using libnettle instead of the latter.)

------------------------------------------------------------------------
r37103 | jmayer | 2011-05-12 14:13:00 -0700 (Thu, 12 May 2011) | 6 lines
Changed paths:
   M /trunk/CMakeLists.txt
   A /trunk/cmake/modules/FindGTHREAD2.cmake
   M /trunk/gtk/CMakeLists.txt

Play catch up with recent configure.in changes:
- Link dumpcap (and only dumpcap) against gthread
- gtk/gsm_a_stat.c and gtk/menus.c are dirty when configured with UI_MANAGER=1
- Add support run "cmake ... -DWANT_PACKET_EDITOR=1 ..."


------------------------------------------------------------------------
r37104 | morriss | 2011-05-12 14:37:55 -0700 (Thu, 12 May 2011) | 9 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/epan/CMakeLists.txt
   M /trunk/epan/dissectors/Makefile.common
   M /trunk/epan/dissectors/packet-ethertype.c
   A /trunk/epan/dissectors/packet-mrp-mmrp.c
   M /trunk/epan/etypes.h

From Johannes Jochen via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5900 :

I have created a dissector for the Multiple MAC Registration Protocol based on
the exiting dissector of the Multiple Stream Reservation Protocol (bugzilla id:
4757 ) You can found the documentation of the Protocol here:
http://standards.ieee.org/getieee802/download/802.1ak-2007.pdf It's also
includes the corrections of the protocol you will found here:
http://standards.ieee.org/getieee802/download/802.1Q-2005_Cor1-2008.pdf

------------------------------------------------------------------------
r37105 | gerald | 2011-05-12 14:42:55 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/packaging/macosx/Makefile.am
   M /trunk/packaging/macosx/osx-dmg.sh

Fix the OS X packaging build.

------------------------------------------------------------------------
r37106 | gerald | 2011-05-12 15:51:10 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/Makefile.am

Another attempt to fix the OS X .dmg builds.

------------------------------------------------------------------------
r37107 | gerald | 2011-05-12 16:46:31 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/packaging/macosx/Makefile.am
   M /trunk/packaging/macosx/Wireshark package.pmdoc/01wireshark-contents.xml
   M /trunk/packaging/macosx/Wireshark package.pmdoc/01wireshark.xml
   M /trunk/packaging/macosx/Wireshark package.pmdoc/03utility.xml
   M /trunk/packaging/macosx/Wireshark package.pmdoc/index.xml

More OS X installer fixes and tweaks.

------------------------------------------------------------------------
r37108 | gerald | 2011-05-12 17:29:10 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/packaging/macosx/Makefile.am

Try to fix distcheck.

------------------------------------------------------------------------
r37109 | morriss | 2011-05-12 17:34:31 -0700 (Thu, 12 May 2011) | 1 line
Changed paths:
   M /trunk/epan/plugins.c

Allocate wslua_plugin_list even if we do not HAVE_PLUGINS
------------------------------------------------------------------------
r37110 | morriss | 2011-05-12 19:48:08 -0700 (Thu, 12 May 2011) | 19 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dtls.c
   M /trunk/epan/dissectors/packet-reload-framing.c

From Michael Chen via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5863 :

1. Reload framing protocol no longer encapsulates the Reload message, instead
the latter is in its own tree following Reload framing, much like IP, UDP, etc.

2. Similarly, DTLS no longer encapsulates its data payload if the payload can
be dissected. The recognized payload is in its own tree following the DTLS,
much like IP, UDP, etc.

4. DTLS now has its own heuristic table for dissecting its payload, and
reload-framing is added to this DTLS heuristic table.

6. DTLS will try to dissect its payload if the agreed upon cipher is
RSA-NULL-MD5 (0x0001) or RSA-NULL-SHA (0x0002), even when DTLS is not
configured with the client/server private keys.


Still to do: make DTLS a heuristic dissector on top of UDP (item 3 in the bug).

------------------------------------------------------------------------
r37111 | tuexen | 2011-05-12 22:14:00 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/dumpcap.c

Add a comment what needs to be changed when adopting wireshark and tshark.

------------------------------------------------------------------------
r37112 | etxrab | 2011-05-12 22:19:23 -0700 (Thu, 12 May 2011) | 5 lines
Changed paths:
   M /trunk/epan/reassemble.c

We should get rid of g_mem_chunk_alloc() as it leaks memory
http://www.wireshark.org/lists/wireshark-dev/200910/msg00074.html
g_slice allocing the keys should make it possible to walk the
fragment table and free the fragments once they are g_slice_alloced.
It remains fo figure out how to do that.
------------------------------------------------------------------------
r37113 | tuexen | 2011-05-12 23:04:28 -0700 (Thu, 12 May 2011) | 3 lines
Changed paths:
   M /trunk/capture_opts.c

Use the same default value for the snaplen in the new array as in the
old way.

------------------------------------------------------------------------
r37114 | guy | 2011-05-12 23:11:19 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/packaging/macosx/Info.plist.in

Pcap files now have an official MIME type.

------------------------------------------------------------------------
r37115 | guy | 2011-05-12 23:23:58 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/wireshark.desktop

Pcap files now have an official MIME type.

------------------------------------------------------------------------
r37116 | guy | 2011-05-12 23:55:11 -0700 (Thu, 12 May 2011) | 2 lines
Changed paths:
   M /trunk/packaging/macosx/Info.plist.in
   M /trunk/wireshark.desktop

That's *application*/vnd.tcpdump.pcap to you.

------------------------------------------------------------------------
r37117 | stig | 2011-05-13 00:51:27 -0700 (Fri, 13 May 2011) | 2 lines
Changed paths:
   M /trunk/asn1/s1ap/Makefile.common

Build with S1AP-SonTransfer-IEs.asn

------------------------------------------------------------------------
r37118 | stig | 2011-05-13 01:12:27 -0700 (Fri, 13 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-HI2Operations.c
   M /trunk/epan/dissectors/packet-acp133.c
   M /trunk/epan/dissectors/packet-acp133.h
   M /trunk/epan/dissectors/packet-acse.c
   M /trunk/epan/dissectors/packet-acse.h
   M /trunk/epan/dissectors/packet-ansi_tcap.c
   M /trunk/epan/dissectors/packet-ansi_tcap.h
   M /trunk/epan/dissectors/packet-camel.c
   M /trunk/epan/dissectors/packet-camel.h
   M /trunk/epan/dissectors/packet-cdt.c
   M /trunk/epan/dissectors/packet-cdt.h
   M /trunk/epan/dissectors/packet-charging_ase.c
   M /trunk/epan/dissectors/packet-charging_ase.h
   M /trunk/epan/dissectors/packet-cmip.c
   M /trunk/epan/dissectors/packet-cmip.h
   M /trunk/epan/dissectors/packet-cmp.c
   M /trunk/epan/dissectors/packet-cmp.h
   M /trunk/epan/dissectors/packet-cms.c
   M /trunk/epan/dissectors/packet-cms.h
   M /trunk/epan/dissectors/packet-crmf.c
   M /trunk/epan/dissectors/packet-crmf.h
   M /trunk/epan/dissectors/packet-dap.c
   M /trunk/epan/dissectors/packet-dap.h
   M /trunk/epan/dissectors/packet-disp.c
   M /trunk/epan/dissectors/packet-disp.h
   M /trunk/epan/dissectors/packet-dop.c
   M /trunk/epan/dissectors/packet-dop.h
   M /trunk/epan/dissectors/packet-dsp.c
   M /trunk/epan/dissectors/packet-dsp.h
   M /trunk/epan/dissectors/packet-ftam.c
   M /trunk/epan/dissectors/packet-ftam.h
   M /trunk/epan/dissectors/packet-gnm.c
   M /trunk/epan/dissectors/packet-gnm.h
   M /trunk/epan/dissectors/packet-goose.c
   M /trunk/epan/dissectors/packet-gprscdr.c
   M /trunk/epan/dissectors/packet-gprscdr.h
   M /trunk/epan/dissectors/packet-gsm_map.c
   M /trunk/epan/dissectors/packet-gsm_map.h
   M /trunk/epan/dissectors/packet-h225.c
   M /trunk/epan/dissectors/packet-h225.h
   M /trunk/epan/dissectors/packet-h235.c
   M /trunk/epan/dissectors/packet-h235.h
   M /trunk/epan/dissectors/packet-h245.c
   M /trunk/epan/dissectors/packet-h245.h
   M /trunk/epan/dissectors/packet-h282.c
   M /trunk/epan/dissectors/packet-h283.c
   M /trunk/epan/dissectors/packet-h323.c
   M /trunk/epan/dissectors/packet-h323.h
   M /trunk/epan/dissectors/packet-h450-ros.c
   M /trunk/epan/dissectors/packet-h450-ros.h
   M /trunk/epan/dissectors/packet-h450.c
   M /trunk/epan/dissectors/packet-h460.c
   M /trunk/epan/dissectors/packet-h501.c
   M /trunk/epan/dissectors/packet-hnbap.c
   M /trunk/epan/dissectors/packet-idmp.c
   M /trunk/epan/dissectors/packet-idmp.h
   M /trunk/epan/dissectors/packet-inap.c
   M /trunk/epan/dissectors/packet-inap.h
   M /trunk/epan/dissectors/packet-ldap.c
   M /trunk/epan/dissectors/packet-logotypecertextn.c
   M /trunk/epan/dissectors/packet-logotypecertextn.h
   M /trunk/epan/dissectors/packet-mms.c
   M /trunk/epan/dissectors/packet-mms.h
   M /trunk/epan/dissectors/packet-mpeg-audio.c
   M /trunk/epan/dissectors/packet-mpeg-pes.c
   M /trunk/epan/dissectors/packet-nbap.c
   M /trunk/epan/dissectors/packet-ns_cert_exts.c
   M /trunk/epan/dissectors/packet-ocsp.c
   M /trunk/epan/dissectors/packet-ocsp.h
   M /trunk/epan/dissectors/packet-p1.c
   M /trunk/epan/dissectors/packet-p1.h
   M /trunk/epan/dissectors/packet-p22.c
   M /trunk/epan/dissectors/packet-p22.h
   M /trunk/epan/dissectors/packet-p7.c
   M /trunk/epan/dissectors/packet-p7.h
   M /trunk/epan/dissectors/packet-p772.c
   M /trunk/epan/dissectors/packet-p772.h
   M /trunk/epan/dissectors/packet-pcap.c
   M /trunk/epan/dissectors/packet-pkcs1.c
   M /trunk/epan/dissectors/packet-pkcs1.h
   M /trunk/epan/dissectors/packet-pkcs12.c
   M /trunk/epan/dissectors/packet-pkcs12.h
   M /trunk/epan/dissectors/packet-pkinit.c
   M /trunk/epan/dissectors/packet-pkinit.h
   M /trunk/epan/dissectors/packet-pkix1explicit.c
   M /trunk/epan/dissectors/packet-pkix1explicit.h
   M /trunk/epan/dissectors/packet-pkix1implicit.c
   M /trunk/epan/dissectors/packet-pkix1implicit.h
   M /trunk/epan/dissectors/packet-pkixac.c
   M /trunk/epan/dissectors/packet-pkixac.h
   M /trunk/epan/dissectors/packet-pkixproxy.c
   M /trunk/epan/dissectors/packet-pkixproxy.h
   M /trunk/epan/dissectors/packet-pkixqualified.c
   M /trunk/epan/dissectors/packet-pkixqualified.h
   M /trunk/epan/dissectors/packet-pkixtsp.c
   M /trunk/epan/dissectors/packet-pkixtsp.h
   M /trunk/epan/dissectors/packet-pres.c
   M /trunk/epan/dissectors/packet-pres.h
   M /trunk/epan/dissectors/packet-q932-ros.c
   M /trunk/epan/dissectors/packet-q932.c
   M /trunk/epan/dissectors/packet-q932.h
   M /trunk/epan/dissectors/packet-ranap.c
   M /trunk/epan/dissectors/packet-ranap.h
   M /trunk/epan/dissectors/packet-rnsap.c
   M /trunk/epan/dissectors/packet-ros.c
   M /trunk/epan/dissectors/packet-ros.h
   M /trunk/epan/dissectors/packet-rrc.c
   M /trunk/epan/dissectors/packet-rrc.h
   M /trunk/epan/dissectors/packet-rrlp.c
   M /trunk/epan/dissectors/packet-rua.c
   M /trunk/epan/dissectors/packet-s1ap.c
   M /trunk/epan/dissectors/packet-s1ap.h
   M /trunk/epan/dissectors/packet-sabp.c
   M /trunk/epan/dissectors/packet-smrse.c
   M /trunk/epan/dissectors/packet-smrse.h
   M /trunk/epan/dissectors/packet-spnego.c
   M /trunk/epan/dissectors/packet-sv.c
   M /trunk/epan/dissectors/packet-sv.h
   M /trunk/epan/dissectors/packet-t125.c
   M /trunk/epan/dissectors/packet-t125.h
   M /trunk/epan/dissectors/packet-tcap.c
   M /trunk/epan/dissectors/packet-tcap.h
   M /trunk/epan/dissectors/packet-ulp.c
   M /trunk/epan/dissectors/packet-wlancertextn.c
   M /trunk/epan/dissectors/packet-wlancertextn.h
   M /trunk/epan/dissectors/packet-x2ap.c
   M /trunk/epan/dissectors/packet-x509af.c
   M /trunk/epan/dissectors/packet-x509af.h
   M /trunk/epan/dissectors/packet-x509ce.c
   M /trunk/epan/dissectors/packet-x509ce.h
   M /trunk/epan/dissectors/packet-x509sat.c
   M /trunk/epan/dissectors/packet-x509sat.h

Regenerate ASN.1 dissectors to update the #line directive.

------------------------------------------------------------------------
r37119 | stig | 2011-05-13 01:17:15 -0700 (Fri, 13 May 2011) | 2 lines
Changed paths:
   M /trunk/packaging/macosx

Added COPYING.txt to svn:ignore.

------------------------------------------------------------------------
r37120 | tuexen | 2011-05-13 04:28:51 -0700 (Fri, 13 May 2011) | 4 lines
Changed paths:
   M /trunk/capture_opts.c
   M /trunk/capture_opts.h
   M /trunk/dumpcap.c
   M /trunk/gtk/main.c
   M /trunk/tshark.c

Get -L and -d working with multiple interface. Internally get some functions
using the array of interface data.
Improve output of -L by printing the interface name.

------------------------------------------------------------------------
r37121 | stig | 2011-05-13 04:50:33 -0700 (Fri, 13 May 2011) | 3 lines
Changed paths:
   M /trunk/gtk/main_statusbar.c

Simplified string handling in packets_bar_update to use GString.
This allows both Dropped and Ignored count, combined with Load time.

------------------------------------------------------------------------
r37122 | tuexen | 2011-05-13 06:04:13 -0700 (Fri, 13 May 2011) | 2 lines
Changed paths:
   M /trunk/dumpcap.c

Fix a copy/paste error.

------------------------------------------------------------------------
r37123 | morriss | 2011-05-13 07:21:58 -0700 (Fri, 13 May 2011) | 1 line
Changed paths:
   M /trunk/epan/reassemble.c

As suggested by Anders: back out 37112.
------------------------------------------------------------------------
r37124 | morriss | 2011-05-13 08:04:40 -0700 (Fri, 13 May 2011) | 1 line
Changed paths:
   M /trunk/epan/Makefile.am

Don't try to export the plugin symbols if we're not building with plugins.
------------------------------------------------------------------------
r37125 | morriss | 2011-05-13 08:07:54 -0700 (Fri, 13 May 2011) | 1 line
Changed paths:
   M /trunk/epan/Makefile.am

Make it work when we have plugins
------------------------------------------------------------------------
r37126 | wmeier | 2011-05-13 08:39:43 -0700 (Fri, 13 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/value_string.h

(Trivial) fix a spelling error.

------------------------------------------------------------------------
r37127 | cmaynard | 2011-05-13 10:05:05 -0700 (Fri, 13 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-stun.c

Eliminate deadcode.  Fixes Coverity CID 415.

------------------------------------------------------------------------
r37128 | gerald | 2011-05-13 10:12:44 -0700 (Fri, 13 May 2011) | 3 lines
Changed paths:
   M /trunk/wiretap/visual.c

From Huzaifa Sidhpurwala of the Red Hat Security Response Team: Fix an
integer overflow in wiretap/visual.c.

------------------------------------------------------------------------
r37129 | gerald | 2011-05-13 11:23:27 -0700 (Fri, 13 May 2011) | 2 lines
Changed paths:
   M /trunk/packaging/macosx/Scripts/cli-postinstall.sh
   M /trunk/packaging/macosx/Wireshark package.pmdoc/01wireshark-contents.xml
   M /trunk/packaging/macosx/Wireshark package.pmdoc/01wireshark.xml
   M /trunk/packaging/macosx/Wireshark package.pmdoc/02chmodbpf.xml
   M /trunk/packaging/macosx/Wireshark package.pmdoc/03utility-contents.xml
   M /trunk/packaging/macosx/Wireshark package.pmdoc/03utility.xml
   M /trunk/packaging/macosx/Wireshark package.pmdoc/index.xml

Fix items pointed out by Guy in bug 5756.

------------------------------------------------------------------------
r37130 | morriss | 2011-05-13 12:02:55 -0700 (Fri, 13 May 2011) | 4 lines
Changed paths:
   M /trunk/gtk/rtp_player.c

Fix https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5902 :

Increase the maximum number of silence frames insert from 1000 to 240,000.

------------------------------------------------------------------------
r37131 | cmaynard | 2011-05-13 12:15:21 -0700 (Fri, 13 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-windows-common.c

Delete assignment of item as it's not used.  Fixes Coverity CID 869.

------------------------------------------------------------------------
r37132 | cmaynard | 2011-05-13 12:29:15 -0700 (Fri, 13 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dcp-etsi.c

Delete 2 assignments to 'i' as neither were used.  Fixes Coverity CID 875.

------------------------------------------------------------------------
r37133 | wmeier | 2011-05-13 14:47:09 -0700 (Fri, 13 May 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

Fix Bug 5919: "IE 89 Forwarding Status - Incorrect Decoding"
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5919

------------------------------------------------------------------------
r37134 | stig | 2011-05-13 14:49:35 -0700 (Fri, 13 May 2011) | 2 lines
Changed paths:
   M /trunk/gtk/main_statusbar.c

More packets_bar_update improvements.

------------------------------------------------------------------------
r37135 | wmeier | 2011-05-13 15:01:22 -0700 (Fri, 13 May 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-dnp.c

Fix Bug 5920: "DNP3 dissector incorrect constants AL_OBJ_FCTR_16NF _FDCTR_32NF _FDCTR_16NF"
https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5920

------------------------------------------------------------------------
r37136 | wmeier | 2011-05-13 15:10:42 -0700 (Fri, 13 May 2011) | 2 lines
Changed paths:
   M /trunk/epan/dissectors/packet-netflow.c

Fix a compiler warning

------------------------------------------------------------------------
r37137 | guy | 2011-05-13 17:50:22 -0700 (Fri, 13 May 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-bacapp.c

Make the tree items for strings look a little less ugly.

Note that the string value should be put into the protocol tree.

------------------------------------------------------------------------
r37138 | guy | 2011-05-13 18:28:49 -0700 (Fri, 13 May 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

For Find File Unix and Unix Info2, spell it "Unix", to match Query File
and Set File.

Add Query and Set File Unix Info2; use common code to dissect the Unix
Info2 structure.  Use common code for Unix Basic, while we're at it.

------------------------------------------------------------------------
r37139 | guy | 2011-05-13 19:52:04 -0700 (Fri, 13 May 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-smb.c

Remove the qpi_ from info level dissectors used for set info calls as
well.

------------------------------------------------------------------------
r37140 | etxrab | 2011-05-14 06:15:22 -0700 (Sat, 14 May 2011) | 1 line
Changed paths:
   M /trunk/gtk/menus.c

Move MAIN_MENU_USE_UI_MANAGER outside of if win32.
------------------------------------------------------------------------
r37141 | etxrab | 2011-05-14 06:15:56 -0700 (Sat, 14 May 2011) | 1 line
Changed paths:
   M /trunk/config.nmake

Move MAIN_MENU_USE_UI_MANAGER outside of if win32.
------------------------------------------------------------------------
r37142 | morriss | 2011-05-14 07:05:30 -0700 (Sat, 14 May 2011) | 6 lines
Changed paths:
   M /trunk/epan/dissectors/packet-batadv.c

From Sven Eckelmann via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5658 :

Read unchanged packets of v12 as v10 packets
Read unchanged packets of v13 as v11 packets
Use version in packet type definitions

------------------------------------------------------------------------
r37143 | morriss | 2011-05-14 07:31:51 -0700 (Sat, 14 May 2011) | 4 lines
Changed paths:
   M /trunk/epan/dissectors/packet-batadv.c

From Sven Eckelmann via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5658 :

Add support for v12 fragmented unicast.

------------------------------------------------------------------------
r37144 | cmaynard | 2011-05-14 07:57:58 -0700 (Sat, 14 May 2011) | 3 lines
Changed paths:
   M /trunk/epan/dissectors/packet-usb-at.c

From Tyson Key via bug 5922:  Add another AT magic array.
(I changed the array names to be more generic.)

------------------------------------------------------------------------
r37145 | morriss | 2011-05-14 11:39:16 -0700 (Sat, 14 May 2011) | 1 line
Changed paths:
   M /trunk/epan/dissectors/x11-declarations.h
   M /trunk/epan/dissectors/x11-enum.h
   M /trunk/epan/dissectors/x11-extension-errors.h
   M /trunk/epan/dissectors/x11-extension-implementation.h
   M /trunk/epan/dissectors/x11-glx-render-enum.h
   M /trunk/epan/dissectors/x11-register-info.h

Rebuild the X11 dissector with the latest versions of xcbproto and mesa.
------------------------------------------------------------------------
r37146 | gerald | 2011-05-14 13:06:24 -0700 (Sat, 14 May 2011) | 1 line
Changed paths:
   A /trunk-1.6 (from /trunk:37145)

Create the 1.6 trunk
------------------------------------------------------------------------
r37147 | gerald | 2011-05-14 13:15:12 -0700 (Sat, 14 May 2011) | 2 lines
Changed paths:
   M /trunk-1.6/config.nmake
   M /trunk-1.6/configure.in
   M /trunk-1.6/debian/changelog
   M /trunk-1.6/docbook/release-notes.xml
   A /trunk-1.6/version.conf

1.5.2 → 1.6.0. Add a version.conf.

------------------------------------------------------------------------
r37149 | gerald | 2011-05-14 13:21:08 -0700 (Sat, 14 May 2011) | 2 lines
Changed paths:
   M /trunk-1.6/docbook/release-notes.xml

1.6.0 → 1.6.0rc1.

------------------------------------------------------------------------
r37153 | morriss | 2011-05-14 20:10:34 -0700 (Sat, 14 May 2011) | 16 lines
Changed paths:
   M /trunk-1.6/gtk/airpcap_dlg.c
   M /trunk-1.6/gtk/main.c

Copy over revisions from trunk:

------------------------------------------------------------------------
r37150 | morriss | 2011-05-14 22:42:52 -0400 (Sat, 14 May 2011) | 1 line

main_widgets_rearrange(): only pack the airpcap_tb once (to avoid GTK
complaints about the child already having a parent).


------------------------------------------------------------------------
r37151 | morriss | 2011-05-14 22:45:18 -0400 (Sat, 14 May 2011) | 1 line

gtk_combo_box_get_active_text() may return NULL and g_ascii_strcasecmp()
complains if its first argument is NULL, so check for the NULL pointer
before using it.

------------------------------------------------------------------------
r37158 | gerald | 2011-05-15 09:04:48 -0700 (Sun, 15 May 2011) | 1 line
Changed paths:
   M /trunk-1.6/epan/enterprise-numbers

[Automatic manuf, services and enterprise-numbers update for 2011-05-15]
------------------------------------------------------------------------
r37182 | gerald | 2011-05-16 11:27:27 -0700 (Mon, 16 May 2011) | 32 lines
Changed paths:
   M /trunk-1.6/ChangeLog
   M /trunk-1.6/docbook/release-notes.xml
   M /trunk-1.6/epan/dissectors/packet-icmpv6.c
   M /trunk-1.6/epan/dissectors/packet-netflow.c
   M /trunk-1.6/packaging/macosx/Scripts/chmodbpf-postinstall.sh
   M /trunk-1.6/version.conf

Copy over revisions from the trunk:

  ------------------------------------------------------------------------
  r37162 | alagoutte | 2011-05-15 10:47:56 -0700 (Sun, 15 May 2011) | 5 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-icmpv6.c

  From Colin O'Flynn via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5921
  Fix for RPL DAO-ACK Processing when DODAG ID present

  Reported and fixed by Jakob Ruhe
  ------------------------------------------------------------------------
  r37167 | gerald | 2011-05-15 12:25:50 -0700 (Sun, 15 May 2011) | 5 lines
  Changed paths:
     M /trunk/packaging/macosx/Scripts/chmodbpf-postinstall.sh

  Fix the ChmodBPF startup item permissions. Handling this within
  PackageMaker would be a more correct fix. Replacing PackageMaker with
  something that fits our development and deployment model would be an
  even more correct fix.
  ------------------------------------------------------------------------
  r37181 | morriss | 2011-05-16 10:02:22 -0700 (Mon, 16 May 2011) | 3 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-netflow.c

  Avoid passing a NULL string pointer to format routines: some libc's (e.g.,
  Solaris') will seg-fault on that.
  ------------------------------------------------------------------------

Update the release notes.


------------------------------------------------------------------------
r37184 | gerald | 2011-05-16 11:33:34 -0700 (Mon, 16 May 2011) | 2 lines
Changed paths:
   M /trunk-1.6/configure.in

Disable warnings-as-errors by default.

------------------------------------------------------------------------
r37185 | gerald | 2011-05-16 11:40:15 -0700 (Mon, 16 May 2011) | 2 lines
Changed paths:
   M /trunk-1.6/NEWS
   M /trunk-1.6/docbook/Makefile.am
   M /trunk-1.6/version.conf

Build 1.6.0rc1.

------------------------------------------------------------------------
r37186 | gerald | 2011-05-16 11:49:28 -0700 (Mon, 16 May 2011) | 2 lines
Changed paths:
   M /trunk-1.6/CMakeOptions.txt

Set DISABLE_WERROR on by default.

------------------------------------------------------------------------
r37193 | gerald | 2011-05-16 16:00:49 -0700 (Mon, 16 May 2011) | 2 lines
Changed paths:
   M /trunk-1.6/docbook/release-notes.xml
   M /trunk-1.6/version.conf

Prerelease / rc2.

------------------------------------------------------------------------
r37205 | gerald | 2011-05-17 12:24:55 -0700 (Tue, 17 May 2011) | 2 lines
Changed paths:
   M /trunk-1.6/docbook/release-notes.xml

Update the release notes.

------------------------------------------------------------------------
r37299 | gerald | 2011-05-19 11:41:39 -0700 (Thu, 19 May 2011) | 2 lines
Changed paths:
   M /trunk-1.6/config.nmake

Add a version to the Windows library directory.

------------------------------------------------------------------------
r37310 | gerald | 2011-05-19 13:38:00 -0700 (Thu, 19 May 2011) | 2 lines
Changed paths:
   M /trunk-1.6/docbook/user-guide.xml
   M /trunk-1.6/docbook/wsug_src/WSUG_app_tools.xml

Copy over 1.6 updates from the trunk.

------------------------------------------------------------------------
r37313 | gerald | 2011-05-19 14:10:26 -0700 (Thu, 19 May 2011) | 1 line
Changed paths:
   M /trunk-1.6/Makefile.nmake
   M /trunk-1.6/tools/win32-setup.sh
   M /trunk-1.6/tools/win64-setup.sh

Update the User's Guide.
------------------------------------------------------------------------
r37315 | gerald | 2011-05-19 15:58:19 -0700 (Thu, 19 May 2011) | 2 lines
Changed paths:
   M /trunk-1.6/gtk/about_dlg.c
   M /trunk-1.6/gtk/main_welcome.c

Use the stable release splash image.

------------------------------------------------------------------------
r37332 | gerald | 2011-05-20 10:01:20 -0700 (Fri, 20 May 2011) | 2 lines
Changed paths:
   M /trunk-1.6/docbook/release-notes.xml

Add bugs 4985 and 5580 to the list of known problems.

------------------------------------------------------------------------
r37347 | gerald | 2011-05-22 09:05:11 -0700 (Sun, 22 May 2011) | 1 line
Changed paths:
   M /trunk-1.6/epan/enterprise-numbers
   M /trunk-1.6/services

[Automatic manuf, services and enterprise-numbers update for 2011-05-22]
------------------------------------------------------------------------
r37373 | etxrab | 2011-05-23 22:38:15 -0700 (Mon, 23 May 2011) | 4 lines
Changed paths:
   M /trunk-1.6/diameter/dictionary.xml
   M /trunk-1.6/epan/dissectors/packet-diameter_3gpp.c

Copy over:
r37292 Subdissect 2 3GPP AVP:s that are actually text.
r37294 Fix a typo.
r37236 Prettify som 3GPP AVP:s
------------------------------------------------------------------------
r37397 | gerald | 2011-05-25 14:06:08 -0700 (Wed, 25 May 2011) | 98 lines
Changed paths:
   M /trunk-1.6/epan/dissectors/packet-aim-messaging.c
   M /trunk-1.6/epan/dissectors/packet-gsm_a_gm.c
   M /trunk-1.6/epan/dissectors/packet-ncp2222.inc
   M /trunk-1.6/epan/dissectors/packet-ntlmssp.c
   M /trunk-1.6/epan/dissectors/packet-smb.c
   M /trunk-1.6/gtk/gui_stat_menu.h
   M /trunk-1.6/gtk/menus.c
   M /trunk-1.6/gtk/tcp_graph.c

Copy over revisions from the trunk:

  ------------------------------------------------------------------------
  r37154 | etxrab | 2011-05-15 07:18:22 -0700 (Sun, 15 May 2011) | 2 lines
  Changed paths:
     M /trunk/gtk/gui_stat_menu.h
     M /trunk/gtk/menus.c
     M /trunk/gtk/tcp_graph.c

  Add the TCPGraph for UIManager.
  Note sensitivity remains to be fixed.
  ------------------------------------------------------------------------
  r37156 | etxrab | 2011-05-15 08:08:47 -0700 (Sun, 15 May 2011) | 1 line
  Changed paths:
     M /trunk/gtk/gui_stat_menu.h
     M /trunk/gtk/menus.c
     M /trunk/gtk/tcp_graph.c

  Set menu sensitivity.
  ------------------------------------------------------------------------
  r37157 | etxrab | 2011-05-15 08:09:44 -0700 (Sun, 15 May 2011) | 1 line
  Changed paths:
     M /trunk/gtk/menus.c

  Remove debug code.
  ------------------------------------------------------------------------
  r37183 | guy | 2011-05-16 11:32:35 -0700 (Mon, 16 May 2011) | 11 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-smb.c

  Fix some comments.

  Get rid of null-pointer tests for t2i in the "not null" branch of an
  earlier test whether it's null, as those tests are redundant.

  Use a switch statement to check the subcommand for Trans2.

  If t2i->info_level is -1, it means we don't know the info level, for
  whatever reason (e.g., the request was cut short by the snapshot length
  before the info level).  Report it as such.
  ------------------------------------------------------------------------
  r37188 | cmaynard | 2011-05-16 13:02:14 -0700 (Mon, 16 May 2011) | 3 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-aim-messaging.c

  Fix endian issues, especially w/endian arg to proto_tree_add_item().
  Should fix https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5464.

  ------------------------------------------------------------------------
  r37192 | guy | 2011-05-16 15:55:22 -0700 (Mon, 16 May 2011) | 3 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-smb.c

  Give the UNIX-extension routines used for info levels that appear both
  in set and get names beginning with dissect_qspi_.
  ------------------------------------------------------------------------
  r37196 | guy | 2011-05-16 18:38:28 -0700 (Mon, 16 May 2011) | 2 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-ntlmssp.c

  Fix cut-and-pasteo.
  ------------------------------------------------------------------------
  r37197 | guy | 2011-05-16 19:29:43 -0700 (Mon, 16 May 2011) | 4 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-ntlmssp.c

  According to MS-NLMP, the "version" field in the NTLMSSP blobs is
  present only if the NTLMSSP_NEGOTIATE_VERSION flag is set in the flags
  field, and that appears to be true in at least one capture I've seen.
  ------------------------------------------------------------------------
  r37199 | etxrab | 2011-05-17 01:23:30 -0700 (Tue, 17 May 2011) | 2 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-gsm_a_gm.c

  Use the correct value string and bitmasks.
  https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5928
  ------------------------------------------------------------------------
  r37201 | morriss | 2011-05-17 09:07:24 -0700 (Tue, 17 May 2011) | 3 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-ncp2222.inc

  Avoid passing a NULL string pointer to format routines: some libc's (e.g.,
  Solaris') will seg-fault on that.
  ------------------------------------------------------------------------
  r37202 | morriss | 2011-05-17 10:40:26 -0700 (Tue, 17 May 2011) | 9 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-ncp2222.inc

  As suggested by Chris: use val_to_str_const() instead of match_strval() plus a
  NULL-return check.

  Use val_to_str_const instead of val_to_str() in a couple places where the string
  is constant.

  Use val_to_str() instead of blindly passing the return value from match_strval()
  into a format routine (to ensure a non-NULL string pointer).
  ------------------------------------------------------------------------

------------------------------------------------------------------------
r37398 | gerald | 2011-05-25 14:19:56 -0700 (Wed, 25 May 2011) | 114 lines
Changed paths:
   M /trunk-1.6/color_filters.c
   M /trunk-1.6/epan/dissectors/packet-dvbci.c
   M /trunk-1.6/epan/dissectors/packet-reload.c
   M /trunk-1.6/epan/dissectors/packet-stun.c
   M /trunk-1.6/epan/dissectors/packet-xcsl.c
   M /trunk-1.6/epan/funnel.c
   M /trunk-1.6/epan/geoip_db.c
   M /trunk-1.6/epan/oids.c
   M /trunk-1.6/epan/packet.c
   M /trunk-1.6/epan/proto.c
   M /trunk-1.6/epan/wslua/init_wslua.c
   M /trunk-1.6/file.c
   M /trunk-1.6/file.h
   M /trunk-1.6/gtk/export_object.h
   M /trunk-1.6/gtk/export_object_smb.c
   M /trunk-1.6/gtk/file_import_dlg.c
   M /trunk-1.6/gtk/iax2_analysis.c
   M /trunk-1.6/gtk/main_welcome.c
   M /trunk-1.6/gtk/manual_addr_resolv.c
   M /trunk-1.6/gtk/menus.c
   M /trunk-1.6/gtk/new_packet_list.c
   M /trunk-1.6/gtk/packet_list_store.h
   M /trunk-1.6/gtk/prefs_stream.c
   M /trunk-1.6/gtk/proto_help.c
   M /trunk-1.6/gtk/rtp_analysis.c
   M /trunk-1.6/gtk/sctp_stat_dlg.c
   M /trunk-1.6/gtk/text_import.h
   M /trunk-1.6/gtk/voip_calls.c
   M /trunk-1.6/print.c
   M /trunk-1.6/ringbuffer.c
   M /trunk-1.6/u3.c
   M /trunk-1.6/util.c
   M /trunk-1.6/wiretap/wtap.c

Copy over revisions from the trunk:

  ------------------------------------------------------------------------
  r37203 | morriss | 2011-05-17 11:53:35 -0700 (Tue, 17 May 2011) | 3 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-dvbci.c
     M /trunk/epan/dissectors/packet-reload.c
     M /trunk/epan/dissectors/packet-stun.c
     M /trunk/epan/dissectors/packet-xcsl.c

  Use val_to_str() instead of blindly passing the return value from match_strval()
  into a format routine (to ensure a non-NULL string pointer).
  ------------------------------------------------------------------------
  r37207 | tuexen | 2011-05-17 12:51:55 -0700 (Tue, 17 May 2011) | 5 lines
  Changed paths:
     M /trunk/wiretap/wtap.c

  * Don't declare a used arg as unused.
  * Really clear the EOF flag. This fixes a bug where
    tshark is not able to do a live capture from a pcapng
    file.
  ------------------------------------------------------------------------
  r37211 | guy | 2011-05-17 14:26:25 -0700 (Tue, 17 May 2011) | 4 lines
  Changed paths:
     M /trunk/file.h
     M /trunk/gtk/export_object.h
     M /trunk/gtk/export_object_smb.c
     M /trunk/gtk/file_import_dlg.c
     M /trunk/gtk/main_welcome.c
     M /trunk/gtk/new_packet_list.c
     M /trunk/gtk/text_import.h

  This ain't C++; you have to put "void" in as the argument list of
  functions that take no arguments, otherwise the function is treated as a
  crufty old C function with undeclared arguments.
  ------------------------------------------------------------------------
  r37212 | guy | 2011-05-17 14:28:07 -0700 (Tue, 17 May 2011) | 4 lines
  Changed paths:
     M /trunk/epan/oids.c

  This ain't C++; you have to put "void" in as the argument list of
  functions that take no arguments, otherwise the function is treated as a
  crufty old C function with undeclared arguments.
  ------------------------------------------------------------------------
  r37216 | guy | 2011-05-17 15:18:32 -0700 (Tue, 17 May 2011) | 2 lines
  Changed paths:
     M /trunk/color_filters.c
     M /trunk/epan/funnel.c
     M /trunk/epan/packet.c
     M /trunk/epan/wslua/init_wslua.c
     M /trunk/file.c
     M /trunk/gtk/prefs_stream.c
     M /trunk/gtk/sctp_stat_dlg.c
     M /trunk/print.c
     M /trunk/u3.c

  More eradication of old-style function definitions.
  ------------------------------------------------------------------------
  r37224 | guy | 2011-05-17 16:35:12 -0700 (Tue, 17 May 2011) | 2 lines
  Changed paths:
     M /trunk/ringbuffer.c

  Fix another old-style function definition.
  ------------------------------------------------------------------------
  r37235 | guy | 2011-05-17 20:28:26 -0700 (Tue, 17 May 2011) | 2 lines
  Changed paths:
     M /trunk/epan/proto.c

  Make some more routines not used outside epan/proto.c static.
  ------------------------------------------------------------------------
  r37223 | guy | 2011-05-17 16:33:23 -0700 (Tue, 17 May 2011) | 9 lines
  Changed paths:
     M /trunk/epan/oids.c
     M /trunk/gtk/export_object_smb.c
     M /trunk/gtk/iax2_analysis.c
     M /trunk/gtk/manual_addr_resolv.c
     M /trunk/gtk/menus.c
     M /trunk/gtk/new_packet_list.c
     M /trunk/gtk/packet_list_store.h
     M /trunk/gtk/proto_help.c
     M /trunk/gtk/rtp_analysis.c
     M /trunk/gtk/voip_calls.c
     M /trunk/util.c

  Make some routines static that aren't used outside the source file in
  which they're defined.

  Include some header files that declare functions in the source files
  that define the functions.

  Declare packet_list_get_type() in gtk/packet_list_store.h, as it defines
  a macro that uses that function.
  ------------------------------------------------------------------------
  r37226 | guy | 2011-05-17 16:36:25 -0700 (Tue, 17 May 2011) | 3 lines
  Changed paths:
     M /trunk/epan/geoip_db.c

  Make some routines static that aren't used outside the source file in
  which they're defined.
  ------------------------------------------------------------------------
  r37230 | guy | 2011-05-17 17:29:48 -0700 (Tue, 17 May 2011) | 2 lines
  Changed paths:
     M /trunk/epan/oids.c

  Get rid of unused function.
  ------------------------------------------------------------------------
  r37236 | guy | 2011-05-18 00:20:45 -0700 (Wed, 18 May 2011) | 3 lines
  Changed paths:
     M /trunk/epan/proto.c

  You cannot just make the "len" field of a GByteArray larger, if there's
  no data to back that length; you can only make it smaller.
  ------------------------------------------------------------------------

------------------------------------------------------------------------
r37399 | gerald | 2011-05-25 14:32:13 -0700 (Wed, 25 May 2011) | 137 lines
Changed paths:
   M /trunk-1.6/AUTHORS
   M /trunk-1.6/CMakeLists.txt
   M /trunk-1.6/Makefile.am
   M /trunk-1.6/Makefile.nmake
   M /trunk-1.6/capture_info.c
   M /trunk-1.6/epan/dissectors/packet-dect.c
   M /trunk-1.6/epan/dissectors/packet-gsm_a_bssmap.c
   M /trunk-1.6/epan/dissectors/packet-ieee80211.c
   M /trunk-1.6/epan/dissectors/packet-smb.c
   M /trunk-1.6/epan/wslua/wslua_proto.c
   M /trunk-1.6/file.c
   M /trunk-1.6/packaging/macosx/osx-app.sh
   M /trunk-1.6/packaging/nsis/wireshark.nsi
   M /trunk-1.6/print.c
   M /trunk-1.6/print.h
   M /trunk-1.6/tshark.c

Copy over revisions from the trunk:

  ------------------------------------------------------------------------
  r37239 | morriss | 2011-05-18 08:33:07 -0700 (Wed, 18 May 2011) | 7 lines
  Changed paths:
     M /trunk/epan/wslua/wslua_proto.c

  Fix https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5930 :

  with a variant of the patch submitted by Alexander Stein on the -dev list:

  Allow FT_FRAMENUMs to be added (as base BASE_NONE).  My change from Alexander's
  patch is to disallow BASE_NONE for non-framenum integers.
  ------------------------------------------------------------------------
  r37244 | morriss | 2011-05-18 10:09:55 -0700 (Wed, 18 May 2011) | 5 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-gsm_a_bssmap.c

  Add a default (else) case in the default case for cause values to avoid passing
  a NULL string pointer to format routines.

  While we're there, update the cause list from 48.008 v10.1.0.
  ------------------------------------------------------------------------
  r37247 | morriss | 2011-05-18 10:31:48 -0700 (Wed, 18 May 2011) | 4 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-gsm_a_bssmap.c

  Finish removing tabs and fix up some indentation.

  Add a break after decoding CSData Codec Type.
  ------------------------------------------------------------------------
  r37279 | tuexen | 2011-05-18 21:56:04 -0700 (Wed, 18 May 2011) | 3 lines
  Changed paths:
     M /trunk/capture_info.c

  Fix the capture info dialog. Reset the EOF state such that the
  number get actually updated.
  ------------------------------------------------------------------------
  r37286 | guy | 2011-05-19 02:47:03 -0700 (Thu, 19 May 2011) | 11 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-smb.c

  The routines declared in packet-smb.h are defined in packet-smb.c;
  include packet-smb.h in packet-smb.c so that we check the declarations
  against the definitions.

  In query ops, info level 2 is Query EA Size, not Query EAs From List.
  In set ops, info level 2 is Set EAs, not Query EA Size.

  Expand the constants for the Trans2 subcodes to 16 bits.

  The tvb argument to dissect_find_file_unix_info2() is used.
  ------------------------------------------------------------------------
  r37298 | gerald | 2011-05-19 11:10:21 -0700 (Thu, 19 May 2011) | 26 lines
  Changed paths:
     M /trunk/CMakeLists.txt
     M /trunk/Makefile.am
     M /trunk/Makefile.nmake
     M /trunk/file.c
     M /trunk/packaging/nsis/wireshark.nsi
     A /trunk/pdml2html.xsl
     M /trunk/print.c
     M /trunk/print.h
     A /trunk/tools/colorfilters2js.pl
     M /trunk/tshark.c

  From Dirk Jagdmann via bug 5875:

  My attachment adds a link to a XSLT file to the preamble of the PDML.
  The XSLT will transform the PDML to a HTML page, and the HTML page
  features a look similar to Wireshark. See
  http://cubic.org/~doj/ebay/a.pdml for an example.

  The patch also contains a small perl program which converts the
  Wireshark colortable into javascript code which is used in the XSLT
  file. If you want to use a different color scheme you would execute the
  perl program and insert the generated javascript function into your XSLT
  file.

  To view the HTML you could either place the PDML and XSLT file on your
  webserver and verify that your webserver sends the PDML file as
  "text/xml".  Then your webbrowser will find the linked XSLT file,
  download that as well and convert the PDML to HTML on the fly.

  You could also use an XSLT processor like xsltproc to convert the PDML
  and XSLT into a static HTML file.

  From me:

  Minor fixups.
  ------------------------------------------------------------------------
  r37314 | guy | 2011-05-19 14:11:44 -0700 (Thu, 19 May 2011) | 6 lines
  Changed paths:
     M /trunk/Makefile.am

  Add pdml2html.xsl to the source tarball.

  (Can we have a macro that has everything in pkgdata_DATA except for
  COPYING, and use that macro in both the definition of pkgdata_DATA and
  EXTRA_DIST?)
  ------------------------------------------------------------------------
  r37316 | guy | 2011-05-19 19:35:05 -0700 (Thu, 19 May 2011) | 3 lines
  Changed paths:
     M /trunk/packaging/macosx/osx-app.sh

  In at least some versions of OS X SystemStarter gets cranky if the
  startup item is group-writable.
  ------------------------------------------------------------------------
  r37355 | jmayer | 2011-05-23 01:54:47 -0700 (Mon, 23 May 2011) | 1 line
  Changed paths:
     M /trunk/epan/dissectors/packet-ieee80211.c

  7.3.2.25 or 802.11-2007 gives an example of length 20, so it is unclear where the 24 came from (unintentionally fixes bug 5942)
  ------------------------------------------------------------------------
  r37370 | cmaynard | 2011-05-23 10:53:51 -0700 (Mon, 23 May 2011) | 2 lines
  Changed paths:
     M /trunk/AUTHORS
     M /trunk/epan/dissectors/packet-dect.c

  From Romain Fliedel via bug 5947: Fix the mask for extracting FMID.
  ------------------------------------------------------------------------
  r37374 | guy | 2011-05-24 09:17:43 -0700 (Tue, 24 May 2011) | 2 lines
  Changed paths:
     M /trunk/tshark.c

  Don't print hidden columns.
  ------------------------------------------------------------------------
  r37389 | alagoutte | 2011-05-25 00:15:05 -0700 (Wed, 25 May 2011) | 5 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-ieee80211.c

  From tschardt via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5949
  802.11 IE tag number 61/62 still decoded to "Unknown"/Reserved tag Number

  Remove inadvertently by me in rev36120
  ------------------------------------------------------------------------

------------------------------------------------------------------------
r37402 | gerald | 2011-05-25 14:51:00 -0700 (Wed, 25 May 2011) | 2 lines
Changed paths:
   A /trunk-1.6/pdml2html.xsl

Add pdml2html.xsl.

------------------------------------------------------------------------
r37444 | gerald | 2011-05-27 13:46:49 -0700 (Fri, 27 May 2011) | 38 lines
Changed paths:
   M /trunk-1.6/docbook/release-notes.xml
   M /trunk-1.6/epan/dissectors/packet-6lowpan.c
   M /trunk-1.6/epan/dissectors/packet-dhcpv6.c
   M /trunk-1.6/epan/dissectors/packet-sccp.c
   M /trunk-1.6/epan/dissectors/packet-sccp.h

Copy over revisions from the trunk:

  ------------------------------------------------------------------------
  r37426 | jake | 2011-05-27 00:02:26 -0700 (Fri, 27 May 2011) | 3 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-6lowpan.c

  From Colin O'Flynn:
  Avoid processing tvb when fragment dissection didn't create one.
  ------------------------------------------------------------------------
  r37439 | cmaynard | 2011-05-27 07:38:42 -0700 (Fri, 27 May 2011) | 4 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-dhcpv6.c

  When parsing OPTION_REMOTE_ID, don't modify optlen or we'll return the wrong
  number of bytes consumed.
  Fixes https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5962
  ------------------------------------------------------------------------


Copy over with manual intervention:

  ------------------------------------------------------------------------
  r37400 | morriss | 2011-05-25 14:47:35 -0700 (Wed, 25 May 2011) | 7 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-sccp.c
     M /trunk/epan/dissectors/packet-sccp.h

  Add some expert infos for unusual messages:
   - routing on SSN but the SSN is not present or is unspecified (zero)
   - message handling has an unexpected value
   - message class is incorrect for the message type

  Also clean up some indentation and other white space.
  ------------------------------------------------------------------------

Fix a typo in the release notes.

------------------------------------------------------------------------
r37463 | gerald | 2011-05-29 09:04:52 -0700 (Sun, 29 May 2011) | 1 line
Changed paths:
   M /trunk-1.6/epan/enterprise-numbers
   M /trunk-1.6/services

[Automatic manuf, services and enterprise-numbers update for 2011-05-29]
------------------------------------------------------------------------
r37489 | gerald | 2011-05-31 13:35:06 -0700 (Tue, 31 May 2011) | 73 lines
Changed paths:
   M /trunk-1.6/AUTHORS
   M /trunk-1.6/docbook/release-notes.xml
   M /trunk-1.6/epan/dissectors/packet-ssl-utils.c
   M /trunk-1.6/epan/dissectors/packet-ssl.c
   M /trunk-1.6/epan/dissectors/packet-ssl.h
   M /trunk-1.6/epan/libwireshark.def
   M /trunk-1.6/gtk/CMakeLists.txt
   M /trunk-1.6/gtk/Makefile.common
   M /trunk-1.6/gtk/menus.c
   M /trunk-1.6/image/file_dlg_win32.rc
   M /trunk-1.6/win32/file_dlg_win32.c
   M /trunk-1.6/win32/file_dlg_win32.h

Copy over revisions from the trunk:

  ------------------------------------------------------------------------
  r37401 | sake | 2011-05-25 14:49:29 -0700 (Wed, 25 May 2011) | 11 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-ssl-utils.c
     M /trunk/epan/dissectors/packet-ssl.c

  Extended the SSL key log import routine to be able to read the following format:

  RSA Session-ID:xxxx Master-Key:xxxx

  This makes it easy to use the "openssl s_client" output for decryption
  (see: http://ask.wireshark.org/questions/4229/follow-ssl-stream-using-master-key-and-session-id)

  It also paves the way for exporting SSL keyring material. See also the enhancement request in:
  https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=3444
  ------------------------------------------------------------------------
  r37446 | sake | 2011-05-28 11:17:50 -0700 (Sat, 28 May 2011) | 5 lines
  Changed paths:
     M /trunk/AUTHORS
     M /trunk/epan/dissectors/packet-ssl-utils.c
     M /trunk/epan/dissectors/packet-ssl.c
     M /trunk/epan/dissectors/packet-ssl.h
     M /trunk/epan/libwireshark.def
     M /trunk/gtk/Makefile.common
     A /trunk/gtk/export_sslkeys.c
     A /trunk/gtk/export_sslkeys.h
     M /trunk/gtk/menus.c
     M /trunk/image/file_dlg_win32.rc
     M /trunk/win32/file_dlg_win32.c
     M /trunk/win32/file_dlg_win32.h

  Add "File -> Export -> SSL Session Keys..." to be able to save the keyring info for each session in the trace file. This makes it possible to give someone the trace and the exported keys so that they can decrypt the traffic in the trace, but not new sessions to the same server.

  (See also: https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=3444)
  ------------------------------------------------------------------------
  r37447 | guy | 2011-05-28 13:55:21 -0700 (Sat, 28 May 2011) | 2 lines
  Changed paths:
     M /trunk/gtk/export_sslkeys.c

  Get rid of some warnings on Win64.
  ------------------------------------------------------------------------
  r37448 | guy | 2011-05-28 15:17:22 -0700 (Sat, 28 May 2011) | 3 lines
  Changed paths:
     M /trunk/gtk/export_sslkeys.c

  More warning squelching.  (Thank you, GLib developers, for using gulong
  rather than gsize as the second argument to the GLib snprintf routines.)
  ------------------------------------------------------------------------
  r37449 | guy | 2011-05-28 15:52:00 -0700 (Sat, 28 May 2011) | 4 lines
  Changed paths:
     M /trunk/win32/file_dlg_win32.c

  Squelch yet another warning.

  Use the ws_ "routines" (really #defines) for consistency.
  ------------------------------------------------------------------------
  r37450 | guy | 2011-05-28 17:08:27 -0700 (Sat, 28 May 2011) | 2 lines
  Changed paths:
     M /trunk/gtk/export_sslkeys.c

  Make a routine not used outside this file static.
  ------------------------------------------------------------------------
  r37457 | jmayer | 2011-05-29 01:51:04 -0700 (Sun, 29 May 2011) | 1 line
  Changed paths:
     M /trunk/gtk/CMakeLists.txt

  Rev 37446 added export_sslkeys.c
  ------------------------------------------------------------------------

Update the release notes.

------------------------------------------------------------------------
r37491 | gerald | 2011-05-31 14:18:46 -0700 (Tue, 31 May 2011) | 2 lines
Changed paths:
   A /trunk-1.6/gtk/export_sslkeys.c
   A /trunk-1.6/gtk/export_sslkeys.h

Add missing files.

------------------------------------------------------------------------
r37492 | gerald | 2011-05-31 14:19:48 -0700 (Tue, 31 May 2011) | 67 lines
Changed paths:
   M /trunk-1.6/Makefile.am
   M /trunk-1.6/Makefile.am.inc
   M /trunk-1.6/epan/Makefile.am
   M /trunk-1.6/epan/dissectors/packet-dvbci.c
   M /trunk-1.6/epan/dissectors/packet-ieee80211.c
   M /trunk-1.6/gtk/capture_dlg.c
   M /trunk-1.6/gtk/new_packet_list.c
   M /trunk-1.6/wiretap/Makefile.am
   M /trunk-1.6/wsutil/Makefile.am

Copy over revisions from the trunk:

  ------------------------------------------------------------------------
  r37427 | stig | 2011-05-27 00:38:08 -0700 (Fri, 27 May 2011) | 2 lines
  Changed paths:
     M /trunk/gtk/new_packet_list.c

  Added some row space to "Edit Column Details".
  ------------------------------------------------------------------------
  r37455 | etxrab | 2011-05-28 23:43:27 -0700 (Sat, 28 May 2011) | 4 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-dvbci.c

  From Martin Kaiser:
  DVB-CI dissector: exception in close_session_request apdus (wrong offset)

  https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5955
  ------------------------------------------------------------------------
  r37458 | alagoutte | 2011-05-29 05:16:53 -0700 (Sun, 29 May 2011) | 2 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-ieee80211.c

  Fix a wrong length when there is unknown Atheros IE Data
  ------------------------------------------------------------------------
  r37459 | alagoutte | 2011-05-29 05:51:10 -0700 (Sun, 29 May 2011) | 2 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-ieee80211.c

  Don't return offset when it is the end of Extended Capability IE (Only use break)
  ------------------------------------------------------------------------
  r37473 | tuexen | 2011-05-31 00:30:38 -0700 (Tue, 31 May 2011) | 3 lines
  Changed paths:
     M /trunk/gtk/capture_dlg.c

  Don't limit the snaplen if not reqested.
  Found by Irene Ruengeler.
  ------------------------------------------------------------------------
  r37474 | rbalint | 2011-05-31 05:07:25 -0700 (Tue, 31 May 2011) | 3 lines
  Changed paths:
     M /trunk/Makefile.am.inc
     A /trunk/abi-descriptor.template
     M /trunk/epan/Makefile.am
     M /trunk/wiretap/Makefile.am
     M /trunk/wsutil/Makefile.am

  Add dumpabi target to Makefiles in wsutil, epan and wiretap directories.
  We can use the dumped ABI description for comparing ABI changes between revisions.
  ------------------------------------------------------------------------
  r37475 | rbalint | 2011-05-31 05:09:47 -0700 (Tue, 31 May 2011) | 1 line
  Changed paths:
     M /trunk/wsutil/Makefile.am

  Fixing wrong library names in r37474
  ------------------------------------------------------------------------
  r37476 | rbalint | 2011-05-31 07:33:49 -0700 (Tue, 31 May 2011) | 2 lines
  Changed paths:
     M /trunk/Makefile.am

  Add top-level dumpabi target.
  ------------------------------------------------------------------------
  r37490 | gerald | 2011-05-31 13:45:28 -0700 (Tue, 31 May 2011) | 2 lines
  Changed paths:
     M /trunk/Makefile.am

  Add abi-descriptor.template to the distribution.
  ------------------------------------------------------------------------

------------------------------------------------------------------------
r37493 | gerald | 2011-05-31 14:21:41 -0700 (Tue, 31 May 2011) | 15 lines
Changed paths:
   M /trunk-1.6/AUTHORS
   M /trunk-1.6/docbook/release-notes.xml
   M /trunk-1.6/epan/CMakeLists.txt
   M /trunk-1.6/epan/dissectors/Makefile.common

Copy over r37487 from the trunk:

  ------------------------------------------------------------------------
  r37487 | guy | 2011-05-31 12:31:45 -0700 (Tue, 31 May 2011) | 2 lines
  Changed paths:
     M /trunk/AUTHORS
     M /trunk/epan/CMakeLists.txt
     M /trunk/epan/dissectors/Makefile.common
     A /trunk/epan/dissectors/packet-opensafety.c

  From Roland Knall: openSAFETY dissector.
  ------------------------------------------------------------------------

Update the release notes.

------------------------------------------------------------------------
r37498 | gerald | 2011-05-31 14:49:02 -0700 (Tue, 31 May 2011) | 2 lines
Changed paths:
   A /trunk-1.6/epan/dissectors/packet-opensafety.c

Add the openSAFETY dissector.

------------------------------------------------------------------------
r37499 | gerald | 2011-05-31 15:03:21 -0700 (Tue, 31 May 2011) | 2 lines
Changed paths:
   A /trunk-1.6/abi-descriptor.template

Add abi-descriptor.template.

------------------------------------------------------------------------
r37520 | etxrab | 2011-06-02 04:11:22 -0700 (Thu, 02 Jun 2011) | 1 line
Changed paths:
   M /trunk-1.6/epan/dissectors/packet-gtp.c

Copy over rev 37519  Remove extra space at end of IMSI.
------------------------------------------------------------------------
r37522 | gerald | 2011-06-02 09:59:26 -0700 (Thu, 02 Jun 2011) | 55 lines
Changed paths:
   M /trunk-1.6/NEWS
   M /trunk-1.6/epan/dissectors/packet-dtls.c
   M /trunk-1.6/epan/dissectors/packet-eapol.c
   M /trunk-1.6/epan/dissectors/packet-ieee80211.c
   M /trunk-1.6/epan/dissectors/packet-ieee80211.h
   M /trunk-1.6/epan/dissectors/packet-opensafety.c
   M /trunk-1.6/gtk/main.c

Copy over r37497 from the trunk:

  ------------------------------------------------------------------------
  r37497 | alagoutte | 2011-05-31 14:41:43 -0700 (Tue, 31 May 2011) | 8 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-eapol.c
     M /trunk/epan/dissectors/packet-ieee80211.c
     M /trunk/epan/dissectors/packet-ieee80211.h

  From Mark Phillips via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5830
  802.11 Tag WME Qos Info field is not decoded

  From me :
  * Update from Trunk
  * Make item fiterable
  ------------------------------------------------------------------------
  r37505 | tuexen | 2011-06-01 02:26:33 -0700 (Wed, 01 Jun 2011) | 3 lines
  Changed paths:
     M /trunk/gtk/main.c

  Improve handling of command line arg errors (for example "wireshark -f").
  From Irene Ruengeler.
  ------------------------------------------------------------------------
  r37511 | cmaynard | 2011-06-01 11:34:41 -0700 (Wed, 01 Jun 2011) | 2 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-dtls.c

  From Michael Chen via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5863, with some additional enhancements by me:  Add dtls heuristics.
  ------------------------------------------------------------------------
  r37521 | wmeier | 2011-06-02 07:22:19 -0700 (Thu, 02 Jun 2011) | 3 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-opensafety.c

  Fix Bug #5984: Infinite loop caused by fcn call arg conversion: guint->guint8
  https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5984
  ------------------------------------------------------------------------


Copy over r37486 with the help of Alexis:

  ------------------------------------------------------------------------
  r37486 | alagoutte | 2011-05-31 12:30:53 -0700 (Tue, 31 May 2011) | 9 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-ieee80211.c

  Enhance Vendor Specific IE (227)
  Specifically WPA/WME sub dissector
  * Rework from scratch VS WPA/WME dissector
  * Replace proto_tree_add_text/string (ugly hf_ieee80211_tag_interpretation header field...) by proto_tree_add_item
  * Make item filterable
  * and other stuff...

  Based on WMM_Specification_1-1
  ------------------------------------------------------------------------

------------------------------------------------------------------------
r37523 | gerald | 2011-06-02 10:04:56 -0700 (Thu, 02 Jun 2011) | 2 lines
Changed paths:
   M /trunk-1.6/ChangeLog
   M /trunk-1.6/version.conf

Build 1.6.0rc2.

------------------------------------------------------------------------
r37527 | gerald | 2011-06-02 15:16:14 -0700 (Thu, 02 Jun 2011) | 2 lines
Changed paths:
   M /trunk-1.6/version.conf

Switch back to prerelease stamps.

------------------------------------------------------------------------
r37531 | etxrab | 2011-06-03 05:24:22 -0700 (Fri, 03 Jun 2011) | 2 lines
Changed paths:
   M /trunk-1.6/Makefile.nmake
   M /trunk-1.6/capinfos.c
   M /trunk-1.6/dumpcap.c
   M /trunk-1.6/editcap.c
   M /trunk-1.6/gtk/main.c
   M /trunk-1.6/mergecap.c
   M /trunk-1.6/randpkt.c
   M /trunk-1.6/rawshark.c
   M /trunk-1.6/text2pcap.c
   M /trunk-1.6/tshark.c
   M /trunk-1.6/wsutil/Makefile.nmake
   M /trunk-1.6/wsutil/libwsutil.def
   M /trunk-1.6/wsutil/unicode-utils.c
   M /trunk-1.6/wsutil/unicode-utils.h

Copy over revision 37372.
Move the Windows argument list conversion code to a common routine.
------------------------------------------------------------------------
r37532 | etxrab | 2011-06-03 06:59:02 -0700 (Fri, 03 Jun 2011) | 1 line
Changed paths:
   M /trunk-1.6/wsutil/Makefile.am

Copy over 37396 Filter out arg_list_utf_16to8.
------------------------------------------------------------------------
r37549 | gerald | 2011-06-05 09:05:02 -0700 (Sun, 05 Jun 2011) | 1 line
Changed paths:
   M /trunk-1.6/epan/enterprise-numbers
   M /trunk-1.6/services

[Automatic manuf, services and enterprise-numbers update for 2011-06-05]
------------------------------------------------------------------------
r37572 | gerald | 2011-06-06 09:39:23 -0700 (Mon, 06 Jun 2011) | 153 lines
Changed paths:
   M /trunk-1.6/AUTHORS
   M /trunk-1.6/Makefile.am.inc
   M /trunk-1.6/asn1/snmp/packet-snmp-template.c
   M /trunk-1.6/config.nmake
   M /trunk-1.6/editcap.c
   M /trunk-1.6/epan/Makefile.am
   M /trunk-1.6/epan/dissectors/packet-dtls.c
   M /trunk-1.6/epan/dissectors/packet-ieee80211.c
   M /trunk-1.6/epan/dissectors/packet-snmp.c
   M /trunk-1.6/gtk/rtp_stream_dlg.c
   M /trunk-1.6/wiretap/5views.h
   M /trunk-1.6/wiretap/Makefile.am
   M /trunk-1.6/wiretap/airopeek9.h
   M /trunk-1.6/wiretap/ascend-int.h
   M /trunk-1.6/wiretap/ascendtext.h
   M /trunk-1.6/wiretap/atm.h
   M /trunk-1.6/wiretap/ber.h
   M /trunk-1.6/wiretap/btsnoop.h
   M /trunk-1.6/wiretap/buffer.h
   M /trunk-1.6/wiretap/catapult_dct2000.h
   M /trunk-1.6/wiretap/commview.h
   M /trunk-1.6/wiretap/cosine.h
   M /trunk-1.6/wiretap/csids.h
   M /trunk-1.6/wiretap/daintree-sna.h
   M /trunk-1.6/wiretap/dbs-etherwatch.h
   M /trunk-1.6/wiretap/dct3trace.h
   M /trunk-1.6/wiretap/erf.h
   M /trunk-1.6/wiretap/etherpeek.h
   M /trunk-1.6/wiretap/eyesdn.h
   M /trunk-1.6/wiretap/file_wrappers.h
   M /trunk-1.6/wiretap/hcidump.h
   M /trunk-1.6/wiretap/i4b_trace.h
   M /trunk-1.6/wiretap/i4btrace.h
   M /trunk-1.6/wiretap/ipfix.h
   M /trunk-1.6/wiretap/iptrace.h
   M /trunk-1.6/wiretap/iseries.h
   M /trunk-1.6/wiretap/jpeg_jfif.h
   M /trunk-1.6/wiretap/k12.h
   M /trunk-1.6/wiretap/lanalyzer.h
   M /trunk-1.6/wiretap/libpcap.h
   M /trunk-1.6/wiretap/mpeg.h
   M /trunk-1.6/wiretap/netmon.h
   M /trunk-1.6/wiretap/netscaler.h
   M /trunk-1.6/wiretap/netscreen.h
   M /trunk-1.6/wiretap/nettl.h
   M /trunk-1.6/wiretap/network_instruments.h
   M /trunk-1.6/wiretap/netxray.h
   M /trunk-1.6/wiretap/ngsniffer.h
   M /trunk-1.6/wiretap/packetlogger.h
   M /trunk-1.6/wiretap/pcap-common.h
   M /trunk-1.6/wiretap/pcap-encap.h
   M /trunk-1.6/wiretap/pcapng.h
   M /trunk-1.6/wiretap/pppdump.h
   M /trunk-1.6/wiretap/radcom.h
   M /trunk-1.6/wiretap/snoop.h
   M /trunk-1.6/wiretap/tnef.h
   M /trunk-1.6/wiretap/toshiba.h
   M /trunk-1.6/wiretap/visual.h
   M /trunk-1.6/wiretap/vms.h
   M /trunk-1.6/wiretap/wtap-int.h
   M /trunk-1.6/wiretap/wtap.c
   M /trunk-1.6/wiretap/wtap.h
   M /trunk-1.6/wsutil/Makefile.am

Copy over revisions from the trunk:

  ------------------------------------------------------------------------
  r37479 | cmaynard | 2011-05-31 08:27:48 -0700 (Tue, 31 May 2011) | 2 lines
  Changed paths:
     M /trunk/wiretap/wtap-int.h
     M /trunk/wiretap/wtap.c
     M /trunk/wiretap/wtap.h

  Declare the snapshot_length as unsigned.
  ------------------------------------------------------------------------
  r37480 | cmaynard | 2011-05-31 08:31:34 -0700 (Tue, 31 May 2011) | 4 lines
  Changed paths:
     M /trunk/editcap.c

  When a snaplen is specified using "-s <snaplen", if it's smaller than the
  original capture file's snaplen, save the new snaplen in the capture file
  header so wireshark and capinfos can report it.
  ------------------------------------------------------------------------
  r37524 | cmaynard | 2011-06-02 10:12:13 -0700 (Thu, 02 Jun 2011) | 3 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-dtls.c

  From Michael Chen via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5983:
  Use offset instead of fragment_offset for boundary check.
  ------------------------------------------------------------------------
  r37530 | alagoutte | 2011-06-02 23:47:23 -0700 (Thu, 02 Jun 2011) | 3 lines
  Changed paths:
     M /trunk/epan/dissectors/packet-ieee80211.c

  From Mark Phillips via https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5830
  Fix a minor typo about bitmask of a reserved field.
  ------------------------------------------------------------------------
  r37538 | rbalint | 2011-06-04 07:23:49 -0700 (Sat, 04 Jun 2011) | 2 lines
  Changed paths:
     M /trunk/epan/Makefile.am

  Dump ABI using all header files related to libwireshark
  ------------------------------------------------------------------------
  r37540 | rbalint | 2011-06-04 09:44:37 -0700 (Sat, 04 Jun 2011) | 2 lines
  Changed paths:
     M /trunk/epan/Makefile.am
     M /trunk/wiretap/Makefile.am
     M /trunk/wsutil/Makefile.am

  Reorganize dumpabi targets to keep temporary files
  ------------------------------------------------------------------------
  r37543 | rbalint | 2011-06-04 14:20:57 -0700 (Sat, 04 Jun 2011) | 2 lines
  Changed paths:
     M /trunk/wiretap/5views.h
     M /trunk/wiretap/airopeek9.h
     M /trunk/wiretap/ascend-int.h
     M /trunk/wiretap/ascendtext.h
     M /trunk/wiretap/atm.h
     M /trunk/wiretap/ber.h
     M /trunk/wiretap/btsnoop.h
     M /trunk/wiretap/buffer.h
     M /trunk/wiretap/catapult_dct2000.h
     M /trunk/wiretap/commview.h
     M /trunk/wiretap/cosine.h
     M /trunk/wiretap/csids.h
     M /trunk/wiretap/daintree-sna.h
     M /trunk/wiretap/dbs-etherwatch.h
     M /trunk/wiretap/dct3trace.h
     M /trunk/wiretap/erf.h
     M /trunk/wiretap/etherpeek.h
     M /trunk/wiretap/eyesdn.h
     M /trunk/wiretap/file_wrappers.h
     M /trunk/wiretap/hcidump.h
     M /trunk/wiretap/i4b_trace.h
     M /trunk/wiretap/i4btrace.h
     M /trunk/wiretap/ipfix.h
     M /trunk/wiretap/iptrace.h
     M /trunk/wiretap/iseries.h
     M /trunk/wiretap/jpeg_jfif.h
     M /trunk/wiretap/k12.h
     M /trunk/wiretap/lanalyzer.h
     M /trunk/wiretap/libpcap.h
     M /trunk/wiretap/mpeg.h
     M /trunk/wiretap/netmon.h
     M /trunk/wiretap/netscaler.h
     M /trunk/wiretap/netscreen.h
     M /trunk/wiretap/nettl.h
     M /trunk/wiretap/network_instruments.h
     M /trunk/wiretap/netxray.h
     M /trunk/wiretap/ngsniffer.h
     M /trunk/wiretap/packetlogger.h
     M /trunk/wiretap/pcap-common.h
     M /trunk/wiretap/pcap-encap.h
     M /trunk/wiretap/pcapng.h
     M /trunk/wiretap/pppdump.h
     M /trunk/wiretap/radcom.h
     M /trunk/wiretap/snoop.h
     M /trunk/wiretap/tnef.h
     M /trunk/wiretap/toshiba.h
     M /trunk/wiretap/visual.h
     M /trunk/wiretap/vms.h
     M /trunk/wiretap/wtap-int.h
     M /trunk/wiretap/wtap.h

  Fix wiretap headers to allow error-free ABI dumping.
  ------------------------------------------------------------------------
  r37544 | rbalint | 2011-06-04 14:29:13 -0700 (Sat, 04 Jun 2011) | 2 lines
  Changed paths:
     M /trunk/Makefile.am.inc

  Use more include dirs for ABI dumping to make preprocessor happier.
  ------------------------------------------------------------------------
  r37550 | etxrab | 2011-06-05 09:33:00 -0700 (Sun, 05 Jun 2011) | 3 lines
  Changed paths:
     M /trunk/gtk/rtp_stream_dlg.c

  wrong sort of column “Packets” in “RTP Streams” window.

  https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5988
  ------------------------------------------------------------------------
  r37554 | darkjames | 2011-06-05 12:35:36 -0700 (Sun, 05 Jun 2011) | 2 lines
  Changed paths:
     M /trunk/gtk/rtp_stream_dlg.c

  Fix memleaks and sigsegv when coping to clipboard RTP Streams.
  ------------------------------------------------------------------------
  r37558 | etxrab | 2011-06-05 13:12:44 -0700 (Sun, 05 Jun 2011) | 10 lines
  Changed paths:
     M /trunk/asn1/snmp/packet-snmp-template.c
     M /trunk/epan/dissectors/packet-snmp.c

  From Sean Van Gorder:
  When Wireshark attempts to read an SNMP packet with a variable-bindings item
  with an OID containing an index string which includes an entry of type
  "Unsigned32", Wireshark will stop dissecting the packet at this index entry and
  end with the error:

  [Dissector bug, protocol SNMP: proto.c:2761: failed assertion
  "DISSECTOR_ASSERT_NOT_REACHED"]

  https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=5883
  ------------------------------------------------------------------------


Copy over by hand:

  ------------------------------------------------------------------------
  r37525 | cmaynard | 2011-06-02 10:19:38 -0700 (Thu, 02 Jun 2011) | 2 lines
  Changed paths:
     M /trunk/AUTHORS

  Add Michael Chen for his contributions to DTLS.
  ------------------------------------------------------------------------


Update the wiretap DLL version.

------------------------------------------------------------------------
r37578 | gerald | 2011-06-06 14:04:25 -0700 (Mon, 06 Jun 2011) | 2 lines
Changed paths:
   M /trunk-1.6/docbook/developer-guide.xml

Bump the version.

------------------------------------------------------------------------
r37579 | gerald | 2011-06-06 14:06:03 -0700 (Mon, 06 Jun 2011) | 2 lines
Changed paths:
   M /trunk-1.6/epan/Makefile.am
   M /trunk-1.6/wiretap/Makefile.am
   M /trunk-1.6/wsutil/Makefile.am

Bump the library version.

------------------------------------------------------------------------
r37580 | gerald | 2011-06-06 14:06:39 -0700 (Mon, 06 Jun 2011) | 2 lines
Changed paths:
   M /trunk-1.6/config.nmake

Match the non-Windows library version.

------------------------------------------------------------------------
r37581 | gerald | 2011-06-06 14:34:34 -0700 (Mon, 06 Jun 2011) | 2 lines
Changed paths:
   M /trunk-1.6/capture_opts.c

Make sure our interface description is set.

------------------------------------------------------------------------
r37583 | gerald | 2011-06-06 14:58:15 -0700 (Mon, 06 Jun 2011) | 34 lines
Changed paths:
   M /trunk-1.6/docbook/release-notes.xml
   M /trunk-1.6/gtk/main_airpcap_toolbar.c
   M /trunk-1.6/tap-iostat.c

Copy over revisions from the trunk:

  ------------------------------------------------------------------------
  r37564 | stig | 2011-06-06 01:33:33 -0700 (Mon, 06 Jun 2011) | 3 lines
  Changed paths:
     M /trunk/gtk/main_airpcap_toolbar.c

  From Roland Knall via bug 5996:
  Corrected old-style function definition.
  ------------------------------------------------------------------------
  r37568 | etxrab | 2011-06-06 06:34:53 -0700 (Mon, 06 Jun 2011) | 1 line
  Changed paths:
     M /trunk/tap-iostat.c

  Make the windows builds work again.
  ------------------------------------------------------------------------


Copy over with manual intervention:

  ------------------------------------------------------------------------
  r37567 | sahlberg | 2011-06-06 03:34:51 -0700 (Mon, 06 Jun 2011) | 9 lines
  Changed paths:
     M /trunk/tap-iostat.c

  Add support for LOAD() calculations to tshark too just like I incorrectly
  stated it had at SNIA years ago.


  Example :
  tshark -n -r ../captures/smbwrite.cap
    -z "io,stat,0.001,LOAD(smb.time)smb.time" -q
  ------------------------------------------------------------------------

------------------------------------------------------------------------
r37585 | gerald | 2011-06-06 15:50:28 -0700 (Mon, 06 Jun 2011) | 2 lines
Changed paths:
   M /trunk-1.6/ChangeLog

Update the ChangeLog.

------------------------------------------------------------------------
r37586 | etxrab | 2011-06-06 23:20:37 -0700 (Mon, 06 Jun 2011) | 39 lines
Changed paths:
   M /trunk-1.6/asn1/ansi_map/packet-ansi_map-template.c
   M /trunk-1.6/asn1/gsm_map/gsm_map.cnf
   M /trunk-1.6/epan/dissectors/packet-aim-messaging.c
   M /trunk-1.6/epan/dissectors/packet-ansi_637.c
   M /trunk-1.6/epan/dissectors/packet-ansi_map.c
   M /trunk-1.6/epan/dissectors/packet-dcm.c
   M /trunk-1.6/epan/dissectors/packet-etch.c
   M /trunk-1.6/epan/dissectors/packet-gsm_map.c
   M /trunk-1.6/epan/dissectors/packet-gsm_sms.c
   M /trunk-1.6/epan/dissectors/packet-http.c
   M /trunk-1.6/epan/dissectors/packet-infiniband.c
   M /trunk-1.6/epan/dissectors/packet-lsc.c
   M /trunk-1.6/epan/dissectors/packet-ntlmssp.c
   M /trunk-1.6/epan/dissectors/packet-sebek.c
   M /trunk-1.6/epan/dissectors/packet-smb.c
   M /trunk-1.6/epan/dissectors/packet-smpp.c

Copy over revisions from the trunk:

------------------------------------------------------------------------
User: morriss
Date: 2011/05/18 01:06 PM

Log:
 Fix a couple (value) mistakes in value_strings.  Found by Martin's patch on the -dev list.

Directory: /trunk/asn1/ansi_map/
  Changes    Path                          Action
  +5 -5      packet-ansi_map-template.c    Modified

Directory: /trunk/epan/dissectors/
  Changes    Path                 Action
  +6 -6      packet-ansi_map.c    Modified
------------------------------------------------------------------------
http://anonsvn.wireshark.org/viewvc/viewvc.cgi?view=rev&revision=37420

User: morriss
Date: 2011/05/26 06:57 PM

Log:
 Treat TVBs as opaque: use the accessor functions instead of accessing the fields
 directly.

Directory: /trunk/epan/dissectors/
  Changes    Path                      Action
  +43 -43    packet-aim-messaging.c    Modified
  +1 -1      packet-ansi_637.c         Modified
  +7 -6      packet-dcm.c              Modified
  +1 -1      packet-etch.c             Modified
  +58 -58    packet-gsm_map.c          Modified
  +5 -3      packet-gsm_sms.c          Modified
  +2 -2      packet-http.c             Modified
  +2 -2      packet-infiniband.c       Modified
  +18 -18    packet-lsc.c              Modified
  +1 -1      packet-ntlmssp.c          Modified
  +2 -2      packet-sebek.c            Modified
------------------------------------------------------------------------
